/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],[function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1048)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1048:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1006)],void 0===(l="function"==typeof(r=function(){return function(e,t,n){var r,o=t.kendo=t.kendo||{cultures:{}},l=e.extend,h=e.each,d=e.isArray,f=e.proxy,m=e.noop,v=Math,_=t.JSON||{},w={},y=/%/,x=/\{(\d+)(:[^\}]+)?\}/g,k=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,C=/^(\+|-?)\d+(\.?)\d*$/,S="function",T="string",D="number",E="object",A="null",I="boolean",M="undefined",R={},F={},P=[].slice,z=function(){var e,t,r,o,l,h,d=arguments[0]||{},i=1,f=arguments.length,m=!1;for("boolean"==typeof d&&(m=d,d=arguments[i]||{},i++),"object"==typeof d||c.isFunction(d)||(d={}),i===f&&(d=this,i--);i<f;i++)if(null!=(l=arguments[i]))for(o in l)"filters"!=o&&"concat"!=o&&":"!=o&&(e=d[o],d!==(r=l[o])&&(m&&r&&(c.isPlainObject(r)||(t=c.isArray(r)))?(t?(t=!1,h=e&&c.isArray(e)?e:[]):h=e&&c.isPlainObject(e)?e:{},d[o]=z(m,h,r)):r!==n&&(d[o]=r)));return d};function B(){}o.version="2019.3.1113".replace(/^\s+|\s+$/g,""),B.extend=function(e){var t,n,base=function(){},r=this,o=e&&e.init?e.init:function(){r.apply(this,arguments)};for(t in base.prototype=r.prototype,n=o.fn=o.prototype=new base,e)null!=e[t]&&e[t].constructor===Object?n[t]=l(!0,{},base.prototype[t],e[t]):n[t]=e[t];return n.constructor=o,o.extend=r.extend,o},B.prototype._initOptions=function(e){this.options=J({},this.options,e)};var L=o.isFunction=function(e){return"function"==typeof e},H=function(){this._defaultPrevented=!0},N=function(){return!0===this._defaultPrevented},O=B.extend({init:function(){this._events={}},bind:function(e,t,r){var o,l,c,h,d=this,f=typeof e===T?[e]:e,m=typeof t===S;if(t===n){for(o in e)d.bind(o,e[o]);return d}for(o=0,l=f.length;o<l;o++)e=f[o],(h=m?t:t[e])&&(r&&(c=h,(h=function(){d.unbind(e,h),c.apply(d,arguments)}).original=c),(d._events[e]=d._events[e]||[]).push(h));return d},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,r,o,l=typeof e===T?[e]:e,c=typeof t===S;for(n=0,r=l.length;n<r;n++)e=l[n],(o=c?t:t[e])&&(this._events[e]=this._events[e]||[]).unshift(o);return this},trigger:function(e,t){var n,r,o=this._events[e];if(o){for((t=t||{}).sender=this,t._defaultPrevented=!1,t.preventDefault=H,t.isDefaultPrevented=N,n=0,r=(o=o.slice()).length;n<r;n++)o[n].call(this,t);return!0===t._defaultPrevented}return!1},unbind:function(e,t){var r,o=this._events[e];if(e===n)this._events={};else if(o)if(t)for(r=o.length-1;r>=0;r--)o[r]!==t&&o[r].original!==t||o.splice(r,1);else this._events[e]=[];return this}});function V(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return"="===n?"+("+r+")+":":"===n?"+$kendoHtmlEncode("+r+")+":";"+e+";$kendoOutput+="}var W=/^\w+/,U=/\$\{([^}]*)\}/g,j=/\\\}/g,G=/__CURLY__/g,$=/\\#/g,Y=/__SHARP__/g,K=["","0","00","000","0000"];function Q(e,t,n){return(n=(t=t||2)-(e+="").length)?K[t].substring(0,n)+e:e}function X(element,e){var t=o._outerWidth,n=o._outerHeight,r=element.parent(".k-animation-container"),l=r[0].style;r.is(":hidden")&&r.css({display:"",position:""}),y.test(l.width)||y.test(l.height)||r.css({width:e?t(element)+1:t(element),height:n(element),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function J(e){var i=1,t=arguments.length;for(i=1;i<t;i++)Z(e,arguments[i]);return e}function Z(e,source){var n,r,l,c,h,d=o.data.ObservableArray,f=o.data.LazyObservableArray,m=o.data.DataSource,v=o.data.HierarchicalDataSource;for(n in source)!(c=(l=typeof(r=source[n]))===E&&null!==r?r.constructor:null)||c===Array||c===d||c===f||c===m||c===v||c===RegExp||o.isFunction(t.ArrayBuffer)&&c===ArrayBuffer?l!==M&&(e[n]=r):r instanceof Date?e[n]=new Date(r.getTime()):L(r.clone)?e[n]=r.clone():(h=e[n],e[n]=typeof h===E&&h||{},Z(e[n],r));return e}function ee(e,t,r){for(var o in t)if(t.hasOwnProperty(o)&&t[o].test(e))return o;return r!==n?r:e}function te(e){return e.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}))}function ie(element,t){var n,r={};return document.defaultView&&document.defaultView.getComputedStyle?(n=document.defaultView.getComputedStyle(element,""),t&&e.each(t,(function(e,t){r[t]=n.getPropertyValue(t)}))):(n=element.currentStyle,t&&e.each(t,(function(e,t){r[t]=n[te(t)]}))),o.size(r)||(r=n),r}r={paramName:"data",useWithBlock:!0,render:function(template,data){var e,t,html="";for(e=0,t=data.length;e<t;e++)html+=template(data[e]);return html},compile:function(template,e){var t,n,r,c=l({},this,e),h=c.paramName,d=h.match(W)[0],f=c.useWithBlock,m="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(L(template))return template;for(m+=f?"with("+h+"){":"",m+="$kendoOutput=",n=template.replace(j,"__CURLY__").replace(U,"#=$kendoHtmlEncode($1)#").replace(G,"}").replace($,"__SHARP__").split("#"),r=0;r<n.length;r++)m+=V(n[r],r%2==0);m+=f?";}":";",m=(m+="return $kendoOutput;").replace(Y,"#");try{return(t=new Function(d,m))._slotCount=Math.floor(n.length/2),t}catch(e){throw new Error(o.format("Invalid template:'{0}' Generated code:'{1}'",template,m))}}},function(){var e,t,n,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o={}.toString;function l(e){return r.lastIndex=0,r.test(e)?'"'+e.replace(r,(function(a){var e=meta[a];return typeof e===T?e:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}typeof Date.prototype.toJSON!==S&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?Q(this.getUTCFullYear(),4)+"-"+Q(this.getUTCMonth()+1)+"-"+Q(this.getUTCDate())+"T"+Q(this.getUTCHours())+":"+Q(this.getUTCMinutes())+":"+Q(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof _.stringify!==S&&(_.stringify=function(r,c,h){var i;if(e="",t="",typeof h===D)for(i=0;i<h;i+=1)t+=" ";else typeof h===T&&(t=h);if(n=c,c&&typeof c!==S&&(typeof c!==E||typeof c.length!==D))throw new Error("JSON.stringify");return function r(c,h){var i,d,f,m,v,_,w=e,y=h[c];if(y&&typeof y===E&&typeof y.toJSON===S&&(y=y.toJSON(c)),typeof n===S&&(y=n.call(h,c,y)),(_=typeof y)===T)return l(y);if(_===D)return isFinite(y)?String(y):A;if(_===I||_===A)return String(y);if(_===E){if(!y)return A;if(e+=t,v=[],"[object Array]"===o.apply(y)){for(m=y.length,i=0;i<m;i++)v[i]=r(i,y)||A;return f=0===v.length?"[]":e?"[\n"+e+v.join(",\n"+e)+"\n"+w+"]":"["+v.join(",")+"]",e=w,f}if(n&&typeof n===E)for(m=n.length,i=0;i<m;i++)typeof n[i]===T&&(f=r(d=n[i],y))&&v.push(l(d)+(e?": ":":")+f);else for(d in y)Object.hasOwnProperty.call(y,d)&&(f=r(d,y))&&v.push(l(d)+(e?": ":":")+f);return f=0===v.length?"{}":e?"{\n"+e+v.join(",\n"+e)+"\n"+w+"}":"{"+v.join(",")+"}",e=w,f}}("",{"":r})})}(),function(){var t=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,r=/^(n|c|p|e)(\d*)$/i,l=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,c=/\,/g,h="",d=".",f=",",m="#",_="0",w="??",y="en-US",k={}.toString;function C(e){if(e){if(e.numberFormat)return e;if(typeof e===T){var t=o.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function S(e){return e&&(e=C(e)),e||o.cultures.current}o.cultures["en-US"]={name:y,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},o.culture=function(e){var t,r=o.cultures;if(e===n)return r.current;(t=C(e)||r[y]).calendar=t.calendars.standard,r.current=t},o.findCulture=C,o.getCulture=S,o.culture(y);var E=function(e,t,r,o){var l,c,h,m,v,_,w=e.indexOf(o[d]),y=o.groupSize.slice(),x=y.shift();if(r=-1!==w?w:r+1,(c=(l=e.substring(t,r)).length)>=x){for(h=c,m=[];h>-1;)if((v=l.substring(h-x,h))&&m.push(v),h-=x,0===(x=(_=y.shift())!==n?_:x)){h>0&&m.push(l.substring(0,h));break}l=m.reverse().join(o[f]),e=e.substring(0,t)+l+e.substring(r)}return e},A=function(e,t,n){return t=t||0,e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),n&&(e=-e),(e=+((e=e.toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(Math.min(t,20))},I=function(e,o,y){if(o){if("[object Date]"===k.call(e))return function(e,r,o){var l=(o=S(o)).calendars.standard,c=l.days,h=l.months;return(r=l.patterns[r]||r).replace(t,(function(t){var r,o,d;return"d"===t?o=e.getDate():"dd"===t?o=Q(e.getDate()):"ddd"===t?o=c.namesAbbr[e.getDay()]:"dddd"===t?o=c.names[e.getDay()]:"M"===t?o=e.getMonth()+1:"MM"===t?o=Q(e.getMonth()+1):"MMM"===t?o=h.namesAbbr[e.getMonth()]:"MMMM"===t?o=h.names[e.getMonth()]:"yy"===t?o=Q(e.getFullYear()%100):"yyyy"===t?o=Q(e.getFullYear(),4):"h"===t?o=e.getHours()%12||12:"hh"===t?o=Q(e.getHours()%12||12):"H"===t?o=e.getHours():"HH"===t?o=Q(e.getHours()):"m"===t?o=e.getMinutes():"mm"===t?o=Q(e.getMinutes()):"s"===t?o=e.getSeconds():"ss"===t?o=Q(e.getSeconds()):"f"===t?o=v.floor(e.getMilliseconds()/100):"ff"===t?((o=e.getMilliseconds())>99&&(o=v.floor(o/10)),o=Q(o)):"fff"===t?o=Q(e.getMilliseconds(),3):"tt"===t?o=e.getHours()<12?l.AM[0]:l.PM[0]:"zzz"===t?(d=(r=e.getTimezoneOffset())<0,o=v.abs(r/60).toString().split(".")[0],r=v.abs(r)-60*o,o=(d?"+":"-")+Q(o),o+=":"+Q(r)):"zz"!==t&&"z"!==t||(d=(o=e.getTimezoneOffset()/60)<0,o=v.abs(o).toString().split(".")[0],o=(d?"+":"-")+("zz"===t?Q(o):o)),o!==n?o:t.slice(1,t.length-1)}))}(e,o,y);if(typeof e===D)return function(e,t,o){var symbol,v,y,x,k,C,T,D,I,M,R,F,P,z,B,L,H,N,O,V,W=(o=S(o)).numberFormat,U=W[d],j=W.decimals,pattern=W.pattern[0],G=[],$=e<0,Y=h,K=h,Q=-1;if(e===n)return h;if(!isFinite(e))return e;if(!t)return o.name.length?e.toLocaleString():e.toString();if(k=r.exec(t)){if(y="p"===(t=k[1].toLowerCase()),((v="c"===t)||y)&&(U=(W=v?W.currency:W.percent)[d],j=W.decimals,symbol=W.symbol,pattern=W.pattern[$?0:1]),(x=k[2])&&(j=+x),"e"===t)return(x?e.toExponential(j):e.toExponential()).replace(d,W[d]);if(y&&(e*=100),$=(e=A(e,j))<0,C=(e=e.split(d))[0],T=e[1],$&&(C=C.substring(1)),K=E(C,0,C.length,W),T&&(K+=U+T),"n"===t&&!$)return K;for(e=h,I=0,M=pattern.length;I<M;I++)e+="n"===(R=pattern.charAt(I))?K:"$"===R||"%"===R?symbol:R;return e}if((t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)&&(t=t.replace(l,(function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return G.push(n),w}))),t=t.split(";"),$&&t[1])t=t[1],P=!0;else if(0===e&&t[2]){if(-1==(t=t[2]).indexOf(m)&&-1==t.indexOf(_))return t}else t=t[0];if((y=-1!=t.indexOf("%"))&&(e*=100),(v=-1!=(O=t.indexOf("$")))&&"\\"===t[O-1]&&(t=t.split("\\").join(""),v=!1),(v||y)&&(U=(W=v?W.currency:W.percent)[d],j=W.decimals,symbol=W.symbol),(F=t.indexOf(f)>-1)&&(t=t.replace(c,h)),z=t.indexOf(d),M=t.length,-1!=z)if(T=(T=(T=e.toString().split("e"))[1]?A(e,Math.abs(T[1])):T[0]).split(d)[1]||h,H=(L=t.lastIndexOf(_)-z)>-1,N=(B=t.lastIndexOf(m)-z)>-1,I=T.length,H||N||(M=(t=t.substring(0,z)+t.substring(z+1)).length,z=-1,I=0),H&&L>B)I=L;else if(B>L)if(N&&I>B){for(var X=A(e,B,$);X.charAt(X.length-1)===_&&B>0&&B>L;)B--,X=A(e,B,$);I=B}else H&&I<L&&(I=L);if(e=A(e,I,$),B=t.indexOf(m),L=t.indexOf(_),Q=-1==B&&-1!=L?L:-1!=B&&-1==L?B:B>L?L:B,B=t.lastIndexOf(m),L=t.lastIndexOf(_),V=-1==B&&-1!=L?L:-1!=B&&-1==L?B:B>L?B:L,Q==M&&(V=Q),-1!=Q){for(C=(K=e.toString().split(d))[0],T=K[1]||h,D=C.length,T.length,$&&-1*e>=0&&($=!1),e=t.substring(0,Q),$&&!P&&(e+="-"),I=Q;I<M;I++){if(R=t.charAt(I),-1==z){if(V-I<D){e+=C;break}}else if(-1!=L&&L<I&&(Y=h),z-I<=D&&z-I>-1&&(e+=C,I=z),z===I){e+=(T?U:h)+T,I+=V-z+1;continue}R===_?(e+=R,Y=R):R===m&&(e+=Y)}if(F&&(e=E(e,Q+($&&!P?1:0),Math.max(V,D+Q),W)),V>=Q&&(e+=t.substring(V+1)),v||y){for(K=h,I=0,M=e.length;I<M;I++)K+="$"===(R=e.charAt(I))||"%"===R?symbol:R;e=K}if(M=G.length)for(I=0;I<M;I++)e=e.replace(w,G[I])}return e}(e,o,y)}return e!==n?e:""};o.format=function(e){var t=arguments;return e.replace(x,(function(e,n,r){var o=t[parseInt(n,10)+1];return I(o,r?r.substring(1):"")}))},o._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},o._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},o._round=A,o._outerWidth=function(element,t){return e(element).outerWidth(t||!1)||0},o._outerHeight=function(element,t){return e(element).outerHeight(t||!1)||0},o.toString=I}(),function(){var t=/\u00A0/g,r=/[eE][\-+]?[0-9]+/,l=/[+|\-]\d{1,2}/,c=/[+|\-]\d{1,2}:?\d{2}/,h=/^\/Date\((.*?)\)\/$/,f=/[+-]\d*/,m=[[],["G","g","F"],["D","d","y","m","T","t"]],_=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],w={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},y={}.toString;function x(e,t,n){return!(e>=t&&e<=n)}function k(e){return e.charAt(0)}function C(t){return e.map(t,k)}function S(data){for(var e=0,t=data.length,n=[];e<t;e++)n[e]=(data[e]+"").toLowerCase();return n}function T(e){var t,n={};for(t in e)n[t]=S(e[t]);return n}function E(e,t,r,h){if(!e)return null;var d,f,m,pattern,v,_,y,k,S,D,E,A,I=function(e){for(var i=0;t[W]===e;)i++,W++;return i>0&&(W-=1),i},M=function(t){var n=w[t]||new RegExp("^\\d{1,"+t+"}"),r=e.substr(U,t).match(n);return r?(r=r[0],U+=r.length,parseInt(r,10)):null},R=function(t,n){for(var r,o,l,i=0,c=t.length,h=0,d=0;i<c;i++)o=(r=t[i]).length,l=e.substr(U,o),n&&(l=l.toLowerCase()),l==r&&o>h&&(h=o,d=i);return h?(U+=h,d+1):null},F=function(){var n=!1;return e.charAt(U)===t[W]&&(U++,n=!0),n},P=r.calendars.standard,z=null,B=null,L=null,H=null,N=null,O=null,V=null,W=0,U=0,j=!1,G=new Date,$=P.twoDigitYearMax||2029,Y=G.getFullYear();for(t||(t="d"),(pattern=P.patterns[t])&&(t=pattern),m=(t=t.split("")).length;W<m;W++)if(d=t[W],j)"'"===d?j=!1:F();else if("d"===d){if(f=I("d"),P._lowerDays||(P._lowerDays=T(P.days)),null!==L&&f>2)continue;if(null===(L=f<3?M(2):R(P._lowerDays[3==f?"namesAbbr":"names"],!0))||x(L,1,31))return null}else if("M"===d){if(f=I("M"),P._lowerMonths||(P._lowerMonths=T(P.months)),null===(B=f<3?M(2):R(P._lowerMonths[3==f?"namesAbbr":"names"],!0))||x(B,1,12))return null;B-=1}else if("y"===d){if(null===(z=M(f=I("y"))))return null;2==f&&("string"==typeof $&&($=Y+parseInt($,10)),(z=Y-Y%100+z)>$&&(z-=100))}else if("h"===d){if(I("h"),12==(H=M(2))&&(H=0),null===H||x(H,0,11))return null}else if("H"===d){if(I("H"),null===(H=M(2))||x(H,0,23))return null}else if("m"===d){if(I("m"),null===(N=M(2))||x(N,0,59))return null}else if("s"===d){if(I("s"),null===(O=M(2))||x(O,0,59))return null}else if("f"===d){if(f=I("f"),A=e.substr(U,f).match(w[3]),null!==(V=M(f))&&(V=parseFloat("0."+A[0],10),V=o._round(V,3),V*=1e3),null===V||x(V,0,999))return null}else if("t"===d){if(f=I("t"),k=P.AM,S=P.PM,1===f&&(k=C(k),S=C(S)),!(v=R(S))&&!R(k))return null}else if("z"===d){if(_=!0,f=I("z"),"Z"===e.substr(U,1)){F();continue}if(!(y=e.substr(U,6).match(f>2?c:l)))return null;if(D=(y=y[0].split(":"))[0],!(E=y[1])&&D.length>3&&(U=D.length-2,E=D.substring(U),D=D.substring(0,U)),x(D=parseInt(D,10),-12,13))return null;if(f>2&&(E=y[0][0]+E,E=parseInt(E,10),isNaN(E)||x(E,-59,59)))return null}else if("'"===d)j=!0,F();else if(!F())return null;return h&&!/^\s*$/.test(e.substr(U))?null:(null!==z||null!==B||null!==L||null===H&&null===N&&!O?(null===z&&(z=Y),null===L&&(L=1)):(z=Y,B=G.getMonth(),L=G.getDate()),v&&H<12&&(H+=12),_?(D&&(H+=-D),E&&(N+=-E),e=new Date(Date.UTC(z,B,L,H,N,O,V))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(e=new Date(z,B,L,H,N,O,V),H),z<100&&e.setFullYear(z),e.getDate()!==L&&_===n?null:e)}function A(e,t,n,r){if("[object Date]"===y.call(e))return e;var l,c,w,x,k=0,C=null;if(e&&0===e.indexOf("/D")&&(C=h.exec(e)))return C=C[1],c=f.exec(C.substring(1)),C=new Date(parseInt(C,10)),c&&(w=c[0],x="-"===w.substr(0,1)?-1:1,w=w.substring(1),c=x*(w=60*parseInt(w.substr(0,2),10)+parseInt(w.substring(2),10)),C=o.timezone.apply(C,0),C=o.timezone.convert(C,0,-1*c)),C;for(n=o.getCulture(n),t||(t=function(e){var t,n,r,o=v.max(m.length,_.length),l=(e.calendar||e.calendars.standard).patterns,c=[];for(r=0;r<o;r++){for(t=m[r],n=0;n<t.length;n++)c.push(l[t[n]]);c=c.concat(_[r])}return c}(n)),l=(t=d(t)?t:[t]).length;k<l;k++)if(C=E(e,t[k],n,r))return C;return C}o.parseDate=function(e,t,n){return A(e,t,n,!1)},o.parseExactDate=function(e,t,n){return A(e,t,n,!0)},o.parseInt=function(e,t){var n=o.parseFloat(e,t);return n&&(n|=0),n},o.parseFloat=function(e,n,l){if(!e&&0!==e)return null;if(typeof e===D)return e;e=e.toString();var c,h,d=(n=o.getCulture(n)).numberFormat,f=d.percent,m=d.currency,symbol=m.symbol,v=f.symbol,_=e.indexOf("-");return r.test(e)?(e=parseFloat(e.replace(d["."],".")),isNaN(e)&&(e=null),e):_>0?null:(_=_>-1,e.indexOf(symbol)>-1||l&&l.toLowerCase().indexOf("c")>-1?(c=(d=m).pattern[0].replace("$",symbol).split("n"),e.indexOf(c[0])>-1&&e.indexOf(c[1])>-1&&(e=e.replace(c[0],"").replace(c[1],""),_=!0)):e.indexOf(v)>-1&&(h=!0,d=f,symbol=v),e=e.replace("-","").replace(symbol,"").replace(t," ").split(d[","].replace(t," ")).join("").replace(d["."],"."),e=parseFloat(e),isNaN(e)?e=null:_&&(e*=-1),e&&h&&(e/=100),e)}}(),function(){w._scrollbar=n,w.scrollbar=function(e){if(isNaN(w._scrollbar)||e){var t,div=document.createElement("div");return div.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",div.innerHTML="&nbsp;",document.body.appendChild(div),w._scrollbar=t=div.offsetWidth-div.scrollWidth,document.body.removeChild(div),t}return w._scrollbar},w.isRtl=function(element){return e(element).closest(".k-rtl").length>0};var table=document.createElement("table");try{table.innerHTML="<tr><td></td></tr>",w.tbodyInnerHtml=!0}catch(e){w.tbodyInnerHtml=!1}w.touch="ontouchstart"in t;var r=document.documentElement.style,o=w.transitions=!1,l=w.transforms=!1,c="HTMLElement"in t?HTMLElement.prototype:[];w.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in r||"msPerspective"in r,w.cssFlexbox="flexWrap"in r||"WebkitFlexWrap"in r||"msFlexWrap"in r,h(["Moz","webkit","O","ms"],(function(){var e=this.toString(),t=typeof table.style[e+"Transition"]===T;if(t||typeof table.style[e+"Transform"]===T){var n=e.toLowerCase();return l={css:"ms"!=n?"-"+n+"-":"",prefix:e,event:"o"===n||"webkit"===n?n:""},t&&((o=l).event=o.event?o.event+"TransitionEnd":"transitionend"),!1}})),table=null,w.transforms=l,w.transitions=o,w.devicePixelRatio=t.devicePixelRatio===n?1:t.devicePixelRatio;try{w.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,w.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(e){w.screenWidth=t.screen.availWidth,w.screenHeight=t.screen.availHeight}w.detectOS=function(e){var n,r=!1,o=[],l=!/mobile safari/i.test(e),c={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},d={tablet:/playbook|ipad|fire/i},f={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var m in c)if(c.hasOwnProperty(m)&&(o=e.match(c[m]))){if("windows"==m&&"plugins"in navigator)return!1;(r={}).device=m,r.tablet=ee(m,d,!1),r.browser=ee(e,f,"default"),r.name=ee(m,h),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=(o[3]||"0").replace("_","."),n=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+n+new Array(3-(n.length<3?n.length:2)).join("0"),r.cordova=typeof t.PhoneGap!==M||typeof t.cordova!==M,r.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||r.cordova,r.android&&(w.devicePixelRatio<1.5&&r.flatVersion<400||l)&&(w.screenWidth>800||w.screenHeight>800)&&(r.tablet=m);break}return r};var d,f,m,v,_=w.mobileOS=w.detectOS(navigator.userAgent);w.wpDevicePixelRatio=_.wp?screen.width/320:0,w.hasNativeScrolling=!1,(_.ios||_.android&&_.majorVersion>2||_.wp)&&(w.hasNativeScrolling=_),w.delayedClick=function(){if(w.touch){if(_.ios)return!0;if(_.android)return!w.browser.chrome||!(w.browser.version<32)&&!(e("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},w.mouseAndTouchPresent=w.touch&&!(w.mobileOS.ios||w.mobileOS.android),w.detectBrowser=function(e){var t=!1,n=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var o in r)if(r.hasOwnProperty(o)&&(n=e.match(r[o]))){(t={})[o]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t},w.browser=w.detectBrowser(navigator.userAgent),w.detectClipboardAccess=function(){var e={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return w.browser.chrome&&(e.paste=!1,w.browser.version>=43&&(e.copy=!0,e.cut=!0)),e},w.clipboard=w.detectClipboardAccess(),w.zoomLevel=function(){try{var e=w.browser,n=0,r=document.documentElement;return e.msie&&11==e.version&&r.scrollHeight>r.clientHeight&&!w.touch&&(n=w.scrollbar()),w.touch?r.clientWidth/t.innerWidth:e.msie&&e.version>=10?((top||t).document.documentElement.offsetWidth+n)/(top||t).innerWidth:1}catch(e){return 1}},w.cssBorderSpacing=void 0!==r.borderSpacing&&!(w.browser.msie&&w.browser.version<8),d=w.browser,f="",m=e(document.documentElement),v=parseInt(d.version,10),d.msie?f="ie":d.mozilla?f="ff":d.safari?f="safari":d.webkit?f="webkit":d.opera?f="opera":d.edge&&(f="edge"),f&&(f="k-"+f+" k-"+f+v),w.mobileOS&&(f+=" k-mobile"),w.cssFlexbox||(f+=" k-no-flexbox"),m.addClass(f),w.eventCapture=document.documentElement.addEventListener;var input=document.createElement("input");w.placeholder="placeholder"in input,w.propertyChangeEvent="onpropertychange"in input,w.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,r={},o=0;o<n;o++)e=t[o],input.setAttribute("type",e),input.value="test",r[e.replace("-","")]="text"!==input.type&&"test"!==input.value;return r}(),input.style.cssText="float:left;",w.cssFloat=!!input.style.cssFloat,input=null,w.stableSort=function(){for(var e=[{index:0,field:"b"}],i=1;i<513;i++)e.push({index:i,field:"a"});return e.sort((function(a,b){return a.field>b.field?1:a.field<b.field?-1:0})),1===e[0].index}(),w.matchesSelector=c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.matchesSelector||c.matches||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),i=n.length;i--;)if(n[i]==this)return!0;return!1},w.matchMedia="matchMedia"in t,w.pushState=t.history&&t.history.pushState;var y=document.documentMode;w.hashChange="onhashchange"in t&&!(w.browser.msie&&(!y||y<=8)),w.customElements="registerElement"in t.document;var x=w.browser.chrome,k=w.browser.crios,C=w.browser.mozilla,S=w.browser.safari;w.msPointers=!x&&t.MSPointerEvent,w.pointers=!x&&!k&&!C&&!S&&t.PointerEvent,w.kineticScrollNeeded=_&&(w.touch||w.msPointers||w.pointers)}();var ne={};function re(e,t,n,r){return typeof e===T&&(L(t)&&(r=t,t=400,n=!1),L(n)&&(r=n,n=!1),typeof t===I&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:r}),l({effects:{},duration:400,reverse:!1,init:m,teardown:m,hide:!1},e,{completeCallback:e.complete,complete:m})}function animate(element,t,n,r,o){for(var l,c=0,h=element.length;c<h;c++)(l=e(element[c])).queue((function(){ne.promise(l,re(t,n,r,o))}));return element}e.extend(ne,{enabled:!0,Element:function(element){this.element=e(element)},promise:function(element,e){element.is(":visible")||element.css({display:element.data("olddisplay")||"block"}).css("display"),e.hide&&element.data("olddisplay",element.css("display")).hide(),e.init&&e.init(),e.completeCallback&&e.completeCallback(element),element.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),ne.promiseShim=ne.promise,"kendoAnimate"in e.fn||l(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return animate(this,e,t,n,r)},kendoAddClass:function(e,t){return o.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return o.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return o.toggleClass(this,e,t,n)}});var oe=/&/g,se=/</g,ae=/"/g,le=/'/g,ce=/>/g,he=function(e){return e.target};w.touch&&(he=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},h(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],(function(t,n){e.fn[n]=function(e){return this.bind(n,e)}}))),w.touch?w.mobileOS?(w.mousedown="touchstart",w.mouseup="touchend",w.mousemove="touchmove",w.mousecancel="touchcancel",w.click="touchend",w.resize="orientationchange"):(w.mousedown="mousedown touchstart",w.mouseup="mouseup touchend",w.mousemove="mousemove touchmove",w.mousecancel="mouseleave touchcancel",w.click="click",w.resize="resize"):w.pointers?(w.mousemove="pointermove",w.mousedown="pointerdown",w.mouseup="pointerup",w.mousecancel="pointercancel",w.click="pointerup",w.resize="orientationchange resize"):w.msPointers?(w.mousemove="MSPointerMove",w.mousedown="MSPointerDown",w.mouseup="MSPointerUp",w.mousecancel="MSPointerCancel",w.click="MSPointerUp",w.resize="orientationchange resize"):(w.mousemove="mousemove",w.mousedown="mousedown",w.mouseup="mouseup",w.mousecancel="mouseleave",w.click="click",w.resize="resize");var de=/^([a-z]+:)?\/\//i;l(o,{widgets:[],_widgetRegisteredCallbacks:[],ui:o.ui||{},fx:o.fx||function(element){return new o.effects.Element(element)},effects:o.effects||ne,mobile:o.mobile||{},data:o.data||{},dataviz:o.dataviz||{},drawing:o.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:o.support||w,animate:o.animate||animate,ns:"",attr:function(e){return"data-"+o.ns+e},getShadows:function(element){var shadow=element.css(o.support.transitions.css+"box-shadow")||element.css("box-shadow"),e=shadow&&shadow.match(k)||[0,0,0,0,0],t=v.max(+e[3],+(e[4]||0));return{left:-e[1]+t,right:+e[1]+t,bottom:+e[2]+t}},wrap:function(element,n){var r,l=w.browser,c=o._outerWidth,h=o._outerHeight,d=element.parent(),f=c(t);if(d.removeClass("k-animation-container-sm"),d.hasClass("k-animation-container"))X(element,n);else{var m=element[0].style.width,_=element[0].style.height,x=y.test(m),k=y.test(_),C=element.hasClass("k-tooltip")||element.is(".k-menu-horizontal.k-context-menu");r=x||k,!x&&(!n||n&&m||C)&&(m=n?c(element)+1:c(element)),(!k&&(!n||n&&_)||element.is(".k-menu-horizontal.k-context-menu"))&&(_=h(element)),element.wrap(e("<div/>").addClass("k-animation-container").css({width:m,height:_})),d=element.parent(),r&&element.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return f<c(d)&&(d.addClass("k-animation-container-sm"),X(element,n)),l.msie&&v.floor(l.version)<=7&&(element.css({zoom:1}),element.children(".k-menu").width(element.width())),d},deepExtend:J,getComputedStyles:ie,isScrollable:function(element){if(element&&element.className&&"string"==typeof element.className&&element.className.indexOf("k-auto-scrollable")>-1)return!0;var e=ie(element,["overflow"]).overflow;return"auto"==e||"scroll"==e},scrollLeft:function(element,t){var r,o=w.browser.webkit,l=w.browser.mozilla,c=element instanceof e?element[0]:element;if(element){if(r=w.isRtl(element),t===n)return r&&o?c.scrollWidth-c.clientWidth-c.scrollLeft:Math.abs(c.scrollLeft);c.scrollLeft=r&&o?c.scrollWidth-c.clientWidth-t:r&&l?-t:t}},size:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n},toCamelCase:te,toHyphens:function(e){return e.replace(/([a-z][A-Z])/g,(function(g){return g.charAt(0)+"-"+g.charAt(1).toLowerCase()}))},getOffset:o.getOffset||function(element,e,n){e||(e="offset");var r=element[e](),o={top:r.top,right:r.right,bottom:r.bottom,left:r.left};if(w.browser.msie&&(w.pointers||w.msPointers)&&!n){var l=w.isRtl(element)?1:-1;o.top-=t.pageYOffset-document.documentElement.scrollTop,o.left-=t.pageXOffset+l*document.documentElement.scrollLeft}return o},parseEffects:o.parseEffects||function(input){var e={};return h("string"==typeof input?input.split(" "):input,(function(t){e[t]=this})),e},toggleClass:o.toggleClass||function(element,e,t,n){return e&&(e=e.split(" "),h(e,(function(e,t){element.toggleClass(t,n)}))),element},directions:o.directions||{left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}},Observable:O,Class:B,Template:r,template:f(r.compile,r),render:f(r.render,r),stringify:f(_.stringify,_),eventTarget:he,htmlEncode:function(e){return(""+e).replace(oe,"&amp;").replace(se,"&lt;").replace(ce,"&gt;").replace(ae,"&quot;").replace(le,"&#39;")},unescape:function(e){var template;try{template=t.decodeURIComponent(e)}catch(t){template=e.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,(function(e,t,n){return String.fromCharCode(parseInt("0x"+(t||n),16))}))}return template},isLocalUrl:function(e){return e&&!de.test(e)},expr:function(e,t,n){return typeof t==T&&(n=t,t=!1),n=n||"d",(e=e||"")&&"["!==e.charAt(0)&&(e="."+e),e=t?(e=function(e,t){var n,r,o,l,c=t||"d",h=1;for(r=0,o=e.length;r<o;r++)""!==(l=e[r])&&(0!==(n=l.indexOf("["))&&(-1==n?l="."+l:(h++,l="."+l.substring(0,n)+" || {})"+l.substring(n))),h++,c+=l+(r<o-1?" || {})":")"));return new Array(h).join("(")+c}((e=(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"')).replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'")).split("."),n)).replace(/_\$DOT\$_/g,"."):n+e},getter:function(e,t){var n=e+t;return R[n]=R[n]||new Function("d","return "+o.expr(e,t))},setter:function(e){return F[e]=F[e]||new Function("d,value",o.expr(e)+"=value")},accessor:function(e){return{get:o.getter(e),set:o.setter(e)}},guid:function(){var i,e,t="";for(i=0;i<32;i++)e=16*v.random()|0,8!=i&&12!=i&&16!=i&&20!=i||(t+="-"),t+=(12==i?4:16==i?3&e|8:e).toString(16);return t},roleSelector:function(e){return e.replace(/(\S+)/g,"["+o.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t=e.split(" ");if(t)for(var i=0;i<t.length;i++)"view"!=t[i]&&(t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var i=0,t=o.widgets.length;i<t;i++)e(o.widgets[i]);o._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,n){var r=t.console;!o.suppressLog&&void 0!==r&&r.log&&r[n||"log"](e)}});var ue=O.extend({init:function(element,e){this.element=o.jQuery(element).handler(this),this.angular("init",e),O.fn.init.call(this);var t=e?e.dataSource:null;t&&(e=l({},e,{dataSource:{}})),e=this.options=l(!0,{},this.options,e),t&&(e.dataSource=t),this.element.attr(o.attr("role"))||this.element.attr(o.attr("role"),(e.name||"").toLowerCase()),this.element.data("kendo"+e.prefix+e.name,this),this.bind(this.events,e)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var element=this.element,t=e.attr("tabindex")||element.attr("tabindex");element.removeAttr("tabindex"),e.attr("tabindex",isNaN(t)?0:t)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){for(var t,n=0,r=this.events.length;n<r;n++)t=this.events[n],this.options[t]&&e[t]&&(this.unbind(t,this.options[t]),this._events&&this._events[t]&&delete this._events[t]);this.bind(this.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){return o.dimensions(this.element)},size:function(e){if(!e)return this.getSize();this.setSize(e)},setSize:e.noop,_resize:e.noop,destroy:function(){this.element.removeData("kendo"+this.options.prefix+this.options.name),this.element.removeData("handler"),this.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=!0,e.call(this),this._muteRebind=!1}}),pe=ue.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var n=this;n.angular(t,(function(){return{elements:n.items(),data:e.map(n.dataItems(),(function(e){return{dataItem:e}}))}}))}});o.dimensions=function(element,e){var t=element[0];return e&&element.css(e),{width:t.offsetWidth,height:t.offsetHeight}},o.notify=m;var fe=/template$/i,ge=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,me=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,ve=/([A-Z])/g;function _e(element,option){var e;return 0===option.indexOf("data")&&(option=(option=option.substring(4)).charAt(0).toLowerCase()+option.substring(1)),option=option.replace(ve,"-$1"),null===(e=element.getAttribute("data-"+o.ns+option))?e=n:"null"===e?e=null:"true"===e?e=!0:"false"===e?e=!1:C.test(e)&&"mask"!=option?e=parseFloat(e):ge.test(e)&&!me.test(e)&&(e=new Function("return ("+e+")")()),e}function be(element,t,source){var option,r,l={},c=element.getAttribute("data-"+o.ns+"role");for(option in t)(r=_e(element,option))!==n&&(fe.test(option)&&"drawer"!=c&&("string"==typeof r?e("#"+r).length?r=o.template(e("#"+r).html()):source&&(r=o.template(source[r])):r=element.getAttribute(option)),l[option]=r);return l}function we(a,b){return e.contains(a,b)?-1:1}function ye(){var t=e(this);return e.inArray(t.attr("data-"+o.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}o.initWidget=function(element,r,l){var c,option,h,d,f,m,v,_,w,y;if(l?l.roles&&(l=l.roles):l=o.ui.roles,m=(element=element.nodeType?element:element[0]).getAttribute("data-"+o.ns+"role")){h=(w=-1===m.indexOf("."))?l[m]:o.getter(m)(t);var data=e(element).data(),x=h?"kendo"+h.fn.options.prefix+h.fn.options.name:"";for(var k in y=w?new RegExp("^kendo.*"+m+"$","i"):new RegExp("^"+x+"$","i"),data)if(k.match(y)){if(k!==x)return data[k];c=data[k]}if(h){for(_=_e(element,"dataSource"),r=e.extend({},be(element,h.fn.options),r),_&&(r.dataSource=typeof _===T?o.getter(_)(t):_),d=0,f=h.fn.events.length;d<f;d++)(v=_e(element,option=h.fn.events[d]))!==n&&(r[option]=o.getter(v)(t));return c?e.isEmptyObject(r)||c.setOptions(r):c=new h(element,r),c}}},o.rolesFromNamespaces=function(e){var t,n,r=[];for(e[0]||(e=[o.ui,o.dataviz.ui]),t=0,n=e.length;t<n;t++)r[t]=e[t].roles;return l.apply(null,[{}].concat(r.reverse()))},o.init=function(element){var t=o.rolesFromNamespaces(P.call(arguments,1));e(element).find("[data-"+o.ns+"role]").addBack().each((function(){o.initWidget(this,{},t)}))},o.destroy=function(element){e(element).find("[data-"+o.ns+"role]").addBack().each((function(){var data=e(this).data();for(var t in data)0===t.indexOf("kendo")&&typeof data[t].destroy===S&&data[t].destroy()}))},o.resize=function(element,t){var n=e(element).find("[data-"+o.ns+"role]").addBack().filter(ye);if(n.length){var r=e.makeArray(n);r.sort(we),e.each(r,(function(){var n=o.widgetInstance(e(this));n&&n.resize(t)}))}},o.parseOptions=be,l(o.ui,{Widget:ue,DataBoundWidget:pe,roles:{},progress:function(t,n,r){var l,c,h,d,f,mask=t.find(".k-loading-mask"),m=o.support,v=m.browser;f=(r=e.extend({},{width:"100%",height:"100%",top:t.scrollTop(),opacity:!1},r)).opacity?"k-loading-mask k-opaque":"k-loading-mask",n?mask.length||(c=(l=m.isRtl(t))?"right":"left",d=t.scrollLeft(),h=v.webkit&&l?t[0].scrollWidth-t.width()-2*d:0,mask=e(o.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",f,o.ui.progress.messages.loading)).width(r.width).height(r.height).css("top",r.top).css(c,Math.abs(d)+h).prependTo(t)):mask&&mask.remove()},plugin:function(t,r,l){var c,h=t.fn.options.name;l=l||"",(r=r||o.ui)[h]=t,r.roles[h.toLowerCase()]=t,c="getKendo"+l+h;var d={name:h="kendo"+l+h,widget:t,prefix:l||""};o.widgets.push(d);for(var i=0,f=o._widgetRegisteredCallbacks.length;i<f;i++)o._widgetRegisteredCallbacks[i](d);e.fn[h]=function(r){var l,c=this;return typeof r===T?(l=P.call(arguments,1),this.each((function(){var t,d,f=e.data(this,h);if(!f)throw new Error(o.format("Cannot call method '{0}' of {1} before it is initialized",r,h));if(typeof(t=f[r])!==S)throw new Error(o.format("Cannot find method '{0}' of {1}",r,h));if((d=t.apply(f,l))!==n)return c=d,!1}))):this.each((function(){return new t(this,r)})),c},e.fn[h].widget=t,e.fn[c]=function(){return this.data(h)}}}),o.ui.progress.messages={loading:"Loading..."};var xe={bind:function(){return this},nullObject:!0,options:{}},ke=ue.extend({init:function(element,e){ue.fn.init.call(this,element,e),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){ue.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(o.roleSelector("view splitview modalview drawer"));return o.widgetInstance(e,o.mobile.ui)||xe},viewHasNativeScrolling:function(){var view=this.view();return view&&view.options.useNativeScrolling},container:function(){var element=this.element.closest(o.roleSelector("view layout modalview drawer splitview"));return o.widgetInstance(element.eq(0),o.mobile.ui)||xe}});function Ce(element,t){var n=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!element.disabled:"a"===n&&element.href||t)&&function(element){return e.expr.pseudos.visible(element)&&!e(element).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}(element)}l(o.mobile,{init:function(element){o.init(element,o.mobile.ui,o.ui,o.dataviz.ui)},appLevelNativeScrolling:function(){return o.mobile.application&&o.mobile.application.options&&o.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:ke,DataBoundWidget:pe.extend(ke.prototype),roles:{},plugin:function(e){o.ui.plugin(e,o.mobile.ui,"Mobile")}}}),J(o.dataviz,{init:function(element){o.init(element,o.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){o.ui.plugin(e,o.dataviz.ui)}},roles:{}}),o.touchScroller=function(t,n){return n||(n={}),n.useNative=!0,e(t).map((function(t,element){return element=e(element),!(!w.kineticScrollNeeded||!o.mobile.ui.Scroller||element.data("kendoMobileScroller"))&&(element.kendoMobileScroller(n),element.data("kendoMobileScroller"))}))[0]},o.preventDefault=function(e){e.preventDefault()},o.widgetInstance=function(element,e){var i,n,r=element.data(o.ns+"role"),l=[],c=element.data("kendoView");if(r){if("content"===r&&(r="scroller"),"editortoolbar"===r){var h=element.data("kendoEditorToolbar");if(h)return h}if("view"===r&&c)return c;if(e)if(e[0])for(i=0,n=e.length;i<n;i++)l.push(e[i].roles[r]);else l.push(e.roles[r]);else l=[o.ui.roles[r],o.dataviz.ui.roles[r],o.mobile.ui.roles[r]];for(r.indexOf(".")>=0&&(l=[o.getter(r)(t)]),i=0,n=l.length;i<n;i++){var d=l[i];if(d){var f=element.data("kendo"+d.fn.options.prefix+d.fn.options.name);if(f)return f}}}},o.onResize=function(n){var r=n;return w.mobileOS.android&&(r=function(){setTimeout(n,600)}),e(t).on(w.resize,r),r},o.unbindResize=function(n){e(t).off(w.resize,n)},o.attrValue=function(element,e){return element.data(o.ns+e)},o.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr.pseudos,{kendoFocusable:function(element){var t=e.attr(element,"tabindex");return Ce(element,!isNaN(t)&&t>-1)}});var Se=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Te={setupMouseMute:function(){var t=0,n=Se.length,element=document.documentElement;if(!Te.mouseTrap&&w.eventCapture){Te.mouseTrap=!0,Te.bustClick=!1,Te.captureMouse=!1;for(var r=function(t){Te.captureMouse&&("click"===t.type?Te.bustClick&&!e(t.target).is("label, input, [data-rel=external]")&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};t<n;t++)element.addEventListener(Se[t],r,!0)}},muteMouse:function(e){Te.captureMouse=!0,e.data.bustClick&&(Te.bustClick=!0),clearTimeout(Te.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Te.mouseTrapTimeoutID),Te.mouseTrapTimeoutID=setTimeout((function(){Te.captureMouse=!1,Te.bustClick=!1}),400)}},De={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};w.touch&&(w.mobileOS.ios||w.mobileOS.android)?De={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:w.pointers?De={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:w.msPointers&&(De={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!w.msPointers||"onmspointerenter"in t||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},(function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,o=this,l=t.relatedTarget,c=t.handleObj;return l&&(l===o||e.contains(o,l))||(t.type=c.origType,r=c.handler.apply(this,arguments),t.type=n),r}}}));var Ee=function(e){return De[e]||e},Ae=/([^ ]+)/g;o.applyEventMap=function(e,t){return e=e.replace(Ae,Ee),t&&(e=e.replace(Ae,"$1."+t)),e};var Ie=e.fn.on;function Me(e,t){return new Me.fn.init(e,t)}z(!0,Me,e),Me.fn=Me.prototype=new e,Me.fn.constructor=Me,Me.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof Me)&&(n=Me(n)),e.fn.init.call(this,t,n,Re)},Me.fn.init.prototype=Me.fn;var Re=Me(document);l(Me.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||o.guid()),this},on:function(){var e=this,t=e.data("kendoNS");if(1===arguments.length)return Ie.call(e,arguments[0]);var n=e,r=P.call(arguments);typeof r[r.length-1]===M&&r.pop();var l=r[r.length-1],c=o.applyEventMap(r[0],t);if(w.mouseAndTouchPresent&&c.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Te.setupMouseMute();var h=2===r.length?null:r[1],d=c.indexOf("click")>-1&&c.indexOf("touchend")>-1;Ie.call(this,{touchstart:Te.muteMouse,touchend:Te.unMuteMouse},h,{bustClick:d})}return typeof l===T&&(n=e.data("handler"),l=n[l],r[r.length-1]=function(e){l.call(n,e)}),r[0]=c,Ie.apply(e,r),e},kendoDestroy:function(e){return(e=e||this.data("kendoNS"))&&this.off("."+e),this}}),o.jQuery=Me,o.eventMap=De,o.timezone=function(){var e={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},t={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function n(n,r){var o,l,c,h=r[3],d=r[4],time=r[5],f=r[8];return f||(r[8]=f={}),f[n]?f[n]:(isNaN(d)?0===d.indexOf("last")?(o=new Date(Date.UTC(n,e[h]+1,1,time[0]-24,time[1],time[2],0)),l=t[d.substr(4,3)],c=o.getUTCDay(),o.setUTCDate(o.getUTCDate()+l-c-(l>c?7:0))):d.indexOf(">=")>=0&&(o=new Date(Date.UTC(n,e[h],d.substr(5),time[0],time[1],time[2],0)),l=t[d.substr(0,3)],c=o.getUTCDay(),o.setUTCDate(o.getUTCDate()+l-c+(l<c?7:0))):o=new Date(Date.UTC(n,e[h],d,time[0],time[1],time[2],0)),f[n]=o)}function r(e,t,r){if(!(t=t[r])){var time=r.split(":"),o=0;return time.length>1&&(o=60*time[0]+Number(time[1])),[-1e6,"max","-","Jan",1,[0,0,0],o,"-"]}var l=new Date(e).getUTCFullYear();(t=c.grep(t,(function(e){var t=e[0],n=e[1];return t<=l&&(n>=l||t==l&&"only"==n||"max"==n)}))).push(e),t.sort((function(a,b){return"number"!=typeof a&&(a=Number(n(l,a))),"number"!=typeof b&&(b=Number(n(l,b))),a-b}));var h=t[c.inArray(e,t)-1]||t[t.length-1];return isNaN(h)?h:null}function l(e,t,n,o){typeof e!=D&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var l=function(e,t,n){var r=t[n];if("string"==typeof r&&(r=t[r]),!r)throw new Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var o=r.length-1;o>=0;o--){var l=r[o][3];if(l&&e>l)break}var c=r[o+1];if(!c)throw new Error('Timezone "'+n+'" not found on '+e+".");return c}(e,t,o);return{zone:l,rule:r(e,n,l[1])}}return{zones:{},rules:{},offset:function(e,t){if("Etc/UTC"==t||"Etc/GMT"==t)return 0;var n=l(e,this.zones,this.rules,t),r=n.zone,c=n.rule;return o.parseFloat(c?r[0]-c[6]:r[0])},convert:function(e,t,n){var r,o=n;typeof t==T&&(t=this.offset(e,t)),typeof n==T&&(n=this.offset(e,n));var l=e.getTimezoneOffset(),c=(e=new Date(e.getTime()+6e4*(t-n))).getTimezoneOffset();return typeof o==T&&(o=this.offset(e,o)),r=c-l+(n-o),new Date(e.getTime()+6e4*r)},apply:function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},remove:function(e,t){return this.convert(e,t,e.getTimezoneOffset())},abbr:function(e,t){var n=l(e,this.zones,this.rules,t),r=n.zone,o=n.rule,base=r[2];return base.indexOf("/")>=0?base.split("/")[o&&+o[6]?1:0]:base.indexOf("%s")>=0?base.replace("%s",o&&"-"!=o[7]?o[7]:""):base},toLocalDate:function(time){return this.apply(new Date(time),"Etc/UTC")}}}(),o.date=function(){var e=6e4,t=864e5;function r(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function l(e,t,n){var o=e.getHours();n=n||1,t=(t-e.getDay()+7*n)%7,e.setDate(e.getDate()+t),r(e,o)}function c(e,t,n){return l(e=new Date(e),t,n),e}function h(e){return new Date(e.getFullYear(),e.getMonth(),1)}function d(e,n){var r=new Date(e.getFullYear(),0,1,-6),o=function(e,t){return 1!==t?v(c(e,t,-1),4):v(e,4-(e.getDay()||7))}(e,n).getTime()-r.getTime(),l=Math.floor(o/t);return 1+Math.floor(l/7)}function f(e){return r(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),0),e}function m(e){return y(e).getTime()-f(y(e))}function v(e,n){var o=e.getHours();return _(e=new Date(e),n*t),r(e,o),e}function _(t,n,r){var o,l=t.getTimezoneOffset();t.setTime(t.getTime()+n),r||(o=t.getTimezoneOffset()-l,t.setTime(t.getTime()+o*e))}function w(){return f(new Date)}function y(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}return{adjustDST:r,dayOfWeek:c,setDayOfWeek:l,getDate:f,isInDateRange:function(e,n,r){var o,l=n.getTime(),c=r.getTime();return l>=c&&(c+=t),(o=e.getTime())>=l&&o<=c},isInTimeRange:function(e,n,r){var o,l=m(n),c=m(r);return!e||l==c||(n>=r&&(r+=t),l>(o=m(e))&&(o+=t),c<l&&(c+=t),o>=l&&o<=c)},isToday:function(e){return f(e).getTime()==w().getTime()},nextDay:function(e){return v(e,1)},previousDay:function(e){return v(e,-1)},toUtcTime:function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},MS_PER_DAY:t,MS_PER_HOUR:60*e,MS_PER_MINUTE:e,setTime:_,setHours:function(e,time){return r(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),time.getMilliseconds()),time.getHours()),e},addDays:v,today:w,toInvariantTime:y,firstDayOfMonth:h,lastDayOfMonth:function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=h(e),r=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return r&&t.setHours(n.getHours()+r/60),t},weekInYear:function(e,t){t===n&&(t=o.culture().calendar.firstDay);var r=v(e,-7),l=v(e,7),c=d(e,t);return 0===c?d(r,t)+1:53===c&&d(l,t)>1?1:c},getMilliseconds:m}}(),o.stripWhitespace=function(element){if(document.createNodeIterator)for(var e=document.createNodeIterator(element,NodeFilter.SHOW_TEXT,(function(e){return e.parentNode==element?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),!1);e.nextNode();)e.referenceNode&&!e.referenceNode.textContent.trim()&&e.referenceNode.parentNode.removeChild(e.referenceNode);else for(var i=0;i<element.childNodes.length;i++){var t=element.childNodes[i];3!=t.nodeType||/\S/.test(t.nodeValue)||(element.removeChild(t),i--),1==t.nodeType&&o.stripWhitespace(t)}};var Fe=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};o.animationFrame=function(e){Fe.call(t,e)};var Pe=[];o.queueAnimation=function(e){Pe[Pe.length]=e,1===Pe.length&&o.runNextAnimation()},o.runNextAnimation=function(){o.animationFrame((function(){Pe[0]&&(Pe.shift()(),Pe[0]&&o.runNextAnimation())}))},o.parseQueryStringParams=function(e){for(var t={},n=(e.split("?")[1]||"").split(/&|=/),r=n.length,o=0;o<r;o+=2)""!==n[o]&&(t[decodeURIComponent(n[o])]=decodeURIComponent(n[o+1]));return t},o.elementUnderCursor=function(e){if(void 0!==e.x.client)return document.elementFromPoint(e.x.client,e.y.client)},o.wheelDeltaY=function(e){var t,r=e.originalEvent,o=r.wheelDeltaY;return r.wheelDelta?(o===n||o)&&(t=r.wheelDelta):r.detail&&r.axis===r.VERTICAL_AXIS&&(t=10*-r.detail),t},o.throttle=function(e,t){var n,r=0;if(!t||t<=0)return e;var o=function(){var o=this,l=+new Date-r,c=arguments;function h(){e.apply(o,c),r=+new Date}if(!r)return h();n&&clearTimeout(n),l>t?h():n=setTimeout(h,t-l)};return o.cancel=function(){clearTimeout(n)},o},o.caret=function(element,t,r){var o,l=t!==n;if(r===n&&(r=t),element[0]&&(element=element[0]),!l||!element.disabled){try{if(element.selectionStart!==n)if(l){element.focus();var c=w.mobileOS;c.wp||c.android?setTimeout((function(){element.setSelectionRange(t,r)}),0):element.setSelectionRange(t,r)}else t=[element.selectionStart,element.selectionEnd];else if(document.selection)if(e(element).is(":visible")&&element.focus(),o=element.createTextRange(),l)o.collapse(!0),o.moveStart("character",t),o.moveEnd("character",r-t),o.select();else{var h,d,f=o.duplicate();o.moveToBookmark(document.selection.createRange().getBookmark()),f.setEndPoint("EndToStart",o),d=(h=f.text.length)+o.text.length,t=[h,d]}}catch(e){t=[]}return t}},o.compileMobileDirective=function(element,e){var n=t.angular;return element.attr("data-"+o.ns+"role",element[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),n.element(element).injector().invoke(["$compile",function(t){t(element)(e),/^\$(digest|apply)$/.test(e.$$phase)||e.$digest()}]),o.widgetInstance(element,o.mobile.ui)},o.antiForgeryTokens=function(){var t={},r=e("meta[name=csrf-token],meta[name=_csrf]").attr("content"),o=e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return e("input[name^='__RequestVerificationToken']").each((function(){t[this.name]=this.value})),o!==n&&r!==n&&(t[o]=r),t},o.cycleForm=function(form){var e=form.find("input, .k-widget").first(),t=form.find("button, .k-button").last();function n(e){var t=o.widgetInstance(e);t&&t.focus?t.focus():e.focus()}t.on("keydown",(function(t){t.keyCode!=o.keys.TAB||t.shiftKey||(t.preventDefault(),n(e))})),e.on("keydown",(function(e){e.keyCode==o.keys.TAB&&e.shiftKey&&(e.preventDefault(),n(t))}))},o.focusElement=function(element){var n=[],r=element.parentsUntil("body").filter((function(e,element){return"visible"!==o.getComputedStyles(element,["overflow"]).overflow})).add(t);r.each((function(t,r){n[t]=e(r).scrollTop()}));try{element[0].setActive()}catch(e){element[0].focus()}r.each((function(t,r){e(r).scrollTop(n[t])}))},o.matchesMedia=function(e){var n=o._bootstrapToMedia(e)||e;return w.matchMedia&&t.matchMedia(n).matches},o._bootstrapToMedia=function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]},function(){function n(t,n,r,l){var form=e("<form>").attr({action:r,method:"POST",target:l}),data=o.antiForgeryTokens();data.fileName=n;var c=t.split(";base64,");for(var h in data.contentType=c[0].replace("data:",""),data.base64=c[1],data)data.hasOwnProperty(h)&&e("<input>").attr({value:data[h],name:h,type:"hidden"}).appendTo(form);form.appendTo("body").submit().remove()}var r=document.createElement("a"),l="download"in r&&!o.support.browser.edge;function c(e,t){var n=e;if("string"==typeof e){for(var r=e.split(";base64,"),o=r[0],l=atob(r[1]),c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);n=new Blob([c.buffer],{type:o})}navigator.msSaveBlob(n,t)}function h(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),r.download=n,r.href=e;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o),setTimeout((function(){URL.revokeObjectURL(e)}))}o.saveAs=function(e){var t=n;e.forceProxy||(l?t=h:navigator.msSaveBlob&&(t=c)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)}}(),o.proxyModelSetters=function(data){var e={};return Object.keys(data||{}).forEach((function(t){Object.defineProperty(e,t,{get:function(){return data[t]},set:function(e){data[t]=e,data.dirty=!0}})})),e}}(c,window),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1049)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1049:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1050),n(1051)],void 0===(l="function"==typeof(r=function(){return function(e,t){var map,n=e.extend,r=e.proxy,o=e.isPlainObject,l=e.isEmptyObject,c=e.isArray,h=e.grep,d=e.ajax,f=e.each,m=e.noop,v=window.kendo,_=v.isFunction,w=v.Observable,y=v.Class,x="string",k="change",C=["create","read","update","destroy"],S=function(e){return e},T=v.getter,D=v.stringify,E=Math,A=[].push,I=[].join,M=[].pop,R=[].splice,F=[].shift,P=[].slice,z=[].unshift,B={}.toString,L=v.support.stableSort,H=/^\/Date\((.*?)\)\/$/,N=w.extend({init:function(e,t){this.type=t||W,w.fn.init.call(this),this.length=e.length,this.wrapAll(e,this)},at:function(e){return this[e]},toJSON:function(){var e,t,n=this.length,r=new Array(n);for(e=0;e<n;e++)(t=this[e])instanceof W&&(t=t.toJSON()),r[e]=t;return r},parent:m,wrapAll:function(source,e){var t,n,r=this,o=function(){return r};for(e=e||[],t=0,n=source.length;t<n;t++)e[t]=r.wrap(source[t],o);return e},wrap:function(object,e){var t=this;return null!==object&&"[object Object]"===B.call(object)&&(object instanceof t.type||object instanceof G||(object=object instanceof W?object.toJSON():object,object=new t.type(object)),object.parent=e,object.bind(k,(function(e){t.trigger(k,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})}))),object},push:function(){var e,t=this.length,n=this.wrapAll(arguments);return e=A.apply(this,n),this.trigger(k,{action:"add",index:t,items:n}),e},slice:P,sort:[].sort,join:I,pop:function(){var e=this.length,t=M.apply(this);return e&&this.trigger(k,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,n){var r,i,o,l=this.wrapAll(P.call(arguments,2));if((r=R.apply(this,[e,t].concat(l))).length)for(this.trigger(k,{action:"remove",index:e,items:r}),i=0,o=r.length;i<o;i++)r[i]&&r[i].children&&r[i].unbind(k);return n&&this.trigger(k,{action:"add",index:e,items:l}),r},shift:function(){var e=this.length,t=F.apply(this);return e&&this.trigger(k,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=z.apply(this,t),this.trigger(k,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,n;for(t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var n=0,r=this.length,o=t||window;n<r;n++)e.call(o,this[n],n,this)},map:function(e,t){for(var n=0,r=[],o=this.length,l=t||window;n<o;n++)r[n]=e.call(l,this[n],n,this);return r},reduce:function(e){var t,n=0,r=this.length;for(2==arguments.length?t=arguments[1]:n<r&&(t=this[n++]);n<r;n++)t=e(t,this[n],n,this);return t},reduceRight:function(e){var t,n=this.length-1;for(2==arguments.length?t=arguments[1]:n>0&&(t=this[n--]);n>=0;n--)t=e(t,this[n],n,this);return t},filter:function(e,t){for(var n,r=0,o=[],l=this.length,c=t||window;r<l;r++)n=this[r],e.call(c,n,r,this)&&(o[o.length]=n);return o},find:function(e,t){for(var n,r=0,o=this.length,l=t||window;r<o;r++)if(n=this[r],e.call(l,n,r,this))return n},every:function(e,t){for(var n,r=0,o=this.length,l=t||window;r<o;r++)if(n=this[r],!e.call(l,n,r,this))return!1;return!0},some:function(e,t){for(var n,r=0,o=this.length,l=t||window;r<o;r++)if(n=this[r],e.call(l,n,r,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!N.prototype[Symbol.iterator]&&(N.prototype[Symbol.iterator]=[][Symbol.iterator]);var O=N.extend({init:function(data,e,t){w.fn.init.call(this),this.type=e||W,t&&(this._events=t);for(var n=0;n<data.length;n++)this[n]=data[n];this.length=n,this._parent=r((function(){return this}),this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}});function V(e,t,n,r){return function(o){var l,c={};for(l in o)c[l]=o[l];c.field=r?n+"."+o.field:n,t==k&&e._notifyChange&&e._notifyChange(c),e.trigger(t,c)}}var W=w.extend({init:function(e){var t,n,r=this,o=function(){return r};for(n in w.fn.init.call(this),this._handlers={},e)"object"==typeof(t=e[n])&&t&&!t.getTime&&"_"!=n.charAt(0)&&(t=r.wrap(t,n,o)),r[n]=t;r.uid=v.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_handlers"!==e&&"_events"!==e&&"function"!=typeof this[e]&&"uid"!==e},forEach:function(e){for(var i in this)this.shouldSerialize(i)&&e(this[i],i)},toJSON:function(){var e,t,n={};for(t in this)this.shouldSerialize(t)&&(((e=this[t])instanceof W||e instanceof N)&&(e=e.toJSON()),n[t]=e);return n},get:function(e){return this.trigger("get",{field:e}),"this"===e?this:v.getter(e,!0)(this)},_set:function(e,t){var n=e.indexOf(".")>=0;if(n)for(var r=e.split("."),path="";r.length>1;){path+=r.shift();var o=v.getter(path,!0)(this);if(o instanceof W)return o.set(r.join("."),t),n;path+="."}return v.setter(e)(this,t),n},set:function(e,t){var n=this,r=!1,o=e.indexOf(".")>=0,l=v.getter(e,!0)(n);return l!==t&&(l instanceof w&&this._handlers[e]&&(this._handlers[e].get&&l.unbind("get",this._handlers[e].get),l.unbind(k,this._handlers[e].change)),(r=n.trigger("set",{field:e,value:t}))||(o||(t=n.wrap(t,e,(function(){return n}))),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(k,{field:e}))),r},parent:m,wrap:function(object,e,t){var n,r,o=B.call(object);if(null!=object&&("[object Object]"===o||"[object Array]"===o)){var l=object instanceof N,c=object instanceof De;"[object Object]"!==o||c||l?("[object Array]"===o||l||c)&&(l||c||(object=new N(object)),r=V(this,k,e,!1),object.bind(k,r),this._handlers[e]={change:r}):(object instanceof W||(object=new W(object)),n=V(this,"get",e,!0),object.bind("get",n),r=V(this,k,e,!0),object.bind(k,r),this._handlers[e]={get:n,change:r}),object.parent=t}return object}}),U={number:function(e){return typeof e===x&&"null"===e.toLowerCase()?null:v.parseFloat(e)},date:function(e){return typeof e===x&&"null"===e.toLowerCase()?null:v.parseDate(e)},boolean:function(e){return typeof e===x?"null"===e.toLowerCase()?null:"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return typeof e===x&&"null"===e.toLowerCase()?null:null!=e?e+"":e},default:function(e){return e}},j={string:"",number:0,date:new Date,boolean:!1,default:""},G=W.extend({init:function(data){if((!data||e.isEmptyObject(data))&&(data=e.extend({},this.defaults,data),this._initializers))for(var n=0;n<this._initializers.length;n++){var r=this._initializers[n];data[r]=this.defaults[r]()}W.fn.init.call(this,data),this.dirty=!1,this.dirtyFields={},this.idField&&(this.id=this.get(this.idField),this.id===t&&(this.id=this._defaultId))},shouldSerialize:function(e){return W.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"dirtyFields"!==e&&"_accessors"!==e},_parse:function(e,t){var n,r=e,l=this.fields||{};return(e=l[e])||(e=function(e,t){var n,r;for(r in e){if(n=e[r],o(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}(l,r)),e&&!(n=e.parse)&&e.type&&(n=U[e.type.toLowerCase()]),n?n(t):t},_notifyChange:function(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[e.field]=!0)},editable:function(e){return!(e=(this.fields||{})[e])||!1!==e.editable},set:function(t,n,r){var o=this.dirty;this.editable(t)&&(function t(n,r){if(n===r)return!0;var o,l=e.type(n);if(l!==e.type(r))return!1;if("date"===l)return n.getTime()===r.getTime();if("object"!==l&&"array"!==l)return!1;for(o in n)if(!t(n[o],r[o]))return!1;return!0}(n=this._parse(t,n),this.get(t))?this.trigger("equalSet",{field:t,value:n}):(this.dirty=!0,this.dirtyFields[t]=!0,W.fn.set.call(this,t,n,r)&&!o&&(this.dirty=o,this.dirty||(this.dirtyFields[t]=!1))))},accept:function(data){var e,t=this,n=function(){return t};for(e in data){var r=data[e];"_"!=e.charAt(0)&&(r=t.wrap(data[e],e,n)),t._set(e,r)}t.idField&&(t.id=t.get(t.idField)),t.dirty=!1,t.dirtyFields={}},isNew:function(){return this.id===this._defaultId}});G.define=function(base,e){e===t&&(e=base,base=G);var r,o,l,c,h,d,f,m,v=n({defaults:{}},e),_={},w=v.id,y=[];if(w&&(v.idField=w),v.id&&delete v.id,w&&(v.defaults[w]=v._defaultId=""),"[object Array]"===B.call(v.fields)){for(d=0,f=v.fields.length;d<f;d++)typeof(l=v.fields[d])===x?_[l]={}:l.field&&(_[l.field]=l);v.fields=_}for(o in v.fields)c=(l=v.fields[o]).type||"default",h=null,m=o,o=typeof l.field===x?l.field:o,l.nullable||"function"==typeof(h=v.defaults[m!==o?m:o]=l.defaultValue!==t?l.defaultValue:j[c.toLowerCase()])&&y.push(o),e.id===o&&(v._defaultId=h),v.defaults[m!==o?m:o]=h,l.parse=l.parse||U[c];return y.length>0&&(v._initializers=y),(r=base.extend(v)).define=function(e){return G.define(r,e)},v.fields&&(r.fields=v.fields,r.idField=v.idField),r};var $={selector:function(e){return _(e)?e:T(e)},compare:function(e){var t=this.selector(e);return function(a,b){return a=t(a),b=t(b),null==a&&null==b?0:null==a?-1:null==b?1:a.localeCompare?a.localeCompare(b):a>b?1:a<b?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(a,b){return t(b,a,!0)}:t},combine:function(e){return function(a,b){var t,n,r=e[0](a,b);for(t=1,n=e.length;t<n;t++)r=r||e[t](a,b);return r}}},Y=n({},$,{asc:function(e){var t=this.selector(e);return function(a,b){var e=t(a),n=t(b);return e&&e.getTime&&n&&n.getTime&&(e=e.getTime(),n=n.getTime()),e===n?a.__position-b.__position:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:-1}},desc:function(e){var t=this.selector(e);return function(a,b){var e=t(a),n=t(b);return e&&e.getTime&&n&&n.getTime&&(e=e.getTime(),n=n.getTime()),e===n?a.__position-b.__position:null==e?1:null==n?-1:n.localeCompare?n.localeCompare(e):e<n?1:-1}},create:function(e){return this[e.dir](e.field)}});map=function(e,t){var n,r=e.length,o=new Array(r);for(n=0;n<r;n++)o[n]=t(e[n],n,e);return o};var K=function(){function e(e){return"string"==typeof e&&(e=e.replace(/[\r\n]+/g,"")),JSON.stringify(e)}function t(t){return function(a,b,n,r){return b+="",n&&(a="("+a+" + '').toString()"+(r?".toLocaleLowerCase('"+r+"')":".toLowerCase()"),b=r?b.toLocaleLowerCase(r):b.toLowerCase()),t(a,e(b),n)}}function n(t,a,b,n,r){if(null!=b){if(typeof b===x){var o=H.exec(b);o?b=new Date(+o[1]):n?(b=e(r?b.toLocaleLowerCase(r):b.toLowerCase()),a="(("+a+" || '')+'')"+(r?".toLocaleLowerCase('"+r+"')":".toLowerCase()")):b=e(b)}b.getTime&&(a="("+a+"&&"+a+".getTime?"+a+".getTime():"+a+")",b=b.getTime())}return a+" "+t+" "+b}function r(pattern){for(var e="/^",t=!1,i=0;i<pattern.length;++i){var n=pattern.charAt(i);if(t)e+="\\"+n;else{if("~"==n){t=!0;continue}"*"==n?e+=".*":"?"==n?e+=".":".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(n)>=0?e+="\\"+n:e+=n}t=!1}return e+"$/"}return{quote:function(t){return t&&t.getTime?"new Date("+t.getTime()+")":e(t)},eq:function(a,b,e,t){return n("==",a,b,e,t)},neq:function(a,b,e,t){return n("!=",a,b,e,t)},gt:function(a,b,e){return n(">",a,b,e)},gte:function(a,b,e){return n(">=",a,b,e)},lt:function(a,b,e){return n("<",a,b,e)},lte:function(a,b,e){return n("<=",a,b,e)},startswith:t((function(a,b){return a+".lastIndexOf("+b+", 0) == 0"})),doesnotstartwith:t((function(a,b){return a+".lastIndexOf("+b+", 0) == -1"})),endswith:t((function(a,b){return a+".indexOf("+b+", "+a+".length - "+(b?b.length-2:0)+") >= 0"})),doesnotendwith:t((function(a,b){return a+".indexOf("+b+", "+a+".length - "+(b?b.length-2:0)+") < 0"})),contains:t((function(a,b){return a+".indexOf("+b+") >= 0"})),doesnotcontain:t((function(a,b){return a+".indexOf("+b+") == -1"})),matches:t((function(a,b){return r(b=b.substring(1,b.length-1))+".test("+a+")"})),doesnotmatch:t((function(a,b){return"!"+r(b=b.substring(1,b.length-1))+".test("+a+")"})),isempty:function(a){return a+" === ''"},isnotempty:function(a){return a+" !== ''"},isnull:function(a){return"("+a+" == null)"},isnotnull:function(a){return"("+a+" != null)"},isnullorempty:function(a){return"("+a+" === null) || ("+a+" === '')"},isnotnullorempty:function(a){return"("+a+" !== null) && ("+a+" !== '')"}}}();function Q(data){this.data=data||[]}function X(e,n){if(e){var r=typeof e===x?{field:e,dir:n}:e,o=c(r)?r:r!==t?[r]:[];return h(o,(function(e){return!!e.dir}))}}Q.filterExpr=function(e){var n,r,filter,o,l,c,h=[],d=[],f=[],m=e.filters;for(n=0,r=m.length;n<r;n++)l=(filter=m[n]).field,c=filter.operator,filter.filters?(filter=(o=Q.filterExpr(filter)).expression.replace(/__o\[(\d+)\]/g,(function(e,t){return t=+t,"__o["+(f.length+t)+"]"})).replace(/__f\[(\d+)\]/g,(function(e,t){return t=+t,"__f["+(d.length+t)+"]"})),f.push.apply(f,o.operators),d.push.apply(d,o.fields)):("function"==typeof l?(o="__f["+d.length+"](d)",d.push(l)):o=v.expr(l),"function"==typeof c?(filter="__o["+f.length+"]("+o+", "+K.quote(filter.value)+")",f.push(c)):filter=K[(c||"eq").toLowerCase()](o,filter.value,filter.ignoreCase===t||filter.ignoreCase,e.accentFoldingFiltering)),h.push(filter);return{expression:"("+h.join({and:" && ",or:" || "}[e.logic])+")",fields:d,operators:f}};var J={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function Z(e){if(e&&!l(e))return!c(e)&&e.filters||(e={logic:"and",filters:c(e)?e:[e]}),function e(t){var n,r,filter,o,l=t.filters;if(l)for(n=0,r=l.length;n<r;n++)(o=(filter=l[n]).operator)&&typeof o===x&&(filter.operator=J[o.toLowerCase()]||o),e(filter)}(e),e}function ee(e,t){return!e.logic&&!t.logic&&e.field===t.field&&e.value===t.value&&e.operator===t.operator}function te(filter){return l(filter=filter||{})?{logic:"and",filters:[]}:Z(filter)}function ie(a,b){return b.logic||a.field>b.field?1:a.field<b.field?-1:0}function ne(e,n,r,o){var l=typeof e===x?{field:e,dir:n,compare:r,skipItemSorting:o}:e,h=c(l)?l:l!==t?[l]:[];return map(h,(function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates,compare:e.compare,skipItemSorting:e.skipItemSorting}}))}function re(e,t,n){for(var r=ne(e,t,n),i=0;i<r.length;i++)delete r[i].compare;return r}function oe(e,t,n,r,o,l){var c,h,d,f=(t=t||[]).length;for(c=0;c<f;c++){d=(h=t[c]).aggregate;var m=h.field;e[m]=e[m]||{},l[m]=l[m]||{},l[m][d]=l[m][d]||{},e[m][d]=se[d.toLowerCase()](e[m][d],n,v.accessor(m),r,o,l[m][d])}}Q.normalizeFilter=Z,Q.compareFilters=function e(t,n){if(t=te(t),n=te(n),t.logic!==n.logic)return!1;var r,o,l=(t.filters||[]).slice(),c=(n.filters||[]).slice();if(l.length!==c.length)return!1;l=l.sort(ie),c=c.sort(ie);for(var h=0;h<l.length;h++)if(r=l[h],o=c[h],r.logic&&o.logic){if(!e(r,o))return!1}else if(!ee(r,o))return!1;return!0},Q.prototype={toArray:function(){return this.data},range:function(e,t){return new Q(this.data.slice(e,e+t))},skip:function(e){return new Q(this.data.slice(e))},take:function(e){return new Q(this.data.slice(0,e))},select:function(e){return new Q(map(this.data,e))},order:function(e,t,n){var r={dir:t};return e&&(e.compare?r.compare=e.compare:r.field=e),new Q(n?this.data.sort($.create(r)):this.data.slice(0).sort($.create(r)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,n,r){var o,l,c=X(e,t),h=[];if(n=n||$,c.length){for(o=0,l=c.length;o<l;o++)h.push(n.create(c[o]));return this.orderBy({compare:n.combine(h)},r)}return this},filter:function(e){var t,n,r,o,l,c,h,filter,data=this.data,d=[];if(!(e=Z(e))||0===e.filters.length)return this;for(o=Q.filterExpr(e),c=o.fields,h=o.operators,l=filter=new Function("d, __f, __o","return "+o.expression),(c.length||h.length)&&(filter=function(e){return l(e,c,h)}),t=0,r=data.length;t<r;t++)filter(n=data[t])&&d.push(n);return new Q(d)},group:function(e,t){e=ne(e||[]),t=t||this.data;var n,r=new Q(this.data);return e.length>0&&(n=e[0],r=r.groupBy(n).select((function(r){var data=new Q(t).filter([{field:r.field,operator:"eq",value:r.value,ignoreCase:!1}]);return{field:r.field,value:r.value,items:e.length>1?new Q(r.items).group(e.slice(1),data.toArray()).toArray():r.items,hasSubgroups:e.length>1,aggregates:data.aggregate(n.aggregates)}}))),r},groupBy:function(e){if(l(e)||!this.data.length)return new Q([]);var t,n,r,o,a,b,c=e.field,h=e.skipItemSorting?this.data:this._sortForGrouping(c,e.dir||"asc"),d=v.accessor(c),f=d.get(h[0],c),m={field:c,value:f,items:[]},_=[m];for(r=0,o=h.length;r<o;r++)t=h[r],a=f,b=n=d.get(t,c),(a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b)||(m={field:c,value:f=n,items:[]},_.push(m)),m.items.push(t);return new Q(_=this._sortGroups(_,e))},_sortForGrouping:function(e,t){var n,r,data=this.data;if(!L){for(n=0,r=data.length;n<r;n++)data[n].__position=n;for(n=0,r=(data=new Q(data).sort(e,t,Y).toArray()).length;n<r;n++)delete data[n].__position;return data}return this.sort(e,t).toArray()},_sortGroups:function(e,t){var n=e;return t&&_(t.compare)&&(n=new Q(n).order({compare:t.compare},t.dir||"asc").toArray()),n},aggregate:function(e){var t,n,r={},o={};if(e&&e.length)for(t=0,n=this.data.length;t<n;t++)oe(r,e,this.data[t],t,n,o);return r}};var se={sum:function(e,t,n){var r=n.get(t);return ae(e)?ae(r)&&(e+=r):e=r,e},count:function(e){return(e||0)+1},average:function(e,n,r,o,l,c){var h=r.get(n);return c.count===t&&(c.count=0),ae(e)?ae(h)&&(e+=h):e=h,ae(h)&&c.count++,o==l-1&&ae(e)&&(e/=c.count),e},max:function(e,t,n){var r=n.get(t);return ae(e)||le(e)||(e=r),e<r&&(ae(r)||le(r))&&(e=r),e},min:function(e,t,n){var r=n.get(t);return ae(e)||le(e)||(e=r),e>r&&(ae(r)||le(r))&&(e=r),e}};function ae(e){return"number"==typeof e&&!isNaN(e)}function le(e){return e&&e.getTime}function ce(e){var t,n=e.length,r=new Array(n);for(t=0;t<n;t++)r[t]=e[t].toJSON();return r}Q.normalizeGroup=ne,Q.normalizeSort=X,Q.process=function(data,e,r){var o,l,h=(e=e||{}).group,d=function(e){for(var t=c(e)?e:[e],i=0;i<t.length;i++)if(t[i]&&_(t[i].compare))return!0;return!1}(ne(h||[])),f=new Q(data),m=re(h||[]),v=X(e.sort||[]),w=d?v:m.concat(v),y=e.filterCallback,filter=e.filter,x=e.skip,k=e.take;return w&&r&&(f=f.sort(w,t,t,r)),filter&&(f=f.filter(filter),y&&(f=y(f)),l=f.toArray().length),w&&(r||(f=f.sort(w)),h&&(data=f.toArray())),d?(f=f.group(h,data),x!==t&&k!==t&&(f=new Q(function e(t,n){for(var r,o,l=[],c=(t||[]).length,h=_(n)?n:function(e,t){return e[t]},d=0;d<c;d++)if((r=h(t,d)).hasSubgroups)l=l.concat(e(r.items));else{o=r.items;for(var f=0;f<o.length;f++)l.push(h(o,f))}return l}(f.toArray())).range(x,k),o=map(m,(function(e){return n({},e,{skipItemSorting:!0})})),f=f.group(o,data))):(x!==t&&k!==t&&(f=f.range(x,k)),h&&(f=f.group(h,data))),{total:l,data:f.toArray()}};var he=y.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),de=y.extend({init:function(e){var t;e=this.options=n({},this.options,e),f(C,(function(t,n){typeof e[n]===x&&(e[n]={url:e[n]})})),this.cache=e.cache?ue.create(e.cache):{find:m,add:m},t=e.parameterMap,e.submit&&(this.submit=e.submit),_(e.push)&&(this.push=e.push),this.push||(this.push=S),this.parameterMap=_(t)?t:function(e){var n={};return f(e,(function(option,e){option in t&&(option=t[option],o(option)&&(e=option.value(e),option=option.key)),n[option]=e})),n}},options:{parameterMap:S},create:function(e){return d(this.setup(e,"create"))},read:function(n){var r,o,l=this.cache;n=this.setup(n,"read"),r=n.success||m,n.error,(o=l.find(n.data))!==t?r(o):(n.success=function(e){l.add(n.data,e),r(e)},e.ajax(n))},update:function(e){return d(this.setup(e,"update"))},destroy:function(e){return d(this.setup(e,"destroy"))},setup:function(e,t){e=e||{};var r,o=this.options[t],data=_(o.data)?o.data(e.data):o.data;return e=n(!0,{},o,e),r=n(!0,{},data,e.data),e.data=this.parameterMap(r,t),_(e.url)&&(e.url=e.url(r)),e}}),ue=y.extend({init:function(){this._store={}},add:function(e,data){e!==t&&(this._store[D(e)]=data)},find:function(e){return this._store[D(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[D(e)]}});function pe(data,e,t,n,r){var o,l,c,h,d,f={};for(h=0,d=data.length;h<d;h++)for(l in o=data[h],e)(c=r[l])&&c!==l&&(f[c]||(f[c]=v.setter(c)),f[c](o,e[l](o)),delete o[l])}function fe(data,e,t,n,r){var o,l,c,h,d;for(h=0,d=data.length;h<d;h++)for(l in o=data[h],e)o[l]=t._parse(l,e[l](o)),(c=r[l])&&c!==l&&delete o[c]}function ge(data,e,t,n,r){var o,l,c,h;for(l=0,h=data.length;l<h;l++)(c=n[(o=data[l]).field])&&c!=o.field&&(o.field=c),o.value=t._parse(o.field,o.value),o.hasSubgroups?ge(o.items,e,t,n,r):fe(o.items,e,t,0,r)}function me(e,t,n,r,o,l){return function(data){return data=e(data),ve(t,n,r,o,l)(data)}}function ve(e,t,n,r,o){return function(data){return data&&!l(n)&&("[object Array]"===B.call(data)||data instanceof N||(data=[data]),t(data,n,new e,r,o)),data||[]}}ue.create=function(e){var t={inmemory:function(){return new ue}};return o(e)&&_(e.find)?e:!0===e?new ue:t[e]()};var _e=y.extend({init:function(e){var t,n,l,base;for(t in e=e||{})n=e[t],this[t]=typeof n===x?T(n):n;base=e.modelBase||G,o(this.model)&&(this.model=l=base.define(this.model));var c=r(this.data,this);if(this._dataAccessFunction=c,this.model){var h,d,m=r(this.groups,this),v=r(this.serialize,this),_={},w={},y={},k={},C=!1;(l=this.model).fields&&(f(l.fields,(function(e,t){var n;h=e,o(t)&&t.field?h=t.field:typeof t===x&&(h=t),o(t)&&t.from&&(n=t.from),C=C||n&&n!==e||h!==e,d=n||h,w[e]=-1!==d.indexOf(".")?T(d,!0):T(d),y[e]=T(e),_[n||h]=e,k[e]=n||h})),!e.serialize&&C&&(this.serialize=me(v,l,pe,y,_,k))),this._dataAccessFunction=c,this._wrapDataAccessBase=ve(l,fe,w,_,k),this.data=me(c,l,fe,w,_,k),this.groups=me(m,l,ge,w,_,k)}},errors:function(data){return data?data.errors:null},parse:S,data:S,total:function(data){return data.length},groups:S,aggregates:function(){return{}},serialize:function(data){return data}});function be(data){var e,t,n,r,o=[];for(e=0,t=data.length;e<t;e++){var l=data.at(e);if(l.hasSubgroups)o=o.concat(be(l.items));else for(n=l.items,r=0;r<n.length;r++)o.push(n.at(r))}return o}function we(e,data,t,n){for(var r=0;r<e.length&&e[r].data!==data&&!ye(e[r].data,t,n);r++);}function ye(e,t,n){for(var r=0,o=e.length;r<o;r++){if(e[r]&&e[r].hasSubgroups)return ye(e[r].items,t,n);if(e[r]===t||e[r]===n)return e[r]=n,!0}}function xe(data,e){return e?Ce(data,(function(t){return t.uid&&t.uid==e.uid||t[e.idField]===e.id&&e.id!==e._defaultId})):-1}function ke(data,e){return e?Ce(data,(function(t){return t.uid==e.uid})):-1}function Ce(data,e){var t,n;for(t=0,n=data.length;t<n;t++)if(e(data[t]))return t;return-1}function Se(e,t){if(e&&!l(e)){var n,r=e[t];return n=o(r)?r.from||r.field||t:e[t]||t,_(n)?t:n}return t}function Te(e,t){var n,r,o,l,h=[];for(n=0,r=e.length;n<r;n++){for(var d in o={},l=e[n])o[d]=l[d];o.field=Se(t.fields,o.field),o.aggregates&&c(o.aggregates)&&(o.aggregates=Te(o.aggregates,t)),h.push(o)}return h}var De=w.extend({init:function(e){var data,o=this;if(e&&(data=e.data),e=o.options=n({},o.options,e),o._map={},o._prefetch={},o._data=[],o._pristineData=[],o._ranges=[],o._view=[],o._pristineTotal=0,o._destroyed=[],o._pageSize=e.pageSize,o._page=e.page||(e.pageSize?1:t),o._sort=X(e.sort),o._filter=Z(e.filter),o._group=ne(e.group),o._aggregate=e.aggregate,o._total=e.total,o._shouldDetachObservableParents=!0,w.fn.init.call(o),o.transport=Ee.create(e,data,o),_(o.transport.push)&&o.transport.push({pushCreate:r(o._pushCreate,o),pushUpdate:r(o._pushUpdate,o),pushDestroy:r(o._pushDestroy,o)}),null!=e.offlineStorage)if("string"==typeof e.offlineStorage){var l=e.offlineStorage;o._storage={getItem:function(){return JSON.parse(localStorage.getItem(l))},setItem:function(e){localStorage.setItem(l,D(o.reader.serialize(e)))}}}else o._storage=e.offlineStorage;o.reader=new v.data.readers[e.schema.type||"json"](e.schema),o.reader.model,o._detachObservableParents(),o._data=o._observe(o._data),o._online=!0,o.bind(["push","error",k,"requestStart","sync","requestEnd","progress"],e)},options:{data:null,schema:{modelBase:G},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(n){return n!==t?this._online!=n&&(this._online=n,n)?this.sync():e.Deferred().resolve().promise():this._online},offlineData:function(e){return null==this.options.offlineStorage?null:e!==t?this._storage.setItem(e):this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var data=this._readData(e);data||(data=e),this[t](data)},_flatData:function(data,e){if(data){if(this._isServerGrouped())return be(data);if(!e)for(var t=0;t<data.length;t++)data.at(t)}return data},parent:m,get:function(e){var t,n,data=this._flatData(this._data,this.options.useRanges);for(t=0,n=data.length;t<n;t++)if(data[t].id==e)return data[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var n,r,data=this._flatData(t,this.options.useRanges);if(data)for(n=0,r=data.length;n<r;n++)if(data[n].uid==e)return data[n]},indexOf:function(e){return ke(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){if(e===t){if(this._data)for(var n=0;n<this._data.length;n++)this._data.at(n);return this._data}this._detachObservableParents(),this._data=this._observe(e),this._pristineData=e.slice(0),this._storeData(),this._ranges=[],this.trigger("reset"),this._addRange(this._data),this._total=this._data.length,this._pristineTotal=this._total,this._process(this._data)},view:function(e){if(e===t)return this._view;this._view=this._observeView(e)},_observeView:function(data){var e=this;!function e(view,data,n,r,o){for(var l=0,c=view.length;l<c;l++){var h=view[l];if(h&&!(h instanceof r))if(h.hasSubgroups===t||o){for(var d=0;d<data.length;d++)if(data[d]===h){view[l]=data.at(d),we(n,data,h,view[l]);break}}else e(h.items,data,n,r,o)}}(data,e._data,e._ranges,e.reader.model||W,e._isServerGrouped());var view=new O(data,e.reader.model);return view.parent=function(){return e.parent()},view},flatView:function(){return(this.group()||[]).length?be(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof W?e:new W(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof G||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),this._insertModelInRange(e,t),t},pushInsert:function(t,n){var r=this._getCurrentRangeSpan();n||(n=t,t=0),c(n)||(n=[n]);var o=[],l=this.options.autoSync;this.options.autoSync=!1;try{for(var h=0;h<n.length;h++){var d=n[h],f=this.insert(t,d);o.push(f);var m=f.toJSON();this._isServerGrouped()&&(m=this._wrapInEmptyGroup(m)),this._pristineData.push(m),r&&r.length&&e(r).last()[0].pristineData.push(m),t++}}finally{this.options.autoSync=l}o.length&&this.trigger("push",{type:"create",items:o})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){c(e)||(e=[e]);for(var t=[],n=0;n<e.length;n++){var r=e[n],o=this._createNewModel(r),l=this.get(o.id);l?(t.push(l),l.accept(r),l.trigger(k),this._updatePristineForModel(l,r)):this.pushCreate(r)}t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e,t){c(e)||(e=[e]);var n=void 0===t||t,r=[],o=this.options.autoSync;this.options.autoSync=!1;try{for(var l=0;l<e.length;l++){var h=e[l],d=this._createNewModel(h),f=!1;this._eachItem(this._data,(function(e){for(var t=0;t<e.length;t++){var n=e.at(t);if(n.id===d.id){r.push(n),e.splice(t,1),f=!0;break}}})),f&&n&&(this._removePristineForModel(d),this._destroyed.pop())}}finally{this.options.autoSync=o}return r},remove:function(e){var t,n=this,r=n._isServerGrouped();return this._eachItem(n._data,(function(o){if((t=function(data,e){var t,n,r=data.length;for(n=0;n<r;n++)if((t=data[n]).uid&&t.uid==e.uid)return data.splice(n,1),t}(o,e))&&r)return t.isNew&&t.isNew()||n._destroyed.push(t),!0})),this._removeModelFromRanges(e),e},destroyed:function(){return this._destroyed},created:function(){var e,t,n=[],data=this._flatData(this._data,this.options.useRanges);for(e=0,t=data.length;e<t;e++)data[e].isNew&&data[e].isNew()&&n.push(data[e]);return n},updated:function(){var e,t,n=[],data=this._flatData(this._data,this.options.useRanges);for(e=0,t=data.length;e<t;e++)data[e].isNew&&!data[e].isNew()&&data[e].dirty&&n.push(data[e]);return n},sync:function(){var t=this,n=[],r=[],o=t._destroyed,l=e.Deferred().resolve().promise();if(t.online()){if(!t.reader.model)return l;n=t.created(),r=t.updated();var c=[];t.options.batch&&t.transport.submit?c=t._sendSubmit(n,r,o):(c.push.apply(c,t._send("create",n)),c.push.apply(c,t._send("update",r)),c.push.apply(c,t._send("destroy",o))),l=e.when.apply(null,c).then((function(){var e,n;for(e=0,n=arguments.length;e<n;e++)arguments[e]&&t._accept(arguments[e]);t._storeData(!0),t._syncEnd(),t._change({action:"sync"}),t.trigger("sync")}))}else t._storeData(!0),t._syncEnd(),t._change({action:"sync"});return l},_syncEnd:m,cancelChanges:function(e){e instanceof v.data.Model?this._cancelModel(e):(this._destroyed=[],this._detachObservableParents(),this._data=this._observe(this._pristineData),this.options.serverPaging&&(this._total=this._pristineTotal),this._ranges=[],this._addRange(this._data,0),this._changesCanceled(),this._change(),this._markOfflineUpdatesAsDirty())},_changesCanceled:m,_markOfflineUpdatesAsDirty:function(){null!=this.options.offlineStorage&&this._eachItem(this._data,(function(e){for(var t=0;t<e.length;t++){var n=e.at(t);"update"!=n.__state__&&"create"!=n.__state__||(n.dirty=!0)}}))},hasChanges:function(){var e,t,data=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(e=0,t=data.length;e<t;e++)if(data[e].isNew&&data[e].isNew()||data[e].dirty)return!0;return!1},_accept:function(t){var n,r=t.models,o=t.response,h=0,d=this._isServerGrouped(),f=this._pristineData,m=t.type;if(this.trigger("requestEnd",{response:o,type:m}),o&&!l(o)){if(o=this.reader.parse(o),this._handleCustomErrors(o))return;o=this.reader.data(o),c(o)||(o=[o])}else o=e.map(r,(function(e){return e.toJSON()}));for("destroy"===m&&(this._destroyed=[]),h=0,n=r.length;h<n;h++)"destroy"!==m?(r[h].accept(o[h]),"create"===m?f.push(d?this._wrapInEmptyGroup(r[h].toJSON()):o[h]):"update"===m&&this._updatePristineForModel(r[h],o[h])):this._removePristineForModel(r[h])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,(function(e,n){v.deepExtend(n[e],t)}))},_executeOnPristineForModel:function(e,t){this._eachPristineItem((function(n){var r=xe(n,e);if(r>-1)return t(r,n),!0}))},_removePristineForModel:function(e){this._executeOnPristineForModel(e,(function(e,t){t.splice(e,1)}))},_readData:function(data){return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,data)},_eachPristineItem:function(e){var t=this,n=t.options,r=t._getCurrentRangeSpan();t._eachItem(t._pristineData,e),n.serverPaging&&n.useRanges&&f(r,(function(i,n){t._eachItem(n.pristineData,e)}))},_eachItem:function(data,e){data&&data.length&&(this._isServerGrouped()?function e(data,t){for(var n=0;n<data.length;n++)if(data[n].hasSubgroups){if(e(data[n].items,t))return!0}else if(t(data[n].items,data[n]))return!0}(data,e):e(data))},_pristineForModel:function(e){var t,n;return this._eachPristineItem((function(r){if((n=xe(r,e))>-1)return t=r[n],!0})),t},_cancelModel:function(e){var t=this,n=this._pristineForModel(e);this._eachItem(this._data,(function(r){var o=ke(r,e);o>=0&&(!n||e.isNew()&&!n.__state__?(t._modelCanceled(e),r.splice(o,1),t._removeModelFromRanges(e)):(r[o].accept(n),"update"==n.__state__&&(r[o].dirty=!0)))}))},_modelCanceled:m,_submit:function(t,data){var r=this;r.trigger("requestStart",{type:"submit"}),r.trigger("progress"),r.transport.submit(n({success:function(n,r){var o=e.grep(t,(function(e){return e.type==r}))[0];o&&o.resolve({response:n,models:o.models,type:r})},error:function(e,n,o){for(var l=0;l<t.length;l++)t[l].reject(e);r.error(e,n,o)}},data))},_sendSubmit:function(t,n,r){var o=[];return this.options.batch&&(t.length&&o.push(e.Deferred((function(e){e.type="create",e.models=t}))),n.length&&o.push(e.Deferred((function(e){e.type="update",e.models=n}))),r.length&&o.push(e.Deferred((function(e){e.type="destroy",e.models=r}))),this._submit(o,{data:{created:this.reader.serialize(ce(t)),updated:this.reader.serialize(ce(n)),destroyed:this.reader.serialize(ce(r))}})),o},_promise:function(data,t,r){var o=this;return e.Deferred((function(e){o.trigger("requestStart",{type:r}),o.trigger("progress"),o.transport[r].call(o.transport,n({success:function(n){e.resolve({response:n,models:t,type:r})},error:function(t,n,r){e.reject(t),o.error(t,n,r)}},data))})).promise()},_send:function(e,data){var t,n,r=[],o=this.reader.serialize(ce(data));if(this.options.batch)data.length&&r.push(this._promise({data:{models:o}},data,e));else for(t=0,n=data.length;t<n;t++)r.push(this._promise({data:o[t]},[data[t]],e));return r},read:function(data){var t=this,n=t._params(data),r=e.Deferred();return t._queueRequest(n,(function(){var e=t.trigger("requestStart",{type:"read"});e?(t._dequeueRequest(),r.resolve(e)):(t.trigger("progress"),t._ranges=[],t.trigger("reset"),t.online()?t.transport.read({data:n,success:function(data){t._ranges=[],t.success(data,n),r.resolve()},error:function(){var e=P.call(arguments);t.error.apply(t,e),r.reject.apply(r,e)}}):null!=t.options.offlineStorage&&(t.success(t.offlineData(),n),r.resolve()))})),r.promise()},_readAggregates:function(data){return this.reader.aggregates(data)},success:function(data){var e,t,n=this.options;if(this.trigger("requestEnd",{response:data,type:"read"}),this.online()){if(data=this.reader.parse(data),this._handleCustomErrors(data))return void this._dequeueRequest();this._total=this.reader.total(data),this._pageSize>this._total&&(this._pageSize=this._total,this.options.pageSize&&this.options.pageSize>this._pageSize&&(this._pageSize=this.options.pageSize)),this._aggregate&&n.serverAggregates&&(this._aggregateResult=this._readAggregates(data)),data=this._readData(data),this._destroyed=[]}else{data=this._readData(data),e=[];var r,o={},l=this.reader.model,c=l?l.idField:"id";for(r=0;r<this._destroyed.length;r++){var h=this._destroyed[r][c];o[h]=h}for(r=0;r<data.length;r++){var d=data[r];"destroy"==d.__state__?o[d[c]]||this._destroyed.push(this._createNewModel(d)):e.push(d)}data=e,this._total=data.length}if(this._pristineTotal=this._total,t=this._skip&&this._data.length&&this._skip<this._data.length,this.options.endless){t&&this._pristineData.splice(this._skip,this._pristineData.length),e=data.slice(0);for(var f=0;f<e.length;f++)this._pristineData.push(e[f])}else this._pristineData=data.slice(0);if(this._detachObservableParents(),this.options.endless){this._data.unbind(k,this._changeHandler),this._isServerGrouped()&&this._data[this._data.length-1].value===data[0].value&&(function e(t,n){var r,o;if(n.items&&n.items.length)for(var i=0;i<n.items.length;i++)r=t.items[i],o=n.items[i],r&&o?r.hasSubgroups?e(r,o):r.field&&r.value==o.value?r.items.push.apply(r.items,o.items):t.items.push.apply(t.items,[o]):o&&t.items.push.apply(t.items,[o])}(this._data[this._data.length-1],data[0]),data.shift()),data=this._observe(data),t&&this._data.splice(this._skip,this._data.length);for(var i=0;i<data.length;i++)this._data.push(data[i]);this._data.bind(k,this._changeHandler)}else this._data=this._observe(data);this._markOfflineUpdatesAsDirty(),this._storeData(),this._addRange(this._data),this._process(this._data),this._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)this._data[e].parent&&(this._data[e].parent=m)},_storeData:function(e){var t=this._isServerGrouped(),n=this.reader.model;if(null!=this.options.offlineStorage){for(var r=function e(data){for(var r=[],o=0;o<data.length;o++){var l=data.at(o),c=l.toJSON();t&&l.items?c.items=e(l.items):(c.uid=l.uid,n&&(l.isNew()?c.__state__="create":l.dirty&&(c.__state__="update"))),r.push(c)}return r}(this._data),o=[],l=0;l<this._destroyed.length;l++){var c=this._destroyed[l].toJSON();c.__state__="destroy",o.push(c)}this.offlineData(r.concat(o)),e&&(this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(r):this.reader._wrapDataAccessBase(r))}},_addRange:function(data,e){var t=void 0!==e?e:this._skip||0,n=t+this._flatData(data,!0).length;this._ranges.push({start:t,end:n,data:data,pristineData:data.toJSON(),timestamp:this._timeStamp()}),this._sortRanges()},_sortRanges:function(){this._ranges.sort((function(e,t){return e.start-t.start}))},error:function(e,t,n){this._dequeueRequest(),this.trigger("requestEnd",{}),this.trigger("error",{xhr:e,status:t,errorThrown:n})},_params:function(data){var e=n({take:this.take(),skip:this.skip(),page:this.page(),pageSize:this.pageSize(),sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate},data);return this.options.serverPaging||(delete e.take,delete e.skip,delete e.page,delete e.pageSize),this.options.serverGrouping?this.reader.model&&e.group&&(e.group=Te(e.group,this.reader.model)):delete e.group,this.options.serverFiltering?this.reader.model&&e.filter&&(e.filter=function e(t,n){var r,o,l={};for(var c in t)"filters"!==c&&(l[c]=t[c]);if(t.filters)for(l.filters=[],r=0,o=t.filters.length;r<o;r++)l.filters[r]=e(t.filters[r],n);else l.field=Se(n.fields,l.field);return l}(e.filter,this.reader.model)):delete e.filter,this.options.serverSorting?this.reader.model&&e.sort&&(e.sort=Te(e.sort,this.reader.model)):delete e.sort,this.options.serverAggregates?this.reader.model&&e.aggregate&&(e.aggregate=Te(e.aggregate,this.reader.model)):delete e.aggregate,e},_queueRequest:function(e,n){this._requestInProgress?this._pending={callback:r(n,this),options:e}:(this._requestInProgress=!0,this._pending=t,n())},_dequeueRequest:function(){this._requestInProgress=!1,this._pending&&this._queueRequest(this._pending.options,this._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger("error",{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(data){var e=this.reader.model;return!(!e||!data.length||data[0]instanceof e)},_observe:function(data){var e=this,t=e.reader.model;return e._shouldDetachObservableParents=!0,data instanceof N?(e._shouldDetachObservableParents=!1,e._shouldWrap(data)&&(data.type=e.reader.model,data.wrapAll(data,data))):(data=new(e.pageSize()&&!e.options.serverPaging?O:N)(data,e.reader.model)).parent=function(){return e.parent()},e._isServerGrouped()&&function e(data,t){var n,r,o;if(t)for(n=0,r=data.length;n<r;n++)(o=data.at(n)).hasSubgroups?e(o.items,t):o.items=new O(o.items,t,o.items._events)}(data,t),!(e._changeHandler&&e._data&&e._data instanceof N)||e.options.useRanges&&e.options.serverPaging?e._changeHandler=r(e._change,e):e._data.unbind(k,e._changeHandler),data.bind(k,e._changeHandler)},_updateTotalForAction:function(e,t){var n=parseInt(this._total,10);ae(this._total)||(n=parseInt(this._pristineTotal,10)),"add"===e?n+=t.length:"remove"===e?n-=t.length:"itemchange"===e||"sync"===e||this.options.serverPaging?"sync"===e&&(n=this._pristineTotal=parseInt(this._total,10)):n=this._pristineTotal,this._total=n},_change:function(e){var t,n,r=this,o=e?e.action:"";if("remove"===o)for(t=0,n=e.items.length;t<n;t++)e.items[t].isNew&&e.items[t].isNew()||r._destroyed.push(e.items[t]);if(!r.options.autoSync||"add"!==o&&"remove"!==o&&"itemchange"!==o)r._updateTotalForAction(o,e?e.items:[]),r._process(r._data,e);else{var l=function(t){"sync"===t.action&&(r.unbind("change",l),r._updateTotalForAction(o,e.items))};r.first("change",l),r.sync()}},_calculateAggregates:function(data,e){e=e||{};var t=new Q(data),n=e.aggregate,filter=e.filter;return filter&&(t=t.filter(filter)),t.aggregate(n)},_process:function(data,e){var n,r={};!0!==this.options.serverPaging&&(r.skip=this._skip,r.take=this._take||this._pageSize,r.skip===t&&this._page!==t&&this._pageSize!==t&&(r.skip=(this._page-1)*this._pageSize),this.options.useRanges&&(r.skip=this.currentRangeStart())),!0!==this.options.serverSorting&&(r.sort=this._sort),!0!==this.options.serverFiltering&&(r.filter=this._filter),!0!==this.options.serverGrouping&&(r.group=this._group),!0!==this.options.serverAggregates&&(r.aggregate=this._aggregate),this.options.serverGrouping&&this._clearEmptyGroups(data),n=this._queryProcess(data,r),!0!==this.options.serverAggregates&&(this._aggregateResult=this._calculateAggregates(n.dataToAggregate||data,r)),this.view(n.data),this._setFilterTotal(n.total,!1),(e=e||{}).items=e.items||this._view,this.trigger(k,e)},_clearEmptyGroups:function(data){for(var e=data.length-1;e>=0;e--){var t=data[e];t.hasSubgroups?this._clearEmptyGroups(t.items):t.items&&!t.items.length&&R.apply(t.parent(),[e,1])}},_queryProcess:function(data,e){return this.options.inPlaceSort?Q.process(data,e,this.options.inPlaceSort):Q.process(data,e)},_mergeState:function(n){var r;return n!==t&&(this._pageSize=n.pageSize,this._page=n.page,this._sort=n.sort,this._filter=n.filter,this._group=n.group,this._aggregate=n.aggregate,this._skip=this._currentRangeStart=n.skip,this._take=n.take,this._skip===t&&(this._skip=this._currentRangeStart=this.skip(),n.skip=this.skip()),this._take===t&&this._pageSize!==t&&(this._take=this._pageSize,n.take=this._take),n.sort&&(this._sort=n.sort=X(n.sort)),n.filter&&(this._filter=n.filter=this.options.accentFoldingFiltering&&!e.isEmptyObject(n.filter)?e.extend({},Z(n.filter),{accentFoldingFiltering:this.options.accentFoldingFiltering}):Z(n.filter)),n.group&&(this._group=n.group=ne(n.group)),n.aggregate&&(this._aggregate=n.aggregate=(r=n.aggregate,c(r)?r:[r]))),n},query:function(n){var r;if(this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===t||0===this._data.length)&&!this._destroyed.length){if(this.options.endless){var o=n.pageSize-this.pageSize();o>0?(o=this.pageSize(),n.page=n.pageSize/o,n.pageSize=o):(n.page=1,this.options.endless=!1)}return this.read(this._mergeState(n))}var l=this.trigger("requestStart",{type:"read"});return l||(this.trigger("progress"),r=this._queryProcess(this._data,this._mergeState(n)),this._setFilterTotal(r.total,!0),this._aggregateResult=this._calculateAggregates(r.dataToAggregate||this._data,n),this.view(r.data),this.trigger("requestEnd",{type:"read"}),this.trigger(k,{items:r.data})),e.Deferred().resolve(l).promise()},_setFilterTotal:function(e,n){this.options.serverFiltering||(e!==t?this._total=e:n&&(this._total=this._data.length))},fetch:function(e){var t=this;return this._query().done((function(n){!0!==n&&_(e)&&e.call(t)}))},_query:function(e){return this.query(n({},{page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),aggregate:this.aggregate()},e))},next:function(e){var t=this.page(),n=this.total();if(e=e||{},t&&!(n&&t+1>this.totalPages()))return this._skip=this._currentRangeStart=t*this.take(),t+=1,e.page=t,this._query(e),t},prev:function(e){var t=this.page();if(e=e||{},t&&1!==t)return this._skip=this._currentRangeStart=this._skip-this.take(),t-=1,e.page=t,this._query(e),t},page:function(e){var n;return e!==t?(e=E.max(E.min(E.max(e,1),this.totalPages()),1),void this._query(this._pageableQueryOptions({page:e}))):(n=this.skip())!==t?E.round((n||0)/(this.take()||1))+1:t},pageSize:function(e){if(e===t)return this.take();this._query(this._pageableQueryOptions({pageSize:e,page:1}))},sort:function(e){if(e===t)return this._sort;this._query({sort:e})},filter:function(e){if(e===t)return this._filter;this.trigger("reset"),this._query({filter:e,page:1})},group:function(e){if(e===t)return this._group;this._query({group:e})},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){if(e===t)return this._aggregate;this._query({aggregate:e})},aggregates:function(){var e=this._aggregateResult;return l(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregates:function(e){var t={};if(!l(e)){var n={};c(e)||(e=[e]);for(var r=0;r<e.length;r++)n[e[r].aggregate]=0,t[e[r].field]=n}return t},_pageableQueryOptions:function(e){return e},_wrapInEmptyGroup:function(e){var t,n,r,o=this.group();for(r=o.length-1;r>=0;r--)n=o[r],t={value:e.get?e.get(n.field):e[n.field],field:n.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(n.aggregates)};return t},totalPages:function(){var e=this.pageSize()||this.total();return E.ceil((this.total()||0)/e)},inRange:function(e,t){var n=E.min(e+t,this.total());return!this.options.serverPaging&&this._data.length>0||this._findRange(e,n).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(e,n,r){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,e=E.min(e||0,this.total()),r=_(r)?r:m;var data,o=this,l=E.max(E.floor(e/n),0)*n,c=E.min(l+n,o.total());if((data=o._findRange(e,E.min(e+n,o.total()))).length||0===o.total())return o._processRangeData(data,e,n,l,c),void r();n!==t&&(o._rangeExists(l,c)?l<e&&o.prefetch(c,n,(function(){o.range(e,n,r)})):o.prefetch(l,n,(function(){e>l&&c<o.total()&&!o._rangeExists(c,E.min(c+n,o.total()))?o.prefetch(c,n,(function(){o.range(e,n,r)})):o.range(e,n,r)})))},_findRange:function(e,n){var r,o,l,c,h,d,f,m,v,_,w,y=this._ranges,data=[],x=this.options,k=x.serverSorting||x.serverPaging||x.serverFiltering||x.serverGrouping||x.serverAggregates;for(o=0,w=y.length;o<w;o++)if(e>=(r=y[o]).start&&e<=r.end){for(_=0,l=o;l<w;l++)if(r=y[l],(v=this._flatData(r.data,!0)).length&&e+_>=r.start){if(d=r.data,f=r.end,!k){if(x.inPlaceSort)m=this._queryProcess(r.data,{filter:this.filter()});else{var C=re(this.group()||[]).concat(X(this.sort()||[]));m=this._queryProcess(r.data,{sort:C,filter:this.filter()})}v=d=m.data,m.total!==t&&(f=m.total)}if(c=0,e+_>r.start&&(c=e+_-r.start),h=v.length,f>n&&(h-=f-n),_+=h-c,data=this._mergeGroups(data,d,c,h),n<=r.end&&_==n-e)return data}break}return[]},_mergeGroups:function(data,e,t,n){if(this._isServerGrouped()){var r,o=e.toJSON();return data.length&&(r=data[data.length-1]),function e(t,n,r,o){for(var l,c,h=0;n.length&&o;){var d=(c=(l=n[h]).items).length;if(t&&t.field===l.field&&t.value===l.value?(t.hasSubgroups&&t.items.length?e(t.items[t.items.length-1],l.items,r,o):(c=c.slice(r,r+o),t.items=t.items.concat(c)),n.splice(h--,1)):l.hasSubgroups&&c.length?(e(l,c,r,o),l.items.length||n.splice(h--,1)):(c=c.slice(r,r+o),l.items=c,l.items.length||n.splice(h--,1)),0===c.length?r-=d:(r=0,o-=c.length),++h>=n.length)break}h<n.length&&n.splice(h,n.length-h)}(r,o,t,n),data.concat(o)}return data.concat(e.slice(t,n))},_processRangeData:function(data,e,n,r,o){this._pending=t,this._skip=e>this.skip()?E.min(o,(this.totalPages()-1)*this.take()):r,this._currentRangeStart=e,this._take=n;var l=this.options.serverPaging,c=this.options.serverSorting,h=this.options.serverFiltering,d=this.options.serverAggregates;try{this.options.serverPaging=!0,this._isServerGrouped()||this.group()&&this.group().length||(this.options.serverSorting=!0),this.options.serverFiltering=!0,this.options.serverPaging=!0,this.options.serverAggregates=!0,l&&(this._detachObservableParents(),this._data=data=this._observe(data)),this._process(data)}finally{this.options.serverPaging=l,this.options.serverSorting=c,this.options.serverFiltering=h,this.options.serverAggregates=d}},skip:function(){return this._skip===t?this._page!==t?(this._page-1)*(this.take()||1):t:this._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,n,r){var o=this,l=o._timeStamp();return function(data){var c,h,d,f=!1,m={start:e,end:t,data:[],timestamp:o._timeStamp()};if(o._dequeueRequest(),o.trigger("requestEnd",{response:data,type:"read"}),data=o.reader.parse(data),(d=o._readData(data)).length){for(c=0,h=o._ranges.length;c<h;c++)if(o._ranges[c].start===e){f=!0,(m=o._ranges[c]).pristineData=d,m.data=o._observe(d),m.end=m.start+o._flatData(m.data,!0).length,o._sortRanges();break}f||o._addRange(o._observe(d),e)}o._total=o.reader.total(data),(r||l>=o._currentRequestTimeStamp||!o._skipRequestsInProgress)&&(n&&d.length?n():o.trigger(k,{}))}},prefetch:function(e,t,n){var r=this,o=E.min(e+t,r.total()),l={take:t,skip:e,page:e/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(e,o)?n&&n():(clearTimeout(r._timeout),r._timeout=setTimeout((function(){r._queueRequest(l,(function(){r.trigger("requestStart",{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(l),success:r._prefetchSuccessHandler(e,o,n),error:function(){var e=P.call(arguments);r.error.apply(r,e)}})}))}),100))},_multiplePrefetch:function(e,t,n){var r=E.min(e+t,this.total()),o={take:t,skip:e,page:e/t+1,pageSize:t,sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate};this._rangeExists(e,r)?n&&n():this.trigger("requestStart",{type:"read"})||this.transport.read({data:this._params(o),success:this._prefetchSuccessHandler(e,r,n,!0)})},_rangeExists:function(e,t){var n,r,o=this._ranges;for(n=0,r=o.length;n<r;n++)if(o[n].start<=e&&o[n].end>=t)return!0;return!1},_getCurrentRangeSpan:function(){var e,t,n=this._ranges,r=this.currentRangeStart(),o=r+(this.take()||0),l=[],c=n.length;for(t=0;t<c;t++)((e=n[t]).start<=r&&e.end>=r||e.start>=r&&e.start<=o)&&l.push(e);return l},_removeModelFromRanges:function(e){for(var t,n=0,r=this._ranges.length;n<r;n++)t=this._ranges[n],this._removeModelFromRange(t,e);this._updateRangesLength()},_removeModelFromRange:function(e,t){this._eachItem(e.data,(function(data){for(var e=0;e<data.length;e++){var n=data[e];if(n.uid&&n.uid==t.uid){[].splice.call(data,e,1);break}}}))},_insertModelInRange:function(e,t){var n,i,r=this._ranges||[],o=r.length;for(i=0;i<o;i++)if((n=r[i]).start<=e&&n.end>=e){this._getByUid(t.uid,n.data)||(this._isServerGrouped()?n.data.splice(e,0,this._wrapInEmptyGroup(t)):n.data.splice(e,0,t));break}this._updateRangesLength()},_updateRangesLength:function(){var e,i,t=this._ranges||[],n=t.length,r=!1,o=0,l=0;for(i=0;i<n;i++)e=t[i],l=this._flatData(e.data,!0).length-E.abs(e.end-e.start),r||0===l?r&&(e.start+=o,e.end+=o):(r=!0,o=l,e.end+=o)}}),Ee={create:function(t,data,r){var l,c=t.transport?e.extend({},t.transport):null;return c?(c.read=typeof c.read===x?{url:c.read}:c.read,"jsdo"===t.type&&(c.dataSource=r),t.type&&(v.data.transports=v.data.transports||{},v.data.schemas=v.data.schemas||{},v.data.transports[t.type]?o(v.data.transports[t.type])?c=n(!0,{},v.data.transports[t.type],c):l=new v.data.transports[t.type](n(c,{data:data})):v.logToConsole("Unknown DataSource transport type '"+t.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),t.schema=n(!0,{},v.data.schemas[t.type],t.schema)),l||(l=_(c.read)?c:new de(c))):l=new he({data:t.data||[]}),l}};De.create=function(r){(c(r)||r instanceof N)&&(r={data:r});var o,h,d,f=r||{},data=f.data,m=f.fields,table=f.table,select=f.select,_={};if(data||!m||f.transport||(table?data=function(table,t){var n,r,o,l,c,h,d,tbody=e(table)[0].tBodies[0],f=tbody?tbody.rows:[],m=t.length,data=[];for(n=0,r=f.length;n<r;n++){for(c={},d=!0,l=f[n].cells,o=0;o<m;o++)"th"!==(h=l[o]).nodeName.toLowerCase()&&(d=!1,c[t[o].field]=h.innerHTML);d||data.push(c)}return data}(table,m):select&&(data=function(select,t){var n,r,optgroup,option,o,l,c=(select=e(select)[0]).options,h=t[0],d=t[1],data=[];for(n=0,r=c.length;n<r;n++)o={},option=c[n],(optgroup=option.parentNode)===select&&(optgroup=null),option.disabled||optgroup&&optgroup.disabled||(optgroup&&(o.optgroup=optgroup.label),o[h.field]=option.text,l=(l=option.attributes.value)&&l.specified?option.value:option.text,o[d.field]=l,data.push(o));return data}(select,m),f.group===t&&data[0]&&data[0].optgroup!==t&&(f.group="optgroup"))),v.data.Model&&m&&(!f.schema||!f.schema.model)){for(o=0,h=m.length;o<h;o++)(d=m[o]).type&&(_[d.field]=d);l(_)||(f.schema=n(!0,f.schema,{model:{fields:_}}))}return f.data=data,select=null,f.select=null,table=null,f.table=null,f instanceof De?f:new De(f)};var Ae=G.define({idField:"id",init:function(e){var t=this.hasChildren||e&&e.hasChildren,r="items",o={};if(v.data.Model.fn.init.call(this,e),typeof this.children===x&&(r=this.children),o={schema:{data:r,model:{hasChildren:t,id:this.idField,fields:this.fields}}},typeof this.children!==x&&n(o,this.children),o.data=e,t||(t=o.schema.data),typeof t===x&&(t=v.getter(t)),_(t)){var l=t.call(this,this);l&&0===l.length?this.hasChildren=!1:this.hasChildren=!!l}this._childrenOptions=o,this.hasChildren&&this._initChildren(),this._loaded=!(!e||!e._loaded)},_initChildren:function(){var e,t,n,r=this;r.children instanceof Me||(t=(e=r.children=new Me(r._childrenOptions)).transport,n=t.parameterMap,t.parameterMap=function(data,e){return data[r.idField||"id"]=r.id,n&&(data=n(data,e)),data},e.parent=function(){return r},e.bind(k,(function(e){e.node=e.node||r,r.trigger(k,e)})),e.bind("error",(function(e){var t=r.parent();t&&(e.node=e.node||r,t.trigger("error",e))})),r._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var n,o,l={},c="_query";return this.hasChildren?(this._initChildren(),n=this.children,l[this.idField||"id"]=this.id,this._loaded||(n._data=t,c="read"),n.one(k,r(this._childrenLoaded,this)),this._matchFilter&&(l.filter={field:"_matchFilter",operator:"eq",value:!0}),o=n[c](l)):this.loaded(!0),o||e.Deferred().resolve().promise()},parentNode:function(){return this.parent().parent()},loaded:function(e){if(e===t)return this._loaded;this._loaded=e},shouldSerialize:function(e){return G.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}});function Ie(e){return function(){var data=this._data,t=De.fn[e].apply(this,P.call(arguments));return this._data!=data&&this._attachBubbleHandlers(),t}}var Me=De.extend({init:function(e){var t=Ae.define({children:e});e.filter&&!e.serverFiltering&&(this._hierarchicalFilter=e.filter,e.filter=null),De.fn.init.call(this,n(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind("error",(function(t){e.trigger("error",t)}))},read:function(data){var e=De.fn.read.call(this,data);return this._hierarchicalFilter&&(this._data&&this._data.length>0?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=Z(this.options.filter),this._hierarchicalFilter=null)),e},remove:function(e){var t,n=e.parentNode(),r=this;return n&&n._initChildren&&(r=n.children),t=De.fn.remove.call(r,e),n&&!r.data().length&&(n.hasChildren=!1),t},success:Ie("success"),data:Ie("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),De.fn.insert.call(this,e,t)},filter:function(e){if(e===t)return this._filter;!this.options.serverFiltering&&this._markHierarchicalQuery(e)&&(e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:e,page:1})},_markHierarchicalQuery:function(t){var n,r,o,l,filter,c=this.options.accentFoldingFiltering;return(t=c?e.extend({},Z(t),{accentFoldingFiltering:c}):Z(t))&&0!==t.filters.length?(n=Q.filterExpr(t),o=n.fields,l=n.operators,r=filter=new Function("d, __f, __o","return "+n.expression),(o.length||l.length)&&(filter=function(e){return r(e,o,l)}),this._updateHierarchicalFilter(filter),!0):(this._updateHierarchicalFilter((function(){return!0})),!1)},_updateHierarchicalFilter:function(filter){for(var e,data=this._data,t=!1,n=0;n<data.length;n++)(e=data[n]).hasChildren?(e._matchFilter=e.children._updateHierarchicalFilter(filter),e._matchFilter||(e._matchFilter=filter(e))):e._matchFilter=filter(e),e._matchFilter&&(t=!0);return t},_find:function(e,t){var n,r,o,l,data=this._data;if(data){if(o=De.fn[e].call(this,t))return o;for(n=0,r=(data=this._flatData(this._data)).length;n<r;n++)if((l=data[n].children)instanceof Me&&(o=l[e](t)))return o}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});Me.create=function(t){var n=(t=t&&t.push?{data:t}:t)||{},data=n.data,r=n.fields,o=n.list;return data&&data._dataSource?data._dataSource:(data||!r||n.transport||o&&(data=function t(n,r){var o,l,c,h,d,f,m,v,_=e(n).children(),data=[],w=r[0].field,y=r[1]&&r[1].field,x=r[2]&&r[2].field,k=r[3]&&r[3].field;function C(e,t){return e.filter(t).add(e.find(t))}for(o=0,l=_.length;o<l;o++)c={_loaded:!0},f=(h=_.eq(o))[0].firstChild,n=(v=h.children()).filter("ul"),v=v.filter(":not(ul)"),(d=h.attr("data-id"))&&(c.id=d),f&&(c[w]=3==f.nodeType?f.nodeValue:v.text()),y&&(c[y]=C(v,"a").attr("href")),k&&(c[k]=C(v,"img").attr("src")),x&&(m=C(v,".k-sprite").prop("className"),c[x]=m&&e.trim(m.replace("k-sprite",""))),n.length&&(c.items=t(n.eq(0),r)),"true"==h.attr("data-hasChildren")&&(c.hasChildren=!0),data.push(c);return data}(o,r)),n.data=data,n instanceof Me?n:new Me(n))};var Re=v.Observable.extend({init:function(e,t,n){v.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var r=this;e.bind("change",(function(){r._change()})),e.bind("reset",(function(){r._reset()})),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var t=this.pageSize,n=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((e<this.dataOffset||e>=this.skip+t)&&(n=this.range(Math.floor(e/t)*t)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),n?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):void 0:this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,n=e.skip-e.viewSize+t,r=E.max(E.floor(n/t),0)*t;this.offset=n,this.dataSource.prefetch(r,t,(function(){e._goToRange(n,!0)}))},range:function(e,t){if(this.offset===e)return!0;var n=this,r=this.pageSize,o=E.max(E.floor(e/r),0)*r,l=this.dataSource;return t&&(o+=r),l.inRange(e,r)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):!this.prefetch||(l.prefetch(o,r,(function(){n.offset=e,n._recalculate(),n._goToRange(e,!0)})),!1)},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,n=this.skip+t,r=this.dataSource;r.inRange(n,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),r.prefetch(n,t,(function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t})})))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,n=this.viewSize,r=Math.ceil(t/e)*e;this.skip=r,this.midPageThreshold=r+e-1,this.nextPageThreshold=r+n-1,this.prefetchThreshold=r+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=r+e-n,this.nextFullRange=r,this.previousMidRange=t-n,this.previousFullRange=r-e}}),Fe=v.Observable.extend({init:function(e,t){var n=this;v.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new Re(e,3*t),this.buffer.bind({endreached:function(e){n.trigger("endreached",{index:e.index})},prefetching:function(e){n.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){n.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t,n=this.buffer,r=e*this.batchSize,o=this.batchSize,view=[];n.offset>r&&n.at(n.offset-1);for(var i=0;i<o&&null!==(t=n.at(r+i));i++)view.push(t);return view},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});n(!0,v.data,{readers:{json:_e},Query:Q,DataSource:De,HierarchicalDataSource:Me,Node:Ae,ObservableObject:W,ObservableArray:N,LazyObservableArray:O,LocalTransport:he,RemoteTransport:de,Cache:ue,DataReader:_e,Model:G,Buffer:Re,BatchBuffer:Fe})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1050:function(e,t){e.exports=n(88)},1051:function(e,t){e.exports=n(89)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1289)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1289:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=n.Class,c=n.support,h=n.getOffset,d=n._outerWidth,f=n._outerHeight,m=/k-state-border-(\w+)/,v=e(document.documentElement),_=e.proxy,w=e(window),y=c.transitions.css+"transform",x=e.extend,k=".kendoPopup",C=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function S(t,n){return!(!t||!n)&&(t===n||e.contains(t,n))}var T=o.extend({init:function(element,t){var r,l=this;(t=t||{}).isRtl&&(t.origin=t.origin||"bottom right",t.position=t.position||"top right"),o.fn.init.call(l,element,t),element=l.element,t=l.options,l.collisions=t.collision?t.collision.split(" "):[],l.downEvent=n.applyEventMap("down",n.guid()),1===l.collisions.length&&l.collisions.push(l.collisions[0]),r=e(l.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),t.appendTo=e(e(t.appendTo)[0]||r[0]||document.body),l.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!t.isRtl).css({position:"absolute"}).appendTo(t.appendTo).attr("aria-hidden",!0).on("mouseenter"+k,(function(){l._hovered=!0})).on("wheel"+k,(function(t){var n=e(t.target).find(".k-list"),r=n.parent();n.length&&n.is(":visible")&&(0===r.scrollTop()&&t.originalEvent.deltaY<0||r.scrollTop()===r.prop("scrollHeight")-r.prop("offsetHeight")&&t.originalEvent.deltaY>0)&&t.preventDefault()})).on("mouseleave"+k,(function(){l._hovered=!1})),l.wrapper=e(),!1===t.animation&&(t.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),x(t.animation.open,{complete:function(){l.wrapper.css({overflow:"visible"}),l._activated=!0,l._trigger("activate")}}),x(t.animation.close,{complete:function(){l._animationClose()}}),l._mousedownProxy=function(e){l._mousedown(e)},c.mobileOS.android?l._resizeProxy=function(e){setTimeout((function(){l._resize(e)}),600)}:l._resizeProxy=function(e){l._resize(e)},t.toggleTarget&&e(t.toggleTarget).on(t.toggleEvent+k,e.proxy(l.toggle,l))},events:["open","activate","close","deactivate"],options:{name:"Popup",toggleEvent:"click",origin:"bottom left",position:"top left",anchor:"body",appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var e=this.wrapper.data("location");this.wrapper.hide(),e&&this.wrapper.css(e),"body"!=this.options.anchor&&this._hideDirClass(),this._closing=!1,this._trigger("deactivate")},destroy:function(){var t,r=this.options,element=this.element.off(k);o.fn.destroy.call(this),r.toggleTarget&&e(r.toggleTarget).off(k),r.modal||(v.off(this.downEvent,this._mousedownProxy),this._toggleResize(!1)),n.destroy(this.element.children()),element.removeData(),r.appendTo[0]===document.body&&((t=element.parent(".k-animation-container"))[0]?t.remove():element.remove())},open:function(t,r){var o,l,h={isFixed:!isNaN(parseInt(r,10)),x:t,y:r},element=this.element,d=this.options,f=e(d.anchor),m=element[0]&&element.hasClass("km-widget");if(!this.visible()){if(d.copyAnchorStyles&&(m&&"font-size"==C[0]&&C.shift(),element.css(n.getComputedStyles(f[0],C))),element.data("animating")||this._trigger("open"))return;this._activated=!1,d.modal||(v.off(this.downEvent,this._mousedownProxy).on(this.downEvent,this._mousedownProxy),this._toggleResize(!1),this._toggleResize(!0)),this.wrapper=l=n.wrap(element,d.autosize).css({overflow:"hidden",display:"block",position:"absolute"}).attr("aria-hidden",!1),c.mobileOS.android&&l.css(y,"translatez(0)"),l.css("position"),e(d.appendTo)[0]==document.body&&l.css("top","-10000px"),this.flipped=this._position(h),o=this._openAnimation(),"body"!=d.anchor&&this._showDirClass(o),element.data("effects",o.effects).kendoStop(!0).kendoAnimate(o).attr("aria-hidden",!1)}},_location:function(t){var r,element=this.element,o=this.options,l=e(o.anchor),h=element[0]&&element.hasClass("km-widget");o.copyAnchorStyles&&(h&&"font-size"==C[0]&&C.shift(),element.css(n.getComputedStyles(l[0],C))),this.wrapper=r=n.wrap(element,o.autosize).css({overflow:"hidden",display:"block",position:"absolute"}),c.mobileOS.android&&r.css(y,"translatez(0)"),r.css("position"),e(o.appendTo)[0]==document.body&&r.css("top","-10000px"),this._position(t||{});var d=r.offset();return{width:n._outerWidth(r),height:n._outerHeight(r),left:d.left,top:d.top}},_openAnimation:function(){var e=x(!0,{},this.options.animation.open);return e.effects=n.parseEffects(e.effects,this.flipped),e},_hideDirClass:function(){var t=e(this.options.anchor),r=((t.attr("class")||"").match(m)||["","down"])[1],o="k-state-border-"+r;t.removeClass(o).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").removeClass("k-state-active").removeClass(o),this.element.removeClass("k-state-border-"+n.directions[r].reverse)},_showDirClass:function(t){var r=t.effects.slideIn?t.effects.slideIn.direction:"down",o="k-state-border-"+r;e(this.options.anchor).addClass(o).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").addClass("k-state-active").addClass(o),this.element.addClass("k-state-border-"+n.directions[r].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){this[this.visible()?"close":"open"]()},visible:function(){return this.element.is(":visible")},close:function(t){var r,o,l,c,h=this.options;if(this.visible()){if(r=this.wrapper[0]?this.wrapper:n.wrap(this.element).hide(),this._toggleResize(!1),this._closing||this._trigger("close"))return void this._toggleResize(!0);this.element.find(".k-popup").each((function(){var n=e(this).data("kendoPopup");n&&n.close(t)})),v.off(this.downEvent,this._mousedownProxy),t?o={hide:!0,effects:{}}:(o=x(!0,{},h.animation.close),l=this.element.data("effects"),!(c=o.effects)&&!n.size(c)&&l&&n.size(l)&&(o.effects=l,o.reverse=!0),this._closing=!0),this.element.kendoStop(!0).attr("aria-hidden",!0),r.css({overflow:"hidden"}).attr("aria-hidden",!0),this.element.kendoAnimate(o),t&&this._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;-1!==c.resize.indexOf(e.type)?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout((function(){t._position(),t._resizeTimeout=null}),50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(e){var t=e?"on":"off",n=c.resize;c.mobileOS.ios||c.mobileOS.android||(n+=" scroll"),e&&!this.scrollableParents&&(this.scrollableParents=this._scrollableParents()),this.scrollableParents&&this.scrollableParents.length&&this.scrollableParents[t]("scroll",this._resizeProxy),w[t](n,this._resizeProxy)},_mousedown:function(t){var r=this.element[0],o=this.options,l=e(o.anchor)[0],c=o.toggleTarget,h=n.eventTarget(t),d=e(h).closest(".k-popup"),f=d.parent().parent(".km-shim").length;d=d[0],!f&&d&&d!==this.element[0]||"popover"!==e(t.target).closest("a").data("rel")&&(S(r,h)||S(l,h)||c&&S(e(c)[0],h)||this.close())},_fit:function(e,t,n){var output=0;return e+t>n&&(output=n-(e+t)),e<0&&(output=-e),output},_flip:function(e,t,n,r,o,l,c){var output=0;return c=c||t,l!==o&&"center"!==l&&"center"!==o&&(e+c>r&&(output+=-(n+t)),e+output<0&&(output+=n+t)),output},_scrollableParents:function(){return e(this.options.anchor).parentsUntil("body").filter((function(e,element){return n.isScrollable(element)}))},_position:function(t){var r,o,l,m,v,_,w,element=this.element,y=this.wrapper,k=this.options,C=e(k.viewport),S=c.zoomLevel(),T=!!(C[0]==window&&window.innerWidth&&S<=1.02),D=e(k.anchor),E=k.origin.toLowerCase().split(" "),A=k.position.toLowerCase().split(" "),I=this.collisions,M=10002,R=0,F=document.documentElement;if(v=k.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:C.offset(),T?(_=window.innerWidth,w=window.innerHeight):(_=C.width(),w=C.height()),T&&F.scrollHeight-F.clientHeight>0&&(_-=(k.isRtl?-1:1)*n.support.scrollbar()),(r=D.parents().filter(y.siblings()))[0])if(l=Math.max(Number(r.css("zIndex")),0))M=l+10;else for(m=(o=D.parentsUntil(r)).length;R<m;R++)(l=Number(e(o[R]).css("zIndex")))&&M<l&&(M=l+10);y.css("zIndex",M),t&&t.isFixed?y.css({left:t.x,top:t.y}):y.css(this._align(E,A));var P=h(y,"position",D[0]===y.offsetParent()[0]),z=h(y);D.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(P=h(y,"position",!0),z=h(y)),z.top-=v.top,z.left-=v.left,this.wrapper.data("location")||y.data("location",x({},P));var B=x({},z),L=x({},P),H=k.adjustSize;"fit"===I[0]&&(L.top+=this._fit(B.top,f(y)+H.height,w/S)),"fit"===I[1]&&(L.left+=this._fit(B.left,d(y)+H.width,_/S));var N=x({},L),O=f(element),V=f(y);return!y.height()&&O&&(V+=O),"flip"===I[0]&&(L.top+=this._flip(B.top,O,f(D),w/S,E[0],A[0],V)),"flip"===I[1]&&(L.left+=this._flip(B.left,d(element),d(D),_/S,E[1],A[1],d(y))),element.css("position","absolute"),y.css(L),L.left!=N.left||L.top!=N.top},_align:function(t,n){var r,element=this.wrapper,o=e(this.options.anchor),l=t[0],c=t[1],m=n[0],v=n[1],_=h(o),w=e(this.options.appendTo),y=d(element),x=f(element)||f(element.children().first()),k=d(o),C=f(o),S=_.top,T=_.left,D=Math.round;return w[0]!=document.body&&(S-=(r=h(w)).top,T-=r.left),"bottom"===l&&(S+=C),"center"===l&&(S+=D(C/2)),"bottom"===m&&(S-=x),"center"===m&&(S-=D(x/2)),"right"===c&&(T+=k),"center"===c&&(T+=D(k/2)),"right"===v&&(T-=y),"center"===v&&(T-=D(y/2)),{top:S,left:T}}});r.plugin(T);var D=n.support.stableSort,E=l.extend({init:function(element){this.element=e(element),this.element.autoApplyNS("kendoTabKeyTrap")},trap:function(){this.element.on("keydown",_(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy("kendoTabKeyTrap")},destroy:function(){this.element.kendoDestroy("kendoTabKeyTrap"),this.element=void 0},shouldTrap:function(){return!0},_keepInTrap:function(e){if(9===e.which&&this.shouldTrap()&&!e.isDefaultPrevented()){var t=this._focusableElements(),n=this._sortFocusableElements(t),r=this._nextFocusable(e,n);this._focus(r),e.preventDefault()}},_focusableElements:function(){var t=this.element.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]").filter((function(i,t){return t.tabIndex>=0&&e(t).is(":visible")&&!e(t).is("[disabled]")}));return this.element.is("[tabindex]")&&t.push(this.element[0]),t},_sortFocusableElements:function(e){var t;return D?t=e.sort((function(e,t){return e.tabIndex-t.tabIndex})):(e.each((function(i,e){e.setAttribute("__k_index",i)})),t=e.sort((function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute("__k_index"),10)-parseInt(t.getAttribute("__k_index"),10):e.tabIndex-t.tabIndex})),e.removeAttr("__k_index")),t},_nextFocusable:function(e,t){var n=t.length,r=t.index(e.target);return t.get((r+(e.shiftKey?-1:1))%n)},_focus:function(element){"IFRAME"!=element.nodeName?(element.focus(),"INPUT"==element.nodeName&&element.setSelectionRange&&this._haveSelectionRange(element)&&element.setSelectionRange(0,element.value.length)):element.contentWindow.document.body.focus()},_haveSelectionRange:function(element){var e=element.type.toLowerCase();return"text"===e||"search"===e||"url"===e||"tel"===e||"password"===e}});r.Popup.TabKeyTrap=E}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1128)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1041:function(e,t){e.exports=n(8)},1128:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=window.kendo,o=r.support,l=window.document,c=e(window),h=r.Class,d=r.ui.Widget,f=r.Observable,m=r.UserEvents,v=e.proxy,_=e.extend,w=r.getOffset,y={},x={},k={},C=r.elementUnderCursor;function S(element,e){return parseInt(element.css(e),10)||0}function T(e,t){return Math.min(Math.max(e,t.min),t.max)}function D(e,element){var t=w(e),n=r._outerWidth,o=r._outerHeight,l=t.left+S(e,"borderLeftWidth")+S(e,"paddingLeft"),c=t.top+S(e,"borderTopWidth")+S(e,"paddingTop");return{x:{min:l,max:l+e.width()-n(element,!0)},y:{min:c,max:c+e.height()-o(element,!0)}}}var E,A=f.extend({init:function(element,t){var n=this,o=element[0];n.capture=!1,o.addEventListener?(e.each(r.eventMap.down.split(" "),(function(){o.addEventListener(this,v(n._press,n),!0)})),e.each(r.eventMap.up.split(" "),(function(){o.addEventListener(this,v(n._release,n),!0)}))):(e.each(r.eventMap.down.split(" "),(function(){o.attachEvent(this,v(n._press,n))})),e.each(r.eventMap.up.split(" "),(function(){o.attachEvent(this,v(n._release,n))}))),f.fn.init.call(n),n.bind(["press","release"],t||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){this.trigger("press"),this.capture&&e.preventDefault()},_release:function(e){this.trigger("release"),this.capture&&(e.preventDefault(),this.cancelCapture())}}),I=f.extend({init:function(t){f.fn.init.call(this),this.forcedEnabled=!1,e.extend(this,t),this.scale=1,this.horizontal?(this.measure="offsetWidth",this.scrollSize="scrollWidth",this.axis="x"):(this.measure="offsetHeight",this.scrollSize="scrollHeight",this.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this.virtual?this._virtualMax:this.getTotal(),n=t*this.scale,r=this.getSize();(0!==t||this.forcedEnabled)&&(this.max=this.virtual?-this._virtualMin:0,this.size=r,this.total=n,this.min=Math.min(this.max,r-n),this.minScale=r/t,this.centerOffset=(n-r)/2,this.enabled=this.forcedEnabled||n>r,e||this.trigger("change",this))}}),M=f.extend({init:function(e){f.fn.init.call(this),this.x=new I(_({horizontal:!0},e)),this.y=new I(_({horizontal:!1},e)),this.container=e.container,this.forcedMinScale=e.minScale,this.maxScale=e.maxScale||100,this.bind("change",e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){this.x.update(),this.y.update(),this.enabled=this.x.enabled||this.y.enabled,this.minScale=this.forcedMinScale||Math.min(this.x.minScale,this.y.minScale),this.fitScale=Math.max(this.x.minScale,this.y.minScale),this.trigger("change")}}),R=f.extend({init:function(e){_(this,e),f.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this.dimension,n=this.axis,r=this.movable,o=r[n]+e;t.enabled&&((o<t.min&&e<0||o>t.max&&e>0)&&(e*=this.resistance),r.translateAxis(n,e),this.trigger("change",this))}}),F=h.extend({init:function(t){var n,r,o,l,c=this;_(c,{elastic:!0},t),o=c.elastic?.5:0,l=c.movable,c.x=n=new R({axis:"x",dimension:c.dimensions.x,resistance:o,movable:l}),c.y=r=new R({axis:"y",dimension:c.dimensions.y,resistance:o,movable:l}),c.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){c.gesture=e,c.offset=c.dimensions.container.offset()},press:function(t){e(t.event.target).closest("a").is("[data-navigate-on-press=true]")&&t.sender.cancel()},gesturechange:function(e){var t,o=c.gesture,h=o.center,d=e.center,f=e.distance/o.distance,m=c.dimensions.minScale,v=c.dimensions.maxScale;l.scale<=m&&f<1&&(f+=.8*(1-f)),l.scale*f>=v&&(f=v/l.scale);var _=l.x+c.offset.left,w=l.y+c.offset.top;t={x:(_-h.x)*f+d.x-_,y:(w-h.y)*f+d.y-w},l.scaleWith(f),n.dragMove(t.x),r.dragMove(t.y),c.dimensions.rescale(l.scale),c.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||r.dimension.enabled?(n.dragMove(e.x.delta),r.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),P=o.transitions.prefix+"Transform";E=o.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"};var z=f.extend({init:function(element){f.fn.init.call(this),this.element=e(element),this.element[0].style.webkitTransformOrigin="left top",this.x=0,this.y=0,this.scale=1,this._saveCoordinates(E(this.x,this.y,this.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){_(this,e),this.refresh()},refresh:function(){var e,t=this.x,n=this.y;this.round&&(t=Math.round(t),n=Math.round(n)),(e=E(t,n,this.scale))!=this.coordinates&&(r.support.browser.msie&&r.support.browser.version<10?(this.element[0].style.position="absolute",this.element[0].style.left=this.x+"px",this.element[0].style.top=this.y+"px"):this.element[0].style[P]=e,this._saveCoordinates(e),this.trigger("change"))},_saveCoordinates:function(e){this.coordinates=e}});function B(e,t){var i,n=t.options.group,r=e[n];if(d.fn.destroy.call(t),r.length>1){for(i=0;i<r.length;i++)if(r[i]==t){r.splice(i,1);break}}else r.length=0,delete e[n]}var L=d.extend({init:function(element,e){d.fn.init.call(this,element,e);var t=this.options.group;t in x?x[t].push(this):x[t]=[this]},events:["dragenter","dragleave","drop"],options:{name:"DropTarget",group:"default"},destroy:function(){B(x,this)},_trigger:function(e,t){var n=y[this.options.group];if(n)return this.trigger(e,_({},t.event,{draggable:n,dropTarget:t.dropTarget}))},_over:function(e){this._trigger("dragenter",e)},_out:function(e){this._trigger("dragleave",e)},_drop:function(e){var t=y[this.options.group];t&&(t.dropped=!this._trigger("drop",e))}});L.destroyGroup=function(e){var i,t=x[e]||k[e];if(t){for(i=0;i<t.length;i++)d.fn.destroy.call(t[i]);t.length=0,delete x[e],delete k[e]}},L._cache=x;var H=L.extend({init:function(element,e){d.fn.init.call(this,element,e);var t=this.options.group;t in k?k[t].push(this):k[t]=[this]},destroy:function(){B(k,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),N=d.extend({init:function(element,e){d.fn.init.call(this,element,e),this._activated=!1,this.userEvents=new m(this.element,{global:!0,allowSelection:!0,filter:this.options.filter,threshold:this.options.distance,start:v(this._start,this),hold:v(this._hold,this),move:v(this._drag,this),end:v(this._end,this),cancel:v(this._cancel,this),select:v(this._select,this)}),this._afterEndHandler=v(this._afterEnd,this),this._captureEscape=v(this._captureEscape,this)},events:["hold","dragstart","drag","dragend","dragcancel","hintDestroyed"],options:{name:"Draggable",distance:r.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){e.keyCode===r.keys.ESC&&(this._trigger("dragcancel",{event:e}),this.userEvents.cancel())},_updateHint:function(t){var n,r=this.options,o=this.boundaries,l=r.axis,c=this.options.cursorOffset;c?n={left:t.x.location+c.left,top:t.y.location+c.top}:(this.hintOffset.left+=t.x.delta,this.hintOffset.top+=t.y.delta,n=e.extend({},this.hintOffset)),o&&(n.top=T(n.top,o.y),n.left=T(n.left,o.x)),"x"===l?delete n.top:"y"===l&&delete n.left,this.hint.css(n)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(t){var n=this,o=n.options,c=o.container?e(o.container):null,h=o.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||o.holdToDrag&&!n._activated)n.userEvents.cancel();else{if(n.currentTarget=t.target,n.currentTargetOffset=w(n.currentTarget),h){n.hint&&n.hint.stop(!0,!0).remove(),n.hint=r.isFunction(h)?e(h.call(n,n.currentTarget)):h;var d=w(n.currentTarget);n.hintOffset=d,n.hint.css({position:"absolute",zIndex:2e4,left:d.left,top:d.top}).appendTo(l.body),n.angular("compile",(function(){n.hint.removeAttr("ng-repeat");for(var r=e(t.target);!r.data("$$kendoScope")&&r.length;)r=r.parent();return{elements:n.hint.get(),scopeFrom:r.data("$$kendoScope")}}))}y[o.group]=n,n.dropped=!1,c&&(n.boundaries=D(c,n.hint)),e(l).on("keyup",n._captureEscape),n._trigger("dragstart",t)&&(n.userEvents.cancel(),n._afterEnd()),n.userEvents.capture()}},_hold:function(e){this.currentTarget=e.target,this._trigger("hold",e)?this.userEvents.cancel():this._activated=!0},_drag:function(t){t.preventDefault();var n=this._elementUnderCursor(t);if(this.options.autoScroll&&this._cursorElement!==n&&(this._scrollableParent=W(n),this._cursorElement=n),this._lastEvent=t,this._processMovement(t,n),this.options.autoScroll&&this._scrollableParent[0]){var r=U(t.x.location,t.y.location,O(this._scrollableParent));this._scrollCompenstation=e.extend({},this.hintOffset),this._scrollVelocity=r,0===r.y&&0===r.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(e.proxy(this,"_autoScroll"),50))}this.hint&&this._updateHint(t)},_processMovement:function(t,r){this._withDropTarget(r,(function(r,o){if(r){if(n){if(o===n.targetElement)return;n._trigger("dragleave",_(t,{dropTarget:e(n.targetElement)}))}r._trigger("dragenter",_(t,{dropTarget:e(o)})),n=_(r,{targetElement:o})}else n&&(n._trigger("dragleave",_(t,{dropTarget:e(n.targetElement)})),n=null)})),this._trigger("drag",_(t,{dropTarget:n,elementUnderCursor:r}))},_autoScroll:function(){var e=this._scrollableParent[0],t=this._scrollVelocity,n=this._scrollCompenstation;if(e){var r,o,h=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,h);var d=e===V()[0];d?(r=l.body.scrollHeight>c.height(),o=l.body.scrollWidth>c.width()):(r=e.offsetHeight<=e.scrollHeight,o=e.offsetWidth<=e.scrollWidth);var f=e.scrollTop+t.y,m=r&&f>0&&f<e.scrollHeight,v=e.scrollLeft+t.x,_=o&&v>0&&v<e.scrollWidth;m&&(e.scrollTop+=t.y),_&&(e.scrollLeft+=t.x),this.hint&&d&&(_||m)&&(m&&(n.top+=t.y),_&&(n.left+=t.x),this.hint.css(n))}},_end:function(t){this._withDropTarget(this._elementUnderCursor(t),(function(r,o){r&&(r._drop(_({},t,{dropTarget:e(o)})),n=null)})),this._cancel(this._trigger("dragend",t))},_cancel:function(e){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout((function(){t.hint.stop(!0,!0),e?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)}),0):t._afterEnd()},_trigger:function(e,t){return this.trigger(e,_({},t.event,{x:t.x,y:t.y,currentTarget:this.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(t){var n=C(t),r=this.hint;return r&&function(t,n){try{return e.contains(t,n)||t==n}catch(e){return!1}}(r[0],n)&&(r.hide(),(n=C(t))||(n=C(t)),r.show()),n},_withDropTarget:function(element,n){var r,l=this.options.group,c=x[l],h=k[l];(c&&c.length||h&&h.length)&&((r=function(n,r,l){for(var c,h,i=0,d=r&&r.length,f=l&&l.length;n&&n.parentNode;){for(i=0;i<d;i++)if((c=r[i]).element[0]===n)return{target:c,targetElement:n};for(i=0;i<f;i++)if(h=l[i],e.contains(h.element[0],n)&&o.matchesSelector.call(n,h.options.filter))return{target:h,targetElement:n};n=n.parentNode}return t}(element,c,h))?n(r.target,r.targetElement):n())},destroy:function(){d.fn.destroy.call(this),this._afterEnd(),this.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),this.currentTarget=null},_afterEnd:function(){this.hint&&this.hint.remove(),delete y[this.options.group],this.trigger("destroy"),this.trigger("hintDestroyed"),e(l).off("keyup",this._captureEscape)}});function O(element){var e,t,n,r=V()[0];return element[0]===r?{top:t=r.scrollTop,left:n=r.scrollLeft,bottom:t+c.height(),right:n+c.width()}:((e=element.offset()).bottom=e.top+element.height(),e.right=e.left+element.width(),e)}function V(){return e(r.support.browser.edge||r.support.browser.safari?l.body:l.documentElement)}function W(element){var t=V();if(!element||element===l.body||element===l.documentElement)return t;for(var n=e(element)[0];n&&!r.isScrollable(n)&&n!==l.body;)n=n.parentNode;return n===l.body?t:e(n)}function U(e,t,rect){var n={x:0,y:0};return e-rect.left<50?n.x=-(50-(e-rect.left)):rect.right-e<50&&(n.x=50-(rect.right-e)),t-rect.top<50?n.y=-(50-(t-rect.top)):rect.bottom-t<50&&(n.y=50-(rect.bottom-t)),n}r.ui.plugin(L),r.ui.plugin(H),r.ui.plugin(N),r.TapCapture=A,r.containerBoundaries=D,_(r.ui,{Pane:F,PaneDimensions:M,Movable:z}),r.ui.Draggable.utils={autoScrollVelocity:U,scrollableViewPort:O,findScrollableParent:W}}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1130)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1130:function(e,t,n){var r,o,l;n(3),o=[n(1131),n(1132),n(1133),n(1134),n(1135)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1131:function(e,t){e.exports=n(180)},1132:function(e,t){e.exports=n(86)},1133:function(e,t){e.exports=n(181)},1134:function(e,t){e.exports=n(292)},1135:function(e,t){e.exports=n(293)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1376)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1376:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.support,o=n.Class,l=n.Observable,c=e.now,h=e.extend,d=r.mobileOS,f=d&&d.android,m=800,v=r.browser.msie?5:0,_={api:0,touch:0,mouse:9,pointer:9},w=!r.touch||r.mouseAndTouchPresent;function y(e,t){var n=e.x.location,r=e.y.location,o=t.x.location,l=t.y.location,c=n-o,h=r-l;return{center:{x:(n+o)/2,y:(r+l)/2},distance:Math.sqrt(c*c+h*h)}}function x(e){var t,n,o,l=[],c=e.originalEvent,h=e.currentTarget,d=0;if(e.api)l.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(t=(n=c?c.changedTouches:[]).length;d<t;d++)o=n[d],l.push({location:o,event:e,target:o.target,currentTarget:h,id:o.identifier,type:"touch"});else r.pointers||r.msPointers?l.push({location:c,event:e,target:e.target,currentTarget:h,id:c.pointerId,type:"pointer"}):l.push({id:1,event:e,target:e.target,currentTarget:h,location:e,type:"mouse"});return l}var k=o.extend({init:function(e,t){this.axis=e,this._updateLocationData(t),this.startLocation=this.location,this.velocity=this.delta=0,this.timeStamp=c()},move:function(e){var t=e["page"+this.axis],n=c(),r=n-this.timeStamp||1;!t&&f||(this.delta=t-this.location,this._updateLocationData(e),this.initialDelta=t-this.startLocation,this.velocity=this.delta/r,this.timeStamp=n)},_updateLocationData:function(e){var t=this.axis;this.location=e["page"+t],this.client=e["client"+t],this.screen=e["screen"+t]}}),C=o.extend({init:function(e,t,n){h(this,{x:new k("X",n.location),y:new k("Y",n.location),type:n.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||_[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger("press",this.pressEvent)},_tap:function(e){var t=this;t.userEvents._clicks++,1==t.userEvents._clicks&&(t._clickTimeout=setTimeout((function(){1==t.userEvents._clicks?t._trigger("tap",e):t._trigger("doubleTap",e),t.userEvents._clicks=0}),300))},_hold:function(){this._trigger("hold",this.pressEvent)},move:function(e){var t="api"!==e.type&&this.userEvents._shouldNotMove;if(!this._finished&&!t){if(this.x.move(e.location),this.y.move(e.location),!this._moved){if(this._withinIgnoreThreshold())return;if(T.current&&T.current!==this.userEvents)return this.dispose();this._start(e)}this._finished||this._trigger("move",e)}},end:function(e){this.endTime=c(),this._finished||(this._finished=!0,this._trigger("release",e),this._moved?this._trigger("end",e):this.useClickAsTap||(this.supportDoubleTap?this._tap(e):this._trigger("tap",e)),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var t=this.userEvents.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),t.splice(e.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=c(),this._moved=!0,this._trigger("start",e)},_trigger:function(e,t){var n=t.event,data={touch:this,x:this.x,y:this.y,target:this.target,event:n};this.userEvents.notify(e,data)&&n.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}});function S(e){for(var t=n.eventMap.up.split(" "),r=0,o=t.length;r<o;r++)e(t[r])}var T=l.extend({init:function(element,t){var filter,o=n.guid();if(t=t||{},filter=this.filter=t.filter,this.threshold=t.threshold||v,this.minHold=t.minHold||m,this.touches=[],this._maxTouches=t.multiTouch?2:1,this.allowSelection=t.allowSelection,this.captureUpIfMoved=t.captureUpIfMoved,this.useClickAsTap=!t.fastTap&&!r.delayedClick(),this.eventNS=o,this._clicks=0,this.supportDoubleTap=t.supportDoubleTap,element=e(element).handler(this),l.fn.init.call(this),h(this,{element:element,surface:t.global&&w?e(element[0].ownerDocument.documentElement):e(t.surface||element),stopPropagation:t.stopPropagation,pressed:!1}),this.surface.handler(this).on(n.applyEventMap("move",o),"_move").on(n.applyEventMap("up cancel",o),"_end"),element.on(n.applyEventMap("down",o),filter,"_start"),this.useClickAsTap&&element.on(n.applyEventMap("click",o),filter,"_click"),(r.pointers||r.msPointers)&&(r.browser.version<11?element.css("-ms-touch-action",t.touchAction&&"none"!=t.touchAction?"pinch-zoom double-tap-zoom "+t.touchAction:"pinch-zoom double-tap-zoom"):element.css("touch-action",t.touchAction||"none")),t.preventDragEvent&&element.on(n.applyEventMap("dragstart",o),n.preventDefault),element.on(n.applyEventMap("mousedown",o),filter,{root:element},"_select"),this.captureUpIfMoved&&r.eventCapture){var c=this.surface[0],d=e.proxy(this.preventIfMoving,this);S((function(e){c.addEventListener(e,d,!0)}))}this.bind(["press","hold","tap","doubleTap","start","move","end","release","cancel","gesturestart","gesturechange","gestureend","gesturetap","select"],t)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e=this;if(!e._destroyed){if(e._destroyed=!0,e.captureUpIfMoved&&r.eventCapture){var t=e.surface[0];S((function(n){t.removeEventListener(n,e.preventIfMoving)}))}e.element.kendoDestroy(e.eventNS),e.surface.kendoDestroy(e.eventNS),e.element.removeData("handler"),e.surface.removeData("handler"),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget}},capture:function(){T.current=this},cancel:function(){this._disposeAll(),this.trigger("cancel")},notify:function(e,data){var t=this.touches;if(this._isMultiTouch()){switch(e){case"move":e="gesturechange";break;case"end":e="gestureend";break;case"tap":e="gesturetap"}h(data,{touches:t},y(t[0],t[1]))}return this.trigger(e,h(data,{type:e}))},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,(function(e){return e.isMoved()})).length},_select:function(e){this.allowSelection&&!this.trigger("select",{event:e})||e.preventDefault()},_start:function(t){var n,r,o=0,filter=this.filter,l=x(t),c=l.length,h=t.which;if(!(h&&h>1||this._maxTouchesReached()))for(T.current=null,this.currentTarget=t.currentTarget,this.stopPropagation&&t.stopPropagation();o<c&&!this._maxTouchesReached();o++)r=l[o],(n=filter?e(r.currentTarget):this.element).length&&(r=new C(this,n,r),this.touches.push(r),r.press(),this._isMultiTouch()&&this.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(t){var data={touch:{initialTouch:t.target,target:e(t.currentTarget),endTime:c(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:e(t.currentTarget),event:t,type:"tap"};this.trigger("tap",data)&&t.preventDefault()},_eachTouch:function(e,t){var n,r,o,l,c={},h=x(t),d=this.touches;for(n=0;n<d.length;n++)c[(r=d[n]).id]=r;for(n=0;n<h.length;n++)(l=c[(o=h[n]).id])&&l[e](o)},_apiCall:function(t,n,r,o){this[t]({api:!0,pageX:n,pageY:r,clientX:n,clientY:r,target:e(o||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop})}});T.defaultThreshold=function(e){v=e},T.minHold=function(e){m=e},n.getTouches=x,n.touchDelta=y,n.UserEvents=T}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1136)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1024:function(e,t){e.exports=n(49)},1025:function(e,t){e.exports=n(19)},1026:function(e,t){e.exports=n(64)},1136:function(e,t,n){var r,o,l;n(3),o=[n(1024),n(1025),n(1026)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.List,l=r.Select,c=n.support,h=n._activeElement,d=n.data.ObservableObject,f=n.keys,m=".kendoDropDownList",v=m+"FocusEvent",_="k-state-default",w="mouseenter"+m+" mouseleave"+m,y=e.proxy,x=l.extend({init:function(element,t){var r,text,o=this,c=t&&t.index;o.ns=m,t=e.isArray(t)?{dataSource:t}:t,l.fn.init.call(o,element,t),t=o.options,element=o.element.on("focus"+m,y(o._focusHandler,o)),o._focusInputHandler=e.proxy(o._focusInput,o),o.optionLabel=e(),o._optionLabel(),o._inputTemplate(),o._reset(),o._prev="",o._word="",o._wrapper(),o._tabindex(),o.wrapper.data("tabindex",o.wrapper.attr("tabindex")),o._span(),o._popup(),o._mobile(),o._dataSource(),o._ignoreCase(),o._filterHeader(),o._aria(),o.wrapper.attr("aria-live","polite"),o._enable(),o._attachFocusHandlers(),o._oldIndex=o.selectedIndex=-1,void 0!==c&&(t.index=c),o._initialIndex=t.index,o.requireValueMapper(o.options),o._initList(),o._cascade(),o.one("set",(function(e){!e.sender.listView.bound()&&o.hasOptionLabel()&&o._textAccessor(o._optionLabelText())})),t.autoBind?o.dataSource.fetch():-1===o.selectedIndex&&((text=t.text||"")||((r=t.optionLabel)&&0===t.index?text=r:o._isSelect&&(text=element.children(":selected").text())),o._textAccessor(text)),e(o.element).parents("fieldset").is(":disabled")&&o.enable(!1),o.listView.bind("click",(function(e){e.preventDefault()})),n.notify(o)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1,popup:null},events:["open","close","change","select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){l.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){l.fn.destroy.call(this),this.wrapper.off(m),this.wrapper.off(v),this.element.off(m),this._inputWrapper.off(m),this._arrow.off(),this._arrow=null,this._arrowIcon=null,this.optionLabel.off(),this.filterInput&&this.filterInput.off(v)},open:function(){var e=!!this.dataSource.filter()&&this.dataSource.filter().filters.length>0;this.popup.visible()||(this.listView.bound()&&"accept"!==this._state?this._allowOpening()&&(this._focusFilter=!0,this.popup.one("activate",this._focusInputHandler),this.popup._hovered=!0,this.popup.open(),this._resizeFilterInput(),this._focusItem()):(this._open=!0,this._state="rebind",this.filterInput&&(this.filterInput.val(""),this._prev=""),this.filterInput&&1!==this.options.minLength&&!e?(this.refresh(),this.popup.one("activate",this._focusInputHandler),this.popup.open(),this._resizeFilterInput()):this._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e=this.filterInput,t=this._prevent;if(e){var r=this.filterInput[0]===h(),o=n.caret(this.filterInput[0])[0];this._prevent=!0,e.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),r&&(e.focus(),n.caret(e[0],o)),this._prevent=t}},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||l.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,!0)},current:function(e){var t;if(void 0===e)return!(t=this.listView.focus())&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:t;this._focus(e)},dataItem:function(t){var n=null;if(null===t)return t;if(void 0===t)n=this.listView.selectedDataItems()[0];else{if("number"!=typeof t){if(this.options.virtual)return this.dataSource.getByUid(e(t).data("uid"));t=t.hasClass("k-list-optionlabel")?-1:e(this.items()).index(t)}else this.hasOptionLabel()&&(t-=1);n=this.dataSource.flatView()[t]}return n||(n=this._optionLabelDataItem()),n},refresh:function(){this.listView.refresh()},text:function(text){var e,t=this,n=t.options.ignoreCase;if(void 0===(text=null===text?"":text))return t._textAccessor();"string"==typeof text?(e=n?text.toLowerCase():text,t._select((function(data){return data=t._text(data),n&&(data=(data+"").toLowerCase()),data===e})).done((function(){t._textAccessor(t.dataItem()||text)}))):t._textAccessor(text)},_clearFilter:function(){e(this.filterInput).val(""),l.fn._clearFilter.call(this)},value:function(e){var t=this,n=t.listView,r=t.dataSource;return void 0===e?null==(e=t._accessor()||t.listView.value()[0])?"":e:(t.requireValueMapper(t.options,e),!e&&t.hasOptionLabel()||(t._initialIndex=null),this.trigger("set",{value:e}),t._request&&t.options.cascadeFrom&&t.listView.bound()?(t._valueSetter&&r.unbind("change",t._valueSetter),t._valueSetter=y((function(){t.value(e)}),t),void r.one("change",t._valueSetter)):(t._isFilterEnabled()&&n.bound()&&n.isFiltered()?t._clearFilter():t._fetchData(),void n.value(e).done((function(){t._old=t._valueBeforeCascade=t._accessor(),t._oldIndex=t.selectedIndex}))))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var t=this,r=t.options,o=r.optionLabel,template=r.optionLabelTemplate;if(!o)return t.optionLabel.off().remove(),void(t.optionLabel=e());template||(template="#:",template+="string"==typeof o?"data":n.expr(r.dataTextField,"data"),template+="#"),"function"!=typeof template&&(template=n.template(template)),t.optionLabelTemplate=template,t.hasOptionLabel()||(t.optionLabel=e('<div class="k-list-optionlabel"></div>').prependTo(t.list)),t.optionLabel.html(template(o)).off().on("click.kendoDropDownList touchend.kendoDropDownList",y(t._click,t)).on(w,t._toggleHover),t.angular("compile",(function(){return{elements:t.optionLabel,data:[{dataItem:t._optionLabelDataItem()}]}}))},_optionLabelText:function(){var e=this.options.optionLabel;return"string"==typeof e?e:this._text(e)},_optionLabelDataItem:function(){var t=this.options.optionLabel;if(this.hasOptionLabel())return e.isPlainObject(t)?new d(t):this._assignInstance(this._optionLabelText(),"")},_buildOptions:function(data){if(this._isSelect){var e=this.listView.value()[0],t=this._optionLabelDataItem(),n=t&&this._value(t);null==e&&(e=""),t&&(null==n&&(n=""),t='<option value="'+n+'">'+this._text(t)+"</option>"),this._options(data,t,e),e!==o.unifyType(this._accessor(),typeof e)&&(this._customOption=null,this._custom(e))}},_listBound:function(){var e,t=this._initialIndex,n="filter"===this._state,data=this.dataSource.flatView();this._presetValue=!1,this._renderFooter(),this._renderNoData(),this._toggleNoData(!data.length),this._resizePopup(!0),this.popup.position(),this._buildOptions(data),this._makeUnselectable(),n||(this._open&&this.toggle(this._allowOpening()),this._open=!1,this._fetch||(data.length?(!this.listView.value().length&&t>-1&&null!==t&&this.select(t),this._initialIndex=null,(e=this.listView.selectedDataItems()[0])&&this.text()!==this._text(e)&&this._selectValue(e)):this._textAccessor()!==this._optionLabelText()&&(this.listView.value(""),this._selectValue(null),this._oldIndex=this.selectedIndex))),this._hideBusy(),this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){this.wrapper.on("focusin"+v,y(this._focusinHandler,this)).on("focusout"+v,y(this._focusoutHandler,this)),this.filterInput&&this.filterInput.on("focusin"+v,y(this._focusinHandler,this)).on("focusout"+v,y(this._focusoutHandler,this))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass("k-state-focused"),this._prevent=!1},_focusoutHandler:function(){var e=window.self!==window.top;this._prevent||(clearTimeout(this._typingTimeout),c.mobileOS.ios&&e?this._change():this._blur(),this._inputWrapper.removeClass("k-state-focused"),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(e){var element=this.element,t=e.disable,r=e.readonly,o=this.wrapper.add(this.filterInput).off(m),l=this._inputWrapper.off(w);r||t?t?(o.removeAttr("tabindex"),l.addClass("k-state-disabled").removeClass(_)):l.addClass(_).removeClass("k-state-disabled"):(element.removeAttr("disabled").removeAttr("readonly"),l.addClass(_).removeClass("k-state-disabled").on(w,this._toggleHover),o.attr("tabindex",o.data("tabindex")).attr("aria-disabled",!1).on("keydown"+m,y(this._keydown,this)).on(n.support.mousedown+m,y(this._wrapperMousedown,this)).on("paste"+m,y(this._filterPaste,this)),this.wrapper.on("click"+m,y(this._wrapperClick,this)),this.filterInput?o.on("input"+m,y(this._search,this)):o.on("keypress"+m,y(this._keypress,this))),element.attr("disabled",t).attr("readonly",r),o.attr("aria-disabled",t)},_keydown:function(e){var t,n,r=this,o=e.keyCode,l=e.altKey,c=r.popup.visible();if(r.filterInput&&(t=r.filterInput[0]===h()),o===f.LEFT?(o=f.UP,n=!0):o===f.RIGHT&&(o=f.DOWN,n=!0),!n||!t)if(e.keyCode=o,(l&&o===f.UP||o===f.ESC)&&r._focusElement(r.wrapper),"filter"===r._state&&o===f.ESC&&(r._clearFilter(),r._open=!1,r._state="accept"),o===f.ENTER&&r._typingTimeout&&r.filterInput&&c)e.preventDefault();else if(o!==f.SPACEBAR||t||(r.toggle(!c),e.preventDefault()),!(n=r._move(e))){if(!c||!r.filterInput){var d=r._focus();if(o===f.HOME?(n=!0,r._firstItem()):o===f.END&&(n=!0,r._lastItem()),n){if(r.trigger("select",{dataItem:r._getElementDataItem(r._focus()),item:r._focus()}))return void r._focus(d);r._select(r._focus(),!0).done((function(){c||r._blur()})),e.preventDefault()}}l||n||!r.filterInput||r._search()}},_matchText:function(text,e){var t=this.options.ignoreCase;return null!=text&&(text+="",t&&(text=text.toLowerCase()),0===text.indexOf(e))},_shuffleData:function(data,e){var t=this._optionLabelDataItem();return t&&(data=[t].concat(data)),data.slice(e).concat(data.slice(0,e))},_selectNext:function(){var e,text,t=this,data=t.dataSource.flatView(),n=data.length+(t.hasOptionLabel()?1:0),r=function(e,t){for(var n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0}(t._word,t._last),o=t.selectedIndex;o=-1===o?0:C(o+=r?1:0,n),data=data.toJSON?data.toJSON():data.slice(),data=t._shuffleData(data,o);for(var l=0;l<n&&(text=t._text(data[l]),!r||!t._matchText(text,t._last))&&!t._matchText(text,t._word);l++);l!==n&&(e=t._focus(),t._select(C(o+l,n)).done((function(){var n=function(){t.popup.visible()||t._change()};t.trigger("select",{dataItem:t._getElementDataItem(t._focus()),item:t._focus()})?t._select(e).done(n):n()})))},_keypress:function(e){if(0!==e.which&&e.keyCode!==n.keys.ENTER){var t=String.fromCharCode(e.charCode||e.keyCode);this.options.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this._word+=t,this._last=t,this._search()}},_popupOpen:function(){var e=this.popup;e.wrapper=n.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){l.fn._popup.call(this),this.popup.one("open",y(this._popupOpen,this))},_getElementDataItem:function(element){return element&&element[0]?element[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(element)):null},_click:function(t){var n=this,r=t.item||e(t.currentTarget);t.preventDefault(),n.trigger("select",{dataItem:n._getElementDataItem(r),item:r})?n.close():(n._userTriggered=!0,n._select(r).done((function(){n._blur(),n._focusElement(n.wrapper)})))},_focusElement:function(element){var e=h(),t=this.wrapper,n=this.filterInput,r=element===n?t:n,o=c.mobileOS&&(c.touch||c.MSPointers||c.pointers);n&&n[0]===element[0]&&o||n&&(r[0]===e||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=element.focus())},_searchByWord:function(e){if(e){var t=this;t.options.ignoreCase&&(e=e.toLowerCase()),t._select((function(n){return t._matchText(t._text(n),e)}))}},_inputValue:function(){return this.text()},_search:function(){var e=this,t=e.dataSource;if(clearTimeout(e._typingTimeout),e._isFilterEnabled())e._typingTimeout=setTimeout((function(){var t=e.filterInput.val();e._prev!==t&&(e._prev=t,e.search(t),e._resizeFilterInput()),e._typingTimeout=null}),e.options.delay);else{if(e._typingTimeout=setTimeout((function(){e._word=""}),e.options.delay),!e.listView.bound())return void t.fetch().done((function(){e._selectNext()}));e._selectNext()}},_get:function(t){var data,n,r,o="function"==typeof t,l=o?e():e(t);if(this.hasOptionLabel()&&("number"==typeof t?t>-1&&(t-=1):l.hasClass("k-list-optionlabel")&&(t=-1)),o){for(data=this.dataSource.flatView(),r=0;r<data.length;r++)if(t(data[r])){t=r,n=!0;break}n||(t=-1)}return t},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var e=this.options,t=this.listView,n=t.focus(),r=t.select();void 0===(r=r[r.length-1])&&e.highlightFirst&&!n&&(r=0),void 0!==r?t.focus(r):!e.optionLabel||e.virtual&&"dataItem"===e.virtual.mapValueTo?t.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel),this.listView.content.scrollTop(0))},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-state-focused"+(e||"")).removeAttr("id")},_focus:function(e){var t=this.listView,n=this.optionLabel;if(void 0===e)return!(e=t.focus())&&n.hasClass("k-state-focused")&&(e=n),e;this._resetOptionLabel(),e=this._get(e),t.focus(e),-1===e&&(n.addClass("k-state-focused").attr("id",t._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",t._optionID))},_select:function(e,t){var n=this;return e=n._get(e),n.listView.select(e).done((function(){t||"filter"!==n._state||(n._state="accept"),-1===e&&n._selectValue(null)}))},_selectValue:function(e){var t=this.options.optionLabel,n=this.listView.select(),r="",text="";void 0===(n=n[n.length-1])&&(n=-1),this._resetOptionLabel(" k-state-selected"),e||0===e?(text=e,r=this._dataValue(e),t&&(n+=1)):t&&(this._focus(this.optionLabel.addClass("k-state-selected")),text=this._optionLabelText(),r="string"==typeof t?"":this._value(t),n=0),this.selectedIndex=n,null===r&&(r=""),this._textAccessor(text),this._accessor(r,n),this._triggerCascade()},_mobile:function(){var e=this.popup,t=c.mobileOS;e.element.parents(".km-root").eq(0).length&&t&&(e.options.animation.open.effects=t.android||t.meego?"fadeIn":t.ios||t.wp?"slideIn:up":e.options.animation.open.effects)},_filterHeader:function(){this.filterInput&&(this.filterInput.off(m).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(this.filterInput=e('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(e('<span class="k-list-filter" />').append(this.filterInput.add('<span class="k-icon k-i-zoom"></span>'))))},_span:function(){var span,t=this.wrapper;(span=t.find("span.k-input"))[0]||(t.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),span=t.find("span.k-input")),this.span=span,this._inputWrapper=e(t[0].firstChild),this._arrow=t.find(".k-select"),this._arrowIcon=this._arrow.find(".k-icon")},_wrapper:function(){var e,element=this.element,t=element[0];(e=element.parent()).is("span.k-widget")||((e=element.wrap("<span />").parent())[0].style.cssText=t.style.cssText,e[0].title=t.title),this._focused=this.wrapper=e.addClass("k-widget k-dropdown").addClass(t.className).css("display","").attr({accesskey:element.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),element.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_inputTemplate:function(){var template=this.options.valueTemplate;if(template=template?n.template(template):e.proxy(n.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=template,this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(e){throw new Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel")}},_textAccessor:function(text){var t=null,template=this.valueTemplate,n=this._optionLabelText(),span=this.span;if(void 0===text)return span.text();e.isPlainObject(text)||text instanceof d?t=text:n&&n===text&&(t=this.options.optionLabel),t||(t=this._assignInstance(text,this._accessor())),this.hasOptionLabel()&&(t!==n&&this._text(t)!==n||(template=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(t=n)));var r=function(){return{elements:span.get(),data:[{dataItem:t}]}};this.angular("cleanup",r);try{span.html(template(t))}catch(e){span.html("")}this.angular("compile",r)},_preselect:function(e,text){e||text||(text=this._optionLabelText()),this._accessor(e),this._textAccessor(text),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(text,e){var t=this.options.dataTextField,n={};return t?(k(n,t.split("."),text),k(n,this.options.dataValueField.split("."),e),n=new d(n)):n=text,n}});function k(e,t,n){for(var r,o=0,l=t.length-1;o<l;++o)(r=t[o])in e||(e[r]={}),e=e[r];e[t[l]]=n}function C(e,t){return e>=t&&(e-=t),e}r.plugin(x)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},,,function(e,t,n){var r;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var l=[],c=n.document,h=Object.getPrototypeOf,d=l.slice,f=l.concat,m=l.push,v=l.indexOf,_={},w=_.toString,y=_.hasOwnProperty,x=y.toString,k=x.call(Object),C={},S=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},T=function(e){return null!=e&&e===e.window},D={type:!0,src:!0,nonce:!0,noModule:!0};function E(code,e,t){var i,n,script=(t=t||c).createElement("script");if(script.text=code,e)for(i in D)(n=e[i]||e.getAttribute&&e.getAttribute(i))&&script.setAttribute(i,n);t.head.appendChild(script).parentNode.removeChild(script)}function A(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?_[w.call(e)]||"object":typeof e}var I=function(e,t){return new I.fn.init(e,t)},M=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function R(e){var t=!!e&&"length"in e&&e.length,n=A(e);return!S(e)&&!T(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}I.fn=I.prototype={jquery:"3.4.1",constructor:I,length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?d.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=I.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return I.each(this,e)},map:function(e){return this.pushStack(I.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var e=this.length,t=+i+(i<0?e:0);return this.pushStack(t>=0&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:m,sort:l.sort,splice:l.splice},I.extend=I.fn.extend=function(){var e,t,n,r,o,l,c=arguments[0]||{},i=1,h=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[i]||{},i++),"object"==typeof c||S(c)||(c={}),i===h&&(c=this,i--);i<h;i++)if(null!=(e=arguments[i]))for(t in e)r=e[t],"__proto__"!==t&&c!==r&&(d&&r&&(I.isPlainObject(r)||(o=Array.isArray(r)))?(n=c[t],l=o&&!Array.isArray(n)?[]:o||I.isPlainObject(n)?n:{},o=!1,c[t]=I.extend(d,l,r)):void 0!==r&&(c[t]=r));return c},I.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==w.call(e))&&(!(t=h(e))||"function"==typeof(n=y.call(t,"constructor")&&t.constructor)&&x.call(n)===k)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(code,e){E(code,{nonce:e&&e.nonce})},each:function(e,t){var n,i=0;if(R(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(text){return null==text?"":(text+"").replace(M,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(R(Object(e))?I.merge(n,"string"==typeof e?[e]:e):m.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:v.call(t,e,i)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,l=!n;i<o;i++)!t(e[i],i)!==l&&r.push(e[i]);return r},map:function(e,t,n){var r,o,i=0,l=[];if(R(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&l.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&l.push(o);return f.apply([],l)},guid:1,support:C}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=l[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(i,e){_["[object "+e+"]"]=e.toLowerCase()}));var F=function(e){var i,t,n,r,o,l,c,select,h,d,f,m,v,_,w,y,x,k,C,S="sizzle"+1*new Date,T=e.document,D=0,E=0,A=fe(),I=fe(),M=fe(),R=fe(),F=function(a,b){return a===b&&(f=!0),0},P={}.hasOwnProperty,z=[],B=z.pop,L=z.push,H=z.push,N=z.slice,O=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},V="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",W="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+W+"*("+U+")(?:"+W+"*([*^$|!~]?=)"+W+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+W+"*\\]",G=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",$=new RegExp(W+"+","g"),Y=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),K=new RegExp("^"+W+"*,"+W+"*"),Q=new RegExp("^"+W+"*([>+~]|"+W+")"+W+"*"),X=new RegExp(W+"|>"),J=new RegExp(G),Z=new RegExp("^"+U+"$"),ee={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),bool:new RegExp("^(?:"+V+")$","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},te=/HTML$/i,ie=/^(?:input|select|textarea|button)$/i,ne=/^h\d$/i,re=/^[^{]+\{\s*\[native \w/,oe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,se=/[+~]/,ae=new RegExp("\\\\([\\da-f]{1,6}"+W+"?|("+W+")|.)","ig"),le=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ce=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,he=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},de=function(){m()},ue=Te((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{H.apply(z=N.call(T.childNodes),T.childNodes),z[T.childNodes.length].nodeType}catch(e){H={apply:z.length?function(e,t){L.apply(e,N.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function pe(e,n,r,o){var c,i,h,d,f,_,x,k=n&&n.ownerDocument,D=n?n.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==D&&9!==D&&11!==D)return r;if(!o&&((n?n.ownerDocument||n:T)!==v&&m(n),n=n||v,w)){if(11!==D&&(f=oe.exec(e)))if(c=f[1]){if(9===D){if(!(h=n.getElementById(c)))return r;if(h.id===c)return r.push(h),r}else if(k&&(h=k.getElementById(c))&&C(n,h)&&h.id===c)return r.push(h),r}else{if(f[2])return H.apply(r,n.getElementsByTagName(e)),r;if((c=f[3])&&t.getElementsByClassName&&n.getElementsByClassName)return H.apply(r,n.getElementsByClassName(c)),r}if(t.qsa&&!R[e+" "]&&(!y||!y.test(e))&&(1!==D||"object"!==n.nodeName.toLowerCase())){if(x=e,k=n,1===D&&X.test(e)){for((d=n.getAttribute("id"))?d=d.replace(ce,he):n.setAttribute("id",d=S),i=(_=l(e)).length;i--;)_[i]="#"+d+" "+Se(_[i]);x=_.join(","),k=se.test(e)&&ke(n.parentNode)||n}try{return H.apply(r,k.querySelectorAll(x)),r}catch(t){R(e,!0)}finally{d===S&&n.removeAttribute("id")}}}return select(e.replace(Y,"$1"),n,r,o)}function fe(){var e=[];return function t(r,o){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=o}}function ge(e){return e[S]=!0,e}function me(e){var t=v.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ve(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function _e(a,b){var e=b&&a,t=e&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(t)return t;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function be(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function we(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ue(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function xe(e){return ge((function(t){return t=+t,ge((function(n,r){for(var o,l=e([],n.length,t),i=l.length;i--;)n[o=l[i]]&&(n[o]=!(r[o]=n[o]))}))}))}function ke(e){return e&&void 0!==e.getElementsByTagName&&e}for(i in t=pe.support={},o=pe.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!te.test(t||n&&n.nodeName||"HTML")},m=pe.setDocument=function(e){var r,l,c=e?e.ownerDocument||e:T;return c!==v&&9===c.nodeType&&c.documentElement?(_=(v=c).documentElement,w=!o(v),T!==v&&(l=v.defaultView)&&l.top!==l&&(l.addEventListener?l.addEventListener("unload",de,!1):l.attachEvent&&l.attachEvent("onunload",de)),t.attributes=me((function(e){return e.className="i",!e.getAttribute("className")})),t.getElementsByTagName=me((function(e){return e.appendChild(v.createComment("")),!e.getElementsByTagName("*").length})),t.getElementsByClassName=re.test(v.getElementsByClassName),t.getById=me((function(e){return _.appendChild(e).id=S,!v.getElementsByName||!v.getElementsByName(S).length})),t.getById?(n.filter.ID=function(e){var t=e.replace(ae,le);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&w){var n=t.getElementById(e);return n?[n]:[]}}):(n.filter.ID=function(e){var t=e.replace(ae,le);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&w){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),n.find.TAG=t.getElementsByTagName?function(e,n){return void 0!==n.getElementsByTagName?n.getElementsByTagName(e):t.qsa?n.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},n.find.CLASS=t.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&w)return t.getElementsByClassName(e)},x=[],y=[],(t.qsa=re.test(v.querySelectorAll))&&(me((function(e){_.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+W+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+W+"*(?:value|"+V+")"),e.querySelectorAll("[id~="+S+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||y.push(".#.+[+~]")})),me((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var input=v.createElement("input");input.setAttribute("type","hidden"),e.appendChild(input).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+W+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),_.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")}))),(t.matchesSelector=re.test(k=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&me((function(e){t.disconnectedMatch=k.call(e,"*"),k.call(e,"[s!='']:x"),x.push("!=",G)})),y=y.length&&new RegExp(y.join("|")),x=x.length&&new RegExp(x.join("|")),r=re.test(_.compareDocumentPosition),C=r||re.test(_.contains)?function(a,b){var e=9===a.nodeType?a.documentElement:a,t=b&&b.parentNode;return a===t||!(!t||1!==t.nodeType||!(e.contains?e.contains(t):a.compareDocumentPosition&&16&a.compareDocumentPosition(t)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},F=r?function(a,b){if(a===b)return f=!0,0;var e=!a.compareDocumentPosition-!b.compareDocumentPosition;return e||(1&(e=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!t.sortDetached&&b.compareDocumentPosition(a)===e?a===v||a.ownerDocument===T&&C(T,a)?-1:b===v||b.ownerDocument===T&&C(T,b)?1:d?O(d,a)-O(d,b):0:4&e?-1:1)}:function(a,b){if(a===b)return f=!0,0;var e,i=0,t=a.parentNode,n=b.parentNode,r=[a],o=[b];if(!t||!n)return a===v?-1:b===v?1:t?-1:n?1:d?O(d,a)-O(d,b):0;if(t===n)return _e(a,b);for(e=a;e=e.parentNode;)r.unshift(e);for(e=b;e=e.parentNode;)o.unshift(e);for(;r[i]===o[i];)i++;return i?_e(r[i],o[i]):r[i]===T?-1:o[i]===T?1:0},v):v},pe.matches=function(e,t){return pe(e,null,null,t)},pe.matchesSelector=function(e,n){if((e.ownerDocument||e)!==v&&m(e),t.matchesSelector&&w&&!R[n+" "]&&(!x||!x.test(n))&&(!y||!y.test(n)))try{var r=k.call(e,n);if(r||t.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){R(n,!0)}return pe(n,v,null,[e]).length>0},pe.contains=function(e,t){return(e.ownerDocument||e)!==v&&m(e),C(e,t)},pe.attr=function(e,r){(e.ownerDocument||e)!==v&&m(e);var o=n.attrHandle[r.toLowerCase()],l=o&&P.call(n.attrHandle,r.toLowerCase())?o(e,r,!w):void 0;return void 0!==l?l:t.attributes||!w?e.getAttribute(r):(l=e.getAttributeNode(r))&&l.specified?l.value:null},pe.escape=function(e){return(e+"").replace(ce,he)},pe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},pe.uniqueSort=function(e){var n,r=[],o=0,i=0;if(f=!t.detectDuplicates,d=!t.sortStable&&e.slice(0),e.sort(F),f){for(;n=e[i++];)n===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return d=null,e},r=pe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(n=pe.selectors={cacheLength:50,createPseudo:ge,match:ee,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ae,le),e[3]=(e[3]||e[4]||e[5]||"").replace(ae,le),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||pe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&pe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ee.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&J.test(n)&&(t=l(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ae,le).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var pattern=A[e+" "];return pattern||(pattern=new RegExp("(^|"+W+")"+e+"("+W+"|$)"))&&A(e,(function(e){return pattern.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=pe.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var l="nth"!==e.slice(0,3),c="last"!==e.slice(-4),h="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,d){var f,m,v,_,w,y,x=l!==c?"nextSibling":"previousSibling",k=t.parentNode,C=h&&t.nodeName.toLowerCase(),T=!d&&!h,E=!1;if(k){if(l){for(;x;){for(_=t;_=_[x];)if(h?_.nodeName.toLowerCase()===C:1===_.nodeType)return!1;y=x="only"===e&&!y&&"nextSibling"}return!0}if(y=[c?k.firstChild:k.lastChild],c&&T){for(E=(w=(f=(m=(v=(_=k)[S]||(_[S]={}))[_.uniqueID]||(v[_.uniqueID]={}))[e]||[])[0]===D&&f[1])&&f[2],_=w&&k.childNodes[w];_=++w&&_&&_[x]||(E=w=0)||y.pop();)if(1===_.nodeType&&++E&&_===t){m[e]=[D,w,E];break}}else if(T&&(E=w=(f=(m=(v=(_=t)[S]||(_[S]={}))[_.uniqueID]||(v[_.uniqueID]={}))[e]||[])[0]===D&&f[1]),!1===E)for(;(_=++w&&_&&_[x]||(E=w=0)||y.pop())&&((h?_.nodeName.toLowerCase()!==C:1!==_.nodeType)||!++E||(T&&((m=(v=_[S]||(_[S]={}))[_.uniqueID]||(v[_.uniqueID]={}))[e]=[D,E]),_!==t)););return(E-=o)===r||E%r==0&&E/r>=0}}},PSEUDO:function(e,t){var r,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||pe.error("unsupported pseudo: "+e);return o[S]?o(t):o.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ge((function(e,n){for(var r,l=o(e,t),i=l.length;i--;)e[r=O(e,l[i])]=!(n[r]=l[i])})):function(e){return o(e,0,r)}):o}},pseudos:{not:ge((function(e){var input=[],t=[],n=c(e.replace(Y,"$1"));return n[S]?ge((function(e,t,r,o){for(var l,c=n(e,null,o,[]),i=e.length;i--;)(l=c[i])&&(e[i]=!(t[i]=l))})):function(e,r,o){return input[0]=e,n(input,null,o,t),input[0]=null,!t.pop()}})),has:ge((function(e){return function(t){return pe(e,t).length>0}})),contains:ge((function(text){return text=text.replace(ae,le),function(e){return(e.textContent||r(e)).indexOf(text)>-1}})),lang:ge((function(e){return Z.test(e||"")||pe.error("unsupported lang: "+e),e=e.replace(ae,le).toLowerCase(),function(t){var n;do{if(n=w?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===_},focus:function(e){return e===v.activeElement&&(!v.hasFocus||v.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return ne.test(e.nodeName)},input:function(e){return ie.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:xe((function(){return[0]})),last:xe((function(e,t){return[t-1]})),eq:xe((function(e,t,n){return[n<0?n+t:n]})),even:xe((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:xe((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:xe((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:xe((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[i]=be(i);for(i in{submit:!0,reset:!0})n.pseudos[i]=we(i);function Ce(){}function Se(e){for(var i=0,t=e.length,n="";i<t;i++)n+=e[i].value;return n}function Te(e,t,base){var n=t.dir,r=t.next,o=r||n,l=base&&"parentNode"===o,c=E++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||l)return e(t,r,o);return!1}:function(t,h,d){var f,m,v,_=[D,c];if(d){for(;t=t[n];)if((1===t.nodeType||l)&&e(t,h,d))return!0}else for(;t=t[n];)if(1===t.nodeType||l)if(m=(v=t[S]||(t[S]={}))[t.uniqueID]||(v[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((f=m[o])&&f[0]===D&&f[1]===c)return _[2]=f[2];if(m[o]=_,_[2]=e(t,h,d))return!0}return!1}}function De(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Ee(e,map,filter,t,n){for(var r,o=[],i=0,l=e.length,c=null!=map;i<l;i++)(r=e[i])&&(filter&&!filter(r,t,n)||(o.push(r),c&&map.push(i)));return o}function Ae(e,t,n,r,o,l){return r&&!r[S]&&(r=Ae(r)),o&&!o[S]&&(o=Ae(o,l)),ge((function(l,c,h,d){var f,i,m,v=[],_=[],w=c.length,y=l||function(e,t,n){for(var i=0,r=t.length;i<r;i++)pe(e,t[i],n);return n}(t||"*",h.nodeType?[h]:h,[]),x=!e||!l&&t?y:Ee(y,v,e,h,d),k=n?o||(l?e:w||r)?[]:c:x;if(n&&n(x,k,h,d),r)for(f=Ee(k,_),r(f,[],h,d),i=f.length;i--;)(m=f[i])&&(k[_[i]]=!(x[_[i]]=m));if(l){if(o||e){if(o){for(f=[],i=k.length;i--;)(m=k[i])&&f.push(x[i]=m);o(null,k=[],f,d)}for(i=k.length;i--;)(m=k[i])&&(f=o?O(l,m):v[i])>-1&&(l[f]=!(c[f]=m))}}else k=Ee(k===c?k.splice(w,k.length):k),o?o(null,c,k,d):H.apply(c,k)}))}function Ie(e){for(var t,r,o,l=e.length,c=n.relative[e[0].type],d=c||n.relative[" "],i=c?1:0,f=Te((function(e){return e===t}),d,!0),m=Te((function(e){return O(t,e)>-1}),d,!0),v=[function(e,n,r){var o=!c&&(r||n!==h)||((t=n).nodeType?f(e,n,r):m(e,n,r));return t=null,o}];i<l;i++)if(r=n.relative[e[i].type])v=[Te(De(v),r)];else{if((r=n.filter[e[i].type].apply(null,e[i].matches))[S]){for(o=++i;o<l&&!n.relative[e[o].type];o++);return Ae(i>1&&De(v),i>1&&Se(e.slice(0,i-1).concat({value:" "===e[i-2].type?"*":""})).replace(Y,"$1"),r,i<o&&Ie(e.slice(i,o)),o<l&&Ie(e=e.slice(o)),o<l&&Se(e))}v.push(r)}return De(v)}return Ce.prototype=n.filters=n.pseudos,n.setFilters=new Ce,l=pe.tokenize=function(e,t){var r,o,l,c,h,d,f,m=I[e+" "];if(m)return t?0:m.slice(0);for(h=e,d=[],f=n.preFilter;h;){for(c in r&&!(o=K.exec(h))||(o&&(h=h.slice(o[0].length)||h),d.push(l=[])),r=!1,(o=Q.exec(h))&&(r=o.shift(),l.push({value:r,type:o[0].replace(Y," ")}),h=h.slice(r.length)),n.filter)!(o=ee[c].exec(h))||f[c]&&!(o=f[c](o))||(r=o.shift(),l.push({value:r,type:c,matches:o}),h=h.slice(r.length));if(!r)break}return t?h.length:h?pe.error(e):I(e,d).slice(0)},c=pe.compile=function(e,t){var i,r=[],o=[],c=M[e+" "];if(!c){for(t||(t=l(e)),i=t.length;i--;)(c=Ie(t[i]))[S]?r.push(c):o.push(c);(c=M(e,function(e,t){var r=t.length>0,o=e.length>0,l=function(l,c,d,f,_){var y,x,k,C=0,i="0",S=l&&[],T=[],E=h,A=l||o&&n.find.TAG("*",_),I=D+=null==E?1:Math.random()||.1,M=A.length;for(_&&(h=c===v||c||_);i!==M&&null!=(y=A[i]);i++){if(o&&y){for(x=0,c||y.ownerDocument===v||(m(y),d=!w);k=e[x++];)if(k(y,c||v,d)){f.push(y);break}_&&(D=I)}r&&((y=!k&&y)&&C--,l&&S.push(y))}if(C+=i,r&&i!==C){for(x=0;k=t[x++];)k(S,T,c,d);if(l){if(C>0)for(;i--;)S[i]||T[i]||(T[i]=B.call(f));T=Ee(T)}H.apply(f,T),_&&!l&&T.length>0&&C+t.length>1&&pe.uniqueSort(f)}return _&&(D=I,h=E),S};return r?ge(l):l}(o,r))).selector=e}return c},select=pe.select=function(e,t,r,o){var i,h,d,f,m,v="function"==typeof e&&e,_=!o&&l(e=v.selector||e);if(r=r||[],1===_.length){if((h=_[0]=_[0].slice(0)).length>2&&"ID"===(d=h[0]).type&&9===t.nodeType&&w&&n.relative[h[1].type]){if(!(t=(n.find.ID(d.matches[0].replace(ae,le),t)||[])[0]))return r;v&&(t=t.parentNode),e=e.slice(h.shift().value.length)}for(i=ee.needsContext.test(e)?0:h.length;i--&&(d=h[i],!n.relative[f=d.type]);)if((m=n.find[f])&&(o=m(d.matches[0].replace(ae,le),se.test(h[0].type)&&ke(t.parentNode)||t))){if(h.splice(i,1),!(e=o.length&&Se(h)))return H.apply(r,o),r;break}}return(v||c(e,_))(o,t,!w,r,!t||se.test(e)&&ke(t.parentNode)||t),r},t.sortStable=S.split("").sort(F).join("")===S,t.detectDuplicates=!!f,m(),t.sortDetached=me((function(e){return 1&e.compareDocumentPosition(v.createElement("fieldset"))})),me((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ve("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),t.attributes&&me((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ve("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),me((function(e){return null==e.getAttribute("disabled")}))||ve(V,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),pe}(n);I.find=F,I.expr=F.selectors,I.expr[":"]=I.expr.pseudos,I.uniqueSort=I.unique=F.uniqueSort,I.text=F.getText,I.isXMLDoc=F.isXML,I.contains=F.contains,I.escapeSelector=F.escape;var P=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&I(e).is(n))break;r.push(e)}return r},z=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},B=I.expr.match.needsContext;function L(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var H=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,n){return S(t)?I.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?I.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?I.grep(e,(function(e){return v.call(t,e)>-1!==n})):I.filter(t,e,n)}I.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?I.find.matchesSelector(r,e)?[r]:[]:I.find.matches(e,I.grep(t,(function(e){return 1===e.nodeType})))},I.fn.extend({find:function(e){var i,t,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(I(e).filter((function(){for(i=0;i<n;i++)if(I.contains(r[i],this))return!0})));for(t=this.pushStack([]),i=0;i<n;i++)I.find(e,r[i],t);return n>1?I.uniqueSort(t):t},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&B.test(e)?I(e):e||[],!1).length}});var O,V=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(I.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:V.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof I?t[0]:t,I.merge(this,I.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:c,!0)),H.test(r[1])&&I.isPlainObject(t))for(r in t)S(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=c.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):S(e)?void 0!==n.ready?n.ready(e):e(I):I.makeArray(e,this)}).prototype=I.fn,O=I(c);var W=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}I.fn.extend({has:function(e){var t=I(e,this),n=t.length;return this.filter((function(){for(var i=0;i<n;i++)if(I.contains(this,t[i]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],l="string"!=typeof e&&I(e);if(!B.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(l?l.index(n)>-1:1===n.nodeType&&I.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?I.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?v.call(I(e),this[0]):v.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),I.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return P(e,"parentNode")},parentsUntil:function(e,i,t){return P(e,"parentNode",t)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return P(e,"nextSibling")},prevAll:function(e){return P(e,"previousSibling")},nextUntil:function(e,i,t){return P(e,"nextSibling",t)},prevUntil:function(e,i,t){return P(e,"previousSibling",t)},siblings:function(e){return z((e.parentNode||{}).firstChild,e)},children:function(e){return z(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(L(e,"template")&&(e=e.content||e),I.merge([],e.childNodes))}},(function(e,t){I.fn[e]=function(n,r){var o=I.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=I.filter(r,o)),this.length>1&&(U[e]||I.uniqueSort(o),W.test(e)&&o.reverse()),this.pushStack(o)}}));var G=/[^\x20\t\r\n\f]+/g;function $(e){return e}function Y(e){throw e}function K(e,t,n,r){var o;try{e&&S(o=e.promise)?o.call(e).done(t).fail(n):e&&S(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}I.Callbacks=function(e){e="string"==typeof e?function(e){var object={};return I.each(e.match(G)||[],(function(e,t){object[t]=!0})),object}(e):I.extend({},e);var t,n,r,o,l=[],c=[],h=-1,d=function(){for(o=o||e.once,r=t=!0;c.length;h=-1)for(n=c.shift();++h<l.length;)!1===l[h].apply(n[0],n[1])&&e.stopOnFalse&&(h=l.length,n=!1);e.memory||(n=!1),t=!1,o&&(l=n?[]:"")},f={add:function(){return l&&(n&&!t&&(h=l.length-1,c.push(n)),function t(n){I.each(n,(function(n,r){S(r)?e.unique&&f.has(r)||l.push(r):r&&r.length&&"string"!==A(r)&&t(r)}))}(arguments),n&&!t&&d()),this},remove:function(){return I.each(arguments,(function(e,t){for(var n;(n=I.inArray(t,l,n))>-1;)l.splice(n,1),n<=h&&h--})),this},has:function(e){return e?I.inArray(e,l)>-1:l.length>0},empty:function(){return l&&(l=[]),this},disable:function(){return o=c=[],l=n="",this},disabled:function(){return!l},lock:function(){return o=c=[],n||t||(l=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],c.push(n),t||d()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},I.extend({Deferred:function(e){var t=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return I.Deferred((function(n){I.each(t,(function(i,t){var r=S(e[t[4]])&&e[t[4]];l[t[1]]((function(){var e=r&&r.apply(this,arguments);e&&S(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,o){var l=0;function c(e,t,r,o){return function(){var h=this,d=arguments,f=function(){var n,f;if(!(e<l)){if((n=r.apply(h,d))===t.promise())throw new TypeError("Thenable self-resolution");f=n&&("object"==typeof n||"function"==typeof n)&&n.then,S(f)?o?f.call(n,c(l,t,$,o),c(l,t,Y,o)):(l++,f.call(n,c(l,t,$,o),c(l,t,Y,o),c(l,t,$,t.notifyWith))):(r!==$&&(h=void 0,d=[n]),(o||t.resolveWith)(h,d))}},m=o?f:function(){try{f()}catch(n){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(n,m.stackTrace),e+1>=l&&(r!==Y&&(h=void 0,d=[n]),t.rejectWith(h,d))}};e?m():(I.Deferred.getStackHook&&(m.stackTrace=I.Deferred.getStackHook()),n.setTimeout(m))}}return I.Deferred((function(n){t[0][3].add(c(0,n,S(o)?o:$,n.notifyWith)),t[1][3].add(c(0,n,S(e)?e:$)),t[2][3].add(c(0,n,S(r)?r:Y))})).promise()},promise:function(e){return null!=e?I.extend(e,o):o}},l={};return I.each(t,(function(i,e){var n=e[2],c=e[5];o[e[1]]=n.add,c&&n.add((function(){r=c}),t[3-i][2].disable,t[3-i][3].disable,t[0][2].lock,t[0][3].lock),n.add(e[3].fire),l[e[0]]=function(){return l[e[0]+"With"](this===l?void 0:this,arguments),this},l[e[0]+"With"]=n.fireWith})),o.promise(l),e&&e.call(l,l),l},when:function(e){var t=arguments.length,i=t,n=Array(i),r=d.call(arguments),o=I.Deferred(),l=function(i){return function(e){n[i]=this,r[i]=arguments.length>1?d.call(arguments):e,--t||o.resolveWith(n,r)}};if(t<=1&&(K(e,o.done(l(i)).resolve,o.reject,!t),"pending"===o.state()||S(r[i]&&r[i].then)))return o.then();for(;i--;)K(r[i],l(i),o.reject);return o.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Q.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},I.readyException=function(e){n.setTimeout((function(){throw e}))};var X=I.Deferred();function J(){c.removeEventListener("DOMContentLoaded",J),n.removeEventListener("load",J),I.ready()}I.fn.ready=function(e){return X.then(e).catch((function(e){I.readyException(e)})),this},I.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==e&&--I.readyWait>0||X.resolveWith(c,[I]))}}),I.ready.then=X.then,"complete"===c.readyState||"loading"!==c.readyState&&!c.documentElement.doScroll?n.setTimeout(I.ready):(c.addEventListener("DOMContentLoaded",J),n.addEventListener("load",J));var Z=function(e,t,n,r,o,l,c){var i=0,h=e.length,d=null==n;if("object"===A(n))for(i in o=!0,n)Z(e,t,i,n[i],!0,l,c);else if(void 0!==r&&(o=!0,S(r)||(c=!0),d&&(c?(t.call(e,r),t=null):(d=t,t=function(e,t,n){return d.call(I(e),n)})),t))for(;i<h;i++)t(e[i],n,c?r:r.call(e[i],i,t(e[i],n)));return o?e:d?t.call(e):h?t(e[0],n):l},ee=/^-ms-/,te=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function ne(e){return e.replace(ee,"ms-").replace(te,ie)}var re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function oe(){this.expando=I.expando+oe.uid++}oe.uid=1,oe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,data,t){var n,r=this.cache(e);if("string"==typeof data)r[ne(data)]=t;else for(n in data)r[ne(n)]=data[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ne(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(ne):(t=ne(t))in n?[t]:t.match(G)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||I.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!I.isEmptyObject(t)}};var se=new oe,ae=new oe,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function he(e,t,data){var n;if(void 0===data&&1===e.nodeType)if(n="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(data=e.getAttribute(n))){try{data=function(data){return"true"===data||"false"!==data&&("null"===data?null:data===+data+""?+data:le.test(data)?JSON.parse(data):data)}(data)}catch(e){}ae.set(e,t,data)}else data=void 0;return data}I.extend({hasData:function(e){return ae.hasData(e)||se.hasData(e)},data:function(e,t,data){return ae.access(e,t,data)},removeData:function(e,t){ae.remove(e,t)},_data:function(e,t,data){return se.access(e,t,data)},_removeData:function(e,t){se.remove(e,t)}}),I.fn.extend({data:function(e,t){var i,n,data,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(data=ae.get(r),1===r.nodeType&&!se.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=ne(n.slice(5)),he(r,n,data[n]));se.set(r,"hasDataAttrs",!0)}return data}return"object"==typeof e?this.each((function(){ae.set(this,e)})):Z(this,(function(t){var data;if(r&&void 0===t)return void 0!==(data=ae.get(r,e))?data:void 0!==(data=he(r,e))?data:void 0;this.each((function(){ae.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ae.remove(this,e)}))}}),I.extend({queue:function(e,t,data){var n;if(e)return t=(t||"fx")+"queue",n=se.get(e,t),data&&(!n||Array.isArray(data)?n=se.access(e,t,I.makeArray(data)):n.push(data)),n||[]},dequeue:function(e,t){t=t||"fx";var n=I.queue(e,t),r=n.length,o=n.shift(),l=I._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete l.stop,o.call(e,(function(){I.dequeue(e,t)}),l)),!r&&l&&l.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:I.Callbacks("once memory").add((function(){se.remove(e,[t+"queue",n])}))})}}),I.fn.extend({queue:function(e,data){var t=2;return"string"!=typeof e&&(data=e,e="fx",t--),arguments.length<t?I.queue(this[0],e):void 0===data?this:this.each((function(){var t=I.queue(this,e,data);I._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&I.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){I.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=I.Deferred(),l=this,i=this.length,c=function(){--r||o.resolveWith(l,[l])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)(n=se.get(l[i],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(c));return c(),o.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ue=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],fe=c.documentElement,ge=function(e){return I.contains(e.ownerDocument,e)},me={composed:!0};fe.getRootNode&&(ge=function(e){return I.contains(e.ownerDocument,e)||e.getRootNode(me)===e.ownerDocument});var ve=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===I.css(e,"display")},_e=function(e,t,n,r){var o,l,c={};for(l in t)c[l]=e.style[l],e.style[l]=t[l];for(l in o=n.apply(e,r||[]),t)e.style[l]=c[l];return o};function be(e,t,n,r){var o,l,c=20,h=r?function(){return r.cur()}:function(){return I.css(e,t,"")},d=h(),f=n&&n[3]||(I.cssNumber[t]?"":"px"),m=e.nodeType&&(I.cssNumber[t]||"px"!==f&&+d)&&ue.exec(I.css(e,t));if(m&&m[3]!==f){for(d/=2,f=f||m[3],m=+d||1;c--;)I.style(e,t,m+f),(1-l)*(1-(l=h()/d||.5))<=0&&(c=0),m/=l;m*=2,I.style(e,t,m+f),n=n||[]}return n&&(m=+m||+d||0,o=n[1]?m+(n[1]+1)*n[2]:+n[2],r&&(r.unit=f,r.start=m,r.end=o)),o}var we={};function ye(e){var t,n=e.ownerDocument,r=e.nodeName,o=we[r];return o||(t=n.body.appendChild(n.createElement(r)),o=I.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),we[r]=o,o)}function xe(e,t){for(var n,r,o=[],l=0,c=e.length;l<c;l++)(r=e[l]).style&&(n=r.style.display,t?("none"===n&&(o[l]=se.get(r,"display")||null,o[l]||(r.style.display="")),""===r.style.display&&ve(r)&&(o[l]=ye(r))):"none"!==n&&(o[l]="none",se.set(r,"display",n)));for(l=0;l<c;l++)null!=o[l]&&(e[l].style.display=o[l]);return e}I.fn.extend({show:function(){return xe(this,!0)},hide:function(){return xe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ve(this)?I(this).show():I(this).hide()}))}});var ke=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Se=/^$|^module$|\/(?:java|ecma)script/i,Te={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function De(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&L(e,t)?I.merge([e],n):n}function Ee(e,t){for(var i=0,n=e.length;i<n;i++)se.set(e[i],"globalEval",!t||se.get(t[i],"globalEval"))}Te.optgroup=Te.option,Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td;var div,input,Ae=/<|&#?\w+;/;function Ie(e,t,n,r,o){for(var l,c,h,d,f,m,v=t.createDocumentFragment(),_=[],i=0,w=e.length;i<w;i++)if((l=e[i])||0===l)if("object"===A(l))I.merge(_,l.nodeType?[l]:l);else if(Ae.test(l)){for(c=c||v.appendChild(t.createElement("div")),h=(Ce.exec(l)||["",""])[1].toLowerCase(),d=Te[h]||Te._default,c.innerHTML=d[1]+I.htmlPrefilter(l)+d[2],m=d[0];m--;)c=c.lastChild;I.merge(_,c.childNodes),(c=v.firstChild).textContent=""}else _.push(t.createTextNode(l));for(v.textContent="",i=0;l=_[i++];)if(r&&I.inArray(l,r)>-1)o&&o.push(l);else if(f=ge(l),c=De(v.appendChild(l),"script"),f&&Ee(c),n)for(m=0;l=c[m++];)Se.test(l.type||"")&&n.push(l);return v}div=c.createDocumentFragment().appendChild(c.createElement("div")),(input=c.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),C.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",C.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue;var Me=/^key/,Re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Fe=/^([^.]*)(?:\.(.+)|)/;function Pe(){return!0}function ze(){return!1}function Be(e,t){return e===function(){try{return c.activeElement}catch(e){}}()==("focus"===t)}function Le(e,t,n,data,r,o){var l,c;if("object"==typeof t){for(c in"string"!=typeof n&&(data=data||n,n=void 0),t)Le(e,c,n,data,t[c],o);return e}if(null==data&&null==r?(r=n,data=n=void 0):null==r&&("string"==typeof n?(r=data,data=void 0):(r=data,data=n,n=void 0)),!1===r)r=ze;else if(!r)return e;return 1===o&&(l=r,(r=function(e){return I().off(e),l.apply(this,arguments)}).guid=l.guid||(l.guid=I.guid++)),e.each((function(){I.event.add(this,t,r,data,n)}))}function He(e,t,n){n?(se.set(e,t,!1),I.event.add(e,t,{namespace:!1,handler:function(e){var r,o,l=se.get(this,t);if(1&e.isTrigger&&this[t]){if(l.length)(I.event.special[t]||{}).delegateType&&e.stopPropagation();else if(l=d.call(arguments),se.set(this,t,l),r=n(this,t),this[t](),l!==(o=se.get(this,t))||r?se.set(this,t,!1):o={},l!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else l.length&&(se.set(this,t,{value:I.event.trigger(I.extend(l[0],I.Event.prototype),l.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===se.get(e,t)&&I.event.add(e,t,Pe)}I.event={global:{},add:function(e,t,n,data,r){var o,l,c,h,d,f,m,v,_,w,y,x=se.get(e);if(x)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&I.find.matchesSelector(fe,r),n.guid||(n.guid=I.guid++),(h=x.events)||(h=x.events={}),(l=x.handle)||(l=x.handle=function(t){return void 0!==I&&I.event.triggered!==t.type?I.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(G)||[""]).length;d--;)_=y=(c=Fe.exec(t[d])||[])[1],w=(c[2]||"").split(".").sort(),_&&(m=I.event.special[_]||{},_=(r?m.delegateType:m.bindType)||_,m=I.event.special[_]||{},f=I.extend({type:_,origType:y,data:data,handler:n,guid:n.guid,selector:r,needsContext:r&&I.expr.match.needsContext.test(r),namespace:w.join(".")},o),(v=h[_])||((v=h[_]=[]).delegateCount=0,m.setup&&!1!==m.setup.call(e,data,w,l)||e.addEventListener&&e.addEventListener(_,l)),m.add&&(m.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),r?v.splice(v.delegateCount++,0,f):v.push(f),I.event.global[_]=!0)},remove:function(e,t,n,r,o){var l,c,h,d,f,m,v,_,w,y,x,k=se.hasData(e)&&se.get(e);if(k&&(d=k.events)){for(f=(t=(t||"").match(G)||[""]).length;f--;)if(w=x=(h=Fe.exec(t[f])||[])[1],y=(h[2]||"").split(".").sort(),w){for(v=I.event.special[w]||{},_=d[w=(r?v.delegateType:v.bindType)||w]||[],h=h[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=l=_.length;l--;)m=_[l],!o&&x!==m.origType||n&&n.guid!==m.guid||h&&!h.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(_.splice(l,1),m.selector&&_.delegateCount--,v.remove&&v.remove.call(e,m));c&&!_.length&&(v.teardown&&!1!==v.teardown.call(e,y,k.handle)||I.removeEvent(e,w,k.handle),delete d[w])}else for(w in d)I.event.remove(e,w+t[f],n,r,!0);I.isEmptyObject(d)&&se.remove(e,"handle events")}},dispatch:function(e){var i,t,n,r,o,l,c=I.event.fix(e),h=new Array(arguments.length),d=(se.get(this,"events")||{})[c.type]||[],f=I.event.special[c.type]||{};for(h[0]=c,i=1;i<arguments.length;i++)h[i]=arguments[i];if(c.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,c)){for(l=I.event.handlers.call(this,c,d),i=0;(r=l[i++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,t=0;(o=r.handlers[t++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(n=((I.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,h))&&!1===(c.result=n)&&(c.preventDefault(),c.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,c),c.result}},handlers:function(e,t){var i,n,r,o,l,c=[],h=t.delegateCount,d=e.target;if(h&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(o=[],l={},i=0;i<h;i++)void 0===l[r=(n=t[i]).selector+" "]&&(l[r]=n.needsContext?I(r,this).index(d)>-1:I.find(r,this,null,[d]).length),l[r]&&o.push(n);o.length&&c.push({elem:d,handlers:o})}return d=this,h<t.length&&c.push({elem:d,handlers:t.slice(h)}),c},addProp:function(e,t){Object.defineProperty(I.Event.prototype,e,{enumerable:!0,configurable:!0,get:S(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[I.expando]?e:new I.Event(e)},special:{load:{noBubble:!0},click:{setup:function(data){var e=this||data;return ke.test(e.type)&&e.click&&L(e,"input")&&He(e,"click",Pe),!1},trigger:function(data){var e=this||data;return ke.test(e.type)&&e.click&&L(e,"input")&&He(e,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&L(t,"input")&&se.get(t,"click")||L(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},I.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},I.Event=function(e,t){if(!(this instanceof I.Event))return new I.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Pe:ze,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&I.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:ze,isPropagationStopped:ze,isImmediatePropagationStopped:ze,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Pe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Pe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Pe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var button=e.button;return null==e.which&&Me.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==button&&Re.test(e.type)?1&button?1:2&button?3:4&button?2:0:e.which}},I.event.addProp),I.each({focus:"focusin",blur:"focusout"},(function(e,t){I.event.special[e]={setup:function(){return He(this,e,Be),!1},trigger:function(){return He(this,e),!0},delegateType:t}})),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){I.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,l=e.handleObj;return o&&(o===r||I.contains(r,o))||(e.type=l.origType,n=l.handler.apply(this,arguments),e.type=t),n}}})),I.fn.extend({on:function(e,t,data,n){return Le(this,e,t,data,n)},one:function(e,t,data,n){return Le(this,e,t,data,n,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,I(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ze),this.each((function(){I.event.remove(this,e,n,t)}))}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Oe=/<script|<style|<link/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ue(e,content){return L(e,"table")&&L(11!==content.nodeType?content:content.firstChild,"tr")&&I(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ge(e,t){var i,n,r,o,l,c,h,d;if(1===t.nodeType){if(se.hasData(e)&&(o=se.access(e),l=se.set(t,o),d=o.events))for(r in delete l.handle,l.events={},d)for(i=0,n=d[r].length;i<n;i++)I.event.add(t,r,d[r][i]);ae.hasData(e)&&(c=ae.access(e),h=I.extend({},c),ae.set(t,h))}}function $e(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ye(e,t,n,r){t=f.apply([],t);var o,l,c,h,d,m,i=0,v=e.length,_=v-1,w=t[0],y=S(w);if(y||v>1&&"string"==typeof w&&!C.checkClone&&Ve.test(w))return e.each((function(o){var l=e.eq(o);y&&(t[0]=w.call(this,o,l.html())),Ye(l,t,n,r)}));if(v&&(l=(o=Ie(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=l),l||r)){for(h=(c=I.map(De(o,"script"),je)).length;i<v;i++)d=o,i!==_&&(d=I.clone(d,!0,!0),h&&I.merge(c,De(d,"script"))),n.call(e[i],d,i);if(h)for(m=c[c.length-1].ownerDocument,I.map(c,qe),i=0;i<h;i++)d=c[i],Se.test(d.type||"")&&!se.access(d,"globalEval")&&I.contains(m,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?I._evalUrl&&!d.noModule&&I._evalUrl(d.src,{nonce:d.nonce||d.getAttribute("nonce")}):E(d.textContent.replace(We,""),d,m))}return e}function Ke(e,t,n){for(var r,o=t?I.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||I.cleanData(De(r)),r.parentNode&&(n&&ge(r)&&Ee(De(r,"script")),r.parentNode.removeChild(r));return e}I.extend({htmlPrefilter:function(html){return html.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var i,r,o,l,c=e.cloneNode(!0),h=ge(e);if(!(C.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||I.isXMLDoc(e)))for(l=De(c),i=0,r=(o=De(e)).length;i<r;i++)$e(o[i],l[i]);if(t)if(n)for(o=o||De(e),l=l||De(c),i=0,r=o.length;i<r;i++)Ge(o[i],l[i]);else Ge(e,c);return(l=De(c,"script")).length>0&&Ee(l,!h&&De(e,"script")),c},cleanData:function(e){for(var data,t,n,r=I.event.special,i=0;void 0!==(t=e[i]);i++)if(re(t)){if(data=t[se.expando]){if(data.events)for(n in data.events)r[n]?I.event.remove(t,n):I.removeEvent(t,n,data.handle);t[se.expando]=void 0}t[ae.expando]&&(t[ae.expando]=void 0)}}}),I.fn.extend({detach:function(e){return Ke(this,e,!0)},remove:function(e){return Ke(this,e)},text:function(e){return Z(this,(function(e){return void 0===e?I.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ye(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return Ye(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ye(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ye(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,i=0;null!=(e=this[i]);i++)1===e.nodeType&&(I.cleanData(De(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return I.clone(this,e,t)}))},html:function(e){return Z(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Te[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=I.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(I.cleanData(De(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ye(this,arguments,(function(t){var n=this.parentNode;I.inArray(this,e)<0&&(I.cleanData(De(this)),n&&n.replaceChild(t,this))}),e)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){I.fn[e]=function(e){for(var n,r=[],o=I(e),l=o.length-1,i=0;i<=l;i++)n=i===l?this:this.clone(!0),I(o[i])[t](n),m.apply(r,n.get());return this.pushStack(r)}}));var Qe=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Xe=function(e){var view=e.ownerDocument.defaultView;return view&&view.opener||(view=n),view.getComputedStyle(e)},Je=new RegExp(pe.join("|"),"i");function Ze(e,t,n){var r,o,l,c,style=e.style;return(n=n||Xe(e))&&(""!==(c=n.getPropertyValue(t)||n[t])||ge(e)||(c=I.style(e,t)),!C.pixelBoxStyles()&&Qe.test(c)&&Je.test(t)&&(r=style.width,o=style.minWidth,l=style.maxWidth,style.minWidth=style.maxWidth=style.width=c,c=n.width,style.width=r,style.minWidth=o,style.maxWidth=l)),void 0!==c?c+"":c}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(div){f.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fe.appendChild(f).appendChild(div);var e=n.getComputedStyle(div);r="1%"!==e.top,d=12===t(e.marginLeft),div.style.right="60%",h=36===t(e.right),o=36===t(e.width),div.style.position="absolute",l=12===t(div.offsetWidth/3),fe.removeChild(f),div=null}}function t(e){return Math.round(parseFloat(e))}var r,o,l,h,d,f=c.createElement("div"),div=c.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",C.clearCloneStyle="content-box"===div.style.backgroundClip,I.extend(C,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),h},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),l}}))}();var tt=["Webkit","Moz","ms"],it=c.createElement("div").style,nt={};function ot(e){var t=I.cssProps[e]||nt[e];return t||(e in it?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=tt.length;i--;)if((e=tt[i]+t)in it)return e}(e)||e)}var st=/^(none|table(?!-c[ea]).+)/,at=/^--/,lt={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"};function ht(e,t,n){var r=ue.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ut(e,t,n,r,o,l){var i="width"===t?1:0,c=0,h=0;if(n===(r?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(h+=I.css(e,n+pe[i],!0,o)),r?("content"===n&&(h-=I.css(e,"padding"+pe[i],!0,o)),"margin"!==n&&(h-=I.css(e,"border"+pe[i]+"Width",!0,o))):(h+=I.css(e,"padding"+pe[i],!0,o),"padding"!==n?h+=I.css(e,"border"+pe[i]+"Width",!0,o):c+=I.css(e,"border"+pe[i]+"Width",!0,o));return!r&&l>=0&&(h+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-l-h-c-.5))||0),h}function pt(e,t,n){var r=Xe(e),o=(!C.boxSizingReliable()||n)&&"border-box"===I.css(e,"boxSizing",!1,r),l=o,c=Ze(e,t,r),h="offset"+t[0].toUpperCase()+t.slice(1);if(Qe.test(c)){if(!n)return c;c="auto"}return(!C.boxSizingReliable()&&o||"auto"===c||!parseFloat(c)&&"inline"===I.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===I.css(e,"boxSizing",!1,r),(l=h in e)&&(c=e[h])),(c=parseFloat(c)||0)+ut(e,t,n||(o?"border":"content"),l,r,c)+"px"}function ft(e,t,n,r,o){return new ft.prototype.init(e,t,n,r,o)}I.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,l,c,h=ne(t),d=at.test(t),style=e.style;if(d||(t=ot(h)),c=I.cssHooks[t]||I.cssHooks[h],void 0===n)return c&&"get"in c&&void 0!==(o=c.get(e,!1,r))?o:style[t];"string"===(l=typeof n)&&(o=ue.exec(n))&&o[1]&&(n=be(e,t,o),l="number"),null!=n&&n==n&&("number"!==l||d||(n+=o&&o[3]||(I.cssNumber[h]?"":"px")),C.clearCloneStyle||""!==n||0!==t.indexOf("background")||(style[t]="inherit"),c&&"set"in c&&void 0===(n=c.set(e,n,r))||(d?style.setProperty(t,n):style[t]=n))}},css:function(e,t,n,r){var o,l,c,h=ne(t);return at.test(t)||(t=ot(h)),(c=I.cssHooks[t]||I.cssHooks[h])&&"get"in c&&(o=c.get(e,!0,n)),void 0===o&&(o=Ze(e,t,r)),"normal"===o&&t in ct&&(o=ct[t]),""===n||n?(l=parseFloat(o),!0===n||isFinite(l)?l||0:o):o}}),I.each(["height","width"],(function(i,e){I.cssHooks[e]={get:function(t,n,r){if(n)return!st.test(I.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?pt(t,e,r):_e(t,lt,(function(){return pt(t,e,r)}))},set:function(t,n,r){var o,l=Xe(t),c=!C.scrollboxSize()&&"absolute"===l.position,h=(c||r)&&"border-box"===I.css(t,"boxSizing",!1,l),d=r?ut(t,e,r,h,l):0;return h&&c&&(d-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(l[e])-ut(t,e,"border",!1,l)-.5)),d&&(o=ue.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=I.css(t,e)),ht(0,n,d)}}})),I.cssHooks.marginLeft=et(C.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-_e(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),I.each({margin:"",padding:"",border:"Width"},(function(e,t){I.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+pe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(I.cssHooks[e+t].set=ht)})),I.fn.extend({css:function(e,t){return Z(this,(function(e,t,n){var r,o,map={},i=0;if(Array.isArray(t)){for(r=Xe(e),o=t.length;i<o;i++)map[t[i]]=I.css(e,t[i],!1,r);return map}return void 0!==n?I.style(e,t,n):I.css(e,t)}),e,t,arguments.length>1)}}),I.Tween=ft,ft.prototype={constructor:ft,init:function(e,t,n,r,o,l){this.elem=e,this.prop=n,this.easing=o||I.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=l||(I.cssNumber[n]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,n=ft.propHooks[this.prop];return this.options.duration?this.pos=t=I.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ft.propHooks._default.set(this),this}},ft.prototype.init.prototype=ft.prototype,ft.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=I.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){I.fx.step[e.prop]?I.fx.step[e.prop](e):1!==e.elem.nodeType||!I.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:I.style(e.elem,e.prop,e.now+e.unit)}}},ft.propHooks.scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},I.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},I.fx=ft.prototype.init,I.fx.step={};var gt,mt,vt=/^(?:toggle|show|hide)$/,_t=/queueHooks$/;function bt(){mt&&(!1===c.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(bt):n.setTimeout(bt,I.fx.interval),I.fx.tick())}function wt(){return n.setTimeout((function(){gt=void 0})),gt=Date.now()}function yt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=pe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function xt(e,t,n){for(var r,o=(kt.tweeners[t]||[]).concat(kt.tweeners["*"]),l=0,c=o.length;l<c;l++)if(r=o[l].call(n,t,e))return r}function kt(e,t,n){var r,o,l=0,c=kt.prefilters.length,h=I.Deferred().always((function(){delete d.elem})),d=function(){if(o)return!1;for(var t=gt||wt(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),l=0,c=f.tweens.length;l<c;l++)f.tweens[l].run(r);return h.notifyWith(e,[f,r,n]),r<1&&c?n:(c||h.notifyWith(e,[f,1,0]),h.resolveWith(e,[f]),!1)},f=h.promise({elem:e,props:I.extend({},t),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},n),originalProperties:t,originalOptions:n,startTime:gt||wt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=I.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)f.tweens[n].run(1);return t?(h.notifyWith(e,[f,1,0]),h.resolveWith(e,[f,t])):h.rejectWith(e,[f,t]),this}}),m=f.props;for(!function(e,t){var n,r,o,l,c;for(n in e)if(o=t[r=ne(n)],l=e[n],Array.isArray(l)&&(o=l[1],l=e[n]=l[0]),n!==r&&(e[r]=l,delete e[n]),(c=I.cssHooks[r])&&"expand"in c)for(n in l=c.expand(l),delete e[r],l)n in e||(e[n]=l[n],t[n]=o);else t[r]=o}(m,f.opts.specialEasing);l<c;l++)if(r=kt.prefilters[l].call(f,e,m,f.opts))return S(r.stop)&&(I._queueHooks(f.elem,f.opts.queue).stop=r.stop.bind(r)),r;return I.map(m,xt,f),S(f.opts.start)&&f.opts.start.call(e,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),I.fx.timer(I.extend(d,{elem:e,anim:f,queue:f.opts.queue})),f}I.Animation=I.extend(kt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,ue.exec(t),n),n}]},tweener:function(e,t){S(e)?(t=e,e=["*"]):e=e.match(G);for(var n,r=0,o=e.length;r<o;r++)n=e[r],kt.tweeners[n]=kt.tweeners[n]||[],kt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,l,c,h,d,f,m,v="width"in t||"height"in t,_=this,w={},style=e.style,y=e.nodeType&&ve(e),x=se.get(e,"fxshow");for(r in n.queue||(null==(c=I._queueHooks(e,"fx")).unqueued&&(c.unqueued=0,h=c.empty.fire,c.empty.fire=function(){c.unqueued||h()}),c.unqueued++,_.always((function(){_.always((function(){c.unqueued--,I.queue(e,"fx").length||c.empty.fire()}))}))),t)if(o=t[r],vt.test(o)){if(delete t[r],l=l||"toggle"===o,o===(y?"hide":"show")){if("show"!==o||!x||void 0===x[r])continue;y=!0}w[r]=x&&x[r]||I.style(e,r)}if((d=!I.isEmptyObject(t))||!I.isEmptyObject(w))for(r in v&&1===e.nodeType&&(n.overflow=[style.overflow,style.overflowX,style.overflowY],null==(f=x&&x.display)&&(f=se.get(e,"display")),"none"===(m=I.css(e,"display"))&&(f?m=f:(xe([e],!0),f=e.style.display||f,m=I.css(e,"display"),xe([e]))),("inline"===m||"inline-block"===m&&null!=f)&&"none"===I.css(e,"float")&&(d||(_.done((function(){style.display=f})),null==f&&(m=style.display,f="none"===m?"":m)),style.display="inline-block")),n.overflow&&(style.overflow="hidden",_.always((function(){style.overflow=n.overflow[0],style.overflowX=n.overflow[1],style.overflowY=n.overflow[2]}))),d=!1,w)d||(x?"hidden"in x&&(y=x.hidden):x=se.access(e,"fxshow",{display:f}),l&&(x.hidden=!y),y&&xe([e],!0),_.done((function(){for(r in y||xe([e]),se.remove(e,"fxshow"),w)I.style(e,r,w[r])}))),d=xt(y?x[r]:0,r,_),r in x||(x[r]=d.start,y&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?kt.prefilters.unshift(e):kt.prefilters.push(e)}}),I.speed=function(e,t,n){var r=e&&"object"==typeof e?I.extend({},e):{complete:n||!n&&t||S(e)&&e,duration:e,easing:n&&t||t&&!S(t)&&t};return I.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in I.fx.speeds?r.duration=I.fx.speeds[r.duration]:r.duration=I.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){S(r.old)&&r.old.call(this),r.queue&&I.dequeue(this,r.queue)},r},I.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=I.isEmptyObject(e),l=I.speed(t,n,r),c=function(){var t=kt(this,I.extend({},e),l);(o||se.get(this,"finish"))&&t.stop(!0)};return c.finish=c,o||!1===l.queue?this.each(c):this.queue(l.queue,c)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",l=I.timers,data=se.get(this);if(o)data[o]&&data[o].stop&&r(data[o]);else for(o in data)data[o]&&data[o].stop&&_t.test(o)&&r(data[o]);for(o=l.length;o--;)l[o].elem!==this||null!=e&&l[o].queue!==e||(l[o].anim.stop(n),t=!1,l.splice(o,1));!t&&n||I.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,data=se.get(this),n=data[e+"queue"],r=data[e+"queueHooks"],o=I.timers,l=n?n.length:0;for(data.finish=!0,I.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<l;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete data.finish}))}}),I.each(["toggle","show","hide"],(function(i,e){var t=I.fn[e];I.fn[e]=function(n,r,o){return null==n||"boolean"==typeof n?t.apply(this,arguments):this.animate(yt(e,!0),n,r,o)}})),I.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){I.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),I.timers=[],I.fx.tick=function(){var e,i=0,t=I.timers;for(gt=Date.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||I.fx.stop(),gt=void 0},I.fx.timer=function(e){I.timers.push(e),I.fx.start()},I.fx.interval=13,I.fx.start=function(){mt||(mt=!0,bt())},I.fx.stop=function(){mt=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(time,e){return time=I.fx&&I.fx.speeds[time]||time,e=e||"fx",this.queue(e,(function(e,t){var r=n.setTimeout(e,time);t.stop=function(){n.clearTimeout(r)}}))},function(){var input=c.createElement("input"),e=c.createElement("select").appendChild(c.createElement("option"));input.type="checkbox",C.checkOn=""!==input.value,C.optSelected=e.selected,(input=c.createElement("input")).value="t",input.type="radio",C.radioValue="t"===input.value}();var Ct,St=I.expr.attrHandle;I.fn.extend({attr:function(e,t){return Z(this,I.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){I.removeAttr(this,e)}))}}),I.extend({attr:function(e,t,n){var r,o,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return void 0===e.getAttribute?I.prop(e,t,n):(1===l&&I.isXMLDoc(e)||(o=I.attrHooks[t.toLowerCase()]||(I.expr.match.bool.test(t)?Ct:void 0)),void 0!==n?null===n?void I.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=I.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!C.radioValue&&"radio"===t&&L(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(G);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),Ct={set:function(e,t,n){return!1===t?I.removeAttr(e,n):e.setAttribute(n,n),n}},I.each(I.expr.match.bool.source.match(/\w+/g),(function(i,e){var t=St[e]||I.find.attr;St[e]=function(e,n,r){var o,l,c=n.toLowerCase();return r||(l=St[c],St[c]=o,o=null!=t(e,n,r)?c:null,St[c]=l),o}}));var Tt=/^(?:input|select|textarea|button)$/i,Dt=/^(?:a|area)$/i;function Et(e){return(e.match(G)||[]).join(" ")}function At(e){return e.getAttribute&&e.getAttribute("class")||""}function It(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(G)||[]}I.fn.extend({prop:function(e,t){return Z(this,I.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[I.propFix[e]||e]}))}}),I.extend({prop:function(e,t,n){var r,o,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return 1===l&&I.isXMLDoc(e)||(t=I.propFix[t]||t,o=I.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=I.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),C.optSelected||(I.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){I.propFix[this.toLowerCase()]=this})),I.fn.extend({addClass:function(e){var t,n,r,o,l,c,h,i=0;if(S(e))return this.each((function(t){I(this).addClass(e.call(this,t,At(this)))}));if((t=It(e)).length)for(;n=this[i++];)if(o=At(n),r=1===n.nodeType&&" "+Et(o)+" "){for(c=0;l=t[c++];)r.indexOf(" "+l+" ")<0&&(r+=l+" ");o!==(h=Et(r))&&n.setAttribute("class",h)}return this},removeClass:function(e){var t,n,r,o,l,c,h,i=0;if(S(e))return this.each((function(t){I(this).removeClass(e.call(this,t,At(this)))}));if(!arguments.length)return this.attr("class","");if((t=It(e)).length)for(;n=this[i++];)if(o=At(n),r=1===n.nodeType&&" "+Et(o)+" "){for(c=0;l=t[c++];)for(;r.indexOf(" "+l+" ")>-1;)r=r.replace(" "+l+" "," ");o!==(h=Et(r))&&n.setAttribute("class",h)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):S(e)?this.each((function(i){I(this).toggleClass(e.call(this,i,At(this),t),t)})):this.each((function(){var t,i,o,l;if(r)for(i=0,o=I(this),l=It(e);t=l[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=At(this))&&se.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":se.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Et(At(n))+" ").indexOf(t)>-1)return!0;return!1}});var Mt=/\r/g;I.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=S(e),this.each((function(i){var n;1===this.nodeType&&(null==(n=r?e.call(this,i,I(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=I.map(n,(function(e){return null==e?"":e+""}))),(t=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))}))):o?(t=I.valHooks[o.type]||I.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Mt,""):null==n?"":n:void 0}}),I.extend({valHooks:{option:{get:function(e){var t=I.find.attr(e,"value");return null!=t?t:Et(I.text(e))}},select:{get:function(e){var t,option,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type,l=o?null:[],c=o?r+1:n.length;for(i=r<0?c:o?r:0;i<c;i++)if(((option=n[i]).selected||i===r)&&!option.disabled&&(!option.parentNode.disabled||!L(option.parentNode,"optgroup"))){if(t=I(option).val(),o)return t;l.push(t)}return l},set:function(e,t){for(var n,option,r=e.options,o=I.makeArray(t),i=r.length;i--;)((option=r[i]).selected=I.inArray(I.valHooks.option.get(option),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),I.each(["radio","checkbox"],(function(){I.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=I.inArray(I(e).val(),t)>-1}},C.checkOn||(I.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),C.focusin="onfocusin"in n;var Rt=/^(?:focusinfocus|focusoutblur)$/,Ft=function(e){e.stopPropagation()};I.extend(I.event,{trigger:function(e,data,t,r){var i,o,l,h,d,f,m,v,_=[t||c],w=y.call(e,"type")?e.type:e,x=y.call(e,"namespace")?e.namespace.split("."):[];if(o=v=l=t=t||c,3!==t.nodeType&&8!==t.nodeType&&!Rt.test(w+I.event.triggered)&&(w.indexOf(".")>-1&&(x=w.split("."),w=x.shift(),x.sort()),d=w.indexOf(":")<0&&"on"+w,(e=e[I.expando]?e:new I.Event(w,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=x.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=t),data=null==data?[e]:I.makeArray(data,[e]),m=I.event.special[w]||{},r||!m.trigger||!1!==m.trigger.apply(t,data))){if(!r&&!m.noBubble&&!T(t)){for(h=m.delegateType||w,Rt.test(h+w)||(o=o.parentNode);o;o=o.parentNode)_.push(o),l=o;l===(t.ownerDocument||c)&&_.push(l.defaultView||l.parentWindow||n)}for(i=0;(o=_[i++])&&!e.isPropagationStopped();)v=o,e.type=i>1?h:m.bindType||w,(f=(se.get(o,"events")||{})[e.type]&&se.get(o,"handle"))&&f.apply(o,data),(f=d&&o[d])&&f.apply&&re(o)&&(e.result=f.apply(o,data),!1===e.result&&e.preventDefault());return e.type=w,r||e.isDefaultPrevented()||m._default&&!1!==m._default.apply(_.pop(),data)||!re(t)||d&&S(t[w])&&!T(t)&&((l=t[d])&&(t[d]=null),I.event.triggered=w,e.isPropagationStopped()&&v.addEventListener(w,Ft),t[w](),e.isPropagationStopped()&&v.removeEventListener(w,Ft),I.event.triggered=void 0,l&&(t[d]=l)),e.result}},simulate:function(e,t,n){var r=I.extend(new I.Event,n,{type:e,isSimulated:!0});I.event.trigger(r,null,t)}}),I.fn.extend({trigger:function(e,data){return this.each((function(){I.event.trigger(e,data,this)}))},triggerHandler:function(e,data){var t=this[0];if(t)return I.event.trigger(e,data,t,!0)}}),C.focusin||I.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){I.event.simulate(t,e.target,I.event.fix(e))};I.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=se.access(r,t);o||r.addEventListener(e,n,!0),se.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=se.access(r,t)-1;o?se.access(r,t,o):(r.removeEventListener(e,n,!0),se.remove(r,t))}}}));var Pt=n.location,zt=Date.now(),Bt=/\?/;I.parseXML=function(data){var e;if(!data||"string"!=typeof data)return null;try{e=(new n.DOMParser).parseFromString(data,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||I.error("Invalid XML: "+data),e};var Lt=/\[\]$/,Ht=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Vt(e,t,n,r){var o;if(Array.isArray(t))I.each(t,(function(i,t){n||Lt.test(e)?r(e,t):Vt(e+"["+("object"==typeof t&&null!=t?i:"")+"]",t,n,r)}));else if(n||"object"!==A(t))r(e,t);else for(o in t)Vt(e+"["+o+"]",t[o],n,r)}I.param=function(a,e){var t,s=[],n=function(e,t){var n=S(t)?t():t;s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!I.isPlainObject(a))I.each(a,(function(){n(this.name,this.value)}));else for(t in a)Vt(t,a[t],e,n);return s.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=I.prop(this,"elements");return e?I.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!I(this).is(":disabled")&&Ot.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!ke.test(e))})).map((function(i,e){var t=I(this).val();return null==t?null:Array.isArray(t)?I.map(t,(function(t){return{name:e.name,value:t.replace(Ht,"\r\n")}})):{name:e.name,value:t.replace(Ht,"\r\n")}})).get()}});var Wt=/%20/g,Ut=/#.*$/,jt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Gt=/^(?:GET|HEAD)$/,$t=/^\/\//,Yt={},Kt={},Qt="*/".concat("*"),Xt=c.createElement("a");function Jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(G)||[];if(S(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Zt(e,t,n,r){var o={},l=e===Kt;function c(h){var d;return o[h]=!0,I.each(e[h]||[],(function(e,h){var f=h(t,n,r);return"string"!=typeof f||l||o[f]?l?!(d=f):void 0:(t.dataTypes.unshift(f),c(f),!1)})),d}return c(t.dataTypes[0])||!o["*"]&&c("*")}function ei(e,t){var n,r,o=I.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&I.extend(!0,e,r),e}Xt.href=Pt.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ei(ei(e,I.ajaxSettings),t):ei(I.ajaxSettings,e)},ajaxPrefilter:Jt(Yt),ajaxTransport:Jt(Kt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,l,h,d,f,m,v,i,_,s=I.ajaxSetup({},t),w=s.context||s,y=s.context&&(w.nodeType||w.jquery)?I(w):I.event,x=I.Deferred(),k=I.Callbacks("once memory"),C=s.statusCode||{},S={},T={},D="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(m){if(!h)for(h={};t=qt.exec(l);)h[t[1].toLowerCase()+" "]=(h[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=h[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return m?l:null},setRequestHeader:function(e,t){return null==m&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,S[e]=t),this},overrideMimeType:function(e){return null==m&&(s.mimeType=e),this},statusCode:function(map){var code;if(map)if(m)E.always(map[E.status]);else for(code in map)C[code]=[C[code],map[code]];return this},abort:function(e){var t=e||D;return r&&r.abort(t),A(0,t),this}};if(x.promise(E),s.url=((e||s.url||Pt.href)+"").replace($t,Pt.protocol+"//"),s.type=t.method||t.type||s.method||s.type,s.dataTypes=(s.dataType||"*").toLowerCase().match(G)||[""],null==s.crossDomain){f=c.createElement("a");try{f.href=s.url,f.href=f.href,s.crossDomain=Xt.protocol+"//"+Xt.host!=f.protocol+"//"+f.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=I.param(s.data,s.traditional)),Zt(Yt,s,t,E),m)return E;for(i in(v=I.event&&s.global)&&0==I.active++&&I.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!Gt.test(s.type),o=s.url.replace(Ut,""),s.hasContent?s.data&&s.processData&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&(s.data=s.data.replace(Wt,"+")):(_=s.url.slice(o.length),s.data&&(s.processData||"string"==typeof s.data)&&(o+=(Bt.test(o)?"&":"?")+s.data,delete s.data),!1===s.cache&&(o=o.replace(jt,"$1"),_=(Bt.test(o)?"&":"?")+"_="+zt+++_),s.url=o+_),s.ifModified&&(I.lastModified[o]&&E.setRequestHeader("If-Modified-Since",I.lastModified[o]),I.etag[o]&&E.setRequestHeader("If-None-Match",I.etag[o])),(s.data&&s.hasContent&&!1!==s.contentType||t.contentType)&&E.setRequestHeader("Content-Type",s.contentType),E.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+Qt+"; q=0.01":""):s.accepts["*"]),s.headers)E.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(w,E,s)||m))return E.abort();if(D="abort",k.add(s.complete),E.done(s.success),E.fail(s.error),r=Zt(Kt,s,t,E)){if(E.readyState=1,v&&y.trigger("ajaxSend",[E,s]),m)return E;s.async&&s.timeout>0&&(d=n.setTimeout((function(){E.abort("timeout")}),s.timeout));try{m=!1,r.send(S,A)}catch(e){if(m)throw e;A(-1,e)}}else A(-1,"No Transport");function A(e,t,c,h){var f,_,S,T,D,A=t;m||(m=!0,d&&n.clearTimeout(d),r=void 0,l=h||"",E.readyState=e>0?4:0,f=e>=200&&e<300||304===e,c&&(T=function(s,e,t){for(var n,r,o,l,c=s.contents,h=s.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=s.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in c)if(c[r]&&c[r].test(n)){h.unshift(r);break}if(h[0]in t)o=h[0];else{for(r in t){if(!h[0]||s.converters[r+" "+h[0]]){o=r;break}l||(l=r)}o=o||l}if(o)return o!==h[0]&&h.unshift(o),t[o]}(s,E,c)),T=function(s,e,t,n){var r,o,l,c,h,d={},f=s.dataTypes.slice();if(f[1])for(l in s.converters)d[l.toLowerCase()]=s.converters[l];for(o=f.shift();o;)if(s.responseFields[o]&&(t[s.responseFields[o]]=e),!h&&n&&s.dataFilter&&(e=s.dataFilter(e,s.dataType)),h=o,o=f.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(!(l=d[h+" "+o]||d["* "+o]))for(r in d)if((c=r.split(" "))[1]===o&&(l=d[h+" "+c[0]]||d["* "+c[0]])){!0===l?l=d[r]:!0!==d[r]&&(o=c[0],f.unshift(c[1]));break}if(!0!==l)if(l&&s.throws)e=l(e);else try{e=l(e)}catch(e){return{state:"parsererror",error:l?e:"No conversion from "+h+" to "+o}}}return{state:"success",data:e}}(s,T,E,f),f?(s.ifModified&&((D=E.getResponseHeader("Last-Modified"))&&(I.lastModified[o]=D),(D=E.getResponseHeader("etag"))&&(I.etag[o]=D)),204===e||"HEAD"===s.type?A="nocontent":304===e?A="notmodified":(A=T.state,_=T.data,f=!(S=T.error))):(S=A,!e&&A||(A="error",e<0&&(e=0))),E.status=e,E.statusText=(t||A)+"",f?x.resolveWith(w,[_,A,E]):x.rejectWith(w,[E,A,S]),E.statusCode(C),C=void 0,v&&y.trigger(f?"ajaxSuccess":"ajaxError",[E,s,f?_:S]),k.fireWith(w,[E,A]),v&&(y.trigger("ajaxComplete",[E,s]),--I.active||I.event.trigger("ajaxStop")))}return E},getJSON:function(e,data,t){return I.get(e,data,t,"json")},getScript:function(e,t){return I.get(e,void 0,t,"script")}}),I.each(["get","post"],(function(i,e){I[e]=function(t,data,n,r){return S(data)&&(r=r||n,n=data,data=void 0),I.ajax(I.extend({url:t,type:e,dataType:r,data:data,success:n},I.isPlainObject(t)&&t))}})),I._evalUrl=function(e,t){return I.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){I.globalEval(e,t)}})},I.fn.extend({wrapAll:function(html){var e;return this[0]&&(S(html)&&(html=html.call(this[0])),e=I(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(html){return S(html)?this.each((function(i){I(this).wrapInner(html.call(this,i))})):this.each((function(){var e=I(this),t=e.contents();t.length?t.wrapAll(html):e.append(html)}))},wrap:function(html){var e=S(html);return this.each((function(i){I(this).wrapAll(e?html.call(this,i):html)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){I(this).replaceWith(this.childNodes)})),this}}),I.expr.pseudos.hidden=function(e){return!I.expr.pseudos.visible(e)},I.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var ti={0:200,1223:204},ii=I.ajaxSettings.xhr();C.cors=!!ii&&"withCredentials"in ii,C.ajax=ii=!!ii,I.ajaxTransport((function(e){var t,r;if(C.cors||ii&&!e.crossDomain)return{send:function(o,l){var i,c=e.xhr();if(c.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)c[i]=e.xhrFields[i];for(i in e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)c.setRequestHeader(i,o[i]);t=function(e){return function(){t&&(t=r=c.onload=c.onerror=c.onabort=c.ontimeout=c.onreadystatechange=null,"abort"===e?c.abort():"error"===e?"number"!=typeof c.status?l(0,"error"):l(c.status,c.statusText):l(ti[c.status]||c.status,c.statusText,"text"!==(c.responseType||"text")||"string"!=typeof c.responseText?{binary:c.response}:{text:c.responseText},c.getAllResponseHeaders()))}},c.onload=t(),r=c.onerror=c.ontimeout=t("error"),void 0!==c.onabort?c.onabort=r:c.onreadystatechange=function(){4===c.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{c.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),I.ajaxPrefilter((function(s){s.crossDomain&&(s.contents.script=!1)})),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return I.globalEval(text),text}}}),I.ajaxPrefilter("script",(function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")})),I.ajaxTransport("script",(function(s){var script,e;if(s.crossDomain||s.scriptAttrs)return{send:function(t,n){script=I("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",e=function(t){script.remove(),e=null,t&&n("error"===t.type?404:200,t.type)}),c.head.appendChild(script[0])},abort:function(){e&&e()}}}));var body,ni=[],ri=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ni.pop()||I.expando+"_"+zt++;return this[e]=!0,e}}),I.ajaxPrefilter("json jsonp",(function(s,e,t){var r,o,l,c=!1!==s.jsonp&&(ri.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&ri.test(s.data)&&"data");if(c||"jsonp"===s.dataTypes[0])return r=s.jsonpCallback=S(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,c?s[c]=s[c].replace(ri,"$1"+r):!1!==s.jsonp&&(s.url+=(Bt.test(s.url)?"&":"?")+s.jsonp+"="+r),s.converters["script json"]=function(){return l||I.error(r+" was not called"),l[0]},s.dataTypes[0]="json",o=n[r],n[r]=function(){l=arguments},t.always((function(){void 0===o?I(n).removeProp(r):n[r]=o,s[r]&&(s.jsonpCallback=e.jsonpCallback,ni.push(r)),l&&S(o)&&o(l[0]),l=o=void 0})),"script"})),C.createHTMLDocument=((body=c.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===body.childNodes.length),I.parseHTML=function(data,e,t){return"string"!=typeof data?[]:("boolean"==typeof e&&(t=e,e=!1),e||(C.createHTMLDocument?((base=(e=c.implementation.createHTMLDocument("")).createElement("base")).href=c.location.href,e.head.appendChild(base)):e=c),r=!t&&[],(n=H.exec(data))?[e.createElement(n[1])]:(n=Ie([data],e,r),r&&r.length&&I(r).remove(),I.merge([],n.childNodes)));var base,n,r},I.fn.load=function(e,t,n){var r,o,l,c=this,h=e.indexOf(" ");return h>-1&&(r=Et(e.slice(h)),e=e.slice(0,h)),S(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),c.length>0&&I.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){l=arguments,c.html(r?I("<div>").append(I.parseHTML(e)).find(r):e)})).always(n&&function(e,t){c.each((function(){n.apply(this,l||[e.responseText,t,e])}))}),this},I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(i,e){I.fn[e]=function(t){return this.on(e,t)}})),I.expr.pseudos.animated=function(e){return I.grep(I.timers,(function(t){return e===t.elem})).length},I.offset={setOffset:function(e,t,i){var n,r,o,l,c,h,d=I.css(e,"position"),f=I(e),m={};"static"===d&&(e.style.position="relative"),c=f.offset(),o=I.css(e,"top"),h=I.css(e,"left"),("absolute"===d||"fixed"===d)&&(o+h).indexOf("auto")>-1?(l=(n=f.position()).top,r=n.left):(l=parseFloat(o)||0,r=parseFloat(h)||0),S(t)&&(t=t.call(e,i,I.extend({},c))),null!=t.top&&(m.top=t.top-c.top+l),null!=t.left&&(m.left=t.left-c.left+r),"using"in t?t.using.call(e,m):f.css(m)}},I.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(i){I.offset.setOffset(this,e,i)}));var rect,t,n=this[0];return n?n.getClientRects().length?(rect=n.getBoundingClientRect(),t=n.ownerDocument.defaultView,{top:rect.top+t.pageYOffset,left:rect.left+t.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===I.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===I.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=I(e).offset()).top+=I.css(e,"borderTopWidth",!0),o.left+=I.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-I.css(r,"marginTop",!0),left:t.left-o.left-I.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===I.css(e,"position");)e=e.offsetParent;return e||fe}))}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;I.fn[e]=function(r){return Z(this,(function(e,r,o){var l;if(T(e)?l=e:9===e.nodeType&&(l=e.defaultView),void 0===o)return l?l[t]:e[r];l?l.scrollTo(n?l.pageXOffset:o,n?o:l.pageYOffset):e[r]=o}),e,r,arguments.length)}})),I.each(["top","left"],(function(i,e){I.cssHooks[e]=et(C.pixelPosition,(function(t,n){if(n)return n=Ze(t,e),Qe.test(n)?I(t).position()[e]+"px":n}))})),I.each({Height:"height",Width:"width"},(function(e,t){I.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){I.fn[r]=function(o,l){var c=arguments.length&&(n||"boolean"!=typeof o),h=n||(!0===o||!0===l?"margin":"border");return Z(this,(function(t,n,o){var l;return T(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(l=t.documentElement,Math.max(t.body["scroll"+e],l["scroll"+e],t.body["offset"+e],l["offset"+e],l["client"+e])):void 0===o?I.css(t,n,h):I.style(t,n,o,h)}),t,c?o:void 0,c)}}))})),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(i,e){I.fn[e]=function(data,t){return arguments.length>0?this.on(e,null,data,t):this.trigger(e)}})),I.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),I.fn.extend({bind:function(e,data,t){return this.on(e,null,data,t)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,data,n){return this.on(t,e,data,n)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),I.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),S(e))return r=d.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(d.call(arguments)))}).guid=e.guid=e.guid||I.guid++,o},I.holdReady=function(e){e?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=L,I.isFunction=S,I.isWindow=T,I.camelCase=ne,I.type=A,I.now=Date.now,I.isNumeric=function(e){var t=I.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return I}.apply(t,[]))||(e.exports=r);var oi=n.jQuery,si=n.$;return I.noConflict=function(e){return n.$===I&&(n.$=si),e&&n.jQuery===I&&(n.jQuery=oi),I},o||(n.jQuery=n.$=I),I}))},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1079)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1079:function(e,t,n){var r,o,l;n(3),o=[n(1080),n(1081)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1080:function(e,t){e.exports=n(215)},1081:function(e,t){e.exports=n(392)}})},,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1256)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1057:function(e,t){e.exports=n(20)},1062:function(e,t){e.exports=n(5)},1256:function(e,t,n){var r,o,l;n(3),o=[n(1057),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile,o=n.effects,l=r.ui,c=e.proxy,h=e.extend,d=l.Widget,f=n.Class,m=n.ui.Movable,v=n.ui.Pane,_=n.ui.PaneDimensions,w=o.Transition,y=o.Animation,x=Math.abs,k=y.extend({init:function(e){y.fn.init.call(this),h(this,e),this.userEvents.bind("gestureend",c(this.start,this)),this.tapCapture.bind("press",c(this.cancel,this))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),C=y.extend({init:function(e){var t=this;y.fn.init.call(t),h(t,e,{transition:new w({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",(function(){t.cancel()})),t.userEvents.bind("end",c(t.start,t)),t.userEvents.bind("gestureend",c(t.start,t)),t.userEvents.bind("tap",c(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){this.cancel(),this._moveTo(e)},onEnd:function(){this.paneAxis.outOfBounds()?this._snapBack():this._end()},done:function(){return x(this.velocity)<1},start:function(e){var t;this.dimension.enabled&&(this.paneAxis.outOfBounds()?this.transition._started?(this.transition.cancel(),this.velocity=Math.min(e.touch[this.axis].velocity*this.velocityMultiplier,55),y.fn.start.call(this)):this._snapBack():(t=2===e.touch.id?0:e.touch[this.axis].velocity,this.velocity=Math.max(Math.min(t*this.velocityMultiplier,55),-55),this.tapCapture.captureNext(),y.fn.start.call(this)))},tick:function(){var e=this.dimension,t=this.paneAxis.outOfBounds()?.5:this.friction,n=this.velocity*=t,r=this.movable[this.axis]+n;!this.elastic&&e.outOfBounds(r)&&(r=Math.max(Math.min(r,e.max),e.min),this.velocity=0),this.movable.moveAxis(this.axis,r)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this.dimension,t=this.movable[this.axis]>e.max?e.max:e.min;this._moveTo(t)},_moveTo:function(e){this.transition.moveTo({location:e,duration:500,ease:w.easeOutExpo})}}),S=y.extend({init:function(e){n.effects.Animation.fn.init.call(this),h(this,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return x(this.offset.y)<5&&x(this.offset.x)<5},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},setCallback:function(e){e&&n.isFunction(e)?this.callback=e:e=void 0},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),T=f.extend({init:function(t){var n="x"===t.axis,element=e('<div class="km-touch-scrollbar km-'+(n?"horizontal":"vertical")+'-scrollbar" />');h(this,t,{element:element,elementSize:0,movable:new m(element),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:n?"width":"height"}),this.scrollMovable.bind("change",c(this.refresh,this)),this.container.append(element),t.alwaysVisible&&this.show()},refresh:function(){var e=this.axis,t=this.dimension,n=t.size,r=this.scrollMovable,o=n/t.total,l=Math.round(-r[e]*o),c=Math.round(n*o);o>=1?this.element.css("display","none"):this.element.css("display",""),l+c>n?c=n-l:l<0&&(c+=l,l=0),this.elementSize!=c&&(this.element.css(this.size,c+"px"),this.elementSize=c),this.movable.moveAxis(e,l)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),D=d.extend({init:function(element,t){var r=this;if(d.fn.init.call(r,element,t),element=r.element,r._native=r.options.useNative&&n.support.hasNativeScrolling,r._native)return element.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void h(r,{scrollElement:element,fixedContainer:element.children().first()});element.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var o=element.children().eq(1),l=new n.TapCapture(element),f=new m(o),w=new _({element:o,container:element,forcedEnabled:r.options.zoom}),y=this.options.avoidScrolling,C=new n.UserEvents(element,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:r.options.zoom,supportDoubleTap:r.options.supportDoubleTap,start:function(t){w.refresh();var n=x(t.x.velocity),o=x(t.y.velocity),l=2*n>=o,c=2*o>=n;!e.contains(r.fixedContainer[0],t.event.target)&&!y(t)&&r.enabled&&(w.x.enabled&&l||w.y.enabled&&c)?C.capture():C.cancel()}}),T=new v({movable:f,dimensions:w,userEvents:C,elastic:r.options.elastic}),D=new k({movable:f,dimensions:w,userEvents:C,tapCapture:l}),E=new S({moveTo:function(e){r.scrollTo(e.x,e.y)}});f.bind("change",(function(){r.scrollTop=-f.y,r.scrollLeft=-f.x,r.trigger("scroll",{scrollTop:r.scrollTop,scrollLeft:r.scrollLeft})})),r.options.mousewheelScrolling&&element.on("DOMMouseScroll mousewheel",c(this,"_wheelScroll")),h(r,{movable:f,dimensions:w,zoomSnapBack:D,animatedScroller:E,userEvents:C,pane:T,tapCapture:l,pulled:!1,enabled:!0,scrollElement:o,scrollTop:0,scrollLeft:0,fixedContainer:element.children().first()}),r._initAxis("x"),r._initAxis("y"),r._wheelEnd=function(){r._wheel=!1,r.userEvents.end(0,r._wheelY)},w.refresh(),r.options.pullToRefresh&&r._initPullToRefresh()},_wheelScroll:function(e){if(!e.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=n.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()}},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull","scroll","resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(e){d.fn.setOptions.call(this,e),e.pullToRefresh&&this._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(x(e)),this.scrollElement.scrollTop(x(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t,n){var r,o;this._native?this.scrollTo(e,t):(r={x:this.movable.x,y:this.movable.y},o={x:e,y:t},this.animatedScroller.setCoordinates(r,o),this.animatedScroller.setCallback(n),this.animatedScroller.start())},pullHandled:function(){this.refreshHint.removeClass("km-scroller-refresh"),this.hintContainer.html(this.pullTemplate({})),this.yinertia.onEnd(),this.xinertia.onEnd(),this.userEvents.cancel()},destroy:function(){d.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){this.dimensions.y.forceEnabled(),this.pullTemplate=n.template(this.options.messages.pullTemplate),this.releaseTemplate=n.template(this.options.messages.releaseTemplate),this.refreshTemplate=n.template(this.options.messages.refreshTemplate),this.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+this.pullTemplate({})+"</span></span>"),this.refreshHint=this.scrollElement.children().first(),this.hintContainer=this.refreshHint.children(".km-template"),this.pane.y.bind("change",c(this._paneChange,this)),this.userEvents.bind("end",c(this._dragEnd,this))},_dragEnd:function(){this.pulled&&(this.pulled=!1,this.refreshHint.removeClass("km-scroller-release").addClass("km-scroller-refresh"),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){this.movable.y/.5>this.options.pullOffset?this.pulled||(this.pulled=!0,this.refreshHint.removeClass("km-scroller-refresh").addClass("km-scroller-release"),this.hintContainer.html(this.releaseTemplate({}))):this.pulled&&(this.pulled=!1,this.refreshHint.removeClass("km-scroller-release"),this.hintContainer.html(this.pullTemplate({})))},_initAxis:function(e){var t=this,n=t.movable,r=t.dimensions[e],o=t.tapCapture,l=t.pane[e],c=new T({axis:e,movable:n,dimension:r,container:t.element,alwaysVisible:t.options.visibleScrollHints});r.bind("change",(function(){c.refresh()})),l.bind("change",(function(){c.show()})),t[e+"inertia"]=new C({axis:e,paneAxis:l,movable:n,tapCapture:o,userEvents:t.userEvents,dimension:r,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end:function(){c.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});l.plugin(D)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1191)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1191:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.effects,o=e.each,l=e.extend,c=e.proxy,h=n.support,d=h.browser,f=h.transforms,m=h.transitions,v={scale:0,scalex:0,scaley:0,scale3d:0},_={translate:0,translatex:0,translatey:0,translate3d:0},w=void 0!==document.documentElement.style.zoom&&!f,y=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,x=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,k=/translatex?$/i,C=/(zoom|fade|expand)(\w+)/,S=/(zoom|fade|expand)/,T=/[xy]$/i,D=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],E=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],A={rotate:"deg",scale:"",skew:"px",translate:"px"},I=f.css,M=Math.round,R="px",F="none",P="width",z="height",B=I+"transition",L=I+"transform",H=I+"backface-visibility",N=I+"perspective",O={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(n.directions=O,l(e.fn,{kendoStop:function(e,t){return m?r.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),f&&!m){o(E,(function(t,n){e.fn[n]=function(t){if(void 0===t)return $(this,n);var r=e(this)[0],o=n+"("+t+A[n.replace(T,"")]+")";return-1==r.style.cssText.indexOf(L)?e(this).css(L,o):r.style.cssText=r.style.cssText.replace(new RegExp(n+"\\(.*?\\)","i"),o),this},e.fx.step[n]=function(t){e(t.elem)[n](t.now)}}));var V=e.fx.prototype.cur;e.fx.prototype.cur=function(){return-1!=E.indexOf(this.prop)?parseFloat(e(this.elem)[this.prop]()):V.apply(this,arguments)}}function W(e){return parseInt(e,10)}function U(element,e){return W(element.css(e))}function j(e){for(var t in e)-1!=D.indexOf(t)&&-1==E.indexOf(t)&&delete e[t];return e}function G(element,e){var t,n,r,o,l=[],c={};for(n in e)t=n.toLowerCase(),o=f&&-1!=D.indexOf(t),!h.hasHW3D&&o&&-1==E.indexOf(t)?delete e[n]:(r=e[n],o?l.push(n+"("+r+")"):c[n]=r);return l.length&&(c[L]=l.join(" ")),c}function $(element,e){if(f){var t=element.css(L);if(t==F)return"scale"==e?1:0;var n=t.match(new RegExp(e+"\\s*\\(([\\d\\w\\.]+)")),r=0;return n?r=W(n[1]):(n=t.match(y)||[0,0,0,0,0],e=e.toLowerCase(),k.test(e)?r=parseFloat(n[3]/n[2]):"translatey"==e?r=parseFloat(n[4]/n[2]):"scale"==e?r=parseFloat(n[2]):"rotate"==e&&(r=parseFloat(Math.atan2(n[2],n[1])))),r}return parseFloat(element.css(e))}n.toggleClass=function(element,e,t,n){return e&&(e=e.split(" "),m&&(t=l({exclusive:"all",duration:400,ease:"ease-out"},t),element.css(B,t.exclusive+" "+t.duration+"ms "+t.ease),setTimeout((function(){element.css(B,"").css(z)}),t.duration)),o(e,(function(e,t){element.toggleClass(t,n)}))),element},n.parseEffects=function(input,e){var t={};return"string"==typeof input?o(input.split(" "),(function(n,r){var o=!S.test(r),l=r.replace(C,(function(e,t,n){return t+":"+n.toLowerCase()})).split(":"),c=l[1],h={};l.length>1&&(h.direction=e&&o?O[c].reverse:c),t[l[0]]=h})):o(input,(function(n){var r=this.direction;r&&e&&!S.test(n)&&(this.direction=O[r].reverse),t[n]=this})),t},m&&l(r,{transition:function(element,t,n){var r,o,c=0,h=element.data("keys")||[];n=l({duration:200,ease:"ease-out",complete:null,exclusive:"all"},n);var d=!1,f=function(){d||(d=!0,o&&(clearTimeout(o),o=null),element.removeData("abortId").dequeue().css(B,"").css(B),n.complete.call(element))};n.duration=e.fx&&e.fx.speeds[n.duration]||n.duration,r=G(0,t),e.merge(h,function(e){var t=[];for(var n in e)t.push(n);return t}(r)),e.hasOwnProperty("uniqueSort")?element.data("keys",e.uniqueSort(h)).height():element.data("keys",e.unique(h)).height(),element.css(B,n.exclusive+" "+n.duration+"ms "+n.ease).css(B),element.css(r).css(L),m.event&&(element.one(m.event,f),0!==n.duration&&(c=500)),o=setTimeout(f,n.duration+c),element.data("abortId",o),element.data("completeCallback",f)},stopQueue:function(element,e,t){var r,o=element.data("keys"),l=!t&&o,c=element.data("completeCallback");return l&&(r=n.getComputedStyles(element[0],o)),c&&c(),l&&element.css(r),element.removeData("keys").stop(e)}});var Y=n.Class.extend({init:function(element,e){this.element=element,this.effects=[],this.options=e,this.restore=[]},run:function(t){var n,o,c,h,d,v,_=t.length,element=this.element,w=this.options,y=e.Deferred(),x={},k={};for(this.effects=t,y.done(e.proxy(this,"complete")),element.data("animating",!0),o=0;o<_;o++)for((n=t[o]).setReverse(w.reverse),n.setOptions(w),this.addRestoreProperties(n.restore),n.prepare(x,k),c=0,v=(d=n.children()).length;c<v;c++)d[c].duration(w.duration).run();for(var C in w.effects)l(k,w.effects[C].properties);for(element.is(":visible")||l(x,{display:element.data("olddisplay")||"block"}),f&&!w.reset&&(h=element.data("targetTransform"))&&(x=l(h,x)),x=G(0,x),f&&!m&&(x=j(x)),element.css(x).css(L),o=0;o<_;o++)t[o].setup();return w.init&&w.init(),element.data("targetTransform",k),r.animate(element,k,l({},w,{complete:y.resolve})),y.promise()},stop:function(){e(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,element=this.element,i=0,n=e.length;i<n;i++)t=e[i],this.restore.push(t),element.data(t)||element.data(t,element.css(t))},restoreCallback:function(){for(var element=this.element,i=0,e=this.restore.length;i<e;i++){var t=this.restore[i];element.css(t,element.data(t))}},complete:function(){var t=0,element=this.element,n=this.options,r=this.effects,o=r.length;for(element.removeData("animating").dequeue(),n.hide&&element.data("olddisplay",element.css("display")).hide(),this.restoreCallback(),w&&!f&&setTimeout(e.proxy(this,"restoreCallback"),0);t<o;t++)r[t].teardown();n.completeCallback&&n.completeCallback(element)}});r.promise=function(element,e){var t,o,l=[],c=new Y(element,e),h=n.parseEffects(e.effects);for(var d in e.effects=h,h)(t=r[Q(d)])&&(o=new t(element,h[d].direction),l.push(o));l[0]?c.run(l):(element.is(":visible")||element.css({display:element.data("olddisplay")||"block"}).css("display"),e.init&&e.init(),element.dequeue(),c.complete())},l(r,{animate:function(t,n,c){var h=!1!==c.transition;delete c.transition,m&&"transition"in r&&h?r.transition(t,n,c):f?t.animate(j(n),{queue:!1,show:!1,hide:!1,duration:c.duration,complete:c.complete}):t.each((function(){var element=e(this),t={};o(D,(function(e,r){var o,c=n?n[r]+" ":null;if(c){var h=n;if(r in v&&void 0!==n[r])o=c.match(x),f&&l(h,{scale:+o[0]});else if(r in _&&void 0!==n[r]){var d=element.css("position"),m="absolute"==d||"fixed"==d;element.data("translate")||(m?element.data("translate",{top:U(element,"top")||0,left:U(element,"left")||0,bottom:U(element,"bottom"),right:U(element,"right")}):element.data("translate",{top:U(element,"marginTop")||0,left:U(element,"marginLeft")||0}));var w=element.data("translate");if(o=c.match(x)){var y="translatey"==r?0:+o[1],k="translatey"==r?+o[1]:+o[2];m?(isNaN(w.right)?isNaN(y)||l(h,{left:w.left+y}):isNaN(y)||l(h,{right:w.right-y}),isNaN(w.bottom)?isNaN(k)||l(h,{top:w.top+k}):isNaN(k)||l(h,{bottom:w.bottom-k})):(isNaN(y)||l(h,{marginLeft:w.left+y}),isNaN(k)||l(h,{marginTop:w.top+k}))}}!f&&"scale"!=r&&r in h&&delete h[r],h&&l(t,h)}})),d.msie&&delete t.scale,element.animate(t,{queue:!1,show:!1,hide:!1,duration:c.duration,complete:c.complete})}))}}),r.animatedPromise=r.promise;var K=n.Class.extend({init:function(element,e){this.element=element,this._direction=e,this.options={},this._additionalEffects=[],this.restore||(this.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=new Y(this.element,{reverse:this._reverse,duration:this._duration}),t=this._additionalEffects.concat([this]);return e.run(t)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n,element=this.element,o=0,c=this.restore,h=c.length,d=e.Deferred(),v={},_={},w=this.children(),y=w.length;for(d.done(e.proxy(this,"_complete")),element.data("animating",!0),o=0;o<h;o++)t=c[o],element.data(t)||element.data(t,element.css(t));for(o=0;o<y;o++)w[o].duration(this._duration).run();return this.prepare(v,_),element.is(":visible")||l(v,{display:element.data("olddisplay")||"block"}),f&&(n=element.data("targetTransform"))&&(v=l(n,v)),v=G(0,v),f&&!m&&(v=j(v)),element.css(v).css(L),this.setup(),element.data("targetTransform",_),r.animate(element,_,{duration:this._duration,complete:d.resolve}),d.promise()},stop:function(){var t=0,n=this.children(),r=n.length;for(t=0;t<r;t++)n[t].stop();return e(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var element=this.element,i=0,e=this.restore.length;i<e;i++){var t=this.restore[i];element.css(t,element.data(t))}},_complete:function(){var element=this.element;element.removeData("animating").dequeue(),this.restoreCallback(),this.shouldHide()&&element.data("olddisplay",element.css("display")).hide(),w&&!f&&setTimeout(e.proxy(this,"restoreCallback"),0),this.teardown()},setOptions:function(e){l(!0,this.options,e)},children:function(){return[]},shouldHide:e.noop,setup:e.noop,prepare:e.noop,teardown:e.noop,directions:[],setReverse:function(e){return this._reverse=e,this}});function Q(e){return e.charAt(0).toUpperCase()+e.substring(1)}function X(e,t){var n=K.extend(t),l=n.prototype.directions;r[Q(e)]=n,r.Element.prototype[e]=function(e,t,r,o){return new n(this.element,e,t,r,o)},o(l,(function(t,o){r.Element.prototype[e+Q(o)]=function(e,t,r){return new n(this.element,o,e,t,r)}}))}var J=["left","right","up","down"],Z=["in","out"];function ee(e,t,n,r){X(e,{directions:Z,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,o){var l,c,h="out"===this._direction,d=this.element.data(t);l=isNaN(d)||d==n?void 0!==this._startValue?this._startValue:h?n:r:d,c=void 0!==this._endValue?this._endValue:h?r:n,this._reverse?(e[t]=c,o[t]=l):(e[t]=l,o[t]=c),this._shouldHide=o[t]===r}})}X("slideIn",{directions:J,divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var r,element=this.element,o=n._outerWidth,l=n._outerHeight,c=O[this._direction],h=-c.modifier*(c.vertical?l(element):o(element))/(this.options&&this.options.divisor||1)+R;this._reverse&&(r=e,e=t,t=r),f?(e[c.transition]=h,t[c.transition]="0px"):(e[c.property]=h,t[c.property]="0px")}}),X("tile",{directions:J,init:function(element,e,t){K.prototype.init.call(this,element,e),this.options={previous:t}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this._reverse,t=this.options.previous,r=this.options.previousDivisor||1,o=this._direction,l=[n.fx(this.element).slideIn(o).setReverse(e)];return t&&l.push(n.fx(t).slideIn(O[o].reverse).divisor(r).setReverse(!e)),l}}),ee("fade","opacity",1,0),ee("zoom","scale",1,.01),X("slideMargin",{prepare:function(e,t){var n,element=this.element,r=this.options,o=element.data("origin"),l=r.offset,c=this._reverse;c||null!==o||element.data("origin",parseFloat(element.css("margin-"+r.axis))),n=element.data("origin")||0,t["margin-"+r.axis]=c?n:n+l}}),X("slideTo",{prepare:function(e,t){var element=this.element,n=this.options.offset.split(","),r=this._reverse;f?(t.translatex=r?0:n[0],t.translatey=r?0:n[1]):(t.left=r?0:n[0],t.top=r?0:n[1]),element.css("left")}}),X("expand",{directions:["horizontal","vertical"],restore:["overflow"],prepare:function(e,t){var element=this.element,n=this.options,r=this._reverse,o="vertical"===this._direction?z:P,l=element[0].style[o],c=element.data(o),h=parseFloat(c||l),d=M(element.css(o,"auto")[o]());e.overflow="hidden",h=n&&n.reset?d||h:h||d,t[o]=(r?0:h)+R,e[o]=(r?h:0)+R,void 0===c&&element.data(o,l)},shouldHide:function(){return this._reverse},teardown:function(){var element=this.element,e="vertical"===this._direction?z:P,t=element.data(e);"auto"!=t&&""!==t||setTimeout((function(){element.css(e,"auto").css(e)}),0)}});var te={position:"absolute",marginLeft:0,marginTop:0,scale:1};X("transfer",{init:function(element,e){this.element=element,this.options={target:e},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var element=this.element,n=r.box(element),o=r.box(this.options.target),c=$(element,"scale"),h=r.fillScale(o,n),d=r.transformOrigin(o,n);l(e,te),t.scale=1,element.css(L,"scale(1)").css(L),element.css(L,"scale("+c+")"),e.top=n.top,e.left=n.left,e.transformOrigin=d.x+R+" "+d.y+R,this._reverse?e.scale=h:t.scale=h}});var ie={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},ne={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function re(e,t){var r=e[n.directions[t].vertical?z:P]()/2+"px";return ie[t].replace("$size",r)}X("turningPage",{directions:J,init:function(element,e,t){K.prototype.init.call(this,element,e),this._container=t},prepare:function(e,t){var r=this._reverse,o=r?O[this._direction].reverse:this._direction,l=ne[o];e.zIndex=1,this._clipInHalf&&(e.clip=re(this._container,n.directions[o].reverse)),e[H]="hidden",t[L]="perspective(1500px)"+(r?l.start:l.end),e[L]="perspective(1500px)"+(r?l.end:l.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),X("staticPage",{directions:J,init:function(element,e,t){K.prototype.init.call(this,element,e),this._container=t},restore:["clip"],prepare:function(e,t){var n=this._reverse?O[this._direction].reverse:this._direction;e.clip=re(this._container,n),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},face:function(e){return this._face=e,this}}),X("pageturn",{directions:["horizontal","vertical"],init:function(element,e,t,n){K.prototype.init.call(this,element,e),this.options={},this.options.face=t,this.options.back=n},children:function(){var e,t=this.options,r="horizontal"===this._direction?"left":"top",o=n.directions[r].reverse,l=this._reverse,c=t.face.clone(!0).removeAttr("id"),h=t.back.clone(!0).removeAttr("id"),element=this.element;return l&&(e=r,r=o,o=e),[n.fx(t.face).staticPage(r,element).face(!0).setReverse(l),n.fx(t.back).staticPage(o,element).setReverse(l),n.fx(c).turningPage(r,element).face(!0).clipInHalf(!0).temporary().setReverse(l),n.fx(h).turningPage(o,element).clipInHalf(!0).temporary().setReverse(l)]},prepare:function(e,t){e[N]="1500px",e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),X("flip",{directions:["horizontal","vertical"],init:function(element,e,t,n){K.prototype.init.call(this,element,e),this.options={},this.options.face=t,this.options.back=n},children:function(){var e,t=this.options,r="horizontal"===this._direction?"left":"top",o=n.directions[r].reverse,l=this._reverse,element=this.element;return l&&(e=r,r=o,o=e),[n.fx(t.face).turningPage(r,element).face(!0).setReverse(l),n.fx(t.back).turningPage(o,element).setReverse(l)]},prepare:function(e){e[N]="1500px",e.transformStyle="preserve-3d"}});var oe=!h.mobileOS.android;X("replace",{_before:e.noop,_after:e.noop,init:function(element,t,n){K.prototype.init.call(this,element),this._previous=e(t),this._transitionClass=n},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){return this._before=e,this},afterTransition:function(e){return this._after=e,this},_both:function(){return e().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(t){if(!(!this.deferred||t&&e(t.target).is(".km-touch-scrollbar, .km-actionsheet-wrapper"))){var n=this.container;n.removeClass("k-fx-end").removeClass(this._containerClass()).off(m.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),oe&&n.css("overflow",""),this.isAbsolute||this._both().css("position",""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t=this,element=t.element,r=t._previous,o=element.parents().filter(r.parents()).first(),l=t._both(),c=e.Deferred(),h=element.css("position");return o.length||(o=element.parent()),this.container=o,this.deferred=c,this.isAbsolute="absolute"==h,this.isAbsolute||l.css("position","absolute"),oe&&(o.css("overflow"),o.css("overflow","hidden")),m?(element.addClass("k-fx-hidden"),o.addClass(this._containerClass()),this.completeProxy=e.proxy(this,"complete"),o.on(m.event,this.completeProxy),n.animationFrame((function(){element.removeClass("k-fx-hidden").addClass("k-fx-next"),r.css("display","").addClass("k-fx-current"),t._before(r,element),n.animationFrame((function(){o.removeClass("k-fx-start").addClass("k-fx-end"),t._after(r,element)}))}))):this.complete(),c.promise()},stop:function(){this.complete()}});var se=n.Class.extend({init:function(){this._tickProxy=c(this._tick,this),this._started=!1},tick:e.noop,done:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,n.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):n.animationFrame(this._tickProxy))}}),ae=se.extend({init:function(e){l(this,e),se.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this.movable;this.initial=t[this.axis],this.delta=e.location-this.initial,this.duration="number"==typeof e.duration?e.duration:300,this.tick=this._easeProxy(e.ease),this.startDate=new Date,this.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}});l(ae,{easeOutExpo:function(e,b,t,n){return e==n?b+t:t*(1-Math.pow(2,-10*e/n))+b},easeOutBack:function(e,b,t,n,s){return t*((e=e/n-1)*e*((1+(s=1.70158))*e+s)+1)+b}}),r.Animation=se,r.Transition=ae,r.createEffect=X,r.box=function(element){var t=(element=e(element)).offset();return t.width=n._outerWidth(element),t.height=n._outerHeight(element),t},r.transformOrigin=function(e,t){var n=(e.left-t.left)*t.width/(t.width-e.width),r=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(n)?0:n,y:isNaN(r)?0:r}},r.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},r.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)}}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1400)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1039:function(e,t){e.exports=n(4)},1062:function(e,t){e.exports=n(5)},1400:function(e,t,n){var r,o,l;n(3),o=[n(1062),n(1039)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=window.kendo,o=r.ui.Widget,l=r.ui.Popup.TabKeyTrap,c=r.ui.Draggable,h=e.isPlainObject,d=r._activeElement,f=r._outerWidth,m=r._outerHeight,v=e.proxy,_=e.extend,w=e.each,template=r.template,y=".kendoWindow",x=".kendoWindowModal",k=".k-window",C=".k-window-titlebar",S=".k-window-content",T=".k-resize-handle",D=".k-overlay",E="hidden",A=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",I=".k-window-titlebar .k-window-action",M=/^0[a-z]*$/i,R=r.isLocalUrl,F={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"};function P(e){return void 0!==e}function z(element,e){return parseInt(element.css(e),10)||0}function B(e,t,n){return e&&isNaN(e)&&e.toString().indexOf("px")<0?e:Math.max(Math.min(parseInt(e,10),n===1/0?n:parseInt(n,10)),t===-1/0?t:parseInt(t,10))}function L(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function H(t){for(var n={top:t.offsetTop,left:t.offsetLeft},r=t.offsetParent;r;){n.top+=r.offsetTop,n.left+=r.offsetLeft;var o=e(r).css("overflowX"),l=e(r).css("overflowY");"auto"!==l&&"scroll"!==l||(n.top-=r.scrollTop),"auto"!==o&&"scroll"!==o||(n.left-=r.scrollLeft),r=r.offsetParent}return n}var N=o.extend({init:function(element,t){var n,c,d,f,content,m,_,w,x={},T=t&&t.actions&&!t.actions.length;o.fn.init.call(this,element,t),f=(t=this.options).position,element=this.element,content=t.content,_=e(window),T&&(t.actions=[]),this.appendTo=e(t.appendTo),this.containment=t.draggable.containment?e(t.draggable.containment).first():null,content&&!h(content)&&(content=t.content={url:content}),element.find("script").filter(L).remove(),element.parent().is(this.appendTo)||this.containment||void 0!==f.top&&void 0!==f.left||(element.is(":visible")?x=element.offset():(c=element.css("visibility"),d=element.css("display"),element.css({visibility:E,display:""}),x=element.offset(),element.css({visibility:c,display:d})),void 0===f.top&&(f.top=x.top),void 0===f.left&&(f.left=x.left)),P(t.visible)&&null!==t.visible||(t.visible=element.is(":visible")),n=this.wrapper=element.closest(k),element.is(".k-content")&&n[0]||(element.addClass("k-window-content k-content"),this._createWindow(element,t),n=this.wrapper=element.closest(k),this.title(this.options.title),this._dimensions()),this.minTop=this.minLeft=-1/0,this.maxTop=this.maxLeft=1/0,this._position(),content&&this.refresh(content),t.visible&&this.toFront(),m=n.children(S),this._tabindex(m),t.visible&&t.modal&&this._overlay(n.is(":visible")).css({opacity:.5}),n.on("mouseenter"+y,I,v(this._buttonEnter,this)).on("mouseleave"+y,I,v(this._buttonLeave,this)).on("click"+y,"> "+I,v(this._windowActionHandler,this)).on("keydown"+y,v(this._keydown,this)).on("focus"+y,v(this._focus,this)).on("blur"+y,v(this._blur,this)),m.on("keydown"+y,v(this._keydown,this)).on("focus"+y,v(this._focus,this)).on("blur"+y,v(this._blur,this)),m.find(".k-content-frame")[0]&&!_.data("WindowEventsHandled")&&(_.on("blur"+y,(function(){var element=e(document.activeElement).parent(S);element.length&&r.widgetInstance(element)._focus()})),_.on("focus"+y,(function(){e(S).not(".k-dialog-content").each((function(i,element){r.widgetInstance(e(element))._blur()}))})),_.data("WindowEventsHandled",!0)),this._resizable(),this._draggable(),t.pinned&&this.wrapper.is(":visible")&&this.pin(),(w=element.attr("id"))&&(w+="_wnd_title",n.children(C).children(".k-window-title").attr("id",w),m.attr({role:"dialog","aria-labelledby":w})),n.add(n.children(".k-resize-handle,"+C)).on("mousedown"+y,v(this.toFront,this)),this.touchScroller=r.touchScroller(element),this._resizeHandler=v(this._onDocumentResize,this),this._marker=r.guid().substring(0,8),e(window).on("resize"+y+this._marker,this._resizeHandler),t.visible&&(this.trigger("open"),this.trigger("activate")),r.notify(this),this.options.modal&&(this._tabKeyTrap=new l(n),this._tabKeyTrap.trap(),this._tabKeyTrap.shouldTrap=function(){return m.data("isFront")})},_buttonEnter:function(t){e(t.currentTarget).addClass("k-state-hover")},_buttonLeave:function(t){e(t.currentTarget).removeClass("k-state-hover")},_focus:function(){this.wrapper.addClass("k-state-focused")},_blur:function(){this.wrapper.removeClass("k-state-focused")},_dimensions:function(){var e=this.wrapper,t=this.options,n=t.width,r=t.height,o=t.maxHeight,l=t.size,c=["minWidth","minHeight","maxWidth","maxHeight"],h="content-box"==e.css("box-sizing"),d=h?z(e,"border-left-width")+z(e,"border-right-width"):0,f=h?z(e,"border-top-width")+z(e,"border-bottom-width"):0,m=h?z(e,"padding-top"):0;this.containment&&!this._isPinned&&(this._updateBoundaries(),t.maxHeight=Math.min(this.containment.height-(f+m),o),t.maxWidth=Math.min(this.containment.width-d,t.maxWidth));for(var i=0;i<c.length;i++){var v=t[c[i]]||"";v!=1/0&&e.css(c[i],v)}o!=1/0&&this.element.css("maxHeight",o),n?e.width(B(n,t.minWidth,t.maxWidth)):e.width(""),r?e.height(B(r,t.minHeight,t.maxHeight)):e.height(""),t.visible||e.hide(),l&&F[l]&&e.addClass(F[l])},_position:function(){var e=this.wrapper,t=this.options.position;this._updateBoundaries(),this.containment&&(t.top=Math.min(this.minTop+(t.top||0),this.maxTop),t.left=Math.min(this.minLeft+(t.left||0),this.maxLeft)),0===t.top&&(t.top=t.top.toString()),0===t.left&&(t.left=t.left.toString()),e.css({top:t.top||"",left:t.left||""})},_updateBoundaries:function(){var e=this.containment;if(!e)return null;e.width=e.innerWidth(),e.height=e.innerHeight(),parseInt(e.width,10)>e[0].clientWidth&&(e.width-=r.support.scrollbar()),parseInt(e.height,10)>e[0].clientHeight&&(e.height-=r.support.scrollbar()),e.position=H(e[0]),this._isPinned?(this.minTop=this.minLeft=-1/0,this.maxTop=this.maxLeft=1/0):(this.minTop=e.scrollTop(),this.minLeft=e.scrollLeft(),this.maxLeft=this.minLeft+e.width-f(this.wrapper,!0),this.maxTop=this.minTop+e.height-m(this.wrapper,!0))},_animationOptions:function(e){var t=this.options.animation;return t&&t[e]||{open:{effects:{}},close:{hide:!0,effects:{}}}[e]},_resize:function(){r.resize(this.element.children())},_resizable:function(){var t=this.options.resizable,r=this.wrapper;this.resizing&&(r.off("dblclick"+y).children(T).remove(),this.resizing.destroy(),this.resizing=null),t&&(r.on("dblclick"+y,C,v((function(t){e(t.target).closest(".k-window-action").length||this.toggleMaximization()}),this)),w("n e s w se sw ne nw".split(" "),(function(e,t){r.append(n.resizeHandle(t))})),this.resizing=new O(this)),r=null},_draggable:function(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new V(this,e.dragHandle||C))},_actions:function(){var t=this.options,o=t.actions,l=t.pinned,c=this.wrapper.children(C).find(".k-window-actions"),h=["maximize","minimize"];o=e.map(o,(function(e){return e=l&&"pin"===e.toLowerCase()?"unpin":e,{name:h.indexOf(e.toLowerCase())>-1?"window-"+e:e}})),c.html(r.render(n.action,o))},setOptions:function(e){var t=this.options.size,n=JSON.parse(JSON.stringify(e));_(e.position,this.options.position),_(e.position,n.position),o.fn.setOptions.call(this,e);var r=!1!==this.options.scrollable;if(this.restore(),void 0!==e.title&&this.title(e.title),this.wrapper.removeClass(F[t]),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions(),void 0!==e.modal){var l=!1!==this.options.visible;this._enableDocumentScrolling(),this._overlay(e.modal&&l)}this.element.css("overflow",r?"":"hidden")},events:["open","activate","deactivate","close","minimize","maximize","refresh","resizeStart","resize","resizeEnd","dragstart","dragend","error"],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,size:"auto",resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:!1,isMinimized:!1},_closable:function(){return e.inArray("close",e.map(this.options.actions,(function(e){return e.toLowerCase()})))>-1},_keydown:function(e){var t,n,o,l,c,h,d=this.options,f=r.keys,m=e.keyCode,v=this.wrapper,_=d.isMaximized,w=d.isMinimized;m==f.ESC&&this._closable()&&(e.stopPropagation(),this._close(!1)),e.target!=e.currentTarget||this._closing||(e.altKey&&82==m&&this.refresh(),e.altKey&&80==m&&(this.options.pinned?this.unpin():this.pin()),e.altKey&&m==f.UP?w?(this.restore(),this.element.focus()):_||(this.maximize(),this.element.focus()):e.altKey&&m==f.DOWN&&(w||_?_&&(this.restore(),this.element.focus()):(this.minimize(),this.wrapper.focus())),t=r.getOffset(v),this.containment&&!this._isPinned&&(t=this.options.position),!d.draggable||e.ctrlKey||e.altKey||_||(this._updateBoundaries(),m==f.UP?(t.top=B(t.top-10,this.minTop,this.maxTop),n=v.css("top",t.top)):m==f.DOWN?(t.top=B(t.top+10,this.minTop,this.maxTop),n=v.css("top",t.top)):m==f.LEFT?(t.left=B(t.left-10,this.minLeft,this.maxLeft),n=v.css("left",t.left)):m==f.RIGHT&&(t.left=B(t.left+10,this.minLeft,this.maxLeft),n=v.css("left",t.left))),d.resizable&&e.ctrlKey&&!_&&!w&&(m==f.UP?(n=!0,l=v.height()-10):m==f.DOWN&&(n=!0,l=this.containment&&!this._isPinned?Math.min(v.height()+10,this.containment.height-t.top-z(v,"padding-top")-z(v,"borderBottomWidth")-z(v,"borderTopWidth")):v.height()+10),m==f.LEFT?(n=!0,o=v.width()-10):m==f.RIGHT&&(n=!0,o=this.containment&&!this._isPinned?Math.min(v.width()+10,this.containment.width-t.left-z(v,"borderLeftWidth")-z(v,"borderRightWidth")):v.width()+10),n&&(c=B(o,d.minWidth,d.maxWidth),h=B(l,d.minHeight,d.maxHeight),isNaN(c)||(v.width(c),this.options.width=c+"px"),isNaN(h)||(v.height(h),this.options.height=h+"px"),this.resize())),n&&e.preventDefault())},_overlay:function(t){var n=this.containment?this.containment.children(D):this.appendTo.children(D),r=this.wrapper;return n.length||(n=e("<div class='k-overlay' />")),n.insertBefore(r[0]).toggle(t).css("zIndex",parseInt(r.css("zIndex"),10)-1),this.options.modal.preventScroll&&!this.containment&&this._stopDocumentScrolling(),n},_actionForIcon:function(e){return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[/\bk-i(-\w+)+\b/.exec(e[0].className)[0]]},_windowActionHandler:function(t){if(!this._closing){var n=e(t.target).closest(".k-window-action").find(".k-icon"),r=this._actionForIcon(n);return r?(t.preventDefault(),this[r](),!1):void 0}},_modals:function(){var t=this,n=e(k).filter((function(){var n=e(this),object=t._object(n),r=object&&object.options;return r&&r.modal&&r.visible&&r.appendTo===t.options.appendTo&&n.is(":visible")})).sort((function(a,b){return+e(a).css("zIndex")-+e(b).css("zIndex")}));return t=null,n},_object:function(element){var content=element.children(S),e=r.widgetInstance(content);if(e)return e},center:function(){var t,n,r=this.options.position,o=this.wrapper,l=e(window),c=0,h=0;return this.options.isMaximized?this:(this.options.pinned&&!this._isPinned&&this.pin(),this.options.pinned||(c=l.scrollTop(),h=l.scrollLeft()),this.containment&&!this.options.pinned?(t=this.minTop+(this.maxTop-this.minTop)/2,n=this.minLeft+(this.maxLeft-this.minLeft)/2):(this._scrollIsAppended=!0,n=h+Math.max(0,(l.width()-o.width())/2),t=c+Math.max(0,(l.height()-o.height()-z(o,"paddingTop"))/2)),o.css({left:n,top:t}),r.top=t,r.left=n,this)},title:function(title){var t,o,l,c,h=this,d=!0,f=h.wrapper,v=f.children(C),_=v.children(".k-window-title");return arguments.length?(e.isPlainObject(title)?(t=void 0!==title.text?title.text:"",d=!1!==title.encoded):t=title,!1===t?(f.addClass("k-window-titleless"),f.css("padding-top",0),v.remove()):(v.length?_.html(d?r.htmlEncode(t):t):(f.prepend(n.titlebar({title:d?r.htmlEncode(t):t})),h._actions(),v=f.children(C)),c=f.css("visibility"),l=f.css("display"),c===E?(f.css({display:""}),o=parseInt(m(v),10),f.css({display:l})):(f.css({visibility:E,display:""}),o=parseInt(m(v),10),f.css({visibility:c,display:l})),f.css("padding-top",o),v.css("margin-top",-o)),h.options.title=t,h):_.html()},content:function(html,data){var content=this.wrapper.children(S),e=content.children(".km-scroll-container");return content=e[0]?e:content,P(html)?(this.angular("cleanup",(function(){return{elements:content.children()}})),r.destroy(this.element.children()),content.empty().html(html),this.angular("compile",(function(){for(var a=[],i=content.length;--i>=0;)a.push({dataItem:data});return{elements:content.children(),data:a}})),this):content.html()},open:function(){var t,n,o=this,l=o.wrapper,c=o.options,h=this._animationOptions("open"),d=l.children(S),f=this.containment&&!o._isPinned?this.containment:e(document);if(!o.trigger("open")){if(o._closing&&l.kendoStop(!0,!0),o._closing=!1,o.toFront(),c.autoFocus&&o.element.focus(),c.visible=!0,c.modal){if(n=!!o._modals().length,(t=o._overlay(n)).kendoStop(!0,!0),h.duration&&r.effects.Fade&&!n){var m=r.fx(t).fadeIn();m.duration(h.duration||0),m.endValue(.5),m.play()}else t.css("opacity",.5);t.show(),e(window).on("focus"+x,(function(){d.data("isFront")&&!e(document.activeElement).closest(d).length&&o.element.focus()}))}l.is(":visible")||(d.css("overflow",E),o.wrapper.find(I).addClass("k-bare"),l.show().kendoStop().kendoAnimate({effects:h.effects,duration:h.duration,complete:v(this._activate,this)}))}return c.isMaximized&&(o._containerScrollTop=f.scrollTop(),o._containerScrollLeft=f.scrollLeft(),o._stopDocumentScrolling()),this.options.pinned&&!this._isPinned&&this.pin(),o},_activate:function(){var e=!1!==this.options.scrollable;this.options.autoFocus&&this.element.focus(),this.element.css("overflow",e?"":"hidden"),r.resize(this.element.children()),this.trigger("activate")},_removeOverlay:function(t){var n=this._modals(),o=this.options,l=o.modal&&!n.length,c=o.modal?this._overlay(!0):e(void 0),h=this._animationOptions("close");if(l){if(!t&&h.duration&&r.effects.Fade){var d=r.fx(c).fadeOut();d.duration(h.duration||0),d.startValue(.5),d.play()}else this._overlay(!1).remove();o.modal.preventScroll&&this._enableDocumentScrolling()}else n.length&&(this._object(n.last())._overlay(!0),o.modal.preventScroll&&this._stopDocumentScrolling())},_close:function(t){var n,r=this.wrapper,o=this.options,l=this._animationOptions("open"),c=this._animationOptions("close"),h=this.containment&&!this._isPinned?this.containment:e(document);this._closing||(n=this.trigger("close",{userTriggered:!t}),this._closing=!n,r.is(":visible")&&!n&&(o.visible=!1,e(k).each((function(i,element){var t=e(element).children(S);element!=r&&t.find("> .k-content-frame").length>0&&t.children(D).remove()})),this._removeOverlay(),this.wrapper.find(I).removeClass("k-bare"),r.kendoStop().kendoAnimate({effects:c.effects||l.effects,reverse:!0===c.reverse,duration:c.duration,complete:v(this._deactivate,this)}),e(window).off(x)),this.options.isMaximized&&(this._enableDocumentScrolling(),this._containerScrollTop&&this._containerScrollTop>0&&h.scrollTop(this._containerScrollTop),this._containerScrollLeft&&this._containerScrollLeft>0&&h.scrollLeft(this._containerScrollLeft)))},_deactivate:function(){if(this.wrapper.hide().css("opacity",""),this.trigger("deactivate"),this.options.modal){var e=this._object(this._modals().last());e&&e.toFront()}},close:function(){return this._close(!0),this},_actionable:function(element){return e(element).is(I+","+I+" .k-icon,:input,a")},_shouldFocus:function(t){var n=d(),element=this.element;return this.options.autoFocus&&!e(n).is(element)&&!this._actionable(t)&&(!element.find(n).length||!element.find(t).length)},toFront:function(t){var r=this,o=r.wrapper,l=o[0],c=r.containment&&!r._isPinned,h=+o.css("zIndex"),d=h,f=t&&t.target||null;if(e(k).each((function(i,element){var t=e(element),r=t.css("zIndex"),o=t.children(S);isNaN(r)||(h=Math.max(+r,h)),o.data("isFront",element==l),element!=l&&o.find("> .k-content-frame").length>0&&o.append(n.overlay)})),(!o[0].style.zIndex||d<h)&&o.css("zIndex",h+2),r.element.find("> .k-overlay").remove(),r._shouldFocus(f)){r.isMinimized()?r.wrapper.focus():e(f).is(D)?setTimeout((function(){r.element.focus()})):r.element.focus();var m=c?r.containment.scrollTop():e(window).scrollTop(),v=parseInt(o.position().top,10);!r.options.pinned&&v>0&&v<m&&(m>0?e(window).scrollTop(v):o.css("top",m))}return o=null,r},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this.options,n=t.minHeight,r=this.restoreOptions,o=this.containment&&!this._isPinned?this.containment:e(document);return t.isMaximized||t.isMinimized?(n&&n!=1/0&&this.wrapper.css("min-height",n),r&&!t.isMaximized&&(r.height=B(r.height,this.options.minHeight,this.options.maxHeight),t.position.top+parseInt(r.height,10)>this.maxTop&&(t.position.top=B(t.position.top,this.minTop,this.maxTop-parseInt(r.height,10)),_(r,{left:t.position.left,top:t.position.top}))),this.wrapper.css({position:t.pinned?"fixed":"absolute",left:r.left,top:r.top,width:r.width,height:r.height}).removeClass("k-window-maximized").find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(A).parent().show().end().end().find(".k-i-pin,.k-i-unpin").parent().show(),t.isMaximized?this.wrapper.find(".k-i-window-maximize").parent().focus():t.isMinimized&&this.wrapper.find(".k-i-window-minimize").parent().focus(),this.options.width=r.width,this.options.height=r.height,this.options.modal.preventScroll||this._enableDocumentScrolling(),this._containerScrollTop&&this._containerScrollTop>0&&o.scrollTop(this._containerScrollTop),this._containerScrollLeft&&this._containerScrollLeft>0&&o.scrollLeft(this._containerScrollLeft),t.isMaximized=t.isMinimized=!1,this.wrapper.removeAttr("tabindex"),this.wrapper.removeAttr("aria-labelled-by"),this.resize(),this):this},_sizingAction:function(e,t){var r=this.wrapper,style=r[0].style,o=this.options;return o.isMaximized||o.isMinimized?this:(this.restoreOptions={width:style.width,height:style.height},r.children(T).hide().end().children(C).find(A).parent().hide().eq(0).before(n.action({name:"window-restore"})),t.call(this),this.wrapper.children(C).find(".k-i-pin,.k-i-unpin").parent().toggle("maximize"!==e),this.trigger(e),r.find(".k-i-window-restore").parent().focus(),this)},maximize:function(){return this._sizingAction("maximize",(function(){var t=this.wrapper,n=this.containment&&!this._isPinned,r=t.position(),o=e(document);_(this.restoreOptions,{left:r.left+(n?this.containment.scrollLeft():0),top:r.top+(n?this.containment.scrollTop():0)}),this._containerScrollTop=n?this.containment.scrollTop():o.scrollTop(),this._containerScrollLeft=n?this.containment.scrollLeft():o.scrollLeft(),this._stopDocumentScrolling(),t.css({top:n?this.containment.scrollTop():0,left:n?this.containment.scrollLeft():0,position:n?"absolute":"fixed"}).addClass("k-window-maximized"),this.options.isMaximized=!0,this._onDocumentResize()})),this},_stopDocumentScrolling:function(){var t=this.containment;if(t&&!this._isPinned)return this._storeOverflowRule(t),t.css("overflow",E),void this.wrapper.css({maxWidth:t.innerWidth(),maxHeight:t.innerHeight()});var n=e("body");this._storeOverflowRule(n),n.css("overflow",E);var r=e("html");this._storeOverflowRule(r),r.css("overflow",E)},_enableDocumentScrolling:function(){var t=this.containment;if(t&&!this._isPinned)return this._restoreOverflowRule(t),void this.wrapper.css({maxWidth:t.width,maxHeight:t.height});this._restoreOverflowRule(e(document.body)),this._restoreOverflowRule(e("html"))},_storeOverflowRule:function(e){if(!this._isOverflowStored(e)){var t=e.get(0).style.overflow;"string"==typeof t&&e.data("original-overflow-rule",t)}},_isOverflowStored:function(e){return"string"==typeof e.data("original-overflow-rule")},_restoreOverflowRule:function(e){var t=e.data("original-overflow-rule");null!=t?(e.css("overflow",t),e.removeData("original-overflow-rule")):e.css("overflow","")},isMaximized:function(){return this.options.isMaximized},minimize:function(){return this._sizingAction("minimize",(function(){this.wrapper.css({height:"",minHeight:""}),this.element.hide(),this.options.isMinimized=!0})),this.wrapper.attr("tabindex",0),this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by")),this._updateBoundaries(),this},isMinimized:function(){return this.options.isMinimized},pin:function(){var t=e(window),n=this.wrapper,r=this.options,o=r.position,l=this.containment?H(n[0]).top+z(this.containment,"borderTopWidth"):z(n,"top"),c=this.containment?H(n[0]).left+z(this.containment,"borderLeftWidth"):z(n,"left");this.options.isMaximized||(o.top=l,o.left=c,!this._scrollIsAppended||this.containment&&"fixed"===this.containment.css("position")||(o.top-=t.scrollTop(),o.left-=t.scrollLeft(),this._scrollIsAppended=!1),n.css(_(o,{position:"fixed"})),n.children(C).find(".k-i-pin").addClass("k-i-unpin").removeClass("k-i-pin"),this._isPinned=!0,this.options.pinned=!0,this.containment&&(r.maxWidth=r.maxHeight=1/0,n.css({maxWidth:"",maxHeight:""})))},unpin:function(){var t=e(window),n=this.wrapper,r=this.options,o=this.options.position,l=this.containment,c=parseInt(n.css("top"),10)+t.scrollTop(),h=parseInt(n.css("left"),10)+t.scrollLeft();this.options.isMaximized||(this._isPinned=!1,this._scrollIsAppended=!0,this.options.pinned=!1,l&&(this._updateBoundaries(),r.maxWidth=Math.min(l.width,r.maxWidth),r.maxHeight=Math.min(l.height-z(n,"padding-top"),r.maxHeight),n.css({maxWidth:r.maxWidth,maxHeight:r.maxHeight}),c=c<l.position.top?this.minTop:c>l.position.top+l.height?this.maxTop:c+l.scrollTop()-(l.position.top+z(l,"border-top-width")),h=h<l.position.left?this.minLeft:h>l.position.left+l.width?this.maxLeft:h+l.scrollLeft()-(l.position.left+z(l,"border-left-width"))),o.top=B(c,this.minTop,this.maxTop),o.left=B(h,this.minLeft,this.maxLeft),n.css(_(o,{position:""})),n.children(C).find(".k-i-unpin").addClass("k-i-pin").removeClass("k-i-unpin"))},_onDocumentResize:function(){var t,n,o=this.wrapper,l=e(window),c=r.support.zoomLevel(),h="content-box"==o.css("box-sizing");if(this.options.isMaximized){var d=h?z(o,"border-left-width")+z(o,"border-right-width"):0,f=h?z(o,"border-top-width")+z(o,"border-bottom-width"):0,m=h?z(o,"padding-top"):0;this.containment&&!this._isPinned?(t=this.containment.innerWidth()-d,n=this.containment.innerHeight()-(f+m)):(t=l.width()/c-d,n=l.height()/c-(f+m)),o.css({width:t,height:n}),this.options.width=t,this.options.height=n,this.resize()}},refresh:function(t){var iframe,r,o,l=this.options,element=e(this.element);return h(t)||(t={url:t}),t=_({},l.content,t),r=P(l.iframe)?l.iframe:t.iframe,(o=t.url)?(P(r)||(r=!R(o)),r?((iframe=element.find(".k-content-frame")[0])?iframe.src=o||iframe.src:element.html(n.contentFrame(_({},l,{content:t}))),element.find(".k-content-frame").unbind("load"+y).on("load"+y,v(this._triggerRefresh,this))):this._ajaxRequest(t)):(t.template&&this.content(template(t.template)({})),this.trigger("refresh")),element.toggleClass("k-window-iframecontent",!!r),this},_triggerRefresh:function(){this.trigger("refresh")},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(".k-window-titlebar .k-i-refresh").removeClass("k-i-loading")},_ajaxError:function(e,t){this.trigger("error",{status:t,xhr:e})},_ajaxSuccess:function(e){return function(data){var html=data;e&&(html=template(e)(data||{})),this.content(html,data),this.element.prop("scrollTop",0),this.trigger("refresh")}},_showLoading:function(){this.wrapper.find(".k-window-titlebar .k-i-refresh").addClass("k-i-loading")},_ajaxRequest:function(t){this._loadingIconTimeout=setTimeout(v(this._showLoading,this),100),e.ajax(_({type:"GET",dataType:"html",cache:!1,error:v(this._ajaxError,this),complete:v(this._ajaxComplete,this),success:v(this._ajaxSuccess(t.template),this)},t))},_destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(y).children(S).off(y).end().find(".k-resize-handle,.k-window-titlebar").off(y),e(window).off("resize"+y+this._marker),e(window).off(x),e(window).off(y),clearTimeout(this._loadingIconTimeout),o.fn.destroy.call(this),this.unbind(void 0),r.destroy(this.wrapper),this._removeOverlay(!0)},destroy:function(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=e()},_createWindow:function(){var t,o,l=this.element,c=this.options,h=r.support.isRtl(l);!1===c.scrollable&&l.css("overflow","hidden"),o=e(n.wrapper(c)),t=l.find("iframe:not(.k-content)").map((function(){var e=this.getAttribute("src");return this.src="",e})),o.toggleClass("k-rtl",h).append(l).find("iframe:not(.k-content)").each((function(e){this.src=t[e]})),this.containment?this.containment.prepend(o):this.appendTo&&o.appendTo(this.appendTo),o.find(".k-window-title").css(h?"left":"right",f(o.find(".k-window-actions"))+10),l.css("visibility","").show(),l.find("[data-role=editor]").each((function(){var t=e(this).data("kendoEditor");t&&t.refresh()})),o=l=null}});function O(e){this.owner=e,this._preventDragging=!1,this._draggable=new c(e.wrapper,{filter:">"+T,group:e.wrapper.id+"-resizing",dragstart:v(this.dragstart,this),drag:v(this.drag,this),dragend:v(this.dragend,this)}),this._draggable.userEvents.bind("press",v(this.addOverlay,this)),this._draggable.userEvents.bind("release",v(this.removeOverlay,this))}function V(e,t){this.owner=e,this._preventDragging=!1,this._draggable=new c(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:v(this.dragstart,this),drag:v(this.drag,this),dragend:v(this.dragend,this),dragcancel:v(this.dragcancel,this)}),this._draggable.userEvents.stopPropagation=!1}n={wrapper:template("<div class='k-widget k-window' />"),action:template("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'><span class='k-icon k-i-#= name.toLowerCase() #'></span></a>"),titlebar:template("<div class='k-window-titlebar k-header'><span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:template("<iframe frameborder='0' title='#= title #' class='k-content-frame' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:template("<div class='k-resize-handle k-resize-#= data #'></div>")},O.prototype={addOverlay:function(){this.owner.wrapper.append(n.overlay)},removeOverlay:function(){this.owner.wrapper.find(D).remove()},dragstart:function(t){var n=this.owner,o=n.wrapper;if(this._preventDragging=n.trigger("resizeStart"),!this._preventDragging){this.elementPadding=parseInt(o.css("padding-top"),10),this.initialPosition=r.getOffset(o,"position"),this.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),this.initialSize={width:o.width(),height:o.height()},n._updateBoundaries(),this.containerOffset=n.containment?n.containment.position:r.getOffset(n.appendTo,"position");var l=o.offsetParent();if(l.is("html"))this.containerOffset.top=this.containerOffset.left=0;else{var c=l.css("margin-top"),h=l.css("margin-left");if(!M.test(c)||!M.test(h)){var d=H(o[0]),f=d.left-this.containerOffset.left-this.initialPosition.left,m=d.top-this.containerOffset.top-this.initialPosition.top;this._relativeElMarginLeft=f>1?f:0,this._relativeElMarginTop=m>1?m:0,this.initialPosition.left+=this._relativeElMarginLeft,this.initialPosition.top+=this._relativeElMarginTop}}o.children(T).not(t.currentTarget).hide(),e("body").css("cursor",t.currentTarget.css("cursor"))}},drag:function(t){if(!this._preventDragging){var n,o,l,c,h=this.owner,d=h.wrapper,f=h.options,m=f.position,v=this.resizeDirection,_=this.containerOffset,w=this.initialPosition,y=this.initialSize,x=h.containment&&!h._isPinned,k=r.support.isRtl(h.containment),C=x&&k&&h.containment.innerWidth()>h.containment.width?r.support.scrollbar():0,S=x?{top:h.containment.scrollTop(),left:h.containment.scrollLeft()}:{top:0,left:0},T=Math.max(t.x.location,0),D=Math.max(t.y.location,0);v.indexOf("e")>=0?(n=h.containment&&T-y.width>=h.maxLeft-S.left+_.left+C?h.maxLeft+C-w.left+y.width-S.left:T-w.left-_.left,d.width(B(n,f.minWidth,f.maxWidth))):v.indexOf("w")>=0&&(n=B((c=w.left+y.width+_.left)-T,f.minWidth,f.maxWidth),m.left=c-n-_.left-C-(this._relativeElMarginLeft||0)+S.left,h.containment&&m.left<=h.minLeft&&(m.left=h.minLeft,n=B(c-C-m.left-_.left+S.left,f.minWidth,f.maxWidth)),d.css({left:m.left,width:n}));var E=D;h.options.pinned&&(E-=e(window).scrollTop()),v.indexOf("s")>=0?(o=E-w.top-this.elementPadding-_.top,E-y.height-this.elementPadding>=h.maxTop+_.top-S.top&&(o=h.maxTop-w.top+y.height-S.top),d.height(B(o,f.minHeight,f.maxHeight))):v.indexOf("n")>=0&&(o=B((l=w.top+y.height+_.top)-E,f.minHeight,f.maxHeight),m.top=l-o-_.top-(this._relativeElMarginTop||0)+S.top,m.top<=h.minTop&&h.containment&&(m.top=h.minTop,o=B(l-m.top-_.top+S.top,f.minHeight,f.maxHeight)),d.css({top:m.top,height:o})),n&&(h.options.width=n+"px"),o&&(h.options.height=o+"px"),h.resize()}},dragend:function(t){if(!this._preventDragging){var n=this.owner,r=n.wrapper;return r.children(T).not(t.currentTarget).show(),e("body").css("cursor",""),n.touchScroller&&n.touchScroller.reset(),27==t.keyCode&&r.css(this.initialPosition).css(this.initialSize),n.trigger("resizeEnd"),!1}},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},V.prototype={dragstart:function(t){var o=this.owner,l=o.options.draggable,element=o.element,c=element.find(".k-window-actions"),h=r.getOffset(o.appendTo);this._preventDragging=o.trigger("dragstart")||!l,this._preventDragging||o.isMaximized()||(o.initialWindowPosition=r.getOffset(o.wrapper,"position"),o.initialPointerPosition={left:o.options.position.left,top:o.options.position.top},o.startPosition={left:t.x.client-o.initialWindowPosition.left,top:t.y.client-o.initialWindowPosition.top},o._updateBoundaries(),o.containment||(c.length>0?o.minLeft=f(c)+parseInt(c.css("right"),10)-f(element):o.minLeft=20-f(element),o.minLeft-=h.left,o.minTop=-h.top),o.wrapper.append(n.overlay).children(T).hide(),e("body").css("cursor",t.currentTarget.css("cursor")))},drag:function(t){var n,o,l=this.owner,c=l.options.position,h=l.options.draggable.axis;this._preventDragging||l.isMaximized()||(h&&"x"!==h.toLowerCase()||(n=t.x.client-l.startPosition.left,l.containment&&!l._isPinned&&(n+=l.containment.scrollLeft()),c.left=B(n,l.minLeft,l.maxLeft)),h&&"y"!==h.toLowerCase()||(o=t.y.client-l.startPosition.top,l.containment&&!l._isPinned&&(o+=l.containment.scrollTop()),c.top=B(o,l.minTop,l.maxTop)),r.support.transforms?e(l.wrapper).css("transform","translate("+(c.left-l.initialPointerPosition.left)+"px, "+(c.top-l.initialPointerPosition.top)+"px)"):e(l.wrapper).css(c))},_finishDrag:function(){var t=this.owner;t.wrapper.children(T).toggle(!t.options.isMinimized).end().find(D).remove(),e("body").css("cursor","")},dragcancel:function(e){this._preventDragging||(this._finishDrag(),e.currentTarget.closest(k).css(this.owner.initialWindowPosition))},dragend:function(){var t=this.owner;if(!this._preventDragging&&!t.isMaximized())return e(t.wrapper).css(t.options.position).css("transform",""),this._finishDrag(),t.trigger("dragend"),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},r.ui.plugin(N)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(940),e.exports=n(940)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},6:function(e,t){e.exports=n(39)},940:function(e,t,n){var r,o,l;n(3),o=[n(941),n(6),n(942),n(943),n(944)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.Class,o=n.ui.Widget,l=n.support.mobileOS,c=n.support.browser,h=e.extend,d=e.proxy,f=n.deepExtend,m=n.keys,v=r.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return n.template(e.template,{useWithBlock:!1})(e)}}),_={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'# var iconCssClass= "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#<a tabindex="0" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #" aria-label="#= data.title #"><span unselectable="on" class="k-tool-icon #= iconCssClass #"></span></a>',tableWizardButtonTemplate:'# var iconCssClass= "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#<a tabindex="0" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= iconCssClass #"></span><span class="k-tool-text">#= data.title #</span></a>',colorPickerTemplate:'<input class="k-colorpicker k-icon k-i-#= data.cssClass.replace("k-", "") #" />',comboBoxTemplate:'<select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',overflowAnchorTemplate:'<a tabindex="0" role="button" class="k-tool k-overflow-anchor" data-popup unselectable="on" title="#= data.title #" aria-label="#= data.title #" aria-haspopup="true" aria-expanded="false"><span unselectable="on" class="k-icon k-i-more-vertical"></span></a>',formatByName:function(t,n){for(var i=0;i<n.length;i++)if(e.inArray(t,n[i].tags)>=0)return n[i]},getToolCssClass:function(e){var t={superscript:"sup-script",subscript:"sub-script",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered",import:"login",indent:"indent-increase",outdent:"indent-decrease",createLink:"link-horizontal",unlink:"unlink-horizontal",insertImage:"image",insertFile:"file-add",viewHtml:"html",foreColor:"foreground-color",backColor:"paint",createTable:"table-insert",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCellsHorizontally:"cells-merge-horizontally",mergeCellsVertically:"cells-merge-vertically",splitCellHorizontally:"cell-split-horizontally",splitCellVertically:"cell-split-vertically",tableWizard:"table-properties",tableWizardInsert:"table-wizard",cleanFormatting:"clear-css"}[e];return t||e},registerTool:function(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass="k-"+_.getToolCssClass(e)),t.name||(t.options.name=e,t.name=e.toLowerCase()),D.defaultTools[e]=t},registerFormat:function(e,t){D.fn.options.formats[e]=t},cacheComments:function(content,e){for(var t in e)content=content.replace(e[t],"{"+t+"}");return content},retrieveComments:function(content,e){for(var t in e)content=content.replace("{"+t+"}",e[t]);return content}},w=!l||l.ios&&l.flatVersion>=500||!l.ios&&void 0!==document.documentElement.contentEditable,y=["bold","italic","underline"],x=["justifyLeft","justifyCenter","justifyRight"],k=["insertUnorderedList","insertOrderedList"],C=["indent","outdent"],S=["createLink","unlink"],T=["tableWizard","createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically"],D=o.extend({init:function(element,t){var r,l,c,m,v,y,x=this,k=n.ui.editor,C=k.Dom;w&&(o.fn.init.call(x,element,t),x.options=f({},x.options,t),x.options.tools=x.options.tools.slice(),y=(element=x.element)[0],m=C.name(y),this._registerHandler(element.closest("form"),"submit",d(x.update,x,void 0)),(c=h({},x.options)).editor=x,"textarea"==m?(x._wrapTextarea(),l=x.wrapper.find(".k-editor-toolbar"),y.id&&l.attr("aria-controls",y.id)):(x.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),c.popup=!0,l=e('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(element)),x.toolbar=new k.Toolbar(l[0],c),x.toolbar.bindTo(x),"textarea"==m&&setTimeout((function(){var e=x.wrapper[0].style.height,t=parseInt(e,10),n=x.wrapper.height();e.indexOf("px")>0&&!isNaN(t)&&n>t&&x.wrapper.height(t-(n-t))})),x._resizable(),x._initializeContentElement(x),x.keyboard=new k.Keyboard([new k.BackspaceHandler(x),new k.TypingHandler(x),new k.SystemHandler(x),new k.SelectAllHandler(x)]),x.clipboard=new k.Clipboard(this),x.undoRedoStack=new n.util.UndoRedoStack,t&&t.value?r=t.value:x.textarea?(r=y.value,x.options.encoded&&e.trim(y.defaultValue).length&&(r=y.defaultValue),v=C.getAllComments(e("<div></div>").html(r)[0]),r=(r=_.cacheComments(r,v)).replace(/[\r\n\v\f\t ]+/gi," "),r=_.retrieveComments(r,v)):r=y.innerHTML,x.value(r||"\ufeff"),this._registerHandler(document,{mousedown:function(){x._endTyping()},mouseup:function(e){x._mouseup(e)}}),x._initializeImmutables(),x.toolbar.resize(),n.notify(x))},setOptions:function(e){o.fn.setOptions.call(this,e),e.tools&&this.toolbar.bindTo(this),this._initializePlaceholder()},_togglePlaceholder:function(t){var body=this.body,n=e(body),r=this.options.placeholder;this.textarea&&r&&(n.attr("aria-label",(function(){return t?r:""})),n.toggleClass("k-placeholder",t))},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(e){}},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_resizable:function(){var t=this.options.resizable;if((e.isPlainObject(t)?void 0===t.content||!0===t.content:t)&&this.textarea){var r=e("<div class='k-resize-handle'><span class='k-icon k-i-arrow-45-down-right' /></div>").insertAfter(this.textarea);this.wrapper.addClass("k-resizable"),this.wrapper.kendoResizable(h({},this.options.resizable,{draggableElement:r,start:function(t){var n=this.editor=e(t.currentTarget).closest(".k-editor");this.initialSize=n.height(),n.find("td:last").append("<div class='k-overlay' />")},resize:function(e){var t=e.y.initialDelta,n=this.initialSize+t,r=this.options.min||0,o=this.options.max||1/0;n=Math.min(o,Math.max(r,n)),this.editor.height(n)},resizeend:function(){this.editor.find(".k-overlay").remove(),this.editor=null}})),n.support.mobileOS.ios&&(this.wrapper.getKendoResizable().draggable.options.ignore="select.k-select-overlay")}},_initializeTableResizing:function(){n.ui.editor.TableResizing.create(this),this._showTableResizeHandlesProxy=d(this._showTableResizeHandles,this),this.bind("select",this._showTableResizeHandlesProxy)},_destroyTableResizing:function(){var e=this.tableResizing;e&&(e.destroy(),this.tableResizing=null),this._showTableResizeHandlesProxy&&this.unbind("select",this._showTableResizeHandlesProxy)},_showTableResizeHandles:function(){var e=this.tableResizing;e&&e.showResizeHandles()},_initializeColumnResizing:function(){n.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){this.columnResizing&&(this.columnResizing.destroy(),this.columnResizing=null)},_initializeRowResizing:function(){n.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){this.rowResizing&&(this.rowResizing.destroy(),this.rowResizing=null)},_wrapTextarea:function(){var textarea=this.element,t=textarea[0].style.width,n=textarea[0].style.height,template=_.editorWrapperTemplate,r=e(template).insertBefore(textarea).width(t).height(n),o=r.find(".k-editable-area");textarea.attr("autocomplete","off").appendTo(o).addClass("k-content k-raw-content").css("display","none"),this.textarea=textarea,this.wrapper=r},_createContentElement:function(t){var iframe,r,o,c,h=this,textarea=h.textarea,d=h.options.domain,f=d||document.domain,m="",v='javascript:""';return textarea.hide(),iframe=e("<iframe />",{title:h.options.messages.editAreaTitle,frameBorder:"0"})[0],e(iframe).css("display","").addClass("k-content").attr("tabindex",textarea[0].tabIndex).insertBefore(textarea),(d||f!=location.hostname)&&(v="javascript:document.write('"+(m='<script>document.domain="'+f+'"<\/script>')+"')",iframe.src=v),r=iframe.contentWindow||iframe,o=r.document||iframe.contentDocument,e(iframe).one("load",(function(){h.toolbar.decorateFrom(o.body)})),c=document.getElementsByTagName("html")[0].getAttribute("lang")||"en",o.open(),o.write("<!DOCTYPE html><html lag='"+c+"'><head><meta charset='utf-8' /><title>Kendo UI Editor content</title><style>html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}body{padding:0;margin:0;}body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(n.support.isRtl(textarea)?"direction:rtl;":"")+(l.ios?"word-break:keep-all;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}.k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}.k-column-resize-handle {width: 100%; height: 100%;}.k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}.k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}.k-row-resize-handle {display: table; width: 100%; height: 100%;}.k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}.k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}.k-table-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}.k-table-resize-handle {width: 100%; height: 100%;}.k-table-resize-handle.k-resize-east{cursor:e-resize;}.k-table-resize-handle.k-resize-north{cursor:n-resize;}.k-table-resize-handle.k-resize-northeast{cursor:ne-resize;}.k-table-resize-handle.k-resize-northwest{cursor:nw-resize;}.k-table-resize-handle.k-resize-south{cursor:s-resize;}.k-table-resize-handle.k-resize-southeast{cursor:se-resize;}.k-table-resize-handle.k-resize-southwest{cursor:sw-resize;}.k-table-resize-handle.k-resize-west{cursor:w-resize;}.k-table.k-table-resizing{opacity:0.6;}.k-placeholder{color:grey}k\\:script{display:none;}</style>"+m+e.map(t,(function(e){return"<link rel='stylesheet' href='"+e+"'>"})).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),o.close(),r},_blur:function(){var textarea=this.textarea,e=textarea?textarea.val():this._oldValue,t=this.options.encoded?this.encodedValue():this.value();this.update(),textarea&&textarea.trigger("blur"),t!=e&&(this.trigger("change"),textarea&&textarea.trigger("change"))},_spellCorrect:function(e){var t,r=!1;this._registerHandler(e.body,{contextmenu:function(){e.one("select",(function(){t=null})),e._spellCorrectTimeout=setTimeout((function(){t=new n.ui.editor.RestorePoint(e.getRange(),e.body),r=!1}),10)},input:function(){t&&(!n.support.browser.mozilla||r?n.ui.editor._finishUpdate(e,t):r=!0)}})},_registerHandler:function(element,t,r){var o,i,l=".kendoEditor";if(element=e(element),this._handlers||(this._handlers=[]),element.length)if(e.isPlainObject(t))for(var c in t)t.hasOwnProperty(c)&&this._registerHandler(element,c,t[c]);else for(o=n.applyEventMap(t).split(" "),i=0;i<o.length;i++)this._handlers.push({element:element,type:o[i]+l,handler:r}),element.on(o[i]+l,r)},_deregisterHandlers:function(){for(var e=this._handlers,i=0;i<e.length;i++){var t=e[i];t.element.off(t.type,t.handler)}this._handlers=[]},_initializeContentElement:function(){var t,r,o,l=this;if(l.textarea){if(l.window=l._createContentElement(l.options.stylesheets),!(t=l.document=l.window.contentDocument||l.window.document).body){var body=t.createElement("body");body.setAttribute("contenteditable","true"),body.setAttribute("autocorrect","off"),t.getElementsByTagName("html")[0].appendChild(body);var c=setInterval((function(){e(l.document).find("body").length>1&&(e(l.document).find("body:last").remove(),window.clearInterval(c))}),10)}l.body=t.body,r=l.window,o=t,this._registerHandler(t,"mouseup",d(this._mouseup,this))}else l.window=window,t=l.document=document,l.body=l.element[0],r=l.body,o=l.body,l.toolbar.decorateFrom(l.body);this._registerHandler(r,"blur",d(this._blur,this)),l._registerHandler(o,"down",d(l._mousedown,l));try{t.execCommand("enableInlineTableEditing",null,!1)}catch(e){}n.support.touch&&this._registerHandler(t,{keydown:function(){n._activeElement()!=t.body&&l.window.focus()}}),this._initializePlaceholder(),this._spellCorrect(l),this._registerHandler(l.body,{keydown:function(e){var t;if((e.keyCode===m.BACKSPACE||e.keyCode===m.DELETE)&&"true"!==l.body.getAttribute("contenteditable"))return!1;if(e.keyCode===m.F10)return setTimeout(d(l.toolbar.focus,l.toolbar),100),l.toolbar.preventPopupHide=!0,void e.preventDefault();if(e.keyCode==m.LEFT||e.keyCode==m.RIGHT){t=l.getRange();var n=e.keyCode==m.LEFT,r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],c=o+(n?-1:1),h=n?c:o;3==r.nodeType&&"\ufeff"==r.nodeValue[h]&&(t.setStart(r,c),t.collapse(!0),l.selectRange(t))}var f=l.toolbar.tools,v=l.keyboard.toolFromShortcut(f,e),_=v?f[v].options:{};if(v&&!_.keyPressCommand)return e.preventDefault(),/^(undo|redo)$/.test(v)||l.keyboard.endTyping(!0),l.trigger("keydown",e),l.exec(v),l._runPostContentKeyCommands(e),!1;l.keyboard.clearTimeout(),l.keyboard.keydown(e)},keypress:function(e){setTimeout((function(){l._runPostContentKeyCommands(e),l._showTableResizeHandles()}),0)},keyup:function(t){var n=[m.BACKSPACE,m.TAB,m.PAGEUP,m.PAGEDOWN,m.END,m.HOME,m.LEFT,m.UP,m.RIGHT,m.DOWN,m.INSERT,m.DELETE];(e.inArray(t.keyCode,n)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&(window.clearTimeout(this._refreshInterval),this._refreshInterval=window.setTimeout((function(){l._selectionChange()}),200)),l.keyboard.keyup(t)},click:function(e){var t;"img"===n.ui.editor.Dom.name(e.target)&&((t=l.createRange()).selectNode(e.target),l.selectRange(t))},"cut copy paste drop dragover":function(e){l.clipboard["on"+e.type](e)},focusin:function(){l.body.hasAttribute("contenteditable")&&(e(this).addClass("k-state-active"),l.toolbar.show(),l._togglePlaceholder(!1))},focusout:function(){setTimeout((function(){var t=n._activeElement(),body=l.body,r=l.toolbar;if(r.options.popup){var o=r.window.element.get(0);o&&!e.contains(o,t)&&o!=t&&(r.preventPopupHide=!1)}t==body||e.contains(body,t)||e(t).is(".k-editortoolbar-dragHandle")||r.focused()||(e(body).removeClass("k-state-active"),r.hide()),l._togglePlaceholder(!l.value().trim())}),10)}}),l._initializeColumnResizing(),l._initializeRowResizing(),l._initializeTableResizing()},_initializePlaceholder:function(){var style,t,n=this.options.placeholder;this.textarea&&n&&(style="<style id='placeholder'>.k-placeholder:before { content: '"+n+"'; }</style>",(t=e(this.document.head)).find("#placeholder").remove(),t.append(style),this._togglePlaceholder(!this.value().trim()))},_initializeImmutables:function(){var e=n.ui.editor;this.options.immutables&&(this.immutables=new e.Immutables(this))},_mousedown:function(t){var n=this;if(n._selectionStarted=!0,e(n.body).parents(".k-window").length&&t.stopPropagation(),!c.gecko){var r=e(t.target).closest("a[href]");(2==t.which||1==t.which&&t.ctrlKey)&&r&&r.is("a[href]")&&window.open(r.attr("href"),"_new"),t.target.tagName&&"html"===t.target.tagName.toLowerCase()&&setTimeout((function(){n.body.focus()}),0)}},_mouseup:function(t){var r=this;n.support.mobileOS.ios&&t&&e(t.target).is("select.k-select-overlay")||r._selectionStarted&&setTimeout((function(){r._selectionChange()}),1)},_runPostContentKeyCommands:function(e){for(var t=this.getRange(),n=this.keyboard.toolsFromShortcut(this.toolbar.tools,e),i=0;i<n.length;i++){var r=n[i],o=r.options;o.keyPressCommand&&new o.command({range:t}).changesContent()&&(this.keyboard.endTyping(!0),this.exec(r.name))}},refresh:function(){if(this.textarea){this._destroyResizings();var e=this.value();this.textarea.val(e),this.wrapper.find("iframe").remove(),this._initializeContentElement(this),this.value(e)}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Ok",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCellsHorizontally:"Merge cells horizontally",mergeCellsVertically:"Merge cells vertically",splitCellHorizontally:"Split cells horizontally",splitCellVertically:"Split cells vertically",tableWizard:"Table Wizard",tableTab:"Table",cellTab:"Cell",accessibilityTab:"Accessibility",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",cellMargin:"Cell Margin",alignment:"Alignment",background:"Background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate cells with headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Select All Cells",exportAs:"Export As",import:"Import",print:"Print"},placeholder:"",formats:{},encoded:!0,domain:null,resizable:!1,deserialization:{custom:null},serialization:{entities:!0,semantic:!0,scripts:!1},pasteCleanup:{all:!1,css:!1,custom:null,keepNewLines:!1,msAllFormatting:!1,msConvertLists:!0,msTags:!0,none:!1,span:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial, Helvetica, sans-serif"},{text:"Courier New",value:'"Courier New", Courier, monospace'},{text:"Georgia",value:"Georgia, serif"},{text:"Impact",value:"Impact, Charcoal, sans-serif"},{text:"Lucida Console",value:'"Lucida Console", Monaco, monospace'},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{text:"Times New Roman",value:'"Times New Roman", Times, serif'},{text:"Trebuchet MS",value:'"Trebuchet MS", Helvetica, sans-serif'},{text:"Verdana",value:"Verdana, Geneva, sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],y,x,k,C,S,["insertImage"],T)},destroy:function(){o.fn.destroy.call(this),this._endTyping(!0),this._deregisterHandlers(),clearTimeout(this._spellCorrectTimeout),this._focusOutside(),this.toolbar.destroy(),this._destroyUploadWidget(),this._destroyResizings(),n.destroy(this.wrapper)},_destroyResizings:function(){this._destroyTableResizing(),n.ui.editor.TableResizing.dispose(this),this._destroyRowResizing(),n.ui.editor.RowResizing.dispose(this),this._destroyColumnResizing(),n.ui.editor.ColumnResizing.dispose(this)},_focusOutside:function(){n.support.browser.msie&&this.textarea&&e("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).focus().blur().remove()},_destroyUploadWidget:function(){this._uploadWidget&&(this._uploadWidget.destroy(),this._uploadWidget=null)},state:function(e){var t,r,o=D.defaultTools[e],l=o&&(o.options.finder||o.finder),c=n.ui.editor.RangeUtils;return!!l&&(t=this.getRange(),!(r=c.textNodes(t)).length&&t.collapsed&&(r=[t.startContainer]),l.getFormat?l.getFormat(r):l.isFormatted(r))},value:function(html){var body=this.body,e=n.ui.editor,t=this.options,r=e.Serializer.domToXhtml(body,t.serialization);if(void 0===html)return r;html!=r&&(e.Serializer.htmlToDom(html,body,t.deserialization),this.selectionRestorePoint=null,this.update(),this.toolbar.refreshTools())},saveSelection:function(t){var r=(t=t||this.getRange()).commonAncestorContainer,body=this.body;(r==body||e.contains(body,r))&&(this.selectionRestorePoint=new n.ui.editor.RestorePoint(t,body))},_focusBody:function(){var e,body=this.body,iframe=this.wrapper&&this.wrapper.find("iframe")[0],t=this.document.documentElement,r=n._activeElement();!iframe&&body.scrollHeight>body.clientHeight?(e=body.scrollTop,body.focus(),body.scrollTop=e):r!=body&&r!=iframe&&(e=t.scrollTop,body.focus(),t.scrollTop=e)},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?(this.textarea.val(e),this._togglePlaceholder(!e.trim())):this._oldValue=e},encodedValue:function(){return n.ui.editor.Dom.encode(this.value())},createRange:function(e){return n.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return n.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},_containsRange:function(e){var t=n.ui.editor.Dom,body=this.body;return e&&t.isAncestorOrSelf(body,e.startContainer)&&t.isAncestorOrSelf(body,e.endContainer)},_deleteSavedRange:function(){"_range"in this&&delete this._range},selectedHtml:function(){return n.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(html,t){this.focus();var r=new n.ui.editor.InsertHtmlCommand(e.extend({range:this.getRange(),html:html},t));r.editor=this,r.exec()},exec:function(e,t){var n,r,o=null;if(!e)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if("true"!==this.body.getAttribute("contenteditable")&&"print"!==e&&"pdf"!==e&&"exportAs"!==e)return!1;if(e=e.toLowerCase(),this.keyboard.isTypingInProgress()||(this._focusBody(),this.selectRange(this._range||this.getRange())),!(r=this.toolbar.toolById(e)))for(var l in D.defaultTools)if(l.toLowerCase()==e){r=D.defaultTools[l];break}if(r){if(n=this.getRange(),r.command&&(o=r.command(h({range:n,body:this.body,immutables:!!this.immutables},t))),this.trigger("execute",{name:e,command:o}))return;if(/^(undo|redo)$/i.test(e))this.undoRedoStack[e]();else if(o&&(this.execCommand(o),o.async))return void(o.change=d(this._selectionChange,this));this._selectionChange()}},execCommand:function(e){e.managesUndoRedo||this.undoRedoStack.push(e),e.editor=this,e.exec()}});D.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},n.ui.plugin(D);var E=r.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title,"aria-label":t.title})},command:function(e){return new this.options.command(e)},update:e.noop});E.exec=function(e,t,n){e.exec(t,{value:n})},_.registerTool("separator",new E({template:new v({template:_.separatorTemplate})}));var A=c.msie&&c.version<9?"\ufeff":"",I="\ufeff",M=I;(c.msie||c.edge)&&(M=I="&nbsp;"),h(n.ui,{editor:{ToolTemplate:v,EditorUtils:_,Tool:E,_bomFill:A,emptyElementContent:I,emptyTableCellContent:M}}),n.PDFMixin&&(n.PDFMixin.extend(D.prototype),D.prototype._drawPDF=function(){return n.drawing.drawDOM(this.body,this.options.pdf)},D.prototype.saveAsPDF=function(){var progress=new e.Deferred,t=progress.promise(),r={promise:t};if(!this.trigger("pdfExport",r)){var o=this.options.pdf;return this._drawPDF(progress).then((function(e){return n.drawing.exportPDF(e,o)})).done((function(e){n.saveAs({dataURI:e,fileName:o.fileName,proxyURL:o.proxyURL,proxyTarget:o.proxyTarget,forceProxy:o.forceProxy}),progress.resolve()})).fail((function(e){progress.reject(e)})),t}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},941:function(e,t){e.exports=n(141)},942:function(e,t){e.exports=n(13)},943:function(e,t){e.exports=n(21)},944:function(e,t){e.exports=n(67)}})},,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1127)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1127:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e){function t(){this.node=null}function n(){}t.prototype={remove:function(){this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.attr={}},attr:{},text:function(){return""}},n.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var r=new n;function o(e,t,n){this.nodeName=e,this.attr=t||{},this.children=n||[]}function l(e){this.nodeValue=String(e)}function c(html){this.html=html}o.prototype=new t,o.prototype.appendTo=function(e){for(var t=document.createElement(this.nodeName),n=this.children,o=0;o<n.length;o++)n[o].render(t,r);return e.appendChild(t),t},o.prototype.render=function(e,t){var n;if(t.nodeName!==this.nodeName)t.remove(),n=this.appendTo(e);else{var o;n=t.node;var l=this.children,c=l.length,h=t.children,d=h.length;if(Math.abs(d-c)>2)return void this.render({appendChild:function(n){e.replaceChild(n,t.node)}},r);for(o=0;o<c;o++)l[o].render(n,h[o]||r);for(o=c;o<d;o++)h[o].remove()}this.node=n,this.syncAttributes(t.attr),this.removeAttributes(t.attr)},o.prototype.syncAttributes=function(e){var t=this.attr;for(var n in t){var r=t[n],o=e[n];"style"===n?this.setStyle(r,o):r!==o&&this.setAttribute(n,r,o)}},o.prototype.setStyle=function(style,e){var t,n=this.node;if(e)for(t in style)style[t]!==e[t]&&(n.style[t]=style[t]);else for(t in style)n.style[t]=style[t]},o.prototype.removeStyle=function(e){var style=this.attr.style||{},t=this.node;for(var n in e)void 0===style[n]&&(t.style[n]="")},o.prototype.removeAttributes=function(e){var t=this.attr;for(var n in e)"style"===n?this.removeStyle(e.style):void 0===t[n]&&this.removeAttribute(n)},o.prototype.removeAttribute=function(e){var t=this.node;"style"===e?t.style.cssText="":"className"===e?t.className="":t.removeAttribute(e)},o.prototype.setAttribute=function(e,t){var n=this.node;void 0!==n[e]?n[e]=t:n.setAttribute(e,t)},o.prototype.text=function(){for(var e="",i=0;i<this.children.length;++i)e+=this.children[i].text();return e},l.prototype=new t,l.prototype.nodeName="#text",l.prototype.render=function(e,t){var n;t.nodeName!==this.nodeName?(t.remove(),n=document.createTextNode(this.nodeValue),e.appendChild(n)):(n=t.node,this.nodeValue!==t.nodeValue&&n.parentNode&&(n.nodeValue=this.nodeValue)),this.node=n},l.prototype.text=function(){return this.nodeValue},c.prototype={nodeName:"#html",attr:{},remove:function(){for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.parentNode&&t.parentNode.removeChild(t)}},render:function(e,t){if(t.nodeName!==this.nodeName||t.html!==this.html){t.remove();var n=e.lastChild;!function(e,html){for(h.innerHTML=html;h.firstChild;)e.appendChild(h.firstChild)}(e,this.html),this.nodes=[];for(var r=n?n.nextSibling:e.firstChild;r;r=r.nextSibling)this.nodes.push(r)}else this.nodes=t.nodes.slice(0)}};var h=document.createElement("div");function html(e){return new c(e)}function element(e,t,n){return new o(e,t,n)}function text(e){return new l(e)}function d(e){this.root=e,this.children=[]}d.prototype={html:html,element:element,text:text,render:function(e){var t,n,o=this.children;for(t=0,n=e.length;t<n;t++){var l=o[t];l?l.node&&l.node.parentNode||(l.remove(),l=r):l=r,e[t].render(this.root,l)}for(t=n;t<o.length;t++)o[t].remove();this.children=e}},e.dom={html:html,text:text,element:element,Tree:d,Node:t}}(window.kendo),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1027)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1016:function(e,t){e.exports=n(3)},1027:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1016)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.Observable,o=n.data.ObservableObject,l=n.data.ObservableArray,c={}.toString,h={},d=n.Class,f=e.proxy,m="value",v=!0,_="function",w="change";!function(){var a=document.createElement("a");try{delete a.test}catch(e){v=!1}}();var y=r.extend({init:function(e,path){var t=this;r.fn.init.call(t),t.source=e[0],t.parents=e,t.path=path,t.dependencies={},t.dependencies[path]=!0,t.observable=t.source instanceof r,t._access=function(e){t.dependencies[e.field]=!0},t.observable&&(t._change=function(e){t.change(e)},t.source.bind(w,t._change))},_parents:function(){var t=this.parents,n=this.get();if(n&&"function"==typeof n.parent){var r=n.parent();e.inArray(r,t)<0&&(t=[r].concat(t))}return t},change:function(e){var t,n,r=e.field;if("this"===this.path)this.trigger(w,e);else for(t in this.dependencies)if(0===t.indexOf(r)&&(!(n=t.charAt(r.length))||"."===n||"["===n)){this.trigger(w,e);break}},start:function(source){source.bind("get",this._access)},stop:function(source){source.unbind("get",this._access)},get:function(){var source=this.source,e=0,path=this.path,t=source;if(!this.observable)return t;for(this.start(this.source),t=source.get(path);void 0===t&&source;)(source=this.parents[++e])instanceof o&&(t=source.get(path));if(void 0===t)for(source=this.source;void 0===t&&source;)(source=source.parent())instanceof o&&(t=source.get(path));return"function"==typeof t&&((e=path.lastIndexOf("."))>0&&(source=source.get(path.substring(0,e))),this.start(source),t=source!==this.source?t.call(source,this.source):t.call(source),this.stop(source)),source&&source!==this.source&&(this.currentSource=source,source.unbind(w,this._change).bind(w,this._change)),this.stop(this.source),t},set:function(e){var source=this.currentSource||this.source,t=n.getter(this.path)(source);"function"==typeof t?source!==this.source?t.call(source,this.source,e):t.call(source,e):source.set(this.path,e)},destroy:function(){this.observable&&(this.source.unbind(w,this._change),this.currentSource&&this.currentSource.unbind(w,this._change)),this.unbind()}}),x=y.extend({get:function(){var e,source=this.source,path=this.path,t=0;for(e=source.get(path);!e&&source;)(source=this.parents[++t])instanceof o&&(e=source.get(path));return f(e,source)}}),k=y.extend({init:function(source,path,template){y.fn.init.call(this,source,path),this.template=template},render:function(e){var html;return this.start(this.source),html=n.render(this.template,e),this.stop(this.source),html}}),C=d.extend({init:function(element,e,t){this.element=element,this.bindings=e,this.options=t},bind:function(e,t){var n=this;(e=t?e[t]:e).bind(w,(function(e){n.refresh(t||e)})),n.refresh(t)},destroy:function(){}}),S=C.extend({dataType:function(){return(this.element.getAttribute("data-type")||this.element.type||"text").toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){return"date"==t?e=n.parseDate(e,"yyyy-MM-dd"):"datetime-local"==t?e=n.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t?e=n.parseFloat(e):"boolean"==t&&(e=e.toLowerCase(),e=null!==n.parseFloat(e)?Boolean(n.parseFloat(e)):"true"===e.toLowerCase()),e}});function T(t,r,o){return C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this.widget=e,this._dataBinding=f(this.dataBinding,this),this._dataBound=f(this.dataBound,this),this._itemChange=f(this.itemChange,this)},itemChange:function(e){F(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[t]._parents()))},dataBinding:function(e){var t,n,r=this.widget,o=e.removedItems||r.items();for(t=0,n=o.length;t<n;t++)B(o[t],!1)},_ns:function(t){t=t||n.ui;var r=[n.ui,n.dataviz.ui,n.mobile.ui];return r.splice(e.inArray(t,r),1),r.unshift(t),n.rolesFromNamespaces(r)},dataBound:function(e){var o,l,view,c,h=this.widget,d=e.addedItems||h.items(),f=h[r],m=n.data.HierarchicalDataSource;if(!(m&&f instanceof m)&&d.length)for(view=e.addedDataItems||f.flatView(),c=this.bindings[t]._parents(),o=0,l=view.length;o<l;o++)d[o]&&F(d[o],view[o],this._ns(e.ns),[view[o]].concat(c))},refresh:function(e){var source,select,l,c=this.widget;(e=e||{}).action||(this.destroy(),c.bind("dataBinding",this._dataBinding),c.bind("dataBound",this._dataBound),c.bind("itemChange",this._itemChange),source=this.bindings[t].get(),c[r]instanceof n.data.DataSource&&c[r]!=source&&(source instanceof n.data.DataSource?c[o](source):source&&source._dataSource?c[o](source._dataSource):(select=n.ui.Select&&c instanceof n.ui.Select,l=n.ui.MultiSelect&&c instanceof n.ui.MultiSelect,n.ui.DropDownTree&&c instanceof n.ui.DropDownTree?c.treeview[r].data(source):c[r].data(source),this.bindings.value&&(select||l)&&c.value(H(this.bindings.value.get(),c.options.dataValueField)))))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}})}h.attr=C.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),h.css=C.extend({init:function(element,e,t){C.fn.init.call(this,element,e,t),this.classes={}},refresh:function(t){var element=e(this.element),n=this.bindings.css[t];(this.classes[t]=n.get())?element.addClass(t):element.removeClass(t)}}),h.style=C.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),h.enabled=C.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),h.readonly=C.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),h.disabled=C.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),h.events=C.extend({init:function(element,e,t){C.fn.init.call(this,element,e,t),this.handlers={}},refresh:function(t){var element=e(this.element),n=this.bindings.events[t],r=this.handlers[t];r&&element.off(t,r),r=this.handlers[t]=n.get(),element.on(t,n.source,r)},destroy:function(){var t,element=e(this.element);for(t in this.handlers)element.off(t,this.handlers[t])}}),h.text=C.extend({refresh:function(){var text=this.bindings.text.get(),t=this.element.getAttribute("data-format")||"";null==text&&(text=""),e(this.element).text(n.toString(text,t))}}),h.visible=C.extend({refresh:function(){this.bindings.visible.get()?this.element.style.display="":this.element.style.display="none"}}),h.invisible=C.extend({refresh:function(){this.bindings.invisible.get()?this.element.style.display="none":this.element.style.display=""}}),h.html=C.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),h.value=S.extend({init:function(element,t,n){S.fn.init.call(this,element,t,n),this._change=f(this.change,this),this.eventName=n.valueUpdate||w,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=w,this.bindings.value.set(this.parsedValue()),this._initChange=!1},refresh:function(){if(!this._initChange){var e=this.bindings.value.get();null==e&&(e="");var t=this.dataType();"date"==t?e=n.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=n.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e}this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),h.source=C.extend({init:function(element,e,t){C.fn.init.call(this,element,e,t);var source=this.bindings.source.get();source instanceof n.data.DataSource&&!1!==t.autoBind&&source.fetch()},refresh:function(e){var source=this.bindings.source.get();source instanceof l||source instanceof n.data.DataSource?"add"==(e=e||{}).action?this.add(e.index,e.items):"remove"==e.action?this.remove(e.index,e.items):"itemchange"!=e.action&&this.render():this.render()},container:function(){var element=this.element;return"table"==element.nodeName.toLowerCase()&&(element.tBodies[0]||element.appendChild(document.createElement("tbody")),element=element.tBodies[0]),element},template:function(){var e=this.options,template=e.template,t=this.container().nodeName.toLowerCase();return template||(template="select"==t?e.valueField||e.textField?n.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==t?"<tr><td>#:data#</td></tr>":"ul"==t||"ol"==t?"<li>#:data#</li>":"#:data#",template=n.template(template)),template},add:function(t,r){var o,l,c,h,element=this.container(),d=element.cloneNode(!1),f=element.children[t];if(e(d).html(n.render(this.template(),r)),d.children.length)for(o=this.bindings.source._parents(),l=0,c=r.length;l<c;l++)h=d.children[0],element.insertBefore(h,f||null),F(h,r[l],this.options.roles,[r[l]].concat(o))},remove:function(e,t){var n,element=this.container();for(n=0;n<t.length;n++){var r=element.children[e];B(r,!0),r.parentNode==element&&element.removeChild(r)}},render:function(){var t,r,o,source=this.bindings.source.get(),element=this.container(),template=this.template();if(null!=source)if(source instanceof n.data.DataSource&&(source=source.view()),source instanceof l||"[object Array]"===c.call(source)||(source=[source]),this.bindings.template){if(L(element,!0),e(element).html(this.bindings.template.render(source)),element.children.length)for(t=this.bindings.source._parents(),r=0,o=source.length;r<o;r++)F(element.children[r],source[r],this.options.roles,[source[r]].concat(t))}else e(element).html(n.render(template,source))}}),h.input={checked:S.extend({init:function(element,t,n){S.fn.init.call(this,element,t,n),this._change=f(this.change,this),e(this.element).change(this._change)},change:function(){var element=this.element,e=this.value();if("radio"==element.type)e=this.parsedValue(),this.bindings.checked.set(e);else if("checkbox"==element.type){var t,source=this.bindings.checked.get();if(source instanceof l){if((e=this.parsedValue())instanceof Date){for(var i=0;i<source.length;i++)if(source[i]instanceof Date&&+source[i]==+e){t=i;break}}else t=source.indexOf(e);t>-1?source.splice(t,1):source.push(e)}else this.bindings.checked.set(e)}},refresh:function(){var e=this.bindings.checked.get(),source=e,t=this.dataType(),element=this.element;if("checkbox"==element.type)if(source instanceof l){var r=-1;if((e=this.parsedValue())instanceof Date){for(var i=0;i<source.length;i++)if(source[i]instanceof Date&&+source[i]==+e){r=i;break}}else r=source.indexOf(e);element.checked=r>=0}else element.checked=source;else"radio"==element.type&&("date"==t?e=n.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=n.toString(e,"yyyy-MM-ddTHH:mm:ss")),null!=e&&element.value===e.toString()?element.checked=!0:element.checked=!1)},value:function(){var element=this.element,e=element.value;return"checkbox"==element.type&&(e=element.checked),e},destroy:function(){e(this.element).off(w,this._change)}})},h.select={source:h.source.extend({refresh:function(t){var source=this.bindings.source.get();if(source instanceof l||source instanceof n.data.DataSource){if("add"==(t=t||{}).action)this.add(t.index,t.items);else if("remove"==t.action)this.remove(t.index,t.items);else if(("itemchange"==t.action||void 0===t.action)&&(this.render(),this.bindings.value&&this.bindings.value)){var r=H(this.bindings.value.get(),e(this.element).data("valueField"));null===r?this.element.selectedIndex=-1:this.element.value=r}}else this.render()}}),value:S.extend({init:function(t,n,r){S.fn.init.call(this,t,n,r),this._change=f(this.change,this),e(this.element).change(this._change)},parsedValue:function(){var e,option,t,n,r=this.dataType(),o=[];for(t=0,n=this.element.options.length;t<n;t++)(option=this.element.options[t]).selected&&(e=(e=option.attributes.value)&&e.specified?option.value:option.text,o.push(this._parseValue(e,r)));return o},change:function(){var source,option,e,t,r,c,h=[],element=this.element,d=this.options.valueField||this.options.textField,f=this.options.valuePrimitive;for(r=0,c=element.options.length;r<c;r++)(option=element.options[r]).selected&&(t=(t=option.attributes.value)&&t.specified?option.value:option.text,d?h.push(t):h.push(this._parseValue(t,this.dataType())));if(d)for((source=this.bindings.source.get())instanceof n.data.DataSource&&(source=source.view()),e=0;e<h.length;e++)for(r=0,c=source.length;r<c;r++){var m=source[r].get(d);if(String(m)===h[e]){h[e]=source[r];break}}(t=this.bindings.value.get())instanceof l?t.splice.apply(t,[0,t.length].concat(h)):f||!(t instanceof o||null==t)&&d?this.bindings.value.set(h[0].get(d)):this.bindings.value.set(h[0])},refresh:function(){var e,t,element=this.element,r=element.options,c=this.bindings.value.get(),h=c,d=this.options.valueField||this.options.textField,f=this.dataType();h instanceof l||(h=new l([c])),element.selectedIndex=-1;for(var m=0;m<h.length;m++)for(c=h[m],d&&c instanceof o&&(c=c.get(d)),"date"==f?c=n.toString(h[m],"yyyy-MM-dd"):"datetime-local"==f&&(c=n.toString(h[m],"yyyy-MM-ddTHH:mm:ss")),e=0;e<r.length;e++)""===(t=r[e].value)&&""!==c&&(t=r[e].text),null!=c&&t==c.toString()&&(r[e].selected=!0)},destroy:function(){e(this.element).off(w,this._change)}})},h.widget={events:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=f(this.change,this),this.widget.bind(w,this._change)},change:function(){this.bindings.checked.set(this.value())},refresh:function(){this.widget.check(!0===this.bindings.checked.get())},value:function(){var element=this.element,e=element.value;return"on"!=e&&"off"!=e&&"checkbox"!=this.element.type||(e=element.checked),e},destroy:function(){this.widget.unbind(w,this._change)}}),start:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this._change=f(this.change,this),this.widget=e,this.widget.bind(w,this._change)},change:function(){this.bindings.start.set(this.widget.range().start)},refresh:function(){var e=this.bindings.start.get(),t=this.widget._range?this.widget._range.end:null;this.widget.range({start:e,end:t})},destroy:function(){this.widget.unbind(w,this._change)}}),end:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this._change=f(this.change,this),this.widget=e,this.widget.bind(w,this._change)},change:function(){this.bindings.end.set(this.widget.range().end)},refresh:function(){var e=this.bindings.end.get(),t=this.widget._range?this.widget._range.start:null;this.widget.range({start:t,end:e})},destroy:function(){this.widget.unbind(w,this._change)}}),visible:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:C.extend({init:function(e,t,n){C.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:T("source","dataSource","setDataSource"),value:C.extend({init:function(t,n,r){C.fn.init.call(this,t.element[0],n,r),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(w,this._change);var c=this.bindings.value.get();this._valueIsObservableObject=!r.valuePrimitive&&(null==c||c instanceof o),this._valueIsObservableArray=c instanceof l,this._initChange=!1},_source:function(){var source;return this.widget.dataItem&&(source=this.widget.dataItem())&&source instanceof o?[source]:(this.bindings.source&&(source=this.bindings.source.get()),(!source||source instanceof n.data.DataSource)&&(source=this.widget.dataSource.flatView()),source)},change:function(){var e,t,n,r,o,l,source,h=this.widget.value(),d=this.options.dataValueField||this.options.dataTextField,f="[object Array]"===c.call(h),m=this._valueIsObservableObject,v=[];if(this._initChange=!0,d)if(""===h&&(m||this.options.valuePrimitive))h=null;else{for(source=this._source(),f&&(t=h.length,v=h.slice(0)),o=0,l=source.length;o<l;o++)if(r=(n=source[o]).get(d),f){for(e=0;e<t;e++)if(r==v[e]){v[e]=n;break}}else if(r==h){h=m?n:r;break}v[0]&&(h=this._valueIsObservableArray?v:m||!d?v[0]:v[0].get(d))}this.bindings.value.set(h),this._initChange=!1},refresh:function(){if(!this._initChange){var e,t=this.widget,n=t.options,r=n.dataTextField,c=n.dataValueField||r,h=this.bindings.value.get(),text=n.text||"",d=0,f=[];if(void 0===h&&(h=null),c)if(h instanceof l){for(e=h.length;d<e;d++)f[d]=h[d].get(c);h=f}else h instanceof o&&(text=h.get(r),h=h.get(c));!1!==n.autoBind||n.cascadeFrom||!t.listView||t.listView.bound()?t.value(h):(r!==c||text||(text=h),text||!h&&0!==h||!n.valuePrimitive?t._preselect(h,text):t.value(h))}this._initChange=!1},destroy:function(){this.widget.unbind(w,this._change)}}),dropdowntree:{value:C.extend({init:function(t,n,r){C.fn.init.call(this,t.element[0],n,r),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(w,this._change),this._initChange=!1},change:function(){var e=this.bindings.value.get(),t=this.options.valuePrimitive,n=this.widget.treeview.select(),r=this.widget._isMultipleSelection()?this.widget._getAllChecked():this.widget.treeview.dataItem(n)||this.widget.value(),o=t||!1===this.widget.options.autoBind?this.widget.value():r,c=this.options.dataValueField||this.options.dataTextField;if(o=o.slice?o.slice(0):o,this._initChange=!0,e instanceof l){for(var h,d,f,m=[],v=o.length,i=0,_=0,w=e[i];void 0!==w;){for(f=!1,_=0;_<v;_++)if(t?o[_]==w:(d=(d=o[_]).get?d.get(c):d)==(w.get?w.get(c):w)){o.splice(_,1),v-=1,f=!0;break}f?i+=1:(m.push(w),D(e,i,1),h=i),w=e[i]}D(e,e.length,0,o),m.length&&e.trigger("change",{action:"remove",items:m,index:h}),o.length&&e.trigger("change",{action:"add",items:o,index:e.length-1})}else this.bindings.value.set(o);this._initChange=!1},refresh:function(){if(!this._initChange){var e,t,n=this.options,r=this.widget,c=n.dataValueField||n.dataTextField,h=this.bindings.value.get(),data=h,d=0,f=[];if(c)if(h instanceof l){for(e=h.length;d<e;d++)t=h[d],f[d]=t.get?t.get(c):t;h=f}else h instanceof o&&(h=h.get(c));!1===n.autoBind&&!0!==n.valuePrimitive?r._preselect(data,h):r.value(h)}},destroy:function(){this.widget.unbind(w,this._change)}})},gantt:{dependencies:T("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:C.extend({init:function(t,n,r){C.fn.init.call(this,t.element[0],n,r),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(w,this._change),this._initChange=!1},change:function(){var e=this.bindings.value.get(),t=this.options.valuePrimitive,n=t?this.widget.value():this.widget.dataItems(),r=this.options.dataValueField||this.options.dataTextField;if(n=n.slice(0),this._initChange=!0,e instanceof l){for(var o,c,h,d=[],f=n.length,i=0,m=0,v=e[i];void 0!==v;){for(h=!1,m=0;m<f;m++)if(t?n[m]==v:(c=(c=n[m]).get?c.get(r):c)==(v.get?v.get(r):v)){n.splice(m,1),f-=1,h=!0;break}h?i+=1:(d.push(v),D(e,i,1),o=i),v=e[i]}D(e,e.length,0,n),d.length&&e.trigger("change",{action:"remove",items:d,index:o}),n.length&&e.trigger("change",{action:"add",items:n,index:e.length-1})}else this.bindings.value.set(n);this._initChange=!1},refresh:function(){if(!this._initChange){var e,t,n=this.options,r=this.widget,c=n.dataValueField||n.dataTextField,h=this.bindings.value.get(),data=h,d=0,f=[];if(void 0===h&&(h=null),c)if(h instanceof l){for(e=h.length;d<e;d++)t=h[d],f[d]=t.get?t.get(c):t;h=f}else h instanceof o&&(h=h.get(c));!1!==n.autoBind||!0===n.valuePrimitive||r._isBound()?r.value(h):r._preselect(data,h)}},destroy:function(){this.widget.unbind(w,this._change)}})},scheduler:{source:T("source","dataSource","setDataSource").extend({dataBound:function(e){var t,n,data,r,o=this.widget,l=e.addedItems||o.items();if(l.length)for(data=e.addedDataItems||o.dataItems(),r=this.bindings.source._parents(),t=0,n=data.length;t<n;t++)F(l[t],data[t],this._ns(e.ns),[data[t]].concat(r))}})},grid:{source:T("source","dataSource","setDataSource").extend({dataBound:function(e){var t,n,r,data,o=this.widget,l=e.addedItems||o.items();if(l.length)for(data=e.addedDataItems||o.dataItems(),r=this.bindings.source._parents(),t=0,n=data.length;t<n;t++)F(l[t],data[t],this._ns(e.ns),[data[t]].concat(r))}})}};var D=function(e,t,n,r){n=n||0;var o,l=(r=r||[]).length,c=e.length,h=[].slice.call(e,t+n),d=h.length;if(l){for(l=t+l,o=0;t<l;t++)e[t]=r[o],o++;e.length=l}else if(n)for(e.length=t,n+=t;t<n;)delete e[--n];if(d){for(d=t+d,o=0;t<d;t++)e[t]=h[o],o++;e.length=d}for(t=e.length;t<c;)delete e[t],t++},E=d.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,n,r,o,l,c,h=this instanceof A,d=this.binders();for(t in e)t==m?n=!0:"source"==t?r=!0:"events"!=t||h?"checked"==t?l=!0:"css"==t?c=!0:this.applyBinding(t,e,d):o=!0;r&&this.applyBinding("source",e,d),n&&this.applyBinding(m,e,d),l&&this.applyBinding("checked",e,d),o&&!h&&this.applyBinding("events",e,d),c&&!h&&this.applyBinding("css",e,d)},binders:function(){return h[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,n){var r,o=n[e]||h[e],l=this.toDestroy,c=t[e];if(o)if(o=new o(this.target,t,this.options),l.push(o),c instanceof y)o.bind(c),l.push(c);else for(r in c)o.bind(c,r),l.push(c[r]);else if("template"!==e)throw new Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;e<t;e++)n[e].destroy()}}),A=E.extend({binders:function(){return h.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,n){var r,o=n[e]||h.widget[e],l=this.toDestroy,c=t[e];if(!o)throw new Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(o=new o(this.target,t,this.target.options),l.push(o),c instanceof y)o.bind(c),l.push(c);else for(r in c)o.bind(c,r),l.push(c[r])}}),I=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,M=/\s/g;function R(e,source,t){var n,r={};for(n in e)r[n]=new t(source,e[n]);return r}function F(element,source,e,t){if(element&&!element.getAttribute("data-"+n.ns+"stop")){var r,o,l,c=element.getAttribute("data-"+n.ns+"role"),h=element.getAttribute("data-"+n.ns+"bind"),d=[],f=!0,m={};t=t||[source],(c||h)&&z(element,!1),c&&(l=function(element,e){var t=n.initWidget(element,{},e);if(t)return new A(t)}(element,e)),h&&(h=function e(t){var n,r,o,l,c,h,d,f={};for(n=0,r=(d=t.match(I)).length;n<r;n++)l=(o=d[n]).indexOf(":"),c=o.substring(0,l),"{"==(h=o.substring(l+1)).charAt(0)&&(h=e(h)),f[c]=h;return f}(h.replace(M,"")),l||((m=n.parseOptions(element,{textField:"",valueField:"",template:"",valueUpdate:w,valuePrimitive:!1,autoBind:!0},source)).roles=e,l=new E(element,m)),l.source=source,o=R(h,t,y),m.template&&(o.template=new k(t,"",m.template)),o.click&&(h.events=h.events||{},h.events.click=h.click,o.click.destroy(),delete o.click),o.source&&(f=!1),h.attr&&(o.attr=R(h.attr,t,y)),h.style&&(o.style=R(h.style,t,y)),h.events&&(o.events=R(h.events,t,x)),h.css&&(o.css=R(h.css,t,y)),l.bind(o)),l&&(element.kendoBindingTarget=l);var v=element.children;if(f&&v){for(r=0;r<v.length;r++)d[r]=v[r];for(r=0;r<d.length;r++)F(d[r],source,e,t)}}}function P(t,object){var r,o,l,c=n.rolesFromNamespaces([].slice.call(arguments,2));for(object=n.observable(object),r=0,o=(t=e(t)).length;r<o;r++)1===(l=t[r]).nodeType&&F(l,object,c)}function z(element,t){var r=element.kendoBindingTarget;if(r&&(r.destroy(),v?delete element.kendoBindingTarget:element.removeAttribute?element.removeAttribute("kendoBindingTarget"):element.kendoBindingTarget=null),t){var o=n.widgetInstance(e(element));o&&typeof o.destroy===_&&o.destroy()}}function B(element,e){z(element,e),L(element,e)}function L(element,e){var t=element.children;if(t)for(var n=0,r=t.length;n<r;n++)B(t[n],e)}function H(e,t){var n,r,c=[],h=0;if(!t)return e;if(e instanceof l){for(n=e.length;h<n;h++)r=e[h],c[h]=r.get?r.get(t):r[t];e=c}else e instanceof o&&(e=e.get(t));return e}n.unbind=function(t){var n,r;for(n=0,r=(t=e(t)).length;n<r;n++)B(t[n],!1)},n.bind=P,n.data.binders=h,n.data.Binder=C,n.notify=function(e,t){var element=e.element,n=element[0].kendoBindingTarget;n&&P(element,n.source,t)},n.observable=function(object){return object instanceof o||(object=new o(object)),object},n.observableHierarchy=function(e){var t=n.data.HierarchicalDataSource.create(e);return t.fetch(),function e(data){var i,t;for(i=0;i<data.length;i++)data[i]._initChildren(),(t=data[i].children).fetch(),data[i].items=t.data(),e(data[i].items)}(t.data()),t._data._dataSource=t,t._data}}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(932),e.exports=n(932)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},932:function(e,t,n){var r,o,l;n(3),o=[n(933)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,o=r.Dom,l=r.RestorePoint,c=r.Marker,h=e.extend,d=n.extend({init:function(e){this.options=e,this.restorePoint=new l(e.range,e.body,{immutables:e.immutables}),this.marker=new c,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(content,n){var r=this.editor;return e(content).appendTo(document.body).kendoWindow(h({},r.options.dialogOptions,n)).closest(".k-window").toggleClass("k-rtl",t.support.isRtl(r.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){this.immutables()&&(t.ui.editor.Immutables.expandImmutablesIn(e),this.restorePoint=new l(e,this.editor.body))}}),f=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){o.removeChildren(this.body),this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){o.removeChildren(this.body),this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}});h(r,{_finishUpdate:function(e,t){var n=e.selectionRestorePoint=new l(e.getRange(),e.body),r=new f(t,n);return r.editor=e,e.undoRedoStack.push(r),n},Command:d,GenericCommand:f})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},933:function(e,t){e.exports=n(202)}})},,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1118)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1039:function(e,t){e.exports=n(4)},1118:function(e,t,n){var r,o,l;n(3),o=[n(1119),n(1039),n(1120)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=n.parseDate,c=n.keys,h=n.support,template=n.template,d=n._activeElement,f=".kendoDatePicker",m="click"+f,v=h.mouseAndTouchPresent?n.applyEventMap("up",f.slice(1)):m,_="k-state-default",w=n.calendar,y=w.isInRange,x=w.restrictValue,k=w.isEqualDatePart,C=e.extend,S=e.proxy,T=Date;function D(t){var n=t.parseFormats,r=t.format;w.normalize(t),(n=e.isArray(n)?n:[n]).length||n.push("yyyy-MM-dd"),-1===e.inArray(r,n)&&n.splice(0,0,t.format),t.parseFormats=n}function E(e){e.preventDefault()}var A=function(t){var o,body=document.body,div=e("<div />").attr("aria-hidden","true").addClass("k-calendar-container").appendTo(body);this.options=t=t||{},(o=t.id)&&(o+="_dateview",div.attr("id",o),this._dateViewID=o),this.popup=new r.Popup(div,C(t.popup,t,{name:"Popup",isRtl:n.support.isRtl(t.anchor)})),this.div=div,this.value(t.value)};A.prototype={_calendar:function(){var div,t=this.calendar,o=this.options;t||(div=e("<div />").attr("id",n.guid()).appendTo(this.popup.element).on("mousedown.kendoDatePicker",E).on(m,"td:has(.k-link)",S(this._click,this)),this.calendar=t=new r.Calendar(div),this._setOptions(o),n.calendar.makeUnselectable(t.element),t.navigate(this._value||this._current,o.start),this.value(this._value))},_setOptions:function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,disableDates:e.disableDates})},setOptions:function(e){var t=this.options,n=e.disableDates;n&&(e.disableDates=w.disabled(n)),this.options=C(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var e,t=this;t._calendar(),e=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),setTimeout((function(){t.popup._hovered=e}),1)},close:function(){this.popup.close()},min:function(e){this._option("min",e)},max:function(e){this._option("max",e)},toggle:function(){this[this.popup.visible()?"close":"open"]()},move:function(e){var t=e.keyCode,n=this.calendar,r=e.ctrlKey&&t==c.DOWN||t==c.ENTER,o=!1;if(e.altKey)t==c.DOWN?(this.open(),e.preventDefault(),o=!0):t==c.UP&&(this.close(),e.preventDefault(),o=!0);else if(this.popup.visible()){if(t==c.ESC||r&&n._cell.hasClass("k-state-selected"))return this.close(),e.preventDefault(),!0;t!=c.SPACEBAR&&(this._current=n._move(e)),o=!0}return o},current:function(e){this._current=e,this.calendar._focus(e)},value:function(e){var t=this.calendar,n=this.options,r=n.disableDates;r&&r(e)&&(e=null),this._value=e,this._current=new T(+x(e,n.min,n.max)),t&&t.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf("k-state-selected")&&(this.calendar.trigger("change"),this.close())},_option:function(option,e){var t=this.calendar;this.options[option]=e,t&&t[option](e)}},A.normalize=D,n.DateView=A;var I=o.extend({init:function(element,t){var div,r=this;o.fn.init.call(r,element,t),element=r.element,(t=r.options).disableDates=n.calendar.disabled(t.disableDates),t.min=l(element.attr("min"))||l(t.min),t.max=l(element.attr("max"))||l(t.max),D(t),r._initialOptions=C({},t),r._wrapper(),r.dateView=new A(C({},t,{id:element.attr("id"),anchor:r.wrapper,change:function(){r._change(this.value()),r.close()},close:function(e){r.trigger("close")?e.preventDefault():(element.attr("aria-expanded",!1),div.attr("aria-hidden",!0))},open:function(e){var t,n=r.options;r.trigger("open")?e.preventDefault():(r.element.val()!==r._oldText&&(t=l(element.val(),n.parseFormats,n.culture),r.dateView[t?"current":"value"](t)),element.attr("aria-expanded",!0),div.attr("aria-hidden",!1),r._updateARIA(t))}})),div=r.dateView.div,r._icon();try{element[0].setAttribute("type","text")}catch(e){element[0].type="text"}element.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":r.dateView._dateViewID,autocomplete:"off"}),r._reset(),r._template(),element.is("[disabled]")||e(r.element).parents("fieldset").is(":disabled")?r.enable(!1):r.readonly(element.is("[readonly]")),r._createDateInput(t),r._old=r._update(t.value||r.element.val()),r._oldText=element.val(),n.notify(r)},events:["open","close","change"],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1,weekNumber:!1},setOptions:function(e){var t=this._value;o.fn.setOptions.call(this,e),(e=this.options).min=l(e.min),e.max=l(e.max),D(e),this.dateView.setOptions(e),this._createDateInput(e),this._dateInput||this.element.val(n.toString(t,e.format,e.culture)),t&&this._updateARIA(t)},_editable:function(e){var t=this,n=t._dateIcon.off(f),element=t.element.off(f),r=t._inputWrapper.off(f),o=e.readonly,l=e.disable;o||l?(r.addClass(l?"k-state-disabled":_).removeClass(l?_:"k-state-disabled"),element.attr("disabled",l).attr("readonly",o).attr("aria-disabled",l)):(r.addClass(_).removeClass("k-state-disabled").on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",t._toggleHover),element&&element.length&&(element[0].removeAttribute("disabled"),element[0].removeAttribute("readonly")),element.attr("aria-disabled",!1).on("keydown"+f,S(t._keydown,t)).on("focusout"+f,S(t._blur,t)).on("focus"+f,(function(){t._inputWrapper.addClass("k-state-focused")})),n.on(v,S(t._click,t)).on("mousedown.kendoDatePicker",E))},readonly:function(e){this._editable({readonly:void 0===e||e,disable:!1}),this._dateInput&&this._dateInput._editable({readonly:void 0===e||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=void 0===e||e)}),this._dateInput&&this._dateInput._editable({readonly:!1,disable:!(e=void 0===e||e)})},destroy:function(){o.fn.destroy.call(this),this.dateView.destroy(),this.element.off(f),this._dateIcon.off(f),this._inputWrapper.off(f),this._form&&this._form.off("reset",this._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){if(void 0===e)return this._value;this._old=this._update(e),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_blur:function(){var e=this.element.val();this.close(),e!==this._oldText&&this._change(e),this._inputWrapper.removeClass("k-state-focused")},_click:function(e){this.dateView.toggle(),this._focusElement(e.type)},_focusElement:function(e){var element=this.element;h.touch&&(!h.mouseAndTouchPresent||(e||"").match(/touch/i))||element[0]===d()||element.trigger("focus")},_change:function(e){var t,r=this.element.val();e=this._update(e);var o=(t=!n.calendar.isEqualDate(this._old,e))&&!this._typing,l=r!==this.element.val();(o||l)&&this.element.trigger("change"),t&&(this._old=e,this._oldText=this.element.val(),this.trigger("change")),this._typing=!1},_keydown:function(e){var t=this.dateView,n=this.element.val(),r=!1;t.popup.visible()||e.keyCode!=c.ENTER||n===this._oldText?(r=t.move(e),this._updateARIA(t._current),r?this._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation():this._typing=!0):this._change(n)},_icon:function(){var t,element=this.element;(t=element.next("span.k-select"))[0]||(t=e('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(element)),this._dateIcon=t.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(option,e){var t=this.options;if(void 0===e)return t[option];(e=l(e,t.parseFormats,t.culture))&&(t[option]=new T(+e),this.dateView[option](e))},_update:function(e){var t,r=this.options,o=r.min,c=r.max,h=this._value,d=l(e,r.parseFormats,r.culture),f=null===d&&null===h||d instanceof Date&&h instanceof Date;return r.disableDates(d)&&(d=null,this._old||this.element.val()||(e=null)),+d==+h&&f?((t=n.toString(d,r.format,r.culture))!==e&&this.element.val(null===d?e:t),d):(null!==d&&k(d,o)?d=x(d,o,c):y(d,o,c)||(d=null),this._value=d,this.dateView.value(d),this._dateInput&&d?this._dateInput.value(d||e):this.element.val(n.toString(d||e,r.format,r.culture)),this._updateARIA(d),d)},_wrapper:function(){var t,element=this.element;(t=element.parents(".k-datepicker"))[0]||(t=(t=element.wrap("<span />").parent().addClass("k-picker-wrap k-state-default")).wrap("<span />").parent()),t[0].style.cssText=element[0].style.cssText,element.css({width:"100%",height:element[0].style.height}),this.wrapper=t.addClass("k-widget k-datepicker").addClass(element[0].className),this._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){t.value(element[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=form.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=template(this.options.ARIATemplate)},_createDateInput:function(e){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),e.dateInput&&(this._dateInput=new r.DateInput(this.element,{culture:e.culture,format:e.format,min:e.min,max:e.max}))},_updateARIA:function(e){var t,n=this.dateView.calendar;this.element&&this.element.length&&this.element[0].removeAttribute("aria-activedescendant"),n&&((t=n._cell).attr("aria-label",this._ariaTemplate({current:e||n.current()})),this.element.attr("aria-activedescendant",t.attr("id")))}});r.plugin(I)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1119:function(e,t){e.exports=n(94)},1120:function(e,t){e.exports=n(125)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1267)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1041:function(e,t){e.exports=n(8)},1267:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.caret,o=n.keys,l=n.ui,c=l.Widget,h=n._activeElement,d=n._extractFormat,f=n.parseFloat,m=n.support.placeholder,v=n.getCulture,_=".kendoNumericTextBox",w="mouseenter"+_+" mouseleave.kendoNumericTextBox",y="k-state-default",x=".",k="k-icon",C="k-state-selected",S=/^(-)?(\d*)$/,T=e.proxy,D=e.extend,E=c.extend({init:function(element,t){var r,o,l,h,f,m=this,v=t&&void 0!==t.step;c.fn.init.call(m,element,t),t=m.options,element=m.element.on("focusout"+_,T(m._focusout,m)).attr("role","spinbutton"),t.placeholder=t.placeholder||element.attr("placeholder"),r=m.min(element.attr("min")),o=m.max(element.attr("max")),l=m._parse(element.attr("step")),null===t.min&&null!==r&&(t.min=r),null===t.max&&null!==o&&(t.max=o),v||null===l||(t.step=l),m._initialOptions=D({},t),f=element.attr("type"),m._reset(),m._wrapper(),m._arrows(),m._validation(),m._input(),n.support.mobileOS?m._text.on("touchend"+_+" focus"+_,(function(){n.support.browser.edge?m._text.one("focus"+_,(function(){m._toggleText(!1),element.focus()})):(m._toggleText(!1),element.focus())})):m._text.on("focus"+_,T(m._click,m)),element.attr("aria-valuemin",null!==t.min?t.min*t.factor:t.min).attr("aria-valuemax",null!==t.max?t.max*t.factor:t.max),t.format=d(t.format),null==(h=t.value)&&(h="number"==f?parseFloat(element.val()):element.val()),m.value(h),element.is("[disabled]")||e(m.element).parents("fieldset").is(":disabled")?m.enable(!1):m.readonly(element.is("[readonly]")),m.angular("compile",(function(){return{elements:m._text.get()}})),n.notify(m)},options:{name:"NumericTextBox",decimals:null,restrictDecimals:!1,min:null,max:null,value:null,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:["change","spin"],_editable:function(e){var t=this,element=t.element,n=e.disable,r=e.readonly,text=t._text.add(element),o=t._inputWrapper.off(w);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),element.off("keydown"+_).off("keypress"+_).off("keyup"+_).off("paste"+_),r||n?(o.addClass(n?"k-state-disabled":y).removeClass(n?y:"k-state-disabled"),text.attr("disabled",n).attr("readonly",r).attr("aria-disabled",n)):(o.addClass(y).removeClass("k-state-disabled").on(w,t._toggleHover),text.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1),t._upArrowEventHandler.bind("press",(function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(C)})),t._downArrowEventHandler.bind("press",(function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(C)})),t.element.on("keydown"+_,T(t._keydown,t)).on("keypress"+_,T(t._keypress,t)).on("keyup"+_,T(t._keyup,t)).on("paste"+_,T(t._paste,t)))},readonly:function(e){this._editable({readonly:void 0===e||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=void 0===e||e)})},setOptions:function(e){c.fn.setOptions.call(this,e),this._arrowsWrap.toggle(this.options.spinners),this._inputWrapper.toggleClass("k-expand-padding",!this.options.spinners),this._text.prop("placeholder",this.options.placeholder),this._placeholder(this.options.placeholder),this.element.attr({"aria-valuemin":null!==this.options.min?this.options.min*this.options.factor:this.options.min,"aria-valuemax":null!==this.options.max?this.options.max*this.options.factor:this.options.max}),this.options.format=d(this.options.format),void 0!==e.value&&this.value(e.value)},destroy:function(){this.element.add(this._text).add(this._upArrow).add(this._downArrow).add(this._inputWrapper).off(_),this._upArrowEventHandler.destroy(),this._downArrowEventHandler.destroy(),this._form&&this._form.off("reset",this._resetHandler),c.fn.destroy.call(this)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){if(void 0===e)return this._value;(e=this._parse(e))===this._adjust(e)&&(this._update(e),this._old=this._value)},focus:function(){this._focusin()},_adjust:function(e){var t=this.options,n=t.min,r=t.max;return null===e?e:(null!==n&&e<n?e=n:null!==r&&e>r&&(e=r),e)},_arrows:function(){var t,r=this,o=function(){clearTimeout(r._spinning),t.removeClass(C)},l=r.options,c=l.spinners,element=r.element;(t=element.siblings("."+k))[0]||(t=e(A("increase",l.upArrowText)+A("decrease",l.downArrowText)).insertAfter(element),r._arrowsWrap=t.wrapAll('<span class="k-select"/>').parent()),c||(t.parent().toggle(c),r._inputWrapper.addClass("k-expand-padding")),r._upArrow=t.eq(0),r._upArrowEventHandler=new n.UserEvents(r._upArrow,{release:o}),r._downArrow=t.eq(1),r._downArrowEventHandler=new n.UserEvents(r._downArrow,{release:o})},_validation:function(){var element=this.element;this._validationIcon=e("<span class='"+k+" k-i-warning'></span>").hide().insertAfter(element)},_blur:function(){this._toggleText(!0),this._change(this.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout((function(){var n,o,l,input=e.target,c=r(input)[0],h=input.value.substring(0,c),d=t._format(t.options.format),f=d[","],m=0;f&&(o=new RegExp("\\"+f,"g"),l=new RegExp("(^(-)$)|(^(-)?([\\d\\"+f+"]+)(\\"+d[x]+")?(\\d+)?)")),l&&(n=l.exec(h)),n&&(m=n[0].replace(o,"").length,-1!=h.indexOf("(")&&t._value<0&&m++),t._focusin(),r(t.element[0],m)}))},_change:function(e){var t=this.options.factor;t&&1!==t&&null!==(e=n.parseFloat(e))&&(e/=t),this._update(e),e=this._value,this._old!=e&&(this._old=e,this._typing||this.element.trigger("change"),this.trigger("change")),this._typing=!1},_culture:function(e){return e||v(this.options.culture)},_focusin:function(){this._inputWrapper.addClass("k-state-focused"),this._toggleText(!1),this.element[0].focus()},_focusout:function(){clearTimeout(this._focusing),this._inputWrapper.removeClass("k-state-focused").removeClass("k-state-hover"),this._blur(),this._removeInvalidState()},_format:function(e,t){var n=this._culture(t).numberFormat;return(e=e.toLowerCase()).indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var text,t=this.options,element=this.element.addClass("k-input").show()[0],n=element.accessKey;(text=this.wrapper.find(x+"k-formatted-value"))[0]||(text=e('<input type="text"/>').insertBefore(element).addClass("k-formatted-value"));try{element.setAttribute("type","text")}catch(e){element.type="text"}text[0].title=element.title,text[0].tabIndex=element.tabIndex,text[0].style.cssText=element.style.cssText,text.prop("placeholder",t.placeholder),n&&(text.attr("accesskey",n),element.accessKey=""),this._text=text.addClass(element.className).attr({role:"spinbutton","aria-valuemin":null!==t.min?t.min*t.factor:t.min,"aria-valuemax":null!==t.max?t.max*t.factor:t.max,autocomplete:"off"})},_keydown:function(e){var t=e.keyCode;this._key=t,t==o.DOWN?this._step(-1):t==o.UP?this._step(1):t==o.ENTER?this._change(this.element.val()):t!=o.TAB&&(this._typing=!0)},_keypress:function(e){if(0!==e.which&&!e.metaKey&&!e.ctrlKey&&e.keyCode!==o.BACKSPACE&&e.keyCode!==o.ENTER){var t,n=this.options.min,element=this.element,l=r(element),c=l[0],h=l[1],d=String.fromCharCode(e.which),f=this._format(this.options.format),m=this._key===o.NUMPAD_DOT,v=element.val();m&&(d=f[x]),v=v.substring(0,c)+d+v.substring(h),(t=this._numericRegex(f).test(v))&&m?(element.val(v),r(element,c+d.length),e.preventDefault()):(null!==n&&n>=0&&"-"===v.charAt(0)||!t)&&(this._addInvalidState(),e.preventDefault()),this._key=0}},_keyup:function(){this._removeInvalidState()},_addInvalidState:function(){this._inputWrapper.addClass("k-state-invalid"),this._validationIcon.show()},_removeInvalidState:function(){this._inputWrapper.removeClass("k-state-invalid"),this._validationIcon.hide()},_numericRegex:function(e){var t=e[x],n=this.options.decimals,r="*";return t===x&&(t="\\"+t),null===n&&(n=e.decimals),0===n&&this.options.restrictDecimals?S:(this.options.restrictDecimals&&(r="{0,"+n+"}"),this._separator!==t&&(this._separator=t,this._floatRegExp=new RegExp("^(-)?(((\\d+("+t+"\\d"+r+")?)|("+t+"\\d"+r+")))?$")),this._floatRegExp)},_paste:function(e){var t=this,element=e.target,n=element.value,r=t._format(t.options.format);setTimeout((function(){var e=t._parse(element.value);null===e?t._update(n):(element.value=e.toString().replace(x,r[x]),t._adjust(e)===e&&t._numericRegex(r).test(element.value)||t._update(n))}))},_option:function(option,e){var element=this.element,t=this.options;if(void 0===e)return t[option];((e=this._parse(e))||"step"!==option)&&(t[option]=e,element.add(this._text).attr("aria-value"+option,e),element.attr(option,e))},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout((function(){n._spin(e,50)}),t),n._step(e)},_step:function(e){var element=this.element,t=this._value,n=this._parse(element.val())||0,r=this.options.decimals||2;h()!=element[0]&&this._focusin(),this.options.factor&&n&&(n/=this.options.factor),n=+(n+this.options.step*e).toFixed(r),n=this._adjust(n),this._update(n),this._typing=!1,t!==n&&this.trigger("spin")},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_toggleText:function(e){this._text.toggle(e),this.element.toggle(!e)},_parse:function(e,t){return f(e,this._culture(t),this.options.format)},_round:function(e,t){return(this.options.round?n._round:I)(e,t)},_update:function(e){var t,r=this.options,o=r.factor,l=r.format,c=r.decimals,h=this._culture(),d=this._format(l,h);null===c&&(c=d.decimals),(t=null!==(e=this._parse(e,h)))&&(e=parseFloat(this._round(e,c),10)),this._value=e=this._adjust(e),this._placeholder(n.toString(e,l,h)),t?(o&&(e=parseFloat(this._round(e*o,c),10)),-1!==(e=e.toString()).indexOf("e")&&(e=this._round(+e,c)),e=e.replace(x,d[x])):e=null,this.element.val(e),this.element.add(this._text).attr("aria-valuenow",e)},_placeholder:function(e){var input=this._text;input.val(e),m||e||input.val(this.options.placeholder),input.attr("title",this.element.attr("title")||input.val())},_wrapper:function(){var t,element=this.element,n=element[0];(t=element.parents(".k-numerictextbox")).is("span.k-numerictextbox")||(t=(t=element.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent()).wrap("<span/>").parent()),t[0].style.cssText=n.style.cssText,n.style.width="",this.wrapper=t.addClass("k-widget k-numerictextbox").addClass(n.className).css("display",""),this._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(element[0].value),t.max(t._initialOptions.max),t.min(t._initialOptions.min)}))},t._form=form.on("reset",t._resetHandler))}});function A(e,text){return'<span unselectable="on" class="k-link k-link-'+e+'" aria-label="'+text+'" title="'+text+'"><span unselectable="on" class="'+k+" k-i-arrow-"+("increase"===e?"60-up":"60-down")+'"></span></span>'}function I(e,t){var n=parseFloat(e,10).toString().split(x);return n[1]&&(n[1]=n[1].substring(0,t)),n.join(x)}l.plugin(E)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1542),e.exports=n(1542)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1528:function(e,t){e.exports=n(52)},1542:function(e,t,n){var r,o,l;n(3),o=[n(1528)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e={},t=kendo.spreadsheet;t.calc=e;var n=e.runtime={},r=kendo.Class,o=t.Ref,l=t.CellRef,c=t.RangeRef,h=t.UnionRef,d=t.NULLREF;A.prototype.toString=function(){return"#"+this.code+("NAME"==this.code?"?":"!")};var f=r.extend({init:function(e,t,n,r){this.callback=e,this.formula=t,this.ss=n,this.parent=r},resolve:function(e){var t=this;e instanceof o?t.resolveCells([e],(function(){t._resolve(e)})):t._resolve(e)},error:function(e){return new A(e)},_resolve:function(e){var t;e=void 0===e?null:Array.isArray(e)?this.asMatrix(e):"number"==typeof(t=e)?F(t):t;var n=this.formula;n.arrayFormulaRange?e=this.asMatrix(e)||this.asMatrix([[e]]):e instanceof c&&(e=this._arrayArg(e)),n.value=e,this.ss.onFormula(n)&&this.callback&&this.callback.call(n,e)},resolveCells:function(a,e){var t=this,n=[];if(function e(a){for(var i=0;i<a.length;++i){var n=a[i];n instanceof o&&l(t.getRefCells(n)),Array.isArray(n)&&e(n)}}(a),!n.length)return e.call(t);for(var r=n.length,i=0;i<n.length;++i)n[i].exec(t.ss,(function(){--r||e.call(t)}),t);function l(a){for(var i=0;i<a.length;++i){var e=a[i];e.formula&&n.push(e.formula)}return!0}},cellValues:function(a,e){for(var t=[],i=0;i<a.length;++i){var n=a[i];n instanceof o?(n=this.getRefData(n,e),t=t.concat(n)):Array.isArray(n)?t=t.concat(this.cellValues(n,e)):n instanceof m?t=t.concat(this.cellValues(n.data,e)):t.push(n)}return t},fetchName:function(e,n){var r=this.formula,l=this.ss.nameValue(e,r.sheet,r.row,r.col);if(l instanceof v){l=l.clone(r.sheet,r.row,r.col,!0);var c=new t.ValidationFormulaContext(this.ss.workbook);l.exec(c,n,this)}else l instanceof o&&((l=l.absolute(r.row,r.col)).sheet||(l.sheet=r.sheet)),n(null==l?new A("NAME"):l)},force:function(e){return e instanceof o?this.getRefData(e):e},func:function(e,t,n){e=e.toLowerCase();var r=_[e];if(r)return r.call(this,t,n);t(new A("NAME"))},bool:function(e){return e instanceof o&&(e=this.getRefData(e)),"string"==typeof e?"true"==e.toLowerCase():"number"==typeof e?0!==e:"boolean"==typeof e?e:null!=e},_arrayArg:function(e){var t=this.formula;return!t.arrayFormulaRange&&e instanceof c?1==e.height()&&t.col>=e.topLeft.col&&t.col<=e.bottomRight.col?this.getRefData(new l(e.topLeft.row,t.col).setSheet(e.sheet)):1==e.width()&&t.row>=e.topLeft.row&&t.row<=e.bottomRight.row?this.getRefData(new l(t.row,e.topLeft.col).setSheet(e.sheet)):new A("VALUE"):this.asMatrix(e)},asMatrix:function(e){if(e instanceof m)return e;var t=this;if(e instanceof c){var n=e.topLeft,r=n.row,l=n.col,h=t.getRefCells(e),d=new m(t);return isFinite(e.width())&&(d.width=e.width()),isFinite(e.height())&&(d.height=e.height()),isFinite(r)||(r=0),isFinite(l)||(l=0),h.forEach((function(e){d.set(e.row-r,e.col-l,e.value)})),d}if(Array.isArray(e)&&e.length>0){d=new m(t);var f=0;return e.forEach((function(line){var col=0,e=1;line.forEach((function(n){var r=n instanceof c;n instanceof o&&!r&&(n=t.getRefData(n)),(r||Array.isArray(n))&&(n=t.asMatrix(n)),n instanceof m?(n.each((function(e,t,n){d.set(f+t,col+n,e)})),e=Math.max(e,n.height),col+=n.width):d.set(f,col++,n)})),f+=e})),d}},getRefCells:function(e,t,n){var r=this.formula;return this.ss.getRefCells(e,t,r.sheet,r.row,r.col,n)},getRefData:function(e,t){var n=this.formula;return this.ss.getData(e,n.sheet,n.row,n.col,t)},workbook:function(){return this.ss.workbook}}),m=r.extend({init:function(e){this.context=e,this.height=0,this.width=0,this.data=[]},clone:function(){var e=new m(this.context);return e.height=this.height,e.width=this.width,e.data=this.data.map((function(e){return e.slice()})),e},get:function(e,col){var line=this.data[e],t=line?line[col]:null;return t instanceof o?this.context.getRefData(t):t},getNA:function(e,col){return e<this.height&&col<this.width?this.get(e,col):new A("N/A")},set:function(e,col,data){var line=this.data[e];null==line&&(line=this.data[e]=[]),line[col]=data,e>=this.height&&(this.height=e+1),col>=this.width&&(this.width=col+1)},each:function(e,t){for(var n=0;n<this.height;++n)for(var col=0;col<this.width;++col){var r=this.get(n,col);if((t||null!=r)&&void 0!==(r=e.call(this.context,r,n,col)))return r}},map:function(e,t){var n=new m(this.context);return this.each((function(t,r,col){n.set(r,col,e.call(this,t,r,col))}),t),n},eachRow:function(e){for(var t=0;t<this.height;++t){var n=e.call(this.context,t);if(void 0!==n)return n}},eachCol:function(e){for(var col=0;col<this.width;++col){var t=e.call(this.context,col);if(void 0!==t)return t}},mapRow:function(e){var t=new m(this.context);return this.eachRow((function(n){t.set(n,0,e.call(this.context,n))})),t},mapCol:function(e){var t=new m(this.context);return this.eachCol((function(col){t.set(0,col,e.call(this.context,col))})),t},toString:function(){return JSON.stringify(this.data)},transpose:function(){var e=new m(this.context);return this.each((function(t,n,col){e.set(col,n,t)})),e},unit:function(e){this.width=this.height=e;for(var a=this.data=new Array(e),i=e;--i>=0;)for(var t=a[i]=new Array(e),n=e;--n>=0;)t[n]=i==n?1:0;return this},multiply:function(b){for(var a=this,e=new m(a.context),t=0;t<a.height;++t)for(var col=0;col<b.width;++col){for(var s=0,i=0;i<a.width;++i){var n=a.get(t,i),r=b.get(i,col);if("number"!=typeof n||"number"!=typeof r)throw new A("VALUE");s+=n*r}e.set(t,col,s)}return e},adds:function(b,s){for(var a=this,e=new m(a.context),t=s?-1:1,n=0;n<a.height;++n)for(var col=0;col<a.width;++col){var r=a.get(n,col),o=b.get(n,col);e.set(n,col,r+t*o)}return e},determinant:function(){var e,t,i,n,a=this.clone().data,r=a.length,o=1;for(e=0;e<r;e++){for(t=e;t<r&&!a[t][e];t++);if(t==r)return 0;if(t!=e)for(o=-o,n=e;n<r;n++){var l=a[e][n];a[e][n]=a[t][n],a[t][n]=l}for(i=e+1;i<r;i++)for(n=e+1;n<r;n++)a[i][n]-=a[e][n]*a[i][e]/a[e][e];o*=a[e][e]}return o},inverse:function(){for(var e,t=this.width,n=this.augment(new m(this.context).unit(t)),a=n.data,r=0;r<t;++r){var o=I(r,t,(function(i){return a[i][r]}));if(!a[o][r])return null;r!=o&&(e=a[r],a[r]=a[o],a[o]=e);for(var i=r+1;i<t;++i){for(var l=r+1;l<2*t;++l)a[i][l]-=a[r][l]*a[i][r]/a[r][r];a[i][r]=0}}for(i=0;i<t;++i){var c=a[i][i];for(l=0;l<2*t;++l)a[i][l]/=c}for(r=t;--r>=0;)for(i=r;--i>=0;)if(a[i][r])for(l=2*t;--l>=t;)a[i][l]-=a[r][l]*a[i][r];return n.slice(0,t,t,t)},augment:function(e){var t=this.clone(),n=t.width;return e.each((function(e,r,col){t.set(r,col+n,e)})),t},slice:function(e,col,t,n){for(var r=new m(this.context),i=0;i<t;++i)for(var o=0;o<n;++o)r.set(i,o,this.get(e+i,col+o));return r}}),v=r.extend({init:function(e,t,n,r,o,col,l){this.refs=e,this.handler=t,this.print=n,this.absrefs=null,this.sheet=r,this.row=o,this.col=col,this.onReady=[],this.pending=!1,this.arrayFormulaRange=l},setArrayFormulaRange:function(e){this.arrayFormulaRange=e.clone().setSheet(this.sheet)},clone:function(e,t,col,n){var r=e.toLowerCase(),o=this.refs,l=this.arrayFormulaRange;return(n||r!=this.sheet.toLowerCase())&&(o=o.map((function(t){return t.hasSheet()||t.sheet&&t.sheet.toLowerCase()==r||(t=t.clone().setSheet(e)),t})),l&&(l=l.clone().setSheet(e))),new v(o,this.handler,this.print,e,t,col,l)},deepClone:function(){var e=this.refs.map((function(e){return e.clone()}));return new v(e,this.handler,this.print,this.sheet,this.row,this.col,this.arrayFormulaRange)},resolve:function(e){this.pending=!1,this.onReady.forEach((function(t){t(e)}))},exec:function(e,t,n){if("value"in this)t&&t(this.value);else{t&&this.onReady.push(t);for(var r=new f(this.resolve,this,e,n),o=0;n;){if(n.formula===this)return this.pending=!1,void r.resolve(new A("CIRCULAR"));n=n.parent,++o}if(this.pending)return;this.pending=!0;var l=function(){this.absrefs||(this.absrefs=this.refs.map((function(e){return e.absolute(this.row,this.col)}),this)),this.handler.call(r)}.bind(this);o<20?l():setTimeout(l,0)}},reset:function(){this.onReady=[],this.pending=!1,delete this.value},renameSheet:function(e,t){e=e.toLowerCase(),this.absrefs=null,this.sheet.toLowerCase()==e&&(this.sheet=t),this.refs.forEach((function(n){n.renameSheet(e,t)}))},adjust:function(e,t,n,r){e=e.toLowerCase();var o=this.row,l=this.col,c=this.sheet.toLowerCase(),h=!1;c==e&&("row"==t&&o>=n&&(this.row+=r,h=!0),"col"==t&&l>=n&&(this.col+=r,h=!0));var f=this.row,m=this.col;this.absrefs=null;var _=this.refs,w=h;this.refs=_.map((function(e){var t=x(e);return w||M(t,e)||(w=!0),t}));var y=this.arrayFormulaRange;if(y&&(this.arrayFormulaRange=x(y),w||M(y,this.arrayFormulaRange)||(w=!0)),w)return new v(_,this.handler,this.print,this.sheet,o,l,y);function x(c){return c===d?c:c.sheet.toLowerCase()!=e?(h&&("row"==t&&o>=n&&(c=c.relative(r,0)),"col"==t&&l>=n&&(c=c.relative(0,r))),c):c.adjust(o,l,f,m,"row"==t,n,r)}},toString:function(){return this.print(this.row,this.col)}}),_=Object.create(null);_.if=function(e,t){var n=this,r=t[0],th=t[1],o=t[2];this.resolveCells([r],(function(){var t=n.asMatrix(r);t?th((function(th){o((function(r){var o=n.asMatrix(th),l=n.asMatrix(r);e(t.map((function(e,t,col){return e instanceof A?e:n.bool(e)?o?o.get(t,col):th:l?l.get(t,col):r})))}))})):(r=this.force(r))instanceof A?e(r):n.bool(r)?th(e):o(e)}))},_["φ"]=function(e){e((1+Math.sqrt(5))/2)};var w=B(1900,0,-1),y=[31,28,31,30,31,30,31,31,30,31,30,31],x=[[0,31,59,90,120,151,181,212,243,273,304,334],[0,31,60,91,121,152,182,213,244,274,305,335]],k=6e4,C=60*k,S=24*C;n.CalcError=A,n.Formula=v,n.Matrix=m,n.packDate=O,n.unpackDate=N,n.packTime=U,n.unpackTime=V,n.serialToDate=W,n.dateToSerial=j,n.daysInMonth=H,n.validDate=function(e,t,n){return t>=1&&t<=12&&n>=1&&n<=H(e,t-1)},n.isLeapYear=L,n.daysInYear=function(e){return L(e)?366:365},n.parseDate=function(e,t){return t&&(t=kendo.spreadsheet.formatting.makeDateFormat(t)),kendo.parseExactDate(e,t)||kendo.parseExactDate(e)||kendo.parseExactDate(e,["MMMM dd yyyy","MMMM dd yy","MMM dd yyyy","MMM dd yy","dd MMMM yyyy","dd MMMM yy","dd MMM yyyy","dd MMM yy","MMMM dd, yyyy","MMMM dd, yy","MMM dd, yyyy","MMM dd, yy","MMMM dd","MMM dd","MMMM yyyy","MMM yyyy","dd MMMM","dd MMM"])},n.limitPrecision=F,t.dateToNumber=j,t.numberToDate=W,t.defineFunction=z,t.CalcError=A,n.defineFunction=z,n.defineAlias=function(e,t){var n=_[t];if(!n)throw new Error("Function "+t+" is not yet defined");n.kendoSpreadsheetAliases||(n.kendoSpreadsheetAliases=[t]),n.kendoSpreadsheetAliases.push(e),_[e]=n},n.FUNCS=_;var T=["or","number",["null",0]],D=[["*a",T],["*b",T]],E=[["*a",["or","anyvalue",["null",0]]],["*b",["or","anyvalue",["null",0]]]];z("binary+",(function(a,b){return a+b})).args(D),z("binary-",(function(a,b){return a-b})).args(D),z("binary*",(function(a,b){return a*b})).args(D),z("binary/",(function(a,b){return a/b})).args([["*a",T],["*b","divisor"]]),z("binary^",(function(a,b){return Math.pow(a,b)})).args(D),z("binary&",(function(a,b){return null==a&&(a=""),null==b&&(b=""),""+a+b})).args([["*a",["or","number","string","boolean","null"]],["*b",["or","number","string","boolean","null"]]]),z("binary=",(function(a,b){return(a="string"==typeof a?a.toLowerCase():a)===(b="string"==typeof b?b.toLowerCase():b)})).args(E),z("binary<>",(function(a,b){return a!==b})).args(E),z("binary<",G((function(a,b){return a<b}))).args(E),z("binary<=",G((function(a,b){return a<=b}))).args(E),z("binary>",G((function(a,b){return a>b}))).args(E),z("binary>=",G((function(a,b){return a>=b}))).args(E),z("unary+",(function(a){return a})).args([["*a",T]]),z("unary-",(function(a){return-a})).args([["*a",T]]),z("unary%",(function(a){return a/100})).args([["*a",T]]),z("binary:",(function(a,b){return new c(a,b).setSheet(a.sheet||this.formula.sheet,a.hasSheet())})).args([["a","cell"],["b","cell"]]),z("binary,",(function(a,b){return new h([a,b])})).args([["a","ref"],["b","ref"]]),z("binary ",(function(a,b){return a.intersect(b)})).args([["a","ref"],["b","ref"]]),z("not",(function(a){return!this.bool(a)})).args([["*a",["or","anyvalue",["null",0]]]]),z("isblank",(function(e){return e instanceof l&&null==(e=this.getRefData(e))})).args([["*value","anything!"]]),z("iserror",(function(e){return e instanceof A})).args([["*value","forced!"]]),z("iserr",(function(e){return e instanceof A&&"N/A"!=e.code})).args([["*value","forced!"]]),z("isna",(function(e){return e instanceof A&&"N/A"==e.code})).args([["*value","forced!"]]),z("islogical",(function(e){return"boolean"==typeof e})).args([["*value","forced!"]]),z("isnontext",(function(e){return"string"!=typeof e})).args([["*value","forced!"]]),z("istext",(function(e){return"string"==typeof e})).args([["*value","forced!"]]),z("isnumber",(function(e){return"number"==typeof e})).args([["*value","forced!"]]),z("isref",(function(e){return e instanceof l||e instanceof c})).args([["*value","anything!"]]),_[",getname"]=function(e,t){this.fetchName(t[0],e)}}function A(code){if(code instanceof A)return code;this.code=code}function I(i,e,t){for(var n=t(i),r=i;++i<e;){var o=t(i);o>n&&(n=o,r=i)}return r}function M(e,t){if(e.constructor!==t.constructor)return!1;if(e instanceof l)return e.sheet==t.sheet&&e.row==t.row&&e.col==t.col&&e.rel==t.rel;if(e instanceof c)return M(e.topLeft,t.topLeft)&&M(e.bottomRight,t.bottomRight)&&e.endSheet==t.endSheet;if(e instanceof h){var i=e.refs.length;if(i!=t.refs.length)return!1;for(;--i>=0;)if(!M(e.refs[i],t.refs[i]))return!1}return!0}function R(e,t){var n,r,o,l="function arrayArgs(args) { var xargs = [], width = 0, height = 0, arrays = [], i = 0; ",c="function resolve(args, callback) { var toResolve = [], i = 0; ",main="'use strict'; function check(args) { var stack = [], tmp, xargs = [], i = 0, m, err = 'VALUE'; ",h=!1,d=!1,f=!1;return main+=t.map((function e(t){n=t[0];var code="{ ";if(Array.isArray(n))l+="while (i < args.length) { ",c+="while (i < args.length) { ",code+="xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ",code+="while (i < args.length) { ",code+=t.map(e).join(""),code+="} ",code+="xargs = stack.pop(); ",c+="} ",l+="} ";else if("+"==n)l+="while (i < args.length) { ",c+="while (i < args.length) { ",code+="if (i >= args.length) return new CalcError('N/A'); ",code+="xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ",code+="do { ",code+=t.slice(1).map(e).join(""),code+="} while (i < args.length); ",code+="xargs = stack.pop(); ",c+="} ",l+="} ";else if("?"==n)code+="if (!("+_(t[1])+")) return new CalcError(err); ";else{var o=t[1];if(Array.isArray(o)&&/^#?collect/.test(o[0])){var h=/!$/.test(o[0]),v=o[2];m(),code+="try {var $"+n+" = this.cellValues(args.slice(i",v&&(code+=", i + "+v),code+=")"+(h?",true":"")+").reduce(function(ret, $"+n+"){ ","#"!=o[0].charAt(0)&&(code+="if ($"+n+" instanceof CalcError) throw $"+n+"; "),code+="if ("+_(o[1])+") ret.push($"+n+"); ",code+="return ret; ",code+="}.bind(this), []); ",code+=v?"i += "+v+"; ":"i = args.length; ",code+="xargs.push($"+n+")} catch(ex) { if (ex instanceof CalcError) return ex; throw ex; } ",c+="toResolve.push(args.slice(i)); "}else if("rest"==o)code+="xargs.push(args.slice(i)); i = args.length; ";else{(d=/^\*/.test(n))&&(f=!0,n=n.substr(1)),code+="var $"+n+" = args[i++]; ";var w=!1;/!$/.test(o)?(o=o.substr(0,o.length-1),w=!0):code+="if ($"+n+" instanceof CalcError) return $"+n+"; ",code+=function(e,t){r=!1;var o="if (!("+_(e)+")) { ";return r&&!t&&(o+=" if ($"+n+" instanceof CalcError) return $"+n+"; "),r||(c+="i++; "),l+=d?"var $"+n+" = this._arrayArg(args[i]); if ($"+n+") { xargs.push($"+n+"); width = Math.max(width, $"+n+".width); height = Math.max(height, $"+n+".height); arrays.push(true) } else { xargs.push(args[i]); arrays.push(false); } i++; ":"xargs.push(args[i++]); arrays.push(false); ",o+="return new CalcError(err); } "}(o,w)+"xargs.push($"+n+"); "}}return code+="} "})).join(""),main+="if (i < args.length) return new CalcError('N/A'); ",main+="return xargs; } ",l+="return { args: xargs, width: width, height: height, arrays: arrays }; } ",h?(c+="this.resolveCells(toResolve, callback); } ",o=new Function("CalcError","round",main+c+l+" return { resolve: resolve, check: check, arrayArgs: arrayArgs };")):o=new Function("CalcError","round",main+" return { check: check };"),o=o(A,F),f||delete o.arrayArgs,o;function m(){return r?"$"+n:(h=!0,r=!0,c+="toResolve.push(args[i++]); ","($"+n+" = this.force($"+n+"))")}function v(e){return"("+(e?"(typeof "+m()+" == 'number' ? ($"+n+" = round($"+n+"), true) : false) || ":"(typeof "+m()+" == 'number') || ")+"(typeof $"+n+" == 'boolean' ? ($"+n+" = +$"+n+", true) : false) || (typeof $"+n+" == 'string' && !/^(?:=|true|false)/i.test($"+n+") ? (tmp = kendo.spreadsheet.calc.parse(0, 0, 0, $"+n+"), /^date|number|percent$/.test(tmp.type) ? ($"+n+" = +tmp.value, true) : false) : false))"}function _(e){if(Array.isArray(e)){if("or"==e[0])return"("+e.slice(1).map(_).join(") || (")+")";if("and"==e[0])return"("+e.slice(1).map(_).join(") && (")+")";if("values"==e[0])return"("+e.slice(1).map((function(e){return m()+" === "+e})).join(") || (")+")";if("null"==e[0])return"("+_("null")+" ? (($"+n+" = "+e[1]+"), true) : false)";if("between"==e[0]||"[between]"==e[0])return"("+m()+" >= "+e[1]+" && $"+n+" <= "+e[2]+" ? true : ((err = 'NUM'), false))";if("(between)"==e[0])return"("+m()+" > "+e[1]+" && $"+n+" < "+e[2]+" ? true : ((err = 'NUM'), false))";if("(between]"==e[0])return"("+m()+" > "+e[1]+" && $"+n+" <= "+e[2]+" ? true : ((err = 'NUM'), false))";if("[between)"==e[0])return"("+m()+" >= "+e[1]+" && $"+n+" < "+e[2]+" ? true : ((err = 'NUM'), false))";if("assert"==e[0]){var t=e[2]||"N/A";return"(("+e[1]+") ? true : (err = "+JSON.stringify(t)+", false))"}if("not"==e[0])return"!("+_(e[1])+")";throw new Error("Unknown array type condition: "+e[0])}if("number"==e||"datetime"==e)return v(!0);if("number!"==e)return"(typeof "+m()+" == 'number' ? ($"+n+" = round($"+n+"), true) : false)";if("integer"==e||"date"==e)return"("+v()+" && (($"+n+" |= 0), true))";if("divisor"==e)return"("+v(!0)+" && ($"+n+" == 0 ? ((err = 'DIV/0'), false) : true))";if("number+"==e)return"("+v(!0)+" && ($"+n+" >= 0 ? true : ((err = 'NUM'), false)))";if("integer+"==e)return"("+v()+" && (($"+n+" |= 0) >= 0 ? true : ((err = 'NUM'), false)))";if("number++"==e)return"("+v(!0)+" && ($"+n+" > 0 ? true : ((err = 'NUM'), false)))";if("integer++"==e)return"("+v()+" && (($"+n+" |= 0) > 0 ? true : ((err = 'NUM'), false)))";if("string"==e)return"((typeof "+m()+" == 'string' || typeof $"+n+" == 'boolean' || typeof $"+n+" == 'number') ? ($"+n+" += '', true) : ($"+n+" === undefined ? (($"+n+" = ''), true) : false))";if("boolean"==e)return"(typeof "+m()+" == 'boolean')";if("logical"==e)return"(typeof "+m()+" == 'boolean' || (typeof $"+n+" == 'number' ? ($"+n+" = !!$"+n+", true) : false))";if("matrix"==e)return m(),"((m = this.asMatrix($"+n+")) ? ($"+n+" = m) : false)";if("#matrix"==e)return"((m = this.asMatrix($"+n+")) ? ($"+n+" = m) : false)";if("ref"==e)return"($"+n+" instanceof kendo.spreadsheet.Ref)";if("area"==e)return"($"+n+" instanceof kendo.spreadsheet.CellRef || $"+n+" instanceof kendo.spreadsheet.RangeRef)";if("cell"==e)return"($"+n+" instanceof kendo.spreadsheet.CellRef)";if("null"==e)return"("+m()+" == null)";if("anyvalue"==e)return"("+m()+" != null && i <= args.length)";if("forced"==e)return"("+m()+", i <= args.length)";if("anything"==e)return"(i <= args.length)";if("blank"==e)return"("+m()+" == null || $"+n+" === '')";throw new Error("Can't check for type: "+e)}}function F(e){return e===parseInt(e,10)?e:+e.toPrecision(14)}function P(e,t,n){if(n instanceof A)return n;try{return t.apply(e,n)}catch(e){if(e instanceof A)return e;throw e}}function z(e,t){return e=e.toLowerCase(),_[e]=t,{args:function(n,r){var o,l,c,h,code=R(0,n);return r&&(code.arrayArgs&&console.log(code.arrayArgs.toString()),code.resolve&&console.log(code.resolve.toString()),code.check&&console.log(code.check.toString())),(_[e]=(o=t,l=code.resolve,c=code.check,h=code.arrayArgs,function(e,t){function n(){if(h){var n=h.call(this,t);if(t=n.args,n.width>0&&n.height>0){for(var r=new m(this),l=0;l<n.height;++l)for(var col=0;col<n.width;++col){for(var d=[],i=0;i<t.length;++i)n.arrays[i]?d[i]=t[i].getNA(l,col):d[i]=t[i];d=c.call(this,d),r.set(l,col,P(this,o,d))}return e(r)}}d=c.call(this,t),e(P(this,o,d))}l?l.call(this,t,n):n.call(this)})).kendoSpreadsheetArgs=n,this},argsAsync:function(n,r){var o,l,c,h,code=R(0,n);return r&&(code.arrayArgs&&console.log(code.arrayArgs.toString()),code.resolve&&console.log(code.resolve.toString()),code.check&&console.log(code.check.toString())),(_[e]=(o=t,l=code.resolve,c=code.check,h=code.arrayArgs,function(e,t){function n(){if(h){var n=h.call(this,t);if(t=n.args,n.width>0&&n.height>0){for(var r=new m(this),l=n.width*n.height,d=function(t,col){return function(n){if(r.set(t,col,n),0==--l)return e(r)}},f=0;f<n.height&&l>0;++f)for(var col=0;col<n.width&&l>0;++col){for(var v=[],i=0;i<t.length;++i)n.arrays[i]?v[i]=t[i].getNA(f,col):v[i]=t[i];if((v=c.call(this,v))instanceof A){if(r.set(f,col,v),0==--l)return e(r)}else v.unshift(d(f,col)),o.apply(this,v)}return}}(n=c.call(this,t))instanceof A?e(n):(n.unshift(e),o.apply(this,n))}l?l.call(this,t,n):n.call(this)})).kendoSpreadsheetArgs=n,this}}}function B(e,t,n){return(1461*(e+4800+((++t-14)/12|0))/4|0)+(367*(t-2-12*((t-14)/12|0))/12|0)-(3*((e+4900+((t-14)/12|0))/100|0)/4|0)+n-32075}function L(e){return e%4?0:e%100?1:e%400?0:1}function H(e,t){return L(e)&&1==t?29:y[t]}function N(e){return n=(t=(0|e)+w)+68569,c=(n=(n-=(146097*(r=4*n/146097|0)+3)/4|0)-(1461*(i=4e3*(n+1)/1461001|0)/4|0)+31)-(2447*(o=80*n/2447|0)/80|0),l=o+2-12*(n=o/11|0),{year:h=100*(r-49)+i+n,month:--l,date:c,day:(t+1)%7,ord:x[L(h)][l]+c};var t,n,r,o,i,l,c,h}function O(e,t,n){return B(e,t,n)-w}function V(e){var t=e-(0|e);t<0&&t++;var n=Math.round(S*t),r=Math.floor(n/C);n-=r*C;var o=Math.floor(n/k);n-=o*k;var l=Math.floor(n/1e3);return{hours:r,minutes:o,seconds:l,milliseconds:n-=1e3*l}}function W(e){var t=N(e),n=V(e);return new Date(t.year,t.month,t.date,n.hours,n.minutes,n.seconds,n.milliseconds)}function U(e,t,n,r){return(e+(t+(n+r/1e3)/60)/60)/24}function j(e){var time=U(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return(e=O(e.getFullYear(),e.getMonth(),e.getDate()))<0?e-1+time:e+time}function G(e){return function(t,n){return"string"==typeof t&&"string"!=typeof n&&(n=null==n?"":n+""),"string"!=typeof t&&"string"==typeof n&&(t=null==t?"":t+""),"number"==typeof t&&null==n&&(n=0),"number"==typeof n&&null==t&&(t=0),"string"==typeof t&&"string"==typeof n&&(t=t.toLowerCase(),n=n.toLowerCase()),typeof n==typeof t?e(t,n):new A("VALUE")}}})?r.apply(t,o):r)||(e.exports=l)}})},,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1036)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1036:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){window.kendo=window.kendo||{};var e=kendo.Class,t=kendo.support,n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},r=t.browser,o=function(e){var t=Object.keys(n);t.push("transparent");var r=new RegExp("^("+t.join("|")+")(\\W|$)","i");return o=function(e){return r.exec(e)},r.exec(e)},l=e.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){return r.msie&&r.version<9?this.toCss():this.toCssRgba()},equals:function(e){return e===this||null!==e&&this.toCssRgba()===_(e).toCssRgba()},diff:function(e){if(null===e)return NaN;var t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))},clone:function(){var e=this.toBytes();return e===this&&(e=new h(e.r,e.g,e.b,e.a)),e}}),c=l.extend({init:function(e,g,b,a){l.fn.init.call(this),this.r=e,this.g=g,this.b=b,this.a=a},toHSV:function(){var e,s,t=this.r,g=this.g,b=this.b,n=Math.min(t,g,b),r=Math.max(t,g,b),o=r-n,l=r;return 0===o?new f(0,0,l,this.a):(0!==r?(s=o/r,e=t===r?(g-b)/o:g===r?2+(b-t)/o:4+(t-g)/o,(e*=60)<0&&(e+=360)):(s=0,e=-1),new f(e,s,l,this.a))},toHSL:function(){var e,s,t=this.r,g=this.g,b=this.b,n=Math.max(t,g,b),r=Math.min(t,g,b),o=(n+r)/2;if(n===r)e=s=0;else{var l=n-r;switch(s=o>.5?l/(2-n-r):l/(n+r),n){case t:e=(g-b)/l+(g<b?6:0);break;case g:e=(b-t)/l+2;break;case b:e=(t-g)/l+4}}return new m(60*e,100*s,100*o,this.a)},toBytes:function(){return new h(255*this.r,255*this.g,255*this.b,this.a)}}),h=c.extend({init:function(e,g,b,a){c.fn.init.call(this,Math.round(e),Math.round(g),Math.round(b),a)},toRGB:function(){return new c(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return d(this.r,2)+d(this.g,2)+d(this.b,2)},toBytes:function(){return this}});function d(e,t,n){void 0===n&&(n="0");for(var r=e.toString(16);t>r.length;)r=n+r;return r}var f=l.extend({init:function(e,s,t,a){l.fn.init.call(this),this.h=e,this.s=s,this.v=t,this.a=a},toRGB:function(){var e,g,b,t=this.h,s=this.s,n=this.v;if(0===s)e=g=b=n;else{t/=60;var i=Math.floor(t),r=t-i,p=n*(1-s),q=n*(1-s*r),o=n*(1-s*(1-r));switch(i){case 0:e=n,g=o,b=p;break;case 1:e=q,g=n,b=p;break;case 2:e=p,g=n,b=o;break;case 3:e=p,g=q,b=n;break;case 4:e=o,g=p,b=n;break;default:e=n,g=p,b=q}}return new c(e,g,b,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),m=l.extend({init:function(e,s,t,a){l.fn.init.call(this),this.h=e,this.s=s,this.l=t,this.a=a},toRGB:function(){var e,g,b,t=this.h/360,s=this.s/100,n=this.l/100;if(0===s)e=g=b=n;else{var q=n<.5?n*(1+s):n+s-n*s,p=2*n-q;e=v(p,q,t+1/3),g=v(p,q,t),b=v(p,q,t-1/3)}return new c(e,g,b,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function v(p,q,s){var e=s;return e<0&&(e+=1),e>1&&(e-=1),e<1/6?p+6*(q-p)*e:e<.5?q:e<2/3?p+(q-p)*(2/3-e)*6:p}function _(e,t){var r,d;if(null==e||"none"===e)return null;if(e instanceof l)return e;var f=e.toLowerCase();if(r=o(f))return(f="transparent"===r[1]?new c(1,1,1,0):_(n[r[1]],t)).match=[r[1]],f;if((r=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(f))?d=new h(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),1):(r=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(f))?d=new h(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16),1):(r=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(f))?d=new h(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),1):(r=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(f))?d=new h(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])):(r=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(f))?d=new c(parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])/100,1):(r=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(f))&&(d=new c(parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])/100,parseFloat(r[4]))),d)d.match=r;else if(!t)throw new Error("Cannot parse color: "+f);return d}var w=e.extend({init:function(e){var t=this;if(1===arguments.length)for(var n=w.formats,r=this.resolveColor(e),o=0;o<n.length;o++){var l=n[o].re,c=n[o].process,h=l.exec(r);if(h){var d=c(h);t.r=d[0],t.g=d[1],t.b=d[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)},toHex:function(){var e=this.padDigit,t=this.r.toString(16),g=this.g.toString(16),b=this.b.toString(16);return"#"+e(t)+e(g)+e(b)},resolveColor:function(e){var t=e||"black";return"#"===t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase(),t=w.namedColors[t]||t},normalizeByte:function(e){return e<0||isNaN(e)?0:e>255?255:e},padDigit:function(e){return 1===e.length?"0"+e:e},brightness:function(e){var t=Math.round;return this.r=t(this.normalizeByte(this.r*e)),this.g=t(this.normalizeByte(this.g*e)),this.b=t(this.normalizeByte(this.b*e)),this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}});w.fromBytes=function(e,g,b,a){return new h(e,g,b,null!=a?a:1)},w.fromRGB=function(e,g,b,a){return new c(e,g,b,null!=a?a:1)},w.fromHSV=function(e,s,t,a){return new f(e,s,t,null!=a?a:1)},w.fromHSL=function(e,s,t,a){return new m(e,s,t,null!=a?a:1)},w.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],w.namedColors=n,kendo.deepExtend(kendo,{parseColor:_,Color:w})})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1047)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1024:function(e,t){e.exports=n(49)},1025:function(e,t){e.exports=n(19)},1026:function(e,t){e.exports=n(64)},1047:function(e,t,n){var r,o,l;n(3),o=[n(1024),n(1025),n(1026)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.List,l=r.Select,c=n.caret,h=n.support,d=h.placeholder,f=n._activeElement,m=n.keys,v=".kendoComboBox",_=v+"FocusEvent",w="click"+v,y="mousedown"+v,x="k-state-default",k=e.proxy,C=/(\r\n|\n|\r)/gm,S=l.extend({init:function(element,t){var text;this.ns=v,t=e.isArray(t)?{dataSource:t}:t,l.fn.init.call(this,element,t),t=this.options,element=this.element.on("focus"+v,k(this._focusHandler,this)),t.placeholder=t.placeholder||element.attr("placeholder"),this._reset(),this._wrapper(),this._input(),this._clearButton(),this._tabindex(this.input),this._popup(),this._dataSource(),this._ignoreCase(),this._enable(),this._attachFocusEvents(),this._oldIndex=this.selectedIndex=-1,this._aria(),this._initialIndex=t.index,this.requireValueMapper(this.options),this._initList(),this._cascade(),t.autoBind?this._filterSource():(!(text=t.text)&&this._isSelect&&(text=element.children(":selected").text()),text&&this._setText(text)),text||this._placeholder(),e(this.element).parents("fieldset").is(":disabled")&&this.enable(!1),n.notify(this),this._toggleCloseVisibility()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,syncValueAndText:!0,autoWidth:!1,popup:null},events:["open","close","change","select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){var t=this._listOptions(e);l.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},destroy:function(){this.input.off(v),this.input.off(_),this.element.off(v),this.wrapper.off(v),this._inputWrapper.off(v),clearTimeout(this._pasteTimeout),this._arrow.off(w+" "+y),this._clear.off(w+" "+y),l.fn.destroy.call(this)},_change:function(){var text=this.text(),e=text&&text!==this._oldText&&text!==this.options.placeholder,t=this.selectedIndex,n=-1===t;if(!this.options.syncValueAndText&&!this.value()&&n&&e)return this._old="",this._oldIndex=t,this._oldText=text,this._typing||this.element.trigger("change"),this.trigger("change"),void(this._typing=!1);l.fn._change.call(this),this._toggleCloseVisibility()},_attachFocusEvents:function(){this.input.on("focus"+_,k(this._inputFocus,this)).on("focusout"+_,k(this._inputFocusout,this))},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass("k-state-focused"),this._placeholder(!1)},_inputFocusout:function(){var e=this.value();this._userTriggered=!0,this._inputWrapper.removeClass("k-state-focused"),clearTimeout(this._typingTimeout),this._typingTimeout=null,this.text(this.text());var t=this._focus(),n=this.listView.dataItemByIndex(this.listView.getElementIndex(t));e!==this.value()&&this.trigger("select",{dataItem:n,item:t})?this.value(e):(this._placeholder(),this._blur(),this.element.blur())},_inputPaste:function(){var e=this;clearTimeout(e._pasteTimeout),e._pasteTimeout=null,e._pasteTimeout=setTimeout((function(){e.search()}))},_editable:function(e){var t=e.disable,n=e.readonly,r=this._inputWrapper.off(v),input=this.element.add(this.input.off(v)),o=this._arrow.off(w+" "+y),l=this._clear;n||t?(r.addClass(t?"k-state-disabled":x).removeClass(t?x:"k-state-disabled"),input.attr("disabled",t).attr("readonly",n).attr("aria-disabled",t)):(r.addClass(x).removeClass("k-state-disabled").on("mouseenter.kendoComboBox mouseleave.kendoComboBox",this._toggleHover),input.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1),o.on(w,k(this._arrowClick,this)).on(y,(function(e){e.preventDefault()})),l.on(w+" touchend"+v,k(this._clearValue,this)),this.input.on("keydown"+v,k(this._keydown,this)).on("input"+v,k(this._search,this)).on("paste"+v,k(this._inputPaste,this)),this.wrapper.on(w+v,k(this._focusHandler,this))),this._toggleCloseVisibility()},open:function(){var e=this._state,t=!!this.dataSource.filter()&&this.dataSource.filter().filters.length>0,n=!this.ul.find(this.listView.focus()).length;this.popup.visible()||(!this.listView.bound()&&"filter"!==e||"accept"===e?(this._open=!0,this._state="rebind",1!==this.options.minLength&&!t||t&&this.value()&&-1===this.selectedIndex?(this.refresh(),this._openPopup(),this.options.virtual||this.listView.bound(!1)):this._filterSource()):this._allowOpening()&&(this.popup._hovered=!0,this._openPopup(),this.options.virtual?this._focusItem():n&&this.options.highlightFirst&&this.listView.focus(0)))},_scrollToFocusedItem:function(){var e=this.listView;e.scrollToIndex(e.getElementIndex(e.focus()))},_openPopup:function(){this.popup.one("activate",k(this._scrollToFocusedItem,this)),this.popup.open()},_updateSelectionState:function(){var text=this.options.text,e=this.options.value;this.listView.isFiltered()||(-1===this.selectedIndex?(null==text&&(text=e),this._accessor(e),this.input.val(text||this.input.val()),this._placeholder()):-1===this._oldIndex&&(this._oldIndex=this.selectedIndex))},_buildOptions:function(data){if(this._isSelect){var e=this._customOption;"rebind"===this._state&&(this._state=""),this._customOption=void 0,this._options(data,"",this.value()),e&&e[0].selected&&!this.listView._emptySearch&&this._custom(e.val())}},_updateSelection:function(){var t=this.listView,n=this._initialIndex,r=null!==n&&n>-1;if("filter"===this._state)e(t.focus()).removeClass("k-state-selected");else if(!this._fetch){t.value().length||(r?this.select(n):this._accessor()&&t.value(this._accessor())),this._initialIndex=null;var o=t.selectedDataItems()[0];o&&(this._value(o)!==this.value()?this._custom(this._value(o)):this._value(o)!==this.element[0].value&&this._accessor(this._value(o)),this.text()&&this.text()!==this._text(o)&&this._selectValue(o))}},_updateItemFocus:function(){var e=this.listView;this.options.highlightFirst?e.focus()||e.focusIndex()||e.focus(0):e.focus(-1)},_listBound:function(){var e=this.input[0]===f(),data=this.dataSource.flatView(),t=this.listView.skip(),n=data.length,r=this.dataSource._group?this.dataSource._group.length:0,o=void 0===t||0===t;this._presetValue=!1,this._renderFooter(),this._renderNoData(),this._toggleNoData(!n),this._toggleHeader(!!r&&!!n),this._resizePopup(),this.popup.position(),this._buildOptions(data),this._makeUnselectable(),this._updateSelection(),data.length&&o&&(this._updateItemFocus(),this.options.suggest&&e&&this.input.val()&&this.suggest(data[0])),this._open&&(this._open=!1,this._typingTimeout&&!e?this.popup.close():this.toggle(this._allowOpening()),this._typingTimeout=null),this._hideBusy(),this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(e){var data,t,n;if("function"==typeof e){for(data=this.dataSource.flatView(),n=0;n<data.length;n++)if(e(data[n])){e=n,t=!0;break}t||(e=-1)}return e},_select:function(e,t){var n=this;return-1===(e=n._get(e))&&(n.input[0].value="",n._accessor("")),n.listView.select(e).done((function(){t||"filter"!==n._state||(n._state="accept"),n._toggleCloseVisibility()}))},_selectValue:function(e){var t=this.listView.select(),n="",text="";void 0===(t=t[t.length-1])&&(t=-1),this.selectedIndex=t,this.listView.isFiltered()&&-1!==t&&(this._valueBeforeCascade=this._old),-1!==t||e?((e||0===e)&&(n=this._dataValue(e),text=this._text(e)),null===n&&(n="")):(this.options.syncValueAndText?n=text=this.options.dataTextField===this.options.dataValueField?this._accessor():this.input[0].value:text=this.text(),this.listView.focus(-1)),this._setDomInputValue(text),this._accessor(void 0!==n?n:text,t),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(text){var e,t=this,n=c(this.input);if(n&&n.length&&(e=n[0]),this._prev=this.input[0].value=text,e&&-1===this.selectedIndex){var r=h.mobileOS;r.wp||r.android?setTimeout((function(){t.input[0].setSelectionRange(e,e)}),0):this.input[0].setSelectionRange(e,e)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var e=this.element.is(":disabled")||this.element.is("[readonly]");this.text()&&!e?this._showClear():this._hideClear()},suggest:function(e){var t,element=this.input[0],n=this.text(),r=c(element)[0],l=this._last,h=this.dataSource.options.accentFoldingFiltering;l!=m.BACKSPACE&&l!=m.DELETE?("string"!=typeof(e=e||"")&&(e[0]&&(e=this.dataSource.view()[o.inArray(e[0],this.ul[0])]),e=e?this._text(e):""),r<=0&&(r=(h?n.toLocaleLowerCase(h):n.toLowerCase()).indexOf(h?e.toLocaleLowerCase(h):e.toLowerCase())+1),e?(e=e.toString(),(t=(h?e.toLocaleLowerCase(h):e.toLowerCase()).indexOf(h?n.toLocaleLowerCase(h):n.toLowerCase()))>-1&&(n+=e.substring(t+n.length))):n=n.substring(0,r),n.length===r&&e||(element.value=n,element===f()&&c(element,r,n.length))):this._last=void 0},text:function(text){text=null===text?"":text;var e,t,n=this,input=n.input[0],r=n.options.ignoreCase,l=text;if(void 0===text)return input.value;!1!==n.options.autoBind||n.listView.bound()?(e=n.dataItem())&&n._text(e).replace&&n._text(e).replace(C,"")===text&&(t=n._value(e))===o.unifyType(n._old,typeof t)?n._triggerCascade():(r&&(l=l.toLowerCase()),n.dataItem()&&n._text(n.dataItem())===text||(n._select((function(data){return data=n._text(data),r&&(data=(data+"").toLowerCase()),data===l})).done((function(){n.selectedIndex<0&&(input.value=text,n.options.syncValueAndText&&n._accessor(text),n._cascadeTriggered=!0,n._triggerCascade()),n._prev=input.value})),n._toggleCloseVisibility())):n._setText(text)},toggle:function(e){this._toggle(e,!0)},value:function(e){var t=this,n=t.options,r=t.listView;if(void 0===e)return null==(e=t._accessor()||t.listView.value()[0])?"":e;t.requireValueMapper(t.options,e),t.trigger("set",{value:e}),e===n.value&&t.input.val()===n.text||(t._accessor(e),t._isFilterEnabled()&&r.bound()&&r.isFiltered()?t._clearFilter():t._fetchData(),r.value(e).done((function(){-1!==t.selectedIndex||r._selectedDataItems&&r._selectedDataItems.length||(t._accessor(e),t.input.val(e),t._placeholder(!0)),t._old=t._valueBeforeCascade=t._accessor(),t._oldIndex=t.selectedIndex,t._prev=t.input.val(),"filter"===t._state&&(t._state="accept"),t._toggleCloseVisibility()})))},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass("k-i-loading"),this._focused.attr("aria-busy",!1),this._busy=null,this._toggleCloseVisibility()},_click:function(e){var t=this,n=e.item,r=t.listView.dataItemByIndex(t.listView.getElementIndex(n)),l=!0;e.preventDefault(),r&&((l=t._value(r)!==o.unifyType(t.value(),typeof t._value(r)))||t.input.val(t._text(r))),l&&t.trigger("select",{dataItem:r,item:n})?t.close():(t._userTriggered=!0,t._select(n).done((function(){t._blur()})))},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(e){var t=this,n=t.options,r=t.dataSource,o=n.ignoreCase;if(o&&(e=e.toLowerCase()),t.ul[0].firstChild){this.listView.focus(this._get((function(n){var text=t._text(n);if(void 0!==text)return(""==(text+="")||""!==e)&&(o&&(text=text.toLowerCase()),0===text.indexOf(e))})));var l=this.listView.focus();l&&(n.suggest&&t.suggest(l),this.open()),this.options.highlightFirst&&!e&&this.listView.focusFirst()}else r.one("change",(function(){r.view()[0]&&t.search(e)})).fetch()},_input:function(){var input,t,element=this.element.removeClass("k-input")[0],n=element.accessKey,r=this.wrapper,o=element.name||"";o&&(o='name="'+o+'_input" '),(input=r.find("input.k-input"))[0]||(r.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+o+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),input=r.find("input.k-input")),input[0].style.cssText=element.style.cssText,input[0].title=element.title,(t=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10))>-1&&(input[0].maxLength=t),input.addClass(element.className).css({width:"",height:element.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),d&&input.attr("placeholder",this.options.placeholder),n&&(element.accessKey="",input[0].accessKey=n),this._focused=this.input=input,this._inputWrapper=e(r[0].firstChild),this._arrow=r.find(".k-select").attr({role:"button",tabIndex:-1}),this._arrowIcon=this._arrow.find(".k-icon"),element.id&&this._arrow.attr("aria-controls",this.ul[0].id)},_clearButton:function(){o.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-combobox-clearable"))},_keydown:function(e){var t=this,n=e.keyCode;if(t._last=n,clearTimeout(t._typingTimeout),t._typingTimeout=null,n===m.HOME)t._firstItem();else if(n===m.END)t._lastItem();else if(n===m.ENTER||n===m.TAB&&t.popup.visible()){var r=t.listView.focus(),l=t.dataItem(),c=!0;if(t.popup.visible()||l&&t.text()===t._text(l)||(r=null),r){if(t.popup.visible()&&e.preventDefault(),(l=t.listView.dataItemByIndex(t.listView.getElementIndex(r)))&&(c=t._value(l)!==o.unifyType(t.value(),typeof t._value(l))),c&&t.trigger("select",{dataItem:l,item:r}))return;t._userTriggered=!0,t._select(r).done((function(){t._blur(),t._valueBeforeCascade=t._old=t.value()}))}else(t._syncValueAndText()||t._isSelect)&&t._accessor(t.input.val()),t.listView.value(t.input.val()),t._blur()}else n==m.TAB||t._move(e)?n===m.ESC&&!t.popup.visible()&&t.text()&&t._clearValue():t._search()},_placeholder:function(e){if(!d){var t,input=this.input,n=this.options.placeholder;if(n){if(t=this.value(),void 0===e&&(e=!t),input.toggleClass("k-readonly",e),!e){if(t)return;n=""}input.val(n),n||input[0]!==f()||c(input[0],0,0)}}},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){var t=e.text();e._prev!==t&&(e._prev=t,"none"===e.options.filter&&e.options.virtual&&e.listView.select(-1),e.search(t),e._toggleCloseVisibility()),e._typingTimeout=null}),e.options.delay)},_setText:function(text){this.input.val(text),this._prev=text},_wrapper:function(){var element=this.element,e=element.parent();e.is("span.k-widget")||((e=element.hide().wrap("<span />").parent())[0].style.cssText=element[0].style.cssText),this.wrapper=e.addClass("k-widget k-combobox").addClass(element[0].className).css("display","")},_clearSelection:function(e,t){var n=e.value(),r=n&&-1===e.selectedIndex;-1==this.selectedIndex&&this.value()||(t||!n||r)&&(this.options.value="",this.value(""))},_preselect:function(e,text){this.input.val(text),this._accessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._placeholder(),this._initialIndex=null,this._presetValue=!0,this._toggleCloseVisibility()},_clearValue:function(){l.fn._clearValue.call(this),this.input.focus()}});r.plugin(S)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1312)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1041:function(e,t){e.exports=n(8)},1312:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.proxy,l=Math.abs,c="k-state-selected",h="k-state-selecting",d="k-state-unselecting",f=n.support.browser.msie,m=!1;!function(e){e('<div class="parent"><span /></div>').on("click",">*",(function(){m=!0})).find("span").trigger("click").end().off()}(e);var v=r.extend({init:function(element,t){var l;r.fn.init.call(this,element,t),this._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),this._lastActive=null,this.element.addClass("k-selectable"),this.relatedTarget=this.options.relatedTarget,l=this.options.multiple,this.options.aria&&l&&this.element.attr("aria-multiselectable",!0),this.userEvents=new n.UserEvents(this.element,{global:!0,allowSelection:!0,filter:(m?"":".k-selectable ")+this.options.filter,tap:o(this._tap,this),touchAction:l?"none":"pan-x pan-y"}),l&&this.userEvents.bind("start",o(this._start,this)).bind("move",o(this._move,this)).bind("end",o(this._end,this)).bind("select",o(this._select,this))},events:["change","unselect"],options:{name:"Selectable",filter:">*",inputSelectors:"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap",multiple:!1,relatedTarget:e.noop},_isElement:function(e){var t,n=this.element,r=n.length,o=!1;for(e=e[0],t=0;t<r;t++)if(n[t]===e){o=!0;break}return o},_tap:function(t){var n,r=e(t.target),o=t.event.ctrlKey||t.event.metaKey,l=this.options.multiple,h=l&&t.event.shiftKey,d=t.event.which,f=t.event.button;!this._isElement(r.closest(".k-selectable"))||d&&3==d||f&&2==f||this._allowSelection(t.event.target)&&(n=r.hasClass(c),l&&o||this.clear(),r=r.add(this.relatedTarget(r)),h?this.selectRange(this._firstSelectee(),r,t):(n&&o?(this._unselect(r),this._notify("change",t)):this.value(r,t),this._lastActive=this._downTarget=r))},_start:function(t){var n,r=e(t.target),o=r.hasClass(c),l=t.event.ctrlKey||t.event.metaKey;this._allowSelection(t.event.target)&&(this._downTarget=r,this._isElement(r.closest(".k-selectable"))?(this.options.useAllItems?this._items=this.element.find(this.options.filter):(n=r.closest(this.element),this._items=n.find(this.options.filter)),t.sender.capture(),this._marquee.appendTo(document.body).css({left:t.x.client+1,top:t.y.client+1,width:0,height:0}),l||this.clear(),r=r.add(this.relatedTarget(r)),o&&(this._selectElement(r,!0),l&&r.addClass(d))):this.userEvents.cancel())},_move:function(e){var t={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:l(e.x.initialDelta),height:l(e.y.initialDelta)};this._marquee.css(t),this._invalidateSelectables(t,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(e){this._marquee.remove(),this._unselect(this.element.find(this.options.filter+"."+d)).removeClass(d);var t=this.element.find(this.options.filter+"."+h);t=t.add(this.relatedTarget(t)),this.value(t,e),this._lastActive=this._downTarget,this._items=null},_invalidateSelectables:function(e,t){var n,r,o,l,f=this._downTarget[0],m=this._items;for(n=0,r=m.length;n<r;n++)o=(l=m.eq(n)).add(this.relatedTarget(l)),_(l,e)?l.hasClass(c)?t&&f!==l[0]&&o.removeClass(c).addClass(d):l.hasClass(h)||l.hasClass(d)||o.addClass(h):l.hasClass(h)?o.removeClass(h):t&&l.hasClass(d)&&o.removeClass(d).addClass(c)},value:function(e,t){var n=o(this._selectElement,this);return e?(e.each((function(){n(this)})),void this._notify("change",t)):this.element.find(this.options.filter+"."+c)},_firstSelectee:function(){var e;return null!==this._lastActive?this._lastActive:(e=this.value()).length>0?e[0]:this.element.find(this.options.filter)[0]},_selectElement:function(element,t){var n=e(element),r=!t&&this._notify("select",{element:element});n.removeClass(h),r||(n.addClass(c),this.options.aria&&n.attr("aria-selected",!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(element){if(!this.trigger("unselect",{element:element}))return element.removeClass(c),this.options.aria&&element.attr("aria-selected",!1),element},_select:function(t){this._allowSelection(t.event.target)&&(!f||f&&!e(n._activeElement()).is(this.options.inputSelectors))&&t.preventDefault()},_allowSelection:function(t){return!e(t).is(this.options.inputSelectors)||(this.userEvents.cancel(),this._downTarget=null,!1)},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var e=this.element.find(this.options.filter+"."+c);this._unselect(e)},selectRange:function(t,n,r){var o,l,c;for(this.clear(),this.element.length>1&&(c=this.options.continuousItems()),c&&c.length||(c=this.element.find(this.options.filter)),(t=e.inArray(e(t)[0],c))>(n=e.inArray(e(n)[0],c))&&(l=t,t=n,n=l),this.options.useAllItems||(n+=this.element.length-1),o=t;o<=n;o++)this._selectElement(c[o]);this._notify("change",r)},destroy:function(){r.fn.destroy.call(this),this.element.off(".kendoSelectable"),this.userEvents.destroy(),this._marquee=this._lastActive=this.element=this.userEvents=null}});function _(element,e){if(!element.is(":visible"))return!1;var t=n.getOffset(element),r=e.left+e.width,o=e.top+e.height;return t.right=t.left+n._outerWidth(element),t.bottom=t.top+n._outerHeight(element),!(t.left>r||t.right<e.left||t.top>o||t.bottom<e.top)}v.parseOptions=function(e){var t="string"==typeof e&&e.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}},n.ui.plugin(v)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1293)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1062:function(e,t){e.exports=n(5)},1293:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=e.proxy,c=n.isFunction,h=e.extend,d=o.extend({init:function(element,e){o.fn.init.call(this,element,e),this.orientation="vertical"!=this.options.orientation.toLowerCase()?"horizontal":"vertical",this._positionMouse="horizontal"==this.orientation?"x":"y",this._position="horizontal"==this.orientation?"left":"top",this._sizingDom="horizontal"==this.orientation?"outerWidth":"outerHeight",this.draggable=new r.Draggable(e.draggableElement||element,{distance:1,filter:e.handle,drag:l(this._resize,this),dragcancel:l(this._cancel,this),dragstart:l(this._start,this),dragend:l(this._stop,this)}),this.userEvents=this.draggable.userEvents},events:["resize","resizeend","start"],options:{name:"Resizable",orientation:"horizontal"},resize:function(){},_max:function(e){var t=this.hint?this.hint[this._sizingDom]():0,n=this.options.max;return c(n)?n(e):void 0!==n?this._initialElementPosition+n-t:n},_min:function(e){var t=this.options.min;return c(t)?t(e):void 0!==t?this._initialElementPosition+t:t},_start:function(t){var n=this.options.hint,r=e(t.currentTarget);this._initialElementPosition=r.position()[this._position],this._initialMousePosition=t[this._positionMouse].startLocation,n&&(this.hint=c(n)?e(n(r)):n,this.hint.css({position:"absolute"}).css(this._position,this._initialElementPosition).appendTo(this.element)),this.trigger("start",t),this._maxPosition=this._max(t),this._minPosition=this._min(t),e(document.body).css("cursor",r.css("cursor"))},_resize:function(e){var t,n=this._maxPosition,r=this._minPosition,o=this._initialElementPosition+(e[this._positionMouse].location-this._initialMousePosition);t=void 0!==r?Math.max(r,o):o,this.position=t=void 0!==n?Math.min(n,t):t,this.hint&&this.hint.toggleClass(this.options.invalidClass||"",t==n||t==r).css(this._position,t),this.resizing=!0,this.trigger("resize",h(e,{position:t}))},_stop:function(t){this.hint&&this.hint.remove(),this.resizing=!1,this.trigger("resizeend",h(t,{position:this.position})),e(document.body).css("cursor","")},_cancel:function(e){this.hint&&(this.position=void 0,this.hint.css(this._position,this._initialElementPosition),this._stop(e))},destroy:function(){o.fn.destroy.call(this),this.draggable&&this.draggable.destroy()},press:function(e){if(e){var t=e.position();this.userEvents.press(t.left,t.top,e[0]),this.targetPosition=t,this.target=e}},move:function(e){var t=this._position,n=this.targetPosition,r=this.position;void 0===r&&(r=n[t]),n[t]=r+e,this.userEvents.move(n.left,n.top)},end:function(){this.userEvents.end(),this.target=this.position=void 0}});n.ui.plugin(d)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1139)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1014:function(e,t){e.exports=n(91)},1061:function(e,t){e.exports=n(26)},1123:function(e,t){e.exports=n(32)},1139:function(e,t,n){var r,o,l;n(3),o=[n(1123),n(1140),n(1014),n(1061)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=e.extend,c=n.support.browser.msie&&n.support.browser.version<9,h=n.isFunction,d=e.isPlainObject,f=e.inArray,m=".",v=n.support.browser.chrome?"disabled":"off",_=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,w=["url","email","number","date","boolean"];function y(t){return(t=null!=t?t:"").type||e.type(t)||"string"}function x(e){var t,r,o=(e.model.fields||e.model)[e.field],l=y(o),c=o?o.validation:{},_=n.attr("type"),x=n.attr("bind"),k={name:e.field,title:e.title?e.title:e.field};for(t in c){if(r=c[t],f(t,w)>=0)k[_]=t;else if(!h(r)){var C=n.getCulture();if("number"==typeof r&&C.name.length){var S=C.numberFormat,T=r.toString().replace(m,S[m]);k[t]=T}else k[t]=d(r)?r.value||t:r}k[n.attr(t+"-msg")]=r.message,k.autocomplete=v}return f(l,w)>=0&&(k[_]=l),k[x]=("boolean"===l?"checked:":"value:")+e.field,k}function k(e,t){var n=e.attr("id");return n&&(t.id=n,e.removeAttr("id")),t}var C={number:function(t,r){var o=x(r);e('<input type="text"/>').attr(o).appendTo(t).kendoNumericTextBox({format:r.format}),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,r){var o=x(r),l=r.format;l&&(l=n._extractFormat(l)),o[n.attr("format")]=l,e('<input type="text"/>').attr(o).appendTo(t).kendoDatePicker({format:r.format}),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,n){var r=x(n);e('<input type="text" class="k-textbox"/>').attr(r).appendTo(t)},boolean:function(t,n){var r=x(n);e('<input type="checkbox" />').attr(r).appendTo(t)},values:function(t,r){var o=x(r),l=n.stringify(function(e){var t,n,r,o,text,l;if(e&&e.length)for(l=[],t=0,n=e.length;t<n;t++)text=(r=e[t]).text||r.value||r,o=null==r.value?r.text||r:r.value,l[t]={text:text,value:o};return l}(r.values));e("<select "+n.attr("text-field")+'="text"'+n.attr("value-field")+'="value"'+n.attr("source")+"='"+(l?l.replace(/\'/g,"&apos;"):l)+"'"+n.attr("role")+'="dropdownlist"/>').attr(o).appendTo(t),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},S={number:function(t,n){var r=x(n);r=k(t,r),e('<input type="number"/>').attr(r).appendTo(t)},date:function(t,n){var r=x(n);r=k(t,r),e('<input type="date"/>').attr(r).appendTo(t)},string:function(t,n){var r=x(n);r=k(t,r),e('<input type="text" />').attr(r).appendTo(t)},boolean:function(t,n){var r=x(n);r=k(t,r),e('<input type="checkbox" />').attr(r).appendTo(t)},values:function(t,n){var r=x(n),o=n.values,select=e("<select />");for(var l in r=k(t,r),o)e('<option value="'+o[l].value+'">'+o[l].text+"</option>").appendTo(select);select.attr(r).appendTo(t)}};function T(e,t){var n,r,o=e&&e.validation||{};for(n in o)r=o[n],d(r)&&r.value&&(r=r.value),h(r)&&(t[n]=r)}var D=o.extend({init:function(element,t){t.target&&(t.$angular=t.target.options.$angular,t.target.pane&&(this._isMobile=!0)),o.fn.init.call(this,element,t),this._validateProxy=e.proxy(this._validate,this),this.refresh()},events:["change"],options:{name:"Editable",editors:C,mobileEditors:S,clearContainer:!0,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-i-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',skipFocus:!1},editor:function(e,t){var r=this._isMobile?S:this.options.editors,o=d(e),c=o?e.field:e,h=this.options.model||{},f=o&&e.values?"values":y(t),m=o&&e.editor,v=m?e.editor:r[f],w=this.element.find("["+n.attr("container-for")+"="+c.replace(_,"\\$1")+"]");v=v||r.string,m&&"string"==typeof e.editor&&(v=function(t){t.append(e.editor)}),v(w=w.length?w:this.element,l(!0,{},o?e:{field:c},{model:h}))},_validate:function(t){var input,r=t.value,o=this._validationEventInProgress,l={},c=n.attr("bind"),h=t.field.replace(_,"\\$1"),d=new RegExp("(value|checked)\\s*:\\s*"+h+"\\s*(,|$)");l[t.field]=t.value,(input=e(":input["+c+'*="'+h+'"]',this.element).filter("["+n.attr("validate")+"!='false']").filter((function(){return d.test(e(this).attr(c))}))).length>1&&(input=input.filter((function(){var element=e(this);return!element.is(":radio")||element.val()==r})));try{this._validationEventInProgress=!0,(!this.validatable.validateInput(input)||!o&&this.trigger("change",{values:l}))&&t.preventDefault()}finally{this._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;e.angular("cleanup",(function(){return{elements:e.element}})),o.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),e.options.model.unbind("equalSet",e._validateProxy),n.unbind(e.element),e.validatable&&e.validatable.destroy(),n.destroy(e.element),e.element.removeData("kendoValidator"),e.element.is("["+n.attr("role")+"=editable]")&&e.element.removeAttr(n.attr("role"))},refresh:function(){var t,r,o,l,h,f,m=this.options.fields||[],v=this.options.clearContainer?this.element.empty():this.element,_=this.options.model||{},w={};for(e.isArray(m)||(m=[m]),t=0,r=m.length;t<r;t++)o=m[t],l=d(o)?o.field:o,T(h=(_.fields||_)[l],w),this.editor(o,h);if(this.options.target&&this.angular("compile",(function(){return{elements:v,data:v.map((function(){return{dataItem:_}}))}})),!r)for(l in f=_.fields||_)T(f[l],w);if(function(t){t.find(":input:not(:button, .k-combobox .k-input, ["+n.attr("role")+"=listbox], ["+n.attr("role")+"=upload], ["+n.attr("skip")+"], [type=file])").each((function(){var t=n.attr("bind"),r=this.getAttribute(t)||"",o="checkbox"===this.type||"radio"===this.type?"checked:":"value:",l=this.name;-1===r.indexOf(o)&&l&&(r+=(r.length?",":"")+o+l,e(this).attr(t,r))}))}(v),this.validatable&&this.validatable.destroy(),n.bind(v,this.options.model),this.options.model.unbind("set",this._validateProxy),this.options.model.bind("set",this._validateProxy),this.options.model.unbind("equalSet",this._validateProxy),this.options.model.bind("equalSet",this._validateProxy),this.validatable=new n.ui.Validator(v,{validateOnBlur:!1,errorTemplate:this.options.errorTemplate||void 0,rules:w}),!this.options.skipFocus){var y=v.find(":kendoFocusable").eq(0).focus();c&&y.focus()}}});r.plugin(D)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1140:function(e,t){e.exports=n(33)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(902)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},859:function(e,t){e.exports=n(7)},902:function(e,t,n){var r,o,l;n(3),o=[n(859),n(903)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=Math,r=n.abs,o=n.atan,l=n.atan2,c=n.cos,h=n.max,d=n.min,f=n.sin,m=n.tan,v=window.kendo,_=v.Class,w=v.dataviz,y=v.deepExtend,x=v.drawing.util,k=x.defined,C=x.deg,S=x.rad,T=x.round,D=x.valueOrDefault,E=v.util.sqr,A=_.extend({init:function(e,t){1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=t)},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(e){return e&&e.lat===this.lat&&e.lng===this.lng},clone:function(){return new A(this.lat,this.lng)},round:function(e){return this.lng=T(this.lng,e),this.lat=T(this.lat,e),this},wrap:function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},distanceTo:function(e,t){return this.greatCircleTo(e,t).distance},destination:function(e,t,r){t=S(t),r=r||w.map.datums.WGS84;var o=S(this.lat),h=S(this.lng),d=e/v.dataviz.map.datums.WGS84.a,m=n.asin(f(o)*c(d)+c(o)*f(d)*c(t)),_=h+l(f(t)*f(d)*c(o),c(d)-f(o)*f(m));return new A(C(m),C(_))},greatCircleTo:function(e,t){if(e=A.create(e),t=t||w.map.datums.WGS84,!e||this.clone().round(8).equals(e.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var h,d,v,_,y,x,k,D,a=t.a,b=t.b,I=t.f,M=S(e.lng-this.lng),R=o((1-I)*m(S(this.lat))),F=f(R),P=c(R),z=o((1-I)*m(S(e.lat))),B=f(z),L=c(z),H=M,i=this.DISTANCE_ITERATIONS,N=!1;!N&&i-- >0;){d=f(H),v=c(H),_=n.sqrt(E(L*d)+E(P*B-F*L*v)),D=l(_,x=F*B+P*L*v);var O=P*L*d/_;k=0,0!=(y=1-E(O))&&(k=x-2*F*B/y),h=H;var V=I/16*y*(4+I*(4-3*y));H=M+(1-V)*I*O*(D+V*_*(k+V*x*(2*E(k)-1))),N=r(H-h)<=this.DISTANCE_CONVERGENCE}var W=y*(E(a)-E(b))/E(b),U=1+W/16384*(4096+W*(W*(320-175*W)-768)),j=W/1024*(256+W*(W*(74-47*W)-128)),G=j*_*(k+j/4*(x*(2*E(k)-1)-j/6*k*(4*E(_)-3)*(4*E(k)-3))),$=l(L*d,P*B-F*L*v),Y=l(P*d,-F*L+P*B*v);return{distance:T(b*U*(D-G),this.DISTANCE_PRECISION),azimuthFrom:C($),azimuthTo:C(Y)}}});A.fn.toString=function(){return v.format(this.FORMAT,this.lat,this.lng)},A.fromLngLat=function(e){return new A(e[1],e[0])},A.fromLatLng=function(e){return new A(e[0],e[1])},A.create=function(a,b){if(k(a))return a instanceof A?a.clone():1===arguments.length&&2===a.length?A.fromLatLng(a):new A(a,b)};var I=_.extend({init:function(e,t){e=A.create(e),t=A.create(t),e.lng+180>t.lng+180&&e.lat+90<t.lat+90?(this.se=e,this.nw=t):(this.se=t,this.nw=e)},contains:function(e){var t=this.nw,n=this.se,r=D(e.lng,e[1]),o=D(e.lat,e[0]);return e&&r+180>=t.lng+180&&r+180<=n.lng+180&&o+90>=n.lat+90&&o+90<=t.lat+90},center:function(){var e=this.nw,t=this.se,n=e.lng+(t.lng-e.lng)/2,r=e.lat+(t.lat-e.lat)/2;return new A(r,n)},containsAny:function(e){for(var t=!1,i=0;i<e.length;i++)t=t||this.contains(e[i]);return t},include:function(e){var t=this.nw,n=this.se,r=D(e.lng,e[1]),o=D(e.lat,e[0]);t.lng=d(t.lng,r),t.lat=h(t.lat,o),n.lng=h(n.lng,r),n.lat=d(n.lat,o)},includeAll:function(e){for(var i=0;i<e.length;i++)this.include(e[i])},edges:function(){var e=this.nw,t=this.se;return{nw:this.nw,ne:new A(e.lat,t.lng),se:this.se,sw:new A(t.lat,e.lng)}},toArray:function(){var e=this.nw,t=this.se;return[e,new A(e.lat,t.lng),t,new A(t.lat,e.lng)]},overlaps:function(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())}});I.World=new I([90,-180],[-90,180]),I.create=function(a,b){return a instanceof I?a:a&&b?new I(a,b):a&&4===a.length&&!b?new I([a[0],a[1]],[a[2],a[3]]):void 0},y(w,{map:{Extent:I,Location:A}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},903:function(e,t){e.exports=n(51)}})},,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1218)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1039:function(e,t){e.exports=n(4)},1218:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1039)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n._outerHeight,l=/^\d+(\.\d+)?%$/i,c=r.Widget,h=n.keys,d=n.support,f=n.htmlEncode,m=n._activeElement,v=n._outerWidth,_=n.data.ObservableArray,w="change",y="k-state-hover",x=e.extend,k=e.proxy,C=e.isArray,S=d.browser,T=S.msie&&S.version<9,D=/"/g,E={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},A=n.ui.DataBoundWidget.extend({init:function(element,t){var r,o=this.ns;c.fn.init.call(this,element,t),element=this.element,t=this.options,this._isSelect=element.is("select"),this._isSelect&&this.element[0].length&&(t.dataSource||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),this.ul=e('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),this.list=e("<div class='k-list-container'/>").append(this.ul).on("mousedown"+o,k(this._listMousedown,this)),(r=element.attr("id"))||(r=n.guid()),this.list.attr("id",r+"-list"),this.ul.attr("id",r+"_listbox"),t.columns&&t.columns.length&&(this.ul.removeClass("k-list").addClass("k-grid-list"),this._columnsHeader()),this._header(),this._noData(),this._footer(),this._accessors(),this._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:!0,messages:{noData:"No data found.",clear:"clear"}},setOptions:function(e){c.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable),e.columns&&e.columns.length&&this._columnsHeader(),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)})},_header:function(){var header=e(this.header),template=this.options.headerTemplate;if(this._angularElement(header,"cleanup"),n.destroy(header),header.remove(),template){var t="function"!=typeof template?n.template(template):template;header=e(t({})),this.header=header[0]?header:null,this.list.prepend(header),this._angularElement(this.header,"compile")}else this.header=null},_columnsHeader:function(){var t=e(this.columnsHeader);this._angularElement(t,"cleanup"),n.destroy(t),t.remove();for(var header="<div class='k-grid-header'><div class='k-grid-header-wrap'><table role='presentation'>",r="<colgroup>",o="<tr>",c=0;c<this.options.columns.length;c++){var h=this.options.columns[c],title=h.title||h.field||"",template=h.headerTemplate||title,d="function"!=typeof template?n.template(template):template,f=h.width,m=parseInt(f,10),v="";f&&!isNaN(m)&&(v+="style='width:",v+=m,v+=l.test(f)?"%":"px",v+=";'"),r+="<col "+v+"/>",o+="<th class='k-header'>",o+=d(h),o+="</th>"}header+=r+="</colgroup>",header+=o+="</tr>",header+="</table></div></div>",this.columnsHeader=t=e(header),this.list.prepend(t),this._angularElement(this.columnsHeader,"compile")},_noData:function(){var t=e(this.noData),template=!0===this.options.noDataTemplate?this.options.messages.noData:this.options.noDataTemplate;this.angular("cleanup",(function(){return{elements:t}})),n.destroy(t),t.remove(),template?(this.noData=e('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof template?n.template(template):template):this.noData=null},_footer:function(){var footer=e(this.footer),template=this.options.footerTemplate;this._angularElement(footer,"cleanup"),n.destroy(footer),footer.remove(),template?(this.footer=e('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof template?n.template(template):template):this.footer=null},_listOptions:function(t){var r=this,o=r.options,l=o.virtual,c={change:k(r._listChange,r)},h=k(r._listBound,r);return l="object"==typeof l?l:{},(t=e.extend({autoBind:!1,selectable:!0,dataSource:r.dataSource,click:k(r._click,r),activate:k(r._activateItem,r),columns:o.columns,deactivate:k(r._deactivateItem,r),dataBinding:function(){r.trigger("dataBinding")},dataBound:h,height:o.height,dataValueField:o.dataValueField,dataTextField:o.dataTextField,groupTemplate:o.groupTemplate,fixedGroupTemplate:o.fixedGroupTemplate,template:o.template},t,l,c)).template||(t.template="#:"+n.expr(t.dataTextField,"data")+"#"),o.$angular&&(t.$angular=o.$angular),t},_initList:function(){var e=this._listOptions({selectedItemChange:k(this._listChange,this)});this.options.virtual?this.listView=new n.ui.VirtualList(this.ul,e):this.listView=new n.ui.StaticList(this.ul,e),this.listView.bind("listBound",k(this._listBound,this)),this._setListValue()},_setListValue:function(e){(e=e||this.options.value)!==t&&this.listView.value(e).done(k(this._updateSelectionState,this))},_updateSelectionState:e.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var filter=this.options.filter;return filter&&"none"!==filter},_hideClear:function(){this._clear&&this._clear.addClass("k-hidden")},_showClear:function(){this._clear&&this._clear.removeClass("k-hidden")},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isSelect&&(this._customOption=t),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._filter({word:"",open:!1}),this.options.highlightFirst&&this.listView.focus(0)),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(filter,e){var t=this.options,n=t.filterFields&&filter&&filter.logic&&filter.filters&&filter.filters.length,r=this.dataSource,o=x({},r.filter()||{}),l=filter||o.filters&&o.filters.length&&!filter,c=z(o,t.dataTextField);if(this._clearFilterExpressions(o),!filter&&!c||!this.trigger("filtering",{filter:filter})){var h={filters:[],logic:"and"};n?h.filters.push(filter):this._pushFilterExpression(h,filter),P(o)&&(h.logic===o.logic?h.filters=h.filters.concat(o.filters):h.filters.push(o)),this._cascading&&this.listView.setDSFilter(h);var d=x({},{page:l?1:r.page(),pageSize:l?r.options.pageSize:r.pageSize(),sort:r.sort(),filter:r.filter(),group:r.group(),aggregate:r.aggregate()},{filter:h});return r[e?"read":"query"](r._mergeState(d))}},_pushFilterExpression:function(e,filter){P(filter)&&""!==filter.value&&e.filters.push(filter)},_clearFilterExpressions:function(e){if(e.filters){for(var t,i=0;i<e.filters.length;i++)"fromFilter"in e.filters[i]&&(t=i);isNaN(t)||e.filters.splice(t,1)}},_angularElement:function(element,e){element&&this.angular(e,(function(){return{elements:element}}))},_renderNoData:function(){var e=this.noData;e&&(this._angularElement(e,"cleanup"),e.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(e,"compile"))},_toggleNoData:function(t){e(this.noData).toggle(t)},_toggleHeader:function(e){this.listView.content.prev(".k-group-header").toggle(e)},_renderFooter:function(){var footer=this.footer;footer&&(this._angularElement(footer,"cleanup"),footer.html(this.footerTemplate({instance:this})),this._angularElement(footer,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this.options.value;null!==e?this.element.val(e):(e=this._accessor(),this.options.value=e),this._old=e},_ignoreCase:function(){var e,t=this.dataSource.reader.model;t&&t.fields&&(e=t.fields[this.options.dataTextField])&&e.type&&"string"!==e.type&&(this.options.ignoreCase=!1)},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t,n=this.options,r=e.word,o=n.filterFields,l=n.dataTextField;if(o&&o.length){t={logic:"or",filters:[],fromFilter:!0};for(var i=0;i<o.length;i++)this._pushFilterExpression(t,this._buildExpression(r,o[i]))}else t=this._buildExpression(r,l);this._open=e.open,this._filterSource(t)},_buildExpression:function(e,t){var n=this.options,r=n.ignoreCase,o=this.dataSource.options.accentFoldingFiltering;return{value:r?o?e.toLocaleLowerCase(o):e.toLowerCase():e,field:t,operator:n.filter,ignoreCase:r}},_clearButton:function(){var t=this.options.messages.clear;this._clear||(this._clear=e('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+t+'"></span>').attr({role:"button",tabIndex:-1})),this.options.clearButton||this._clear.remove(),this._hideClear()},search:function(t){var n=this.options;t="string"==typeof t?t:this._inputValue(),clearTimeout(this._typingTimeout),(!n.enforceMinLength&&!t.length||t.length>=n.minLength)&&(this._state="filter",this.listView&&(this.listView._emptySearch=!e.trim(t).length),this._isFilterEnabled()?this._filter({word:t,open:!0}):this._searchByWord(t))},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this.ns;c.fn.destroy.call(this),this._unbindDataSource(),this.listView.destroy(),this.list.off(e),this.popup.destroy(),this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(n){if(n===t)return this.listView.selectedDataItems()[0];if("number"!=typeof n){if(this.options.virtual)return this.dataSource.getByUid(e(n).data("uid"));n=e(this.items()).index(n)}return this.dataSource.flatView()[n]},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var element=this.element,e=this.options,t=n.getter,r=element.attr(n.attr("text-field")),o=element.attr(n.attr("value-field"));!e.dataTextField&&r&&(e.dataTextField=r),!e.dataValueField&&o&&(e.dataValueField=o),this._text=t(e.dataTextField),this._value=t(e.dataValueField)},_aria:function(e){var n=this.options,element=this._focused.add(this.filterInput);n.suggest!==t&&element.attr("aria-autocomplete",n.suggest?"both":"list"),e=e?e+" "+this.ul[0].id:this.ul[0].id,element.attr("aria-owns",e),this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off"),this._ariaLabel()},_ariaLabel:function(){var t=this._focused,r=this.element,o=r.attr("id"),l=e('label[for="'+o+'"]'),c=r.attr("aria-label"),h=r.attr("aria-labelledby");if(t!==r)if(c)t.attr("aria-label",c);else if(h)t.attr("aria-labelledby",h);else if(l.length){var d=l.attr("id")||this._generateLabelId(l,o||n.guid());t.attr("aria-labelledby",d)}},_generateLabelId:function(label,e){var t=e+"_label";return label.attr("id",t),t},_blur:function(){this._change(),this.close()},_change:function(){var e,n=this.selectedIndex,r=this.options.value,o=this.value();this._isSelect&&!this.listView.bound()&&r&&(o=r),o!==I(this._old,typeof o)&&o!==I(this._oldText,typeof o)?e=!0:this._valueBeforeCascade!==t&&this._valueBeforeCascade!==I(this._old,typeof this._valueBeforeCascade)&&this._userTriggered?e=!0:n===t||n===this._oldIndex||this.listView.isFiltered()||(e=!0),e&&(null===this._old||""===this._old||""===o?this._valueBeforeCascade=this._old=o:this.dataItem()?this._valueBeforeCascade=this._old=this.options.dataValueField?this.dataItem()[this.options.dataValueField]:this.dataItem():this._valueBeforeCascade=this._old=null,this._oldIndex=n,this._oldText=this.text&&this.text(),this._typing||this.element.trigger(w),this.trigger(w)),this.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this.options,n=this.element.is("[disabled]");e.enable!==t&&(e.enabled=e.enable),!e.enabled||n?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(e){var n=this._value(e);return n===t&&(n=this._text(e)),n},_offsetHeight:function(){var t=0;return this.listView.content.prevAll(":visible").each((function(){var element=e(this);t+=o(element,!0)})),t},_height:function(t){var n,r=this.list,l=this.options.height,c=this.popup.visible();if(t||this.options.noDataTemplate){if(n=r.add(r.parent(".k-animation-container")).show(),!r.is(":visible"))return void n.hide();l=this.listView.content[0].scrollHeight>l?l:"auto",n.height(l),"auto"!==l&&(l=l-this._offsetHeight()-(o(e(this.footer))||0)),this.listView.content.height(l),c||n.hide()}return l},_openHandler:function(e){this._adjustListWidth(),this.trigger("open")?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var e,t,n=this.list,r=n[0].style.width,o=this.wrapper;if(n.data("width")||!r)return e=window.getComputedStyle?window.getComputedStyle(o[0],null):0,t=parseFloat(e&&e.width)||v(o),e&&S.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),r="border-box"!==n.css("box-sizing")?t-(v(n)-n.width()):t,n.css({fontFamily:o.css("font-family"),width:this.options.autoWidth?"auto":r,minWidth:r,whiteSpace:this.options.autoWidth?"nowrap":"normal"}).data("width",r),!0},_closeHandler:function(e){this.trigger("close")?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var e=this.listView,n=!e.focus(),r=R(e.select());r===t&&this.options.highlightFirst&&n&&(r=0),r!==t?e.focus(r):n&&e.scrollToIndex(0)},_calculateGroupPadding:function(e){var li=this.ul.children(".k-first:first"),t=this.listView.content.prev(".k-group-header"),r=0,o="right";t[0]&&"none"!==t[0].style.display&&("auto"!==e&&(r=n.support.scrollbar()),this.element.parents(".k-rtl").length&&(o="left"),r+=parseFloat(li.css("border-"+o+"-width"),10)+parseFloat(li.children(".k-group").css("padding-"+o),10),t.css("padding-"+o,r))},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t),this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){if(this.options.columns&&this.options.columns.length){var t=d.isRtl(this.wrapper),r=n.support.scrollbar();this.columnsHeader.css(t?"padding-left":"padding-right","auto"!==e?r:0)}},_refreshScroll:function(){var e=this.listView,t=e.element.height()>e.content.height();this.options.autoWidth&&e.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):(this.popup.one("open",function(e){return k((function(){this._calculatePopupHeight(e)}),this)}.call(this,e)),this.popup.one("activate",k(this._refreshScroll,this))))},_popup:function(){this.popup=new r.Popup(this.list,x({},this.options.popup,{anchor:this.wrapper,open:k(this._openHandler,this),close:k(this._closeHandler,this),animation:this.options.animation,isRtl:d.isRtl(this.wrapper),autosize:this.options.autoWidth}))},_makeUnselectable:function(){T&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(y,"mouseenter"===t.type)},_toggle:function(e,n){var r=d.mobileOS&&(d.touch||d.MSPointers||d.pointers);e=e!==t?e:!this.popup.visible(),n||r||this._focused[0]===m()||(this._prevent=!0,this._focused.focus(),this._prevent=!1),this[e?"open":"close"]()},_triggerCascade:function(){this._cascadeTriggered&&this.value()===I(this._cascadedValue,typeof this.value())||(this._cascadedValue=this.value(),this._cascadeTriggered=!0,this.trigger("cascade",{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(w)},_unbindDataSource:function(){this.dataSource.unbind("requestStart",this._requestStartHandler).unbind("requestEnd",this._requestEndHandler).unbind("error",this._errorHandler)},requireValueMapper:function(e,t){if(((e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t))&&e.virtual&&"function"!=typeof e.virtual.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function I(e,n){return e!==t&&""!==e&&null!==e&&("boolean"===n?("boolean"!=typeof e&&(e="true"===e.toLowerCase()),e=Boolean(e)):"number"===n?e=Number(e):"string"===n&&(e=e.toString())),e}x(A,{inArray:function(e,t){var n,r,o=t.children;if(!e||e.parentNode!==t)return-1;for(n=0,r=o.length;n<r;n++)if(e===o[n])return n;return-1},unifyType:I}),n.ui.List=A,r.Select=A.extend({init:function(element,e){A.fn.init.call(this,element,e),this._initial=this.element.val()},setDataSource:function(e){var t;this.options.dataSource=e,this._dataSource(),this.listView.bound()&&(this._initialIndex=null,this.listView._current=null),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch(),(t=this._parentWidget())&&this._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var n=this;return e===t?n.selectedIndex:n._select(e).done((function(){n._cascadeValue=n._old=n._accessor(),n._oldIndex=n.selectedIndex}))},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var element=this.element[0];if(e===t)return element.value;null===e&&(e=""),element.value=e},_accessorSelect:function(e,n){var element=this.element[0];if(e===t)return F(element).value||"";F(element).selected=!1,n===t&&(n=-1),null!==e&&""!==e&&-1==n?this._custom(e):e?element.value=e:element.selectedIndex=n},_syncValueAndText:function(){return!0},_custom:function(t){var element=this.element,n=this._customOption;n||(n=e("<option/>"),this._customOption=n,element.append(n)),n.text(t),n[0].selected=!0},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass("k-i-loading"),this._focused.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(e){var t=this;e.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout((function(){t._arrowIcon&&(t._focused.attr("aria-busy",!0),t._arrowIcon.addClass("k-i-loading"),t._hideClear())}),100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var t,element=this.element,r=this.options,o=r.dataSource||{};o=e.isArray(o)?{data:o}:o,this._isSelect&&((t=element[0].selectedIndex)>-1&&(r.index=t),o.select=element,o.fields=[{field:r.dataTextField},{field:r.dataValueField}]),this.dataSource?this._unbindDataSource():(this._requestStartHandler=k(this._showBusy,this),this._requestEndHandler=k(this._requestEnd,this),this._errorHandler=k(this._hideBusy,this)),this.dataSource=n.data.DataSource.create(o).bind("requestStart",this._requestStartHandler).bind("requestEnd",this._requestEndHandler).bind("error",this._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(e){var t,n,r,o=this,l=o.listView,c=e.keyCode,d=c===h.DOWN;if(c===h.UP||d){if(e.altKey)o.toggle(d);else{if(!l.bound()&&!o.ul[0].firstChild)return o._fetch||(o.dataSource.one(w,(function(){o._fetch=!1,o._move(e)})),o._fetch=!0,o._filterSource()),e.preventDefault(),!0;if(r=o._focus(),o._fetch||r&&!r.hasClass("k-state-selected")||(d?(o._nextItem(),o._focus()||o._lastItem()):(o._prevItem(),o._focus()||o._firstItem())),t=l.dataItemByIndex(l.getElementIndex(o._focus())),o.trigger("select",{dataItem:t,item:o._focus()}))return void o._focus(r);o._select(o._focus(),!0).done((function(){o.popup.visible()||o._blur(),null===o._cascadedValue?o._cascadedValue=o.value():o._cascadedValue=o.dataItem()?o.dataItem()[o.options.dataValueField]||o.dataItem():null}))}e.preventDefault(),n=!0}else if(c===h.ENTER||c===h.TAB){o.popup.visible()&&e.preventDefault(),r=o._focus(),t=o.dataItem(),o.popup.visible()||t&&o.text()===o._text(t)||(r=null);var f,v=o.filterInput&&o.filterInput[0]===m();if(r){var _=!0;if((t=l.dataItemByIndex(l.getElementIndex(r)))&&(_=o._value(t)!==A.unifyType(o.value(),typeof o._value(t))),_&&o.trigger("select",{dataItem:t,item:r}))return;f=o._select(r)}else o.input&&((o._syncValueAndText()||o._isSelect)&&o._accessor(o.input.val()),o.listView.value(o.input.val()));o._focusElement&&o._focusElement(o.wrapper),v&&c===h.TAB?o.wrapper.focusout():f&&"function"==typeof f.done?f.done((function(){o._blur()})):o._blur(),o.close(),n=!0}else if(c===h.ESC)o.popup.visible()&&e.preventDefault(),o.close(),n=!0;else if(o.popup.visible()&&(c===h.PAGEDOWN||c===h.PAGEUP)){e.preventDefault();var y=c===h.PAGEDOWN?1:-1;l.scrollWith(y*l.screenHeight()),n=!0}return n},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done((function(){e._fetch=!1})))},_options:function(data,e,n){var option,r,o,l,element=this.element,c=element[0],h=data.length,d="",m=0;for(e&&(d=e);m<h;m++)option="<option",r=data[m],o=this._text(r),(l=this._value(r))!==t&&(-1!==(l+="").indexOf('"')&&(l=l.replace(D,"&quot;")),option+=' value="'+l+'"'),option+=">",o!==t&&(option+=f(o)),d+=option+="</option>";element.html(d),n!==t&&(c.value=n,c.value&&!n&&(c.selectedIndex=-1)),-1!==c.selectedIndex&&(option=F(c))&&option.setAttribute("selected","selected")},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(t._initial)}))},t._form=form.on("reset",t._resetHandler))},_parentWidget:function(){var t=this.options.name;if(this.options.cascadeFrom){var n=e("#"+this.options.cascadeFrom),r=n.data("kendo"+t);if(!r)for(var i=0;i<E[t].length&&!(r=n.data("kendo"+E[t][i]));i+=1);return r}},_cascade:function(){var e,t=this,n=t.options;if(n.cascadeFrom){if(!(e=t._parentWidget()))return;t._cascadeHandlerProxy=k(t._cascadeHandler,t),t._cascadeFilterRequests=[],n.autoBind=!1,e.bind("set",(function(){t.one("set",(function(e){t._selectedValue=e.value||t._accessor()}))})),e.first("cascade",t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one("dataBound",(function(){t._toggleCascadeOnFocus(),e.popup.visible()&&e._focused.focus()})),e.value()||t.enable(!1))}},_toggleCascadeOnFocus:function(){var e=this,t=e._parentWidget();t._focused.add(t.filterInput).bind("focus",(function(){t.unbind("cascade",e._cascadeHandlerProxy),t.first(w,e._cascadeHandlerProxy)})),t._focused.add(t.filterInput).bind("focusout",(function(){t.unbind(w,e._cascadeHandlerProxy),t.first("cascade",e._cascadeHandlerProxy)}))},_cascadeHandler:function(e){var t=this._parentWidget(),n=this.value();this._userTriggered=e.userTriggered||t._userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,n)},_cascadeChange:function(e){var t=this._accessor()||this._selectedValue;this._cascadeFilterRequests.length||(this._selectedValue=null),this._userTriggered?this._clearSelection(e,!0):t?(t!==I(this.listView.value()[0],typeof t)&&this.value(t),this.dataSource.view()[0]&&-1!==this.selectedIndex||this._clearSelection(e,!0)):this.dataSource.flatView().length&&this.select(this.options.index),this.enable(),this._triggerCascade(),this._triggerChange(),this._userTriggered=!1},_cascadeSelect:function(e,n){var r=this,o=e.dataItem(),l=o?o[r.options.cascadeFromParentField]||e._value(o):null,c=r.options.cascadeFromField||e.options.dataValueField;if(r._valueBeforeCascade=n!==t?n:r.value(),l||0===l){z(r.dataSource.filter()||{},c);var h=function(){var t=r._cascadeFilterRequests.shift();t&&r.unbind("dataBound",t),(t=r._cascadeFilterRequests[0])&&r.first("dataBound",t),r._cascadeChange(e)};r._cascadeFilterRequests.push(h),1===r._cascadeFilterRequests.length&&r.first("dataBound",h),r._cascading=!0,r._filterSource({field:c,operator:"eq",value:l}),r._cascading=!1}else r.enable(!1),r._clearSelection(e),r._triggerCascade(),r._triggerChange(),r._userTriggered=!1}});var M=n.ui.DataBoundWidget.extend({init:function(element,t){c.fn.init.call(this,element,t),this.element.attr("role","listbox").on("click.StaticList","li",k(this._click,this)).on("mouseenter.StaticList","li",(function(){e(this).addClass(y)})).on("mouseleave.StaticList","li",(function(){e(this).removeClass(y)})),d.touch&&this._touchHandlers(),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=n.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var r=this.options.value;r&&(this._values=e.isArray(r)?r.slice(0):[r]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=k((function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout((function(){e._renderHeader()}),50)}),this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",w,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(source){var t,r=source||{};r=e.isArray(r)?{data:r}:r,r=n.data.DataSource.create(r),this.dataSource?(this.dataSource.unbind(w,this._refreshHandler),t=this.value(),this.value([]),this.bound(!1),this.value(t)):this._refreshHandler=k(this.refresh,this),this.setDSFilter(r.filter()),this.dataSource=r.bind(w,this._refreshHandler),this._fixedHeader()},_touchHandlers:function(){var t,n,r=this,o=function(e){return(e.originalEvent||e).changedTouches[0].pageY};r.element.on("touchstart.StaticList",(function(e){t=o(e)})),r.element.on("touchend.StaticList",(function(l){l.isDefaultPrevented()||(n=o(l),Math.abs(n-t)<10&&(r._touchTriggered=!0,r._triggerClick(e(l.target).closest(".k-item").get(0))))}))},skip:function(){return this.dataSource.skip()},setOptions:function(e){c.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(".StaticList"),this._refreshHandler&&this.dataSource.unbind(w,this._refreshHandler),clearTimeout(this._scrollId),c.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(e){e[0]&&(e=e[0]);var content=this.content[0],t=e.offsetTop,n=e.offsetHeight,r=content.scrollTop,o=content.clientHeight,l=t+n;r>t?r=t:l>r+o&&(r=l-o),content.scrollTop=r}},selectedDataItems:function(e){if(e===t)return this._dataItems.slice();this._dataItems=e,this._values=this._getValues(e)},_getValues:function(t){var n=this._valueGetter;return e.map(t,(function(e){return n(e)}))},focusNext:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},focusPrev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(R(this.element[0].children))},focus:function(n){var r,o=this._optionID;if(n===t)return this._current;n=R(this._get(n)),n=e(this.element[0].children[n]),this._current&&(this._current.removeClass("k-state-focused").removeAttr("id"),this.trigger("deactivate")),(r=!!n[0])&&(n.addClass("k-state-focused"),this.scroll(n),n.attr("id",o)),this._current=r?n:null,this.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():t},skipUpdate:function(e){this._skipUpdate=e},select:function(n){var r,o,l=this.options.selectable,c="multiple"!==l&&!1!==l,h=this._selectedIndices,d=[this.element.find(".k-state-selected").index()],f=[];if(n===t)return h.slice();1===(n=this._get(n)).length&&-1===n[0]&&(n=[]);var m=e.Deferred().resolve(),v=this.isFiltered();return v&&!c&&this._deselectFiltered(n)?m:c&&!v&&-1!==e.inArray(R(n),h)&&-1!==e.inArray(R(n),d)?(this._dataItems.length&&this._view.length&&(this._dataItems=[this._view[h[0]].item]),m):(r=(o=this._deselect(n)).removed,(n=o.indices).length&&(c&&(n=[R(n)]),f=this._select(n)),(f.length||r.length)&&(this._valueComparer=null,this.trigger(w,{added:f,removed:r})),m)},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(t){t=e.isArray(t)||t instanceof _?t.slice(0):[t],this._values=t,this._valueComparer=null},value:function(n){var r,o=this._valueDeferred;return n===t?this._values.slice():(this.setValue(n),o&&"resolved"!==o.state()||(this._valueDeferred=o=e.Deferred()),this.bound()&&(r=this._valueIndices(this._values),"multiple"===this.options.selectable&&this.select(-1),this.select(r),o.resolve()),this._skipUpdate=!1,o)},items:function(){return this.element.children(".k-item")},_click:function(e){this._touchTriggered?this._touchTriggered=!1:e.isDefaultPrevented()||this._triggerClick(e.currentTarget)},_triggerClick:function(t){this.trigger("click",{item:e(t)})||this.select(t)},_valueExpr:function(e,t){var body,n,r=0,o=[];if(!this._valueComparer||this._valueType!==e){for(this._valueType=e;r<t.length;r++)o.push(I(t[r],e));body="for (var idx = 0; idx < "+o.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",n=new Function("current","values",body),this._valueComparer=function(e){return n(e,o)}}return this._valueComparer},_dataItemPosition:function(e,t){var n=this._valueGetter(e);return this._valueExpr(typeof n,t)(n)},_getter:function(){this._valueGetter=n.getter(this.options.dataValueField)},_deselect:function(t){var n,r,o,l=this.element[0].children,c=this.options.selectable,h=this._selectedIndices,d=this._dataItems,f=this._values,m=[],i=0,v=0;if(t=t.slice(),!0!==c&&t.length){if("multiple"===c)for(;i<t.length;i++)if(r=t[i],e(l[r]).hasClass("k-state-selected"))for(n=0;n<h.length;n++)if((o=h[n])===r){e(l[o]).removeClass("k-state-selected").attr("aria-selected",!1),m.push({position:n+v,dataItem:d.splice(n,1)[0]}),h.splice(n,1),t.splice(i,1),f.splice(n,1),v+=1,i-=1,n-=1;break}}else{for(;i<h.length;i++)e(l[h[i]]).removeClass("k-state-selected").attr("aria-selected",!1),m.push({position:i,dataItem:d[i]});this._values=[],this._dataItems=[],this._selectedIndices=[]}return{indices:t,removed:m}},_deselectFiltered:function(t){for(var n,r,o,l=this.element[0].children,c=[],h=0;h<t.length;h++)r=t[h],n=this._view[r].item,(o=this._dataItemPosition(n,this._values))>-1&&(c.push(this.removeAt(o)),e(l[r]).removeClass("k-state-selected"));return!!c.length&&(this.trigger(w,{added:[],removed:c}),!0)},_select:function(t){var n,r,o=this.element[0].children,data=this._view,l=[],c=0;for(-1!==R(t)&&this.focus(t);c<t.length;c++)n=data[r=t[c]],-1!==r&&n&&(n=n.item,this._selectedIndices.push(r),this._dataItems.push(n),this._values.push(this._valueGetter(n)),e(o[r]).addClass("k-state-selected").attr("aria-selected",!0),l.push({dataItem:n}));return l},getElementIndex:function(element){return e(element).data("offset-index")},_get:function(e){return"number"==typeof e?e=[e]:C(e)||(e=[(e=this.getElementIndex(e))!==t?e:-1]),e},_template:function(){var e=this.options,template=e.template;return template?(template=n.template(template),template=function(data){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+template(data)+"</li>"}):template=n.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+n.expr(e.dataTextField,"data")+"}</li>",{useWithBlock:!1}),template},_templates:function(){var template,e=this.options,t={template:e.template,groupTemplate:e.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate};if(e.columns)for(var i=0;i<e.columns.length;i++){var r=e.columns[i],o=r.field?r.field.toString():"text";t["column"+i]=r.template||"#: "+o+"#"}for(var l in t)(template=t[l])&&"function"!=typeof template&&(t[l]=n.template(template));this.templates=t},_normalizeIndices:function(e){for(var n=[],r=0;r<e.length;r++)e[r]!==t&&n.push(e[r]);return n},_valueIndices:function(e,t){var n,data=this._view,r=0;if(t=t?t.slice():[],!e.length)return[];for(;r<data.length;r++)-1!==(n=this._dataItemPosition(data[r].item,e))&&(t[n]=r);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var element=this.element[0],t=this.content[0].scrollTop,n=e(element.children[0]).height(),r=Math.floor(t/n)||0,o=element.children[r]||element.lastChild,l=o.offsetTop<t;o;)if(l){if(o.offsetTop+n>t||!o.nextSibling)break;o=o.nextSibling}else{if(o.offsetTop<=t||!o.previousSibling)break;o=o.previousSibling}return this._view[e(o).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var template=this.templates.fixedGroupTemplate;if(template){var e=this._firstVisibleItem();e&&e.group.toString().length&&this.header.html(template(e.group))}},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',n=e.item,r=0!==e.index,o=e.selected,l=this.isGrouped(),c=this.options.columns&&this.options.columns.length;return r&&e.newGroup&&(t+=" k-first"),e.isLastGroupedItem&&c&&(t+=" k-last"),o&&(t+=" k-state-selected"),t+='" aria-selected="'+(o?"true":"false")+'" data-offset-index="'+e.index+'">',t+=c?this._renderColumns(n):this.templates.template(n),r&&e.newGroup?t+=c?'<div class="k-cell k-group-cell"><span>'+this.templates.groupTemplate(e.group)+"</span></div>":'<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>":l&&c&&(t+="<div class='k-cell k-spacer-cell'></div>"),t+"</li>"},_renderColumns:function(e){for(var t="",i=0;i<this.options.columns.length;i++){var n=this.options.columns[i].width,r=parseInt(n,10),o="";n&&!isNaN(r)&&(o+="style='width:",o+=r,o+=l.test(n)?"%":"px",o+=";'"),t+="<span class='k-cell' "+o+">",t+=this.templates["column"+i](e),t+="</span>"}return t},_render:function(){var e,t,n,r,html="",i=0,o=0,l=[],view=this.dataSource.view(),c=this.value(),h=this.isGrouped();if(h)for(i=0;i<view.length;i++)for(t=view[i],n=!0,r=0;r<t.items.length;r++)e={selected:this._selected(t.items[r],c),item:t.items[r],group:t.value,newGroup:n,isLastGroupedItem:r===t.items.length-1,index:o},l[o]=e,o+=1,html+=this._renderItem(e),n=!1;else for(i=0;i<view.length;i++)e={selected:this._selected(view[i],c),item:view[i],index:i},l[i]=e,html+=this._renderItem(e);this._view=l,this.element[0].innerHTML=html,h&&l.length&&this._renderHeader()},_selected:function(e,t){return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(e,t)},setDSFilter:function(filter){this._lastDSFilter=x({},filter)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!n.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t,n=e&&e.action,r=this.options.skipUpdateOnBind,o="itemchange"===n;this.trigger("dataBinding"),this._angularItems("cleanup"),this._fixedHeader(),this._render(),this.bound(!0),o||"remove"===n?(t=function(e,t){var n,r,i,o,l=t.length,c=e.length,h=[],d=[];if(c)for(i=0;i<c;i++){for(n=e[i],r=!1,o=0;o<l;o++)if(n===t[o]){r=!0,h.push({index:i,item:n});break}r||d.push(n)}return{changed:h,unchanged:d}}(this._dataItems,e.items)).changed.length&&(o?this.trigger("selectedItemChange",{items:t.changed}):this.value(this._getValues(t.unchanged))):this.isFiltered()||this._skipUpdate||this._emptySearch?(this.focus(0),this._skipUpdate&&(this._skipUpdate=!1,this._selectedIndices=this._valueIndices(this._values,this._selectedIndices))):r||n&&"add"!==n||this.value(this._values),this._valueDeferred&&this._valueDeferred.resolve(),this._angularItems("compile"),this.trigger("dataBound")},bound:function(e){if(e===t)return this._bound;this._bound=e},isGrouped:function(){return(this.dataSource.group()||[]).length}});function R(e){return e[e.length-1]}function F(select){var e=select.selectedIndex;return e>-1?select.options[e]:{}}function P(t){return!(!t||e.isEmptyObject(t)||t.filters&&!t.filters.length)}function z(t,n){var r,o=!1;return t.filters&&(r=e.grep(t.filters,(function(filter){return o=z(filter,n),filter.filters?filter.filters.length:filter.field!=n})),o||t.filters.length===r.length||(o=!0),t.filters=r),o}r.plugin(M)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1310)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1310:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return kendo.ui.scheduler={},function(e){var t=window.kendo,n=t.ui,r=t.date.getDate,o=n.Widget,l=t._outerHeight,c=t.keys,h=".kendoSchedulerView",d=Math;function f(e,t){var n=[];return function e(r,o){if(o=o[t])for(var l=n[r]=n[r]||[],c=0;c<o.length;c++)l.push(o[c]),e(r+1,o[c])}(0,e),n}function m(){return t.support.cssBorderSpacing?"":'cellspacing="0"'}function table(t,n){return t.length?'<table role="presentation"'+m()+' class="'+e.trim("k-scheduler-table "+(n||""))+'"><tr>'+t.join("</tr><tr>")+"</tr></table>":""}function v(t,n,r){for(var o,l=[],c=0;c<t.length;c++){var h=t[c],th=[],d=n/h.length;for(o=0;o<h.length;o++){var f=h[o];th.push('<th colspan="'+(f.colspan||d)+'" class="'+(f.className||"")+'">'+f.text+"</th>")}l.push(th.join(""))}var m,v,_=[];if(r){var w=t[t.length-1],td=[],y=r.cellContent;for(o=0;o<w.length;o++)td.push('<td class="'+(w[o].className||"")+'">'+(y?y(o):"&nbsp;")+"</td>");_.push(td.join(""))}return e('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+table(l)+(v="k-scheduler-header-all-day",(m=_).length?"<div style='position:relative'>"+table(m,v)+"</div>":"")+"</div></div>")}var _,w=t.Class.extend({init:function(e,t){this._index=e,this._timeSlotCollections=[],this._daySlotCollections=[],this._isRtl=t},addTimeSlotCollection:function(e,t){return this._addCollection(e,t,this._timeSlotCollections)},addDaySlotCollection:function(e,t){return this._addCollection(e,t,this._daySlotCollections)},_addCollection:function(e,t,n){var r=new C(e,t,this._index,n.length);return n.push(r),r},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(e,t,n){return this._slotByPosition(e,t,this._daySlotCollections,n)},timeSlotByPosition:function(e,t,n){return this._slotByPosition(e,t,this._timeSlotCollections,n)},_slotByPosition:function(e,t,n,r){for(var o=0;o<n.length;o++)for(var l=n[o],c=0;c<l.count();c++){var h,slot=l.at(c),d=slot.offsetWidth,f=slot.offsetHeight,m=slot.offsetLeft+d,v=slot.offsetTop+f;if(r||(h=l.at(c+1)),h&&(h.offsetLeft!=slot.offsetLeft?m=this._isRtl?slot.offsetLeft+(slot.offsetLeft-h.offsetLeft):h.offsetLeft:v=h.offsetTop),e>=slot.offsetLeft&&e<m&&t>=slot.offsetTop&&t<v)return slot}},refresh:function(){var e;for(e=0;e<this._daySlotCollections.length;e++)this._daySlotCollections[e].refresh();for(e=0;e<this._timeSlotCollections.length;e++)this._timeSlotCollections[e].refresh()},timeSlotRanges:function(e,t){var n=this._timeSlotCollections,r=this._startSlot(e,n);!r.inRange&&e>=r.slot.end&&(r=null);var o=r;if(e<t&&(o=this._endSlot(t,n)),o&&!o.inRange&&t<=o.slot.start&&(o=null),null===r&&null===o)return[];if(null===r){if(o.slot.end<=e)return[];r={inRange:!0,slot:n[o.slot.collectionIndex].first()}}if(null===o){if(r.slot.start>=t)return[];o={inRange:!0,slot:n[r.slot.collectionIndex].last()}}return this._continuousRange(x,n,r,o)},daySlotRanges:function(e,n,r){var o=this._daySlotCollections,l=this._startSlot(e,o,r);!l.inRange&&e>=l.slot.end&&(l=null);var c=l;if(e<n&&(c=this._endSlot(n,o,r)),c&&!c.inRange&&n<=c.slot.start&&(c=null),null===l&&null===c)return[];if(null===l){if(c.slot.end<=e)return[];do{e+=t.date.MS_PER_DAY,l=this._startSlot(e,o,r)}while(!l.inRange&&e>=l.slot.end)}if(null===c){if(l.slot.start>=n)return[];do{n-=t.date.MS_PER_DAY,c=this._endSlot(n,o,r)}while(!c.inRange&&n<=c.slot.start)}return this._continuousRange(k,o,l,c)},_continuousRange:function(e,t,n,r){for(var o=n.slot,l=r.slot,c=o.collectionIndex,h=l.collectionIndex,d=[],f=c;f<=h;f++){var m=t[f],v=m.first(),_=m.last(),head=!1,w=!1;f==c&&(w=!n.inRange),f==h&&(head=!r.inRange),v.start<o.start&&(v=o),_.start>l.start&&(_=l),c<h&&(f==c?head=!0:f==h?w=!0:head=w=!0),d.push(new e({start:v,end:_,collection:m,head:head,tail:w}))}return d},slotRanges:function(e,n){var r=e._startTime||t.date.toUtcTime(e.start),o=e._endTime||t.date.toUtcTime(e.end);return void 0===n&&(n=e.isMultiDay()),n?this.daySlotRanges(r,o,e.isAllDay):this.timeSlotRanges(r,o)},ranges:function(e,n,r,o){return"number"!=typeof e&&(e=t.date.toUtcTime(e)),"number"!=typeof n&&(n=t.date.toUtcTime(n)),r?this.daySlotRanges(e,n,o):this.timeSlotRanges(e,n)},_startCollection:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.startInRange(e))return r}return null},_endCollection:function(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];if(o.endInRange(e,n))return o}return null},_getCollections:function(e){return e?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(slot,e){var t=e?-1:1,n=this._getCollections(slot.isDaySlot)[slot.collectionIndex+t];return n?n[e?"last":"first"]():void 0},firstSlot:function(){return this._getCollections(this.daySlotCollectionCount())[0].first()},lastSlot:function(){var e=this._getCollections(this.daySlotCollectionCount());return e[e.length-1].last()},upSlot:function(slot,e,t){var n=this;return this.timeSlotCollectionCount()||(e=!0),this._verticalSlot(slot,-1,(function(t,r,o){if(!e&&!t&&0===o&&n.daySlotCollectionCount())return n._daySlotCollections[0].at(r)}),t)},downSlot:function(slot,e,t){var n=this;return this.timeSlotCollectionCount()||(e=!0),this._verticalSlot(slot,1,(function(t,r,o){if(!e&&t&&n.timeSlotCollectionCount())return n._timeSlotCollections[o].at(0)}),t)},leftSlot:function(slot,e){return this._horizontalSlot(slot,-1,e)},rightSlot:function(slot,e){return this._horizontalSlot(slot,1,e)},_horizontalSlot:function(slot,e,t){var n=slot.index,r=slot.isDaySlot,o=slot.collectionIndex,l=this._getCollections(r);(r=!t&&r)?n+=e:o+=e;var c=l[o];return c?c.at(n):void 0},_verticalSlot:function(slot,e,t,n){var r=slot.index,o=slot.isDaySlot,l=slot.collectionIndex,c=this._getCollections(o);if(slot=t(o,l,r))return slot;(o=!n&&o)?l+=e:r+=e;var h=c[l];return h?h.at(r):void 0},_collection:function(e,t){return(t?this._daySlotCollections:this._timeSlotCollections)[e]},_startSlot:function(time,e,t){var n=this._startCollection(time,e),r=!0;n||(n=e[0],r=!1);var slot=n.slotByStartDate(time,t);return slot||(slot=n.first(),r=!1),{slot:slot,inRange:r}},_endSlot:function(time,e,t){var n=this._endCollection(time,e,t),r=!0;n||(n=e[e.length-1],r=!1);var slot=n.slotByEndDate(time,t);return slot||(slot=n.last(),r=!1),{slot:slot,inRange:r}},getSlotCollection:function(e,t){return this[t?"getDaySlotCollection":"getTimeSlotCollection"](e)},getTimeSlotCollection:function(e){return this._timeSlotCollections[e]},getDaySlotCollection:function(e){return this._daySlotCollections[e]}}),y=t.Class.extend({init:function(t){e.extend(this,t)},innerHeight:function(){for(var e=this.collection,t=this.start.index,n=this.end.index,r=0,o=t;o<=n;o++)r+=e.at(o).offsetHeight;return r},events:function(){return this.collection.events()},addEvent:function(e){this.events().push(e)},startSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.end:this.start},endSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.start:this.end}}),x=y.extend({innerHeight:function(){for(var e=this.collection,t=this.start.index,n=this.end.index,r=0,o=t;o<=n;o++)r+=e.at(o).offsetHeight;return r},outerRect:function(e,t,n){return this._rect("offset",e,t,n)},_rect:function(e,n,r,o){var l,c,h,d,f=this.start,m=this.end,v=t.support.isRtl(f.element);if("number"!=typeof n&&(n=t.date.toUtcTime(n)),"number"!=typeof r&&(r=t.date.toUtcTime(r)),o)l=f.offsetTop,c=m.offsetTop+m[e+"Height"],v?(h=m.offsetLeft,d=f.offsetLeft+f[e+"Width"]):(h=f.offsetLeft,d=m.offsetLeft+m[e+"Width"]);else{var _=n-f.start;_<0&&(_=0);var w=f.end-f.start;l=f.offsetTop+f[e+"Height"]*_/w;var y=m.end-r;y<0&&(y=0);var x=m.end-m.start;c=m.offsetTop+m[e+"Height"]-m[e+"Height"]*y/x,v?(h=Math.round(m.offsetLeft+m[e+"Width"]*y/x),d=Math.round(f.offsetLeft+f[e+"Width"]-f[e+"Width"]*_/w)):(h=Math.round(f.offsetLeft+f[e+"Width"]*_/w),d=Math.round(m.offsetLeft+m[e+"Width"]-m[e+"Width"]*y/x))}return{top:l,bottom:c,left:0===h?h:h+1,right:d}},innerRect:function(e,t,n){return this._rect("client",e,t,n)}}),k=y.extend({innerWidth:function(){for(var e=this.collection,t=this.start.index,n=this.end.index,r=0,o=t!==n?"offsetWidth":"clientWidth",l=t;l<=n;l++)r+=e.at(l)[o];return r}}),C=t.Class.extend({init:function(e,n,r,o){this._slots=[],this._events=[],this._start=t.date.toUtcTime(e),this._end=t.date.toUtcTime(n),this._groupIndex=r,this._collectionIndex=o},refresh:function(){for(var e=0;e<this._slots.length;e++)this._slots[e].refresh()},startInRange:function(e){return this._start<=e&&e<this._end},endInRange:function(e,t){var n=t?e<this._end:e<=this._end;return this._start<=e&&n},slotByStartDate:function(e){var time=e;"number"!=typeof time&&(time=t.date.toUtcTime(e));for(var n=0;n<this._slots.length;n++){var slot=this._slots[n];if(slot.startInRange(time))return slot}return null},slotByEndDate:function(e,n){var time=e;if("number"!=typeof time&&(time=t.date.toUtcTime(e)),n)return this.slotByStartDate(e,!1);for(var r=0;r<this._slots.length;r++){var slot=this._slots[r];if(slot.endInRange(time))return slot}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(element,e,t,n){var slot=new T(element,e,t,this._groupIndex,this._collectionIndex,this._slots.length,n);this._slots.push(slot)},addDaySlot:function(element,e,t,n){var slot=new D(element,e,t,this._groupIndex,this._collectionIndex,this._slots.length,n);this._slots.push(slot)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(e){return this._slots[e]}}),S=t.Class.extend({init:function(element,e,t,n,r,o){this.element=element,this.clientWidth=element.clientWidth,this.clientHeight=element.clientHeight,this.offsetWidth=element.offsetWidth,this.offsetHeight=element.offsetHeight,this.offsetTop=element.offsetTop,this.offsetLeft=element.offsetLeft,this.start=e,this.end=t,this.element=element,this.groupIndex=n,this.collectionIndex=r,this.index=o,this.isDaySlot=!1},refresh:function(){var element=this.element;this.clientWidth=element.clientWidth,this.clientHeight=element.clientHeight,this.offsetWidth=element.offsetWidth,this.offsetHeight=element.offsetHeight,this.offsetTop=element.offsetTop,this.offsetLeft=element.offsetLeft},startDate:function(){return t.timezone.toLocalDate(this.start)},endDate:function(){return t.timezone.toLocalDate(this.end)},startInRange:function(e){return this.start<=e&&e<this.end},endInRange:function(e){return this.start<e&&e<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}}),T=S.extend({init:function(element,e,t,n,r,o,l){S.fn.init.apply(this,arguments),this.isHorizontal=!!l},offsetX:function(e,t){return this.offsetLeft+t},startInRange:function(e){return this.start<=e&&e<this.end},endInRange:function(e){return this.start<e&&e<=this.end},startOffset:function(n,r,o){if(o)return this.start;var l,time,c=e(this.element).offset(),h=this.end-this.start;if(this.isHorizontal){var d=t.support.isRtl(this.element);if(l=n-c.left,time=Math.floor(h*(l/this.offsetWidth)),d)return this.start+h-time}else l=r-c.top,time=Math.floor(h*(l/this.offsetHeight));return this.start+time},endOffset:function(n,r,o){if(o)return this.end;var l,time,c=e(this.element).offset(),h=this.end-this.start;if(this.isHorizontal){var d=t.support.isRtl(this.element);if(l=n-c.left,time=Math.floor(h*(l/this.offsetWidth)),d)return this.start+h-time}else l=r-c.top,time=Math.floor(h*(l/this.offsetHeight));return this.start+time}}),D=S.extend({init:function(element,e,t,n,r,o,l){if(S.fn.init.apply(this,arguments),this.eventCount=l,this.isDaySlot=!0,this.element.children.length){var c=this.element.children[0];this.firstChildHeight=c.offsetHeight,this.firstChildTop=c.offsetTop}else this.firstChildHeight=3,this.firstChildTop=0},startDate:function(){var e=new Date(this.start);return t.timezone.apply(e,"Etc/UTC")},endDate:function(){var e=new Date(this.end);return t.timezone.apply(e,"Etc/UTC")},startInRange:function(e){return this.start<=e&&e<this.end},endInRange:function(e){return this.start<e&&e<=this.end}});function E(e){return{start:e.start,end:e.end}}t.ui.SchedulerView=o.extend({init:function(element,n){o.fn.init.call(this,element,n),this._normalizeOptions(),this._scrollbar=_=_||t.support.scrollbar(),this._isRtl=t.support.isRtl(element),this._resizeHint=e(),this._moveHint=e(),this._cellId=t.guid(),this._resourcesForGroups(),this._selectedSlots=[]},visibleEndDate:function(){return this.endDate()},_normalizeOptions:function(){var e=this.options;e.startTime&&e.startTime.setMilliseconds(0),e.endTime&&e.endTime.setMilliseconds(0),e.workDayStart&&e.workDayStart.setMilliseconds(0),e.workDayEnd&&e.workDayEnd.setMilliseconds(0)},_isMobile:function(){var e=this.options;return!0===e.mobile&&t.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile},_addResourceView:function(){var e=new w(this.groups.length,this._isRtl);return this.groups.push(e),e},dateForTitle:function(){return t.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitle:function(){return t.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},mobileDateForTitle:function(){return t.format(this.options.selectedMobileDateFormat||this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroup:function(e,t){var slot=this[t?"prevGroupSlot":"nextGroupSlot"](e.start,e.groupIndex,e.isAllDay);return slot&&(e.groupIndex+=t?-1:1),this._isGroupedByDate()&&!slot&&(e.groupIndex=t?this.groups.length-1:0),slot},_changeDate:function(e,slot,t){var n,r,o=this.groups[e.groupIndex];if(t){if(n=o._getCollections(!1),(r=o.daySlotCollectionCount()?slot.index-1:slot.collectionIndex-1)>=0)return n[r]._slots[n[r]._slots.length-1]}else{n=o._getCollections(o.daySlotCollectionCount()),r=o.daySlotCollectionCount()?0:slot.collectionIndex+1;var l=o.daySlotCollectionCount()?slot.collectionIndex+1:0;if(n[r]&&n[r]._slots[l])return n[r]._slots[l]}},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return!1},_isInRange:function(e,t){return!!(e&&t&&this.options.min&&this.options.max)&&(r(e)<=r(this.options.min)||r(t)>=r(this.options.max))},_horizontalSlots:function(e,t,n,r){var o,l=r?"leftSlot":"rightSlot",c={startSlot:t[0].start,endSlot:t[t.length-1].end},h=this.groups[e.groupIndex],d=this._isVerticallyGrouped();if(!n){var slot=this._normalizeHorizontalSelection(e,t,r);slot&&(c.startSlot=c.endSlot=slot)}if(this._isGroupedByDate()&&!n){var f=this._changeGroup(e,r);f?c.startSlot=c.endSlot=f:c=this._getNextHorizontalRange(h,l,c)}else c.startSlot=h[l](c.startSlot),c.endSlot=h[l](c.endSlot),n||d||c.startSlot&&c.endSlot||(c.startSlot=c.endSlot=this._changeGroup(e,r));return c.startSlot&&c.endSlot||this._isGroupedByDate()||(o=this._continuousSlot(e,t,r),(o=this._changeGroupContinuously(e,o,n,r))&&(c.startSlot=c.endSlot=o)),c},_getNextHorizontalRange:function(e,t,n){return this._isVerticallyGrouped()||(n.startSlot=e[t](n.startSlot),n.endSlot=e[t](n.endSlot)),n},_verticalSlots:function(e,t,n,r){var slot,o=this.groups[e.groupIndex],l={startSlot:t[0].start,endSlot:t[t.length-1].end};n||(slot=this._normalizeVerticalSelection(e,t,r))&&(l.startSlot=l.endSlot=slot);var c=r?"upSlot":"downSlot";return l=this._getNextVerticalRange(o,c,l,n),n||!this._isVerticallyGrouped()||l.startSlot&&l.endSlot||(this._isGroupedByDate()?l.startSlot=l.endSlot=this._changeDate(e,slot,r):l.startSlot=l.endSlot=this._changeGroup(e,r)),l},_getNextVerticalRange:function(e,t,n,r){return n.startSlot=e[t](n.startSlot,r),n.endSlot=e[t](n.endSlot,r),n},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(e,t,n){return n?t[0].start:t[t.length-1].end},_continuousSlot:function(){return null},_footer:function(){var n=this,r=n.options;if(n._isMobile()){var html='<div class="k-header k-scheduler-footer">';html+='<span class="k-state-default k-scheduler-today"><a href="#" class="k-link">',html+=r.messages.today+"</a></span>",html+="</div>",n.footer=e(html).appendTo(n.element)}n.footer&&n.footer.on("click"+h,".k-scheduler-today",(function(e){e.preventDefault();var o,l=n.options.timezone,c=new Date;if(l){var h=t.timezone.offset(c,l);o=t.timezone.convert(c,c.getTimezoneOffset(),h)}else o=c;n.trigger("navigate",{view:n.name||r.name,action:"today",date:o})}))},constrainSelection:function(e){var slot,t=this.groups[0];this.inRange(e)?t.daySlotCollectionCount()?t.timeSlotCollectionCount()||(e.isAllDay=!0):e.isAllDay=!1:(slot=t.firstSlot(),e.isAllDay=slot.isDaySlot,e.start=slot.startDate(),e.end=slot.endDate()),this.groups[e.groupIndex]||(e.groupIndex=0)},move:function(e,t,n){var r=!1,o=this.groups[e.groupIndex],l=this._isGroupedByDate()&&this._isVerticallyGrouped();o.timeSlotCollectionCount()||(e.isAllDay=!0);var h,d,f,m,v=o.ranges(e.start,e.end,e.isAllDay,!1);if(t===c.DOWN||t===c.UP){if(r=!0,f=t===c.UP,this._updateDirection(e,v,n,f,!0),!(m=this._verticalSlots(e,v,n,f)).startSlot&&!n&&this._changeViewPeriod(e,f,!l))return r}else if((t===c.LEFT||t===c.RIGHT)&&(r=!0,f=t===c.LEFT,this._updateDirection(e,v,n,f,!1),!(m=this._horizontalSlots(e,v,n,f)).startSlot&&!n&&this._changeViewPeriod(e,f,l)))return r;if(r){if(h=m.startSlot,d=m.endSlot,n){var _=e.backward;_&&h?e.start=h.startDate():!_&&d&&(e.end=d.endDate())}else h&&d&&(e.isAllDay=h.isDaySlot,e.start=h.startDate(),e.end=d.endDate());e.events=[]}return r},moveToEventInGroup:function(t,slot,n,r){var o,l=t._continuousEvents||[],c=r?-1:1,h=l.length,d=r?h-1:0;if(n.length)for(var f=n[n.length-1],i=0;i<l.length;i++)l[i].uid===f&&(d=i+c);for(;d<h&&d>-1&&(o=l[d],!(!r&&o.start.startDate()>=slot.startDate()||r&&o.start.startDate()<=slot.startDate())||!o||-1!==e.inArray(o.uid,n));)d+=c;return o},moveToEvent:function(e,t){var n,r=e.groupIndex,o=this.groups[r],slot=o.ranges(e.start,e.end,e.isAllDay,!1)[0].start,l=this.groups.length,c=t?-1:1,h=e.events;if(this._isGroupedByDate()){var d=this._getAllEvents(),f=this._getUniqueEvents(d),m=this._getSortedEvents(f);if(0===h.length){var v=this._getNextEventIndexBySlot(slot,m,r);t&&v--,n=m[v]}else for(var _=this._getStartIdx(h,m);_<m.length&&_>-1&&(h.length>0&&(slot=this._getSelectedSlot(slot,m,n,_,c,t)),slot);){if((!t&&m[_].start.startDate()>=slot.startDate()||t&&m[_].start.startDate()<=slot.startDate())&&h[0]!=m[_].uid){n=m[_];break}_+=c}}else for(;r<l&&r>-1&&(n=this.moveToEventInGroup(o,slot,h,t),r+=c,(o=this.groups[r])&&!n);)h=[],slot=t?o.lastSlot():o.firstSlot(!0);return n&&(e.events=[n.uid],e.start=n.start.startDate(),e.end=n.end.endDate(),e.isAllDay=n.start.isDaySlot,e.groupIndex=n.start.groupIndex),!!n},current:function(e){if(void 0===e)return this._current;this._current=e,this.content.has(e)&&this._scrollTo(e,this.content[0])},select:function(e){this.clearSelection(),this._selectEvents(e)||this._selectSlots(e)},_getNextEventIndexBySlot:function(slot,e,n){for(var r=0,o=t.date.getDate(slot.startDate()),i=0;i<e.length;i++){var l=t.date.getDate(e[i].start.startDate());if(o>l)r++;else if(o.getTime()===l.getTime()&&n>e[i].start.groupIndex)r++;else{if(!(o.getTime()===l.getTime()&&n>=e[i].start.groupIndex&&slot.startDate()>e[i].start.startDate()))break;r++}}return r},_getSelectedSlot:function(slot,e,t,n,r,o){if(e[n+r]&&e[n].start.groupIndex!==e[n+r].start.groupIndex){var l=e[n+r].start.groupIndex,c=this.groups[l];c&&!t||(slot=null),slot=o?c.lastSlot():c.firstSlot(!0)}return slot},_getStartIdx:function(t,n){var r=0;return e.each(n,(function(){if(this.uid===t[0])return!1;r++})),r},_getAllEvents:function(){for(var e=[],t=this.groups,n=0;n<t.length;n++)t[n]._continuousEvents&&(e=e.concat(t[n]._continuousEvents));return e},_getUniqueEvents:function(e){for(var t=[],i=0;i<e.length;i++){for(var n=!1,r=0;r<t.length;r++)if(e[i].uid===t[r].uid){n=!0;break}n||t.push(e[i])}return t},_getSortedEvents:function(n){return n.sort((function(n,r){var o=n.start.startDate(),l=r.start.startDate(),c=t.date.getDate(o)-t.date.getDate(l);return 0===c&&(c=n.start.groupIndex-r.start.groupIndex),0===c&&(c=o.getTime()-l.getTime()),0===c&&(n.start.isDaySlot&&!r.start.isDaySlot&&(c=-1),!n.start.isDaySlot&&r.start.isDaySlot&&(c=1)),0===c&&(c=e(n.element).index()-e(r.element).index()),c}))},_selectSlots:function(e){var t=e.isAllDay,n=this.groups[e.groupIndex];n.timeSlotCollectionCount()||(t=!0),this._selectedSlots=[];for(var element,slot,r,o=n.ranges(e.start,e.end,t,!1),l=0;l<o.length;l++)for(var c=o[l],h=c.collection,d=c.start.index;d<=c.end.index;d++)(element=(slot=h.at(d)).element).setAttribute("aria-selected",!0),(r=element).className=r.className.replace(R,"")+" k-state-selected",this._selectedSlots.push({start:slot.startDate(),end:slot.endDate(),element:element});e.backward&&(element=o[0].start.element),this.current(element)},_selectEvents:function(t){var n,r,o=!1,l=t.events,c=this._getAllEvents(),h=c.length;if(!l[0]||!c[0])return o;var d=e();for(t.events=[],n=0;n<h;n++)e.inArray(c[n].uid,l)>-1&&(r=c[n],d=d.add(r.element),-1===t.events.indexOf(r.uid)&&t.events.push(r.uid));return d[0]&&(d.addClass("k-state-selected").attr("aria-selected",!0),this.current(d.last()[0]),this._selectedSlots=[],o=!0),o},inRange:function(e){var n=this.startDate(),r=t.date.addDays(this.endDate(),1),o=e.start,l=e.end;return n<=o&&o<r&&n<l&&l<=r},_resourceValue:function(e,n){return e.valuePrimitive&&(n=t.getter(e.dataValueField)(n)),n},_resourceBySlot:function(slot){var e=this.groupedResources,n={};if(e.length)for(var r=slot.groupIndex,o=e.length-1;o>=0;o--){var l=e[o],c=this._resourceValue(l,l.dataSource.view()[r%l.dataSource.total()]);l.multiple&&(c=[c]),t.setter(l.field)(n,c),r=Math.floor(r/l.dataSource.total())}return n},_createResizeHint:function(t,n,r,o){return e('<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>').css({left:t,top:n,width:r,height:o})},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=e()},_removeMoveHint:function(t){t?(this._moveHint.filter("[data-uid='"+t+"']").remove(),this._moveHint=this._moveHint.filter("[data-uid!='"+t+"']")):(this._moveHint.remove(),this._moveHint=e())},_scrollTo:function(element,e){var t=element.offsetTop,n=element.offsetHeight,r=e.scrollTop,o=e.clientHeight,l=t+n,c=0;c=r>t?t:l>r+o?n<=o?l-o:t:r,e.scrollTop=c},_inverseEventColor:function(element){var e=element.css("color"),t=new A(e).isDark(),n=element.css("background-color");t==new A(n).isDark()&&element.addClass("k-event-inverse")},_eventTmpl:function(template,n){var r=this.options,o=e.extend({},t.Template,r.templateSettings),l=o.paramName,html="",c=typeof template,h={storage:{},count:0};"function"===c?(h.storage["tmpl"+h.count]=template,html+="#=this.tmpl"+h.count+"("+l+")#",h.count++):"string"===c&&(html+=template);var d=t.template(t.format(n,html),o);return h.count>0&&(d=e.proxy(d,h.storage)),d},eventResources:function(e){var n=[],r=this.options;if(!r.resources)return n;for(var o=0;o<r.resources.length;o++){var l=r.resources[o],c=l.field,h=t.getter(c)(e);if(null!=h){l.multiple||(h=[h]);for(var data=l.dataSource.view(),d=0;d<h.length;d++){var f=null,m=h[d];l.valuePrimitive||(m=t.getter(l.dataValueField)(m));for(var v=0;v<data.length;v++)if(data[v].get(l.dataValueField)==m){f=data[v];break}if(null!==f){var _=t.getter(l.dataColorField)(f);n.push({field:l.field,title:l.title,name:l.name,text:t.getter(l.dataTextField)(f),value:m,color:_})}}}}return n},createLayout:function(n){var r=-1;n.rows||(n.rows=[]);for(var o=0;o<n.rows.length;o++)if(n.rows[o].allDay){r=o;break}var l=n.rows[r];r>=0&&n.rows.splice(r,1);var c=this.columnLevels=f(n,"columns"),h=this.rowLevels=f(n,"rows");this.table=e('<table role="presentation"'+m()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"><tbody></tbody></table>');var d=h[h.length-1].length;this.table.find("tbody:first").append(this._topSection(c,l,d)),this.table.find("tbody:first").append(this._bottomSection(c,h,d)),this.element.append(this.table),this._isMobile()&&c.length>1&&"horizontal"===this._groupOrientation()&&t._outerWidth(e(window))<1024&&(this.table.find(".k-scheduler-content .k-scheduler-table").width(100*c[c.length-2].length+"%"),this.table.find(".k-scheduler-header .k-scheduler-table").width(100*c[c.length-2].length+"%")),this._scroller()},refreshLayout:function(){for(var n=this.element.find(">.k-scheduler-toolbar"),r=this.element.innerHeight(),o=this._scrollbar,c=0,h=this._isRtl?"left":"right",d=0;d<n.length;d++)r-=l(n.eq(d));if(this.datesHeader&&(c=l(this.datesHeader)),this.timesHeader&&l(this.timesHeader)>c&&(c=l(this.timesHeader)),this.datesHeader&&this.timesHeader){var f=this.datesHeader.find("table:first tr");this.timesHeader.find("tr").height((function(t){e(this).height(f.eq(t).height())}))}c&&(r-=c),this.footer&&(r-=l(this.footer));var m,v,_=this.content[0],w=t.support.kineticScrollNeeded?0:o;if((m=this.element)[0].style.height||(v=m.height(),m.height("auto"),v!=m.height()?(m.height(""),1):(m.height(""),0))){r>2*o?this.content.height(r):this.content.height(2*o+1),this.times.height(_.clientHeight);var y=this.times.find("table");y.length&&y.height(this.content.find("table")[0].clientHeight)}_.offsetWidth-_.clientWidth>0?(this.table.addClass("k-scrollbar-v"),this.datesHeader.css("padding-"+h,w-parseInt(this.datesHeader.children().css("border-"+h+"-width"),10))):this.datesHeader.css("padding-"+h,""),_.offsetHeight-_.clientHeight>0||_.clientHeight>this.content.children(".k-scheduler-table").height()?this.table.addClass("k-scrollbar-h"):this.table.removeClass("k-scrollbar-h")},_topSection:function(t,n,r){var o=t[t.length-1].length;this.timesHeader=function(t,n,r){var o=[];if(r>0)for(var l=0;l<t;l++)o.push("<th>&#8203;</th>");return n&&o.push('<th class="k-scheduler-times-all-day">'+n.text+"</th>"),r<1?e():e('<div class="k-scheduler-times">'+table(o)+"</div>")}(t.length,n,r),this.datesHeader=v(t,o,n);var l="<tr "+(this._isMobile()?"class='k-mobile-header'":"")+">";return e(l).append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(t,n,r){return this.times=function(t,n,r){for(var o,l=new Array(n).join().split(","),c=[],h=0;h<t.length;h++){var d,text,f=t[h],m=n/f.length;for(o=0;o<f.length;o++)d=f[o].className||"",text=f[o].text,f[o].allDay&&(d="k-scheduler-times-all-day"),r&&-1!==d.indexOf("k-scheduler-group-cell")&&(text='<span class="k-scheduler-group-text">'+text+"</span>"),l[m*o]+='<th class="'+d+'" rowspan="'+m+'">'+text+"</th>"}for(o=0;o<n;o++)c.push(l[o]);return n<1?e():e('<div class="k-scheduler-times">'+table(c)+"</div>")}(n,r,this._isMobile()),this.content=(t[t.length-1],n[n.length-1],e('<div class="k-scheduler-content"><table role="presentation"'+m()+' class="k-scheduler-table"/></div>')),e("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var n=this;this.content.bind("scroll"+h,(function(){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft),n.times.scrollTop(this.scrollTop)}));var r=t.touchScroller(this.content,{avoidScrolling:function(t){return e(t.event.target).closest(".k-event.k-event-active").length>0}});r&&r.movable&&(this._touchScroller=r,this.content=r.scrollElement,r.movable.bind("change",(function(e){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-e.sender.x),n.times.scrollTop(-e.sender.y)})))},_resourcesForGroups:function(){var e=[],t=this.options.group,n=this.options.resources;if(t=t&&t.resources?t.resources:[],n&&t.length)for(var r=0,o=n.length;r<o;r++)for(var l=0,c=t.length;l<c;l++)n[r].name===t[l]&&e.push(n[r]);this.groupedResources=e},_createDateLayout:function(t,n,r){return function t(n,r,o,l){var c=[];return e.each(r,(function(e,r){var h=r.className?"k-slot-cell "+r.className:"k-slot-cell",d={text:r.text,className:h};l&&!r.minorTicks?d[n]=t(n,r.columns,o,l):d[n]=o,c.push(d)})),c}("rows",t,n,r)},_createColumnsLayout:function(e,t,template,n,r){return M("columns",e,t,template,n,r)},_groupOrientation:function(){var e=this.options.group;return e&&e.resources?e.orientation:"horizontal"},_isGroupedByDate:function(){return this.options.group&&this.options.group.date},_isVerticallyGrouped:function(){return this.groupedResources.length&&"vertical"===this._groupOrientation()},_createRowsLayout:function(e,t,template,n){return M("rows",e,t,template,n)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},destroy:function(){o.fn.destroy.call(this),this.table&&(t.destroy(this.table),this.table.remove()),this.footer&&(t.destroy(this.footer),this.footer.remove()),this.groups=null,this.table=null,this.content=null,this.times=null,this.datesHeader=null,this.timesHeader=null,this.footer=null,this._resizeHint=null,this._moveHint=null},calendarInfo:function(){return t.getCulture().calendars.standard},prevGroupSlot:function(e,t,n){var r,o=this.groups[t],slot=o.ranges(e,e,n,!1)[0].start;if(!(t<=0))return this._isGroupedByDate()?slot:this._isVerticallyGrouped()?o.timeSlotCollectionCount()?(r=o._collection(n?slot.index:slot.collectionIndex,!1)).last():(r=o._collection(o.daySlotCollectionCount()-1,!0)).at(slot.index):o.timeSlotCollectionCount()?(r=o._collection(n?0:o.timeSlotCollectionCount()-1,n),n?r.last():r.at(slot.index)):(r=o._collection(slot.collectionIndex,!0)).last()},nextGroupSlot:function(e,t,n){var r,o,l=this.groups[t],slot=l.ranges(e,e,n,!1)[0].start;if(!(t>=this.groups.length-1))return this._isGroupedByDate()?slot:this._isVerticallyGrouped()?l.timeSlotCollectionCount()?(o=l.daySlotCollectionCount(),r=l._collection(o?0:slot.collectionIndex,o),n?r.first():r.at(slot.collectionIndex)):(r=l._collection(0,!0)).at(slot.index):l.timeSlotCollectionCount()?(r=l._collection(0,n),n?r.first():r.at(slot.index)):(r=l._collection(slot.collectionIndex,!0)).first()},_eventOptionsForMove:function(){return{}},_updateEventForResize:function(){},_updateEventForSelection:function(e){return e}});var A=function(e){var t,n,r,i,o,l=this,c=A.formats;if(1===arguments.length)for(e=l.resolveColor(e),i=0;i<c.length;i++)t=c[i].re,n=c[i].process,(r=t.exec(e))&&(o=n(r),l.r=o[0],l.g=o[1],l.b=o[2]);else l.r=arguments[0],l.g=arguments[1],l.b=arguments[2];l.r=l.normalizeByte(l.r),l.g=l.normalizeByte(l.g),l.b=l.normalizeByte(l.b)};function I(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],o=E(r),l=null,c=0,h=t.length;c<h;c++){var d=o.start>t[c].end;if(o.start<t[c].start||d){(l=t[c]).end<o.end&&(l.end=o.end);break}}l||(l={start:o.start,end:o.end,events:[]},t.push(l)),l.events.push(r)}return t}function M(n,r,o,template,l,c){var h=r[0],d=[];if(h){if(l&&o)e.each(l,(function(e,t){c&&!t.minorTicks?t[n]=M(n,r,t.columns,template,t.columns,c):t[n]=M(n,r,null,template)})),d=l;else for(var data=h.dataSource.view(),f=0;f<data.length;f++){var m={text:template({text:t.htmlEncode(t.getter(h.dataTextField)(data[f])),color:t.getter(h.dataColorField)(data[f]),field:h.field,title:h.title,name:h.name,value:t.getter(h.dataValueField)(data[f])}),className:"k-slot-cell k-scheduler-group-cell"};m[n]=M(n,r.slice(1),o,template),d.push(m)}return d}return o}A.prototype={resolveColor:function(e){return"#"==(e=e||"#000").charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase(),e=A.namedColors[e]||e},normalizeByte:function(e){return e<0||isNaN(e)?0:e>255?255:e},percBrightness:function(){return d.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},isDark:function(){return this.percBrightness()<180}},A.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],A.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var R=/\s*k-state-selected/;e.extend(n.SchedulerView,{createColumns:function(e){return I(e)},createRows:function(e){return I(e)},rangeIndex:E,collidingEvents:function(e,t,n){var r,o,l,c;for(r=e.length-1;r>=0;r--)l=(o=E(e[r])).start,c=o.end,(l<=t&&c>=t||l>=t&&c<=n||t<=l&&n>=l)&&(l<t&&(t=l),c>n&&(n=c));return function(e,t,n){for(var r=[],o=0;o<e.length;o++){var l=E(e[o]);(l.start<t&&l.end>t||l.start>=t&&l.end<=n)&&r.push(e[o])}return r}(e,t,n)},groupEqFilter:function(n){return function(r){if(e.isArray(r)||r instanceof t.data.ObservableArray){for(var o=0;o<r.length;o++)if(r[o]==n)return!0;return!1}return r==n}}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1559),e.exports=n(1559)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1559:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return function(){var e=window.kendo,t=e.deepExtend,n=Date.now;n||(n=function(){return(new Date).getTime()}),t(e,{util:{now:n,renderPos:function(t){var n=[];if(t)for(var r=e.toHyphens(t).split("-"),i=0;i<r.length;i++)n.push("k-pos-"+r[i]);return n.join(" ")},renderSize:function(e){return"string"!=typeof e&&(e+="px"),e},sqr:function(e){return e*e},romanToArabic:function(e){e=e.toLowerCase();for(var t={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3},n=0,r=0,i=0;i<e.length;++i){var o=t[e.charAt(i)];if(!o)return null;n+=o,o>r&&(n-=2*r),r=o}return n},arabicToRoman:function(e){for(var t={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},n=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],r="";e>0;)e<n[0]?n.shift():(r+=t[n[0]],e-=n[0]);return r},memoize:function(e){var t=Object.create(null);return function(){for(var n="",i=arguments.length;--i>=0;)n+=":"+arguments[i];return n in t?t[n]:t[n]=e.apply(this,arguments)}},isUnicodeLetter:function(e){return r.test(e)},withExit:function(e,t){try{return e.call(t,(function(e){throw new n(e)}))}catch(e){if(e instanceof n)return e.value;throw e}function n(e){this.value=e}}}});var r=new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]")}(),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1541),e.exports=n(1541)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1541:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e=kendo.spreadsheet,t=kendo.Class.extend({type:"ref",sheet:"",clone:function(){return this},hasSheet:function(){return this._hasSheet},simplify:function(){return this},setSheet:function(e,t){return this.sheet=e,null!=t&&(this._hasSheet=t),this},absolute:function(){return this},relative:function(){return this},adjust:function(){return this},toString:function(){return this.relative(0,0,3,3).print(0,0)},forEach:function(e,t){e.call(t,this)},map:function(e,t){return e.call(t,this)},intersects:function(e){return this.intersect(e)!==n},isCell:function(){return!1},toRow:function(){return this},toColumn:function(){return this},first:function(){return this},lastRange:function(){return this},size:function(){return 1},rangeAt:function(){return this},nextRangeIndex:function(){return 0},previousRangeIndex:function(){return 0},eq:function(e){var t=this,r=e;if(t===n||r===n)return t===r;if((r instanceof o||r instanceof l&&!(t instanceof o))&&(t=e,r=this),t instanceof o)return(r=r.simplify())instanceof o&&t.row==r.row&&t.col==r.col&&t.sheet==r.sheet;if(t instanceof l){if(r instanceof l)return r.topLeft.eq(t.topLeft)&&r.bottomRight.eq(t.bottomRight);if(r instanceof c)return r.single()&&t.eq(r.refs[0])}else if(t instanceof c&&r instanceof c){var h=t.refs,d=r.refs;if(h.length!=d.length)return!1;for(var i=0,f=h.length;i<f;i++)if(!h[i].eq(d[i]))return!1;return!0}return t===r},concat:function(e){return new c([this,e])},replaceAt:function(e,t){return t},forEachColumnIndex:function(e){this.forEachAxisIndex("col",e)},forEachRowIndex:function(e){this.forEachAxisIndex("row",e)},forEachAxisIndex:function(e,t){var n=[];this["row"===e?"forEachRow":"forEachColumn"]((function(t){var r=t.first()[e];-1===n.indexOf(r)&&n.push(r)})),n.sort((function(a,b){return a>b?1:a<b?-1:0})).forEach(t)},valid:function(){return!1},renameSheet:function(e,t){if(this.sheet&&this.sheet.toLowerCase()==e.toLowerCase())return this.sheet=t,!0}});t.display=d;var n=new(t.extend({init:function(){},print:function(){return"#NULL!"},eq:function(e){return e===this},forEach:function(){}})),r=t.extend({ref:"name",init:function(e){this.name=e},clone:function(){return new r(this.name).setSheet(this.sheet,this.hasSheet())},print:function(){var e=h(this.name);return this.hasSheet()&&(e=h(this.sheet)+"!"+e),e}}),o=t.extend({ref:"cell",init:function(e,col,t){this.row=e,this.col=col,this.rel=t||0},clone:function(){return new o(this.row,this.col,this.rel).setSheet(this.sheet,this.hasSheet())},intersect:function(e){return e instanceof o?this.eq(e)?this:n:e.intersect(this)},print:function(e,t,n){var r,col=this.col,o=this.row,l=this.rel;if(null==e&&l){var c=this.hasSheet()?h(this.sheet)+"!":"";return col=isFinite(col)?1&l?"C["+col+"]":"C"+(col+1):"",c+(o=isFinite(o)?2&l?"R["+o+"]":"R"+(o+1):"")+col}return r=this.absolute(e,t),n?((o=r.row%1048576)<0&&(o+=1048576),(col=r.col%16384)<0&&(col+=16384),d(this._hasSheet&&this.sheet,o,col,l)):r.valid()?d(this._hasSheet&&this.sheet,r.row,r.col,l):"#REF!"},absolute:function(e,t){var n=this.clone();return!1&n.rel?n:(1&n.rel&&(n.col=(n.col+t)%16384),2&n.rel&&(n.row=(n.row+e)%1048576),n.rel=0,n)},toRangeRef:function(){return new l(this,this)},relative:function(e,t,n){null==n&&(n=this.rel);var r=2&n?this.row-e:this.row,col=1&n?this.col-t:this.col;return new o(r,col,n).setSheet(this.sheet,this.hasSheet())},height:function(){return 1},width:function(){return 1},toString:function(){return d(null,this.row,this.col,3)},isCell:function(){return!0},leftColumn:function(){return this},rightColumn:function(){return this},topRow:function(){return this},bottomRow:function(){return this},forEachRow:function(e){e(this.toRangeRef())},forEachColumn:function(e){e(this.toRangeRef())},adjust:function(e,col,t,r,o,l,c){var h=this.absolute(e,col);if(o){if(h.row>=l){if(c<0&&h.row<l-c)return n;h.row+=c}}else if(h.col>=l){if(c<0&&h.col<l-c)return n;h.col+=c}return null!=t&&null!=r&&(h=h.relative(t,r,this.rel)),h},valid:function(){if(this.rel)throw new Error("valid() called on relative reference");var col=this.col,e=this.row;return!(isFinite(col)&&col<0||isFinite(e)&&e<0)}}),l=t.extend({ref:"range",init:function(e,br){e._hasSheet&&br._hasSheet&&e.sheet.toLowerCase()!=br.sheet.toLowerCase()&&(this.endSheet=br.sheet),this.topLeft=new o(e.row,e.col,e.rel),this.bottomRight=new o(br.row,br.col,br.rel),this.normalize()},clone:function(){return new l(this.topLeft.clone(),this.bottomRight.clone()).setSheet(this.sheet,this.hasSheet())},_containsRange:function(e){return this._containsCell(e.topLeft)&&this._containsCell(e.bottomRight)},_containsCell:function(e){return e.sheet==this.sheet&&e.row>=this.topLeft.row&&e.col>=this.topLeft.col&&e.row<=this.bottomRight.row&&e.col<=this.bottomRight.col},contains:function(e){if(e instanceof Array){var t=this;return e.some((function(e){return t.contains(e)}))}return e instanceof o?this._containsCell(e):e instanceof l&&this._containsRange(e)},_intersectRange:function(e){if(this.sheet!=e.sheet)return n;var t=this.topLeft.col,r=this.topLeft.row,c=this.bottomRight.col,h=this.bottomRight.row,d=e.topLeft.col,f=e.topLeft.row,m=e.bottomRight.col,v=e.bottomRight.row;return t<=m&&d<=c&&r<=v&&f<=h?new l(new o(Math.max(r,f),Math.max(t,d)),new o(Math.min(h,v),Math.min(c,m))).setSheet(this.sheet,this.hasSheet()):n},intersect:function(e){return e instanceof o?this._containsCell(e)?e:n:e instanceof l?this._intersectRange(e).simplify():e instanceof c?e.intersect(this):n},simplify:function(){return this.isCell()?new o(this.topLeft.row,this.topLeft.col,this.topLeft.rel).setSheet(this.sheet,this.hasSheet()):this},normalize:function(){var e,a=this.topLeft,b=this.bottomRight,t=a.row,n=a.col,r=b.row,l=b.col,c=2&a.rel,h=1&a.rel,d=2&b.rel,f=1&b.rel,m=!1;return c===d&&h===f&&(t>r&&(m=!0,e=t,t=r,r=e,e=c,c=d,d=e),n>l&&(m=!0,e=n,n=l,l=e,e=h,h=f,f=e),m&&(this.topLeft=new o(t,n,h|c),this.bottomRight=new o(r,l,f|d))),this},print:function(e,t,n){if(n||this.absolute(e,t).valid()){var r=this.topLeft.print(e,t,n)+":"+this.bottomRight.print(e,t,n);return this.hasSheet()&&(r=h(this.sheet)+(this.endSheet?":"+h(this.endSheet):"")+"!"+r),r}return"#REF!"},absolute:function(e,t){return new l(this.topLeft.absolute(e,t),this.bottomRight.absolute(e,t)).setSheet(this.sheet,this.hasSheet())},relative:function(e,t,n,r){return null==r&&(r=n),new l(this.topLeft.relative(e,t,n),this.bottomRight.relative(e,t,r)).setSheet(this.sheet,this.hasSheet())},height:function(){if(this.topLeft.rel!=this.bottomRight.rel)throw new Error("Mixed relative/absolute references");return this.bottomRight.row-this.topLeft.row+1},width:function(){if(this.topLeft.rel!=this.bottomRight.rel)throw new Error("Mixed relative/absolute references");return this.bottomRight.col-this.topLeft.col+1},collapse:function(){return this.topLeft.toRangeRef()},leftColumn:function(){return new l(this.topLeft,new o(this.bottomRight.row,this.topLeft.col))},rightColumn:function(){return new l(new o(this.topLeft.row,this.bottomRight.col),this.bottomRight)},topRow:function(){return new l(this.topLeft,new o(this.topLeft.row,this.bottomRight.col))},bottomRow:function(){return new l(new o(this.bottomRight.row,this.topLeft.col),this.bottomRight)},toRangeRef:function(){return this},toRow:function(e){return e+=Math.max(0,this.topLeft.row),new l(new o(e,this.topLeft.col),new o(e,this.bottomRight.col)).setSheet(this.sheet,this.hasSheet())},toColumn:function(col){return col+=Math.max(0,this.topLeft.col),new l(new o(this.topLeft.row,col),new o(this.bottomRight.row,col)).setSheet(this.sheet,this.hasSheet())},toCell:function(e,col){return e+=Math.max(0,this.topLeft.row),col+=Math.max(0,this.topLeft.col),new o(e,col,0).setSheet(this.sheet,this.hasSheet())},forEachRow:function(e){for(var t=this.topLeft.row,n=this.bottomRight.row,r=this.topLeft.col,c=this.bottomRight.col,i=t;i<=n;i++)e(new l(new o(i,r),new o(i,c)))},forEachColumn:function(e){for(var t=this.topLeft.row,n=this.bottomRight.row,r=this.topLeft.col,c=this.bottomRight.col,i=r;i<=c;i++)e(new l(new o(t,i),new o(n,i)))},intersecting:function(e){return e.filter((function(e){return e.toRangeRef().intersects(this)}),this)},union:function(e,t){var n=this.intersecting(e),r=this.topLeft.row,c=this.topLeft.col,h=this.bottomRight.row,d=this.bottomRight.col,f=!1;n.forEach((function(e){(e=e.toRangeRef()).topLeft.row<r&&(f=!0,r=e.topLeft.row),e.topLeft.col<c&&(f=!0,c=e.topLeft.col),e.bottomRight.row>h&&(f=!0,h=e.bottomRight.row),e.bottomRight.col>d&&(f=!0,d=e.bottomRight.col),t&&t(e)}));var m=new l(new o(r,c),new o(h,d));return f?m.union(e,t):m},resize:function(e){var t=Math.max.bind(Math,0);function r(e){return e||0}var c=this.topLeft.row+r(e.top),h=this.topLeft.col+r(e.left),d=this.bottomRight.row+r(e.bottom),f=this.bottomRight.col+r(e.right);return h<0&&f<0||c<0&&d<0?n:c<=d&&h<=f?new l(new o(t(c),t(h)),new o(t(d),t(f))):n},move:function(e,t){return new l(new o(this.topLeft.row+e,this.topLeft.col+t),new o(this.bottomRight.row+e,this.bottomRight.col+t))},first:function(){return this.topLeft.clone().setSheet(this.sheet,this.hasSheet())},isCell:function(){return!this.endSheet&&this.topLeft.eq(this.bottomRight)},toString:function(){return this.topLeft+":"+this.bottomRight},adjust:function(e,col,t,r,o,c,h){var d=this.topLeft.adjust(e,col,t,r,o,c,h),tr=this.bottomRight.adjust(e,col,t,r,o,c,h);return d===n&&tr===n?n:(d===n?(d=this.topLeft.absolute(e,col),o?d.row=c:d.col=c,null!=t&&null!=r&&(d=d.relative(t,r,this.topLeft.rel))):tr===n&&(tr=this.bottomRight.absolute(e,col),o?tr.row=c-1:tr.col=c-1,null!=t&&null!=r&&(tr=tr.relative(t,r,this.bottomRight.rel))),new l(d,tr).setSheet(this.sheet,this.hasSheet()).simplify())},valid:function(){return this.topLeft.valid()&&this.bottomRight.valid()}}),c=t.extend({init:function(e){this.refs=e,this.length=e.length},clone:function(){return new c(this.refs.slice())},intersect:function(e){for(var a=[],i=0;i<this.length;++i){var t=e.intersect(this.refs[i]);t!==n&&a.push(t)}return a.length>0?new c(a).simplify():n},simplify:function(){var u=new c(this.refs.reduce((function(a,e){return(e=e.simplify())!==n&&a.push(e),a}),[]));return u.empty()?n:u.single()?u.refs[0]:u},absolute:function(e,t){return new c(this.refs.map((function(n){return n.absolute(e,t)})))},forEach:function(e,t){this.refs.forEach((function(n){n instanceof c?n.forEach(e,t):e.call(t,n)}),t)},toRangeRef:function(){return this.refs[0].toRangeRef()},contains:function(e){return this.refs.some((function(t){return t.contains(e)}))},map:function(e,t){var n=[];return this.forEach((function(r){n.push(e.call(t,r))})),new c(n)},first:function(){return this.refs[0].first()},lastRange:function(){return this.refs[this.length-1]},size:function(){return this.length},single:function(){return 1==this.length},empty:function(){return 0===this.length},isCell:function(){return this.single()&&this.refs[0].isCell()},rangeAt:function(e){return this.refs[e]},nextRangeIndex:function(e){return e===this.length-1?0:e+1},previousRangeIndex:function(e){return 0===e?this.length-1:e-1},concat:function(e){return new c(this.refs.concat([e]))},print:function(e,col,t){return this.refs.map((function(n){return n.print(e,col,t)})).join(",")},replaceAt:function(e,t){var n=this.refs.slice();return n.splice(e,1,t),new c(n)},leftColumn:function(){return this.map((function(e){return e.leftColumn()}))},rightColumn:function(){return this.map((function(e){return e.rightColumn()}))},topRow:function(){return this.map((function(e){return e.topRow()}))},bottomRow:function(){return this.map((function(e){return e.bottomRow()}))},forEachRow:function(e){this.forEach((function(t){t.forEachRow(e)}))},forEachColumn:function(e){this.forEach((function(t){t.forEachColumn(e)}))},adjust:function(e,col,t,n,r,o,l){return this.map((function(c){return c.adjust(e,col,t,n,r,o,l)})).simplify()},toString:function(){return this.refs.map((function(e){return e.toString()})).join(", ")},valid:function(){for(var i=this.refs.length;--i>=0;)if(this.refs[i].valid())return!1;return!0},renameSheet:function(e,t){this.refs.forEach((function(n){n.renameSheet(e,t)}))}});e.NULLREF=n,e.SHEETREF=new l(new o(0,0),new o(1/0,1/0)),e.FIRSTREF=new o(0,0),e.Ref=t,e.NameRef=r,e.CellRef=o,e.RangeRef=l,e.UnionRef=c,e.SHEETREF.print=function(){return"#SHEET"}}function h(e){return/^[a-z_][a-z0-9_]*$/i.test(e)?e:"'"+e.replace(/\x27/g,"\\'")+"'"}function d(e,t,col,n){var r="";return++t,isFinite(t)?null==n||2&n||(t="$"+t):t="",isFinite(col)?(r=function e(t){var n=Math.floor(t/26)-1;return(n>=0?e(n):"")+String.fromCharCode(65+t%26)}(col),null==n||1&n||(r="$"+r)):col="",e?h(e)+"!"+r+t:r+t}})?r.apply(t,o):r)||(e.exports=l)}})},,function(e,t,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,l=r(),c=l.default;void 0===c&&(c=[]);var h=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=r},,,,,,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1379)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1016:function(e,t){e.exports=n(3)},1379:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1016)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=r.DataBoundWidget,h=e.proxy,d=/^\d+(\.\d+)?%$/i,f="k-group",m="k-state-selected",v="k-state-focused",_="itemChange";function w(e){return e[e.length-1]}function y(e){return e instanceof Array?e:[e]}function x(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function k(e,t,n){var element=document.createElement(n||"div");return t&&(element.className=t),e.appendChild(element),element}function C(element,data,r){var o=r.template;element=e(element),data.item||(o=r.placeholderTemplate),0===data.index&&this.header&&data.group&&this.header.html(r.fixedGroupTemplate(data.group)),this.angular("cleanup",(function(){return{elements:[element]}})),element.attr("data-uid",data.item?data.item.uid:"").attr("data-offset-index",data.index),this.options.columns&&this.options.columns.length&&data.item?element.html(function(e,t,n){for(var r="",i=0;i<e.columns.length;i++){var o=e.columns[i].width,l=parseInt(o,10),c="";o&&(c+="style='width:",c+=l,c+=d.test(o)?"%":"px",c+=";'"),r+="<span class='k-cell' "+c+">",r+=n["column"+i](t),r+="</span>"}return r}(this.options,data.item,r)):element.html(o(data.item||{})),element.toggleClass(v,data.current),element.toggleClass(m,data.selected),element.toggleClass("k-first",data.newGroup),element.toggleClass("k-last",data.isLastGroupedItem),element.toggleClass("k-loading-item",!data.item),0!==data.index&&data.newGroup&&e("<div class="+f+"></div>").appendTo(element).html(r.groupTemplate(data.group)),data.top!==t&&function(element,e){n.support.browser.msie&&n.support.browser.version<10?element.style.top=e+"px":(element.style.webkitTransform="translateY("+e+"px)",element.style.transform="translateY("+e+"px)")}(element[0],data.top),this.angular("compile",(function(){return{elements:[element],data:[{dataItem:data.item,group:data.group,newGroup:data.newGroup}]}}))}function S(e){return e&&"resolved"!==e.state()}var T=l.extend({init:function(element,t){var r,l,c=this;c.bound(!1),c._fetching=!1,o.fn.init.call(c,element,t),c.options.itemHeight||(c.options.itemHeight=((l=e('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>')).css({position:"absolute",left:"-200000px",visibility:"hidden"}),l.appendTo(document.body),r=parseFloat(n.getComputedStyles(l.find(".k-item")[0],["line-height"])["line-height"]),l.remove(),r)),t=c.options,c.element.addClass("k-list k-virtual-list").attr("role","listbox"),c.content=c.element.wrap("<div unselectable='on' class='k-virtual-content'></div>").parent(),c.wrapper=c.content.wrap("<div class='k-virtual-wrap'></div>").parent(),c.header=c.content.before("<div class='k-group-header'></div>").prev(),t.columns&&t.columns.length&&c.element.removeClass("k-list"),c.element.on("mouseenter.VirtualList","li:not(.k-loading-item)",(function(){e(this).addClass("k-state-hover")})).on("mouseleave.VirtualList","li",(function(){e(this).removeClass("k-state-hover")})),c._values=y(c.options.value),c._selectedDataItems=[],c._selectedIndexes=[],c._rangesList={},c._promisesList=[],c._optionID=n.guid(),c._templates(),c.setDataSource(t.dataSource),c.content.on("scroll.VirtualList",n.throttle((function(){c._renderItems(),c._triggerListBound()}),t.delay)),c._selectable()},options:{name:"VirtualList",autoBind:!0,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:!1,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",mapValueTo:"index",valueMapper:null},events:["change","click","listBound",_,"activate","deactivate"],setOptions:function(e){o.fn.setOptions.call(this,e),this._selectProxy&&!1===this.options.selectable?this.element.off("click",".k-virtual-item",this._selectProxy):!this._selectProxy&&this.options.selectable&&this._selectable(),this._templates(),this.refresh()},items:function(){return e(this._items)},destroy:function(){this.wrapper.off(".VirtualList"),this.dataSource.unbind("change",this._refreshHandler),o.fn.destroy.call(this)},setDataSource:function(source){var t,r=this,o=source||{};o=e.isArray(o)?{data:o}:o,o=n.data.DataSource.create(o),r.dataSource?(r.dataSource.unbind("change",r._refreshHandler),r._clean(),r.bound(!1),r._deferValueSet=!0,t=r.value(),r.value([]),r.mute((function(){r.value(t)}))):r._refreshHandler=e.proxy(r.refresh,r),r.dataSource=o.bind("change",r._refreshHandler),r.setDSFilter(o.filter()),0!==o.view().length?r.refresh():r.options.autoBind&&o.fetch()},skip:function(){return this.dataSource.currentRangeStart()},_triggerListBound:function(){var e=this.skip();this.bound()&&!this._selectingValue&&this._skip!==e&&(this._skip=e,this.trigger("listBound"))},_getValues:function(t){var n=this._valueGetter;return e.map(t,(function(e){return n(e)}))},_highlightSelectedItems:function(){for(var i=0;i<this._selectedDataItems.length;i++){var e=this._getElementByDataItem(this._selectedDataItems[i]);e.length&&e.addClass(m)}},refresh:function(e){var t,n=this,r=e&&e.action,o="itemchange"===r,l=this.isFiltered();n._mute||(n._deferValueSet=!1,n._fetching?(n._renderItems&&n._renderItems(!0),n._triggerListBound()):(l&&n.focus(0),n._createList(),r||!n._values.length||l||n.options.skipUpdateOnBind||n._emptySearch?(n.bound(!0),n._highlightSelectedItems(),n._triggerListBound()):(n._selectingValue=!0,n.bound(!0),n.value(n._values,!0).done((function(){n._selectingValue=!1,n._triggerListBound()})))),(o||"remove"===r)&&(t=function(e,t){var n,r,i,o,l=t.length,c=e.length,h=[],d=[];if(c)for(i=0;i<c;i++){for(n=e[i],r=!1,o=0;o<l;o++)if(n===t[o]){r=!0,h.push({index:i,item:n});break}r||d.push(n)}return{changed:h,unchanged:d}}(n._selectedDataItems,e.items)).changed.length&&(o?n.trigger("selectedItemChange",{items:t.changed}):n.value(n._getValues(t.unchanged))),n._fetching=!1)},removeAt:function(e){return this._selectedIndexes.splice(e,1),this._values.splice(e,1),{position:e,dataItem:this._selectedDataItems.splice(e,1)[0]}},setValue:function(e){this._values=y(e)},value:function(n,r){return n===t?this._values.slice():(null===n&&(n=[]),n=y(n),this._valueDeferred&&"resolved"!==this._valueDeferred.state()||(this._valueDeferred=e.Deferred()),!("multiple"===this.options.selectable&&this.select().length&&n.length)&&n.length||this.select(-1),this._values=n,(this.bound()&&!this._mute&&!this._deferValueSet||r)&&this._prefetchByValue(n),this._valueDeferred)},_checkValuesOrder:function(e){if(this._removedAddedIndexes&&this._removedAddedIndexes.length===e.length){var t=this._removedAddedIndexes.slice();return this._removedAddedIndexes=null,t}return e},_prefetchByValue:function(e){for(var t,n=this,r=n._dataView,o=n._valueGetter,l=n.options.mapValueTo,c=[],i=0;i<e.length;i++)for(var h=0;h<r.length;h++)(t=r[h].item)&&(x(t)?e[i]===t:e[i]===o(t))&&c.push(r[h].index);if(c.length===e.length)return n._values=[],void n.select(c);"function"==typeof n.options.valueMapper?n.options.valueMapper({value:"multiple"===this.options.selectable?e:e[0],success:function(e){"index"===l?n.mapValueToIndex(e):"dataItem"===l&&n.mapValueToDataItem(e)}}):n.value()[0]?(n._selectingValue=!1,n._triggerListBound()):n.select([-1])},mapValueToIndex:function(e){if((e=e===t||-1===e||null===e?[]:y(e)).length){var n=this._deselect([]).removed;n.length&&this._triggerChange(n,[])}else e=[-1];this.select(e)},mapValueToDataItem:function(n){var r,o;if((n=n===t||null===n?[]:y(n)).length){r=e.map(this._selectedDataItems,(function(e,t){return{index:t,dataItem:e}})),o=e.map(n,(function(e,t){return{index:t,dataItem:e}})),this._selectedDataItems=n,this._selectedIndexes=[];for(var i=0;i<this._selectedDataItems.length;i++){var l=this._getElementByDataItem(this._selectedDataItems[i]);this._selectedIndexes.push(this._getIndecies(l)[0]),l.addClass(m)}this._triggerChange(r,o),this._valueDeferred&&this._valueDeferred.resolve()}else this.select([-1])},deferredRange:function(t){var n=this.dataSource,r=this.itemCount,o=this._rangesList,l=e.Deferred(),defs=[],c=Math.floor(t/r)*r,h=Math.ceil(t/r)*r,d=h===c?[h]:[c,h];return e.each(d,(function(t,l){var c,h=l+r,d=o[l];d&&d.end===h?c=d.deferred:(c=e.Deferred(),o[l]={end:h,deferred:c},n._multiplePrefetch(l,r,(function(){c.resolve()}))),defs.push(c)})),e.when.apply(e,defs).then((function(){l.resolve()})),l},prefetch:function(t){var n=this,r=this.itemCount,o=!n._promisesList.length;return S(n._activeDeferred)||(n._activeDeferred=e.Deferred(),n._promisesList=[]),e.each(t,(function(e,t){n._promisesList.push(n.deferredRange(n._getSkip(t,r)))})),o&&e.when.apply(e,n._promisesList).done((function(){n._promisesList=[],n._activeDeferred.resolve()})),n._activeDeferred},_findDataItem:function(view,e){var t;if("group"===this.options.type)for(var i=0;i<view.length;i++){if(!((t=view[i].items).length<=e))return t[e];e-=t.length}return view[e]},_getRange:function(e,t){return this.dataSource._findRange(e,Math.min(e+t,this.dataSource.total()))},dataItemByIndex:function(t){var r=this,o=r.itemCount,l=r._getSkip(t,o),view=this._getRange(l,o);return r._getRange(l,o).length?("group"===r.options.type&&(n.ui.progress(e(r.wrapper),!0),r.mute((function(){r.dataSource.range(l,o,(function(){n.ui.progress(e(r.wrapper),!1)})),view=r.dataSource.view()}))),r._findDataItem(view,[t-l])):null},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scrollTo:function(e){this.content.scrollTop(e)},scrollToIndex:function(e){this.scrollTo(e*this.options.itemHeight)},focus:function(n){var element,r,data,o,l=this.options.itemHeight,c=this._optionID,h=!0;if(n===t)return(o=this.element.find("."+v)).length?o:null;if("function"==typeof n){data=this.dataSource.flatView();for(var d=0;d<data.length;d++)if(n(data[d])){n=d;break}}if(n instanceof Array&&(n=w(n)),isNaN(n)?(element=e(n),r=parseInt(e(element).attr("data-offset-index"),10)):(r=n,element=this._getElementByIndex(r)),-1===r)return this.element.find("."+v).removeClass(v),void(this._focusedIndex=t);if(element.length){element.hasClass(v)&&(h=!1),this._focusedIndex!==t&&((o=this._getElementByIndex(this._focusedIndex)).removeClass(v).removeAttr("id"),h&&this.trigger("deactivate")),this._focusedIndex=r,element.addClass(v).attr("id",c);var f=this._getElementLocation(r);"top"===f?this.scrollTo(r*l):"bottom"===f?this.scrollTo(r*l+l-this._screenHeight):"outScreen"===f&&this.scrollTo(r*l),h&&this.trigger("activate")}else this._focusedIndex=r,this.items().removeClass(v),this.scrollToIndex(r)},focusIndex:function(){return this._focusedIndex},focusFirst:function(){this.scrollTo(0),this.focus(0)},focusLast:function(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight),this.focus(e-1)},focusPrev:function(){var e,t=this._focusedIndex;return!isNaN(t)&&t>0?(t-=1,this.focus(t),(e=this.focus())&&e.hasClass("k-loading-item")&&(t+=1,this.focus(t)),t):(t=this.dataSource.total()-1,this.focus(t),t)},focusNext:function(){var e,t=this._focusedIndex,n=this.dataSource.total()-1;return!isNaN(t)&&t<n?(t+=1,this.focus(t),(e=this.focus())&&e.hasClass("k-loading-item")&&(t-=1,this.focus(t)),t):(t=0,this.focus(t),t)},_triggerChange:function(e,t){t=t||[],((e=e||[]).length||t.length)&&this.trigger("change",{removed:e,added:t})},select:function(n){var r,o,l,c,h,d=this,f="multiple"!==d.options.selectable,m=S(d._activeDeferred),v=this.isFiltered(),_=[];if(n===t)return d._selectedIndexes.slice();if(d._selectDeferred&&"resolved"!==d._selectDeferred.state()||(d._selectDeferred=e.Deferred()),r=d._getIndecies(n),l=f&&!v&&w(r)===w(this._selectedIndexes),(_=d._deselectCurrentValues(r)).length||!r.length||l)return d._triggerChange(_),d._valueDeferred&&d._valueDeferred.resolve().promise(),d._selectDeferred.resolve().promise();1===r.length&&-1===r[0]&&(r=[]),o=r,h=d._deselect(r),_=h.removed,r=h.indices,f&&(m=!1,r.length&&(r=[w(r)]));var y=function(){var e=d._select(r);(o.length===r.length||f)&&d.focus(r),d._triggerChange(_,e),d._valueDeferred&&d._valueDeferred.resolve(),d._selectDeferred.resolve()};return c=d.prefetch(r),m||(c?c.done(y):y()),d._selectDeferred.promise()},bound:function(e){if(e===t)return this._listCreated;this._listCreated=e},mute:function(e){this._mute=!0,h(e(),this),this._mute=!1},setDSFilter:function(filter){this._lastDSFilter=e.extend({},filter)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!n.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},skipUpdate:e.noop,_getElementByIndex:function(t){return this.items().filter((function(n,element){return t===parseInt(e(element).attr("data-offset-index"),10)}))},_getElementByDataItem:function(t){for(var element,n=this._dataView,r=this._valueGetter,i=0;i<n.length;i++)if(n[i].item&&x(n[i].item)?n[i].item===t:n[i].item&&t&&r(n[i].item)==r(t)){element=n[i];break}return element?this._getElementByIndex(element.index):e()},_clean:function(){this.result=t,this._lastScrollTop=t,this._skip=t,e(this.heightContainer).remove(),this.heightContainer=t,this.element.empty()},_height:function(){var e=!!this.dataSource.view().length,t=this.options.height,n=this.options.itemHeight,r=this.dataSource.total();return e?t/n>r&&(t=r*n):t=0,t},setScreenHeight:function(){var e=this._height();this.content.height(e),this._screenHeight=e},screenHeight:function(){return this._screenHeight},_getElementLocation:function(e){var t=this.content.scrollTop(),n=this._screenHeight,r=this.options.itemHeight,o=e*r,l=o+r,c=t+n;return o===t-r||l>t&&o<t?"top":o===c||o<c&&c<l?"bottom":o>=t&&o<=t+(n-r)?"inScreen":"outScreen"},_templates:function(){var e=this.options,t={template:e.template,placeholderTemplate:e.placeholderTemplate,groupTemplate:e.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate};if(e.columns)for(var i=0;i<e.columns.length;i++){var r=e.columns[i],o=r.field?r.field.toString():"text";t["column"+i]=r.template||"#: "+o+"#"}for(var l in t)"function"!=typeof t[l]&&(t[l]=n.template(t[l]||""));this.templates=t},_generateItems:function(element,e){for(var t,n=[],r=this.options.itemHeight+"px";e-- >0;)(t=document.createElement("li")).tabIndex=-1,t.className="k-virtual-item k-item",t.setAttribute("role","option"),t.style.height=r,t.style.minHeight=r,element.appendChild(t),n.push(t);return n},_saveInitialRanges:function(){var t=this.dataSource._ranges,n=e.Deferred();n.resolve(),this._rangesList={};for(var i=0;i<t.length;i++)this._rangesList[t[i].start]={end:t[i].end,deferred:n}},_createList:function(){var t,n,r,o,element,l,c=this,content=c.content.get(0),h=c.options,d=c.dataSource;c.bound()&&c._clean(),c._saveInitialRanges(),c._buildValueGetter(),c.setScreenHeight(),c.itemCount=(t=c._screenHeight,n=h.listScreens,r=h.itemHeight,Math.ceil(t*n/r)),c.itemCount>d.total()&&(c.itemCount=d.total()),c._items=c._generateItems(c.element[0],c.itemCount),c._setHeight(h.itemHeight*d.total()),c.options.type=(d.group()||[]).length?"group":"flat","flat"===c.options.type?c.header.hide():c.header.show(),c.getter=c._getter((function(){c._renderItems(!0)})),c._onScroll=function(e,t){var n=c._listItems(c.getter);return c._fixedHeader(e,n(e,t))},c._renderItems=c._whenChanged((element=content,l=c._onScroll,function(e){return l(element.scrollTop,e)}),(o=c._reorderList(c._items,e.proxy(C,c)),function(e,t){return o(e.items,e.index,t),e})),c._renderItems(),c._calculateGroupPadding(c._screenHeight),c._calculateColumnsHeaderPadding()},_setHeight:function(e){var t,n=this.heightContainer;if(n?t=n.offsetHeight:n=this.heightContainer=k(this.content[0],"k-height-container"),e!==t)for(n.innerHTML="";e>0;){var r=Math.min(e,25e4);k(n).style.height=r+"px",e-=r}},_getter:function(){var e=null,t=this.dataSource,n=t.skip(),r=this.options.type,o=this.itemCount,l={};return t.pageSize()<o&&this.mute((function(){t.pageSize(o)})),function(c,h){var d=this;if(t.inRange(h,o)){var f;if(n!==h&&this.mute((function(){t.range(h,o),n=h})),"group"===r){if(!l[h])for(var m=l[h]=[],v=t.view(),i=0,_=v.length;i<_;i++)for(var w=v[i],y=0,x=w.items.length;y<x;y++)m.push({item:w.items[y],group:w.value});f=l[h][c-h]}else f=t.view()[c-h];return f}return e!==h&&(e=h,n=h,d._getterDeferred&&d._getterDeferred.reject(),d._getterDeferred=d.deferredRange(h),d._getterDeferred.then((function(){var e=d._indexConstraint(d.content[0].scrollTop);d._getterDeferred=null,h<=e&&e<=h+o&&(d._fetching=!0,t.range(h,o))}))),null}},_fixedHeader:function(e,t){var n=this.currentVisibleGroup,r=this.options.itemHeight,o=Math.floor((e-t.top)/r),l=t.items[o];if(l&&l.item){var c=l.group;if(c!==n){var h=c||"";this.header.html(this.templates.fixedGroupTemplate(h)),this.currentVisibleGroup=c}}return t},_itemMapper:function(e,t,n){var r=this.options.type,o=this.options.itemHeight,l=this._focusedIndex,c=!1,h=!1,d=!1,f=null,m=this._valueGetter;if("group"===r&&(e&&(d=0===t||!1!==this._currentGroup&&this._currentGroup!==e.group,this._currentGroup=e.group),f=e?e.group:null,e=e?e.item:null),"dataItem"===this.options.mapValueTo&&this._selectedDataItems.length&&e){for(var i=0;i<this._selectedDataItems.length;i++)if(m(this._selectedDataItems[i])===m(e)){c=!0;break}}else if(!this.isFiltered()&&n.length&&e)for(var v=0;v<n.length;v++)if(x(e)?n[v]===e:n[v]===m(e)){n.splice(v,1),c=!0;break}return l===t&&(h=!0),{item:e||null,group:f,newGroup:d,selected:c,current:h,index:t,top:t*o}},_range:function(e){var t,n=this.itemCount,r=this._values.slice(),o=[];this._view={},this._currentGroup=!1;for(var i=e,l=e+n;i<l;i++)t=this._itemMapper(this.getter(i,e),i,r),o[o.length-1]&&(o[o.length-1].isLastGroupedItem=t.newGroup),o.push(t),this._view[t.index]=t;return this._dataView=o,o},_getDataItemsCollection:function(e,t){var n=this._range(this._listIndex(e,t));return{index:n.length?n[0].index:0,top:n.length?n[0].top:0,items:n}},_listItems:function(){var t=this._screenHeight,n=function(e,t){var n=(e.listScreens-1-e.threshold)*t,r=e.threshold*t;return function(e,t,o){return t>o?t-e.top<n:0===e.top||t-e.top>r}}(this.options,t);return e.proxy((function(e,t){var r=this.result,o=this._lastScrollTop;return!t&&r&&n(r,e,o)||(r=this._getDataItemsCollection(e,o)),this._lastScrollTop=e,this.result=r,r}),this)},_whenChanged:function(e,t){var n;return function(r){var o=e(r);o!==n&&(n=o,t(o,r))}},_reorderList:function(t,r){var o,l,c=this,h=t.length,d=-1/0;return r=e.proxy((o=r,l=this.templates,function(t,r){for(var i=0,c=t.length;i<c;i++)o(t[i],r[i],l),r[i].item&&this.trigger(_,{item:e(t[i]),data:r[i].item,ns:n.ui})}),this),function(e,n,o){var l,f,m=n-d;o||Math.abs(m)>=h?(l=t,f=e):(l=function(e,t){var n;return t>0?(n=e.splice(0,t),e.push.apply(e,n)):(n=e.splice(t,-t),e.unshift.apply(e,n)),n}(t,m),f=m>0?e.slice(-m):e.slice(0,-m)),r(l,f,c.bound()),d=n}},_bufferSizes:function(){var e,t,n,r=this.options;return e=this._screenHeight,t=r.listScreens,n=r.oppositeBuffer,{down:e*n,up:e*(t-1-n)}},_indexConstraint:function(e){var t=this.itemCount,n=this.options.itemHeight,r=this.dataSource.total();return Math.min(Math.max(r-t,0),Math.max(0,Math.floor(e/n)))},_listIndex:function(e,t){var n,r=this._bufferSizes();return n=e-(e>t?r.down:r.up),this._indexConstraint(n)},_selectable:function(){this.options.selectable&&(this._selectProxy=e.proxy(this,"_clickHandler"),this.element.on("click.VirtualList",".k-virtual-item",this._selectProxy))},getElementIndex:function(element){return element instanceof c?parseInt(element.attr("data-offset-index"),10):t},_getIndecies:function(e){var data,t=[];if("function"==typeof e){data=this.dataSource.flatView();for(var n=0;n<data.length;n++)if(e(data[n])){t.push(n);break}}"number"==typeof e&&t.push(e);var r=this.getElementIndex(e);return isNaN(r)||t.push(r),e instanceof Array&&(t=e),t},_deselect:function(n){var r,o,l,c=[],h=this._selectedIndexes,d=this._selectedDataItems,f=0,v=this.options.selectable,_=0,w=this._valueGetter,y=null;if(n=n.slice(),!0!==v&&n.length){if("multiple"===v)for(var i=0;i<n.length;i++){if(y=null,f=e.inArray(n[i],h),o=this.dataItemByIndex(n[i]),-1===f&&o)for(var k=0;k<d.length;k++)(x(o)?d[k]===o:w(d[k])===w(o))&&(l=this._getElementByIndex(n[i]),y=this._deselectSingleItem(l,k,n[i],_));else(r=h[f])!==t&&(l=this._getElementByIndex(r),y=this._deselectSingleItem(l,f,r,_));y&&(n.splice(i,1),c.push(y),_++,i--)}}else{for(var C=0;C<h.length;C++)h[C]!==t?this._getElementByIndex(h[C]).removeClass(m):d[C]&&this._getElementByDataItem(d[C]).removeClass(m),c.push({index:h[C],position:C,dataItem:d[C]});this._values=[],this._selectedDataItems=[],this._selectedIndexes=[]}return{indices:n,removed:c}},_deselectSingleItem:function(e,t,n,r){if(e.hasClass("k-state-selected"))return e.removeClass(m),this._values.splice(t,1),this._selectedIndexes.splice(t,1),{index:n,position:t+r,dataItem:this._selectedDataItems.splice(t,1)[0]}},_deselectCurrentValues:function(t){var n,r,o,l,c=this.element[0].children,h=this._values,d=[],f=0;if("multiple"!==this.options.selectable||!this.isFiltered())return[];if(-1===t[0])return e(c).removeClass("k-state-selected"),d=e.map(this._selectedDataItems.slice(0),(function(e,t){return{dataItem:e,position:t}})),this._selectedIndexes=[],this._selectedDataItems=[],this._values=[],d;for(;f<t.length;f++){for(o=-1,r=t[f],this.dataItemByIndex(r)&&(n=this._valueGetter(this.dataItemByIndex(r))),l=0;l<h.length;l++)if(n==h[l]){o=l;break}o>-1&&(d.push(this.removeAt(o)),e(c[r]).removeClass("k-state-selected"))}return d},_getSkip:function(e,t){return((e<t?1:Math.floor(e/t)+1)-1)*t},_select:function(t){var n,r,o=this,l="multiple"!==this.options.selectable,c=this.dataSource,h=this.itemCount,d=this._valueGetter,f=[];return l&&(o._selectedIndexes=[],o._selectedDataItems=[],o._values=[]),r=c.skip(),e.each(t,(function(e,t){var l=o._getSkip(t,h);o.mute((function(){c.range(l,h),n=o._findDataItem(c.view(),[t-l]),o._selectedIndexes.push(t),o._selectedDataItems.push(n),o._values.push(x(n)?n:d(n)),f.push({index:t,dataItem:n}),o._getElementByIndex(t).addClass(m),c.range(r,h)}))})),o._values=o._checkValuesOrder(o._values),f},_clickHandler:function(t){var n=e(t.currentTarget);!t.isDefaultPrevented()&&n.attr("data-uid")&&this.trigger("click",{item:n})},_buildValueGetter:function(){this._valueGetter=n.getter(this.options.dataValueField)},_calculateGroupPadding:function(e){var t=this.items().first(),r=this.header,o=0;r[0]&&"none"!==r[0].style.display&&("auto"!==e&&(o=n.support.scrollbar()),o+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10),r.css("padding-right",o))},_calculateColumnsHeaderPadding:function(){if(this.options.columns&&this.options.columns.length){var e=n.support.isRtl(this.wrapper),t=n.support.scrollbar(),r=this.content.parent().parent().find(".k-grid-header"),o=this.dataSource.total();r.css(e?"padding-left":"padding-right",o?t:0)}}});n.ui.VirtualList=T,n.ui.plugin(T)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1361)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1007:function(e,t){e.exports=n(0)},1039:function(e,t){e.exports=n(4)},1057:function(e,t){e.exports=n(20)},1361:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1007),n(1039),n(1057)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=n.ui.Popup,l=n.isFunction,h=e.isPlainObject,d=e.extend,f=e.proxy,m=e(document),v=n.isLocalUrl,_=n.template("<iframe frameborder='0' class='k-content-frame' src='#= content.url #'>This page requires frames in order to show content</iframe>"),w=".kendoTooltip",y={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},x={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},k={bottom:"n",top:"s",left:"e",right:"w",center:"n"},C={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}};function S(element){for(;element.length&&!T(element);)element=element.parent()}function T(element){var title=element.data(n.ns+"title");if(title)return element.attr("title",title),element.removeData(n.ns+"title"),!0}function D(element){var title=element.attr("title");if(title)return element.data(n.ns+"title",title),element.attr("title",""),!0}function E(element){for(;element.length&&!element.is("body")&&!D(element);)element=element.parent()}var A=r.extend({init:function(element,e){var t;r.fn.init.call(this,element,e),t=this.options.position.match(/left|right/)?"horizontal":"vertical",this.dimensions=C[t],this._documentKeyDownHandler=f(this._documentKeyDown,this),this.element.on(this.options.showOn+w,this.options.filter,f(this._showOn,this)),(this._isShownOnMouseEnter()||this._isShownOnClick())&&this.element.on("mouseenter"+w,this.options.filter,f(this._mouseenter,this)),this.options.autoHide&&this._isShownOnMouseEnter()&&this.element.on("mouseleave"+w,this.options.filter,f(this._mouseleave,this)),this.options.autoHide&&this._isShownOnFocus()&&this.element.on("blur"+w,this.options.filter,f(this._blur,this))},options:{name:"Tooltip",filter:"",content:function(e){return e.target.data(n.ns+"title")},showAfter:100,hideAfter:100,callout:!0,offset:0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{duration:40,hide:!0}}},events:["show","hide","contentLoad","error","requestStart"],_isShownOnFocus:function(){return this.options.showOn&&this.options.showOn.match(/focus/)},_isShownOnMouseEnter:function(){return this.options.showOn&&this.options.showOn.match(/mouseenter/)},_isShownOnClick:function(){return this.options.showOn&&this.options.showOn.match(/click/)},_mouseenter:function(t){E(e(t.currentTarget))},_showOn:function(t){var n=this,r=e(t.currentTarget);n._isShownOnClick()&&!n._isShownOnMouseEnter()?n._show(r):n._isShownOnFocus()?(E(r),n._show(r)):(clearTimeout(n.timeout),n.timeout=setTimeout((function(){n._show(r)}),n.options.showAfter))},_appendContent:function(e){var iframe,t=this,r=t.options.content,element=t.content,o=t.options.iframe;h(r)&&r.url?("iframe"in t.options||(o=!v(r.url)),t.trigger("requestStart",{options:r,target:e}),o?(element.hide(),(iframe=element.find(".k-content-frame")[0])?iframe.src=r.url||iframe.src:element.html(_({content:r})),element.find(".k-content-frame").off("load"+w).on("load"+w,(function(){t.trigger("contentLoad"),element.show()}))):(element.empty(),n.ui.progress(element,!0),t._ajaxRequest(r))):r&&l(r)?(r=r({sender:this,target:e}),element.html(r||"")):element.html(r),t.angular("compile",(function(){return{elements:element}}))},_ajaxRequest:function(e){var t=this;c.ajax(d({type:"GET",dataType:"html",cache:!1,error:function(e,r){n.ui.progress(t.content,!1),t.trigger("error",{status:r,xhr:e})},success:f((function(data){n.ui.progress(t.content,!1),t.content.html(data),t.trigger("contentLoad")}),t)},e))},_documentKeyDown:function(e){e.keyCode===n.keys.ESC&&this.hide()},refresh:function(){var e=this.popup;e&&e.options.anchor&&this._appendContent(e.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(e){E(e=e||this.element),this._show(e)},_show:function(e){var t=this,n=t.target();t.popup||t._initPopup(),n&&n[0]!=e[0]&&(t.popup.close(),t.popup.element.kendoStop(!0,!0)),n&&n[0]==e[0]||(t._appendContent(e),t.popup.options.anchor=e),t.popup.one("deactivate",(function(){S(e),e.removeAttr("aria-describedby"),this.element.removeAttr("id").attr("aria-hidden",!0),m.off("keydown"+w,t._documentKeyDownHandler)})),t.popup._hovered=!0,t.popup.open()},_initPopup:function(){var t=this,r=t.options,l=e(n.template('<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close" title="Close"></a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>')({callout:r.callout&&"center"!==r.position,dir:k[r.position],autoHide:r.autoHide}));t.popup=new o(l,d({autosize:!0,activate:function(){var e=this.options.anchor,n=e[0].id||t.element[0].id;n&&(e.attr("aria-describedby",n+"_tt_active"),this.element.attr("id",n+"_tt_active")),r.callout?t._positionCallout():t._offset(t.options.position,t.options.offset),this.element.removeAttr("aria-hidden"),m.on("keydown"+w,t._documentKeyDownHandler),t.trigger("show"),t.popup._hovered=void 0},close:function(){t.trigger("hide")},copyAnchorStyles:!1,animation:r.animation},y[r.position])),l.css({width:r.width,height:r.height}),t.content=l.find(".k-tooltip-content"),t.arrow=l.find(".k-callout"),r.autoHide&&this._isShownOnMouseEnter()?l.on("mouseleave"+w,f(t._mouseleave,t)):l.on("click"+w,".k-tooltip-button",f(t._closeButtonClick,t))},_closeButtonClick:function(e){e.preventDefault(),this.hide()},_mouseleave:function(e){var t=this;clearTimeout(t.timeout),t.timeout=setTimeout((function(){t._closePopup(e.currentTarget)}),t.options.hideAfter)},_blur:function(e){this._closePopup(e.currentTarget)},_closePopup:function(t){this.popup&&!this.popup._hovered?this.popup.close():S(e(t))},target:function(){return this.popup?this.popup.options.anchor:null},_positionCallout:function(){var t=this.options.position,n=this.dimensions,r=n.offset,o=this.popup,l=o.options.anchor,c=e(l).offset(),h=e(o.element).offset(),d=k[o.flipped?x[t]:t],f=c[r]-h[r]+e(l)[n.size]()/2;this._offset(t,this.options.offset),this.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+d).css(r,f)},destroy:function(){var e=this.popup;e&&(e.element.off(w),e.destroy()),clearTimeout(this.timeout),this.element.off(w),m.off("keydown"+w,this._documentKeyDownHandler),r.fn.destroy.call(this)},_offset:function(e,t){var r="top"==e||"left"==e,o=this.popup.flipped,l=r&&o||!r&&!o?1:-1,c=r?"margin-"+e:"margin-"+x[e],h=n._outerWidth(this.arrow)/2+t;this.popup.wrapper.css(c,h*l+"px")}});n.ui.plugin(A)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1378)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1057:function(e,t){e.exports=n(20)},1061:function(e,t){e.exports=n(26)},1378:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1061),n(1057)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.attr,o=n.ui,l=n.attrValue,c=n.directiveSelector,h=n.Observable,d=n.ui.Widget,f=n.roleSelector,m=/unrecognized expression/,v=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,_="k-content",w="k-view",y="k-stretched-view",x="k-widget",k="k-header",C="k-footer",S=n.ui.Widget.extend({init:function(content,t){t=t||{},this.id=n.guid(),h.fn.init.call(this),this.options=e.extend({},this.options,t),this.content=content,this.options.renderOnInit&&d.fn.init.call(this,this._createElement(),t),this.options.wrapInSections&&this._renderSections(),this.tagName=t.tagName||"div",this.model=t.model,this._wrap=!1!==t.wrap,this._evalTemplate=t.evalTemplate||!1,this._fragments={},this.bind(["init","show","hide","transitionStart","transitionEnd"],t)},options:{name:"View",renderOnInit:!1,wrapInSections:!1,detachOnHide:!0,detachOnDestroy:!0},render:function(t){var r=!this.element;return r&&(this.element=this._createElement()),t&&e(t).append(this.element),r&&(n.bind(this.element,this.model),this.trigger("init")),t&&(this._eachFragment("attach"),this.trigger("show")),this.element},clone:function(){return new T(this)},triggerBeforeShow:function(){return!0},triggerBeforeHide:function(){return!0},showStart:function(){var element=this.render();element&&element.css("display",""),this.trigger("showStart",{view:this})},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(e){this.trigger("transitionStart",{type:e})},afterTransition:function(e){this.trigger("transitionEnd",{type:e})},hide:function(){this.options.detachOnHide&&(this._eachFragment("detach"),e(this.element).detach()),this.trigger("hide")},destroy:function(){var element=this.element;element&&(d.fn.destroy.call(this),n.unbind(element),n.destroy(element),this.options.detachOnDestroy&&element.remove())},purge:function(){this.destroy(),e(this.element).add(this.content).add(this.wrapper).off().remove()},fragments:function(t){e.extend(this._fragments,t)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var element,content,t="<"+this.tagName+" />";try{"SCRIPT"===(content=e(document.getElementById(this.content)||this.content))[0].tagName&&(content=content.html())}catch(e){m.test(e.message)&&(content=this.content)}if("string"==typeof content)content=content.replace(/^\s+|\s+$/g,""),this._evalTemplate&&(content=n.template(content)(this.model||{})),element=e(t).append(content),this._wrap||(element=element.contents());else{if(element=content,this._evalTemplate){var r=e(n.template(e("<div />").append(element.clone(!0)).html())(this.model||{}));e.contains(document,element[0])&&element.replaceWith(r),element=r}this._wrap&&(element=element.wrapAll(t).parent())}return element},_renderSections:function(){this.options.wrapInSections&&(this._wrapper(),this._createContent(),this._createHeader(),this._createFooter())},_wrapper:function(){var content=this.content;content.is(f("view"))?this.wrapper=this.content:this.wrapper=content.wrap("<div data-"+n.ns+'stretch="true" data-'+n.ns+'role="view" data-'+n.ns+'init-widgets="false"></div>').parent();var e=this.wrapper;e.attr("id",this.id),e.addClass(w),e.addClass(x),e.attr("role","view")},_createContent:function(){var t=e(this.wrapper),n=f("content");t.children(n)[0]||t.children().filter((function(){var t=e(this);if(!t.is(f("header"))&&!t.is(f("footer")))return t})).wrap("<div "+r("role")+'="content"></div>'),this.contentElement=t.children(f("content")),this.contentElement.addClass(y).addClass(_)},_createHeader:function(){var e=this.wrapper;this.header=e.children(f("header")).addClass(k)},_createFooter:function(){var e=this.wrapper;this.footer=e.children(f("footer")).addClass(C)}}),T=n.Class.extend({init:function(view){e.extend(this,{element:view.element.clone(!0),transition:view.transition,id:view.id}),view.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:e.noop,afterTransition:e.noop}),D=S.extend({init:function(content,e){S.fn.init.call(this,content,e),this.containers={}},container:function(e){var t=this.containers[e];return t||(t=this._createContainer(e),this.containers[e]=t),t},showIn:function(e,view,t){this.container(e).show(view,t)},_createContainer:function(e){var t,n=this.render(),element=n.find(e);if(!element.length&&n.is(e)){if(!n.is(e))throw new Error("can't find a container with the specified "+e+" selector");element=n}return(t=new I(element)).bind("accepted",(function(e){e.view.render(element)})),t}}),E=S.extend({attach:function(view,e){view.element.find(e).replaceWith(this.render())},detach:function(){}}),A=/^(\w+)(:(\w+))?( (\w+))?$/,I=h.extend({init:function(e){h.fn.init.call(this),this.container=e,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(view,e,t){if(!view.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;t=t||view.id;var r=this,o=view===r.view?view.clone():r.view,l=r.history,c=(l[l.length-2]||{}).id===t,h=e||(c?l[l.length-1].transition:view.transition),d=function(e){if(!e)return{};var t=e.match(A)||[];return{type:t[1],direction:t[3],reverse:"reverse"===t[5]}}(h);return r.running&&r.effect.stop(),"none"===h&&(h=null),r.trigger("accepted",{view:view}),r.view=view,r.previous=o,r.running=!0,c?l.pop():l.push({id:t,transition:h}),o?(h&&n.effects.enabled?(view.element.addClass("k-fx-hidden"),view.showStart(),c&&!e&&(d.reverse=!d.reverse),r.effect=n.fx(view.element).replace(o.element,d.type).beforeTransition((function(){view.beforeTransition("show"),o.beforeTransition("hide")})).afterTransition((function(){view.afterTransition("show"),o.afterTransition("hide")})).direction(d.direction).setReverse(d.reverse),r.effect.run().then((function(){r.end()}))):(view.showStart(),r.end()),!0):(view.showStart(),view.showEnd(),r.after(),!0)},destroy:function(){var view=this.view;view&&view.destroy&&view.destroy()}}),M=h.extend({init:function(t){var r,o,l=this;h.fn.init.call(l),l.options=t,e.extend(l,t),l.sandbox=e("<div />"),o=l.container,r=l._hideViews(o),l.rootView=r.first(),l.layouts={},l.viewContainer=new n.ViewContainer(l.container),l.viewContainer.bind("accepted",(function(e){e.view.params=l.params})),l.viewContainer.bind("complete",(function(e){l.trigger("viewShow",{view:e.view})})),l.viewContainer.bind("after",(function(){l.trigger("after")})),this.bind(this.events,t)},events:["showStart","after","viewShow","loadStart","loadComplete","sameViewRequested","viewTypeDetermined"],destroy:function(){var e=this.viewContainer;for(var t in n.destroy(this.container),this.layouts)this.layouts[t].destroy();e&&e.destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,r){if(""===(e=e.replace(new RegExp("^"+this.remoteViewURLPrefix),""))&&this.remoteViewURLPrefix&&(e="/"),e.replace(/^#/,"")===this.url)return this.trigger("sameViewRequested"),!1;this.trigger("showStart");var element=this._findViewElement(e),view=n.widgetInstance(element);return this.url=e.replace(/^#/,""),this.params=r,view&&view.reload&&(view.purge(),element=[]),this.trigger("viewTypeDetermined",{remote:0===element.length,url:e}),!element[0]||(view||(view=this._createView(element)),this.viewContainer.show(view,t,e))},append:function(html,e){var t,view,n=this.sandbox,o=(e||"").split("?")[0],l=this.container;return v.test(html)&&(html=RegExp.$1),n[0].innerHTML=html,l.append(n.children("script, style")),(view=(t=this._hideViews(n)).first()).length||(t=view=n.wrapInner("<div data-role=view />").children()),o&&view.hide().attr(r("url"),o),l.append(t),this._createView(view)},_locate:function(e){return this.$angular?c(e):f(e)},_findViewElement:function(e){var element,t=e.split("?")[0];return t?((element=this.container.children("["+r("url")+"='"+t+"']"))[0]||-1!==t.indexOf("/")||(element=this.container.children("#"===t.charAt(0)?t:"#"+t)),element[0]||(element=this._findViewElementById(e)),element):this.rootView},_findViewElementById:function(e){return this.container.children("[id='"+e+"']")},_createView:function(element){return this._createSpaView(element)},_createMobileView:function(element){return n.initWidget(element,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:l(element,"reload")},o.roles)},_createSpaView:function(element){var e=(this.options||{}).viewOptions||{};return new n.View(element,{renderOnInit:e.renderOnInit,wrap:e.wrap||!1,wrapInSections:e.wrapInSections,detachOnHide:e.detachOnHide,detachOnDestroy:e.detachOnDestroy})},_hideViews:function(e){return e.children(this._locate("view")).hide()}});n.ViewEngine=M,n.ViewContainer=I,n.Fragment=E,n.Layout=D,n.View=S,n.ViewClone=T}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1037)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1007:function(e,t){e.exports=n(0)},1037:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1007),n(1038),n(1039),n(1040),n(1041),n(1042)],void 0===(l="function"==typeof(r=function(){return function(e,t,n){var r=window.kendo,o=r.ui,l=o.Widget,c=r.parseColor,h=r.Color,d=r.keys,f={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:"Color Hexadecimal Code"},m=".kendoColorTools",v="click"+m,_="keydown"+m,w=r.support.browser,y=w.msie&&w.version<9,x=l.extend({init:function(element,e){var t;l.fn.init.call(this,element,e),element=this.element,e=this.options,this._value=e.value=c(e.value),this._tabIndex=element.attr("tabIndex")||0,(t=this._ariaId=e.ariaId)&&element.attr("aria-labelledby",t),e._standalone&&(this._triggerSelect=this._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return void 0!==e&&(this._value=c(e),this._updateUI(this._value)),this._value},value:function(e){return(e=this.color(e))&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null},enable:function(t){0===arguments.length&&(t=!0),e(".k-disabled-overlay",this.wrapper).remove(),t||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(t)},_select:function(e,t){var n=this._value;e=this.color(e),t||(this.element.trigger("change"),e.equals(n)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){k(this,"select",e)},_triggerChange:function(e){k(this,"change",e)},destroy:function(){this.element&&this.element.off(m),this.wrapper&&this.wrapper.off(m).find("*").off(m),this.wrapper=null,l.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function k(e,t,n){(n=c(n))&&!n.equals(e.color())&&("change"==t&&(e._value=n),n=1!=n.a?n.toCssRgba():n.toCss(),e.trigger(t,{value:n}))}var C=x.extend({init:function(element,t){var n=this;x.fn.init.call(n,element,t),element=n.wrapper=n.element;var o=(t=n.options).palette;"websafe"==o?(o="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",t.columns=18):"basic"==o&&(o="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7"),"string"==typeof o&&(o=o.split(",")),e.isArray(o)&&(o=e.map(o,(function(e){return c(e)}))),n._selectedID=(t.ariaId||r.guid())+"_selected",element.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(e(n._template({colors:o,columns:t.columns,tileSize:t.tileSize,value:n._value,id:t.ariaId}))).on(v,".k-item",(function(t){n._select(e(t.currentTarget).css("background-color"))})).attr("tabIndex",n._tabIndex).on(_,A(n._keydown,n));var l,h,d=t.tileSize;if(d){if(/number|string/.test(typeof d))l=h=parseFloat(d);else{if("object"!=typeof d)throw new Error("Unsupported value for the 'tileSize' argument");l=parseFloat(d.width),h=parseFloat(d.height)}element.find(".k-item").css({width:l,height:h})}},focus:function(){this.wrapper&&!this.wrapper.is("[unselectable='on']")&&this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(t){var n,r=this.wrapper.find(".k-item"),o=r.filter(".k-state-selected").get(0),l=t.keyCode;if(l==d.LEFT?n=T(r,o,-1):l==d.RIGHT?n=T(r,o,1):l==d.DOWN?n=T(r,o,this.options.columns):l==d.UP?n=T(r,o,-this.options.columns):l==d.ENTER?(E(t),o&&this._select(e(o).css("background-color"))):l==d.ESC&&this._cancel(),n){E(t),this._current(n);try{var h=c(n.css("background-color"));this._triggerSelect(h)}catch(e){}}},_current:function(t){this.wrapper.find(".k-state-selected").removeClass("k-state-selected").attr("aria-selected",!1).removeAttr("id"),e(t).addClass("k-state-selected").attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var n=null;this.wrapper.find(".k-item").each((function(){var r=c(e(this).css("background-color"));if(r&&r.equals(t))return n=this,!1})),this._current(n)},_template:r.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " k-state-selected" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),S=x.extend({init:function(element,t){var n=this;x.fn.init.call(n,element,t),(t=n.options).messages=t.options?e.extend(n.options.messages,t.options.messages):n.options.messages,element=n.element,n.wrapper=element.addClass("k-widget k-flatcolorpicker").append(n._template(t)),n._hueElements=e(".k-hsv-rectangle, .k-alpha-slider .k-slider-track",element),n._selectedColor=e(".k-selected-color-display",element),n._colorAsText=e("input.k-color-value",element),n._sliders(),n._hsvArea(),n._updateUI(n._value||c("#f00")),element.find("input.k-color-value").on(_,(function(t){var input=this;if(t.keyCode==d.ENTER)try{var r=c(input.value),o=n.color();n._select(r,r.equals(o))}catch(t){e(input).addClass("k-state-error")}else n.options.autoupdate&&setTimeout((function(){var e=c(input.value,!0);e&&n._updateUI(e,!0)}),10)})).end().on(v,".k-controls button.apply",(function(){n.options._clearedColor?n.trigger("change"):n._select(n._getHSV())})).on(v,".k-controls button.cancel",(function(){n._updateUI(n.color()),n._cancel()})),y&&n._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,x.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,clearButton:!1,autoupdate:!0,messages:f},_applyIEFilter:function(){var track=this.element.find(".k-hue-slider .k-slider-track")[0],e=track.currentStyle.backgroundImage;e=e.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),track.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')"},_sliders:function(){var e=this,element=e.element,t=element.find(".k-hue-slider"),n=element.find(".k-alpha-slider");function r(t){e._updateUI(e._getHSV(t.value,null,null,null))}function o(t){e._updateUI(e._getHSV(null,null,null,t.value/100))}t.attr("aria-label","hue saturation"),e._hueSlider=t.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:!1,slide:r,change:r}).data("kendoSlider"),n.attr("aria-label","opacity"),e._opacitySlider=n.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:o,change:o}).data("kendoSlider")},_hsvArea:function(){var e=this,t=e.element.find(".k-hsv-rectangle"),n=t.find(".k-draghandle").attr("tabIndex",0).on(_,A(e._keydown,e));function o(t,n){var r=this.offset,o=t-r.left,l=n-r.top,c=this.width,h=this.height;o=o<0?0:o>c?c:o,l=l<0?0:l>h?h:l,e._svChange(o/c,1-l/h)}e._hsvEvents=new r.UserEvents(t,{global:!0,press:function(e){this.offset=r.getOffset(t),this.width=t.width(),this.height=t.height(),n.focus(),o.call(this,e.x.location,e.y.location)},start:function(){t.addClass("k-dragging"),n.focus()},move:function(e){e.preventDefault(),o.call(this,e.x.location,e.y.location)},end:function(){t.removeClass("k-dragging")}}),e._hsvRect=t,e._hsvHandle=n},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex")},_keydown:function(e){var t=this;function n(n,r){var o=t._getHSV();o[n]+=r*(e.shiftKey?.01:.05),o[n]<0&&(o[n]=0),o[n]>1&&(o[n]=1),t._updateUI(o),E(e)}function r(n){var r=t._getHSV();r.h+=n*(e.shiftKey?1:5),r.h<0&&(r.h=0),r.h>359&&(r.h=359),t._updateUI(r),E(e)}switch(e.keyCode){case d.LEFT:e.ctrlKey?r(-1):n("s",-1);break;case d.RIGHT:e.ctrlKey?r(1):n("s",1);break;case d.UP:n(e.ctrlKey&&t._opacitySlider?"a":"v",1);break;case d.DOWN:n(e.ctrlKey&&t._opacitySlider?"a":"v",-1);break;case d.ENTER:t._select(t._getHSV());break;case d.F2:t.wrapper.find("input.k-color-value").focus().select();break;case d.ESC:t._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,s,t,a){var rect=this._hsvRect,n=rect.width(),r=rect.height(),o=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==s&&(s=o.left/n),null==t&&(t=1-o.top/r),null==a&&(a=this._opacitySlider?this._opacitySlider.value()/100:1),h.fromHSV(e,s,t,a)},_svChange:function(s,e){var t=this._getHSV(null,s,e,null);this._updateUI(t)},_updateUI:function(e,t){var rect=this._hsvRect;e&&(this._colorAsText.attr("title",this.options.messages.previewInput),this._colorAsText.removeClass("k-state-error"),this._selectedColor.css("background-color",e.toDisplay()),t||this._colorAsText.val(this._opacitySlider?e.toCssRgba():e.toCss()),this._triggerSelect(e),e=e.toHSV(),this._hsvHandle.css({left:e.s*rect.width()+"px",top:(1-e.v)*rect.height()+"px"}),this._hueElements.css("background-color",h.fromHSV(e.h,1,1,1).toCss()),this._hueSlider.value(e.h),this._opacitySlider&&this._opacitySlider.value(100*e.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:r.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" # if (clearButton && !_standalone) { #placeholder="#: messages.noColor #" # } ##= !data.input ? \'style="visibility: hidden;"\' : "" #># if (clearButton && !_standalone) { #<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span># } #</div></div></div># } ## if (clearButton && !_standalone && !preview) { #<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><div class="k-sliders-wrap k-vbox"><input class="k-hue-slider" /># if (opacity) { #<input class="k-alpha-slider k-transparency-slider" /># } #</div># if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function T(e,element,t){var n=(e=Array.prototype.slice.call(e)).length,r=e.indexOf(element);return r<0?t<0?e[n-1]:e[0]:((r+=t)<0?r+=n:r%=n,e[r])}var D=l.extend({init:function(element,t){var n=this;l.fn.init.call(n,element,t),t=n.options;var r=(element=n.element).attr("value")||element.val();r=c(r||t.value,!0),n._value=t.value=r;var content=n.wrapper=e(n._template(t));if(element.hide().after(content),element.is("input")){element.appendTo(content);var label=element.closest("label"),o=element.attr("id");o&&(label=label.add('label[for="'+o+'"]')),label.click((function(e){n.open(),e.preventDefault()}))}n._tabIndex=element.attr("tabIndex")||0,n.enable(!element.attr("disabled"));var h=element.attr("accesskey");h&&(element.attr("accesskey",null),content.attr("accesskey",h)),n.bind("activate",(function(e){e.isDefaultPrevented()||n.toggle()})),n._updateUI(r)},destroy:function(){this.wrapper.off(m).find("*").off(m),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,l.fn.destroy.call(this)},enable:function(e){var t=this,n=t.wrapper,r=n.children(".k-picker-wrap"),o=r.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),n.attr("aria-disabled",!e),o.off(m).on("mousedown"+m,E),n.addClass("k-state-disabled").removeAttr("tabIndex").add("*",n).off(m),e?n.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+m,(function(){r.addClass("k-state-hover")})).on("mouseleave"+m,(function(){r.removeClass("k-state-hover")})).on("focus"+m,(function(){r.addClass("k-state-focused")})).on("blur"+m,(function(){r.removeClass("k-state-focused")})).on(_,A(t._keydown,t)).on(v,".k-select",A(t.toggle,t)).on(v,t.options.toolIcon?".k-tool-icon":".k-selected-color",(function(){t.trigger("activate")})):t.close()},_template:r.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span># } #<span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:f,opacity:!1,buttons:!0,preview:!0,clearButton:!1,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this.element.prop("disabled")||this._getPopup().open()},close:function(){var e=this._selector&&this._selector.options||{};e._closing=!0,this._getPopup().close(),delete e._closing},toggle:function(){this.element.prop("disabled")||this._getPopup().toggle()},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line")},color:x.fn.color,value:x.fn.value,_select:x.fn._select,_triggerSelect:x.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){var t="";e&&(t=this._isInputTypeColor()||1==e.a?e.toCss():e.toCssRgba(),this.element.val(t)),this._ariaTemplate||(this._ariaTemplate=r.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css("background-color",e?e.toDisplay():"#ffffff"),this._noColorIcon()[t?"hide":"show"]()},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==d.ESC?this._selector._cancel():this._selector._keydown(e),E(e)):t!=d.ENTER&&t!=d.DOWN||(this.open(),E(e))},_getPopup:function(){var t=this,n=t._popup;if(!n){var o,l=t.options;o=l.palette?C:S,l._standalone=!1,delete l.select,delete l.change,delete l.cancel;var h=r.guid(),d=t._selector=new o(e('<div id="'+h+'"/>').appendTo(document.body),l);t.wrapper.attr("aria-owns",h),t._popup=n=d.wrapper.kendoPopup({anchor:t.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),d.element.find(".k-clear-color").kendoButton({icon:"reset-color",click:function(e){d.options._clearedColor=!0,t.value(null),t.element.val(null),t._updateUI(null),d._colorAsText.val(""),d._hsvHandle.css({top:"0px",left:"0px"}),d._selectedColor.css("background-color","#ffffff"),t.trigger("change",{value:t.value()}),e.preventDefault()}}),d.bind({select:function(e){t._updateUI(c(e.value)),delete d.options._clearedColor},change:function(){d.options._clearedColor||t._select(d.color()),t.close()},cancel:function(){d.options._clearedColor&&!t.value()&&d.value()&&t._select(d.color(),!0),t.close()}}),n.bind({close:function(e){if(t.trigger("close"))e.preventDefault();else{t.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var n=d._selectOnHide(),r=d.value(),o=t.value(),l=d.options;n?l._clearedColor&&!o||t._select(n):(setTimeout((function(){t.wrapper&&!t.wrapper.is("[unselectable='on']")&&t.wrapper.focus()})),!l._closing&&l._clearedColor&&!o&&r?t._select(r,!0):t._updateUI(t.color()))}},open:function(e){t.trigger("open")?e.preventDefault():t.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){d._select(t.color(),!0),d.focus(),t.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return n}});function E(e){e.preventDefault()}function A(e,t){return function(){return e.apply(t,arguments)}}o.plugin(C),o.plugin(S),o.plugin(D)}(c,parseInt),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))},1038:function(e,t){e.exports=n(38)},1039:function(e,t){e.exports=n(4)},1040:function(e,t){e.exports=n(122)},1041:function(e,t){e.exports=n(8)},1042:function(e,t){e.exports=n(183)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1273)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1003:function(e,t){e.exports=n(7)},1007:function(e,t){e.exports=n(0)},1273:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1003),n(1274),n(1275)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1274:function(e,t){e.exports=n(191)},1275:function(e,t){e.exports=n(297)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1360)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1007:function(e,t){e.exports=n(0)},1039:function(e,t){e.exports=n(4)},1041:function(e,t){e.exports=n(8)},1360:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1007),n(1041),n(1039)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.Class,o=n.ui.Widget,l=e.proxy,h=n.isFunction,d=n.keys,f=n._outerWidth,m="k-button",v="k-button-group",_="k-split-button",w="k-state-active",y="k-state-disabled",x="k-state-hidden",k="k-icon",C="k-i-",S="k-overflow-anchor",T="click",D=n.attr("uid");n.toolbar={};var E={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};n.toolbar.registerComponent=function(e,t,n){E[e]={toolbar:t,overflow:n}};var A=n.Class.extend({addOverflowAttr:function(){this.element.attr(n.attr("overflow"),this.options.overflow||"auto")},addUidAttr:function(){this.element.attr(D,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){this.options.attributes&&this.element.attr(this.options.attributes)},show:function(){this.element.removeClass(x).show(),this.options.hidden=!1},hide:function(){this.element.addClass(x).hide(),this.overflow&&this.overflowHidden&&this.overflowHidden(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(e){void 0===e&&(e=!0),this.element.toggleClass(y,!e),this.options.enable=e},twin:function(){var t=this.element.attr(D);return this.overflow&&this.options.splitContainerId?e("#"+this.options.splitContainerId).find("["+D+"='"+t+"']").data(this.options.type):this.overflow?this.toolbar.element.find("["+D+"='"+t+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+D+"='"+t+"']").data(this.options.type):void 0}});n.toolbar.Item=A;var I=A.extend({init:function(t,r){var element=t.useButtonTag?e('<button tabindex="0"></button>'):e('<a href tabindex="0"></a>');this.element=element,this.options=t,this.toolbar=r,this.attributes(),t.primary&&element.addClass("k-primary"),t.togglable&&(element.addClass("k-toggle-button"),this.toggle(t.selected)),void 0===t.url||t.useButtonTag||(element.attr("href",t.url),t.mobile&&element.attr(n.attr("role"),"button")),t.group&&(element.attr(n.attr("group"),t.group),this.group=this.toolbar.addToGroup(this,t.group)),!t.togglable&&t.click&&h(t.click)&&(this.clickHandler=t.click),t.togglable&&t.toggle&&h(t.toggle)&&(this.toggleHandler=t.toggle)},toggle:function(e,t){e=!!e,this.group&&e?this.group.select(this):this.group||this.select(e),t&&this.twin()&&this.twin().toggle(e)},getParentGroup:function(){if(this.options.isChild)return this.element.closest("."+v).data("buttonGroup")},_addGraphics:function(){var t,span,img,element=this.element,n=this.options.icon,r=this.options.spriteCssClass,o=this.options.imageUrl;(r||o||n)&&(t=!0,element.contents().filter((function(){return!e(this).hasClass("k-sprite")&&!e(this).hasClass(k)&&!e(this).hasClass("k-image")})).each((function(n,r){(1==r.nodeType||3==r.nodeType&&e.trim(r.nodeValue).length>0)&&(t=!1)})),t?element.addClass("k-button-icon"):element.addClass("k-button-icontext")),n?((span=element.children("span."+k).first())[0]||(span=e('<span class="'+k+'"></span>').prependTo(element)),span.addClass(C+n)):r?((span=element.children("span.k-sprite").first())[0]||(span=e('<span class="k-sprite '+k+'"></span>').prependTo(element)),span.addClass(r)):o&&((img=element.children("img.k-image").first())[0]||(img=e('<img alt="icon" class="k-image" />').prependTo(element)),img.attr("src",o))}});n.toolbar.Button=I;var M=I.extend({init:function(e,t){I.fn.init.call(this,e,t);var element=this.element;element.addClass(m),this.addIdAttr(),e.align&&element.addClass("k-align-"+e.align),"overflow"!=e.showText&&e.text&&(e.mobile?element.html('<span class="km-text">'+e.text+"</span>"):element.html(e.text)),e.hasIcon="overflow"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),e.hidden&&this.hide(),this.element.data({type:"button",button:this})},select:function(e){void 0===e&&(e=!1),this.element.toggleClass(w,e),this.options.selected=e}});n.toolbar.ToolBarButton=M;var R=I.extend({init:function(t,n){this.overflow=!0,I.fn.init.call(this,e.extend({},t),n);var element=this.element;"toolbar"!=t.showText&&t.text&&(t.mobile?element.html('<span class="km-text">'+t.text+"</span>"):element.html('<span class="k-text">'+t.text+"</span>")),t.hasIcon="toolbar"!=t.showIcon&&(t.icon||t.spriteCssClass||t.imageUrl),t.hasIcon&&this._addGraphics(),t.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(t.enable),element.addClass("k-overflow-button "+m),t.hidden&&this.hide(),t.togglable&&this.toggle(t.selected),this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass("k-overflow-hidden")},select:function(e){void 0===e&&(e=!1),this.options.isChild?this.element.toggleClass(w,e):this.element.find(".k-button").toggleClass(w,e),this.options.selected=e}});n.toolbar.OverflowButton=R,n.toolbar.registerComponent("button",M,R);var F=A.extend({createButtons:function(t){for(var r=this.options,o=r.buttons||[],i=0;i<o.length;i++)o[i].uid||(o[i].uid=n.guid()),new t(e.extend({mobile:r.mobile,isChild:!0,type:"button"},o[i]),this.toolbar).element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('.k-state-hidden'):first").addClass("k-group-start"),this.element.children().filter(":not('.k-state-hidden'):last").addClass("k-group-end")}});n.toolbar.ButtonGroup=F;var P=F.extend({init:function(t,n){var element=this.element=e("<div></div>");this.options=t,this.toolbar=n,this.addIdAttr(),t.align&&element.addClass("k-align-"+t.align),this.createButtons(M),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),element.addClass(v),this.element.data({type:"buttonGroup",buttonGroup:this})}});n.toolbar.ToolBarButtonGroup=P;var z=F.extend({init:function(t,n){var element=this.element=e("<li></li>");this.options=t,this.toolbar=n,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(R),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),element.addClass((t.mobile?"":v)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});n.toolbar.OverflowButtonGroup=z,n.toolbar.registerComponent("buttonGroup",P,z);var B=A.extend({init:function(t,n){var element=this.element=e('<div class="k-split-button" tabindex="0"></div>');this.options=t,this.toolbar=n,this.mainButton=new M(e.extend({},t,{hidden:!1}),n),this.arrowButton=e('<a class="'+m+' k-split-button-arrow"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>'),this.popupElement=e('<ul class="k-list-container k-split-container"></ul>'),this.mainButton.element.removeAttr("href tabindex").appendTo(element),this.arrowButton.appendTo(element),this.popupElement.appendTo(element),t.align&&element.addClass("k-align-"+t.align),t.id||(t.id=t.uid),element.attr("id",t.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this._navigatable(),this.mainButton.main=!0,this.enable(t.enable),t.hidden&&this.hide(),element.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var t=this;t.popupElement.on("keydown","."+m,(function(n){var li=e(n.target).parent();n.preventDefault(),n.keyCode===d.ESC||n.keyCode===d.TAB||n.altKey&&n.keyCode===d.UP?(t.toggle(),t.focus()):n.keyCode===d.DOWN?$(li,"next").focus():n.keyCode===d.UP?$(li,"prev").focus():n.keyCode===d.SPACEBAR||n.keyCode===d.ENTER?t.toolbar.userEvents.trigger("tap",{target:e(n.target)}):n.keyCode===d.HOME?li.parent().find(":kendoFocusable").first().focus():n.keyCode===d.END&&li.parent().find(":kendoFocusable").last().focus()}))},createMenuButtons:function(){for(var t=this.options,n=t.menuButtons,i=0;i<n.length;i++)new M(e.extend({mobile:t.mobile,type:"button",click:t.click},n[i]),this.toolbar).element.wrap("<li></li>").parent().appendTo(this.popupElement)},createPopup:function(){var t=this,n=this.options,element=this.element;this.popupElement.attr("id",n.id+"_optionlist").attr(D,n.rootUid),n.mobile&&(this.popupElement=j(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:n.mobile?e(n.mobile).children(".km-pane"):null,anchor:element,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:n.animation,open:function(e){t.toolbar.trigger("open",{target:element})?e.preventDefault():t.adjustPopupWidth(e.sender)},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(e){t.toolbar.trigger("close",{target:element})&&e.preventDefault(),element.focus()}}).data("kendoPopup"),this.popup.element.on(T,"a.k-button",G)},adjustPopupWidth:function(e){var t,r=e.options.anchor,o=f(r);n.wrap(e.element).addClass("k-split-wrapper"),t="border-box"!==e.element.css("box-sizing")?o-(f(e.element)-e.element.width()):o,e.element.css({fontFamily:r.css("font-family"),"min-width":t})},remove:function(){this.popup.element.off(T,"a.k-button"),this.popup.destroy(),this.element.remove()},toggle:function(){(this.options.enable||this.popup.visible())&&this.popup.toggle()},enable:function(e){void 0===e&&(e=!0),this.mainButton.enable(e),this.element.toggleClass(y,!e),this.options.enable=e},focus:function(){this.element.focus()},hide:function(){this.popup&&this.popup.close(),this.element.addClass(x).hide(),this.options.hidden=!0},show:function(){this.element.removeClass(x).hide(),this.options.hidden=!1}});n.toolbar.ToolBarSplitButton=B;var L=A.extend({init:function(t,n){var r,element=this.element=e('<li class="k-split-button"></li>'),o=t.menuButtons;this.options=t,this.toolbar=n,this.overflow=!0,r=(t.id||t.uid)+"_optionlist",this.mainButton=new R(e.extend({},t)),this.mainButton.element.appendTo(element);for(var i=0;i<o.length;i++)new R(e.extend({mobile:t.mobile,type:"button",splitContainerId:r},o[i]),this.toolbar).element.appendTo(element);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,element.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});n.toolbar.OverflowSplitButton=L,n.toolbar.registerComponent("splitButton",B,L);var H=A.extend({init:function(t,n){var element=this.element=e("<div>&nbsp;</div>");this.element=element,this.options=t,this.toolbar=n,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),element.addClass("k-separator"),element.data({type:"separator",separator:this})}}),N=A.extend({init:function(t,n){var element=this.element=e("<li>&nbsp;</li>");this.element=element,this.options=t,this.toolbar=n,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),element.addClass("k-separator"),element.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});n.toolbar.registerComponent("separator",H,N);var O=A.extend({init:function(t,n){var element=this.element=e("<div>&nbsp;</div>");this.element=element,this.options=t,this.toolbar=n,element.addClass("k-spacer"),element.data({type:"spacer"})}});n.toolbar.registerComponent("spacer",O);var V=A.extend({init:function(template,t,n){var element=h(template)?template(t):template;element=element instanceof c?element.wrap("<div></div>").parent():e("<div></div>").html(element),this.element=element,this.options=t,this.options.type="template",this.toolbar=n,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),element.data({type:"template",template:this})}});n.toolbar.TemplateItem=V;var W=A.extend({init:function(template,t,n){var element=h(template)?e(template(t)):e(template);element=element instanceof c?element.wrap("<li></li>").parent():e("<li></li>").html(element),this.element=element,this.options=t,this.options.type="template",this.toolbar=n,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),element.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});function U(e){e.target.is(".k-toggle-button")||e.target.toggleClass(w,"press"==e.type)}function j(element){return(element=e(element)).hasClass("km-actionsheet")?element.closest(".km-popup-wrapper"):element.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function G(t){e(t.target).closest("a.k-button").length&&t.preventDefault()}function $(element,t){var n="next"===t?e.fn.next:e.fn.prev,r="next"===t?e.fn.first:e.fn.last,o=n.call(element);return!o.length&&element.is("."+S)?element:o.is(":kendoFocusable")||!o.length?o:o.find(":kendoFocusable").length?r.call(o.find(":kendoFocusable")):$(o,t)}n.toolbar.OverflowTemplateItem=W;var Y=r.extend({init:function(e){this.name=e,this.buttons=[]},add:function(button){this.buttons[this.buttons.length]=button},remove:function(button){var t=e.inArray(button,this.buttons);this.buttons.splice(t,1)},select:function(button){for(var i=0;i<this.buttons.length;i++)this.buttons[i].select(!1);button.select(!0),button.twin()&&button.twin().select(!0)}}),K=o.extend({init:function(element,t){var r=this;if(o.fn.init.call(r,element,t),t=r.options,(element=r.wrapper=r.element).addClass("k-toolbar k-widget"),this.uid=n.guid(),this._isRtl=n.support.isRtl(element),this._groups={},element.attr(D,this.uid),r.isMobile="boolean"==typeof t.mobile?t.mobile:r.element.closest(".km-root")[0],r.animation=r.isMobile?{open:{effects:"fade"}}:{},r.isMobile&&(element.addClass("km-widget"),k="km-icon",C="km-",m="km-button",v="km-buttongroup",w="km-state-active",y="km-state-disabled"),t.resizable?(r._renderOverflow(),element.addClass("k-toolbar-resizable"),r.overflowUserEvents=new n.UserEvents(r.element,{threshold:5,allowSelection:!0,filter:"."+S,tap:l(r._toggleOverflow,r)}),r._resizeHandler=n.onResize((function(){r.resize()}))):r.popup={element:e([])},t.items&&t.items.length){for(var i=0;i<t.items.length;i++)r.add(t.items[i]);t.resizable&&r._shrink(r.element.innerWidth())}r.userEvents=new n.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+D+"="+this.uid+"] a."+m+", ["+D+"="+this.uid+"] .k-overflow-button",tap:l(r._buttonClick,r),press:U,release:U}),r.element.on(T,"a.k-button",G),r._navigatable(),t.resizable&&r.popup.element.on(T,NaN,G),t.resizable&&this._toggleOverflowAnchor(),n.notify(r)},events:[T,"toggle","open","close","overflowOpen","overflowClose"],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function(button,e){var t;return(t=this._groups[e]?this._groups[e]:this._groups[e]=new Y).add(button),t},destroy:function(){this.element.find("."+_).each((function(t,element){e(element).data("kendoPopup").destroy()})),this.element.off(T,"a.k-button"),this.userEvents.destroy(),this.options.resizable&&(n.unbindResize(this._resizeHandler),this.overflowUserEvents.destroy(),this.popup.element.off(T,"a.k-button"),this.popup.destroy()),o.fn.destroy.call(this)},add:function(t){var r,o,component=E[t.type],template=t.template,l=this.isMobile?"":"k-item k-state-default",c=t.overflowTemplate;if(e.extend(t,{uid:n.guid(),animation:this.animation,mobile:this.isMobile,rootUid:this.uid}),t.menuButtons)for(var i=0;i<t.menuButtons.length;i++)e.extend(t.menuButtons[i],{uid:n.guid()});template&&!c||"spacer"===t.type?t.overflow="never":t.overflow||(t.overflow="auto"),"never"!==t.overflow&&this.options.resizable&&(c?o=new W(c,t,this):component&&(o=new component.overflow(t,this)).element.addClass(l),o&&("auto"===t.overflow&&o.overflowHidden(),o.element.appendTo(this.popup.container),this.angular("compile",(function(){return{elements:o.element.get()}})))),"always"!==t.overflow&&(template?r=new V(template,t,this):component&&(r=new component.toolbar(t,this)),r&&(r.element.appendTo(this.element),this.angular("compile",(function(){return{elements:r.element.get()}}))))},_getItem:function(t){var element,n,r,o,l=this.options.resizable;return(element=this.element.find(t)).length||(element=e(".k-split-container[data-uid="+this.uid+"]").find(t)),o=element.length?element.data("type"):"",(n=element.data(o))?(n.main&&(o="splitButton",n=(element=element.parent("."+_)).data(o)),l&&(r=n.twin())):l&&(o=(element=this.popup.element.find(t)).length?element.data("type"):"",(r=element.data(o))&&r.main&&(o="splitButton",r=(element=element.parent("."+_)).data(o))),{type:o,toolbar:n,overflow:r}},remove:function(e){var t=this._getItem(e);t.toolbar&&t.toolbar.remove(),t.overflow&&t.overflow.remove(),this.resize(!0)},hide:function(e){var t,n=this._getItem(e);n.toolbar&&("button"===n.toolbar.options.type&&n.toolbar.options.isChild?(t=n.toolbar.getParentGroup(),n.toolbar.hide(),t&&t.refresh()):n.toolbar.options.hidden||n.toolbar.hide()),n.overflow&&("button"===n.overflow.options.type&&n.overflow.options.isChild?(t=n.overflow.getParentGroup(),n.overflow.hide(),t&&t.refresh()):n.overflow.options.hidden||n.overflow.hide()),this.resize(!0)},show:function(e){var t=this._getItem(e);t.toolbar&&("button"===t.toolbar.options.type&&t.toolbar.options.isChild?(t.toolbar.show(),t.toolbar.getParentGroup().refresh()):t.toolbar.options.hidden&&t.toolbar.show()),t.overflow&&("button"===t.overflow.options.type&&t.overflow.options.isChild?(t.toolbar.show(),t.overflow.getParentGroup().refresh()):t.overflow.options.hidden&&t.overflow.show()),this.resize(!0)},enable:function(element,e){var t=this._getItem(element);void 0===e&&(e=!0),t.toolbar&&t.toolbar.enable(e),t.overflow&&t.overflow.enable(e)},getSelectedFromGroup:function(e){return this.element.find(".k-toggle-button[data-group='"+e+"']").filter("."+w)},toggle:function(button,t){var n=e(button).data("button");n.options.togglable&&(void 0===t&&(t=!0),n.toggle(t,!0))},_renderOverflow:function(){var t=this,r=E.overflowContainer,o=t._isRtl,l=o?"left":"right";t.overflowAnchor=e(E.overflowAnchor).addClass(m),t.element.append(t.overflowAnchor),t.isMobile?(t.overflowAnchor.append('<span class="km-icon km-more"></span>'),r=j(r)):t.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>'),t.popup=new n.ui.Popup(r,{origin:"bottom "+l,position:"top "+l,anchor:t.overflowAnchor,isRtl:o,animation:t.animation,appendTo:t.isMobile?e(t.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(r){var l=n.wrap(t.popup.element).addClass("k-overflow-wrapper");t.isMobile?t.popup.container.css("max-height",parseFloat(e(".km-content:visible").innerHeight())-15+"px"):l.css("margin-left",(o?-1:1)*((f(l)-l.width())/2+1)),t.trigger("overflowOpen")&&r.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(e){t.trigger("overflowClose")&&e.preventDefault(),this.element.focus()}}),t.popup.element.on("keydown","."+m,(function(n){var r=e(n.target),li=r.parent(),o=li.is("."+v)||li.is("."+_);n.preventDefault(),n.keyCode===d.ESC||n.keyCode===d.TAB||n.altKey&&n.keyCode===d.UP?(t._toggleOverflow(),t.overflowAnchor.focus()):n.keyCode===d.DOWN?$(!o||o&&r.is(":last-child")?li:r,"next").focus():n.keyCode===d.UP?$(!o||o&&r.is(":first-child")?li:r,"prev").focus():n.keyCode===d.SPACEBAR||n.keyCode===d.ENTER?(t.userEvents.trigger("tap",{target:e(n.target)}),t.overflowAnchor.focus()):n.keyCode===d.HOME?li.parent().find(":kendoFocusable").first().focus():n.keyCode===d.END&&li.parent().find(":kendoFocusable").last().focus()})),t.isMobile?t.popup.container=t.popup.element.find(".k-overflow-container"):t.popup.container=t.popup.element,t.popup.container.attr(D,this.uid)},_toggleOverflowAnchor:function(){var e=this._isRtl?"padding-left":"padding-right";(this.options.mobile?this.popup.element.find(".k-overflow-container").children(":not(.k-overflow-hidden, .k-popup)").length>0:this.popup.element.children(":not(.k-overflow-hidden, .k-popup)").length>0)?(this.overflowAnchor.css({visibility:"visible",width:""}),this.wrapper.css(e,this.overflowAnchor.outerWidth(!0))):(this.overflowAnchor.css({visibility:"hidden",width:"1px"}),this.wrapper.css(e,""))},_buttonClick:function(t){var n,r,o,l,c,d,f=t.target.closest(".k-split-button-arrow").length;t.preventDefault(),f?this._toggle(t):(n=e(t.target).closest("."+m,this.element)).hasClass(S)||(!(r=n.data("button"))&&this.popup&&(r=(n=e(t.target).closest(".k-overflow-button",this.popup.container)).parent("li").data("button")),r&&r.options.enable&&(r.options.togglable?(l=h(r.toggleHandler)?r.toggleHandler:null,r.toggle(!r.options.selected,!0),c={target:n,group:r.options.group,checked:r.options.selected,id:r.options.id,item:r},l&&l.call(this,c),this.trigger("toggle",c)):(l=h(r.clickHandler)?r.clickHandler:null,c={sender:this,target:n,id:r.options.id,item:r},l&&l.call(this,c),this.trigger(T,c)),r.options.url&&(r.options.attributes&&r.options.attributes.target&&(d=r.options.attributes.target),window.open(r.options.url,d||"_self")),n.hasClass("k-overflow-button")&&this.popup.close(),(o=n.closest(".k-split-container"))[0]&&(o.data("kendoPopup")||o.parents(".km-popup-wrapper").data("kendoPopup")).close()))},_navigatable:function(){this.element.attr("tabindex",0).on("focusin",(function(t){var n=e(t.target),element=e(this).find(":kendoFocusable:first");n.is(".k-toolbar")&&0!==element.length&&(element.is("."+S)&&(element=$(element,"next")),element.length&&element[0].focus())})).on("keydown",l(this._keydown,this))},_keydown:function(t){var n=e(t.target),r=t.keyCode,o=this.element.children(":not(.k-separator):visible"),l=this._isRtl?-1:1;if(r===d.TAB){var element=n.parentsUntil(this.element).last(),c=!1,h=!1,f=!1;if(o.not("."+S).length||(f=!0),element.length||(element=n),element.is("."+S)&&!f){var m=o.last();t.shiftKey&&t.preventDefault(),m.is(":kendoFocusable")?o.last().focus():o.last().find(":kendoFocusable").last().focus()}t.shiftKey||o.index(element)!==o.length-1||(c=!element.is("."+v)||n.is(":last-child"));var w=o.index(element)===o.not(".k-overflow-anchor").first().index();if(t.shiftKey&&w&&(h=!element.is("."+v)||n.is(":first-child")),c&&this.overflowAnchor&&"hidden"!==this.overflowAnchor.css("visibility")&&!f&&(t.preventDefault(),this.overflowAnchor.focus()),h||f&&t.shiftKey){t.preventDefault();var y=this._getPrevFocusable(this.wrapper);y&&y.focus()}this._preventNextFocus=!1}if(t.altKey&&r===d.DOWN){var x=e(document.activeElement).data("splitButton"),k=e(document.activeElement).is("."+S);x?x.toggle():k&&this._toggleOverflow()}else{if((r===d.SPACEBAR||r===d.ENTER)&&!n.is("input, checkbox"))return r===d.SPACEBAR&&t.preventDefault(),void(n.is("."+_)?(n=n.children().first(),this.userEvents.trigger("tap",{target:n})):r===d.SPACEBAR&&this.userEvents.trigger("tap",{target:n}));if(r===d.HOME){if(n.is(".k-dropdown")||n.is("input"))return;this.overflowAnchor?o.eq(1).focus():o.first().focus(),t.preventDefault()}else if(r===d.END){if(n.is(".k-dropdown")||n.is("input"))return;this.overflowAnchor&&"hidden"!=e(this.overflowAnchor).css("visibility")?this.overflowAnchor.focus():o.last().focus(),t.preventDefault()}else r!==d.RIGHT||this._preventNextFocus||n.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(t.target,1*l)?r!==d.LEFT||this._preventNextFocus||n.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(t.target,-1*l)||(this._getNextElement(t.target,-1*l).focus(),t.preventDefault()):(this._getNextElement(t.target,1*l).focus(),t.preventDefault())}},_getNextElement:function(t,n){var r=this.element.children(":not(.k-separator):visible"),o=-1===r.index(t)?r.index(t.parentElement):r.index(t),l=this.overflowAnchor?1:0,c=n,h=1===n?r.length-1:l,d=1===n?l:r.length-1,f=r[o+n];if(this._preventNextFocus=!1,e(t).closest("."+v).length&&!e(t).is(1===n?":last-child":":first-child"))return e(t).closest("."+v).children()[e(t).closest("."+v).children().index(t)+n];for(this.overflowAnchor&&t===this.overflowAnchor[0]&&-1===n&&(f=r[r.length-1]),o===h&&(f=!this.overflowAnchor||this.overflowAnchor&&"hidden"===e(this.overflowAnchor).css("visibility")?r[d]:this.overflowAnchor);!e(f).is(":kendoFocusable");){if(!(f=-1===n&&e(f).closest("."+v).length?e(f).children(":not(label, div)").last():e(f).children(":not(label, div)").first()).length&&!(f=r[o+(c+=n)]))return this.overflowAnchor;this._preventNextFocus=!e(f).closest("."+v).length}return f},_getPrevFocusable:function(element){return element.is("html")?element:(element.prevAll().each((function(){return(n=e(this)).is(":kendoFocusable")?(t=n,!1):n.find(":kendoFocusable").length>0?(t=n.find(":kendoFocusable").last(),!1):void 0})),t||this._getPrevFocusable(element.parent()));var t,n},_toggle:function(t){var n=e(t.target).closest("."+_).data("splitButton");t.preventDefault(),n.options.enable&&n.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var t=e.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var t=0;return this.element.children(":visible:not(.k-state-hidden, .k-spacer)").each((function(){t+=f(e(this),!0)})),Math.ceil(t)},_shrink:function(e){var t,n;if(e<this._childrenWidth())for(var i=(n=this.element.children(":visible:not([data-overflow='never'], ."+S+")")).length-1;i>=0&&(t=n.eq(i),!(e>this._childrenWidth()));i--)this._hideItem(t)},_stretch:function(e){var t,n;if(e>this._childrenWidth()){n=this.element.children(":hidden:not('.k-state-hidden')");for(var i=0;i<n.length&&(t=n.eq(i),!(e<this._childrenWidth())&&this._showItem(t,e));i++);}},_hideItem:function(e){e.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").removeClass("k-overflow-hidden")},_showItem:function(e,t){return!!(e.length&&t>this._childrenWidth()+f(e,!0))&&(e.show(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").addClass("k-overflow-hidden"),!0)},_markVisibles:function(){var e=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),n=e.filter(":not(.k-overflow-hidden)"),r=t.filter(":visible");e.add(t).removeClass("k-toolbar-first-visible k-toolbar-last-visible"),n.first().add(r.first()).addClass("k-toolbar-first-visible"),n.last().add(r.last()).addClass("k-toolbar-last-visible")}});n.ui.plugin(K)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(954)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},954:function(e,t,n){var r,o,l;n(3),o=[n(955)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.Class,r=e.extend,o=t.ui.editor,l=t.ui.Editor.fn.options.formats,c=o.Dom,h=o.ToolTemplate,d=o.FormatTool,f=o.EditorUtils,m=f.registerTool,v=f.registerFormat,_=o.RangeUtils,w=n.extend({init:function(e){this.format=e},contains:function(e,t){var i,n,r;for(i=0,n=t.length;i<n;i++)if(!(r=t[i])||!c.isAncestorOrSelf(e,r))return!1;return!0},findSuitable:function(t){var i,n,r,o=this.format,l=[];for(i=0,n=t.length;i<n;i++){for(var h=o.length-1;h>=0&&!(r=c.ofType(t[i],o[h].tags)?t[i]:c.closestEditableOfType(t[i],o[h].tags));h--);if(!r||"true"===r.contentEditable)return[];e.inArray(r,l)<0&&l.push(r)}for(this._resolveListsItems(l),i=0,n=l.length;i<n;i++)if(this.contains(l[i],l))return[l[i]];return l},_resolveListsItems:function(e){var i,t,n;for(i=0;i<e.length;i++)t=e[i],n=(n=c.is(t,"li")?t:c.wrapper(t))&&c.list(n)?n.children[0]:n,c.is(n,"li")&&(t=e[i]=n)},findFormat:function(e){var i,t,n,r,l,h=this.format,d=c.editableParent(e),f=this.options&&this.options.immutables,m=o.Immutables;for(i=0,t=h.length;i<t;i++){if(n=e,r=h[i].tags,l=h[i].attr,f&&r&&"immutable"==r[0]){var v=m.immutableParent(n);if(v&&c.attrEquals(v,l))return n}for(;n&&c.isAncestorOf(d,n);){if(c.ofType(n,r)&&c.attrEquals(n,l))return n;n=n.parentNode}}return null},getFormat:function(e){var i,t,n=this,r=function(e){return n.findFormat(c.isDataNode(e)?e.parentNode:e)},o=r(e[0]);if(!o)return"";for(i=1,t=e.length;i<t;i++)if(o!=r(e[i]))return"";return o.nodeName.toLowerCase()},isFormatted:function(e){for(var i=0,t=e.length;i<t;i++)if(!this.findFormat(e[i]))return!1;return!0}}),y=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new w(e)},wrap:function(e,t,n){var r=1==n.length?c.blockParentOrBody(n[0]):c.commonAncestor.apply(null,n);c.isInline(r)&&(r=c.blockParentOrBody(r));var i,o,l=c.significantChildNodes(r),h=c.findNodeIndex(l[0]),d=c.create(r.ownerDocument,e,t);for(i=0;i<l.length;i++)o=l[i],c.isBlock(o)?(c.attr(o,t),d.childNodes.length&&(c.insertBefore(d,o),d=d.cloneNode(!1)),h=c.findNodeIndex(o)+1):d.appendChild(o);d.firstChild&&c.insertAt(r,d,h)},apply:function(t){var n,o=this.values;function l(e){return r({},e&&e.attr,o)}this._handleImmutables(t,!0);var h=c.filter("img",t),d=l(f.formatByName("img",this.format));if(e.each(h,(function(){c.attr(this,d)})),h.length!=t.length){var m=c.filter("img",t,!0),v=this.finder.findSuitable(m);if(v.length)for(var i=0,_=v.length;i<_;i++)n=f.formatByName(c.name(v[i]),this.format),c.attr(v[i],l(n));else n=this.format[0],this.wrap(n.tags[0],l(n),m)}},_handleImmutables:function(e,t){if(this.immutables()){var n=f.formatByName("immutable",this.format);if(n)for(var r=o.Immutables,i=e.length-1;i>=0;i--){var l=r.immutableParent(e[i]);l&&(l!==e[i+1]&&(t?c.attr(l,n.attr):c.unstyle(l,n.attr.style)),e.splice(i,1))}}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var i,t,n,r,o;for(this._handleImmutables(e,!1),i=0,t=e.length;i<t;i++)(n=this.finder.findFormat(e[i]))&&(o=c.name(n),(r=f.formatByName(o,this.format)).attr.style&&c.unstyle(n,r.attr.style),r.attr.className&&c.removeClass(n,r.attr.className))},toggle:function(e){var t=c.filterBy(_.nodes(e),c.htmlIndentSpace,!0);this.finder.isFormatted(t)?this.remove(t):this.apply(t)}}),x=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new w(e)},apply:function(e){var i,t,n,r,l,element,h,d,f=this.format,m=c.blockParents(e),v=f[0].tags[0];if(m.length)for(i=0,t=m.length;i<t;i++)d=m[i],this.immutables()&&o.Immutables.immutableParent(d)||("li"==(h=c.name(d))?(n=d.parentNode,r=new o.ListFormatter(n.nodeName.toLowerCase(),v),(l=this.editor.createRange()).selectNode(m[i]),r.toggle(l)):v&&("td"==h||d.attributes.contentEditable)?new y(f,this.values).apply(d.childNodes):(element=c.changeTag(d,v),c.attr(element,f[0].attr)));else{var _=new y(f,this.values);_.editor=this.editor,_.apply(e)}},toggle:function(e){var t=_.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),(t=_.textNodes(e)).length||(t=c.significantChildNodes(e.commonAncestorContainer))),this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}}),k=d.extend({init:function(e){d.fn.init.call(this,r(e,{finder:new w(e.format),formatter:function(){return new y(e.format)}}))}});r(o,{BlockFormatFinder:w,BlockFormatter:y,GreedyBlockFormatter:x,BlockFormatTool:k});var C=["ul","ol","li"];v("justifyLeft",[{tags:c.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:C,attr:{style:{textAlign:"left",listStylePosition:""}}}]),m("justifyLeft",new k({format:l.justifyLeft,template:new h({template:f.buttonTemplate,title:"Justify Left"})})),v("justifyCenter",[{tags:c.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:C,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),m("justifyCenter",new k({format:l.justifyCenter,template:new h({template:f.buttonTemplate,title:"Justify Center"})})),v("justifyRight",[{tags:c.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:C,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),m("justifyRight",new k({format:l.justifyRight,template:new h({template:f.buttonTemplate,title:"Justify Right"})})),v("justifyFull",[{tags:c.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:C,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),m("justifyFull",new k({format:l.justifyFull,template:new h({template:f.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},955:function(e,t){e.exports=n(143)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(979)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},948:function(e,t){e.exports=n(23)},979:function(e,t,n){var r,o,l;n(3),o=[n(948)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window,r=n.Math,o=r.min,l=r.max,c=n.parseFloat,h=e.jQuery,d=h.extend,f=e.ui.editor,m="%",v="px",_=/(\d+)(\.?)(\d*)%/,w=/(\d+)(\.?)(\d*)px/,y="string";function x(e){return typeof e===y&&_.test(e)}d(f,{ResizingUtils:{constrain:function(e){var t=e.value,n=e.min,r=e.max;return l(o(c(t),c(r)),c(n))},getScrollBarWidth:function(element){return element&&!h(element).is("body")&&element.scrollHeight>element.clientHeight?e.support.scrollbar():0},calculatePercentageRatio:function(e,t){return x(e)?c(e):c(e)/t*100},inPercentages:x,inPixels:function(e){return typeof e===y&&w.test(e)},toPercentages:function(e){return c(e)+m},toPixels:function(e){return c(e)+v}}})}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1112)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1063:function(e,t){e.exports=n(17)},1112:function(e,t,n){var r,o,l;n(3),o=[n(1063),n(1113),n(1114),n(1115)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1113:function(e,t){e.exports=n(216)},1114:function(e,t){e.exports=n(393)},1115:function(e,t){e.exports=n(394)}})},,,,,,,,,,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(921),e.exports=n(921)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},921:function(e,t,n){var r,o,l;n(3),o=[n(922),n(923),n(924)],void 0===(l="function"==typeof(r=function(){!function(e){window.kendo=window.kendo||{};var t=kendo.drawing.util,n=kendo.Class,r=kendo.util,o=kendo.support.browser,l=t.createPromise,c=t.promiseAll,h={extend:function(e){for(var t in this)"extend"!==t&&(e[t]=this[t])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(element){return this._observers?this._observers.push(element):this._observers=[element],this},removeObserver:function(element){var e=this.observers(),t=e.indexOf(element);return-1!==t&&e.splice(t,1),this},trigger:function(e,t){var n=this._observers;if(n&&!this._suspended)for(var r=0;r<n.length;r++){var o=n[r];o[e]&&o[e](t)}return this},optionsChange:function(e){void 0===e&&(e={}),e.element=this,this.trigger("optionsChange",e)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function d(e,t){return e.push.apply(e,t),e}var f={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function m(e){for(var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";e>0;)e<t[0]?t.shift():(n+=f[t[0]],e-=t[0]);return n}var v="undefined";function _(e){return typeof e!==v}var w=1;function y(){return"kdef"+w++}var x=Math.PI/180,k=Number.MAX_VALUE,C=-Number.MAX_VALUE;function S(e){return e/x}var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D=String.fromCharCode;function E(input){for(var output="",i=0,e=function(input){for(var output="",i=0;i<input.length;i++){var e=input.charCodeAt(i);e<128?output+=D(e):e<2048?(output+=D(192|e>>>6),output+=D(128|63&e)):e<65536&&(output+=D(224|e>>>12),output+=D(128|e>>>6&63),output+=D(128|63&e))}return output}(input);i<e.length;){var t=e.charCodeAt(i++),n=e.charCodeAt(i++),r=e.charCodeAt(i++),o=t>>2,l=(3&t)<<4|n>>4,c=(15&n)<<2|r>>6,h=63&r;isNaN(n)?c=h=64:isNaN(r)&&(h=64),output=output+T.charAt(o)+T.charAt(l)+T.charAt(c)+T.charAt(h)}return output}function A(e){return _((e.x||{}).location)?{x:e.x.location,y:e.y.location}:{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}function I(e){return void 0===e&&(e={}),e.touch?e.touch.initialTouch:e.target}function M(e){return""===e||null===e||"none"===e||"transparent"===e||!_(e)}function R(e){if(e)return e[e.length-1]}function F(e,t,n){return Math.max(Math.min(e,n),t)}function P(a,e){return a.length<2?a.slice():function t(a){if(a.length<=1)return a;var n=Math.floor(a.length/2),r=a.slice(0,n),o=a.slice(n);return function(a,b){for(var t=[],n=0,r=0,i=0;n<a.length&&r<b.length;)e(a[n],b[r])<=0?t[i++]=a[n++]:t[i++]=b[r++];return n<a.length&&t.push.apply(t,a.slice(n)),r<b.length&&t.push.apply(t,b.slice(r)),t}(r=t(r),o=t(o))}(a)}function z(e){return e*x}function B(e,t){var p,n=(p=t)?Math.pow(10,p):1;return Math.round(e*n)/n}function L(e,t){return _(e)?e:t}function H(element,e){for(var t in e)for(var n=t.trim().split(" "),r=0;r<n.length;r++)element.addEventListener(n[r],e[t],!1)}function N(element){var e=element.getBoundingClientRect(),t=document.documentElement;return{top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}function O(element,e){for(var t={},style=window.getComputedStyle(element)||{},n=Array.isArray(e)?e:[e],r=0;r<n.length;r++){var o=n[r];t[o]=style[o]}return t}function V(e){return isNaN(e)?e:e+"px"}function W(element,e){if(!e){var t=O(element,["width","height"]);return{width:parseInt(t.width,10),height:parseInt(t.height,10)}}var n=e.width,r=e.height;_(n)&&(element.style.width=V(n)),_(r)&&(element.style.height=V(r))}function U(element,e){for(var t in void 0===e&&(e={}),e)for(var n=t.trim().split(" "),r=0;r<n.length;r++)element.removeEventListener(n[r],e[t],!1)}var j={append:d,arabicToRoman:m,createPromise:l,defined:_,definitionId:y,deg:S,encodeBase64:E,eventCoordinates:A,eventElement:I,isTransparent:M,last:R,limitValue:F,mergeSort:P,promiseAll:c,rad:z,round:B,valueOrDefault:L,bindEvents:H,elementOffset:N,elementSize:W,elementStyles:O,unbindEvents:U,DEG_TO_RAD:x,MAX_NUM:k,MIN_NUM:C},G={}.toString,$=n.extend({init:function(e,t){for(var n in void 0===t&&(t=""),this.prefix=t,e){var r=e[n];r=this._wrap(r,n),this[n]=r}},get:function(e){for(var t=e.split("."),n=this;t.length&&n;)n=n[t.shift()];return n},set:function(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))},_set:function(e,t){var n=e.indexOf(".")>=0,r=this,o=e;if(n){for(var l=o.split("."),c=this.prefix;l.length>1;){c+=(o=l.shift())+".";var h=r[o];h||((h=new $({},c)).addObserver(this),r[o]=h),r=h}o=l[0]}r._clear(o),r[o]=t},_clear:function(e){var t=this[e];t&&t.removeObserver&&t.removeObserver(this)},_wrap:function(object,e){var t=G.call(object),r=object;return null!==r&&_(r)&&"[object Object]"===t&&(object instanceof $||object instanceof n||(r=new $(r,this.prefix+e+".")),r.addObserver(this)),r}});function Y(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function K(e){return function(){return this[e]}}function Q(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.charAt(0).toUpperCase()+n.substring(1,n.length);e["set"+r]=Y(n),e["get"+r]=K(n)}}h.extend($.prototype);var X=n.extend({init:function(a,b,e,t,n,r){void 0===a&&(a=0),void 0===b&&(b=0),void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.a=a,this.b=b,this.c=e,this.d=t,this.e=n,this.f=r},multiplyCopy:function(e){return new X(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)},invert:function(){var a=this.a,b=this.b,e=this.c,t=this.d,g=this.e,n=this.f,r=a*t-b*e;return 0===r?null:new X(t/r,-b/r,-e/r,a/r,(e*n-t*g)/r,(b*g-a*n)/r)},clone:function(){return new X(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f},round:function(e){return this.a=B(this.a,e),this.b=B(this.b,e),this.c=B(this.c,e),this.d=B(this.d,e),this.e=B(this.e,e),this.f=B(this.f,e),this},toArray:function(e){var t=[this.a,this.b,this.c,this.d,this.e,this.f];if(_(e))for(var i=0;i<t.length;i++)t[i]=B(t[i],e);return t},toString:function(e,t){return void 0===t&&(t=","),this.toArray(e).join(t)}});function J(e){return e&&"function"==typeof e.matrix?e.matrix():e}X.translate=function(e,t){return new X(1,0,0,1,e,t)},X.unit=function(){return new X(1,0,0,1,0,0)},X.rotate=function(e,t,n){var r=new X;return r.a=Math.cos(z(e)),r.b=Math.sin(z(e)),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+n*r.b||0,r.f=n-n*r.a-t*r.b||0,r},X.scale=function(e,t){return new X(e,0,0,t,0,0)},X.IDENTITY=X.unit();var Z=n.extend({init:function(e,t){this.x=e||0,this.y=t||0},equals:function(e){return e&&e.x===this.x&&e.y===this.y},clone:function(){return new Z(this.x,this.y)},rotate:function(e,t){var n=Z.create(t)||Z.ZERO;return this.transform(X.rotate(e,n.x,n.y))},translate:function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this},translateWith:function(e){return this.translate(e.x,e.y)},move:function(e,t){return this.x=this.y=0,this.translate(e,t)},scale:function(e,t){return void 0===t&&(t=e),this.x*=e,this.y*=t,this.geometryChange(),this},scaleCopy:function(e,t){return this.clone().scale(e,t)},transform:function(e){var t=J(e),n=this.x,r=this.y;return this.x=t.a*n+t.c*r+t.e,this.y=t.b*n+t.d*r+t.f,this.geometryChange(),this},transformCopy:function(e){var t=this.clone();return e&&t.transform(e),t},distanceTo:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},round:function(e){return this.x=B(this.x,e),this.y=B(this.y,e),this.geometryChange(),this},toArray:function(e){var t=_(e);return[t?B(this.x,e):this.x,t?B(this.y,e):this.y]},toString:function(e,t){void 0===t&&(t=" ");var n=this.x,r=this.y;return _(e)&&(n=B(n,e),r=B(r,e)),n+t+r}});Z.create=function(e,t){if(_(e))return e instanceof Z?e:1===arguments.length&&2===e.length?new Z(e[0],e[1]):new Z(e,t)},Z.min=function(){for(var e=arguments,t=k,n=k,i=0;i<arguments.length;i++){var r=e[i];t=Math.min(r.x,t),n=Math.min(r.y,n)}return new Z(t,n)},Z.max=function(){for(var e=arguments,t=C,n=C,i=0;i<arguments.length;i++){var r=e[i];t=Math.max(r.x,t),n=Math.max(r.y,n)}return new Z(t,n)},Z.minPoint=function(){return new Z(C,C)},Z.maxPoint=function(){return new Z(k,k)},Object.defineProperties&&Object.defineProperties(Z,{ZERO:{get:function(){return new Z(0,0)}}}),Q(Z.prototype,["x","y"]),h.extend(Z.prototype);var ee=n.extend({init:function(e,t){this.width=e||0,this.height=t||0},equals:function(e){return e&&e.width===this.width&&e.height===this.height},clone:function(){return new ee(this.width,this.height)},toArray:function(e){var t=_(e);return[t?B(this.width,e):this.width,t?B(this.height,e):this.height]}});ee.create=function(e,t){if(_(e))return e instanceof ee?e:1===arguments.length&&2===e.length?new ee(e[0],e[1]):new ee(e,t)},Object.defineProperties&&Object.defineProperties(ee,{ZERO:{get:function(){return new ee(0,0)}}}),Q(ee.prototype,["width","height"]),h.extend(ee.prototype);var te=n.extend({init:function(e,t){void 0===e&&(e=new Z),void 0===t&&(t=new ee),this.setOrigin(e),this.setSize(t)},clone:function(){return new te(this.origin.clone(),this.size.clone())},equals:function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)},setOrigin:function(e){return this._observerField("origin",Z.create(e)),this.geometryChange(),this},getOrigin:function(){return this.origin},setSize:function(e){return this._observerField("size",ee.create(e)),this.geometryChange(),this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(e){var t=this.topLeft().transformCopy(e),tr=this.topRight().transformCopy(e),br=this.bottomRight().transformCopy(e),n=this.bottomLeft().transformCopy(e);return te.fromPoints(t,tr,br,n)},transformCopy:function(e){return te.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))},expand:function(e,t){return void 0===t&&(t=e),this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this},expandCopy:function(e,t){return this.clone().expand(e,t)},containsPoint:function(e){var t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)},_isOnPath:function(e,t){var n=this.expandCopy(t,t),r=this.expandCopy(-t,-t);return n.containsPoint(e)&&!r.containsPoint(e)}});te.fromPoints=function(){var e=Z.min.apply(null,arguments),t=Z.max.apply(null,arguments),n=new ee(t.x-e.x,t.y-e.y);return new te(e,n)},te.union=function(a,b){return te.fromPoints(Z.min(a.topLeft(),b.topLeft()),Z.max(a.bottomRight(),b.bottomRight()))},te.intersect=function(a,b){var e={left:a.topLeft().x,top:a.topLeft().y,right:a.bottomRight().x,bottom:a.bottomRight().y},t={left:b.topLeft().x,top:b.topLeft().y,right:b.bottomRight().x,bottom:b.bottomRight().y};if(e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom)return te.fromPoints(new Z(Math.max(e.left,t.left),Math.max(e.top,t.top)),new Z(Math.min(e.right,t.right),Math.min(e.bottom,t.bottom)))},h.extend(te.prototype);var ie=n.extend({init:function(e){void 0===e&&(e=X.unit()),this._matrix=e},clone:function(){return new ie(this._matrix.clone())},equals:function(e){return e&&e._matrix.equals(this._matrix)},translate:function(e,t){return this._matrix=this._matrix.multiplyCopy(X.translate(e,t)),this._optionsChange(),this},scale:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=null);var r=n;return r&&(r=Z.create(r),this._matrix=this._matrix.multiplyCopy(X.translate(r.x,r.y))),this._matrix=this._matrix.multiplyCopy(X.scale(e,t)),r&&(this._matrix=this._matrix.multiplyCopy(X.translate(-r.x,-r.y))),this._optionsChange(),this},rotate:function(e,t){var n=Z.create(t)||Z.ZERO;return this._matrix=this._matrix.multiplyCopy(X.rotate(e,n.x,n.y)),this._optionsChange(),this},multiply:function(e){var t=J(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this},matrix:function(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix},_optionsChange:function(){this.optionsChange({field:"transform",value:this})}});function ne(e){return null===e?null:e instanceof ie?e:new ie(e)}h.extend(ie.prototype);var re=n.extend({init:function(e){this._initOptions(e)},_initOptions:function(e){void 0===e&&(e={});var t=e.clip,n=e.transform;n&&(e.transform=ne(n)),t&&!t.id&&(t.id=y()),this.options=new $(e),this.options.addObserver(this)},transform:function(e){if(!_(e))return this.options.get("transform");this.options.set("transform",ne(e))},parentTransform:function(){for(var e,element=this;element.parent;){var t=(element=element.parent).transform();t&&(e=t.matrix().multiplyCopy(e||X.unit()))}if(e)return ne(e)},currentTransform:function(e){void 0===e&&(e=this.parentTransform());var t,n=J(this.transform()),r=J(e);if(t=n&&r?r.multiplyCopy(n):n||r)return ne(t)},visible:function(e){return _(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")},clip:function(e){var t=this.options;return _(e)?(e&&!e.id&&(e.id=y()),t.set("clip",e),this):t.get("clip")},opacity:function(e){return _(e)?(this.options.set("opacity",e),this):L(this.options.get("opacity"),1)},clippedBBox:function(e){var t=this._clippedBBox(e);if(t){var n=this.clip();return n?te.intersect(t,n.bbox(e)):t}},containsPoint:function(e,t){if(this.visible()){var n=this.currentTransform(t),r=e;return n&&(r=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(r)||this._isOnPath&&this._hasStroke()&&this._isOnPath(r)}return!1},_hasFill:function(){var e=this.options.fill;return e&&!M(e.color)},_hasStroke:function(){var e=this.options.stroke;return e&&e.width>0&&!M(e.color)},_clippedBBox:function(e){return this.bbox(e)}});function oe(e,t,n,r){var o=0,l=0;return r&&(o=Math.atan2(r.c*n,r.a*t),0!==r.b&&(l=Math.atan2(r.d*n,r.b*t))),{x:o,y:l}}re.prototype.nodeType="Element",h.extend(re.prototype);var se=Math.PI/2,ae=n.extend({init:function(e,t){void 0===e&&(e=new Z),void 0===t&&(t=0),this.setCenter(e),this.setRadius(t)},setCenter:function(e){return this._observerField("center",Z.create(e)),this.geometryChange(),this},getCenter:function(){return this.center},equals:function(e){return e&&e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return new ae(this.center.clone(),this.radius)},pointAt:function(e){return this._pointAt(z(e))},bbox:function(e){for(var t=oe(this.center,this.radius,this.radius,e),n=Z.maxPoint(),r=Z.minPoint(),i=0;i<4;i++){var o=this._pointAt(t.x+i*se).transformCopy(e),l=this._pointAt(t.y+i*se).transformCopy(e),c=new Z(o.x,l.y);n=Z.min(n,c),r=Z.max(r,c)}return te.fromPoints(n,r)},_pointAt:function(e){var t=this.center,n=this.radius;return new Z(t.x+n*Math.cos(e),t.y+n*Math.sin(e))},containsPoint:function(e){var t=this.center,n=this.radius;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)},_isOnPath:function(e,t){var n=this.center,r=this.radius,o=n.distanceTo(e);return r-t<=o&&o<=r+t}});Q(ae.prototype,["radius"]),h.extend(ae.prototype);var le={extend:function(e){e.fill=this.fill,e.stroke=this.stroke},fill:function(e,t){var n=this.options;if(_(e)){if(e&&"Gradient"!==e.nodeType){var r={color:e};_(t)&&(r.opacity=t),n.set("fill",r)}else n.set("fill",e);return this}return n.get("fill")},stroke:function(e,t,n){return _(e)?(this.options.set("stroke.color",e),_(t)&&this.options.set("stroke.width",t),_(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},ce=X.IDENTITY.toString(),he={extend:function(e){e.bbox=this.bbox,e.geometryChange=this.geometryChange},bbox:function(e){var t,n=J(this.currentTransform(e)),r=n?n.toString():ce;this._bboxCache&&this._matrixHash===r?t=this._bboxCache.clone():(t=this._bbox(n),this._bboxCache=t?t.clone():null,this._matrixHash=r);var o=this.options.get("stroke.width");return o&&t&&t.expand(o/2),t},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function de(e){var t="_"+e;return function(e){return _(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}function ue(e,t){for(var i=0;i<t.length;i++)e[t[i]]=de(t[i])}var pe=re.extend({init:function(e,t){void 0===e&&(e=new ae),void 0===t&&(t={}),re.fn.init.call(this,t),this.geometry(e),_(this.options.stroke)||this.stroke("#000")},rawBBox:function(){return this._geometry.bbox()},_bbox:function(e){return this._geometry.bbox(e)},_containsPoint:function(e){return this.geometry().containsPoint(e)},_isOnPath:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}});pe.prototype.nodeType="Circle",le.extend(pe.prototype),he.extend(pe.prototype),ue(pe.prototype,["geometry"]);var fe=10;function ge(a,b,e){return void 0===e&&(e=fe),0===B(Math.abs(a-b),e)}function me(a,b,e){return a<b||ge(a,b,e)}var ve=Math.pow,_e=n.extend({init:function(e,t){void 0===e&&(e=new Z),void 0===t&&(t={}),this.setCenter(e),this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1,this.xRotation=t.xRotation},clone:function(){return new _e(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(e){return this._observerField("center",Z.create(e)),this.geometryChange(),this},getCenter:function(){return this.center},pointAt:function(e){var t=this.center,n=z(e);return new Z(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))},curvePoints:function(){var e,t=this.startAngle,n=this.anticlockwise?-1:1,r=[this.pointAt(t)],o=this._arcInterval(),l=o.endAngle-o.startAngle,c=Math.ceil(l/45),h=l/c,d=t;this.xRotation&&(e=ne().rotate(this.xRotation,this.center));for(var i=1;i<=c;i++){var f=d+n*h,m=this._intervalCurvePoints(d,f,e);r.push(m.cp1,m.cp2,m.p2),d=f}return r},bbox:function(e){for(var t=this._arcInterval(),n=t.startAngle,r=t.endAngle,o=oe(this.center,this.radiusX,this.radiusY,e),l=S(o.x),c=S(o.y),h=this.pointAt(r).transformCopy(e),d=we(l,n),f=we(c,n),m=this.pointAt(n).transformCopy(e),v=Z.min(m,h),_=Z.max(m,h);d<r||f<r;){var w=void 0;d<r&&(w=this.pointAt(d).transformCopy(e),d+=90);var y=void 0;f<r&&(y=this.pointAt(f).transformCopy(e),f+=90),m=new Z(w.x,y.y),v=Z.min(v,m),_=Z.max(_,m)}return te.fromPoints(v,_)},_arcInterval:function(){var e=this.startAngle,t=this.endAngle,n=this.anticlockwise;if(n){var r=e;e=t,t=r}return(e>t||n&&e===t)&&(t+=360),{startAngle:e,endAngle:t}},_intervalCurvePoints:function(e,t,n){var r=this.pointAt(e),o=this.pointAt(t),l=this._derivativeAt(e),c=this._derivativeAt(t),h=(z(t)-z(e))/3,d=new Z(r.x+h*l.x,r.y+h*l.y),f=new Z(o.x-h*c.x,o.y-h*c.y);return n&&(r.transform(n),o.transform(n),d.transform(n),f.transform(n)),{p1:r,cp1:d,cp2:f,p2:o}},_derivativeAt:function(e){var t=z(e);return new Z(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))},containsPoint:function(e){var t,n=this._arcInterval(),r=n.endAngle-n.startAngle,o=this.center,l=this.radiusX,c=this.radiusY,h=o.distanceTo(e),d=Math.atan2(e.y-o.y,e.x-o.x),f=l*c/Math.sqrt(ve(l,2)*ve(Math.sin(d),2)+ve(c,2)*ve(Math.cos(d),2)),m=this.pointAt(this.startAngle).round(fe),v=this.pointAt(this.endAngle).round(fe),_=function(e,t,n,r){var o=t.x-e.x,l=r.x-n.x,c=t.y-e.y,h=r.y-n.y,d=e.x-n.x,f=e.y-n.y,m=o*h-l*c,s=(o*f-c*d)/m,v=(l*f-h*d)/m;if(s>=0&&s<=1&&v>=0&&v<=1)return new Z(e.x+v*o,e.y+v*c)}(o,e.round(fe),m,v);if(r<180)t=_&&me(o.distanceTo(_),h)&&me(h,f);else{var w=be(o.x,o.y,l,c,e.x,e.y);360!==w&&(w=(360+w)%360);var y=n.startAngle<=w&&w<=n.endAngle;t=y&&me(h,f)||!y&&(!_||_.equals(e))}return t},_isOnPath:function(e,t){var n=this._arcInterval(),r=this.center,o=be(r.x,r.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==o&&(o=(360+o)%360),n.startAngle<=o&&o<=n.endAngle&&this.pointAt(o).distanceTo(e)<=t}});function be(e,t,n,r,o,l){var c=B((o-e)/n,3),h=B((l-t)/r,3);return B(S(Math.atan2(h,c)))}function we(e,t){for(var n=e;n<t;)n+=90;return n}_e.fromPoints=function(e,t,n,r,o,l,c){var h=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2,l=e.rx,c=e.ry,h=e.largeArc,d=e.swipe,f=e.rotation;void 0===f&&(f=0);var m=z(f),v=Math.cos(m),_=Math.sin(m),w=v*(t-r)/2+_*(n-o)/2,y=-_*(t-r)/2+v*(n-o)/2,x=h!==d?1:-1,k=Math.pow(w,2),C=Math.pow(y,2),T=Math.pow(l,2),D=Math.pow(c,2),E=k/T+C/D;E>1&&(E=Math.sqrt(k/T+C/D),l*=E,T=Math.pow(l,2),c*=E,D=Math.pow(c,2));var A=x*Math.sqrt((T*D-T*C-D*k)/(T*C+D*k));isNaN(A)&&(A=0);var I=A*(l*y)/c,M=c*w*-A/l,R=v*I-_*M+(t+r)/2,F=_*I+v*M+(n+o)/2,P=(w-I)/l,L=(y-M)/c,H=-(w+I)/l,N=-(y+M)/c,O=(L>=0?1:-1)*S(Math.acos(P/Math.sqrt(P*P+L*L))),V=B((P*H+L*N)/(Math.sqrt(P*P+L*L)*Math.sqrt(H*H+N*N)),10),W=(P*N-L*H>=0?1:-1)*S(Math.acos(V));!d&&W>0&&(W-=360),d&&W<0&&(W+=360);var U=O+W,j=U>=0?1:-1;return U=Math.abs(U)%360*j,{center:new Z(R,F),startAngle:O,endAngle:U,radiusX:l,radiusY:c,xRotation:f}}({x1:e.x,y1:e.y,x2:t.x,y2:t.y,rx:n,ry:r,largeArc:o,swipe:l,rotation:c});return new _e(h.center,{startAngle:h.startAngle,endAngle:h.endAngle,radiusX:h.radiusX,radiusY:h.radiusY,xRotation:h.xRotation,anticlockwise:0===l})},Q(_e.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),h.extend(_e.prototype);var ye=[].push,xe=[].pop,ke=[].splice,Ce=[].shift,Se=[].slice,Te=[].unshift,De=n.extend({init:function(e){void 0===e&&(e=[]),this.length=0,this._splice(0,e.length,e)},elements:function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)},push:function(){var e=arguments,t=ye.apply(this,e);return this._add(e),t},slice:function(){return Se.call(this)},pop:function(){var e=this.length,t=xe.apply(this);return e&&this._remove([t]),t},splice:function(e,t){var n=Se.call(arguments,2),r=this._splice(e,t,n);return this._change(),r},shift:function(){var e=this.length,t=Ce.apply(this);return e&&this._remove([t]),t},unshift:function(){var e=arguments,t=Te.apply(this,e);return this._add(e),t},indexOf:function(element){for(var e=this.length,t=0;t<e;t++)if(this[t]===element)return t;return-1},_splice:function(e,t,n){var r=ke.apply(this,[e,t].concat(n));return this._clearObserver(r),this._setObserver(n),r},_add:function(e){this._setObserver(e),this._change()},_remove:function(e){this._clearObserver(e),this._change()},_setObserver:function(e){for(var t=0;t<e.length;t++)e[t].addObserver(this)},_clearObserver:function(e){for(var t=0;t<e.length;t++)e[t].removeObserver(this)},_change:function(){}});h.extend(De.prototype);var Ee=De.extend({_change:function(){this.geometryChange()}});function Ae(e){var t="_"+e;return function(e){return _(e)?(this._observerField(t,Z.create(e)),this.geometryChange(),this):this[t]}}function Ie(e,t){for(var i=0;i<t.length;i++)e[t[i]]=Ae(t[i])}function Me(e,t,n){var r=S(Math.atan2(t.y-e.y,t.x-e.x));return n.transformCopy(ne().rotate(-r,e)).x<e.x}function Re(e,t,n){var r=1-e;return Math.pow(r,3)*n[0][t]+3*Math.pow(r,2)*e*n[1][t]+3*Math.pow(e,2)*r*n[2][t]+Math.pow(e,3)*n[3][t]}function Fe(e,t){return[-e[0][t]+3*e[1][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var Pe=n.extend({init:function(e,img){void 0===e&&(e=0),void 0===img&&(img=0),this.real=e,this.img=img},add:function(e){return new Pe(B(this.real+e.real,fe),B(this.img+e.img,fe))},addConstant:function(e){return new Pe(this.real+e,this.img)},negate:function(){return new Pe(-this.real,-this.img)},multiply:function(e){return new Pe(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)},multiplyConstant:function(e){return new Pe(this.real*e,this.img*e)},nthRoot:function(e){var t=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),r=Math.pow(n,1/e);return new Pe(r*Math.cos(t/e),r*Math.sin(t/e))},equals:function(e){return this.real===e.real&&this.img===e.img},isReal:function(){return 0===this.img}});function ze(e){return e<0?-1:1}function Be(a,b,e,t){if(0===a)return function(a,b,e){var t=Math.sqrt(Math.pow(b,2)-4*a*e);return[(-b+t)/(2*a),(-b-t)/(2*a)]}(b,e,t);var n,r,o,l,c,h,d,p=(3*a*e-Math.pow(b,2))/(3*Math.pow(a,2)),q=(2*Math.pow(b,3)-9*a*b*e+27*Math.pow(a,2)*t)/(27*Math.pow(a,3)),f=Math.pow(p/3,3)+Math.pow(q/2,2),i=new Pe(0,1),m=-b/(3*a);f<0?(n=new Pe(-q/2,Math.sqrt(-f)).nthRoot(3),r=new Pe(-q/2,-Math.sqrt(-f)).nthRoot(3)):(n=-q/2+Math.sqrt(f),n=new Pe(ze(n)*Math.pow(Math.abs(n),1/3)),r=-q/2-Math.sqrt(f),r=new Pe(ze(r)*Math.pow(Math.abs(r),1/3))),o=n.add(r),h=n.add(r).multiplyConstant(-.5),d=n.add(r.negate()).multiplyConstant(Math.sqrt(3)/2),l=h.add(i.multiply(d)),c=h.add(i.negate().multiply(d));var v=[];return o.isReal()&&v.push(B(o.real+m,fe)),l.isReal()&&v.push(B(l.real+m,fe)),c.isReal()&&v.push(B(c.real+m,fe)),v}function Le(e,t,n,r,o){for(var l,c=Fe(e,r),h=Be(c[0],c[1],c[2],c[3]-t[r]),d=0;d<h.length;d++)if(0<=h[d]&&h[d]<=1&&(l=Re(h[d],n,e),Math.abs(l-t[n])<=o))return!0}function He(a,b,e){var t;if(a.x!==b.x){var n=Math.min(a.x,b.x),r=Math.max(a.x,b.x),o=Math.min(a.y,b.y),l=Math.max(a.y,b.y),c=n<=e.x&&e.x<r;t=o===l?e.y<=o&&c:c&&(l-o)*((a.x-b.x)*(a.y-b.y)>0?e.x-n:r-e.x)/(r-n)+o-e.y>=0}return t?1:0}var Ne=n.extend({init:function(e,t,n){this.anchor(e||new Z),this.controlIn(t),this.controlOut(n)},bboxTo:function(e,t){var n=this.anchor().transformCopy(t),r=e.anchor().transformCopy(t);return this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),r):this._lineBoundingBox(n,r)},_lineBoundingBox:function(e,t){return te.fromPoints(e,t)},_curveBoundingBox:function(e,t,n,r){var o=[e,t,n,r],l=this._curveExtremesFor(o,"x"),c=this._curveExtremesFor(o,"y"),h=Oe([l.min,l.max,e.x,r.x]),d=Oe([c.min,c.max,e.y,r.y]);return te.fromPoints(new Z(h.min,d.min),new Z(h.max,d.max))},_curveExtremesFor:function(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:Re(n.min,t,e),max:Re(n.max,t,e)}},_curveExtremes:function(e,t,n,r){var a=e-3*t+3*n-r,b=-2*(e-2*t+n),o=e-t,l=Math.sqrt(b*b-4*a*o),c=0,h=1;0===a?0!==b&&(c=h=-o/b):isNaN(l)||(c=(-b+l)/(2*a),h=(-b-l)/(2*a));var d=Math.max(Math.min(c,h),0);(d<0||d>1)&&(d=0);var f=Math.min(Math.max(c,h),1);return(f>1||f<0)&&(f=1),{min:d,max:f}},_intersectionsTo:function(e,t){return this.controlOut()&&e.controlIn()?function(e,t,n){for(var r,o=Fe(e,"x"),l=Be(o[0],o[1],o[2],o[3]-t.x),c=0,i=0;i<l.length;i++)(ge(r=Re(l[i],"y",e),t.y)||r>t.y)&&((0===l[i]||1===l[i])&&n.bottomRight().x>t.x||0<l[i]&&l[i]<1)&&c++;return c}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):He(this.anchor(),e.anchor(),t)},_isOnCurveTo:function(e,t,n,r){if(this.bboxTo(e).expand(n,n).containsPoint(t)){var o=this.anchor(),l=this.controlOut(),c=e.controlIn(),h=e.anchor();if("start"===r&&o.distanceTo(t)<=n)return!Me(o,l,t);if("end"===r&&h.distanceTo(t)<=n)return!Me(h,c,t);var d=[o,l,c,h];if(Le(d,t,"x","y",n)||Le(d,t,"y","x",n))return!0;var f=ne().rotate(45,t),m=[o.transformCopy(f),l.transformCopy(f),c.transformCopy(f),h.transformCopy(f)];return Le(m,t,"x","y",n)||Le(m,t,"y","x",n)}},_isOnLineTo:function(e,t,n){var r=this.anchor(),o=e.anchor(),l=S(Math.atan2(o.y-r.y,o.x-r.x));return new te([r.x,r.y-n/2],[r.distanceTo(o),n]).containsPoint(t.transformCopy(ne().rotate(-l,r)))},_isOnPathTo:function(e,t,n,r){return this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,r):this._isOnLineTo(e,t,n)}});function Oe(e){for(var t=e.length,n=k,r=C,i=0;i<t;i++)r=Math.max(r,e[i]),n=Math.min(n,e[i]);return{min:n,max:r}}function Ve(e,t,n){for(var r,i=0;i<e.length;i++){var element=e[i];if(element.visible()){var o=t?element.bbox(n):element.rawBBox();o&&(r=r?te.union(r,o):o)}}return r}function We(e,t){for(var n,i=0;i<e.length;i++){var element=e[i];if(element.visible()){var r=element.clippedBBox(t);r&&(n=n?te.union(n,r):r)}}return n}Ie(Ne.prototype,["anchor","controlIn","controlOut"]),h.extend(Ne.prototype);var Ue=re.extend({init:function(e){re.fn.init.call(this,e),this.paths=new Ee,this.paths.addObserver(this),_(this.options.stroke)||this.stroke("#000")},moveTo:function(e,t){var path=new Je;return path.moveTo(e,t),this.paths.push(path),this},lineTo:function(e,t){return this.paths.length>0&&R(this.paths).lineTo(e,t),this},curveTo:function(e,t,n){return this.paths.length>0&&R(this.paths).curveTo(e,t,n),this},arc:function(e,t,n,r,o){return this.paths.length>0&&R(this.paths).arc(e,t,n,r,o),this},arcTo:function(e,t,n,r,o,l){return this.paths.length>0&&R(this.paths).arcTo(e,t,n,r,o,l),this},close:function(){return this.paths.length>0&&R(this.paths).close(),this},_bbox:function(e){return Ve(this.paths,!0,e)},rawBBox:function(){return Ve(this.paths,!1)},_containsPoint:function(e){for(var t=this.paths,n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1},_isOnPath:function(e){for(var t=this.paths,n=this.options.stroke.width,r=0;r<t.length;r++)if(t[r]._isOnPath(e,n))return!0;return!1},_clippedBBox:function(e){return We(this.paths,this.currentTransform(e))}});Ue.prototype.nodeType="MultiPath",le.extend(Ue.prototype),he.extend(Ue.prototype);var je={l:function(path,e){for(var t=e.parameters,n=e.position,i=0;i<t.length;i+=2){var r=new Z(t[i],t[i+1]);e.isRelative&&r.translateWith(n),path.lineTo(r.x,r.y),n.x=r.x,n.y=r.y}},c:function(path,e){for(var t=e.parameters,n=e.position,i=0;i<t.length;i+=6){var r=new Z(t[i],t[i+1]),o=new Z(t[i+2],t[i+3]),l=new Z(t[i+4],t[i+5]);e.isRelative&&(o.translateWith(n),r.translateWith(n),l.translateWith(n)),path.curveTo(r,o,l),n.x=l.x,n.y=l.y}},v:function(path,e){var t=e.isRelative?0:e.position.x;qe(e.parameters,!0,t),this.l(path,e)},h:function(path,e){var t=e.isRelative?0:e.position.y;qe(e.parameters,!1,t),this.l(path,e)},a:function(path,e){for(var t=e.parameters,n=e.position,i=0;i<t.length;i+=7){var r=t[i],o=t[i+1],l=t[i+2],c=t[i+3],h=t[i+4],d=new Z(t[i+5],t[i+6]);e.isRelative&&d.translateWith(n),n.x===d.x&&n.y===d.y||(path.arcTo(d,r,o,c,h,l),n.x=d.x,n.y=d.y)}},s:function(path,e){var t,n=e.parameters,r=e.position,o=e.previousCommand;"s"!==o&&"c"!==o||(t=R(R(path.paths).segments).controlIn());for(var i=0;i<n.length;i+=4){var l=new Z(n[i],n[i+1]),c=new Z(n[i+2],n[i+3]),h=void 0;e.isRelative&&(l.translateWith(r),c.translateWith(r)),h=t?Ge(t,r):r.clone(),t=l,path.curveTo(h,l,c),r.x=c.x,r.y=c.y}},q:function(path,e){for(var t=e.parameters,n=e.position,i=0;i<t.length;i+=4){var r=new Z(t[i],t[i+1]),o=new Z(t[i+2],t[i+3]);e.isRelative&&(r.translateWith(n),o.translateWith(n));var l=Ye(n,r,o);path.curveTo(l.controlOut,l.controlIn,o),n.x=o.x,n.y=o.y}},t:function(path,e){var t,n=e.parameters,r=e.position,o=e.previousCommand;"q"!==o&&"t"!==o||(t=R(R(path.paths).segments).controlIn().clone().translateWith(r.scaleCopy(-1/3)).scale(1.5));for(var i=0;i<n.length;i+=2){var l=new Z(n[i],n[i+1]);e.isRelative&&l.translateWith(r),t=t?Ge(t,r):r.clone();var c=Ye(r,t,l);path.curveTo(c.controlOut,c.controlIn,l),r.x=l.x,r.y=l.y}}};function qe(e,t,n){for(var r=t?0:1,i=0;i<e.length;i+=2)e.splice(i+r,0,n)}function Ge(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}var $e=1/3;function Ye(e,t,n){var r=t.clone().scale(2/3);return{controlOut:r.clone().translateWith(e.scaleCopy($e)),controlIn:r.translateWith(n.scaleCopy($e))}}var Ke=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,Qe=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,Xe=n.extend({parse:function(e,t){var n,r=new Ue(t),o=new Z;return e.replace(Ke,(function(e,element,t,l){var c=element.toLowerCase(),h=c===element,d=function(e){var t=[];return e.replace(Qe,(function(e,n){t.push(parseFloat(n))})),t}(t.trim());if("m"===c&&(h?(o.x+=d[0],o.y+=d[1]):(o.x=d[0],o.y=d[1]),r.moveTo(o.x,o.y),d.length>2&&(c="l",d.splice(0,2))),je[c])je[c](r,{parameters:d,position:o,isRelative:h,previousCommand:n}),l&&"z"===l.toLowerCase()&&r.close();else if("m"!==c)throw new Error("Error while parsing SVG path. Unsupported command: "+c);n=c})),r}});Xe.current=new Xe;var Je=re.extend({init:function(e){re.fn.init.call(this,e),this.segments=new Ee,this.segments.addObserver(this),_(this.options.stroke)||(this.stroke("#000"),_(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))},moveTo:function(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this},lineTo:function(e,t){var n=_(t)?new Z(e,t):e,r=new Ne(n);return this.segments.push(r),this},curveTo:function(e,t,n){if(this.segments.length>0){var r=R(this.segments),o=new Ne(n,t);this.suspend(),r.controlOut(e),this.resume(),this.segments.push(o)}return this},arc:function(e,t,n,r,o){if(this.segments.length>0){var l=R(this.segments).anchor(),c=z(e),h=new Z(l.x-n*Math.cos(c),l.y-r*Math.sin(c)),d=new _e(h,{startAngle:e,endAngle:t,radiusX:n,radiusY:r,anticlockwise:o});this._addArcSegments(d)}return this},arcTo:function(e,t,n,r,o,l){if(this.segments.length>0){var c=R(this.segments).anchor(),h=_e.fromPoints(c,e,t,n,r,o,l);this._addArcSegments(h)}return this},_addArcSegments:function(e){this.suspend();for(var t=e.curvePoints(),i=1;i<t.length;i+=3)this.curveTo(t[i],t[i+1],t[i+2]);this.resume(),this.geometryChange()},close:function(){return this.options.closed=!0,this.geometryChange(),this},rawBBox:function(){return this._bbox()},_containsPoint:function(e){for(var t,n,r=this.segments,o=r.length,l=0,c=1;c<o;c++)t=r[c-1],n=r[c],l+=t._intersectionsTo(n,e);return!this.options.closed&&r[0].anchor().equals(r[o-1].anchor())||(l+=He(r[0].anchor(),r[o-1].anchor(),e)),l%2!=0},_isOnPath:function(e,t){var n=this.segments,r=n.length,o=t||this.options.stroke.width;if(r>1){if(n[0]._isOnPathTo(n[1],e,o,"start"))return!0;for(var l=2;l<=r-2;l++)if(n[l-1]._isOnPathTo(n[l],e,o))return!0;if(n[r-2]._isOnPathTo(n[r-1],e,o,"end"))return!0}return!1},_bbox:function(e){var t,n=this.segments,r=n.length;if(1===r){var o=n[0].anchor().transformCopy(e);t=new te(o,ee.ZERO)}else if(r>0)for(var i=1;i<r;i++){var l=n[i-1].bboxTo(n[i],e);t=t?te.union(t,l):l}return t}});Je.fromRect=function(rect,e){return new Je(e).moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close()},Je.fromPoints=function(e,t){if(e){for(var path=new Je(t),i=0;i<e.length;i++){var n=Z.create(e[i]);n&&(0===i?path.moveTo(n):path.lineTo(n))}return path}},Je.fromArc=function(e,t){var path=new Je(t),n=e.startAngle,r=e.pointAt(n);return path.moveTo(r.x,r.y),path.arc(n,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),path},Je.prototype.nodeType="Path",le.extend(Je.prototype),he.extend(Je.prototype),Je.parse=function(e,t){return Xe.current.parse(e,t)};var Ze=re.extend({init:function(e,t){void 0===e&&(e=new _e),void 0===t&&(t={}),re.fn.init.call(this,t),this.geometry(e),_(this.options.stroke)||this.stroke("#000")},_bbox:function(e){return this._geometry.bbox(e)},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var path=new Je,e=this.geometry().curvePoints();if(e.length>0){path.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i+=3)path.curveTo(e[i],e[i+1],e[i+2])}return path},_containsPoint:function(e){return this.geometry().containsPoint(e)},_isOnPath:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}});Ze.prototype.nodeType="Arc",le.extend(Ze.prototype),he.extend(Ze.prototype),ue(Ze.prototype,["geometry"]);var et=re.extend({init:function(content,e,t){void 0===e&&(e=new Z),void 0===t&&(t={}),re.fn.init.call(this,t),this.content(content),this.position(e),this.options.font||(this.options.font="12px sans-serif"),_(this.options.fill)||this.fill("#000")},content:function(e){return _(e)?(this.options.set("content",e),this):this.options.get("content")},measure:function(){return r.measureText(this.content(),{font:this.options.get("font")})},rect:function(){var e=this.measure(),t=this.position().clone();return new te(t,[e.width,e.height])},bbox:function(e){var t=J(this.currentTransform(e));return this.rect().bbox(t)},rawBBox:function(){return this.rect().bbox()},_containsPoint:function(e){return this.rect().containsPoint(e)}});et.prototype.nodeType="Text",le.extend(et.prototype),Ie(et.prototype,["position"]);var tt=re.extend({init:function(e,rect,t){void 0===rect&&(rect=new te),void 0===t&&(t={}),re.fn.init.call(this,t),this.src(e),this.rect(rect)},src:function(e){return _(e)?(this.options.set("src",e),this):this.options.get("src")},bbox:function(e){var t=J(this.currentTransform(e));return this._rect.bbox(t)},rawBBox:function(){return this._rect.bbox()},_containsPoint:function(e){return this._rect.containsPoint(e)},_hasFill:function(){return this.src()}});tt.prototype.nodeType="Image",ue(tt.prototype,["rect"]);var it=function(e,t){e.traverse=function(e){for(var n=this[t],i=0;i<n.length;i++){var r=n[i];r.traverse?r.traverse(e):e(r)}return this}},nt=re.extend({init:function(e){re.fn.init.call(this,e),this.children=[]},childrenChange:function(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})},append:function(){return d(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},insert:function(e,element){return this.children.splice(e,0,element),element.parent=this,this.childrenChange("add",[element],e),this},insertAt:function(element,e){return this.insert(e,element)},remove:function(element){var e=this.children.indexOf(element);return e>=0&&(this.children.splice(e,1),element.parent=null,this.childrenChange("remove",[element],e)),this},removeAt:function(e){if(0<=e&&e<this.children.length){var element=this.children[e];this.children.splice(e,1),element.parent=null,this.childrenChange("remove",[element],e)}return this},clear:function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this},bbox:function(e){return Ve(this.children,!0,this.currentTransform(e))},rawBBox:function(){return Ve(this.children,!1)},_clippedBBox:function(e){return We(this.children,this.currentTransform(e))},currentTransform:function(e){return re.prototype.currentTransform.call(this,e)||null},containsPoint:function(e,t){if(this.visible())for(var n=this.children,r=this.currentTransform(t),o=0;o<n.length;o++)if(n[o].containsPoint(e,r))return!0;return!1},_reparent:function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=n.parent;r&&r!==this&&r.remove&&r.remove(n),n.parent=t}}});function ot(e,t,element){var n=element.transform()||ne(),r=n.matrix();r.e+=e.x-t.origin.x,r.f+=e.y-t.origin.y,n.matrix(r),element.transform(n)}function st(e,rect,t,n,r){return"start"===t?rect.origin[n]:"end"===t?rect.origin[n]+rect.size[r]-e:rect.origin[n]+(rect.size[r]-e)/2}function at(e,rect,t,n,r){return"start"===t?rect.origin[n]+rect.size[r]-e:"end"===t?rect.origin[n]:rect.origin[n]+(rect.size[r]-e)/2}nt.prototype.nodeType="Group",it(nt.prototype,"children");var lt={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},ct=function(e,t){e.forEach(t)},ht=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)},ut=nt.extend({init:function(rect,t){nt.fn.init.call(this,e.extend({},lt,t)),this._rect=rect,this._fieldMap={}},rect:function(e){return e?(this._rect=e,this):this._rect},_initMap:function(){var e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=ht,this.justifyAlign=at):(this.forEach=ct,this.justifyAlign=st)},reflow:function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var e,t,n,r=this.options,rect=this._rect,o=this._initGroups(),l=o.groups,c=o.groupsSize,h=this._fieldMap,d=h.sizeField,f=h.groupsSizeField,m=h.groupAxis,v=h.groupsAxis,_=new Z,w=new Z,y=new ee,x=st(c,rect,r.alignContent,v,f),k=function(o,l){var element=t.elements[l];w[m]=e,w[v]=st(o.size[f],n,r.alignItems,v,f),ot(w,o,element),e+=o.size[d]+r.spacing},C=0;C<l.length;C++)t=l[C],_[m]=e=this.justifyAlign(t.size,rect,r.justifyContent,m,d),_[v]=x,y[d]=t.size,y[f]=t.lineSize,n=new te(_,y),this.forEach(t.bboxes,k),x+=t.lineSize+r.lineSpacing;if(!r.wrap&&t.size>rect.size[d]){var S=rect.size[d]/n.size[d],T=n.topLeft().scale(S,S),D=st(n.size[f]*S,rect,r.alignContent,v,f),E=ne();"x"===m?E.translate(rect.origin.x-T.x,D-T.y):E.translate(D-T.x,rect.origin.y-T.y),E.scale(S,S),this.transform(E)}}},_initGroups:function(){for(var e=this.options,t=this.children,n=e.lineSpacing,r=e.wrap,o=e.spacing,l=this._fieldMap.sizeField,c=this._newGroup(),h=[],d=function(){h.push(c),f+=c.lineSize+n},f=-n,m=0;m<t.length;m++){var element=t[m],v=t[m].clippedBBox();element.visible()&&v&&(r&&c.size+v.size[l]+o>this._rect.size[l]?0===c.bboxes.length?(this._addToGroup(c,v,element),d(),c=this._newGroup()):(d(),c=this._newGroup(),this._addToGroup(c,v,element)):this._addToGroup(c,v,element))}return c.bboxes.length&&d(),{groups:h,groupsSize:f}},_addToGroup:function(e,t,element){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(element)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}}),pt=re.extend({init:function(e,t){void 0===e&&(e=new te),void 0===t&&(t={}),re.fn.init.call(this,t),this.geometry(e),_(this.options.stroke)||this.stroke("#000")},_bbox:function(e){return this._geometry.bbox(e)},rawBBox:function(){return this._geometry.bbox()},_containsPoint:function(e){return this._geometry.containsPoint(e)},_isOnPath:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}});function ft(e,rect,t,n,r){for(var o=0;o<e.length;o++){var l=e[o].clippedBBox();if(l){var c=l.origin.clone();c[n]=st(l.size[r],rect,t||"start",n,r),ot(c,l,e[o])}}}function gt(e,t,n,r){if(e.length>1)for(var o=new Z,l=e[0].bbox,c=1;c<e.length;c++){var element=e[c].element,h=e[c].bbox;o[t]=l.origin[t]+l.size[r],o[n]=h.origin[n],ot(o,h,element),h.origin[t]=o[t],l=h}}function mt(e){for(var t=[],n=0;n<e.length;n++){var element=e[n],r=element.clippedBBox();r&&t.push({element:element,bbox:r})}return t}function vt(e,rect,t,n,r){for(var o=function(e,rect,t){for(var element,n,r=rect.size[t],o=[],l=[],c=0,h=function(){l.push({element:element,bbox:n})},d=0;d<e.length;d++)if(element=e[d],n=element.clippedBBox()){var f=n.size[t];c+f>r?l.length?(o.push(l),l=[],h(),c=f):(h(),o.push(l),l=[],c=0):(h(),c+=f)}return l.length&&o.push(l),o}(e,rect,r),l=rect.origin.clone(),c=[],h=0;h<o.length;h++){var d=o[h],f=d[0];l[n]=f.bbox.origin[n],ot(l,f.bbox,f.element),f.bbox.origin[t]=l[t],gt(d,t,n,r),c.push([]);for(var m=0;m<d.length;m++)c[h].push(d[m].element)}return c}pt.prototype.nodeType="Rect",le.extend(pt.prototype),he.extend(pt.prototype),ue(pt.prototype,["geometry"]);var _t=De.extend({_change:function(){this.optionsChange({field:"stops"})}});function bt(e){return function(t){return _(t)?(this.options.set(e,t),this):this.options.get(e)}}var wt=n.extend({init:function(e,t,n){this.options=new $({offset:e,color:t,opacity:_(n)?n:1}),this.options.addObserver(this)}});wt.create=function(e){if(_(e))return e instanceof wt?e:e.length>1?new wt(e[0],e[1],e[2]):new wt(e.offset,e.color,e.opacity)},function(e,t){for(var i=0;i<t.length;i++)e[t[i]]=bt(t[i])}(wt.prototype,["offset","color","opacity"]),h.extend(wt.prototype);var yt=n.extend({init:function(e){void 0===e&&(e={}),this.stops=new _t(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=y()},userSpace:function(e){return _(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace},_createStops:function(e){void 0===e&&(e=[]);for(var t=[],n=0;n<e.length;n++)t.push(wt.create(e[n]));return t},addStop:function(e,t,n){this.stops.push(new wt(e,t,n))},removeStop:function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}});yt.prototype.nodeType="Gradient",h.extend(yt.prototype),e.extend(yt.prototype,{optionsChange:function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var xt=yt.extend({init:function(e){void 0===e&&(e={}),yt.fn.init.call(this,e),this.start(e.start||new Z),this.end(e.end||new Z(1,0))}});Ie(xt.prototype,["start","end"]);var kt=yt.extend({init:function(e){void 0===e&&(e={}),yt.fn.init.call(this,e),this.center(e.center||new Z),this._radius=_(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill},radius:function(e){return _(e)?(this._radius=e,this.geometryChange(),this):this._radius},fallbackFill:function(e){return _(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}});Ie(kt.prototype,["center"]);var Ct={swing:function(e){return.5-Math.cos(e*Math.PI)/2},linear:function(e){return e},easeOutElastic:function(e,time,t,n){var s=1.70158,p=0,a=n;return 0===e?t:1===e?t+n:(p||(p=.5),a<Math.abs(n)?(a=n,s=p/4):s=p/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*e)*Math.sin((Number(e)-s)*(1.1*Math.PI)/p)+n+t)}},St=n.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(element,e){var t,n=this._items;if(e&&e.type)for(var r=e.type.toLowerCase(),i=0;i<n.length;i++)if(n[i].name.toLowerCase()===r){t=n[i];break}if(t)return new t.type(element,e)}});St.current=new St;var Tt=Date.now||function(){return(new Date).getTime()},Dt=n.extend({init:function(element,t){this.options=e.extend({},this.options,t),this.element=element},setup:function(){},step:function(){},play:function(){var e=this,t=this.options,n=t.duration,r=t.delay;void 0===r&&(r=0);var o=Ct[t.easing],l=Tt()+r,c=l+n;0===n?(this.step(1),this.abort()):setTimeout((function(){var t=function(){if(!e._stopped){var r=Tt(),time=F(r-l,0,n),h=o(time/n,time,0,1,n);e.step(h),r<c?kendo.animationFrame(t):e.abort()}};t()}),r)},abort:function(){this._stopped=!0},destroy:function(){this.abort()}});Dt.prototype.options={duration:500,easing:"swing"},Dt.create=function(e,element,t){return St.current.create(e,element,t)};var Et=n.extend({init:function(){this._items=[]},register:function(e,t,n){var r=this._items,o=r[0],l={name:e,type:t,order:n};!o||n<o.order?r.unshift(l):r.push(l)},create:function(element,e){var t=this._items,n=t[0];if(e&&e.type)for(var r=e.type.toLowerCase(),i=0;i<t.length;i++)if(t[i].name===r){n=t[i];break}if(n)return new n.type(element,e);kendo.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)}});Et.current=new Et;var At=["click","mouseenter","mouseleave","mousemove","resize"],It=kendo.Observable.extend({init:function(element,t){kendo.Observable.fn.init.call(this),this.options=e.extend({},t),this.element=element,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new nt,W(element,this.options),this.bind(At,this.options),this._enableTracking()},draw:function(element){this._visual.children.push(element)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},eventTarget:function(e){for(var t,n=I(e);!t&&n&&(t=n._kendoNode,n!==this.element);)n=n.parentElement;if(t)return t.srcElement},exportVisual:function(){return this._visual},getSize:function(){return W(this.element)},currentSize:function(e){if(!e)return this._size;this._size=e},setSize:function(e){W(this.element,e),this.currentSize(e),this._resize()},resize:function(e){var t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))},size:function(e){if(!e)return this.getSize();this.setSize(e)},suspendTracking:function(){this._suspendedTracking=!0},resumeTracking:function(){this._suspendedTracking=!1},_enableTracking:function(){},_resize:function(){},_handler:function(e){var t=this;return function(n){var r=t.eventTarget(n);r&&!t._suspendedTracking&&t.trigger(e,{element:r,originalEvent:n,type:e})}},_elementOffset:function(){var element=this.element,e=O(element,["paddingLeft","paddingTop"]),t=e.paddingLeft,n=e.paddingTop,r=N(element),o=r.left,l=r.top;return{left:o+parseInt(t,10),top:l+parseInt(n,10)}},_surfacePoint:function(e){var t=this._elementOffset(),n=A(e),r=n.x-t.left,o=n.y-t.top;return new Z(r,o)}});It.create=function(element,e){return Et.current.create(element,e)},It.support={};var Mt=n.extend({init:function(e){this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())},destroy:function(){this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,i=0;i<e.length;i++)this.childNodes[i].destroy();this.parent=null},load:function(){},observe:function(){this.srcElement&&this.srcElement.addObserver(this)},append:function(e){this.childNodes.push(e),e.parent=this},insertAt:function(e,t){this.childNodes.splice(t,0,e),e.parent=this},remove:function(e,t){for(var n=e+t,i=e;i<n;i++)this.childNodes[i].removeSelf();this.childNodes.splice(e,t)},removeSelf:function(){this.clear(),this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}});function Rt(e,t){return _(t)&&null!==t?" "+e+'="'+t+'" ':""}function Ft(e){for(var output="",i=0;i<e.length;i++)output+=Rt(e[i][0],e[i][1]);return output}function Pt(e){for(var output="",i=0;i<e.length;i++){var t=e[i][1];_(t)&&(output+=e[i][0]+":"+t+";")}if(""!==output)return output}var zt={},Bt="http://www.w3.org/2000/svg",Lt=function(e,svg){e.innerHTML=svg};if("undefined"!=typeof document){var Ht="<svg xmlns='"+Bt+"'></svg>",Nt=document.createElement("div"),Ot="undefined"!=typeof DOMParser;Nt.innerHTML=Ht,Ot&&Nt.firstChild.namespaceURI!==Bt&&(Lt=function(e,svg){var t=(new DOMParser).parseFromString(svg,"text/xml"),n=document.adoptNode(t.documentElement);e.innerHTML="",e.appendChild(n)})}var Vt=Lt,Wt={clip:"clip-path",fill:"fill"};function Ut(e,t){return"clip"===e||"fill"===e&&(!t||"Gradient"===t.nodeType)}var jt=Mt.extend({init:function(e,t){Mt.fn.init.call(this,e),this.definitions={},this.options=t},destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),Mt.fn.destroy.call(this)},load:function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=n.children,o=new zt[n.nodeType](n,this.options);_(t)?this.insertAt(o,t):this.append(o),o.createDefinitions(),r&&r.length>0&&o.load(r);var element=this.element;element&&o.attachTo(element,t)}},root:function(){for(var e=this;e.parent;)e=e.parent;return e},attachTo:function(e,t){var n=document.createElement("div");Vt(n,"<svg xmlns='"+Bt+"' version='1.1'>"+this.render()+"</svg>");var element=n.firstChild.firstChild;element&&(_(t)?e.insertBefore(element,e.childNodes[t]||null):e.appendChild(element),this.setElement(element))},setElement:function(element){this.element&&(this.element._kendoNode=null),this.element=element,this.element._kendoNode=this;for(var e=this.childNodes,i=0;i<e.length;i++){var t=element.childNodes[i];e[i].setElement(t)}},clear:function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var e=this.childNodes,i=0;i<e.length;i++)e[i].destroy();this.childNodes=[]},removeSelf:function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}Mt.fn.removeSelf.call(this)},template:function(){return this.renderChildren()},render:function(){return this.template()},renderChildren:function(){for(var e=this.childNodes,output="",i=0;i<e.length;i++)output+=e[i].render();return output},optionsChange:function(e){var t=e.field,n=e.value;"visible"===t?this.css("display",n?"":"none"):Wt[t]&&Ut(t,n)?this.updateDefinition(t,n):"opacity"===t?this.attr("opacity",n):"cursor"===t?this.css("cursor",n):"id"===t&&(n?this.attr("id",n):this.removeAttr("id")),Mt.fn.optionsChange.call(this,e)},attr:function(e,t){this.element&&this.element.setAttribute(e,t)},allAttr:function(e){for(var i=0;i<e.length;i++)this.attr(e[i][0],e[i][1])},css:function(e,t){this.element&&(this.element.style[e]=t)},allCss:function(e){for(var i=0;i<e.length;i++)this.css(e[i][0],e[i][1])},removeAttr:function(e){this.element&&this.element.removeAttribute(e)},mapTransform:function(e){var t=[];return e&&t.push(["transform","matrix("+e.matrix().toString(6)+")"]),t},renderTransform:function(){return Ft(this.mapTransform(this.srcElement.transform()))},transformChange:function(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr("transform")},mapStyle:function(){var e=this.srcElement.options,style=[["cursor",e.cursor]];return!1===e.visible&&style.push(["display","none"]),style},renderStyle:function(){return Rt("style",Pt(this.mapStyle(!0)))},renderOpacity:function(){return Rt("opacity",this.srcElement.options.opacity)},renderId:function(){return Rt("id",this.srcElement.options.id)},createDefinitions:function(){var e=this.srcElement,t=this.definitions;if(e){var n,r=e.options;for(var o in Wt){var l=r.get(o);l&&Ut(o,l)&&(t[o]=l,n=!0)}n&&this.definitionChange({action:"add",definitions:t})}},definitionChange:function(e){this.parent&&this.parent.definitionChange(e)},updateDefinition:function(e,t){var n=this.definitions,r=n[e],o=Wt[e],l={};r&&(l[e]=r,this.definitionChange({action:"remove",definitions:l}),delete n[e]),t?(l[e]=t,this.definitionChange({action:"add",definitions:l}),n[e]=t,this.attr(o,this.refUrl(t.id))):r&&this.removeAttr(o)},clearDefinitions:function(){var e=this.definitions;this.definitionChange({action:"remove",definitions:e}),this.definitions={}},renderDefinitions:function(){return Ft(this.mapDefinitions())},mapDefinitions:function(){var e=this.definitions,t=[];for(var n in e)t.push([Wt[n],this.refUrl(e[n].id)]);return t},refUrl:function(e){var t=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return"url("+(t?"":n)+"#"+e+")"},baseUrl:function(){return function(){var base=document.getElementsByTagName("base")[0],e=document.location.href,t="";if(base&&!o.msie){var n=e.indexOf("#");-1!==n&&(e=e.substring(0,n)),t=e}return t}()}}),qt=jt.extend({template:function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},renderOffset:function(){return Rt("offset",this.srcElement.offset())},mapStyle:function(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]},optionsChange:function(e){"offset"===e.field?this.attr(e.field,e.value):"color"!==e.field&&"opacity"!==e.field||this.css("stop-"+e.field,e.value)}}),Gt=jt.extend({init:function(e){jt.fn.init.call(this,e),this.id=e.id,this.loadStops()},loadStops:function(){for(var e=this.srcElement.stops,element=this.element,t=0;t<e.length;t++){var n=new qt(e[t]);this.append(n),element&&n.attachTo(element)}},optionsChange:function(e){"gradient.stops"===e.field?(Mt.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())},renderCoordinates:function(){return Ft(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}),$t=Gt.extend({template:function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},mapCoordinates:function(){var e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]}}),Yt=Gt.extend({template:function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},mapCoordinates:function(){var e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]}}),Kt=jt.extend({init:function(e){jt.fn.init.call(this),this.srcElement=e,this.id=e.id,this.load([e])},template:function(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"}}),Qt=jt.extend({init:function(){jt.fn.init.call(this),this.definitionMap={}},attachTo:function(e){this.element=e},template:function(){return"<defs>"+this.renderChildren()+"</defs>"},definitionChange:function(e){var t=e.definitions,n=e.action;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)},createDefinition:function(e,t){var n;return"clip"===e?n=Kt:"fill"===e&&(t instanceof xt?n=$t:t instanceof kt&&(n=Yt)),new n(t)},addDefinitions:function(e){for(var t in e)this.addDefinition(t,e[t])},addDefinition:function(e,t){var element=this.element,n=this.definitionMap,r=t.id,o=n[r];if(o)o.count++;else{var l=this.createDefinition(e,t);n[r]={element:l,count:1},this.append(l),element&&l.attachTo(this.element)}},removeDefinitions:function(e){for(var t in e)this.removeDefinition(e[t])},removeDefinition:function(e){var t=this.definitionMap,n=e.id,r=t[n];r&&(r.count--,0===r.count&&(this.remove(this.childNodes.indexOf(r.element),1),delete t[n]))}}),Xt=jt.extend({init:function(e){jt.fn.init.call(this),this.options=e,this.defs=new Qt},attachTo:function(e){this.element=e,this.defs.attachTo(e.firstElementChild)},clear:function(){Mt.prototype.clear.call(this)},template:function(){return this.defs.render()+this.renderChildren()},definitionChange:function(e){this.defs.definitionChange(e)}}),Jt=It.extend({init:function(element,t){It.fn.init.call(this,element,t),this._root=new Xt(e.extend({rtl:"rtl"===O(element,"direction").direction},this.options)),Vt(this.element,this._template()),this._rootElement=this.element.firstElementChild,function(element){var e;try{e=element.getScreenCTM?element.getScreenCTM():null}catch(e){}if(e){var t=-e.e%1,n=-e.f%1,style=element.style;0===t&&0===n||(style.left=t+"px",style.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),H(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()},destroy:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,U(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),It.fn.destroy.call(this)},translate:function(e){var t=Math.round(e.x)+" "+Math.round(e.y)+" "+this._size.width+" "+this._size.height;this._offset=e,this._rootElement.setAttribute("viewBox",t)},draw:function(element){It.fn.draw.call(this,element),this._root.load([element])},clear:function(){It.fn.clear.call(this),this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template()},exportVisual:function(){var e=this._visual,t=this._offset;if(t){var n=new nt;n.children.push(e),n.transform(ne().translate(-t.x,-t.y)),e=n}return e},_resize:function(){this._offset&&this.translate(this._offset)},_template:function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+Bt+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"}});Jt.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(It.support.svg=!0,Et.current.register("svg",Jt,10));var Zt=jt.extend({template:function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},optionsChange:function(e){"transform"===e.field&&this.transformChange(e.value),jt.fn.optionsChange.call(this,e)}});zt.Group=Zt;var ei={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},ti={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},ii=jt.extend({geometryChange:function(){this.attr("d",this.renderData()),this.invalidate()},optionsChange:function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var t=ti[e.field];t&&this.attr(t,e.value)}jt.fn.optionsChange.call(this,e)},content:function(){this.element&&(this.element.textContent=this.srcElement.content())},renderData:function(){return this.printPath(this.srcElement)},printPath:function(path){var e=path.segments,t=e.length;if(t>0){for(var output,n,r=[],i=1;i<t;i++){var o=this.segmentType(e[i-1],e[i]);o!==n&&(n=o,r.push(o)),"L"===o?r.push(this.printPoints(e[i].anchor())):r.push(this.printPoints(e[i-1].controlOut(),e[i].controlIn(),e[i].anchor()))}return output="M"+this.printPoints(e[0].anchor())+" "+r.join(" "),path.options.closed&&(output+="Z"),output}},printPoints:function(){for(var e=arguments,t=e.length,n=[],i=0;i<t;i++)n.push(e[i].toString(3));return n.join(" ")},segmentType:function(e,t){return e.controlOut()&&t.controlIn()?"C":"L"},mapStroke:function(e){var t=[];return e&&!M(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),_(e.opacity)&&t.push(["stroke-opacity",e.opacity]),_(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke","none"]),t},renderStroke:function(){return Ft(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(e){var t=e.dashType,n=e.width;if(void 0===n&&(n=1),t&&"solid"!==t){for(var r=ei[t.toLowerCase()],o=[],i=0;i<r.length;i++)o.push(r[i]*n);return o.join(" ")}},renderLinecap:function(e){var t=e.dashType,n=e.lineCap;return t&&"solid"!==t?"butt":n},mapFill:function(e){var t=[];return e&&"Gradient"===e.nodeType||(e&&!M(e.color)?(t.push(["fill",e.color]),_(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill","none"])),t},renderFill:function(){return Ft(this.mapFill(this.srcElement.options.fill))},template:function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Rt("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"}});zt.Path=ii;var ni=ii.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}});zt.Arc=ni;var ri=ii.extend({geometryChange:function(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"}});zt.Circle=ri;var oi=ii.extend({geometryChange:function(){var e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.invalidate()},size:function(){return this.srcElement.geometry().size},origin:function(){return this.srcElement.geometry().origin},template:function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"}});zt.Rect=oi;var si=ii.extend({geometryChange:function(){this.allAttr(this.mapPosition()),this.invalidate()},optionsChange:function(e){"src"===e.field&&this.allAttr(this.mapSource()),ii.fn.optionsChange.call(this,e)},mapPosition:function(){var rect=this.srcElement.rect(),e=rect.topLeft();return[["x",e.x],["y",e.y],["width",rect.width()+"px"],["height",rect.height()+"px"]]},renderPosition:function(){return Ft(this.mapPosition())},mapSource:function(e){var t=this.srcElement.src();return e&&(t=kendo.htmlEncode(t)),[["xlink:href",t]]},renderSource:function(){return Ft(this.mapSource(!0))},template:function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+"></image>"}});zt.Image=si;var ai=/&(?:[a-zA-Z]+|#\d+);/g;function ci(text){if(!text||"string"!=typeof text||!ai.test(text))return text;var element=ci._element;return ai.lastIndex=0,text.replace(ai,(function(e){return element.innerHTML=e,element.textContent||element.innerText}))}"undefined"!=typeof document&&(ci._element=document.createElement("span"));var hi=ii.extend({geometryChange:function(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()},optionsChange:function(e){"font"===e.field?(this.attr("style",Pt(this.mapStyle())),this.geometryChange()):"content"===e.field&&ii.fn.content.call(this,this.srcElement.content()),ii.fn.optionsChange.call(this,e)},mapStyle:function(e){var style=ii.fn.mapStyle.call(this,e),t=this.srcElement.options.font;return e&&(t=kendo.htmlEncode(t)),style.push(["font",t],["white-space","pre"]),style},pos:function(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)},renderContent:function(){var content=this.srcElement.content();return content=ci(content),content=kendo.htmlEncode(content),r.normalizeText(content)},renderTextAnchor:function(){var e;return!(this.options||{}).rtl||o.msie||o.edge||(e="end"),Rt("text-anchor",e)},template:function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"}});zt.Text=hi;var di=ii.extend({renderData:function(){var e=this.srcElement.paths;if(e.length>0){for(var t=[],i=0;i<e.length;i++)t.push(this.printPath(e[i]));return t.join(" ")}}});zt.MultiPath=di;var ui={Circle:ae,Arc:_e,Rect:te,Point:Z,Segment:Ne,Matrix:X,Size:ee,toMatrix:J,Transformation:ie,transform:ne};function pi(e){var t=new Xt({skipBaseHref:!0}),n=e.clippedBBox(),r=e;if(n){var o=n.getOrigin(),l=new nt;l.transform(ne().translate(-o.x,-o.y)),l.children.push(e),r=l}t.load([r]);var svg="<?xml version='1.0' ?><svg xmlns='"+Bt+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+t.render()+"</svg>";return t.destroy(),svg}var svg={Surface:Jt,RootNode:Xt,Node:jt,GroupNode:Zt,ArcNode:ni,CircleNode:ri,RectNode:oi,ImageNode:si,TextNode:hi,PathNode:ii,MultiPathNode:di,DefinitionNode:Qt,ClipNode:Kt,GradientStopNode:qt,LinearGradientNode:$t,RadialGradientNode:Yt,exportGroup:pi},fi={};function gi(e,path){var t=path.segments;if(0!==t.length){var n=t[0],r=n.anchor();e.moveTo(r.x,r.y);for(var i=1;i<t.length;i++){r=(n=t[i]).anchor();var o=t[i-1].controlOut(),l=n.controlIn();o&&l?e.bezierCurveTo(o.x,o.y,l.x,l.y,r.x,r.y):e.lineTo(r.x,r.y)}path.options.closed&&e.closePath()}}var mi=Mt.extend({init:function(e){Mt.fn.init.call(this,e),e&&this.initClip()},initClip:function(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))},clear:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),Mt.fn.clear.call(this)},clearClip:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClip:function(e){this.clip&&(e.beginPath(),gi(e,this.clip),e.clip())},optionsChange:function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),Mt.fn.optionsChange.call(this,e)},setTransform:function(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}},loadElements:function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i],o=r.children,l=new fi[r.nodeType](r,n);o&&o.length>0&&l.load(o,t,n),_(t)?this.insertAt(l,t):this.append(l)}},load:function(e,t,n){this.loadElements(e,t,n),this.invalidate()},setOpacity:function(e){if(this.srcElement){var t=this.srcElement.opacity();_(t)&&this.globalAlpha(e,t)}},globalAlpha:function(e,t){var n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n},visible:function(){var e=this.srcElement;return!e||e&&!1!==e.options.visible}}),vi=mi.extend({renderTo:function(e){if(this.visible()){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);for(var t=this.childNodes,i=0;i<t.length;i++){var n=t[i];n.visible()&&n.renderTo(e)}e.restore()}}});it(vi.prototype,"childNodes"),fi.Group=vi;var _i=vi.extend({init:function(canvas){vi.fn.init.call(this),this.canvas=canvas,this.ctx=canvas.getContext("2d");var e=this._invalidate.bind(this);this.invalidate=kendo.throttle((function(){kendo.animationFrame(e)}),1e3/60)},destroy:function(){vi.fn.destroy.call(this),this.canvas=null,this.ctx=null},load:function(e,t,n){this.loadElements(e,t,n),this._invalidate()},_invalidate:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}});it(_i.prototype,"childNodes");var bi=n.extend({init:function(){this.shapes=[]},_add:function(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this},pointShapes:function(e){for(var t=this.shapes,n=t.length,r=[],o=0;o<n;o++)t[o].bbox.containsPoint(e)&&r.push(t[o].shape);return r},insert:function(e,t){this._add(e,t)},remove:function(e){for(var t=this.shapes,n=t.length,r=0;r<n;r++)if(t[r].shape===e){t.splice(r,1);break}}}),wi=bi.extend({init:function(rect){bi.fn.init.call(this),this.children=[],this.rect=rect},inBounds:function(rect){var e=this.rect,t=e.bottomRight(),n=rect.bottomRight();return e.origin.x<=rect.origin.x&&e.origin.y<=rect.origin.y&&n.x<=t.x&&n.y<=t.y},pointShapes:function(e){for(var t=this.children,n=t.length,r=bi.fn.pointShapes.call(this,e),o=0;o<n;o++)d(r,t[o].pointShapes(e));return r},insert:function(e,t){var n=this.children,r=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(var o=0;o<n.length;o++)if(n[o].insert(e,t)){r=!0;break}r||this._add(e,t)}r=!0}return r},_initChildren:function(){var rect=this.rect,e=this.children,t=rect.center(),n=rect.width()/2,r=rect.height()/2;e.push(new wi(new te([rect.origin.x,rect.origin.y],[n,r])),new wi(new te([t.x,rect.origin.y],[n,r])),new wi(new te([rect.origin.x,t.y],[n,r])),new wi(new te([t.x,t.y],[n,r])))}}),yi=n.extend({init:function(){this.initRoots()},initRoots:function(){this.rootMap={},this.root=new bi,this.rootElements=[]},clear:function(){for(var e=this.rootElements,t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()},pointShape:function(e){var t=(this.rootMap[Math.floor(e.x/3e3)]||{})[Math.floor(e.y/3e3)],n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e))),this.assignZindex(n),n.sort(xi);for(var r=0;r<n.length;r++)if(n[r].containsPoint(e))return n[r]},assignZindex:function(e){for(var t=0;t<e.length;t++){for(var element=e[t],n=0,r=Math.pow(1e4,75),o=[];element;)o.push(element),element=element.parent;for(;o.length;)n+=(((element=o.pop()).parent?element.parent.children:this.rootElements).indexOf(element)+1)*r,r/=1e4;e[t]._zIndex=n}},optionsChange:function(e){"transform"!==e.field&&"stroke.width"!==e.field||this.bboxChange(e.element)},geometryChange:function(e){this.bboxChange(e.element)},bboxChange:function(element){if("Group"===element.nodeType)for(var e=0;e<element.children.length;e++)this.bboxChange(element.children[e]);else element._quadNode&&element._quadNode.remove(element),this._insertShape(element)},add:function(e){var t=Array.isArray(e)?e.slice(0):[e];d(this.rootElements,t),this._insert(t)},childrenChange:function(e){if("remove"===e.action)for(var t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))},_insert:function(e){for(var element;e.length>0;)(element=e.pop()).addObserver(this),"Group"===element.nodeType?d(e,element.children):this._insertShape(element)},_insertShape:function(e){var t=e.bbox();if(t){var n=this.getSectors(t),r=n[0][0],o=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{var l=this.rootMap;l[r]||(l[r]={}),l[r][o]||(l[r][o]=new wi(new te([3e3*r,3e3*o],[3e3,3e3]))),l[r][o].insert(e,t)}}},remove:function(element){if(element.removeObserver(this),"Group"===element.nodeType)for(var e=element.children,t=0;t<e.length;t++)this.remove(e[t]);else element._quadNode&&(element._quadNode.remove(element),delete element._quadNode)},inRoot:function(e){return e[0].length>1||e[1].length>1},getSectors:function(rect){for(var e=rect.bottomRight(),t=Math.floor(e.x/3e3),n=Math.floor(e.y/3e3),r=[[],[]],o=Math.floor(rect.origin.x/3e3);o<=t;o++)r[0].push(o);for(var l=Math.floor(rect.origin.y/3e3);l<=n;l++)r[1].push(l);return r}});function xi(e,t){return e._zIndex<t._zIndex?1:e._zIndex>t._zIndex?-1:0}var ki=n.extend({init:function(e){e.bind("mouseenter",this._mouseenter.bind(this)),e.bind("mouseleave",this._mouseleave.bind(this)),this.element=e.element},clear:function(){this._resetCursor()},destroy:function(){this._resetCursor(),delete this.element},_mouseenter:function(e){var cursor=this._shapeCursor(e);cursor?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(cursor)):this._resetCursor()},_mouseleave:function(){this._resetCursor()},_shapeCursor:function(e){for(var t=e.element;t&&!_(t.options.cursor);)t=t.parent;if(t)return t.options.cursor},_getCursor:function(){if(this.element)return this.element.style.cursor},_setCursor:function(cursor){this.element&&(this.element.style.cursor=cursor,this._current=cursor)},_resetCursor:function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}),Ci=It.extend({init:function(element,e){It.fn.init.call(this,element,e),this.element.innerHTML=this._template(this);var canvas=this.element.firstElementChild,t=W(element);canvas.width=t.width,canvas.height=t.height,this._rootElement=canvas,this._root=new _i(canvas),this._mouseTrackHandler=this._trackMouse.bind(this),H(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},destroy:function(){It.fn.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),U(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},draw:function(element){It.fn.draw.call(this,element),this._root.load([element],void 0,this.options.cors),this._searchTree&&this._searchTree.add([element])},clear:function(){It.fn.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},eventTarget:function(e){if(this._searchTree){var t=this._surfacePoint(e);return this._searchTree.pointShape(t)}},image:function(){var e=this._root,t=this._rootElement,n=[];e.traverse((function(e){e.loading&&n.push(e.loading)}));var r=l(),o=function(){e._invalidate();try{var data=t.toDataURL();r.resolve(data)}catch(e){r.reject(e)}};return c(n).then(o,o),r},suspendTracking:function(){It.fn.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},resumeTracking:function(){if(It.fn.resumeTracking.call(this),!this._searchTree){this._searchTree=new yi;for(var e=this._root.childNodes,t=[],n=0;n<e.length;n++)t.push(e[n].srcElement);this._searchTree.add(t)}},_resize:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.invalidate()},_template:function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"},_enableTracking:function(){this._searchTree=new yi,this._cursor=new ki(this),It.fn._enableTracking.call(this)},_trackMouse:function(e){if(!this._suspendedTracking){var t=this.eventTarget(e);if("click"!==e.type){var n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}}});Ci.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(It.support.canvas=!0,Et.current.register("canvas",Ci,20));var Si=mi.extend({renderTo:function(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()},setFill:function(e){var t=this.srcElement.options.fill,n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):M(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n},setGradientFill:function(e,t){var n,r=this.srcElement.rawBBox();if(t instanceof xt){var o=t.start(),l=t.end();n=e.createLinearGradient(o.x,o.y,l.x,l.y)}else if(t instanceof kt){var c=t.center();n=e.createRadialGradient(c.x,c.y,0,c.x,c.y,t.radius())}!function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=kendo.parseColor(r.color());o.a*=r.opacity(),e.addColorStop(r.offset(),o.toCssRgba())}}(n,t.stops),e.save(),t.userSpace()||e.transform(r.width(),0,0,r.height(),r.origin.x,r.origin.y),e.fillStyle=n,e.fill(),e.restore()},setStroke:function(e){var t=this.srcElement.options.stroke;if(t&&!M(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=L(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0},dashType:function(){var e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()},setLineDash:function(e){var t=this.dashType();if(t&&"solid"!==t){var n=ei[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}},setLineCap:function(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&"solid"!==t?e.lineCap="butt":n&&n.lineCap&&(e.lineCap=n.lineCap)},setLineJoin:function(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)},renderPoints:function(e,path){gi(e,path)}});fi.Path=Si;var Ti=Si.extend({renderPoints:function(e){gi(e,this.srcElement.toPath())}});fi.Arc=Ti;var Di=Si.extend({renderPoints:function(e){var t=this.srcElement.geometry(),n=t.center,r=t.radius;e.arc(n.x,n.y,r,0,2*Math.PI)}});fi.Circle=Di;var Ei=Si.extend({renderPoints:function(e){var t=this.srcElement.geometry(),n=t.origin,r=t.size;e.rect(n.x,n.y,r.width,r.height)}});fi.Rect=Ei;var Ai=Si.extend({init:function(e,t){Si.fn.init.call(this,e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=l();var img=this.img=new Image;t&&!/^data:/i.test(e.src())&&(img.crossOrigin=t),img.src=e.src(),img.complete?this.onLoad():(img.onload=this.onLoad,img.onerror=this.onError)},renderTo:function(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())},optionsChange:function(e){"src"===e.field?(this.loading=l(),this.img.src=this.srcElement.src()):Si.fn.optionsChange.call(this,e)},onLoad:function(){this.loading.resolve(),this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(e){var rect=this.srcElement.rect(),t=rect.topLeft();e.drawImage(this.img,t.x,t.y,rect.width(),rect.height())}});fi.Image=Ai;var Ii=Si.extend({renderTo:function(e){var text=this.srcElement,t=text.position(),n=text.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=text.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(text.content(),t.x,t.y+n.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(text.content(),t.x,t.y+n.baseline)),e.restore()}});fi.Text=Ii;var Mi=Si.extend({renderPoints:function(e){for(var t=this.srcElement.paths,i=0;i<t.length;i++)gi(e,t[i])}});fi.MultiPath=Mi;var canvas={Surface:Ci,RootNode:_i,Node:mi,GroupNode:vi,ArcNode:Ti,CircleNode:Di,RectNode:Ei,ImageNode:Ai,TextNode:Ii,PathNode:Si,MultiPathNode:Mi},Ri=o;function Fi(e){return Array.prototype.slice.call(e)}var Pi="KENDO-PSEUDO-ELEMENT",zi={},Bi={};Bi._root=Bi;var Li=!("undefined"==typeof window)&&(Ri.msie||Ri.edge),Hi=et.extend({init:function(e,rect,t){et.fn.init.call(this,e,rect.getOrigin(),t),this._pdfRect=rect},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});function Ni(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var p,Oi="undefined"!=typeof Element&&Element.prototype&&((p=Element.prototype).matches?function(e,t){return e.matches(t)}:p.webkitMatchesSelector?function(e,t){return e.webkitMatchesSelector(t)}:p.mozMatchesSelector?function(e,t){return e.mozMatchesSelector(t)}:p.msMatchesSelector?function(e,t){return e.msMatchesSelector(t)}:function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)});function Vi(e,t){if(e.closest)return e.closest(t);for(;e&&!/^\[object (?:HTML)?Document\]$/.test(String(e));){if(1==e.nodeType&&Oi(e,t))return e;e=e.parentNode}}var Wi=function(e){return e?function t(n){var r=n.cloneNode(!1);if(1==n.nodeType){var i,o=e(n),l=e(r),data=o.data();for(i in data)l.data(i,data[i]);for(/^canvas$/i.test(n.tagName)?r.getContext("2d").drawImage(n,0,0):/^(?:input|select|textarea|option)$/i.test(n.tagName)&&(r.removeAttribute("id"),r.removeAttribute("name"),r.value=n.value,r.checked=n.checked,r.selected=n.selected),i=n.firstChild;i;i=i.nextSibling)r.appendChild(t(i))}return r}:function(e){var t=function e(t){var n=t.cloneNode(!1);t._kendoExportVisual&&(n._kendoExportVisual=t._kendoExportVisual);for(var i=t.firstChild;i;i=i.nextSibling)n.appendChild(e(i));return n}(e),n=e.querySelectorAll("canvas");n.length&&Fi(t.querySelectorAll("canvas")).forEach((function(e,i){e.getContext("2d").drawImage(n[i],0,0)}));var r=e.querySelectorAll("input, select, textarea, option");return Fi(t.querySelectorAll("input, select, textarea, option")).forEach((function(e,i){e.removeAttribute("id"),e.removeAttribute("name"),e.value=r[i].value,e.checked=r[i].checked,e.selected=r[i].selected})),t}}("undefined"!=typeof window&&window.kendo&&window.kendo.jQuery);function Ui(element,e){e||(e={});var t=l();if(!element)return t.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");kendo.pdf.defineFont(Ki(element.ownerDocument));var n,r="number"==typeof(n=e.scale||1)?{x:n,y:n}:Array.isArray(n)?{x:n[0],y:n[1]}:{x:n.x,y:n.y};function o(element){var t,n,o=new nt,l=element.getBoundingClientRect();return mn(o,[r.x,0,0,r.y,-l.left*r.x,-l.top*r.y]),Bi._clipbox=!1,Bi._matrix=X.unit(),Bi._stackingContext={element:element,group:o},!0===e.avoidLinks?Bi._avoidLinks="a":Bi._avoidLinks=e.avoidLinks,n="k-pdf-export",(t=element).classList?t.classList.add(n):t.className+=" "+n,Fn(element,o),function(e,t){e.classList?e.classList.remove(t):e.className=e.className.split(/\s+/).reduce((function(a,e){return e!=t&&a.push(e),a}),[]).join(" ")}(element,"k-pdf-export"),o}return nn(element,(function(){var n=e&&e.forcePageBreak,l=e&&e.paperSize&&"auto"!=e.paperSize,c=kendo.pdf.getPaperOptions((function(t,n){return"paperSize"==t?l?e[t]:"A4":t in e?e[t]:n})),h=l&&c.paperSize[0],d=l&&c.paperSize[1],f=e.margin&&c.margin,m=Boolean(f);if(n||d){f||(f={left:0,top:0,right:0,bottom:0}),h&&(h/=r.x),d&&(d/=r.y),f.left/=r.x,f.right/=r.x,f.top/=r.y,f.bottom/=r.y;var v=new nt({pdf:{multiPage:!0,paperSize:l?c.paperSize:"auto",_ignoreMargin:m}});!function(e,element,t,n,r,o,l){var c=function(e){if(null!=e)return"string"==typeof e&&(e=kendo.template(e.replace(/^\s+|\s+$/g,""))),"function"==typeof e?function(data){var t=e(data);if(t&&"string"==typeof t){var div=document.createElement("div");div.innerHTML=t,t=div.firstElementChild}return t}:function(){return e.cloneNode(!0)}}(l.template),h=element.ownerDocument,d=[],f=l._destructive?element:Wi(element),m=h.createElement("KENDO-PDF-DOCUMENT"),v=0;function _(){("-"!=t||r)&&function e(element){if("TABLE"==element.tagName&&Ni(element,{tableLayout:"fixed"}),!w(element)){var style=ln(element),n=parseFloat(cn(style,"padding-bottom")),o=parseFloat(cn(style,"border-bottom-width")),l=v;v+=n+o;for(var c=!0,h=element.firstChild;h;h=h.nextSibling)if(1==h.nodeType){if(c=!1,Oi(h,t)){y(h);continue}if(!r){e(h);continue}if(!/^(?:static|relative)$/.test(cn(ln(h),"position")))continue;var d=k(h);1==d?y(h):d&&w(h)?y(h):e(h)}else 3==h.nodeType&&r&&(C(h,c),c=!1);v=l}}(f);var n=x();f.parentNode.insertBefore(n,f),n.appendChild(f),c&&d.forEach((function(e,i){var t=c({element:e,pageNum:i+1,totalPages:d.length});t&&e.appendChild(t)})),nn(d,(function(){!function(e,t){var n=0;function r(){--n<=0&&t()}e.forEach((function(e){for(var t=e.querySelectorAll("img"),i=0;i<t.length;++i){var img=t[i];img.complete||(n++,img.onload=img.onerror=r)}})),n||r()}(d,(function(){e({pages:d,container:m})}))}))}function w(e){if(l.keepTogether&&Oi(e,l.keepTogether)&&e.offsetHeight<=r-v)return!0;var t=e.tagName;return!(/^h[1-6]$/i.test(t)&&e.offsetHeight>=r-v)&&(e.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e.tagName))}function y(e){if(1==e.nodeType&&e!==f&&function(e){var p=e.parentNode,t=p.firstChild;if(e===t)return!0;if(e===p.children[0]){if(7==t.nodeType||8==t.nodeType)return!0;if(3==t.nodeType)return!/\S/.test(t.data)}return!1}(e))return y(e.parentNode);var table,colgroup,thead,t,n;colgroup=(table=Vi(e,"table"))&&table.querySelector("colgroup"),l.repeatHeaders&&(thead=table&&table.querySelector("thead"),(t=Vi(e,".k-grid.k-widget"))&&t.querySelector(".k-auto-scrollable")&&(n=t.querySelector(".k-grid-header")));var r=x(),o=h.createRange();o.setStartBefore(f),o.setEndBefore(e),r.appendChild(o.extractContents()),f.parentNode.insertBefore(r,f),S(e.parentNode),table&&(table=Vi(e,"table"),l.repeatHeaders&&thead&&table.insertBefore(thead.cloneNode(!0),table.firstChild),colgroup&&table.insertBefore(colgroup.cloneNode(!0),table.firstChild)),l.repeatHeaders&&n&&(t=Vi(e,".k-grid.k-widget")).insertBefore(n.cloneNode(!0),t.firstChild)}function x(){var e=h.createElement("KENDO-PDF-PAGE");return Ni(e,{display:"block",boxSizing:"content-box",width:n?n+"px":"auto",padding:o.top+"px "+o.right+"px "+o.bottom+"px "+o.left+"px",position:"relative",height:r?r+"px":"auto",overflow:r||n?"hidden":"visible",clear:"both"}),l&&l.pageClassName&&(e.className=l.pageClassName),d.push(e),e}function k(e){var t=e.getBoundingClientRect();if(0===t.width||0===t.height)return 0;var n=f.getBoundingClientRect().top,o=r-v;return t.height>o?3:t.top-n>o?1:t.bottom-n>o?2:0}function C(e,t){if(/\S/.test(e.data)){var n=e.data.length,r=h.createRange();r.selectNodeContents(e);var o=k(r);if(o){var l=e;if(1==o)y(t?e.parentNode:e);else if(function t(n,o,l){return r.setEnd(e,o),n==o||o==l?o:k(r)?t(n,n+o>>1,o):t(o,o+l>>1,l)}(0,n>>1,n),!/\S/.test(r.toString())&&t)y(e.parentNode);else{l=e.splitText(r.endOffset);var c=x();r.setStartBefore(f),c.appendChild(r.extractContents()),f.parentNode.insertBefore(c,f),S(l.parentNode)}C(l)}}}function S(e){var li=Vi(e,"li");li&&(li.setAttribute("kendo-no-bullet","1"),S(li.parentNode))}Fi(f.querySelectorAll("tfoot")).forEach((function(tfoot){tfoot.parentNode.appendChild(tfoot)})),Fi(f.querySelectorAll("ol")).forEach((function(ol){Fi(ol.children).forEach((function(li,e){li.setAttribute("kendo-split-index",e)}))})),Ni(m,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),n&&(Ni(m,{width:n+"px",paddingLeft:o.left+"px",paddingRight:o.right+"px"}),Ni(f,{overflow:"hidden"})),element.parentNode.insertBefore(m,element),m.appendChild(f),l.beforePageBreak?setTimeout((function(){l.beforePageBreak(m,_)}),15):setTimeout(_,15)}((function(n){if(e.progress){var r=!1,l=0;!function c(){if(l<n.pages.length){var h=o(n.pages[l]);v.append(h),e.progress({page:h,pageNum:++l,totalPages:n.pages.length,cancel:function(){r=!0}}),r?n.container.parentNode.removeChild(n.container):setTimeout(c)}else n.container.parentNode.removeChild(n.container),t.resolve(v)}()}else n.pages.forEach((function(e){v.append(o(e))})),n.container.parentNode.removeChild(n.container),t.resolve(v)}),element,n,h?h-f.left-f.right:null,d?d-f.top-f.bottom:null,f,e)}else t.resolve(o(element))})),t}Ui.getFontFaces=Ki,Ui.drawText=function(element){var e=new nt;return Bi._clipbox=!1,Bi._matrix=X.unit(),Bi._stackingContext={element:element,group:e},on(element,ln(element),e),3==element.firstChild.nodeType?Rn(element,element.firstChild,e):Dn(element,e),sn(),e};var ji,qi=function(){var e=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,t=/^([-0-9.]+%)/,n=/^([-0-9.]+px)/,r=/^(left|right|top|bottom|to|center)\W/,o=/^([-0-9.]+(deg|grad|rad|turn)|0)/,l=/^(\s+)/,c=/^(\()/,h=/^(\))/,d=/^(,)/,f=/^(url)\(/,m=/^(.*?)\)/,v={},_={};function w(input){var _,w=input;if(Qi(v,w))return v[w];function y(e){!function(){var e=l.exec(input);e&&(input=input.substr(e[1].length))}();var t=e.exec(input);if(t)return input=input.substr(t[1].length),t[1]}function x(){var e,r,o=kendo.parseColor(input,!0);if(o){var l=/^#[0-9a-f]+/i.exec(input)||/^rgba?\(.*?\)/i.exec(input)||/^..*?\b/.exec(input);return input=input.substr(l[0].length),o=o.toRGB(),(e=y(n))||(r=y(t)),{color:o,length:e,percent:r}}}return(_=y(e))?_=function(e){var n,l,f,m=[],v=!1;if(y(c)){if("0"==(n=y(o))&&(n="0deg"),n?(n=function(e){var t=parseFloat(e);return/grad$/.test(e)?Math.PI*t/200:/rad$/.test(e)?t:/turn$/.test(e)?Math.PI*t*2:/deg$/.test(e)?Math.PI*t/180:void 0}(n),y(d)):("to"==(l=y(r))?l=y(r):l&&/^-/.test(e)&&(v=!0),f=y(r),y(d)),/-moz-/.test(e)&&null==n&&null==l){var _=y(t),w=y(t);v=!0,"0%"==_?l="left":"100%"==_&&(l="right"),"0%"==w?f="top":"100%"==w&&(f="bottom"),y(d)}for(;input&&!y(h);){var k=x();if(!k)break;m.push(k),y(d)}return{type:"linear",angle:n,to:l&&f?l+" "+f:l||f||null,stops:m,reverse:v}}}(_):(_=y(f))&&(_=function(){if(y(c)){var e=y(m);return e=e.replace(/^['"]+|["']+$/g,""),y(h),{type:"url",url:e}}}()),v[w]=_||{type:"none"}}return function(input){return Qi(_,input)?_[input]:_[input]=Gi(input).map(w)}}(),Gi=(ji={},function(input,e){e||(e=/^\s*,\s*/);var t=input+e;if(Qi(ji,t))return ji[t];var n,r=[],o=0,l=0,c=0,h=!1;function d(e){return n=e.exec(input.substr(l))}function f(e){return e.replace(/^\s+|\s+$/g,"")}for(;l<input.length;)!h&&d(/^[\(\[\{]/)?(c++,l++):!h&&d(/^[\)\]\}]/)?(c--,l++):!h&&d(/^[\"\']/)?(h=n[0],l++):"'"==h&&d(/^\\\'/)?l+=2:'"'==h&&d(/^\\\"/)?l+=2:"'"==h&&d(/^\'/)?(h=!1,l++):'"'==h&&d(/^\"/)?(h=!1,l++):d(e)?(!h&&!c&&l>o&&(r.push(f(input.substring(o,l))),o=l+n[0].length),l+=n[0].length):l++;return o<l&&r.push(f(input.substring(o,l))),ji[t]=r}),$i=function(e){return function(t){var n,r=e[t];return r||((n=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))?r=e[t]=n[2]:(n=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t))&&(r=e[t]=n[2])),r}}(Object.create?Object.create(null):{}),Yi=function(e){return function(t){var n=e[t];return null==n&&(n=e[t]=r.measureText("Mapq",{font:t}).height),n}}(Object.create?Object.create(null):{});function Ki(e){null==e&&(e=document);for(var t={},i=0;i<e.styleSheets.length;++i)n(e.styleSheets[i]);return t;function n(e){if(e){var t=null;try{t=e.cssRules}catch(e){}t&&function(e,t){for(var i=0;i<t.length;++i){var l=t[i];switch(l.type){case 3:n(l.styleSheet);break;case 5:var style=l.style,c=Gi(cn(style,"font-family")),h=/^([56789]00|bold)$/i.test(cn(style,"font-weight")),d="italic"==cn(style,"font-style"),f=r(l);f.length>0&&o(e,c,h,d,f[0])}}}(e,t)}}function r(e){var t=cn(e.style,"src");if(t)return Gi(t).reduce((function(a,e){var t=$i(e);return t&&a.push(t),a}),[]);var n=$i(e.cssText);return n?[n]:[]}function o(e,n,r,o,l){/^data:/i.test(l)||/^[^\/:]+:\/\//.test(l)||/^\//.test(l)||(l=String(e.href).replace(/[^\/]*$/,"")+l),n.forEach((function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2"),r&&(e+="|bold"),o&&(e+="|italic"),t[e]=l}))}}function Qi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xi(e,t){var p=Bi;for(e="_counter_"+e;p&&!Qi(p,e);)p=Object.getPrototypeOf(p);p||(p=Bi._root),p[e]=(p[e]||0)+(null==t?1:t)}function Ji(e,t){Bi[e="_counter_"+e]=null==t?0:t}function Zi(a,e,t){for(var i=0;i<a.length;){var n=a[i++],r=parseFloat(a[i]);isNaN(r)?e(n,t):(e(n,r),++i)}}function en(style){var e=cn(style,"counter-reset");e&&Zi(Gi(e,/^\s+/),Ji,0);var t=cn(style,"counter-increment");t&&Zi(Gi(t,/^\s+/),Xi,1)}function tn(e,t){var n=kendo.parseColor(e,!0);return n&&(n=n.toRGB(),t?n=n.toCssRgba():0===n.a&&(n=null)),n}function nn(element,e){var t=[];function n(e){zi[e]||(zi[e]=!0,t.push(e))}function r(element){/^img$/i.test(element.tagName)&&n(element.src),qi(cn(ln(element),"background-image")).forEach((function(e){"url"==e.type&&n(e.url)})),element.children&&Fi(element.children).forEach(r)}Array.isArray(element)?element.forEach(r):r(element);var o=t.length;function l(){--o<=0&&e()}0===o&&l(),t.forEach((function(e){var img=zi[e]=new window.Image;/^data:/i.test(e)||(img.crossOrigin="Anonymous"),img.src=e,img.complete?l():(img.onload=l,img.onerror=function(){zi[e]=null,l()})}))}function rn(e){var t="";do{var n=e%26;t=String.fromCharCode(97+n)+t,e=Math.floor(e/26)}while(e>0);return t}function on(element,style,e){(Bi=Object.create(Bi))[element.tagName.toLowerCase()]={element:element,style:style};var t=cn(style,"text-decoration");if(t&&"none"!=t){var n=cn(style,"color");t.split(/\s+/g).forEach((function(e){Bi[e]||(Bi[e]=n)}))}(function(style){function e(e){return cn(style,e)}if("none"!=e("transform")||"static"!=e("position")||"auto"!=e("z-index")||e("opacity")<1)return!0})(style)&&(Bi._stackingContext={element:element,group:e})}function sn(){Bi=Object.getPrototypeOf(Bi)}function an(path){if(null!=Bi._clipbox){var e=path.bbox(Bi._matrix);Bi._clipbox?Bi._clipbox=te.intersect(Bi._clipbox,e):Bi._clipbox=e}}function ln(element,e){return window.getComputedStyle(element,e||null)}function cn(style,e,t){var n=style.getPropertyValue(e);return null!=n&&""!==n||(Ri.webkit?n=style.getPropertyValue("-webkit-"+e):Ri.mozilla?n=style.getPropertyValue("-moz-"+e):Ri.opera?n=style.getPropertyValue("-o-"+e):Li&&(n=style.getPropertyValue("-ms-"+e))),arguments.length>2&&(null==n||""===n)?t:n}function hn(style,e,t,n){style.setProperty(e,t,n),Ri.webkit?style.setProperty("-webkit-"+e,t,n):Ri.mozilla?style.setProperty("-moz-"+e,t,n):Ri.opera?style.setProperty("-o-"+e,t,n):Li&&(style.setProperty("-ms-"+e,t,n),style[e="ms"+e.replace(/(^|-)([a-z])/g,(function(s,e,t){return e+t.toUpperCase()}))]=t)}function dn(style,e){return e="border-"+e,{width:parseFloat(cn(style,e+"-width")),style:cn(style,e+"-style"),color:tn(cn(style,e+"-color"),!0)}}function un(element,e){var t=element.style.cssText,n=e();return element.style.cssText=t,n}function pn(style,e){var t=cn(style,"border-"+e+"-radius").split(/\s+/g).map(parseFloat);return 1==t.length&&t.push(t[0]),bn({x:t[0],y:t[1]})}function fn(e,t,element){var style,n,r,o,l;return"string"==typeof t?(style=ln(element),n=parseFloat(cn(style,t.replace("*","top"))),r=parseFloat(cn(style,t.replace("*","right"))),o=parseFloat(cn(style,t.replace("*","bottom"))),l=parseFloat(cn(style,t.replace("*","left")))):"number"==typeof t&&(n=r=o=l=t),{top:e.top+n,right:e.right-r,bottom:e.bottom-o,left:e.left+l,width:e.right-e.left-r-l,height:e.bottom-e.top-o-n}}function gn(e){return 180*e/Math.PI%360}function mn(e,t){return t=new X(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t}function vn(e,t){e.clip(t)}function _n(path,e,t,n){for(var r=new _e([e,t],n).curvePoints(),i=1;i<r.length;)path.curveTo(r[i++],r[i++],r[i++])}function bn(e){return(e.x<=0||e.y<=0)&&(e.x=e.y=0),e}function wn(e,t,n,r,o){var l=Math.max(0,t.x),c=Math.max(0,t.y),h=Math.max(0,n.x),d=Math.max(0,n.y),f=Math.max(0,r.x),m=Math.max(0,r.y),v=Math.max(0,o.x),_=Math.max(0,o.y),w=Math.min(e.width/(l+h),e.height/(d+m),e.width/(f+v),e.height/(_+c));return w<1&&(l*=w,c*=w,h*=w,d*=w,f*=w,m*=w,v*=w,_*=w),{tl:{x:l,y:c},tr:{x:h,y:d},br:{x:f,y:m},bl:{x:v,y:_}}}function yn(element,e,t){var style=ln(element),n=pn(style,"top-left"),r=pn(style,"top-right"),o=pn(style,"bottom-left"),l=pn(style,"bottom-right");if("padding"==t||"content"==t){var c=dn(style,"top"),br=dn(style,"right"),h=dn(style,"bottom"),d=dn(style,"left");if(n.x-=d.width,n.y-=c.width,r.x-=br.width,r.y-=c.width,l.x-=br.width,l.y-=h.width,o.x-=d.width,o.y-=h.width,"content"==t){var f=parseFloat(cn(style,"padding-top")),m=parseFloat(cn(style,"padding-right")),v=parseFloat(cn(style,"padding-bottom")),_=parseFloat(cn(style,"padding-left"));n.x-=_,n.y-=f,r.x-=m,r.y-=f,l.x-=m,l.y-=v,o.x-=_,o.y-=v}}return"number"==typeof t&&(n.x-=t,n.y-=t,r.x-=t,r.y-=t,l.x-=t,l.y-=t,o.x-=t,o.y-=t),xn(e,n,r,l,o)}function xn(e,t,n,r,o){var l=wn(e,t,n,r,o),c=l.tl,h=l.tr,d=l.br,f=l.bl,path=new Je({fill:null,stroke:null});return path.moveTo(e.left,e.top+c.y),c.x&&_n(path,e.left+c.x,e.top+c.y,{startAngle:-180,endAngle:-90,radiusX:c.x,radiusY:c.y}),path.lineTo(e.right-h.x,e.top),h.x&&_n(path,e.right-h.x,e.top+h.y,{startAngle:-90,endAngle:0,radiusX:h.x,radiusY:h.y}),path.lineTo(e.right,e.bottom-d.y),d.x&&_n(path,e.right-d.x,e.bottom-d.y,{startAngle:0,endAngle:90,radiusX:d.x,radiusY:d.y}),path.lineTo(e.left+f.x,e.bottom),f.x&&_n(path,e.left+f.x,e.bottom-f.y,{startAngle:90,endAngle:180,radiusX:f.x,radiusY:f.y}),path.close()}function kn(e,style){var t=String(parseFloat(e));switch(style){case"decimal-leading-zero":return t.length<2&&(t="0"+t),t;case"lower-roman":return m(e).toLowerCase();case"upper-roman":return m(e).toUpperCase();case"lower-latin":case"lower-alpha":return rn(e-1);case"upper-latin":case"upper-alpha":return rn(e-1).toUpperCase();default:return t}}function Cn(element,content){function e(e,style,t){return t?(t=t.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(e){var t=[],p=Bi;for(e="_counter_"+e;p;)Qi(p,e)&&t.push(p[e]),p=Object.getPrototypeOf(p);return t.reverse()}(e).map((function(e){return kn(e,style)})).join(t)):kn(function(e){return Bi[e="_counter_"+e]}(e)||0,style)}var t,a=Gi(content,/^\s+/),n=[];return a.forEach((function(r){var o;(t=/^\s*(["'])(.*)\1\s*$/.exec(r))?n.push(t[2].replace(/\\([0-9a-f]{4})/gi,(function(s,p){return String.fromCharCode(parseInt(p,16))}))):(t=/^\s*counter\((.*?)\)\s*$/.exec(r))?(o=Gi(t[1]),n.push(e(o[0],o[1]))):(t=/^\s*counters\((.*?)\)\s*$/.exec(r))?(o=Gi(t[1]),n.push(e(o[0],o[2],o[1]))):(t=/^\s*attr\((.*?)\)\s*$/.exec(r))?n.push(element.getAttribute(t[1])||""):n.push(r)})),n.join("")}function Sn(style){if(style.cssText)return style.cssText;for(var e=[],i=0;i<style.length;++i)e.push(style[i]+": "+cn(style,style[i]));return e.join(";\n")}function Tn(element,e){if(element.tagName!=Pi){var t=[];if(r(":before",element.firstChild),r(":after",null),t.length>0){var n=element.className;element.className+=" kendo-pdf-hide-pseudo-elements",Dn(element,e),element.className=n,t.forEach((function(e){element.removeChild(e)}))}else Dn(element,e)}else Dn(element,e);function r(e,n){var style=ln(element,e),content=style.content;if(en(style),content&&"normal"!=content&&"none"!=content&&"0px"!=style.width){var r=element.ownerDocument.createElement(Pi);r.style.cssText=Sn(style),r.textContent=Cn(element,content),element.insertBefore(r,n),t.push(r)}}}function Dn(element,e){var style=ln(element),t=dn(style,"top"),n=dn(style,"right"),r=dn(style,"bottom"),o=dn(style,"left"),l=pn(style,"top-left"),c=pn(style,"top-right"),h=pn(style,"bottom-left"),d=pn(style,"bottom-right"),f=cn(style,"direction"),v=cn(style,"background-color");v=tn(v);var _,w,y=qi(cn(style,"background-image")),x=Gi(cn(style,"background-repeat")),k=Gi(cn(style,"background-position")),C=Gi(cn(style,"background-origin")),S=Gi(cn(style,"background-size"));Li&&"ellipsis"==(_=style.textOverflow)&&(w=element.style.textOverflow,element.style.textOverflow="clip"),Ri.msie&&Ri.version<10&&(k=Gi(element.currentStyle.backgroundPosition));var T,i,D,E=fn(element.getBoundingClientRect(),"border-*-width",element);!function(){var t=cn(style,"clip"),n=/^\s*rect\((.*)\)\s*$/.exec(t);if(n){var a=n[1].split(/[ ,]+/g),r="auto"==a[0]?E.top:parseFloat(a[0])+E.top,o="auto"==a[1]?E.right:parseFloat(a[1])+E.left,l="auto"==a[2]?E.bottom:parseFloat(a[2])+E.top,c="auto"==a[3]?E.left:parseFloat(a[3])+E.left,h=new nt,d=(new Je).moveTo(c,r).lineTo(o,r).lineTo(o,l).lineTo(c,l).close();vn(h,d),e.append(h),e=h,an(d)}}();var A=cn(style,"display");if("table-row"==A)for(T=[],i=0,D=element.children;i<D.length;++i)T.push(D[i].getBoundingClientRect());else 1==(T=element.getClientRects()).length&&(T=[element.getBoundingClientRect()]);for(T=function(e){if(/^td$/i.test(element.tagName)){var table=Bi.table;if(table&&"collapse"==cn(table.style,"border-collapse")){var t=dn(table.style,"left").width,n=dn(table.style,"top").width;if(0===t&&0===n)return e;var r=table.element.getBoundingClientRect(),o=table.element.rows[0].cells[0].getBoundingClientRect();if(o.top==r.top||o.left==r.left)return Fi(e).map((function(e){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n,height:e.height,width:e.width}}))}}return e}(T),i=0;i<T.length;++i)F(T[i],0===i,i==T.length-1);if("A"==element.tagName&&element.href&&!/^#?$/.test(element.getAttribute("href"))&&(!Bi._avoidLinks||!Oi(element,Bi._avoidLinks))){var I=document.createRange();I.selectNodeContents(element),Fi(I.getClientRects()).forEach((function(t){var g=new nt;g._pdfLink={url:element.href,top:t.top,right:t.right,bottom:t.bottom,left:t.left},e.append(g)}))}return T.length>0&&"list-item"==A&&!element.getAttribute("kendo-no-bullet")&&function(){var t=cn(style,"list-style-type");if("none"!=t){var n=cn(style,"list-style-position");switch(t){case"circle":case"disc":case"square":r((function(e){e.style.fontSize="60%",e.style.lineHeight="200%",e.style.paddingRight="0.5em",e.style.fontFamily="DejaVu Serif",e.innerHTML={disc:"●",circle:"◯",square:"■"}[t]}));break;case"decimal":case"decimal-leading-zero":r((function(e){o((function(n){++n,"decimal-leading-zero"==t&&n<10&&(n="0"+n),e.innerHTML=n+"."}))}));break;case"lower-roman":case"upper-roman":r((function(e){o((function(n){n=m(n+1),"upper-roman"==t&&(n=n.toUpperCase()),e.innerHTML=n+"."}))}));break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":r((function(e){o((function(n){n=rn(n),/^upper/i.test(t)&&(n=n.toUpperCase()),e.innerHTML=n+"."}))}))}}function r(t){un(element,(function(){element.style.position="relative";var r=element.ownerDocument.createElement(Pi);r.style.position="absolute",r.style.boxSizing="border-box","outside"==n?(r.style.width="6em",r.style.left="-6.8em",r.style.textAlign="right"):r.style.left="0px",t(r),element.insertBefore(r,element.firstChild),Fn(r,e),element.removeChild(r)}))}function o(e){var a=element.parentNode.children,t=element.getAttribute("kendo-split-index");if(null!=t)return e(0|t,a.length);for(var i=0;i<a.length;++i)if(a[i]===element)return e(i,a.length)}}(T[0]),function(){function t(){var t=yn(element,E,"padding"),n=new nt;vn(n,t),e.append(n),e=n,an(t)}!function(element){return/^(?:textarea|select|input)$/i.test(element.tagName)}(element)?/^(hidden|auto|scroll)/.test(cn(style,"overflow"))?t():/^(hidden|auto|scroll)/.test(cn(style,"overflow-x"))?t():/^(hidden|auto|scroll)/.test(cn(style,"overflow-y"))&&t():t()}(),function(element,e){var t;if(element._kendoExportVisual)t=element._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&element.getAttribute(window.kendo.attr("role"))){var n=window.kendo.widgetInstance(window.kendo.jQuery(element));n&&(n.exportDOMVisual||n.exportVisual)&&(t=n.exportDOMVisual?n.exportDOMVisual():n.exportVisual())}if(!t)return!1;var r=new nt;r.children.push(t);var o=element.getBoundingClientRect();return r.transform(ne().translate(o.left,o.top)),e.append(r),!0}(element,e)||Mn(element,e),Li&&"ellipsis"==_&&(element.style.textOverflow=w),e;function M(t,n,r,o,l,c,h,d){if(!(r<=0)){var path,f=new nt;mn(f,d),e.append(f),bn(c),bn(h),path=new Je({fill:{color:t},stroke:null}),f.append(path),path.moveTo(c.x?Math.max(c.x,o):0,0).lineTo(n-(h.x?Math.max(h.x,l):0),0).lineTo(n-Math.max(h.x,l),r).lineTo(Math.max(c.x,o),r).close(),c.x&&m(o,c,[-1,0,0,1,c.x,0]),h.x&&m(l,h,[1,0,0,1,n-h.x,0])}function m(e,n,o){var l=Math.PI/2*e/(e+r),c={x:n.x-e,y:n.y-r},path=new Je({fill:{color:t},stroke:null}).moveTo(0,0);mn(path,o),_n(path,0,n.y,{startAngle:-90,endAngle:-gn(l),radiusX:n.x,radiusY:n.y}),c.x>0&&c.y>0?(path.lineTo(c.x*Math.cos(l),n.y-c.y*Math.sin(l)),_n(path,0,n.y,{startAngle:-gn(l),endAngle:-90,radiusX:c.x,radiusY:c.y,anticlockwise:!0})):c.x>0?path.lineTo(c.x,r).lineTo(0,r):path.lineTo(c.x,r).lineTo(c.x,0),f.append(path.close())}}function R(e,t,n,r,o,l,c){var h;if(n&&"none"!=n)if("url"==n.type){if(/^url\(\"data:image\/svg/i.test(n.url))return;var img=zi[n.url];img&&img.width>0&&img.height>0&&d(e,t,img.width,img.height,(function(e,rect){e.append(new tt(n.url,rect))}))}else{if("linear"!=n.type)return;d(e,t,t.width,t.height,(h=n,function(e,rect){var t=rect.width(),n=rect.height();switch(h.type){case"linear":var r=null!=h.angle?h.angle:Math.PI;switch(h.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(n,t);break;case"top right":case"right top":r=Math.atan2(n,t);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(n,t);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(n,t)}h.reverse&&(r-=Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI);var o=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),l=Math.atan(t*Math.tan(r)/n),c=Math.sin(l),d=Math.cos(l),f=Math.abs(c)+Math.abs(d),m=f/2*c,v=f/2*d;r>Math.PI/2&&r<=3*Math.PI/2&&(m=-m,v=-v);var _=[],w=0,y=h.stops.map((function(s,i){var e=s.percent;e?e=parseFloat(e)/100:s.length?e=parseFloat(s.length)/o:0===i?e=0:i==h.stops.length-1&&(e=1);var t={color:s.color.toCssRgba(),offset:e};return null!=e?(w=e,_.forEach((function(s,i){s.stop.offset=s.left+(w-s.left)*(i+1)/(_.length+1)})),_=[]):_.push({left:w,stop:t}),t})),x=[.5-m,.5+v],k=[.5+m,.5-v];e.append(Je.fromRect(rect).stroke(null).fill(new xt({start:x,end:k,stops:y,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}))}function d(e,t,n,h,d){var f,m=n/h,v=t;if("content-box"==l?(v=fn(v,"border-*-width",element),v=fn(v,"padding-*",element)):"padding-box"==l&&(v=fn(v,"border-*-width",element)),!/^\s*auto(\s+auto)?\s*$/.test(c))if("contain"==c)f=Math.min(v.width/n,v.height/h),n*=f,h*=f;else if("cover"==c)f=Math.max(v.width/n,v.height/h),n*=f,h*=f;else{var _=c.split(/\s+/g);n=/%$/.test(_[0])?v.width*parseFloat(_[0])/100:parseFloat(_[0]),h=1==_.length||"auto"==_[1]?n/m:/%$/.test(_[1])?v.height*parseFloat(_[1])/100:parseFloat(_[1])}var w=String(o);switch(w){case"bottom":w="50% 100%";break;case"top":w="50% 0";break;case"left":w="0 50%";break;case"right":w="100% 50%";break;case"center":w="50% 50%"}1==(w=w.split(/\s+/)).length&&(w[1]="50%"),/%$/.test(w[0])?w[0]=parseFloat(w[0])/100*(v.width-n):w[0]=parseFloat(w[0]),/%$/.test(w[1])?w[1]=parseFloat(w[1])/100*(v.height-h):w[1]=parseFloat(w[1]);var rect=new te([v.left+w[0],v.top+w[1]],[n,h]);function y(){for(;rect.origin.x>t.left;)rect.origin.x-=n}function x(){for(;rect.origin.y>t.top;)rect.origin.y-=h}function k(){for(;rect.origin.x<t.right;)d(e,rect.clone()),rect.origin.x+=n}if("no-repeat"==r)d(e,rect);else if("repeat-x"==r)y(),k();else if("repeat-y"==r)for(x();rect.origin.y<t.bottom;)d(e,rect.clone()),rect.origin.y+=h;else if("repeat"==r){y(),x();for(var C=rect.origin.clone();rect.origin.y<t.bottom;)rect.origin.x=C.x,k(),rect.origin.y+=h}}}function F(m,_,w){if(0!==m.width&&0!==m.height){!function(t){var n=new nt;if(vn(n,xn(t,l,c,d,h)),e.append(n),v){var path=new Je({fill:{color:v.toCssRgba()},stroke:null});path.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),n.append(path)}for(var i=y.length;--i>=0;)R(n,t,y[i],x[i%x.length],k[i%k.length],C[i%C.length],S[i%S.length])}(m);var T=o.width>0&&(_&&"ltr"==f||w&&"rtl"==f),D=n.width>0&&(w&&"ltr"==f||_&&"rtl"==f);if(0!==t.width||0!==o.width||0!==n.width||0!==r.width){if(t.color==n.color&&t.color==r.color&&t.color==o.color&&t.width==n.width&&t.width==r.width&&t.width==o.width&&T&&D){m=fn(m,t.width/2);var path=yn(element,m,t.width/2);return path.options.stroke={color:t.color,width:t.width},void e.append(path)}if(0===l.x&&0===c.x&&0===d.x&&0===h.x&&t.width<2&&o.width<2&&n.width<2&&r.width<2)return t.width>0&&e.append(new Je({stroke:{width:t.width,color:t.color}}).moveTo(m.left,m.top+t.width/2).lineTo(m.right,m.top+t.width/2)),r.width>0&&e.append(new Je({stroke:{width:r.width,color:r.color}}).moveTo(m.left,m.bottom-r.width/2).lineTo(m.right,m.bottom-r.width/2)),T&&e.append(new Je({stroke:{width:o.width,color:o.color}}).moveTo(m.left+o.width/2,m.top).lineTo(m.left+o.width/2,m.bottom)),void(D&&e.append(new Je({stroke:{width:n.width,color:n.color}}).moveTo(m.right-n.width/2,m.top).lineTo(m.right-n.width/2,m.bottom)));var E=wn(m,l,c,d,h),A=E.tl,I=E.tr,F=E.br,P=E.bl;M(t.color,m.width,t.width,o.width,n.width,A,I,[1,0,0,1,m.left,m.top]),M(r.color,m.width,r.width,n.width,o.width,F,P,[-1,0,0,-1,m.right,m.bottom]),M(o.color,m.height,o.width,r.width,t.width,z(P),z(A),[0,-1,1,0,m.left,m.bottom]),M(n.color,m.height,n.width,t.width,r.width,z(I),z(F),[0,1,-1,0,m.right,m.top])}}function z(p){return{x:p.y,y:p.x}}}}function En(element,e,t){var n=function(element){var e=element.getBoundingClientRect();return e=fn(e,"border-*-width",element),e=fn(e,"padding-*",element)}(element),rect=new te([n.left,n.top],[n.width,n.height]),image=new tt(e,rect);vn(image,yn(element,n,"content")),t.append(image)}function An(a,b){var e=ln(a),t=ln(b),n=parseFloat(cn(e,"z-index")),r=parseFloat(cn(t,"z-index")),o=cn(e,"position"),l=cn(t,"position");return isNaN(n)&&isNaN(r)?/static|absolute/.test(o)&&/static|absolute/.test(l)?0:"static"==o?-1:"static"==l?1:0:isNaN(n)?0===r?0:r>0?-1:1:isNaN(r)?0===n?0:n>0?1:-1:parseFloat(n)-parseFloat(r)}function In(element,e){var t=element.tagName.toLowerCase();if("input"==t&&("checkbox"==element.type||"radio"==element.type))return function(element,e){var t=cn(ln(element),"color"),n=element.getBoundingClientRect();"checkbox"==element.type?(e.append(Je.fromRect(new te([n.left+1,n.top+1],[n.width-2,n.height-2])).stroke(t,1)),element.checked&&e.append((new Je).stroke(t,1.2).moveTo(n.left+.22*n.width,n.top+.55*n.height).lineTo(n.left+.45*n.width,n.top+.75*n.height).lineTo(n.left+.78*n.width,n.top+.22*n.width))):(e.append(new pe(new ae([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-2,n.height-2)/2)).stroke(t,1)),element.checked&&e.append(new pe(new ae([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-8,n.height-8)/2)).fill(t).stroke(null)))}(element,e);var option,p=element.parentNode,n=element.ownerDocument,r=n.createElement(Pi);if(r.style.cssText=Sn(ln(element)),"input"==t&&(r.style.whiteSpace="pre"),"select"!=t&&"textarea"!=t||(r.style.overflow="auto"),"select"==t)if(element.multiple)for(var i=0;i<element.options.length;++i)(option=n.createElement(Pi)).style.cssText=Sn(ln(element.options[i])),option.style.display="block",option.textContent=element.options[i].textContent,r.appendChild(option);else(option=function(element){return element.selectedOptions&&element.selectedOptions.length>0?element.selectedOptions[0]:element.options[element.selectedIndex]}(element))&&(r.textContent=option.textContent);else r.textContent=element.value;p.insertBefore(r,element),r.scrollLeft=element.scrollLeft,r.scrollTop=element.scrollTop,element.style.display="none",Mn(r,e),element.style.display="",p.removeChild(r)}function Mn(element,e){switch(Bi._stackingContext.element===element&&(Bi._stackingContext.group=e),element.tagName.toLowerCase()){case"img":En(element,element.src,e);break;case"canvas":try{En(element,element.toDataURL("image/png"),e)}catch(e){}break;case"textarea":case"input":case"select":In(element,e);break;default:for(var t=[],n=[],r=[],i=element.firstChild;i;i=i.nextSibling)switch(i.nodeType){case 3:/\S/.test(i.data)&&Rn(element,i,e);break;case 1:var style=ln(i),o=cn(style,"float");"static"!=cn(style,"position")?r.push(i):"none"!=o?n.push(i):t.push(i)}P(t,An).forEach((function(t){Fn(t,e)})),P(n,An).forEach((function(t){Fn(t,e)})),P(r,An).forEach((function(t){Fn(t,e)}))}}function Rn(element,e,t){if(null!=(n=Bi._clipbox)&&(!n||0!==n.width()&&0!==n.height())){var n,style=ln(element);if(!(parseFloat(cn(style,"text-indent"))<-500)){var text=e.data,r=0,o=text.search(/\S\s*$/)+1;if(o){var l=cn(style,"font-size"),c=cn(style,"line-height"),h=[cn(style,"font-style"),cn(style,"font-variant"),cn(style,"font-weight"),l,cn(style,"font-family")].join(" ");if(l=parseFloat(l),c=parseFloat(c),0!==l){var d=cn(style,"color"),f=element.ownerDocument.createRange(),m="justify"==cn(style,"text-align"),v=cn(style,"column-count",1),_=cn(style,"white-space"),w=cn(style,"text-transform"),y=element.getBoundingClientRect().width/l*5;0===y&&(y=500);for(var x=null,k=Bi.underline,C=Bi["line-through"],S=Bi.overline,T=k||C||S;!E(););return void(T&&(f.selectNode(e),Fi(f.getClientRects()).forEach((function(e){function line(n,r){if(n){var o=l/12,path=new Je({stroke:{width:o,color:n}});r-=o,path.moveTo(e.left,r).lineTo(e.right,r),t.append(path)}}line(k,e.bottom),line(C,e.bottom-e.height/2.7),line(S,e.top)}))))}}}}function D(e){if(Li||Ri.chrome){for(var t=e.getClientRects(),n={top:1/0,right:-1/0,bottom:-1/0,left:1/0},r=!1,i=0;i<t.length;++i){var b=t[i];b.width<=1||b.bottom===x||(n.left=Math.min(b.left,n.left),n.top=Math.min(b.top,n.top),n.right=Math.max(b.right,n.right),n.bottom=Math.max(b.bottom,n.bottom),r=!0)}return r?(n.width=n.right-n.left,n.height=n.bottom-n.top,n):e.getBoundingClientRect()}return e.getBoundingClientRect()}function E(){var n,l=r,k=text.substr(r).search(/\S/);if(r+=k,k<0||r>=o)return!0;f.setStart(e,r),f.setEnd(e,r+1),n=D(f);var C=!1;if((m||v>1)&&(k=text.substr(r).search(/\s/))>=0){f.setEnd(e,r+k);var S=D(f);S.bottom==n.bottom&&(n=S,C=!0,r+=k)}if(!C){if((k=function t(r,o,l){f.setEnd(e,o);var c=D(f);return c.bottom!=n.bottom&&r<o?t(r,r+o>>1,o):c.right!=n.right?(n=c,o<l?t(o,o+l>>1,l):o):o}(r,Math.min(o,r+y),o))==r)return!0;if(r=k,0===(k=f.toString().search(/\s+$/)))return!1;k>0&&(f.setEnd(e,f.startOffset+k),n=D(f))}Li&&(n=f.getClientRects()[0]);var T=f.toString();if(/^(?:pre|pre-wrap)$/i.test(_)){if(/\t/.test(T)){var E=0;for(k=l;k<f.startOffset;++k){var code=text.charCodeAt(k);9==code?E+=8-E%8:10==code||13==code?E=0:E++}for(;(k=T.search("\t"))>=0;){var A="        ".substr(0,8-(E+k)%8);T=T.substr(0,k)+A+T.substr(k+1)}}}else T=T.replace(/\s+/g," ");C||(x=n.bottom),function(e,n){if(Li&&!isNaN(c)){var r=Yi(h),o=(n.top+n.bottom-r)/2;n={top:o,right:n.right,bottom:o+r,left:n.left,height:r,width:n.right-n.left}}switch(w){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"capitalize":e=e.replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))}var text=new Hi(e,new te([n.left,n.top],[n.width,n.height]),{font:h,fill:{color:d}});t.append(text)}(T,n)}}function Fn(element,e){var style=ln(element);if(en(style),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)&&null!=Bi._clipbox){var t=parseFloat(cn(style,"opacity")),n=cn(style,"visibility"),r=cn(style,"display");if(0!==t&&"hidden"!=n&&"none"!=r){var o,tr=function(style){var e=cn(style,"transform");if("none"==e)return null;var t=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(e);if(t){var n=cn(style,"transform-origin");return{matrix:t=t[1].split(/\s*,\s*/g).map(parseFloat),origin:n=n.split(/\s+/g).map(parseFloat)}}}(style),l=cn(style,"z-index");(tr||t<1)&&"auto"==l&&(l=0),o=function(element,e,t){var main;"auto"!=t?(main=Bi._stackingContext.group,t=parseFloat(t)):(main=e,t=0);for(var a=main.children,i=0;i<a.length&&!(null!=a[i]._dom_zIndex&&a[i]._dom_zIndex>t);++i);var n=new nt;if(main.insert(i,n),n._dom_zIndex=t,main!==e&&Bi._clipbox){var r=Bi._matrix.invert(),o=Bi._clipbox.transformCopy(r);vn(n,Je.fromRect(o))}return n}(0,e,l),t<1&&o.opacity(t*o.opacity()),on(element,style,o),tr?un(element,(function(){hn(element.style,"transform","none","important"),hn(element.style,"transition","none","important"),"static"==cn(style,"position")&&hn(element.style,"position","relative","important");var e=element.getBoundingClientRect(),t=e.left+tr.origin[0],n=e.top+tr.origin[1],r=[1,0,0,1,-t,-n];r=Pn(r,tr.matrix),r=Pn(r,[1,0,0,1,t,n]),r=mn(o,r),Bi._matrix=Bi._matrix.multiplyCopy(r),Tn(element,o)})):Tn(element,o),sn()}}}function Pn(a,b){var e=a[0],t=a[1],n=a[2],r=a[3],o=a[4],l=a[5],c=b[0],h=b[1],d=b[2],f=b[3];return[e*c+t*d,e*h+t*f,n*c+r*d,n*h+r*f,o*c+l*d+b[4],o*h+l*f+b[5]]}var zn={svg:svg,canvas:canvas,util:j,PathParser:Xe,Surface:It,BaseNode:Mt,SurfaceFactory:Et,OptionsStore:$,exportImage:function(t,n){var r={width:"800px",height:"600px",cors:"Anonymous"},o=t,l=t.clippedBBox();if(l){var c=l.getOrigin();(o=new nt).transform(ne().translate(-c.x,-c.y)),o.children.push(t);var h=l.getSize();r.width=h.width+"px",r.height=h.height+"px"}var d=e.extend(r,n),f=document.createElement("div"),style=f.style;style.display="none",style.width=d.width,style.height=d.height,document.body.appendChild(f);var m=new Ci(f,d);m.suspendTracking(),m.draw(o);var v=m.image(),_=function(){m.destroy(),document.body.removeChild(f)};return v.then(_,_),v},exportSVG:function(e,t){var svg=pi(e);return t&&t.raw||(svg="data:image/svg+xml;base64,"+E(svg)),l().resolve(svg)},QuadNode:wi,ShapesQuadTree:yi,ObserversMixin:h,Element:re,Circle:pe,Arc:Ze,Path:Je,MultiPath:Ue,Text:et,Image:tt,Group:nt,Layout:ut,Rect:pt,align:function(e,rect,t){ft(e,rect,t,"x","width")},vAlign:function(e,rect,t){ft(e,rect,t,"y","height")},stack:function(e){gt(mt(e),"x","y","width")},vStack:function(e){gt(mt(e),"y","x","height")},wrap:function(e,rect){return vt(e,rect,"x","y","width")},vWrap:function(e,rect){return vt(e,rect,"y","x","height")},fit:function(element,rect){var e=element.clippedBBox();if(e){var t=e.size,n=rect.size;if(n.width<t.width||n.height<t.height){var r=Math.min(n.width/t.width,n.height/t.height),o=element.transform()||ne();o.scale(r,r),element.transform(o)}}},LinearGradient:xt,RadialGradient:kt,GradientStop:wt,Gradient:yt,Animation:Dt,AnimationFactory:St,drawDOM:Ui};kendo.deepExtend(kendo,{drawing:zn,geometry:ui}),kendo.drawing.Segment=kendo.geometry.Segment,kendo.dataviz.drawing=kendo.drawing,kendo.dataviz.geometry=kendo.geometry,kendo.drawing.util.measureText=kendo.util.measureText,kendo.drawing.util.objectKey=kendo.util.objectKey,kendo.drawing.Color=kendo.Color,kendo.util.encodeBase64=kendo.drawing.util.encodeBase64}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},922:function(e,t){e.exports=n(180)},923:function(e,t){e.exports=n(38)},924:function(e,t){e.exports=n(87)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1562),e.exports=n(1562)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1562:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){window.kendo.util=window.kendo.util||{};var t=kendo.Class.extend({init:function(e){this._size=e,this._length=0,this._map={}},put:function(e,t){var map=this._map,n={key:e,value:t};map[e]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(map[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}),n=/\r?\n|\r|\t/g,r=" ";function o(text){return String(text).replace(n,r)}function l(object){var e=[];for(var t in object)e.push(t+object[t]);return e.sort().join("")}function c(e){for(var t=2166136261,i=0;i<e.length;++i)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=e.charCodeAt(i);return t>>>0}var h,d={baselineMarkerSize:1};"undefined"!=typeof document&&((h=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var f=kendo.Class.extend({init:function(n){this._cache=new t(1e3),this.options=e.extend({},d,n)},measure:function(text,style,e){if(void 0===e&&(e={}),!text)return{width:0,height:0,baseline:0};var t=c(text+l(style)),n=this._cache.get(t);if(n)return n;var r={width:0,height:0,baseline:0},d=e.box||h,f=this._baselineMarker().cloneNode(!1);for(var m in style){var v=style[m];void 0!==v&&(d.style[m]=v)}var _=!1!==e.normalizeText?o(text):String(text);return d.textContent=_,d.appendChild(f),document.body.appendChild(d),_.length&&(r.width=d.offsetWidth-this.options.baselineMarkerSize,r.height=d.offsetHeight,r.baseline=f.offsetTop+this.options.baselineMarkerSize),r.width>0&&r.height>0&&this._cache.put(t,r),d.parentNode.removeChild(d),r},_baselineMarker:function(){var marker=document.createElement("div");return marker.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",marker}});f.current=new f,kendo.deepExtend(kendo.util,{LRUCache:t,TextMetrics:f,measureText:function(text,style,e){return f.current.measure(text,style,e)},objectKey:l,hashKey:c,normalizeText:o})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1052)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1052:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=e.extend,o="\r\n",l="\r\n\r\n",c=n.isFunction,h={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isnullorempty:"eq",isnotnullorempty:"ne",isempty:"eq",isnotempty:"ne"},d=r({},h,{contains:"contains"}),f={pageSize:e.noop,page:e.noop,filter:function(r,filter,o){filter&&(filter=function r(filter,o){var l,c,f,m,v,_,w,y,x=[],k=filter.logic||"and",C=filter.filters;for(l=0,c=C.length;l<c;l++)filter=C[l],f=filter.field,w=filter.value,_=filter.operator,filter.filters?filter=r(filter,o):(y=filter.ignoreCase,f=f.replace(/\./g,"/"),filter=h[_],o&&(filter=d[_]),"isnullorempty"===_?filter=n.format("{0} {1} null or {0} {1} ''",f,filter):"isnotnullorempty"===_?filter=n.format("{0} {1} null and {0} {1} ''",f,filter):"isnull"===_||"isnotnull"===_?filter=n.format("{0} {1} null",f,filter):"isempty"===_||"isnotempty"===_?filter=n.format("{0} {1} ''",f,filter):filter&&w!==t&&("string"===(m=e.type(w))?(v="'{1}'",w=w.replace(/'/g,"''"),!0===y&&(f="tolower("+f+")")):"date"===m?o?(v="{1:yyyy-MM-ddTHH:mm:ss+00:00}",w=n.timezone.apply(w,"Etc/UTC")):v="datetime'{1:yyyy-MM-ddTHH:mm:ss}'":v="{1}",filter.length>3?"substringof"!==filter?v="{0}({2},"+v+")":(v="{0}("+v+",{2})","doesnotcontain"===_&&(o?(v="{0}({2},'{1}') eq -1",filter="indexof"):v+=" eq false")):v="{2} {0} "+v,filter=n.format(v,filter,w,f))),x.push(filter);return filter=x.join(" "+k+" "),x.length>1&&(filter="("+filter+")"),filter}(filter,o))&&(r.$filter=filter)},sort:function(t,n){var r=e.map(n,(function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t})).join(",");r&&(t.$orderby=r)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},m={read:{dataType:"jsonp"}};function v(e){for(var t in e)0===t.indexOf("@odata")&&delete e[t]}function _(){return Math.floor(65536*(1+Math.random())).toString(16).substr(1)}function w(e){return e+_()+"-"+_()+"-"+_()}function y(e,t){var n=o+"--"+e;return t&&(n+="--"),n}function x(e,t,r,o){var l=e.options[o].url,h=n.format("{0} ",r);return c(l)?h+l(t):h+l}function k(e,t){var header="";return header+=y(e,!1),header+=o+"Content-Type: application/http",header+=o+"Content-Transfer-Encoding: binary",header+=o+"Content-ID: "+t}function C(e,t,r,c,h,d,f){var m="";return m+=function(e,t){var n="";return n+="--"+e+o,n+="Content-Type: multipart/mixed; boundary="+t+o}(t,r),m+=function(e,t,r,c,h,d){for(var f,content,m="",i=0;i<e.length;i++)m+=k(t,r),m+=l+x(h,e[i],h.options[c].type,c)+" HTTP/1.1",d||(m+=(f=e[i],content=void 0,content="",content+=o+"Content-Type: application/json;odata=minimalmetadata",content+=o+"Prefer: return=representation",content+=l+n.stringify(f))),m+=o,r++;return m}(e,r,c,d,h,f),m+=y(r,!0),m+=o}r(!0,n.data,{schemas:{odata:{type:"json",data:function(data){return data.d.results||[data.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t,r){var o,l,option,c;if(e=e||{},t=t||"read",c=(c=(this.options||m)[t])?c.dataType:"json","read"===t)for(option in o={$inlinecount:"allpages"},"json"!=c&&(o.$format="json"),e)f[option]?f[option](o,e[option],r):o[option]=e[option];else{if("json"!==c)throw new Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(option in e)"number"==typeof(l=e[option])&&(e[option]=l+"");o=n.stringify(e)}}return o}}}}),r(!0,n.data,{schemas:{"odata-v4":{type:"json",data:function(data){if(e.isArray(data)){for(var i=0;i<data.length;i++)v(data[i]);return data}return v(data=e.extend({},data)),data.value?data.value:[data]},total:function(data){return data["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var r=n.data.transports.odata.parameterMap(e,t,!0);return"read"==t&&(r.$count=!0,delete r.$inlinecount),r},submit:function(t){var o=function(e,t){var n={},r=w("sf_batch_"),o="",l=0,h=e.options.batch.url,d=w("sf_changeset_");return n.type=e.options.batch.type,n.url=c(h)?h():h,n.headers={"Content-Type":"multipart/mixed; boundary="+r},t.updated.length&&(o+=C(t.updated,r,d,l,e,"update",!1),l+=t.updated.length,d=w("sf_changeset_")),t.destroyed.length&&(o+=C(t.destroyed,r,d,l,e,"destroy",!0),l+=t.destroyed.length,d=w("sf_changeset_")),t.created.length&&(o+=C(t.created,r,d,l,e,"create",!1)),o+=y(r,!0),n.data=o,n}(this,t.data),l=t.data;(l.updated.length||l.destroyed.length||l.created.length)&&e.ajax(r(!0,{},{success:function(e){var r,o=function(e){var t,r,code,marker,o,l=e.match(/--changesetresponse_[a-z0-9-]+$/gm),c=0,h=[];h.push({models:[],passed:!0});for(var i=0;i<l.length;i++)(marker=l[i]).lastIndexOf("--",marker.length-1)?i<l.length-1&&h.push({models:[],passed:!0}):(c=c?e.indexOf(marker,c+marker.length):e.indexOf(marker),r=(t=e.substring(c,e.indexOf("--",c+1))).match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop(),(code=n.parseFloat(r.match(/\d{3}/g).pop()))>=200&&code<=299?(o=t.match(/\{.*\}/gm))&&h[h.length-1].models.push(JSON.parse(o[0])):h[h.length-1].passed=!1);return h}(e),c=0;l.updated.length&&((r=o[c]).passed&&t.success(r.models.length?r.models:[],"update"),c++),l.destroyed.length&&((r=o[c]).passed&&t.success([],"destroy"),c++),l.created.length&&(r=o[c]).passed&&t.success(r.models,"create")},error:function(e,n,r){t.error(e,n,r)}},o))}}}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1054)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1054:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=e.isArray,o=e.isPlainObject,map=e.map,l=e.each,c=e.extend,h=n.getter,d=n.Class.extend({init:function(t){var h=this,d=t.total,f=t.model,m=t.parse,v=t.errors,_=t.serialize,data=t.data;if(f){if(o(f)){var base=t.modelBase||n.data.Model;f.fields&&l(f.fields,(function(t,n){o(n)&&n.field?e.isFunction(n.field)||(n=c(n,{field:h.getter(n.field)})):n={field:h.getter(n)},f.fields[t]=n}));var w=f.id;if(w){var y={};y[h.xpathToMember(w,!0)]={field:h.getter(w)},f.fields=c(y,f.fields),f.id=h.xpathToMember(w)}f=base.define(f)}h.model=f}if(d&&("string"==typeof d?(d=h.getter(d),h.total=function(data){return parseInt(d(data),10)}):"function"==typeof d&&(h.total=d)),v&&("string"==typeof v?(v=h.getter(v),h.errors=function(data){return v(data)||null}):"function"==typeof v&&(h.errors=v)),data&&("string"==typeof data?(data=h.xpathToMember(data),h.data=function(e){var t,n=h.evaluate(e,data);return n=r(n)?n:[n],h.model&&f.fields?(t=new h.model,map(n,(function(e){if(e){var n,r={};for(n in f.fields)r[n]=t._parse(n,f.fields[n].field(e));return r}}))):n}):"function"==typeof data&&(h.data=data)),"function"==typeof m){var x=h.parse;h.parse=function(data){var e=m.call(h,data);return x.call(h,e)}}"function"==typeof _&&(h.serialize=_)},total:function(e){return this.data(e).length},errors:function(data){return data?data.errors:null},serialize:function(data){return data},parseDOM:function(element){var e,t,n,o,l,c,h,d={},f=element.attributes,m=f.length;for(h=0;h<m;h++)d["@"+(c=f[h]).nodeName]=c.nodeValue;for(t=element.firstChild;t;t=t.nextSibling)3===(n=t.nodeType)||4===n?d["#text"]=t.nodeValue:1===n&&(e=this.parseDOM(t),l=d[o=t.nodeName],r(l)?l.push(e):l=void 0!==l?[l,e]:e,d[o]=l);return d},evaluate:function(e,t){for(var n,o,l,c,h,d=t.split(".");n=d.shift();)if(e=e[n],r(e)){for(o=[],t=d.join("."),h=0,l=e.length;h<l;h++)c=this.evaluate(e[h],t),c=r(c)?c:[c],o.push.apply(o,c);return o}return e},parse:function(t){var n,r,o={};return n=t.documentElement||e.parseXML(t).documentElement,r=this.parseDOM(n),o[n.nodeName]=r,o},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,".")).indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e:""},getter:function(e){return h(this.xpathToMember(e),!0)}});e.extend(!0,n.data,{XmlDataReader:d,readers:{xml:d}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1365)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1016:function(e,t){e.exports=n(3)},1364:function(e,t){e.exports=n(121)},1365:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1016),n(1364)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r,o,l,h,d=window.kendo,f=d.ui,data=d.data,m=e.extend,template=d.template,v=e.isArray,_=f.Widget,w=data.HierarchicalDataSource,y=e.proxy,x=d.keys,k=".kendoTreeView",C="checked",S="indeterminate",T="dragend",D=".k-item",E="aria-checked",A="k-state-disabled",I={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},M=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName};function R(filter){return function(e){var t=e.children(".k-animation-container");return t.length||(t=e),t.children(filter)}}function F(code){return d.template(code,{useWithBlock:!1})}function P(e){return e.find(".k-checkbox-wrapper:first input[type=checkbox]")}function z(e){return function(t,n){var r,o=(n=n.closest(D)).parent();return o.parent().is("li")&&(r=o.parent()),this._dataSourceMove(t,o,r,(function(t,r){var o=this.dataItem(n),l=o?o.parent().indexOf(o):n.index();return this._insert(t.data(),r,l+e)}))}}function B(t){var n=t.children("div"),r=t.children("ul"),o=n.children(".k-icon"),l=t.children("input[type=checkbox]"),c=n.children(".k-in");t.hasClass("k-treeview")||(n.length||(n=e("<div />").prependTo(t)),!o.length&&r.length?o=e("<span class='k-icon' />").prependTo(n):r.length&&r.children().length||(o.remove(),r.remove()),l.length&&e("<span class='k-checkbox-wrapper' />").appendTo(n).append(l),c.length||((c=t.children("a").eq(0).addClass("k-in k-link")).length||(c=e("<span class='k-in' />")),c.appendTo(n),n.length&&function(t,n){for(var r;t&&"ul"!=t.nodeName.toLowerCase();)r=t,t=t.nextSibling,3==r.nodeType&&(r.nodeValue=e.trim(r.nodeValue)),h.test(r.className)?n.insertBefore(r,n.firstChild):n.appendChild(r)}(n[0].nextSibling,c[0])))}r=R(".k-group"),o=R(".k-group,.k-content"),l=function(e){return e.children("div").children(".k-icon")},h=/k-sprite/,n=d.ui.DataBoundWidget.extend({init:function(element,e){var t,n,r=e&&!!e.dataSource;v(e)&&(e={dataSource:e}),e&&void 0===e.loadOnDemand&&v(e.dataSource)&&(e.loadOnDemand=!1),_.prototype.init.call(this,element,e),element=this.element,e=this.options,this._dataSourceUids={},n=element.is("ul")&&element||element.hasClass("k-treeview")&&element.children("ul"),(t=!r&&n.length)&&(e.dataSource.list=n),this._animation(),this._accessors(),this._templates(),element.hasClass("k-treeview")?(this.wrapper=element,this.root=element.children("ul").eq(0)):(this._wrapper(),n&&(this.root=element,this._group(this.wrapper))),this._tabindex(),this.wrapper.attr("role","tree"),this._dataSource(t),this._attachEvents(),this._dragging(),t?this._syncHtmlAndDataSource():e.autoBind&&(this._progress(!0),this.dataSource.fetch()),e.checkboxes&&e.checkboxes.checkChildren&&this.updateIndeterminate(),this.element[0].id&&(this._ariaId=d.format("{0}_tv_active",this.element[0].id)),d.notify(this)},_attachEvents:function(){var t=this,n=".k-in:not(.k-state-selected,.k-state-disabled)";t.wrapper.on("mouseenter"+k,".k-in.k-state-selected",(function(e){e.preventDefault()})).on("mouseenter"+k,n,(function(){e(this).addClass("k-state-hover")})).on("mouseleave"+k,n,(function(){e(this).removeClass("k-state-hover")})).on("click"+k,n,y(t._click,t)).on("dblclick"+k,".k-in:not(.k-state-disabled)",y(t._toggleButtonClick,t)).on("click"+k,".k-i-expand,.k-i-collapse",y(t._toggleButtonClick,t)).on("keydown"+k,y(t._keydown,t)).on("keypress"+k,y(t._keypress,t)).on("focus"+k,y(t._focus,t)).on("blur"+k,y(t._blur,t)).on("mousedown"+k,".k-in,.k-checkbox-wrapper :checkbox,.k-i-expand,.k-i-collapse",y(t._mousedown,t)).on("change"+k,".k-checkbox-wrapper :checkbox",y(t._checkboxChange,t)).on("click"+k,".checkbox-span",y(t._checkboxLabelClick,t)).on("click"+k,".k-request-retry",y(t._retryRequest,t)).on("click"+k,".k-link.k-state-disabled",(function(e){e.preventDefault()})).on("click"+k,(function(n){var r=e(n.target);r.is(":kendoFocusable")||r.find("input,select,textarea,button,object").is(":kendoFocusable")||t.focus()}))},_checkboxLabelClick:function(t){var n=e(t.target.previousSibling);n.is("[disabled]")||(n.prop("checked",!n.prop("checked")),n.trigger("change"))},_syncHtmlAndDataSource:function(e,t){e=e||this.root;var i,n,r,o,l,data=(t=t||this.dataSource).view(),c=d.attr("uid"),h=d.attr("expanded"),f=this.options.checkboxes,m=e.children("li");for(i=0;i<m.length;i++)o=(r=data[i]).uid,(n=m.eq(i)).attr("role","treeitem").attr(c,o).attr("aria-selected",n.hasClass("k-state-selected")),r.expanded="true"===n.attr(h),f&&(l=P(n),r.checked=l.prop(C),l.attr("id","_"+o),l.next(".k-checkbox-label").attr("for","_"+o)),this._syncHtmlAndDataSource(n.children("ul"),r.children)},_animation:function(){var e=this.options,t=e.animation,n=t.collapse&&"effects"in t.collapse,r=m({},t.expand,t.collapse);n||(r=m(r,{reverse:!0})),!1===t&&(t={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),t.collapse=m(r,{hide:!0}),e.animation=t},_dragging:function(){var t=this.options.dragAndDrop,n=this.dragging;if(t&&!n){var r=this;this.dragging=new f.HierarchicalDragAndDrop(this.element,{reorderable:!0,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:y(this._hintText,this),contains:function(source,t){return e.contains(source,t)},dropHintContainer:function(e){return e},itemFromTarget:function(e){var t=e.closest(".k-top,.k-mid,.k-bot");return{item:t,content:e.closest(".k-in"),first:t.hasClass("k-top"),last:t.hasClass("k-bot")}},dropPositionFrom:function(e){return e.prevAll(".k-in").length>0?"after":"before"},dragstart:function(source){return r.trigger("dragstart",{sourceNode:source[0]})},drag:function(e){r.trigger("drag",{originalEvent:e.originalEvent,sourceNode:e.source[0],dropTarget:e.target[0],pageY:e.pageY,pageX:e.pageX,statusClass:e.status,setStatusClass:e.setStatus})},drop:function(t){var n=e(t.dropTarget).closest("a");return n&&n.attr("href")&&r._tempPreventNavigation(n),r.trigger("drop",{originalEvent:t.originalEvent,sourceNode:t.source,destinationNode:t.destination,valid:t.valid,setValid:function(e){this.valid=e,t.setValid(e)},dropTarget:t.dropTarget,dropPosition:t.position})},dragend:function(e){var source=e.source,t=e.destination,n=e.position;function o(source){r.options.checkboxes&&r.options.checkboxes.checkChildren&&r.updateIndeterminate(),r.trigger(T,{originalEvent:e.originalEvent,sourceNode:source&&source[0],destinationNode:t[0],dropPosition:n})}"over"==n?r.append(source,t,o):("before"==n?source=r.insertBefore(source,t):"after"==n&&(source=r.insertAfter(source,t)),o(source))}})}else!t&&n&&(n.destroy(),this.dragging=null)},_tempPreventNavigation:function(e){e.on("click"+k+".kendoTreeViewTemp",(function(t){t.preventDefault(),e.off("click"+k+".kendoTreeViewTemp")}))},_hintText:function(e){return this.templates.dragClue({item:this.dataItem(e),treeview:this.options})},_templates:function(){var e=this.options,t=y(this._fieldAccessor,this);e.template&&"string"==typeof e.template?e.template=template(e.template):e.template||(e.template=F("# var text = "+t("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this._checkboxes(),this.templates={setAttributes:function(e){var t="",n=e.attr||{};for(var r in n)n.hasOwnProperty(r)&&"class"!==r&&(t+=r+'="'+n[r]+'" ');return t},wrapperCssClass:function(e,t){var n="k-item",r=t.index;return e.firstLevel&&0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),n},cssClass:function(e,t){var n="",r=t.index,o=e.length-1;return e.firstLevel&&0===r&&(n+="k-top "),n+=0===r&&r!=o?"k-top":r==o?"k-bot":"k-mid"},textClass:function(e,t){var n="k-in";return t&&(n+=" k-link"),!1===e.enabled&&(n+=" k-state-disabled"),!0===e.selected&&(n+=" k-state-selected"),n},toggleButtonClass:function(e){var t="k-icon";return!0!==e.expanded?t+=" k-i-expand":t+=" k-i-collapse",t},groupAttributes:function(e){var t="";return e.firstLevel||(t="role='group'"),t+(!0!==e.expanded?" style='display:none'":"")},groupCssClass:function(e){var t="k-group";return e.firstLevel&&(t+=" k-treeview-lines"),t},dragClue:F("#= data.treeview.template(data) #"),group:F("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:F("# var imageUrl = "+t("imageUrl")+"(data.item); ## var spriteCssClass = "+t("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:F("# var item = data.item, r = data.r; ## var url = "+t("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #'/># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox-wrapper' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag# class='#= r.textClass(item, !!url) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:F("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #'"+d.attr("uid")+'=\'#= item.uid #\' #= r.setAttributes(item.toJSON ? item.toJSON() : item) # # if (data.treeview.checkboxes) { #aria-checked=\'#= item.checked ? "true" : "false" #\' # } #aria-selected=\'#= item.selected ? "true" : "false" #\' #=item.enabled === false ? "aria-disabled=\'true\'" : \'\'#aria-expanded=\'#= item.expanded ? "true" : "false" #\' data-expanded=\'#= item.expanded ? "true" : "false" #\' >#= r.itemElement(data) #</li>'),loading:F("<div class='k-icon k-i-loading' /> #: data.messages.loading #"),retry:F("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(t){var n=this.options;n.dataSource=t,this._dataSourceUids={},this._dataSource(),n.checkboxes&&n.checkboxes.checkChildren&&this.dataSource.one("change",e.proxy(this.updateIndeterminate,this,null)),this.options.autoBind&&this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=y(this.refresh,this),this._errorHandler=y(this._error,this),this.dataSource.bind("change",this._refreshHandler),this.dataSource.bind("error",this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind("change",this._refreshHandler),e.unbind("error",this._errorHandler))},_dataSource:function(e){var t=this.options.dataSource;t=v(t)?{data:t}:t,this._unbindDataSource(),t.fields||(t.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource=t=w.create(t),e&&(t.fetch(),function e(data){for(var i=0;i<data.length;i++)data[i]._initChildren(),data[i].children.fetch(),e(data[i].children.view())}(t.view())),this._bindDataSource()},events:["dragstart","drag","drop",T,"dataBound","expand","collapse","select","change","navigate","check"],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,autoScroll:!1,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var i,e,t,n=this.options,element=this.element;for(i in I)e=n[I[i]],t=element.attr(d.attr(i+"-field")),!e&&t&&(e=t),e||(e=i),v(e)||(e=[e]),n[I[i]]=e},_fieldAccessor:function(t){var n=this.options[I[t]],r=n.length,o="(function(item) {";return 0===r?o+="return item['"+t+"'];":(o+="var levels = ["+e.map(n,(function(e){return"function(d){ return "+d.expr(e)+"}"})).join(",")+"];",o+="return levels[Math.min(item.level(), "+r+"-1)](item)"),o+="})"},setOptions:function(e){_.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._templates()},_trigger:function(e,t){return this.trigger(e,{node:t.closest(D)[0]})},_setChecked:function(t,n){if(t&&e.isFunction(t.view))for(var i=0,r=t.view();i<r.length;i++)!1!==r[i].enabled&&this._setCheckedValue(r[i],n),r[i].children&&this._setChecked(r[i].children,n)},_setCheckedValue:function(e,t){e[C]=t},_setIndeterminate:function(e){var t,n,i,o=r(e),l=!0;if(o.length&&(n=(t=P(o.children())).length)){if(n>1){for(i=1;i<n;i++)if(t[i].checked!=t[i-1].checked||t[i].indeterminate||t[i-1].indeterminate){l=!1;break}}else l=!t[0].indeterminate;return e.attr(E,l?t[0].checked:"mixed"),P(e).data(S,!l).prop(S,!l).prop(C,l&&t[0].checked)}},updateIndeterminate:function(e){e=e||this.wrapper;var i,t,n,o=r(e).children();if(o.length){for(i=0;i<o.length;i++)this.updateIndeterminate(o.eq(i));if(e.is(".k-treeview"))return;t=this._setIndeterminate(e),n=this.dataItem(e),t&&t.prop(C)?n.checked=!0:n&&delete n.checked}},_bubbleIndeterminate:function(e,t){if(e.length){t||this.updateIndeterminate(e);var n,r=this.parent(e);r.length&&(this._setIndeterminate(r),n=r.children("div").find(".k-checkbox-wrapper input[type=checkbox]"),this._skip=!0,!1===n.prop(S)?this.dataItem(r).set(C,n.prop(C)):this.dataItem(r).set(C,!1),this._skip=!1,this._bubbleIndeterminate(r,!0))}},_checkboxChange:function(t){var n=e(t.target),r=n.prop(C),o=n.closest(D),l=this.dataItem(o);this._preventChange||l.checked!=r&&(l.set(C,r),o.attr(E,r),this._trigger("check",o))},_toggleButtonClick:function(t){var n=e(t.currentTarget).closest(D);n.is("[aria-disabled='true']")||this.toggle(n)},_mousedown:function(t){var n=e(t.currentTarget),r=e(t.currentTarget).closest(D),o=d.support.browser;r.is("[aria-disabled='true']")||((o.msie||o.edge)&&n.is(":checkbox")&&(n.prop(S)?(this._preventChange=!1,n.prop(C,!n.prop(C)),n.trigger("change"),n.on("click"+k,(function(e){e.preventDefault()})),this._preventChange=!0):(n.off("click"+k),this._preventChange=!1)),this._clickTarget=r,this.current(r))},_focusable:function(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-in:first").hasClass(A)},_focus:function(){var t=this.select(),n=this._clickTarget;d.support.touch||(n&&n.length&&(t=n),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(e())),this.current(t))},focus:function(){var i,e=this.wrapper,t=e[0],n=[],r=[],o=document.documentElement;do{(t=t.parentNode).scrollHeight>t.clientHeight&&(n.push(t),r.push(t.scrollTop))}while(t!=o);for(d.focusElement(e),i=0;i<n.length;i++)n[i].scrollTop=r[i]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(e){return!e.children("div").children(".k-in").hasClass(A)},parent:function(t){var n,r,o=/\bk-treeview\b/,l=/\bk-item\b/;"string"==typeof t&&(t=this.element.find(t)),M(t)||(t=t[0]),r=l.test(t.className);do{t=t.parentNode,l.test(t.className)&&(r?n=t:r=!0)}while(!o.test(t.className)&&!n);return e(n)},_nextVisible:function(e){var t,n=this,o=n._expanded(e);function l(e){for(;e.length&&!e.next().length;)e=n.parent(e);return e.next().length?e.next():e}return e.length&&e.is(":visible")?o&&(t=r(e).children().first()).length||(t=l(e)):t=n.root.children().eq(0),t},_previousVisible:function(e){var t,n;if(!e.length||e.prev().length)for(n=e.length?e.prev():this.root.children().last();this._expanded(n)&&(t=r(n).children().last()).length;)n=t;else n=this.parent(e)||e;return n},_keydown:function(t){var n,r=t.keyCode,o=this.current(),l=this._expanded(o),c=o.find(".k-checkbox-wrapper:first :checkbox"),h=d.support.isRtl(this.element);t.target==t.currentTarget&&(!h&&r==x.RIGHT||h&&r==x.LEFT?l?n=this._nextVisible(o):o.find(".k-in:first").hasClass(A)||this.expand(o):!h&&r==x.LEFT||h&&r==x.RIGHT?l&&!o.find(".k-in:first").hasClass(A)?this.collapse(o):(n=this.parent(o),this._enabled(n)||(n=void 0)):r==x.DOWN?n=this._nextVisible(o):r==x.UP?n=this._previousVisible(o):r==x.HOME?n=this._nextVisible(e()):r==x.END?n=this._previousVisible(e()):r!=x.ENTER||o.find(".k-in:first").hasClass(A)?r==x.SPACEBAR&&c.length&&(o.find(".k-in:first").hasClass(A)||(c.prop(C,!c.prop(C)).data(S,!1).prop(S,!1),this._checkboxChange({target:c})),n=o):o.find(".k-in:first").hasClass("k-state-selected")||this._trigger("select",o)||this.select(o),n&&(t.preventDefault(),o[0]!=n[0]&&(this._trigger("navigate",n),this.current(n))))},_keypress:function(e){var t,n=this,r=n.current().get(0),o=e.key;1===o.length&&(n._match||(n._match=""),n._match+=o,clearTimeout(n._matchTimer),n._matchTimer=setTimeout((function(){n._match=""}),300),(t=r&&n._matchNextByText(Array.prototype.indexOf.call(n.element.find(".k-item"),r),n._match)).length||(t=n._matchNextByText(-1,n._match)),t.get(0)&&t.get(0)!==r&&(n._trigger("navigate",t),n.current(t)))},_matchNextByText:function(t,text){return this.element.find(".k-in").filter((function(i,element){return i>t&&e(element).is(":visible")&&0===e(element).text().toLowerCase().indexOf(text)})).eq(0).closest(D)},_click:function(t){var n=e(t.currentTarget),r=o(n.closest(D)),l=n.attr("href");(l?"#"==l||l.indexOf("#"+this.element.id+"-")>=0:r.length&&!r.children().length)&&t.preventDefault(),n.hasClass(".k-state-selected")||this._trigger("select",n)||this.select(n)},_wrapper:function(){var e,t,element=this.element;element.is("ul")?(e=element.wrap("<div />").parent(),t=element):t=(e=element).children("ul").eq(0),this.wrapper=e.addClass("k-widget k-treeview"),this.root=t},_getSelectedNode:function(){return this.element.find(".k-state-selected").closest(D)},_group:function(e){var t=e.hasClass("k-treeview"),n={firstLevel:t,expanded:t||this._expanded(e)},r=e.children("ul");r.addClass(this.templates.groupCssClass(n)).css("display",n.expanded?"":"none"),this._nodes(r,n)},_nodes:function(t,n){var r,o=this,l=t.children("li");n=m({length:l.length},n),l.each((function(i,t){t=e(t),r={index:i,expanded:o._expanded(t)},B(t),o._updateNodeClasses(t,n,r),o._group(t)}))},_checkboxes:function(){var e,t=this.options,n=t.checkboxes;n&&(e="<input type='checkbox' tabindex='-1' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",n.name&&(e+=" name='"+n.name+"'"),"string"==typeof(n=m({template:e+=" id='_#= item.uid #' class='k-checkbox' /><span class='k-checkbox-label checkbox-span'></span>"},t.checkboxes)).template&&(n.template=template(n.template)),t.checkboxes=n)},_updateNodeClasses:function(e,t,n){var r=e.children("div"),o=e.children("ul"),l=this.templates;if(!e.hasClass("k-treeview")){(n=n||{}).expanded=void 0!==n.expanded?n.expanded:this._expanded(e),n.index=void 0!==n.index?n.index:e.index(),n.enabled=void 0!==n.enabled?n.enabled:!r.children(".k-in").hasClass("k-state-disabled"),(t=t||{}).firstLevel=void 0!==t.firstLevel?t.firstLevel:e.parent().parent().hasClass("k-treeview"),t.length=void 0!==t.length?t.length:e.parent().children().length,e.removeClass("k-first k-last").addClass(l.wrapperCssClass(t,n)),r.removeClass("k-top k-mid k-bot").addClass(l.cssClass(t,n));var c=r.children(".k-in"),h=c[0]&&"a"==c[0].nodeName.toLowerCase();c.removeClass("k-in k-link k-state-default k-state-disabled").addClass(l.textClass(n,h)),(o.length||"true"==e.attr("data-hasChildren"))&&(r.children(".k-icon").removeClass("k-i-expand k-i-collapse").addClass(l.toggleButtonClass(n)),o.addClass("k-group"))}},_processNodes:function(t,n){for(var r=this.element.find(t),i=0;i<r.length;i++)n.call(this,i,e(r[i]).closest(D))},dataItem:function(t){var n=e(t).closest(D).attr(d.attr("uid")),r=this.dataSource;return r&&r.getByUid(n)},_dataItem:function(t){var n=e(t).closest(D).attr(d.attr("uid"));return this.dataSource&&this._dataSourceUids[n]},_insertNode:function(t,n,o,l,c){var h,f,i,m,v,_,w=r(o),y=w.children().length+1,x={firstLevel:o.hasClass("k-treeview"),expanded:!c,length:y},k="",C=function(e,t){e.appendTo(t)};for(i=0;i<t.length;i++)(m=t[i]).index=n+i,k+=this._renderItem({group:x,item:m});if((f=e(k)).length){for(this.angular("compile",(function(){return{elements:f.get(),data:t.map((function(e){return{dataItem:e}}))}})),w.length||(w=e(this._renderGroup({group:x})).appendTo(o)),l(f,w),o.hasClass("k-item")&&(B(o),this._updateNodeClasses(o,x,{expanded:!c})),v=f.prev().first(),_=f.next().last(),this._updateNodeClasses(v,{},{expanded:"true"==v.attr(d.attr("expanded"))}),this._updateNodeClasses(_,{},{expanded:"true"==_.attr(d.attr("expanded"))}),i=0;i<t.length;i++)(m=t[i]).hasChildren&&(h=m.children.data()).length&&this._insertNode(h,m.index,f.eq(i),C,!m.expanded);return f}},_updateNodes:function(t,n){var i,r,l,c,h,d,m=this,v={treeview:m.options,item:c},_="expanded"!=n&&"checked"!=n;function w(e,t){e.is(".k-group")&&e.find(".k-item:not([aria-disabled])").attr(E,t),e.find(".k-checkbox-wrapper input[type=checkbox]:not([disabled])").prop(C,t).data(S,!1).prop(S,!1)}if("selected"==n)c=t[0],r=m.findByUid(c.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",c[n]).end(),c[n]&&m.current(r),r.attr("aria-selected",!!c[n]);else{var y=e.map(t,(function(e){return m.findByUid(e.uid).children("div")}));for(_&&m.angular("cleanup",(function(){return{elements:y}})),i=0;i<t.length;i++)v.item=c=t[i],r=(l=y[i]).parent(),_&&l.children(".k-in").html(m.templates.itemContent(v)),n==C?(w(l,h=c[n]),r.attr(E,h),m.options.checkboxes.checkChildren&&(w(r.children(".k-group"),h),m._setChecked(c.children,h),m._bubbleIndeterminate(r))):"expanded"==n?m._toggle(r,c,c[n]):"enabled"==n&&(r.find(".k-checkbox-wrapper input[type=checkbox]").prop("disabled",!c[n]),d=!o(r).is(":visible"),r.removeAttr("aria-disabled"),c[n]||(c.selected&&c.set("selected",!1),c.expanded&&c.set("expanded",!1),d=!0,r.attr("aria-selected",!1).attr("aria-disabled",!0)),m._updateNodeClasses(r,{},{enabled:c[n],expanded:!d})),l.length&&(c._events&&c._events.change&&c._events.change.splice(1),this.trigger("itemChange",{item:l,data:c,ns:f}));_&&m.angular("compile",(function(){return{elements:y,data:e.map(t,(function(e){return[{dataItem:e}]}))}}))}},_appendItems:function(e,t,n){var o=r(n).children(),l=!this._expanded(n);if(this.element===n){var c=this.dataSource.data(),h=this.dataSource.view(),d=h.length<c.length?h:c;e=d.indexOf(t[0])}else t.length&&(e=t[0].parent().indexOf(t[0]));void 0===e&&(e=o.length),this._insertNode(t,e,n,(function(t,n){e>=o.length?t.appendTo(n):t.insertBefore(o.eq(e))}),l),l||(this._updateNodeClasses(n,{},{expanded:!l}),r(n).css("display","block"))},_refreshChildren:function(e,t,n){var i,o,l,c=this.options,h=c.loadOnDemand,d=c.checkboxes&&c.checkboxes.checkChildren;if(r(e).empty(),t.length)for(this._appendItems(n,t,e),o=r(e).children(),h&&d&&this._bubbleIndeterminate(o.last()),i=0;i<o.length;i++)l=o.eq(i),this.trigger("itemChange",{item:l.children("div"),data:t[i],ns:f});else B(e)},_refreshRoot:function(t){var n=this._renderGroup({items:t,group:{firstLevel:!0,expanded:!0}});if(this.root.length){this._angularItems("cleanup");var r=e(n);this.root.attr("class",r.attr("class")).html(r.html())}else this.root=this.wrapper.html(n).children("ul");for(var o=this.root.children(".k-item"),i=0;i<t.length;i++)this.trigger("itemChange",{item:o.eq(i),data:t[i],ns:f});this._angularItems("compile")},refresh:function(e){var i,t=e.node,n=e.action,r=e.items,o=this.wrapper,l=this.options,c=l.loadOnDemand,h=l.checkboxes&&l.checkboxes.checkChildren;if(!this._skip){for(i=0;i<r.length;i++)this._dataSourceUids[r[i].uid]=r[i];if(e.field){if(!r[0]||!r[0].level)return;return this._updateNodes(r,e.field)}if(t&&(o=this.findByUid(t.uid),this._progress(o,!1)),h&&"remove"!=n){var d=!1;for(i=0;i<r.length;i++)if("checked"in r[i]){d=!0;break}if(!d&&t&&t.checked)for(i=0;i<r.length;i++)r[i].checked=!0}if("add"==n?this._appendItems(e.index,r,o):"remove"==n?this._remove(this.findByUid(r[0].uid),!1):"itemchange"==n?this._updateNodes(r):"itemloaded"==n?this._refreshChildren(o,r,e.index):this._refreshRoot(r),"remove"!=n)for(i=0;i<r.length;i++)(!c||r[i].expanded||r[i]._loaded)&&r[i].load();this.trigger("dataBound",{node:t?o:void 0}),this.dataSource.filter()&&this.options.checkboxes.checkChildren&&this.updateIndeterminate(o)}},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),n=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),l(t).addClass("k-i-reload"),e.node.loaded(!1)):(this._progress(!1),this.element.html(n))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},expand:function(e){this._processNodes(e,(function(e,t){this.toggle(t,!0)}))},collapse:function(e){this._processNodes(e,(function(e,t){this.toggle(t,!1)}))},enable:function(e,t){"boolean"==typeof e?(t=e,e=this.items()):t=2!=arguments.length||!!t,this._processNodes(e,(function(e,n){this.dataItem(n).set("enabled",t)}))},current:function(t){var n=this,r=n._current,element=n.element,o=n._ariaId;return arguments.length>0&&t&&t.length?(r&&(r[0].id===o&&r.removeAttr("id"),r.find(".k-in:first").removeClass("k-state-focused")),(r=n._current=e(t,element).closest(D)).find(".k-in:first").addClass("k-state-focused"),void((o=r[0].id||o)&&(n.wrapper.removeAttr("aria-activedescendant"),r.attr("id",o),n.wrapper.attr("aria-activedescendant",o)))):(r||(r=n._nextVisible(e())),r)},select:function(t){var n=this,element=n.element;if(!arguments.length)return element.find(".k-state-selected").closest(D);t=e(t,element).closest(D),element.find(".k-state-selected").each((function(){var t=n.dataItem(this);t?(t.set("selected",!1),delete t.selected):e(this).removeClass("k-state-selected")})),t.length&&(n.dataItem(t).set("selected",!0),n._clickTarget=t),n.trigger("change")},_toggle:function(e,t,n){var r,l=this.options,c=o(e),h=n?"expand":"collapse";c.data("animating")||(r=t&&t.loaded(),n&&!r?(l.loadOnDemand&&this._progress(e,!0),c.remove(),t.load()):(this._updateNodeClasses(e,{},{expanded:n}),n||c.css("height",c.height()).css("height"),c.kendoStop(!0,!0).kendoAnimate(m({reset:!0},l.animation[h],{complete:function(){n&&c.css("height","")}}))))},toggle:function(t,n){t=e(t),l(t).is(".k-i-expand, .k-i-collapse")&&(1==arguments.length&&(n=!this._expanded(t)),this._expanded(t,n))},destroy:function(){_.fn.destroy.call(this),this.wrapper.off(k),this.wrapper.find(".k-checkbox-wrapper :checkbox").off(k),this._unbindDataSource(),this.dragging&&this.dragging.destroy(),this._dataSourceUids={},d.destroy(this.element),this.root=this.wrapper=this.element=null},_expanded:function(e,t,n){var r,l=d.attr("expanded"),c=t,h=c?"expand":"collapse";if(1==arguments.length)return r=this._dataItem(e),"true"===e.attr(l)||r&&r.expanded;r=this.dataItem(e),o(e).data("animating")||!n&&this._trigger(h,e)||(c?(e.attr(l,"true"),e.attr("aria-expanded","true")):(e.removeAttr(l),e.attr("aria-expanded","false")),r&&(r.set("expanded",c),c=r.expanded))},_progress:function(e,t){var element=this.element,n=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e)?element.html(n):element.empty():l(e).toggleClass("k-i-loading",t).removeClass("k-i-reload")},text:function(e,text){var t=this.dataItem(e),n=this.options[I.text],r=t.level(),o=n.length,l=n[Math.min(r,o-1)];if(!text)return t[l];t.set(l,text)},_objectOrSelf:function(t){return e(t).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(t,n,r,o){var l,c=this._objectOrSelf(r||n),h=c.dataSource,d=e.Deferred().resolve().promise();return r&&r[0]!=c.element[0]&&((l=c.dataItem(r)).loaded()||(c._progress(r,!0),d=l.load()),r!=this.root&&((h=l.children)&&h instanceof w||(l._initChildren(),l.loaded(!0),h=l.children))),t=this._toObservableData(t),o.call(c,h,t,d)},_toObservableData:function(t){var n,r,o,l=t;return((o=t)instanceof d.jQuery||window.jQuery&&o instanceof window.jQuery||M(t))&&(n=this._objectOrSelf(t).dataSource,r=e(t).attr(d.attr("uid")),(l=n.getByUid(r))&&(l=n.remove(l))),l},_insert:function(data,e,t){e instanceof d.data.ObservableArray?e=e.toJSON():v(e)||(e=[e]);var n=data.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),data.splice.apply(data,[t,0].concat(e)),this.findByUid(data[t].uid)},insertAfter:z(1),insertBefore:z(0),append:function(t,n,o){var l=this.root;if(!(n&&t instanceof c&&n[0]===t[0]))return(n=n&&n.length?n:null)&&(l=r(n)),this._dataSourceMove(t,l,n,(function(t,r,l){var c,h=this;return l.done((function(){c=function(){n&&h._expanded(n,!0,!0);var data=t.data(),e=Math.max(data.length,0);return h._insert(data,r,e)}(),(o=o||e.noop)(c)})),c||null}))},_remove:function(t,n){var r,o,l;return t=e(t,this.element),this.angular("cleanup",(function(){return{elements:t.get()}})),r=t.parent().parent(),o=t.prev(),l=t.next(),t[n?"detach":"remove"](),r.hasClass("k-item")&&(B(r),this._updateNodeClasses(r)),this._updateNodeClasses(o),this._updateNodeClasses(l),t},remove:function(e){var t=this.dataItem(e);t&&this.dataSource.remove(t)},detach:function(e){return this._remove(e,!0)},findByText:function(text){return e(this.element).find(".k-in").filter((function(i,element){return e(element).text()==text})).closest(D)},findByUid:function(t){for(var n,r=this.element.find(".k-item"),o=d.attr("uid"),i=0;i<r.length;i++)if(r[i].getAttribute(o)==t){n=r[i];break}return e(n)},expandPath:function(path,t){var n=this,r=path.slice(0),o=t||e.noop;function l(t){var r=e.Deferred(),o=n.dataSource.get(t);return o?o.loaded()?(o.set("expanded",!0),r.resolve()):(n._progress(n.findByUid(o.uid),!0),o.load().then((function(){o.set("expanded",!0),r.resolve()}))):r.resolve(),r.promise()}l(r[0]).then((function e(){r.shift(),r.length?l(r[0]).then(e):o.call(n)}))},_parentIds:function(e){for(var t=e&&e.parentNode(),n=[];t&&t.parentNode;)n.unshift(t.id),t=t.parentNode();return n},expandTo:function(e){e instanceof d.data.Node||(e=this.dataSource.get(e));var t=this._parentIds(e);this.expandPath(t)},_renderItem:function(e){return e.group||(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e)},_renderGroup:function(e){var t=this;return e.renderItems=function(e){var html="",i=0,n=e.items,r=n?n.length:0,o=e.group;for(o.length=r;i<r;i++)e.group=o,e.item=n[i],e.item.index=i,html+=t._renderItem(e);return html},e.r=t.templates,t.templates.group(e)}}),f.plugin(n)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1377)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1377:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=".kendoValidator",l=new RegExp("k-invalid-msg","i"),c=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,h=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,d=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",f=e.proxy,m=function(e,pattern){return"string"==typeof pattern&&(pattern=new RegExp("^(?:"+pattern+")$")),pattern.test(e)},v=function(input,e,pattern){var t=input.val();return!input.filter(e).length||""===t||m(t,pattern)};function _(t,r){for(var element,o=e(),c=0,h=t.length;c<h;c++)element=t[c],l.test(element.className)&&element.getAttribute(n.attr("for"))===r&&(o=o.add(element));return o}n.ui.validator||(n.ui.validator={rules:{},messages:{}});var w=r.extend({init:function(element,t){var o=function(element){var t,r=n.ui.validator.ruleResolvers||{},o={};for(t in r)e.extend(!0,o,r[t].resolve(element));return o}(element),l="["+n.attr("validate")+"!=false]";(t=t||{}).rules=e.extend({},n.ui.validator.rules,o.rules,t.rules),t.messages=e.extend({},n.ui.validator.messages,o.messages,t.messages),r.fn.init.call(this,element,t),this._errorTemplate=n.template(this.options.errorTemplate),this.element.is("form")&&this.element.attr("novalidate","novalidate"),this._inputSelector=d+l,this._checkboxSelector=":checkbox:not([disabled],[readonly])"+l,this._errors={},this._attachEvents(),this._isValidated=!1},events:["validate","change","validateInput"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-i-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(input){var e=input.filter("[type=checkbox]").length&&!input.is(":checked"),t=input.val();return!(function(input,e){return!!input.length&&null!=input[0].attributes[e]}(input,"required")&&(!t||""===t||0===t.length||e))},pattern:function(input){return!input.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length||""===input.val()||m(input.val(),input.attr("pattern"))},min:function(input){return!input.filter("[type=number],[type=range],["+n.attr("type")+"=number]").filter("[min]").length||""===input.val()||(parseFloat(input.attr("min"))||0)<=n.parseFloat(input.val())},max:function(input){return!input.filter("[type=number],[type=range],["+n.attr("type")+"=number]").filter("[max]").length||""===input.val()||(parseFloat(input.attr("max"))||0)>=n.parseFloat(input.val())},step:function(input){if(input.filter("[type=number],[type=range],["+n.attr("type")+"=number]").filter("[step]").length&&""!==input.val()){var e,t=parseFloat(input.attr("min"))||0,r=parseFloat(input.attr("step"))||1,o=parseFloat(input.val()),l=(c=((c=r)+"").split(".")).length>1?c[1].length:0;return l?(e=Math.pow(10,l),Math.floor((o-t)*e)%(r*e)/Math.pow(100,l)==0):(o-t)%r==0}var c;return!0},email:function(input){return v(input,"[type=email],["+n.attr("type")+"=email]",c)},url:function(input){return v(input,"[type=url],["+n.attr("type")+"=url]",h)},date:function(input){return!input.filter("[type^=date],["+n.attr("type")+"=date]").length||""===input.val()||null!==n.parseDate(input.val(),input.attr(n.attr("format")))}},validateOnBlur:!0},destroy:function(){r.fn.destroy.call(this),this.element.off(o)},value:function(){return!!this._isValidated&&0===this.errors().length},_submit:function(e){return!!this.validate()||(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},_checkElement:function(element){var e=this.value();this.validateInput(element),this.value()!==e&&this.trigger("change")},_attachEvents:function(){var t=this;t.element.is("form")&&t.element.on("submit"+o,f(t._submit,t)),t.options.validateOnBlur&&(t.element.is(d)?(t.element.on("blur"+o,(function(){t._checkElement(t.element)})),t.element.is(":checkbox:not([disabled],[readonly])")&&t.element.on("click"+o,(function(){t._checkElement(t.element)}))):(t.element.on("blur"+o,t._inputSelector,(function(){t._checkElement(e(this))})),t.element.on("click"+o,t._checkboxSelector,(function(){t._checkElement(e(this))}))))},validate:function(){var e,t,n,r=!1,o=this.value();if(this._errors={},this.element.is(d))r=this.validateInput(this.element);else{var l=!1;for(t=0,n=(e=this.element.find(this._inputSelector)).length;t<n;t++)this.validateInput(e.eq(t))||(l=!0);r=!l}return this.trigger("validate",{valid:r}),o!==r&&this.trigger("change"),r},validateInput:function(input){input=e(input),this._isValidated=!0;var t,text,r,template=this._errorTemplate,o=this._checkValidity(input),l=o.valid,c=input.attr("name")||"",h=this._findMessageContainer(c).add(input.next(".k-invalid-msg").filter((function(){var element=e(this);return!element.filter("["+n.attr("for")+"]").length||element.attr(n.attr("for"))===c}))).hide(),d=!input.attr("aria-invalid");if(input.removeAttr("aria-invalid"),l)delete this._errors[c];else{t=this._extractMessage(input,o.key),this._errors[c]=t;var f=(text=template({message:(r=t,r.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">"))}),e.parseHTML?e(e.parseHTML(text)):e(text)),m=h.attr("id");this._decorateMessageContainer(f,c),m&&f.attr("id",m),h.replaceWith(f).length||f.insertAfter(input),f.show(),input.attr("aria-invalid",!0)}if(d!==l&&this.trigger("validateInput",{valid:l,input:input}),input.toggleClass("k-invalid",!l),input.toggleClass("k-valid",l),n.widgetInstance(input)){var v=n.widgetInstance(input)._inputWrapper;v&&(v.toggleClass("k-invalid",!l),v.toggleClass("k-invalid",!l))}return l},hideMessages:function(){var element=this.element;element.is(d)?element.next(".k-invalid-msg").hide():element.find(".k-invalid-msg").hide()},_findMessageContainer:function(t){for(var r,o=n.ui.validator.messageLocators,l=e(),c=0,h=this.element.length;c<h;c++)l=l.add(_(this.element[c].getElementsByTagName("*"),t));for(r in o)l=l.add(o[r].locate(this.element,t));return l},_decorateMessageContainer:function(e,t){var r,o=n.ui.validator.messageLocators;for(r in e.addClass("k-invalid-msg").attr(n.attr("for"),t||""),o)o[r].decorate(e,t);e.attr("role","alert")},_extractMessage:function(input,e){var t,r=this.options.messages[e],o=input.attr("name");return n.ui.Validator.prototype.options.messages[e]||(t=n.isFunction(r)?r(input):r),r=n.isFunction(r)?r(input):r,n.format(input.attr(n.attr(e+"-msg"))||input.attr("validationMessage")||t||input.attr("title")||r||"",o,input.attr(e)||input.attr(n.attr(e)))},_checkValidity:function(input){var e,t=this.options.rules;for(e in t)if(!t[e].call(this,input))return{valid:!1,key:e};return{valid:!0}},errors:function(){var e,t=[],n=this._errors;for(e in n)t.push(n[e]);return t}});n.ui.plugin(w)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1224)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1039:function(e,t){e.exports=n(4)},1224:function(e,t,n){var r,o,l;n(3),o=[n(1039),n(1016)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n._activeElement,l=n.support.touch&&n.support.mobileOS,c=e.isArray,h=n.data.HierarchicalDataSource,d=e.extend,f=e.proxy,m=e.each,template=n.template,v=n.keys,_=r.Widget,w=/^(ul|a|div)$/i,y=".kendoMenu",x="img",k="k-menu",C="k-link k-menu-link",S=".k-link",T="k-last",D="k-first",E="k-image",A="touchstart"+y+" MSPointerDown"+y+" pointerdown"+y,I=n.support.pointers,M=n.support.msPointers,R=M||I,F=n.support.touch?"touchstart":"",P=I?"pointerover":M?"MSPointerOver":"mouseenter",z=I?"pointerout":M?"MSPointerOut":"mouseleave",B="DOMMouseScroll"+y+" mousewheel"+y,L=n.support.resize+y,H="group",N="groupparent",O=e(document.documentElement),V="k-state-default",W="k-state-focused",U="k-state-disabled",j=".k-animation-container",G=".k-menu-group,"+j,$=":not(.k-list) > .k-item",Y=".k-item:not(.k-item.k-separator):eq(0)",K=".k-item:not(.k-item.k-separator):last",Q={2:1,touch:1},X={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},J={wrapperCssClass:function(e,t){var n="k-item",r=t.index;return!1===t.enabled?n+=" k-state-disabled":n+=" k-state-default",e.firstLevel&&0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),t.attr&&t.attr.hasOwnProperty("class")&&(n+=" "+t.attr.class),t.selected&&(n+=" k-state-selected"),n},itemCssAttributes:function(e){var t="",n=e.attr||{};for(var r in n)n.hasOwnProperty(r)&&"class"!==r&&(t+=r+'="'+n[r]+'" ');return t},imageCssAttributes:function(e){var t="",n=e&&e.toJSON?e.toJSON():{};for(var r in n.class?n.class+=" "+E:n.class=E,n)n.hasOwnProperty(r)&&(t+=r+'="'+n[r]+'" ');return t},contentCssAttributes:function(e){var t="",n=e.contentAttr||{};for(var r in n.class?n.class+=" k-content k-group k-menu-group":n.class="k-content k-group k-menu-group",n)n.hasOwnProperty(r)&&(t+=r+'="'+n[r]+'" ');return t},textClass:function(){return C},arrowClass:function(e,t){var n="k-icon";return t.horizontal?n+=" k-i-arrow-60-down":n+=" k-i-arrow-60-right",n},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(e){return e.content?e.content:"&nbsp;"}};function Z(t,n){try{return e.contains(t,n)}catch(e){return!1}}function ee(t){(t=e(t)).addClass("k-item").children(x).addClass(E),t.children("a").addClass(C).children(x).addClass(E),t.filter(":not([disabled])").addClass(V),t.filter(".k-separator").empty().append("&nbsp;"),t.filter("li[disabled]").addClass(U).removeAttr("disabled").attr("aria-disabled",!0),t.filter("[role]").length||t.attr("role","menuitem"),t.children(S).length||t.contents().filter((function(){return!(this.nodeName.match(w)||3==this.nodeType&&!e.trim(this.nodeValue))})).wrapAll("<span class='"+C+"'/>"),te(t),ie(t)}function te(t){(t=e(t)).find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(),t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each((function(){var t=e(this),r=function(e){var t=e.parent().parent(),r=n.support.isRtl(t);return t.hasClass(k+"-horizontal")?" k-i-arrow-60-down":r?" k-i-arrow-60-left":" k-i-arrow-60-right"}(t);t.append("<span class='k-icon"+r+" k-menu-expand-arrow'/>")}))}function ie(t){(t=e(t)).filter(".k-first:not(:first-child)").removeClass(D),t.filter(".k-last:not(:last-child)").removeClass(T),t.filter(":first-child").addClass(D),t.filter(":last-child").addClass(T)}function ne(e){if(e&&e.length)for(var t in e){var n=e.eq(t);n.find("ul").length?n.attr("aria-haspopup",!0):n.removeAttr("aria-haspopup")}}function re(e){if(!e.hasClass(k))return e.parentsUntil("."+k,"li")}function oe(element,t){var r=function(e){var t=e.select,r=n.isFunction;return t&&r(t)?t:null}(t);r&&function(element,t){e(element).children(".k-link").data({selectHandler:t})}(element,r),t.items&&e(element).children("ul").children("li").each((function(i){oe(this,t.items[i])}))}function se(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function ae(e){return e?"ul[data-group='"+e+"']":"ul[data-group]"}function le(t,n){var r=t.find(se()),o=[];return r.each((function(i,r){for(var l=(r=e(r)).data(N),c=t;l;)(c=n.find(ae(l)+":visible")).length&&o.push(c),l=(r=c.find(se())).data(N)})),o}function ce(t,n){var r=t.data(H);return r?n.find(se(r)):e([])}function he(t,n){var r=t.data(N);return r?n.children(j).children(ae(r)):e([])}function de(e,t){for(var n=0,r=e.parentNode;r&&!isNaN(r[t]);)n+=r[t],r=r.parentNode;return n}function ue(e){return R&&e.originalEvent&&e.originalEvent.pointerType in Q}function pe(ul){ul.contents().filter((function(){return"LI"!=this.nodeName})).remove()}var fe=n.ui.DataBoundWidget.extend({init:function(element,e){_.fn.init.call(this,element,e),element=this.wrapper=this.element,e=this.options,this._accessors(),this._templates(),this._dataSource(),this._updateClasses(),this._animations(e),this.nextItemZIndex=100,this._tabindex(),this._initOverflow(e),this._attachMenuEventsHandlers(),e.openOnClick&&(this.clicked=!1),element.attr("role","menubar"),element[0].id&&(this._ariaId=n.format("{0}_mn_active",element[0].id)),n.notify(this)},events:["open","close","activate","deactivate","select","dataBound"],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:void 0},_initData:function(){var e=this;e.dataSource&&(e.angular("cleanup",(function(){return{elements:e.element.children()}})),e.element.empty(),e.append(e.dataSource.view(),e.element),e.angular("compile",(function(){return{elements:e.element.children()}})))},_attachMenuEventsHandlers:function(){var element=this.element,t=this.options,n=this._overflowWrapper();(n||element).on(A,".k-item",f(this._focusHandler,this)).on("click"+y,".k-item.k-state-disabled",!1).on("click"+y,".k-item",f(this._click,this)).on(A+" mousedown"+y,".k-content",f(this._preventClose,this)).on(P+y,".k-item:not(.k-state-disabled)",f(this._mouseenter,this)).on(z+y,".k-item:not(.k-state-disabled)",f(this._mouseleave,this)).on("mousedown"+y,".k-item:not(.k-state-disabled)",f(this._mousedown,this)).on(F+y+" "+P+y+" "+z+y+" mousedown"+y+" click"+y,".k-item:not(.k-state-disabled) > .k-link",f(this._toggleHover,this)),element.on("keydown"+y,f(this._keydown,this)).on("focus"+y,f(this._focus,this)).on("focus"+y,".k-content",f(this._focus,this)).on("blur"+y,f(this._removeHoverItem,this)).on("blur"+y,"[tabindex]",f(this._checkActiveElement,this)),n&&n.on(z+y,G,f(this._mouseleavePopup,this)).on(P+y,G,f(this._mouseenterPopup,this)),t.openOnClick&&(this._documentClickHandler=f(this._documentClick,this),e(document).click(this._documentClickHandler))},_detachMenuEventsHandlers:function(){var t=this._overflowWrapper();t&&t.off(y),this.element.off(y),this._documentClickHandler&&e(document).unbind("click",this._documentClickHandler)},_initOverflow:function(t){var r,o,l=this,c="horizontal"==t.orientation;if(t.scrollable){l._openedPopups={},l._scrollWrapper=l.element.wrap("<div class='k-menu-scroll-wrapper "+t.orientation+"'></div>").parent(),c&&pe(l.element),r=e(l.templates.scrollButton({direction:c?"left":"up"})),o=e(l.templates.scrollButton({direction:c?"right":"down"})),r.add(o).appendTo(l._scrollWrapper),l._initScrolling(l.element,r,o,c);var h=l.element.outerWidth(),d=l.element[0].style.width;d="auto"===d?"":d,c&&e(window).on(L,n.throttle((function(){l._setOverflowWrapperWidth(h,d),l._toggleScrollButtons(l.element,r,o,c)}),100)),l._setOverflowWrapperWidth(h,d),l._toggleScrollButtons(l.element,r,o,c)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var n=this._scrollWrapper.css("width");this._scrollWrapper.css({width:""});var r=this._scrollWrapper.outerWidth();this._scrollWrapper.css({width:n});var o=this.element.outerWidth(),l=this.element[0].offsetWidth-this.element[0].clientWidth;if(o!=r&&r>0){var c=t?Math.min(e,r):r;this.element.width(c-l),this._scrollWrapper.width(c)}},_reinitOverflow:function(e){(e.scrollable&&!this.options.scrollable||!e.scrollable&&this.options.scrollable||e.scrollable&&this.options.scrollable&&e.scrollable.distance!=this.options.scrollable.distance||e.orientation!=this.options.orientation)&&(this._detachMenuEventsHandlers(),this._destroyOverflow(),this._initOverflow(e),this._attachMenuEventsHandlers())},_destroyOverflow:function(){var t=this._overflowWrapper();t&&(t.off(y),t.find(".k-menu-scroll-button").off(y).remove(),t.children(j).each((function(i,n){var ul=e(n).children(".k-menu-group");ul.off(B);var r=ce(ul,t);r.length&&r.append(n)})),t.find(se()).removeAttr("data-groupparent"),t.find(ae()).removeAttr("data-group"),this.element.off(B),e(window).off(L),t.contents().unwrap(),this._scrollWrapper=this._popupsWrapper=this._openedPopups=void 0)},_initScrolling:function(t,r,o,c){var h=this,d=h.options.scrollable,f=e.isNumeric(d.distance)?d.distance:50,m=f/2,v="-="+f,_="+="+f,w="-="+2*f,x="+="+2*f,k=!1,C=!1,S=function(e){var n=c?{scrollLeft:e}:{scrollTop:e};t.finish().animate(n,"fast","linear",(function(){k&&S(e)})),h._toggleScrollButtons(t,r,o,c)},T=function(e){k||C||(S(e.data.direction),k=!0)},D=function(n){var d=c?{scrollLeft:n.data.direction}:{scrollTop:n.data.direction};C=function(e){var t=e.originalEvent;return l&&/touch/i.test(t.type||"")}(n)||ue(n),t.stop().animate(d,"fast","linear",(function(){C?(h._toggleScrollButtons(t,r,o,c),k=!0):e(n.currentTarget).trigger(P)})),k=!1,n.stopPropagation(),n.preventDefault()};r.on(P+y,{direction:v},T).on(n.eventMap.down+y,{direction:w},D),o.on(P+y,{direction:_},T).on(n.eventMap.down+y,{direction:x},D),r.add(o).on(z+y,(function(){t.stop(),k=!1,h._toggleScrollButtons(t,r,o,c)})),t.on(B,(function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var n=function(e){var t=0;return e.wheelDelta&&(t=(t=-e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t)),e.detail&&(t=Math.round(e.detail/3)),t}(e.originalEvent),l=(n>0?"+=":"-=")+Math.abs(n)*m,d=c?{scrollLeft:l}:{scrollTop:l};h._closeChildPopups(t),t.finish().animate(d,"fast","linear",(function(){h._toggleScrollButtons(t,r,o,c)})),e.preventDefault()}}))},_toggleScrollButtons:function(e,t,n,r){var o=r?e.scrollLeft():e.scrollTop(),l=r?"scrollWidth":"scrollHeight",c=r?"offsetWidth":"offsetHeight";t.toggle(0!==o),n.toggle(o<e[0][l]-e[0][c]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=d(!0,t,e.animation),"dataSource"in e&&this._dataSource(e),this._updateClasses(),this._reinitOverflow(e),_.fn.setOptions.call(this,e)},destroy:function(){_.fn.destroy.call(this),this._detachMenuEventsHandlers(),this._destroyOverflow(),n.destroy(this.element)},enable:function(element,e){return this._toggleDisabled(element,!1!==e),this},disable:function(element){return this._toggleDisabled(element,!1),this},attemptGetItem:function(t){t=t||this.element;var n=this.element.find(t),r=this._overflowWrapper();return n.length||t===this.element?n:r?r.find(t):e()},append:function(e,t){t=this.attemptGetItem(t);var n=this._insert(e,t,t.length?t.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return m(n.items,(function(i){n.group.append(this),te(this),oe(this,e[i]||e)})),te(t),ie(n.group.find(".k-first, .k-last").add(n.items)),ne(re(n.group)),this},insertBefore:function(e,t){t=this.attemptGetItem(t);var n=this._insert(e,t,t.parent());return m(n.items,(function(i){t.before(this),te(this),ie(this),oe(this,e[i]||e)})),ie(t),this},insertAfter:function(e,t){t=this.attemptGetItem(t);var n=this._insert(e,t,t.parent());return m(n.items,(function(i){t.after(this),te(this),ie(this),oe(this,e[i]||e)})),ie(t),this},_insert:function(t,r,o){var l,h,f=this;r&&r.length||(o=f.element);var m=e.isPlainObject(t)||t instanceof n.data.ObservableObject,v={firstLevel:o.hasClass(k),horizontal:o.hasClass(k+"-horizontal"),expanded:!0,length:o.children().length};return r&&!o.length&&(o=e(f.renderGroup({group:v,options:f.options})).appendTo(r)),m||c(t)||t instanceof n.data.ObservableArray?l=e(e.map(m?[t]:t,(function(t,n){return"string"==typeof t?e(t).get():e(f.renderItem({group:v,item:d(t,{index:n})})).get()}))):(h=(l="string"==typeof t&&"<"!=t.charAt(0)?f.element.find(t):e(t)).find("> ul").addClass("k-menu-group").attr("role","menu"),(l=l.filter("li")).add(h.find("> li")).each((function(){ee(this)}))),{items:l,group:o}},remove:function(element){var e=(element=this.attemptGetItem(element)).parentsUntil(this.element,$),t=element.parent("ul:not(.k-menu)");if(element.remove(),t&&!t.children($).length){var n=re(t),r=t.parent(j);r.length?r.remove():t.remove(),ne(n)}return e.length&&(te(e=e.eq(0)),ie(e)),this},_openAfterLoad:function(element,e){var t=this;e.loaded()?(t.open(element),t._loading=!1):e.one("change",(function(){element.find(".k-menu-expand-arrow").removeClass("k-i-loading"),t._loading&&(t.open(element),t._loading=!1)}))},open:function(element){var t=this,r=t.options,o="horizontal"==r.orientation,c=r.direction,h=n.support.isRtl(t.wrapper),m=t._overflowWrapper();element=(m||t.element).find(element);var v=t.dataSource&&t.dataSource.getByUid(element.data(n.ns+"uid"));if(v&&v.hasChildren&&!v.loaded()&&!t._loading)return t._loading=!0,element.find(".k-menu-expand-arrow").addClass("k-i-loading"),v.load(),void t._openAfterLoad(element,v);/^(top|bottom|default)$/.test(c)&&(c=h?o?(c+" left").replace("default","bottom"):"left":o?(c+" right").replace("default","bottom"):"right");var _=">.k-popup:visible,>.k-animation-container>.k-popup:visible",w=function(){e(this).data("kendoPopup")&&t.close(e(this).closest("li.k-item"),!0)};return element.siblings().find(_).each(w),m&&element.find(_).each(w),t.options.openOnClick&&(t.clicked=!0),element.each((function(){var li=e(this);clearTimeout(li.data("timer")),li.data("timer",setTimeout((function(){var v,_,ul=li.find(".k-menu-group:first:hidden");if(!ul[0]&&m&&(_=t._getPopup(li),ul=_&&_.element),!ul.is(":visible")&&ul[0]&&!1===t._triggerEvent({item:li[0],type:"open"})){if(!ul.find(".k-menu-group")[0]&&ul.children(".k-item").length>1){var w=e(window).height(),y=function(){ul.css({maxHeight:w-(n._outerHeight(ul)-ul.height())-n.getShadows(ul).bottom,overflow:"auto"})};n.support.browser.msie&&n.support.browser.version<=7?setTimeout(y,0):y()}else ul.css({maxHeight:"",overflow:""});li.data("zIndex",li.css("zIndex"));var x=t.nextItemZIndex++;li.css("zIndex",x),t.options.scrollable&&li.parent().siblings(".k-menu-scroll-button").css({zIndex:++x}),v=ul.data("kendoPopup");var C=li.parent().hasClass(k),S=C&&o,T=function(e,t,r){e=e.split(" ")[!t+0]||e;var output={origin:["bottom",r?"right":"left"],position:["top",r?"right":"left"]};return/left|right/.test(e)?(output.origin=["top",e],output.position[1]=n.directions[e].reverse):(output.origin[0]=e,output.position[0]=n.directions[e].reverse),output.origin=output.origin.join(" "),output.position=output.position.join(" "),output}(c,C,h),D=r.animation.open.effects,E=void 0!==D?D:"slideIn:"+function(e,t){return(e=e.split(" ")[!t+0]||e).replace("top","up").replace("bottom","down")}(c,C);v?((v=ul.data("kendoPopup")).options.origin=T.origin,v.options.position=T.position,v.options.animation.open.effects=E):v=ul.kendoPopup({activate:function(){t._triggerEvent({item:this.wrapper.parent(),type:"activate"})},deactivate:function(e){t._closing=!1,e.sender.element.removeData("targetTransform").css({opacity:""}),t._triggerEvent({item:this.wrapper.parent(),type:"deactivate"})},origin:T.origin,position:T.position,collision:void 0!==r.popupCollision?r.popupCollision:S?"fit":"fit flip",anchor:li,appendTo:m||li,animation:{open:d(!0,{effects:E},r.animation.open),close:r.animation.close},open:f(t._popupOpen,t),close:function(e){t._closing=!0;var li=e.sender.wrapper.parent();if(m){var r=e.sender.element.data(H);r&&(li=(m||t.element).find(se(r))),e.sender.wrapper.children(".k-menu-scroll-button").hide()}t._triggerEvent({item:li[0],type:"close"})?e.preventDefault():(li.css("zIndex",li.data("zIndex")),li.removeData("zIndex"),t.options.scrollable&&li.parent().siblings(".k-menu-scroll-button").css({zIndex:""}),(l||R||n.support.mouseAndTouchPresent)&&(li.removeClass("k-state-hover"),t._removeHoverItem()))}}).data("kendoPopup"),ul.removeAttr("aria-hidden"),t._configurePopupOverflow(v,li),v._hovered=!0,v.open(),t._initPopupScrolling(v)}}),t.options.hoverDelay))})),t},_configurePopupOverflow:function(e,t){if(this.options.scrollable&&(this._wrapPopupElement(e),!t.attr("data-groupparent"))){var n=(new Date).getTime();t.attr("data-groupparent",n),e.element.attr("data-group",n)}},_wrapPopupElement:function(e){e.element.parent().is(j)||(e.wrapper=n.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(e,t,n){this.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight&&this._initPopupScrollButtons(e,t,n)},_initPopupScrollButtons:function(t,n,r){var o=this,l=t.wrapper.children(".k-menu-scroll-button"),c=o.options.animation,h=(c&&c.open&&c.open.duration||0)+30;setTimeout((function(){if(!l.length){var c=e(o.templates.scrollButton({direction:n?"left":"up"})),h=e(o.templates.scrollButton({direction:n?"right":"down"}));l=c.add(h).appendTo(t.wrapper),o._initScrolling(t.element,c,h,n),r||l.on(P+y,(function(){var n=o._overflowWrapper();e(le(t.element,n)).each((function(i,p){var e=n.find(se(p.data(H)));o.close(e)}))})).on(z+y,(function(){setTimeout((function(){e.isEmptyObject(o._openedPopups)&&o._closeParentPopups(t.element)}),30)}))}o._toggleScrollButtons(t.element,l.first(),l.last(),n)}),h)},_popupOpen:function(e){this._keyTriggered||e.sender.element.children("."+W).removeClass(W),this.options.scrollable&&this._setPopupHeight(e.sender)},_setPopupHeight:function(t,r){var o=t.element,l=o.add(o.parent(j));l.height(o.hasClass(k)&&this._initialHeight||"");var c=t._location(r),h=e(window).height(),d=c.height,f=r?0:Math.max(c.top,0),m=r?0:de(this._overflowWrapper()[0],"scrollTop"),v=window.innerHeight-h,_=h-n.getShadows(o).bottom+v;if(!(_+m>d+f)){var w=Math.min(_,_-f+m);l.css({overflow:"hidden",height:w+"px"})}},close:function(t,n){var r=this,o=r._overflowWrapper(),element=o||r.element;return(t=element.find(t)).length||(t=element.find(">.k-item")),t.each((function(){var li=e(this);!n&&r._isRootItem(li)&&(r.clicked=!1),clearTimeout(li.data("timer")),li.data("timer",setTimeout((function(){var n,l,c,h=r._getPopup(li);if(h&&(c=li.data(N),!o||!c||!r._openedPopups[c.toString()]||r._forceClose)){if(!r._forceClose&&(n=h.element,l=!1,e.isEmptyObject(r._openedPopups)?l:(e(le(n,o)).each((function(i,e){return!(l=!!r._openedPopups[e.data(H).toString()])})),l)))return;h.close(),h.element.attr("aria-hidden",!0),o&&r._forceClose&&t.last().is(li[0])&&delete r._forceClose}}),r.options.hoverDelay))})),r},_getPopup:function(li){var e=li.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data("kendoPopup"),t=this._overflowWrapper();if(!e&&t){var n=li.data(N);n&&(e=t.find(ae(n)).data("kendoPopup"))}return e},_toggleDisabled:function(t,n){this.element.find(t).each((function(){e(this).toggleClass(V,n).toggleClass(U,!n).attr("aria-disabled",!n)}))},_toggleHover:function(t){var r=e(n.eventTarget(t)||t.target).closest($),o=t.type==P||-1!=="mousedown".indexOf(t.type);r.siblings().removeClass("k-state-hover"),r.parents("li."+U).length||r.toggleClass("k-state-hover",o||"mousedown"==t.type||"pointerover"==t.type||t.type==F),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var r=this,o=e(t?t.currentTarget:this._hoverItem()),l=r._findRootParent(o)[0];this._closurePrevented||setTimeout((function(){document.hasFocus()&&(Z(l,n._activeElement())||!t||Z(l,t.currentTarget))||r.close(l)}),0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(W)&&(e.removeClass(W),this._oldHoverItem=null)},_updateClasses:function(){var e,element=this.element;element.removeClass("k-menu-horizontal k-menu-vertical"),element.addClass("k-widget k-reset k-header k-menu-init "+k).addClass(k+"-"+this.options.orientation),element.find("li > ul").filter((function(){return!n.support.matchesSelector.call(this,".k-menu-init div ul")})).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",element.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=element.find("> li,.k-menu-group > li"),element.removeClass("k-menu-init"),e.each((function(){ee(this)}))},_mouseenter:function(t){var n=this,element=e(t.currentTarget),r=n._itemHasChildren(element),o=element.data(N)||element.parent().data(H),c=ue(t);o&&(n._openedPopups[o.toString()]=!0),n._closing||t.delegateTarget!=element.parents(".k-menu")[0]&&t.delegateTarget!=element.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(n._keyTriggered=!1,n.options.openOnClick.rootMenuItems&&n._isRootItem(element.closest($))||n.options.openOnClick.subMenuItems&&!n._isRootItem(element.closest($))||(!(!1===n.options.openOnClick||!1===n.options.openOnClick.rootMenuItems&&n._isRootItem(element.closest($))||!1===n.options.openOnClick.subMenuItems&&!n._isRootItem(element.closest($))||n.clicked)||l||c&&n._isRootItem(element.closest($))||!Z(t.currentTarget,t.relatedTarget)&&r&&n.open(element),(!0===n.options.openOnClick&&n.clicked||l)&&element.siblings().each(f((function(e,t){n.close(t,!0)}),n))))},_mousedown:function(t){var n=this,element=e(t.currentTarget);(n.options.openOnClick.subMenuItems&&!n._isRootItem(element)||l)&&element.siblings().each(f((function(e,t){n.close(t,!0)}),n))},_mouseleave:function(t){var element=e(t.currentTarget),r=element.data(N),o=element.children(j).length||element.children(".k-menu-group").length||r,c=e(window);if(r&&delete this._openedPopups[r.toString()],!element.parentsUntil(j,".k-list-container,.k-calendar-container")[0])return!1!==this.options.openOnClick&&(this.options.openOnClick.rootMenuItems||!this._isRootItem(element))&&(this.options.openOnClick.subMenuItems||this._isRootItem(element))||l||ue(t)||Z(t.currentTarget,t.relatedTarget||t.target)||!o||Z(t.currentTarget,n._activeElement())?void((n.support.browser.msie&&!t.toElement&&!t.relatedTarget&&!ue(t)||t.clientX<0||t.clientY<0||t.clientY>c.height()||t.clientX>c.width())&&this.close(element)):(this.close(element,!0),void(this._loading=!1));t.stopImmediatePropagation()},_mouseenterPopup:function(t){var n=e(t.currentTarget);if(!n.parent().is(j)){var r=(n=n.children("ul")).data(H);r&&(this._openedPopups[r.toString()]=!0)}},_mouseleavePopup:function(t){var n=e(t.currentTarget);!ue(t)&&n.is(j)&&this._closePopups(n.children("ul"))},_closePopups:function(t){var n=this,r=n._overflowWrapper(),o=t.data(H);if(o){delete n._openedPopups[o.toString()];var l=r.find(se(o));setTimeout((function(){if(n.options.openOnClick)n._closeChildPopups(t);else if(e.isEmptyObject(n._openedPopups)){var r=n._innerPopup(t);n._closeParentPopups(r)}else n.close(l,!0)}),0)}},_closeChildPopups:function(t){var n=this,r=n._overflowWrapper();e(le(t,r)).each((function(){var e=r.find(se(this.data(H)));n.close(e,!0)}))},_innerPopup:function(e){var t=le(e,this._overflowWrapper());return t[t.length-1]||e},_closeParentPopups:function(e){var t=this._overflowWrapper(),n=e.data(H),r=t.find(se(n));for(n=r.parent().data(H),this.close(r,!0);n&&!this._openedPopups[n]&&!r.parent().is(".k-menu");)r=t.find(se(n)),this.close(r,!0),n=r.parent().data(H)},_click:function(t){for(var r,o,l,c,h=this.options,d=e(n.eventTarget(t)),f=d[0],m=d[0]?d[0].nodeName.toUpperCase():"",v="INPUT"==m||"SELECT"==m||"BUTTON"==m||"LABEL"==m,link=d.closest(S),element=d.closest($),_=element[0],w=link.attr("href"),y=d.attr("href"),x=e("<a href='#' />").attr("href"),k=!!w&&w!==x,C=k&&!!w.match(/^#/),T=!!y&&y!==x,D=this._overflowWrapper();f&&f.parentNode!=_;)f=f.parentNode;if(!e(f).is("div:not(.k-animation-container,.k-list-container)"))if(element.hasClass(U))t.preventDefault();else{if(t.handled||!this._triggerSelect(d,_)||v||t.preventDefault(),t.handled=!0,o=element.children(G),D){var E=element.data(N);E&&(o=D.find(ae(E)))}if(l=o.is(":visible"),c=h.openOnClick&&l&&this._isRootItem(element),h.closeOnClick&&(!k||C)&&(!o.length||c)){element.removeClass("k-state-hover").css("height"),this._oldHoverItem=this._findRootParent(element);var A=this._parentsUntil(link,this.element,$);return this._forceClose=!!D,this.close(A),this.clicked=!1,void(-1!="MSPointerUp".indexOf(t.type)&&t.preventDefault())}k&&t.enterKey&&link[0].click(),(this._isRootItem(element)&&!1!==h.openOnClick||h.openOnClick.subMenuItems||n.support.touch||ue(t)&&this._isRootItem(element.closest($)))&&(k||v||T||t.preventDefault(),this.clicked=!0,r=o.is(":visible")?"close":"open",(h.closeOnClick||"close"!=r)&&this[r](element))}},_parentsUntil:function(t,n,r){var o=this._overflowWrapper();if(o){var l=function(t,n){var r=[],o=function(e){for(;e.parentNode&&!n.is(e.parentNode);)r.push(e.parentNode),e=e.parentNode},l=t[0]||t;o(l);for(var c=r[r.length-1];e(c).is(j)&&(l=ce(e(c).children("ul"),n)[0]);)r.push(l),o(l),c=r[r.length-1];return r}(t,o),c=[];return e(l).each((function(){var t=e(this);if(t.is(n))return!1;t.is(r)&&c.push(this)})),e(c)}return t.parentsUntil(n,r)},_triggerSelect:function(e,t){var n,r=(e=e.is(".k-link")?e:e.closest(".k-link")).data("selectHandler");r&&(n=this._getEventData(e),r.call(this,n));var o=n&&n.isDefaultPrevented(),l=this._triggerEvent({item:t,type:"select"});return o||l},_getEventData:function(e){return{sender:this,target:e,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(e){Z((this._overflowWrapper()||this.element)[0],e.target)||(this.clicked=!1)},_focus:function(t){var n=t.target,r=this._hoverItem(),l=o();if(n!=this.wrapper[0]&&!e(n).is(":kendoFocusable"))return t.stopPropagation(),e(n).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(W),void this.wrapper.focus();l===t.currentTarget&&(r.length?this._moveHover([],r):this._oldHoverItem||this._moveHover([],this.wrapper.children().first()))},_keydown:function(e){var t,r,o,l=e.keyCode,c=this._oldHoverItem,h=n.support.isRtl(this.wrapper);if(e.target==e.currentTarget||l==v.ESC){if(c||(c=this._oldHoverItem=this._hoverItem()),r=this._itemBelongsToVertival(c),o=this._itemHasChildren(c),this._keyTriggered=!0,l==v.RIGHT)t=this[h?"_itemLeft":"_itemRight"](c,r,o);else if(l==v.LEFT)t=this[h?"_itemRight":"_itemLeft"](c,r,o);else if(l==v.DOWN)t=this._itemDown(c,r,o);else if(l==v.UP)t=this._itemUp(c,r,o);else if(l==v.HOME)this._moveHover(c,c.parent().children().first()),e.preventDefault();else if(l==v.END)this._moveHover(c,c.parent().children().last()),e.preventDefault();else if(l==v.ESC)t=this._itemEsc(c,r);else if(l==v.ENTER||l==v.SPACEBAR)(t=c.children(".k-link")).length>0&&(this._click({target:t[0],preventDefault:function(){},enterKey:!0}),o&&!c.hasClass(U)?(this.open(c),this._moveHover(c,this._childPopupElement(c).children().first())):this._moveHover(c,this._findRootParent(c)));else if(l==v.TAB)return t=this._findRootParent(c),this._moveHover(c,t),void this._checkActiveElement();t&&t[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length&&e.parent().hasClass("k-menu-group")||t},_itemHasChildren:function(e){return!!(e&&e.length&&e[0].nodeType)&&(e.children(".k-menu-group, div.k-animation-container").length>0||!!e.data(N)&&!!this._overflowWrapper().children(ae(e.data(N))))},_moveHover:function(t,n){var r=this._ariaId;t.length&&n.length&&t.removeClass(W),n.length&&(n[0].id&&(r=n[0].id),n.addClass(W),this._oldHoverItem=n,r&&(this.element.removeAttr("aria-activedescendant"),e("#"+r).removeAttr("id"),n.attr("id",r),this.element.attr("aria-activedescendant",r)),this._scrollToItem(n))},_findRootParent:function(e){return this._isRootItem(e)?e:this._parentsUntil(e,".k-menu","li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(k)},_itemRight:function(e,t,n){var r,o,l;if(t){if(n&&!e.hasClass(U))this.open(e),r=this._childPopupElement(e).children().first();else if("horizontal"==this.options.orientation){if(o=this._findRootParent(e),l=this._overflowWrapper()){var c=he(o,l);this._closeChildPopups(c)}this.close(o),r=o.nextAll(Y)}}else(r=e.nextAll(Y)).length||(r=e.prevAll(K)),this.close(e);return r&&!r.length?r=this.wrapper.children(".k-item").first():r||(r=[]),this._moveHover(e,r),r},_itemLeft:function(e,t){var n,r;return t?(n=e.parent().closest(".k-item"),r=this._overflowWrapper(),!n.length&&r&&(n=ce(e.parent(),r)),this.close(n),this._isRootItem(n)&&"horizontal"==this.options.orientation&&(n=n.prevAll(Y))):((n=e.prevAll(Y)).length||(n=e.nextAll(K)),this.close(e)),n.length||(n=this.wrapper.children(".k-item").last()),this._moveHover(e,n),n},_itemDown:function(e,t,n){var r;if(t)r=e.nextAll(Y);else{if(!n||e.hasClass(U))return;this.open(e),r=this._childPopupElement(e).children().first()}return!r.length&&e.length?r=e.parent().children().first():e.length||(r=this.wrapper.children(".k-item").first()),this._moveHover(e,r),r},_itemUp:function(e,t){var n;if(t)return!(n=e.prevAll(Y)).length&&e.length?n=e.parent().children().last():e.length||(n=this.wrapper.children(".k-item").last()),this._moveHover(e,n),n},_scrollToItem:function(e){var t=this;if(t.options.scrollable&&e&&e.length){var r,ul=e.parent(),o=!!ul.hasClass(k)&&"horizontal"==t.options.orientation,l=o?"scrollLeft":"scrollTop",c=o?n._outerWidth:n._outerHeight,h=ul[l](),d=c(e),f=e[0][o?"offsetLeft":"offsetTop"],m=c(ul),v=ul.siblings(".k-menu-scroll-button"),_=v.length?c(v.first()):0;if(h+m<f+d+_?r=f+d-m+_:h>f-_&&(r=f-_),!isNaN(r)){var w={};w[l]=r,ul.finish().animate(w,"fast","linear",(function(){t._toggleScrollButtons(ul,v.first(),v.last(),o)}))}}},_itemEsc:function(e,t){var n;return t?(n=e.parent().closest(".k-item"),this.close(n),this._moveHover(e,n),n):e},_childPopupElement:function(e){var t=e.find(".k-menu-group"),n=this._overflowWrapper();return!t.length&&n&&(t=he(e,n)),t},_triggerEvent:function(e){return this.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(t){var r=this,o=e(n.eventTarget(t)).closest($);o.hasClass(U)||setTimeout((function(){r._moveHover([],o),o.children(".k-content")[0]&&o.parent().closest(".k-item").removeClass(W)}),200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_dataSource:function(e){var t=e?e.dataSource:this.options.dataSource;t&&(t=c(t)?{data:t}:t,this._unbindDataSource(),t.fields||(t.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"}]),this.dataSource=h.create(t),this._bindDataSource(),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=f(this.refresh,this),this._errorHandler=f(this._error,this),this.dataSource.bind("change",this._refreshHandler),this.dataSource.bind("error",this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind("change",this._refreshHandler),e.unbind("error",this._errorHandler))},_error:function(){},findByUid:function(e){return(this._overflowWrapper()||this.element).find("["+n.attr("uid")+"="+e+"]")},refresh:function(t){var n=t.node,r=t.action,o=n?this.findByUid(n.uid):this.element,l=t.items,c=t.index,h=e.proxy(this._updateItem,this),d=e.proxy(this._removeItem,this);"add"==r?this._appendItems(l,c,o):"remove"==r?l.forEach(d):"itemchange"==r?l.forEach(h):"itemloaded"===r?this.append(t.items,o):this._initData(),this.trigger("dataBound",{item:o,dataItem:n})},_appendItems:function(e,t,n){var r=n.find(".k-item").eq(t);r.length?this.insertBefore(e,r):this.append(e,n)},_removeItem:function(e){var element=this.findByUid(e.uid);this.remove(element)},_updateItem:function(e){var element=this.findByUid(e.uid),t=element.next(),n=e.parentNode();this.remove(element),t.length?this.insertBefore(e,t):this.append(e,n&&this.findByUid(n.uid))},_accessors:function(){var i,e,t,r=this.options,element=this.element;for(i in X)e=r[X[i]],t=element.attr(n.attr(i+"-field")),!e&&t&&(e=t),e||(e=i),c(e)||(e=[e]),r[X[i]]=e},_fieldAccessor:function(t){var r=this.options[X[t]]||[],o=r.length,l="(function(item) {";return 0===o?l+="return item['"+t+"'];":(l+="var levels = ["+e.map(r,(function(e){return"function(d){ return "+n.expr(e)+"}"})).join(",")+"];",l+="if(item.level){return levels[Math.min(item.level(), "+o+"-1)](item);}else",l+="{return levels["+o+"-1](item)}"),l+="})"},_templates:function(){var e=this.options,t=f(this._fieldAccessor,this);e.template&&"string"==typeof e.template?e.template=template(e.template):e.template||(e.template=template("# var text = "+t("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:template("#var contentHtml = "+t("content")+"(item);#<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>"),group:template("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:template("# var url = "+t("url")+"(item); ## var imageUrl = "+t("imageUrl")+"(item); ## var imgAttributes = "+t("imageAttr")+"(item);## var tag = url ? 'a' : 'span' #<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#># if (imageUrl) { #<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' /># } ##= sprite(item) ##= data.menu.options.template(data) ##= arrow(data) #</#= tag #>"),item:template("#var contentHtml = "+t("content")+"(item);#<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#"+n.attr("uid")+"='#= item.uid #' >#= itemWrapper(data) ##if (item.hasChildren || item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl || contentHtml) { ##= renderContent(data) ## } #</li>"),scrollButton:template("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),arrow:template("<span class='#= arrowClass(item, group) #'></span>"),sprite:template("# var spriteCssClass = "+t("spriteCssClass")+"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#"),empty:template("")}},renderItem:function(e){e=d({menu:this,group:{}},e);var t=this.templates.empty,n=e.item;return this.templates.item(d(e,{sprite:this.templates.sprite,itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:n.items||n.content||n[this.options.dataContentField[0]]?this.templates.arrow:t,subGroup:this.renderGroup},J))},renderGroup:function(e){return(this.templates||e.menu.templates).group(d({renderItems:function(e){for(var html="",i=0,t=e.items,n=t?t.length:0,r=d({length:n},e.group);i<n;i++)html+=e.menu.renderItem(d(e,{group:r,item:d({index:i},t[i])}));return html}},e,J))},renderContent:function(e){return e.menu.templates.content(d(e,J))}}),ge=fe.extend({init:function(element,t){fe.fn.init.call(this,element,t),this._marker=n.guid().substring(0,8),this.target=e(this.options.target),this._popup(),this._wire()},_initOverflow:function(e){e.scrollable&&!this._overflowWrapper()&&(this._openedPopups={},this._popupsWrapper=(this.element.parent().is(j)?this.element.parent():this.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent(),"horizontal"==this.options.orientation&&pe(this.element),e.appendTo&&e.appendTo.append(this._popupsWrapper),this._initialHeight=this.element[0].style.height,this._initialWidth=this.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,copyAnchorStyles:!0,target:"body"},events:["open","close","activate","deactivate","select"],setOptions:function(t){fe.fn.setOptions.call(this,t),this.target.off(this.showOn+y+this._marker,this._showProxy),this.userEvents&&this.userEvents.destroy(),this.target=e(this.options.target),t.orientation&&this.popup.wrapper[0]&&this.popup.element.unwrap(),this._wire(),fe.fn.setOptions.call(this,t)},destroy:function(){this.target.off(this.options.showOn+y+this._marker),O.off(n.support.mousedown+y+this._marker,this._closeProxy),this.userEvents&&this.userEvents.destroy(),fe.fn.destroy.call(this)},open:function(t,r){if(t=e(t)[0],Z(this.element[0],e(t)[0])||this._itemHasChildren(e(t)))fe.fn.open.call(this,t);else if(!1===this._triggerEvent({item:this.element,type:"open"})){if(this.popup.visible()&&this.options.filter&&(this.popup.close(!0),this.popup.element.kendoStop(!0)),void 0!==r){var o=this._overflowWrapper();if(o){var l=o.offset();t-=l.left,r-=l.top}this.popup.wrapper.hide(),this._configurePopupScrolling(t,r),this.popup.open(t,r)}else this.popup.options.anchor=t||this.popup.anchor||this.target,this.popup.element.kendoStop(!0),this._configurePopupScrolling(),this.popup.open();O.off(this.popup.downEvent,this.popup._mousedownProxy),O.on(n.support.mousedown+y+this._marker,this._closeProxy)}return this},_configurePopupScrolling:function(e,t){var n=this.popup,r="horizontal"==this.options.orientation;this.options.scrollable&&(this._wrapPopupElement(n),n.element.parent().css({position:"",height:""}),n.element.css({visibility:"hidden",display:"",position:""}),r?this._setPopupWidth(n,isNaN(e)?void 0:{isFixed:!0,x:e,y:t}):this._setPopupHeight(n,isNaN(e)?void 0:{isFixed:!0,x:e,y:t}),n.element.css({visibility:"",display:"none",position:"absolute"}),this._initPopupScrollButtons(n,r,!0),n.element.siblings(".k-menu-scroll-button").hide())},_setPopupWidth:function(t,r){var o=t.element,l=o.add(o.parent(j));l.width(this._initialWidth||"");var c=t._location(r),h=e(window).width(),d=c.width,f=Math.max(c.left,0),m=r?0:de(this._overflowWrapper()[0],"scrollLeft"),shadow=n.getShadows(o),v=h-shadow.left-shadow.right;v+m>d+f||l.css({overflow:"hidden",width:v-f+m+"px"})},close:function(){var t=this;Z(t.element[0],e(arguments[0])[0])||t._itemHasChildren(arguments[0])?fe.fn.close.call(t,arguments[0]):t.popup.visible()&&!1===t._triggerEvent({item:t.element,type:"close"})&&(t.popup.close(),O.off(n.support.mousedown+y+t._marker,t._closeProxy),t.unbind("select",t._closeTimeoutProxy))},_showHandler:function(t){var r,o=t,l=this.options,c=n.support.mobileOS?e(o.target):e(o.currentTarget);t.event&&((o=t.event).pageX=t.x.location,o.pageY=t.y.location),Z(this.element[0],t.relatedTarget||t.target)||(this._eventOrigin=o,o.preventDefault(),o.stopImmediatePropagation(),this.element.find("."+W).removeClass(W),(l.filter&&c.is(l.filter)||!l.filter)&&(l.alignToAnchor?(this.popup.options.anchor=o.currentTarget,this.open(o.currentTarget)):(this.popup.options.anchor=o.currentTarget,this._targetChild?(r=this.target.offset(),this.open(o.pageX-r.left,o.pageY-r.top)):this.open(o.pageX,o.pageY))))},_closeHandler:function(t){var n=e(t.relatedTarget||t.target),r=n.closest(this.target.selector)[0]==this.target[0],o=n.closest(".k-item"),l=this._itemHasChildren(o),c=this._overflowWrapper(),h=Z(this.element[0],n[0])||c&&Z(c[0],n[0]);this._eventOrigin=t;var d=3!==t.which;this.popup.visible()&&(d&&r||!r)&&(this.options.closeOnClick&&!l&&h||!h)&&(h?(this.unbind("select",this._closeTimeoutProxy),this.bind("select",this._closeTimeoutProxy)):this.close())},_wire:function(){var e=this.options,t=this.target;this._showProxy=f(this._showHandler,this),this._closeProxy=f(this._closeHandler,this),this._closeTimeoutProxy=f(this.close,this),t[0]&&(n.support.mobileOS&&"contextmenu"==e.showOn?(this.userEvents=new n.UserEvents(t,{filter:e.filter,allowSelection:!1}),t.on(e.showOn+y+this._marker,!1),this.userEvents.bind("hold",this._showProxy)):e.filter?t.on(e.showOn+y+this._marker,e.filter,this._showProxy):t.on(e.showOn+y+this._marker,this._showProxy))},_triggerEvent:function(t){var n=e(this.popup.options.anchor)[0],r=this._eventOrigin;return this._eventOrigin=void 0,this.trigger(t.type,d({type:t.type,item:t.item||this.element[0],target:n},r?{event:r}:{}))},_popup:function(){var t=this._overflowWrapper();this._triggerProxy=f(this._triggerEvent,this),this.popup=this.element.addClass("k-context-menu").kendoPopup({autosize:"horizontal"===this.options.orientation,anchor:this.target||"body",copyAnchorStyles:this.options.copyAnchorStyles,collision:this.options.popupCollision||"fit",animation:this.options.animation,activate:this._triggerProxy,deactivate:this._triggerProxy,appendTo:t||this.options.appendTo,close:t?function(n){e(le(n.sender.element,t)).each((function(i,p){var e=p.data("kendoPopup");e&&e.close(!0)}))}:e.noop}).data("kendoPopup"),this._targetChild=Z(this.target[0],this.popup.element[0])}});r.plugin(fe),r.plugin(ge)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1297)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1297:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.support,o=window.location,l=window.history,c=n.support.browser.msie,h=/^#*/,d=window.document;function f(path,e){return e?(path+"/"===e&&(path=e),new RegExp("^"+e,"i").test(path)||(path=e+"/"+path),o.protocol+"//"+(o.host+"/"+path).replace(/\/\/+/g,"/")):path}function m(e){return e?"#!":"#"}function v(e){var t=o.href;return"#!"===e&&t.indexOf("#")>-1&&t.indexOf("#!")<0?null:t.split(e)[1]||""}function _(e,t){return 0===t.indexOf(e)?t.substr(e.length).replace(/\/\//g,"/"):t}var w=n.Class.extend({back:function(){c?setTimeout((function(){l.back()})):l.back()},forward:function(){c?setTimeout((function(){l.forward()})):l.forward()},length:function(){return l.length},replaceLocation:function(e){o.replace(e)}}),y=w.extend({init:function(e){this.root=e},navigate:function(e){l.pushState({},d.title,f(e,this.root))},replace:function(e){l.replaceState({},d.title,f(e,this.root))},normalize:function(e){return _(this.root,e)},current:function(){var e=o.pathname;return o.search&&(e+=o.search),_(this.root,e)},change:function(t){e(window).bind("popstate.kendo",t)},stop:function(){e(window).unbind("popstate.kendo")},normalizeCurrent:function(e){var t,n=e.root,r=o.pathname,c=v(m(e.hashBang));n===r+"/"&&(t=n),n===r&&c&&(t=f(c.replace(h,""),n)),t&&l.pushState({},d.title,t)}});function x(e){return e.replace(/^(#)?/,"#")}function k(e){return e.replace(/^(#(!)?)?/,"#!")}var C=w.extend({init:function(e){this._id=n.guid(),this.prefix=m(e),this.fix=e?k:x},navigate:function(e){o.hash=this.fix(e)},replace:function(e){this.replaceLocation(this.fix(e))},normalize:function(e){return e.indexOf(this.prefix)<0?e:e.split(this.prefix)[1]},change:function(t){r.hashChange?e(window).on("hashchange."+this._id,t):this._interval=setInterval(t,50)},stop:function(){e(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return v(this.prefix)},normalizeCurrent:function(e){var t=o.pathname,n=e.root;return!(!e.pushState||n===t||(this.replaceLocation(n+this.prefix+_(n,t)),0))}}),S=n.Observable.extend({start:function(t){if(t=t||{},this.bind(["change","back","same"],t),!this._started){this._started=!0,t.root=t.root||"/";var n,r=this.createAdapter(t);r.normalizeCurrent(t)||(n=r.current(),e.extend(this,{adapter:r,root:t.root,historyLength:r.length(),current:n,locations:[n]}),r.change(e.proxy(this,"_checkUrl")))}},createAdapter:function(e){return r.pushState&&e.pushState?new y(e.root):new C(e.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind("change"),this._started=!1)},change:function(e){this.bind("change",e)},replace:function(e,t){this._navigate(e,t,(function(t){t.replace(e),this.locations[this.locations.length-1]=this.current}))},navigate:function(e,t){if("#:back"===e)return this.backCalled=!0,void this.adapter.back();this._navigate(e,t,(function(t){t.navigate(e),this.locations.push(this.current)}))},_navigate:function(e,t,n){var r=this.adapter;e=r.normalize(e),this.current!==e&&this.current!==decodeURIComponent(e)?!t&&this.trigger("change",{url:e,decode:!1})||(this.current=e,n.call(this,r),this.historyLength=r.length()):this.trigger("same")},_checkUrl:function(){var e=this.adapter,t=e.current(),n=e.length(),r=this.historyLength===n,o=t===this.locations[this.locations.length-2]&&r,l=this.backCalled,c=this.current;return null===t||this.current===t||this.current===decodeURIComponent(t)||(this.historyLength=n,this.backCalled=!1,this.current=t,o&&this.trigger("back",{url:c,to:t})?(e.forward(),void(this.current=c)):this.trigger("change",{url:t,backButtonPressed:!l})?(o?e.forward():(e.back(),this.historyLength--),void(this.current=c)):void(o?this.locations.pop():this.locations.push(t)))}});n.History=S,n.History.HistoryAdapter=w,n.History.HashAdapter=C,n.History.PushStateAdapter=y,n.absoluteURL=f,n.history=new S}(window.kendo.jQuery),function(){var e=window.kendo,t=e.history,n=e.Observable,r=/\((.*?)\)/g,o=/(\(\?)?:\w+/g,l=/\*\w+/g,c=/[\-{}\[\]+?.,\\\^$|#\s]/g;function h(e,t){return t?e:"([^/]+)"}function d(e){return e.replace(/(\?.*)|(#.*)/g,"")}var f=e.Class.extend({init:function(e,t,n){e instanceof RegExp||(e=function(e,t){return new RegExp("^"+e.replace(c,"\\$&").replace(r,"(?:$1)?").replace(o,h).replace(l,"(.*?)")+"$",t?"i":"")}(e,n)),this.route=e,this._callback=t},callback:function(t,n,r){var o,l,c=0,h=e.parseQueryStringParams(t);if(h._back=n,t=d(t),l=(o=this.route.exec(t).slice(1)).length,r)for(;c<l;c++)void 0!==o[c]&&(o[c]=decodeURIComponent(o[c]));o.push(h),this._callback.apply(null,o)},worksWith:function(e,t,n){return!!this.route.test(d(e))&&(this.callback(e,t,n),!0)}}),m=n.extend({init:function(e){e||(e={}),n.fn.init.call(this),this.routes=[],this.pushState=e.pushState,this.hashBang=e.hashBang,this.root=e.root,this.ignoreCase=!1!==e.ignoreCase,this.bind(["init","routeMissing","change","same","back"],e)},destroy:function(){t.unbind("change",this._urlChangedProxy),t.unbind("same",this._sameProxy),t.unbind("back",this._backProxy),this.unbind()},start:function(){var e=this,n=function(t){e._back(t)},r=function(t){e._urlChanged(t)};t.start({same:function(){e._same()},change:r,back:n,pushState:e.pushState,hashBang:e.hashBang,root:e.root});var o={url:t.current||"/",preventDefault:$.noop};e.trigger("init",o)||e._urlChanged(o),this._urlChangedProxy=r,this._backProxy=n},route:function(e,t){this.routes.push(new f(e,t,this.ignoreCase))},navigate:function(t,n){e.history.navigate(t,n)},replace:function(t,n){e.history.replace(t,n)},_back:function(e){this.trigger("back",{url:e.url,to:e.to})&&e.preventDefault()},_same:function(){this.trigger("same")},_urlChanged:function(t){var n=t.url,r=!!t.decode,o=t.backButtonPressed;if(n||(n="/"),this.trigger("change",{url:t.url,params:e.parseQueryStringParams(t.url),backButtonPressed:o}))t.preventDefault();else{for(var l=0,c=this.routes,h=c.length;l<h;l++)if(c[l].worksWith(n,o,r))return;this.trigger("routeMissing",{url:n,params:e.parseQueryStringParams(n),backButtonPressed:o})&&t.preventDefault()}}});e.Router=m}(),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1030)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1030:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1031)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.support,o=n.ui,l=o.Widget,c=n.keys,h=n.parseDate,d=n.date.adjustDST,f=n.date.weekInYear,m=n.ui.Selectable,v=n._extractFormat,template=n.template,_=n.getCulture,w=n.support.transitions,y=w?w.css+"transform-origin":"",x=template('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),k=template('<td role="gridcell" class="k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:!1}),C=template('<td role="gridcell" class="k-out-of-range">&nbsp;</td>',{useWithBlock:!1}),S=template('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),T=n.support.browser,D=T.msie&&T.version<9,E=n._outerWidth,A=".kendoCalendar",I="click"+A,M="month",R="value",F="k-state-hover",P="k-state-disabled",z="k-state-focused",B="k-other-month",L=' class="'+B+'"',H="td:has(.k-link):not(."+P+"):not(.k-out-of-range)",N="blur"+A,O="focus",V=O+A,W=r.touch?"touchstart":"mouseenter",U=r.touch?"touchstart"+A:"mouseenter"+A,j=r.touch?"touchend"+A+" touchmove"+A:"mouseleave"+A,G=e.proxy,$=e.extend,Y=Date,K={month:0,year:1,decade:2,century:3},Q=l.extend({init:function(element,t){var r,o,c=this;l.fn.init.call(c,element,t),element=c.wrapper=c.element,(t=c.options).url=n.unescape(t.url),c.options.disableDates=pe(c.options.disableDates),c._templates(),c._selectable(),c._header(),c._viewWrapper(),c._footer(c.footer),(o=element.addClass("k-widget k-calendar "+(t.weekNumber?" k-week-number":"")).on(U+" "+j,"td:has(.k-link)",se).on("keydown.kendoCalendar","table.k-content",G(c._move,c)).on(I,"td:has(.k-link)",(function(n){var link=n.currentTarget.firstChild,r=ge(link);-1!=link.href.indexOf("#")&&n.preventDefault(),"month"==c._view.name&&c.options.disableDates(r)||"month"==c._view.name&&"single"!=t.selectable||c._click(e(link))})).on("mouseup"+A,"table.k-content, .k-footer",(function(){c._focusView(!1!==c.options.focusOnNav)})).attr("id"))&&(c._cellID=o+"_cell_selected"),c._isMultipleSelection()&&c.options.weekNumber&&element.on(I,"td:not(:has(.k-link))",(function(t){var n=e(t.currentTarget).closest("tr").find(H).first(),r=c.selectable._lastActive=e(t.currentTarget).closest("tr").find(H).last();c.selectable.selectRange(n,r,{event:t}),c._current=c._value=ge(r.find("a")),c._class(z,c._current)})),he(t),r=h(t.value,t.format,t.culture),c._selectDates=[],c._index=K[t.start],c._current=new Y(+ee(r,t.min,t.max)),c._addClassProxy=function(){if(c._active=!0,c._cell.hasClass(P)){var e=c._view.toDateString(Z());c._cell=c._cellByDate(e)}c._cell.addClass(z)},c._removeClassProxy=function(){c._active=!1,c._cell.removeClass(z)},c.value(r),c._isMultipleSelection()&&t.selectDates.length>0&&c.selectDates(t.selectDates),n.notify(c)},options:{name:"Calendar",value:null,min:new Y(1900,0,1),max:new Y(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,selectable:"single",selectDates:[],start:M,depth:M,animation:{horizontal:{effects:"slideIn",reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:["change","navigate"],setOptions:function(e){he(e),e.disableDates=pe(e.disableDates),this._destroySelectable(),l.fn.setOptions.call(this,e),this._templates(),this._selectable(),this._viewWrapper(),this._footer(this.footer),this._index=K[this.options.start],this.navigate(),e.weekNumber&&this.element.addClass("k-week-number")},destroy:function(){var e=this._today;this.element.off(A),this._title.off(A),this._prevArrow.off(A),this._nextArrow.off(A),this._destroySelectable(),n.destroy(this._table),e&&n.destroy(e.off(A)),l.fn.destroy.call(this)},current:function(){return this._current},view:function(){return this._view},focus:function(table){table=table||this._table,this._bindTable(table),table.trigger("focus")},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate("_prevArrow",-1)},navigateToFuture:function(){this._navigate("_nextArrow",1)},navigateUp:function(){var e=this._index;this._title.hasClass(P)||this.navigate(this._current,++e)},navigateDown:function(e){var t=this._index,n=this.options.depth;e&&(t!==K[n]?this.navigate(e,--t):fe(this._value,this._current)&&fe(this._value,e)||(this.value(e),this.trigger("change")))},navigate:function(n,view){view=isNaN(view)?K[view]:view;var r,o,l,c,h=this.options,d=h.culture,f=h.min,m=h.max,title=this._title,v=this._table,_=this._oldTable,w=this._current,y=n&&+n>+w,x=view!==t&&view!==this._index;if(n||(n=w),this._current=n=new Y(+ee(n,f,m)),view===t?view=this._index:this._index=view,this._view=o=X.views[view],l=o.compare,c=view===K.century,title.toggleClass(P,c).attr("aria-disabled",c),c=l(n,f)<1,this._prevArrow.toggleClass(P,c).attr("aria-disabled",c),this._prevArrow.hasClass(P)&&this._prevArrow.removeClass(F),c=l(n,m)>-1,this._nextArrow.toggleClass(P,c).attr("aria-disabled",c),this._nextArrow.hasClass(P)&&this._nextArrow.removeClass(F),v&&_&&_.data("animating")&&(_.kendoStop(!0,!0),v.kendoStop(!0,!0)),this._oldTable=v,!v||this._changeView){title.html(o.title(n,f,m,d)),this._table=r=e(o.content($({min:f,max:m,date:n,url:h.url,dates:h.dates,format:h.format,otherMonth:!0,culture:d,disableDates:h.disableDates,isWeekColumnVisible:h.weekNumber,messages:h.messages},this[o.name]))),ue(r,o.name),de(r);var k=v&&v.data("start")===r.data("start");this._animate({from:v,to:r,vertical:x,future:y,replace:k}),this.trigger("navigate"),this._focus(n)}view===K[h.depth]&&this._selectDates.length>0&&this._visualizeSelectedDatesInView(),"single"===this.options.selectable&&view===K[h.depth]&&this._value&&!this.options.disableDates(this._value)&&this._class("k-state-selected",this._value),this._class(z,n),!v&&this._cell&&this._cell.removeClass(z),this._changeView=!0},selectDates:function(n){var r,o,l=this;if(n===t)return l._selectDates;o=n.map((function(e){return e.getTime()})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(time){return new Date(time)})),r=e.grep(o,(function(e){if(e)return+l._validateValue(new Date(e.setHours(0,0,0,0)))==+e})),l._selectDates=r.length>0?r:0===o.length?o:l._selectDates,l._visualizeSelectedDatesInView()},value:function(e){var n=this._view,view=this._view;if(e===t)return this._value;if((e=this._validateValue(e))&&this._isMultipleSelection()){var r=new Date(+e);r.setHours(0,0,0,0),this._selectDates=[r],this.selectable._lastActive=null}n&&null===e&&this._cell?this._cell.removeClass("k-state-selected"):(this._changeView=!e||view&&0!==view.compare(e,this._current),this.navigate(e))},_validateValue:function(e){var n=this.options,r=n.min,o=n.max;return null===e&&(this._current=le(this._current.getFullYear(),this._current.getMonth(),this._current.getDate())),null!==(e=h(e,n.format,n.culture))&&(te(e=new Y(+e),r,o)||(e=null)),null!==e&&this.options.disableDates(new Date(+e))?this._value===t&&(this._value=null):this._value=e,this._value},_visualizeSelectedDatesInView:function(){var t={};e.each(this._selectDates,(function(e,r){t[n.calendar.views[0].toDateString(r)]=r})),this.selectable.clear();var r=this._table.find("td:has(.k-link)").filter((function(r,element){return t[e(element.firstChild).attr(n.attr(R))]}));r.length>0&&this.selectable._selectElement(r,!0)},_isMultipleSelection:function(){return"multiple"===this.options.selectable},_selectable:function(){if(this._isMultipleSelection()){var e=this.options.selectable,t=m.parseOptions(e);t.multiple&&this.element.attr("aria-multiselectable","true"),this.selectable=new m(this.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:t.multiple,filter:"table.k-month:eq(0) "+H,change:G(this._onSelect,this),relatedTarget:G(this._onRelatedTarget,this)})}},_onRelatedTarget:function(e){this.selectable.options.multiple&&e.is(H)&&(this._current=ge(e.find("a")),this._class(z,ge(e.find("a"))))},_onSelect:function(t){var n=this,r=t;m.parseOptions(n.options.selectable).multiple?(r.event.ctrlKey||r.event.metaKey?e(r.event.currentTarget).is(H)?n._toggleSelection(e(r.event.currentTarget)):(n._cellsBySelector(H).each((function(t,element){var r=ge(e(element).find("a"));n._deselect(r)})),n._addSelectedCellsToArray()):r.event.shiftKey?n._rangeSelection(n._cell):e(r.event.currentTarget).is("td:has(.k-link)")?n.value(ge(e(r.event.currentTarget).find("a"))):(n._selectDates=[],n._addSelectedCellsToArray()),n.trigger("change")):e(r.event.currentTarget).is("td")&&!e(r.event.currentTarget).hasClass("k-state-selected")?e(r.event.currentTarget).addClass("k-state-selected"):n._click(e(r.event.currentTarget).find("a"))},_destroySelectable:function(){this.selectable&&(this.selectable.destroy(),this.selectable=null)},_toggleSelection:function(e){var t=ge(e.find("a"));e.hasClass("k-state-selected")?this._selectDates.push(t):this._deselect(t)},_rangeSelection:function(e,t){var n,r=t||ge(this.selectable.value().first().find("a")),o=ge(e.find("a"));this.selectable._lastActive||this._value?r=this.selectable._lastActive?ge(this.selectable._lastActive.find("a")):new Date(+this._value):this.selectable._lastActive=t?this._cellByDate(this._view.toDateString(t),H):this.selectable.value().first(),this._selectDates=[],n=re(r,o),oe(this._selectDates,n,r,this.options.disableDates),this._visualizeSelectedDatesInView()},_cellsBySelector:function(e){return this._table.find(e)},_addSelectedCellsToArray:function(){var t=this;t.selectable.value().each((function(n,r){var o=ge(e(r.firstChild));t.options.disableDates(o)||t._selectDates.push(o)}))},_deselect:function(e){var t=this._selectDates.map(Number).indexOf(+e);-1!=t&&this._selectDates.splice(t,1)},_dateInView:function(e){var t=ge(this._cellsBySelector(H+":first").find("a"));return+e<=+ge(this._cellsBySelector(H+":last").find("a"))&&+e>=+t},_isNavigatable:function(e,t){var n,r=this.options.disableDates;return"month"==this._view.name?!r(e):(n=this.wrapper.find("."+z).index(),this.wrapper.find(".k-content td:eq("+(n+t)+")").is(H)||!r(e))},_move:function(r){var o,l,h,d,f=this.options,m=r.keyCode,view=this._view,v=this._index,_=this.options.min,w=this.options.max,y=new Y(+this._current),x=n.support.isRtl(this.wrapper),k=this.options.disableDates;if(r.target===this._table[0]&&(this._active=!0),m==c.RIGHT&&!x||m==c.LEFT&&x?(o=1,l=!0):m==c.LEFT&&!x||m==c.RIGHT&&x?(o=-1,l=!0):m==c.UP?(o=0===v?-7:-4,l=!0):m==c.DOWN?(o=0===v?7:4,l=!0):m==c.SPACEBAR?(o=0,l=!0):m!=c.HOME&&m!=c.END||(d=view[h=m==c.HOME?"first":"last"](y),(y=new Y(d.getFullYear(),d.getMonth(),d.getDate(),y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())).setFullYear(d.getFullYear()),l=!0),r.ctrlKey||r.metaKey){if(m==c.RIGHT&&!x||m==c.LEFT&&x)this.navigateToFuture(),l=!0;else if(m==c.LEFT&&!x||m==c.RIGHT&&x)this.navigateToPast(),l=!0;else if(m==c.UP)this.navigateUp(),l=!0;else if(m==c.DOWN)this._click(e(this._cell[0].firstChild)),l=!0;else if((m==c.ENTER||m==c.SPACEBAR)&&this._isMultipleSelection()){this._keyboardToggleSelection(r);var C=ge(e(this._cell[0]).find("a"));this._class(z,C)}}else r.shiftKey?(o!==t||h)&&(h||view.setDate(y,o),te(y,_,w)||(y=ee(y,f.min,f.max)),k(y)&&(y=this._nextNavigatable(y,o)),_=le(_.getFullYear(),_.getMonth(),_.getDate()),this._isMultipleSelection()?this._keyboardRangeSelection(r,y):this._focus(y)):(m==c.ENTER||m==c.SPACEBAR?("month"==view.name&&this._isMultipleSelection()?(this.value(ge(e(this._cell.find("a")))),this.selectable._lastActive=e(this._cell[0]),this.trigger("change")):this._click(e(this._cell[0].firstChild)),l=!0):m==c.PAGEUP?(l=!0,this.navigateToPast()):m==c.PAGEDOWN&&(l=!0,this.navigateToFuture()),(o||h)&&(h||view.setDate(y,o),te(y,_=le(_.getFullYear(),_.getMonth(),_.getDate()),w)||(y=ee(y,f.min,f.max)),this._isNavigatable(y,o)||(y=this._nextNavigatable(y,o)),this._isMultipleSelection()?this._dateInView(y)?(this._current=y,this._class(z,y)):this.navigate(y):this._focus(y)));return l&&r.preventDefault(),this._current},_keyboardRangeSelection:function(e,t){var n,r;if(!this._dateInView(t))return this._selectDates=[],r=re(n=this.selectable._lastActive?ge(this.selectable._lastActive.find("a")):t,new Date(+t)),oe(this._selectDates,r,n,this.options.disableDates),this.navigate(t),this._current=t,this.selectable._lastActive=this.selectable._lastActive||this._cellByDate(this._view.toDateString(t),H),void this.trigger("change");this.selectable.options.filter=this.wrapper.find("table").length>1&&+t>+this._current?"table.k-month:eq(1) "+H:"table.k-month:eq(0) "+H,this._class(z,t),this._current=t,this._rangeSelection(this._cellByDate(this._view.toDateString(t),H),t),this.trigger("change"),this.selectable.options.filter="table.k-month:eq(0) "+H},_keyboardToggleSelection:function(t){t.currentTarget=this._cell[0],this.selectable._lastActive=e(this._cell[0]),e(this._cell[0]).hasClass("k-state-selected")?(this.selectable._unselect(e(this._cell[0])),this.selectable.trigger("change",{event:t})):this.selectable.value(e(this._cell[0]),{event:t})},_nextNavigatable:function(e,t){var n=!0,view=this._view,r=this.options.min,o=this.options.max,l=this.options.disableDates,c=new Date(e.getTime());for(view.setDate(c,-t);n;){if(view.setDate(e,t),!te(e,r,o)){e=c;break}n=l(e)}return e},_animate:function(e){var t=e.from,n=e.to,r=this._active,o=this.element.children(".k-calendar-view");t?t.parent().data("animating")?(t.off(A),t.parent().kendoStop(!0,!0).remove(),t.remove(),o.append(n),this._focusView(r)):!t.is(":visible")||!1===this.options.animation||e.replace?(n.insertAfter(t),t.off(A).remove(),this._focusView(r)):this[e.vertical?"_vertical":"_horizontal"](t,n,e.future):(o.append(n),this._bindTable(n))},_horizontal:function(e,t,n){var r=this,o=r._active,l=r.options.animation.horizontal,c=l.effects,h=E(e);c&&-1!=c.indexOf("slideIn")&&(e.add(t).css({width:h}),e.wrap("<div/>"),r._focusView(o,e),e.parent().css({position:"relative",width:2*h,float:"left","margin-left":n?0:-h}),t[n?"insertAfter":"insertBefore"](e),$(l,{effects:"slideIn:"+(n?"right":"left"),complete:function(){e.off(A).remove(),r._oldTable=null,t.unwrap(),r._focusView(o)}}),e.parent().kendoStop(!0,!0).kendoAnimate(l))},_vertical:function(e,t){var n,r,o=this,l=o.options.animation.vertical,c=l.effects,h=o._active;c&&-1!=c.indexOf("zoom")&&(t.insertBefore(e),e.css({position:"absolute",width:t.width()}),y&&(r=(r=(n=o._cellByDate(o._view.toDateString(o._current))).position()).left+parseInt(n.width()/2,10)+"px "+(r.top+parseInt(n.height()/2,10))+"px",t.css(y,r)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(A).remove(),o._oldTable=null,o._focusView(h)}}),t.kendoStop(!0,!0).kendoAnimate(l))},_cellByDate:function(t,r){return this._table.find(r||"td:not(."+B+")").filter((function(){return e(this.firstChild).attr(n.attr(R))===t}))},_class:function(e,t){var n,r=this._cellID,o=this._cell,l=this._view.toDateString(t);o&&o.length&&(o[0].removeAttribute("aria-selected"),o[0].removeAttribute("aria-label"),o[0].removeAttribute("id")),t&&"month"==this._view.name&&(n=this.options.disableDates(t)),this._cellsBySelector(this._isMultipleSelection()?"td:has(.k-link)":"td:not(."+B+")").removeClass(e),o=this._cellByDate(l,"multiple"==this.options.selectable?"td:has(.k-link)":"td:not(."+B+")").attr("aria-selected",!0),(e===z&&!this._active&&!1!==this.options.focusOnNav||n)&&(e=""),o.addClass(e),o[0]&&(this._cell=o),r&&(o.attr("id",r),this._table[0].removeAttribute("aria-activedescendant"),this._table.attr("aria-activedescendant",r))},_bindTable:function(table){table.on(V,this._addClassProxy).on(N,this._removeClassProxy)},_click:function(link){var e=this.options,t=new Date(+this._current),n=ge(link);d(n,0),"month"==this._view.name&&this.options.disableDates(n)&&(n=this._value),this._view.setDate(t,n),this.navigateDown(ee(t,e.min,e.max))},_focus:function(e){0!==this._view.compare(e,this._current)?this.navigate(e):(this._current=e,this._class(z,e))},_focusView:function(e,table){e&&this.focus(table)},_viewWrapper:function(){var element=this.element,t=element.children(".k-calendar-view");t[0]||(t=e("<div class='k-calendar-view' />").insertAfter(element.find(".k-header")))},_footer:function(template){var t=Z(),element=this.element,footer=element.find(".k-footer");if(!template)return this._toggle(!1),void footer.hide();footer[0]||(footer=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(element)),this._today=footer.show().find(".k-link").html(template(t)).attr("title",n.toString(t,"D",this.options.culture)),this._toggle()},_header:function(){var e,t=this,element=t.element;element.find(".k-header")[0]||element.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" aria-label="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" aria-label="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'),e=element.find(".k-link").on(U+" "+j+" "+V+" "+N,se).on("click",(function(){return!1})),t._title=e.eq(1).on(I,(function(){t._active=!1!==t.options.focusOnNav,t.navigateUp()})),t._prevArrow=e.eq(0).on(I,(function(){t._active=!1!==t.options.focusOnNav,t.navigateToPast()})),t._nextArrow=e.eq(2).on(I,(function(){t._active=!1!==t.options.focusOnNav,t.navigateToFuture()}))},_navigate:function(e,t){var n=this._index+1,r=new Y(+this._current);this._isMultipleSelection()&&(r=ge(this._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first().find("a")),this._current=new Date(+r)),(e=this[e]).hasClass(P)||(n>3?r.setFullYear(r.getFullYear()+100*t):X.views[n].setDate(r,t),this.navigate(r))},_option:function(option,e){var n,r,o,l=this.options,c=this._value||this._current;if(e===t)return l[option];(e=h(e,l.format,l.culture))&&(l[option]=new Y(+e),((n="min"===option?e>c:c>e)||(o=e,!!(r=c)&&r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()))&&(n&&(this._value=null),this._changeView=!0),this._changeView||(this._changeView=!(!l.month.content&&!l.month.empty)),this.navigate(this._value),this._toggle())},_toggle:function(e){var n=this.options,r=this.options.disableDates(Z()),link=this._today;e===t&&(e=te(Z(),n.min,n.max)),link&&(link.off(I),e&&!r?link.addClass("k-nav-today").removeClass(P).on(I,G(this._todayClick,this)):link.removeClass("k-nav-today").addClass(P).on(I,ae))},_todayClick:function(e){var t=K[this.options.depth],n=this.options.disableDates,r=Z();e.preventDefault(),n(r)||(0===this._view.compare(this._current,r)&&this._index==t&&(this._changeView=!1),this._isMultipleSelection()&&(this._selectDates=[r],this.selectable._lastActive=null),this._value=r,this.navigate(r,t),this.trigger("change"))},_templates:function(){var e=this.options,footer=e.footer,t=e.month,content=t.content,r=t.weekNumber,o=t.empty,l='#= kendo.toString(data,"D","'+e.culture+'") #';this.month={content:template('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+n.attr(R)+'="#=data.dateString#" title="#=data.title#">'+(content||"#=data.value#")+"</a></td>",{useWithBlock:!!content}),empty:template('<td role="gridcell">'+(o||"&nbsp;")+"</td>",{useWithBlock:!!o}),weekNumber:template('<td class="k-alt">'+(r||"#= data.weekNumber #")+"</td>",{useWithBlock:!!r})},footer&&!0!==footer&&(l=footer),this.footer=!1!==footer?template(l,{useWithBlock:!1}):null}});o.plugin(Q);var X={firstDayOfMonth:function(e){return le(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){var r=(t=t||n.culture().calendar).firstDay,o=new Y(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());for(o.setFullYear(e.getFullYear());o.getDay()!=r;)X.setTime(o,-864e5);return o},setTime:function(e,time){var t=e.getTimezoneOffset(),n=new Y(e.getTime()+time),r=n.getTimezoneOffset()-t;e.setTime(n.getTime()+6e4*r)},views:[{name:M,title:function(e,t,n,r){return ce(r).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=0,r=e.min,o=e.max,l=e.date,c=e.dates,h=e.format,m=e.culture,v=e.url,_=e.showHeader,w=e.otherMonth,y=e.isWeekColumnVisible,x=v&&c[0],k=ce(m),C=k.firstDay,S=k.days,T=ie(S.names,C),D=ie(S.namesShort,C),E=X.firstVisibleDay(l,k),A=this.first(l),I=this.last(l),M=this.toDateString,R=Z(),html='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+M(E)+'">';for(html+=_?'<caption class="k-month-header">'+this.title(l,r,o,m)+'</caption><thead><tr role="row">':'<thead><tr role="row">',y&&(html+='<th scope="col" class="k-alt">'+e.messages.weekColumnHeader+"</th>");t<7;t++)html+='<th scope="col" title="'+T[t]+'">'+D[t]+"</th>";return d(R,0),R=+R,view({cells:42,perRow:7,html:html+='</tr></thead><tbody><tr role="row">',start:E,isWeekColumnVisible:y,weekNumber:e.weekNumber,min:le(r.getFullYear(),r.getMonth(),r.getDate()),max:le(o.getFullYear(),o.getMonth(),o.getDate()),otherMonth:w,content:e.content,lastDayOfMonth:I,empty:e.empty,setter:this.setDate,disableDates:e.disableDates,build:function(e,t,r){var o=[],l=e.getDay(),d="",f="#";return(e<A||e>I)&&o.push(B),r(e)&&o.push(P),+e===R&&o.push("k-today"),0!==l&&6!==l||o.push("k-weekend"),x&&function(e,t){for(var i=0,n=t.length;i<n;i++)if(e===+t[i])return!0;return!1}(+e,c)&&(f=v.replace("{0}",n.toString(e,h,m)),d=" k-action-link"),{date:e,dates:c,ns:n.ns,title:n.toString(e,"D",m),value:e.getDate(),dateString:M(e),cssClass:o[0]?' class="'+o.join(" ")+'"':"",linkClass:d,url:f}},weekNumberBuild:function(e){return{weekNumber:f(e,n.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return X.firstDayOfMonth(e)},last:function(e){var t=le(e.getFullYear(),e.getMonth()+1,0),n=X.firstDayOfMonth(e),r=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return r&&t.setHours(n.getHours()+r/60),t},compare:function(e,t){var n=e.getMonth(),r=e.getFullYear(),o=t.getMonth(),l=t.getFullYear();return r>l?1:r<l?-1:n==o?0:n>o?1:-1},setDate:function(e,t){var n=e.getHours();t instanceof Y?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):X.setTime(e,864e5*t),d(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=ce(e.culture).months.namesAbbr,r=this.toDateString,o=e.min,l=e.max,html="";return e.showHeader&&(html+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',html+=this.title(e.date),html+='</caption><tbody><tr role="row">'),view({min:le(o.getFullYear(),o.getMonth(),1),max:le(l.getFullYear(),l.getMonth(),1),start:le(e.date.getFullYear(),0,1),html:html,setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:n.ns,dateString:r(e),cssClass:""}}})},first:function(e){return le(e.getFullYear(),0,e.getDate())},last:function(e){return le(e.getFullYear(),11,e.getDate())},compare:function(e,t){return J(e,t)},setDate:function(e,t){var n,r=e.getHours();t instanceof Y?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),d(e,r)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,n){return title(e,t,n,10)},content:function(e){var t=e.date.getFullYear(),r=this.toDateString,html="";return e.showHeader&&(html+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',html+=this.title(e.date,e.min,e.max),html+='</caption><tbody><tr role="row">'),view({start:le(t-t%10-1,0,1),min:le(e.min.getFullYear(),0,1),max:le(e.max.getFullYear(),0,1),otherMonth:e.otherMonth,html:html,setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:n.ns,dateString:r(e),cssClass:0===t||11==t?L:""}}})},first:function(e){var t=e.getFullYear();return le(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return le(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return J(e,t,10)},setDate:function(e,t){ne(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:"century",title:function(e,t,n){return title(e,t,n,100)},content:function(e){var t=e.date.getFullYear(),r=e.min.getFullYear(),o=e.max.getFullYear(),l=this.toDateString,c=r,h=o,html="";return(h-=h%10)-(c-=c%10)<10&&(h=c+9),e.showHeader&&(html+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',html+=this.title(e.date,e.min,e.max),html+='</caption><tbody><tr role="row">'),view({start:le(t-t%100-10,0,1),min:le(c,0,1),max:le(h,0,1),otherMonth:e.otherMonth,html:html,setter:this.setDate,build:function(e,t){var c=e.getFullYear(),h=c+9;return c<r&&(c=r),h>o&&(h=o),{ns:n.ns,value:c+" - "+h,dateString:l(e),cssClass:0===t||11==t?L:""}}})},first:function(e){var t=e.getFullYear();return le(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return le(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return J(e,t,100)},setDate:function(e,t){ne(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]};function title(e,t,n,r){var o,l=e.getFullYear(),c=t.getFullYear(),h=n.getFullYear();return o=(l-=l%r)+(r-1),l<c&&(l=c),o>h&&(o=h),l+"-"+o}function view(e){var data,t=0,n=e.min,r=e.max,o=e.start,l=e.setter,c=e.build,h=e.weekNumberBuild,f=e.cells||12,m=e.isWeekColumnVisible,v=e.perRow||4,_=e.otherMonth,w=e.lastDayOfMonth,y=e.weekNumber||S,content=e.content||x,T=e.empty||k,D=e.otherMonthCellTemplate||C,html=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(m&&(html+=y(h(o)));t<f;t++)t>0&&t%v==0&&(html+='</tr><tr role="row">',m&&(html+=y(_||+o<=+w?h(o):{weekNumber:"&nbsp;"}))),o=le(o.getFullYear(),o.getMonth(),o.getDate()),d(o,0),html+=-1===(data=c(o,t,e.disableDates)).cssClass.indexOf(B)||_?te(o,n,r)?content(data):T(data):D(data),l(o,1);return html+"</tr></tbody></table>"}function J(e,t,n){var r=e.getFullYear(),o=t.getFullYear(),l=o,c=0;return n&&(l=(o-=o%n)-o%n+n-1),r>l?c=1:r<o&&(c=-1),c}function Z(){var e=new Y;return new Y(e.getFullYear(),e.getMonth(),e.getDate())}function ee(e,t,n){var r=Z();return e&&(r=new Y(+e)),t>r?r=new Y(+t):n<r&&(r=new Y(+n)),r}function te(e,t,n){return+e>=+t&&+e<=+n}function ie(e,t){return e.slice(t).concat(e.slice(0,t))}function ne(e,t,n){t=t instanceof Y?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t)}function re(e,t){if(+t<+e){var r=+e;X.views[0].setDate(e,t),X.views[0].setDate(t,new Date(r))}var o=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),l=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+l-+o)/n.date.MS_PER_DAY)}function oe(e,t,n,r){for(var i=0;i<=t;i++){var o=new Date(n.getTime());r(o=new Date(o.setDate(o.getDate()+i)))||e.push(o)}}function se(t){e(this).hasClass("k-state-disabled")||e(this).toggleClass(F,W.indexOf(t.type)>-1||t.type==O)}function ae(e){e.preventDefault()}function le(e,t,n){var r=new Y(e,t,n);return r.setFullYear(e,t,n),r}function ce(e){return _(e).calendars.standard}function he(e){var n=K[e.start],r=K[e.depth],o=_(e.culture);e.format=v(e.format||o.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=M),(r===t||r>n)&&(e.depth=M),null===e.dates&&(e.dates=[])}function de(element){D&&element.find("*").attr("unselectable","on")}function ue(element,e){element.addClass("k-"+e)}function pe(option){return n.isFunction(option)?option:e.isArray(option)?function(t){var body,n=[],r=["su","mo","tu","we","th","fr","sa"];if(t[0]instanceof Y)n=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].setHours(0,0,0,0));return t}(t),body="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+n+"]) > -1;if (found) { return true } else {return false}";else{for(var i=0;i<t.length;i++){var o=t[i].slice(0,2).toLowerCase(),l=e.inArray(o,r);l>-1&&n.push(l)}body="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+n+"]) > -1;if (found) { return true } else {return false}"}return new Function("date",body)}(option):e.noop}function fe(e,t){return e instanceof Date&&t instanceof Date&&(e=e.getTime(),t=t.getTime()),e===t}function ge(link){var t=e(link).attr(n.attr(R)).split("/");return t=le(t[0],t[1],t[2])}X.isEqualDatePart=function(e,t){return!!e&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},X.isEqualDate=fe,X.makeUnselectable=de,X.restrictValue=ee,X.isInRange=te,X.addClassToViewContainer=ue,X.normalize=he,X.viewsEnum=K,X.disabled=pe,X.toDateObject=ge,X.getToday=Z,X.createDate=le,n.calendar=X}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1031:function(e,t){e.exports=n(40)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1046)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1046:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=e.proxy,c=o.extend({init:function(element,e){var link;o.fn.init.call(this,element,e),this._refreshHandler=l(this.refresh,this),this.dataSource=this.options.dataSource.bind("change",this._refreshHandler),this.directions="asc"===this.options.initialDirection?["asc","desc"]:["desc","asc"],(link=this.element.find(".k-link"))[0]||(link=this.element.wrapInner('<a class="k-link" href="#"/>').find(".k-link")),this.link=link,this.element.on("click.kendoColumnSorter",l(this._click,this))},options:{name:"ColumnSorter",mode:"single",allowUnsort:!0,compare:null,filter:"",initialDirection:"asc",showIndexes:!1},events:["change"],destroy:function(){o.fn.destroy.call(this),this.element.off(".kendoColumnSorter"),this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=this.element=this.link=this.dataSource=null},refresh:function(){var r,o,l,c,h,d,f=this.dataSource.sort()||[],element=this.element,m=element.attr(n.attr("field"));for(element.removeAttr(n.attr("dir")),element.removeAttr("aria-sort"),r=0,o=f.length;r<o;r++)m==(l=f[r]).field&&(element.attr(n.attr("dir"),l.dir),d=r+1);if(c=element.attr(n.attr("dir")),element.is("th")){var table=element.closest("table");table.parent().hasClass("k-grid-header-wrap")?table=table.closest(".k-grid").find(".k-grid-content > table"):table.parent().hasClass("k-grid-header-locked")?table=table.closest(".k-grid").find(".k-grid-content-locked > table"):table.parent().hasClass("k-grid")||(table=null),table&&(h=element.attr(n.attr("index"))?function(r){var o=r.find("tr:not(.k-filter-row)"),filter=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},l=e();o.length>1&&(l=o.find("th:visible").filter(filter).filter((function(){return this.rowSpan>1}))),l=l.add(o.last().find("th:visible").filter(filter));var c=n.attr("index");return l.sort((function(a,b){a=e(a),b=e(b);var n=a.attr(c),r=b.attr(c);return n===t&&(n=e(a).index()),r===t&&(r=e(b).index()),(n=parseInt(n,10))>(r=parseInt(r,10))?1:n<r?-1:0})),l}(element.closest(".k-grid-header")).index(element):element.parent().children(":visible").index(element),element.toggleClass("k-sorted",c!==t),table.children("colgroup").children(":not(.k-group-col):not(.k-hierarchy-col)").eq(h).toggleClass("k-sorted",c!==t))}element.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove(),"asc"===c?(e('<span class="k-icon k-i-sort-asc-sm" />').appendTo(this.link),element.attr("aria-sort","ascending")):"desc"===c&&(e('<span class="k-icon k-i-sort-desc-sm" />').appendTo(this.link),element.attr("aria-sort","descending")),this.options.showIndexes&&f.length>1&&d&&e('<span class="k-sort-order" />').html(d).appendTo(this.link)},_toggleSortDirection:function(e){var n=this.directions;return e===n[n.length-1]&&this.options.allowUnsort?t:n[0]===e?n[1]:n[0]},_click:function(e){var r,o,element=this.element,l=element.attr(n.attr("field")),c=element.attr(n.attr("dir")),h=this.options,d=null===this.options.compare?t:this.options.compare,f=this.dataSource.sort()||[];if(e.preventDefault(),(!h.filter||element.is(h.filter))&&(c=this._toggleSortDirection(c),!this.trigger("change",{sort:{field:l,dir:c,compare:d}}))){if("single"===h.mode)f=[{field:l,dir:c,compare:d}];else if("multiple"===h.mode){for(r=0,o=f.length;r<o;r++)if(f[r].field===l){f.splice(r,1);break}f.push({field:l,dir:c,compare:d})}this.dataSource.options.endless&&(this.dataSource.options.endless=null,element.closest(".k-grid").getKendoGrid()._endlessPageSize=this.dataSource.options.pageSize,this.dataSource.pageSize(this.dataSource.options.pageSize)),this.dataSource.sort(f)}}});r.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1124)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1123:function(e,t){e.exports=n(32)},1124:function(e,t,n){var r,o,l;n(3),o=[n(1123),n(1125)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.TimeView,o=n.parseDate,l=n.support,c=n._activeElement,h=n._extractFormat,d=n.calendar,f=d.isInRange,m=d.restrictValue,v=d.isEqualDatePart,_=r.getMilliseconds,w=n.ui,y=w.Widget,x=".kendoDateTimePicker",k=l.mouseAndTouchPresent?n.applyEventMap("up",x.slice(1)):"click.kendoDateTimePicker",C="k-state-default",S="mousedown"+x,T=Date,D=new T(1800,0,1),E=new T(2099,11,31),A={view:"date"},I={view:"time"},M=e.extend,R=y.extend({init:function(element,t){y.fn.init.call(this,element,t),element=this.element,(t=this.options).disableDates=n.calendar.disabled(t.disableDates),t.min=o(element.attr("min"))||o(t.min),t.max=o(element.attr("max"))||o(t.max),z(t),this._initialOptions=M({},t),this._wrapper(),this._views(),this._icons(),this._reset(),this._template();try{element[0].setAttribute("type","text")}catch(e){element[0].type="text"}element.addClass("k-input").attr({role:"combobox","aria-expanded":!1,autocomplete:"off"}),this._midnight=this._calculateMidnight(t.min,t.max),element.is("[disabled]")||e(this.element).parents("fieldset").is(":disabled")?this.enable(!1):this.readonly(element.is("[readonly]")),this._createDateInput(t),this._old=this._update(t.value||this.element.val()),this._oldText=element.val(),n.notify(this)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],disableDates:null,min:new T(D),max:new T(E),interval:30,height:200,footer:"",start:"month",depth:"month",animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#',dateButtonText:"Open the date view",timeButtonText:"Open the time view",dateInput:!1,weekNumber:!1},events:["open","close","change"],setOptions:function(e){var t,r,l,c=this._value;y.fn.setOptions.call(this,e),(e=this.options).min=t=o(e.min),e.max=r=o(e.max),z(e),this._midnight=this._calculateMidnight(e.min,e.max),l=e.value||this._value||this.dateView._current,t&&!v(t,l)&&(t=new T(D)),r&&!v(r,l)&&(r=new T(E)),this.dateView.setOptions(e),this.timeView.setOptions(M({},e,{format:e.timeFormat,min:t,max:r})),this._createDateInput(e),this._dateInput||this.element.val(n.toString(c,e.format,e.culture)),c&&this._updateARIA(c)},_editable:function(t){var r=this,element=r.element.off(x),o=r._dateIcon.off(x),l=r._timeIcon.off(x),c=r._inputWrapper.off(x),h=t.readonly,d=t.disable;h||d?(c.addClass(d?"k-state-disabled":C).removeClass(d?C:"k-state-disabled"),element.attr("disabled",d).attr("readonly",h).attr("aria-disabled",d)):(c.addClass(C).removeClass("k-state-disabled").on("mouseenter.kendoDateTimePicker mouseleave.kendoDateTimePicker",r._toggleHover),element&&element.length&&(element[0].removeAttribute("disabled"),element[0].removeAttribute("readonly",!1),element[0].removeAttribute("aria-disabled",!1)),element.on("keydown"+x,e.proxy(r._keydown,r)).on("focus"+x,(function(){r._inputWrapper.addClass("k-state-focused")})).on("focusout"+x,(function(){r._inputWrapper.removeClass("k-state-focused"),element.val()!==r._oldText&&(r._change(element.val()),element.val()||r.dateView.current(n.calendar.getToday())),r.close("date"),r.close("time")})),o.on(S,P).on(k,(function(e){r.toggle("date"),r._focusElement(e.type)})),l.on(S,P).on(k,(function(e){r.toggle("time"),r._focusElement(e.type)})))},_focusElement:function(e){var element=this.element;l.touch&&(!l.mouseAndTouchPresent||(e||"").match(/touch/i))||element[0]===c()||element.trigger("focus")},readonly:function(e){this._editable({readonly:void 0===e||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=void 0===e||e)})},destroy:function(){y.fn.destroy.call(this),this.dateView.destroy(),this.timeView.destroy(),this.element.off(x),this._dateIcon.off(x),this._timeIcon.off(x),this._inputWrapper.off(x),this._form&&this._form.off("reset",this._resetHandler)},close:function(view){"time"!==view&&(view="date"),this[view+"View"].close()},open:function(view){"time"!==view&&(view="date"),this[view+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(view){var e="timeView";"time"!==view?view="date":e="dateView",this[view+"View"].toggle(),this[e].close()},value:function(e){if(void 0===e)return this._value;this._old=this._update(e),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_change:function(e){var t,n=this.element.val();e=this._update(e);var r=(t=+this._old!=+e)&&!this._typing,o=n!==this.element.val();(r||o)&&this.element.trigger("change"),t&&(this._old=e,this._oldText=this.element.val(),this.trigger("change")),this._typing=!1},_option:function(option,e){var t,n,r=this.options,l=this.timeView,c=l.options,h=this._value||this._old;if(void 0===e)return r[option];if(e=o(e,r.parseFormats,r.culture)){if(r.min.getTime()===r.max.getTime()&&(c.dates=[]),r[option]=new T(e.getTime()),this.dateView[option](e),this._midnight=this._calculateMidnight(r.min,r.max),h&&(t=v(r.min,h),n=v(r.max,h)),t||n){if(c[option]=e,t&&!n&&(c.max=F(r.interval)),n){if(this._midnight)return void l.dataBind([E]);t||(c.min=D)}}else c.max=E,c.min=D;l.bind()}},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_update:function(t){var r,l,c,h,d,_=this.options,w=_.min,y=_.max,x=_.dates,k=this.timeView,C=this._value,S=o(t,_.parseFormats,_.culture),T=null===S&&null===C||S instanceof Date&&C instanceof Date;return _.disableDates&&_.disableDates(S)&&(S=null,this._old||this.element.val()||(t=null)),+S==+C&&T?((d=n.toString(S,_.format,_.culture))!==t&&(this.element.val(null===S?t:d),t instanceof String&&this.element.trigger("change")),S):(null!==S&&v(S,w)?S=m(S,w,y):f(S,w,y)||(S=null),this._value=S,k.value(S),this.dateView.value(S),S&&(c=this._old,l=k.options,x[0]&&(x=e.grep(x,(function(e){return v(S,e)})))[0]&&(k.dataBind(x),h=!0),h||(v(S,w)&&(l.min=w,l.max=F(_.interval),r=!0),v(S,y)&&(this._midnight?(k.dataBind([E]),h=!0):(l.max=y,r||(l.min=D),r=!0))),!h&&(!c&&r||c&&!v(c,S))&&(r||(l.max=E,l.min=D),k.bind())),this._dateInput&&S?this._dateInput.value(S||t):this.element.val(n.toString(S||t,_.format,_.culture)),this._updateARIA(S),S)},_keydown:function(e){var t=this.dateView,r=this.timeView,o=this.element.val(),l=t.popup.visible(),c=this._dateInput&&e.stopImmediatePropagation;e.altKey&&e.keyCode===n.keys.DOWN?this.toggle(l?"time":"date"):l?(t.move(e),this._updateARIA(t._current)):r.popup.visible()?r.move(e):e.keyCode===n.keys.ENTER&&o!==this._oldText?this._change(o):(this._typing=!0,c=!1),c&&e.stopImmediatePropagation()},_views:function(){var e,t,div,ul,l,c,h=this,element=h.element,d=h.options,m=element.attr("id");h.dateView=e=new n.DateView(M({},d,{id:m,anchor:h.wrapper,change:function(){var t,r,o=e.calendar.value(),l=+o,c=+d.min,m=+d.max;l!==c&&l!==m||(t=l===c?c:m,(t=new T(h._value||t)).setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),f(t,c,m)&&(o=t)),h._value&&(r=n.date.setHours(new Date(o),h._value),f(r,c,m)&&(o=r)),h._change(o),h.close("date")},close:function(e){h.trigger("close",A)?e.preventDefault():(element.attr("aria-expanded",!1),div.attr("aria-hidden",!0),t.popup.visible()||element&&element.length&&element[0].removeAttribute("aria-owns"))},open:function(t){h.trigger("open",A)?t.preventDefault():(element.val()!==h._oldText&&(c=o(element.val(),d.parseFormats,d.culture),h.dateView[c?"current":"value"](c)),div.attr("aria-hidden",!1),element.attr("aria-expanded",!0).attr("aria-owns",e._dateViewID),h._updateARIA(c))}})),div=e.div,l=d.min.getTime(),h.timeView=t=new r({id:m,value:d.value,anchor:h.wrapper,animation:d.animation,format:d.timeFormat,culture:d.culture,height:d.height,interval:d.interval,min:new T(D),max:new T(E),dates:l===d.max.getTime()?[new Date(l)]:[],parseFormats:d.parseFormats,change:function(r,o){(r=t._parse(r))<d.min?(r=new T(+d.min),t.options.min=r):r>d.max&&(r=new T(+d.max),t.options.max=r),o?(h._timeSelected=!0,h._change(r)):(element.val(n.toString(r,d.format,d.culture)),e.value(r),h._updateARIA(r))},close:function(t){h.trigger("close",I)?t.preventDefault():(ul.attr("aria-hidden",!0),element.attr("aria-expanded",!1),e.popup.visible()||element&&element.length&&element[0].removeAttribute("aria-owns"))},open:function(e){t._adjustListWidth(),h.trigger("open",I)?e.preventDefault():(element.val()!==h._oldText&&(c=o(element.val(),d.parseFormats,d.culture),h.timeView.value(c)),ul.attr("aria-hidden",!1),element.attr("aria-expanded",!0).attr("aria-owns",t._timeViewID),t.options.active(t.current()))},active:function(e){element&&element.length&&element[0].removeAttribute("aria-activedescendant"),e&&element.attr("aria-activedescendant",t._optionID)},popup:d.popup,useValueToRender:!0}),ul=t.ul},_icons:function(){var t,element=this.element,n=this.options;(t=element.next("span.k-select"))[0]||(t=e('<span unselectable="on" class="k-select"><span class="k-link k-link-date" aria-label="'+n.dateButtonText+'"><span unselectable="on" class="k-icon k-i-calendar"></span></span><span class="k-link k-link-time" aria-label="'+n.timeButtonText+'"><span unselectable="on" class="k-icon k-i-clock"></span></span></span>').insertAfter(element)),t=t.children(),this._dateIcon=t.eq(0).attr("aria-controls",this.dateView._dateViewID),this._timeIcon=t.eq(1).attr("aria-controls",this.timeView._timeViewID)},_wrapper:function(){var t,element=this.element;(t=element.parents(".k-datetimepicker"))[0]||(t=(t=element.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default")).wrap("<span/>").parent()),t[0].style.cssText=element[0].style.cssText,element.css({width:"100%",height:element[0].style.height}),this.wrapper=t.addClass("k-widget k-datetimepicker").addClass(element[0].className),this._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){t.value(element[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=form.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=n.template(this.options.ARIATemplate)},_createDateInput:function(e){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),e.dateInput&&(this._dateInput=new w.DateInput(this.element,{culture:e.culture,format:e.format,min:e.min,max:e.max,interval:e.interval}))},_calculateMidnight:function(e,t){return _(e)+_(t)===0},_updateARIA:function(e){var t,n=this.dateView.calendar;this.element&&this.element.length&&this.element[0].removeAttribute("aria-activedescendant"),n&&((t=n._cell).attr("aria-label",this._ariaTemplate({current:e||n.current()})),this.element.attr("aria-activedescendant",t.attr("id")))}});function F(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t}function P(e){e.preventDefault()}function z(t){var r,o=n.getCulture(t.culture).calendars.standard.patterns,l=!t.parseFormats.length;t.format=h(t.format||o.g),t.timeFormat=r=h(t.timeFormat||o.t),n.DateView.normalize(t),l&&t.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"),-1===e.inArray(r,t.parseFormats)&&t.parseFormats.push(r)}w.plugin(R)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1125:function(e,t){e.exports=n(185)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1126)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1039:function(e,t){e.exports=n(4)},1126:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1039)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=window.kendo,o=r.ui.Widget,l=r.ui.Popup.TabKeyTrap,c=e.proxy,template=r.template,h=r.keys,d=e.isFunction,f="kendoWindow",m="k-dialog-titleless",v=".k-dialog-buttongroup",_={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"},w=r.support.cssFlexbox,y=Math.ceil;function x(e){return void 0!==e}function k(e,t,n){return Math.max(Math.min(parseInt(e,10),n===1/0?n:parseInt(n,10)),parseInt(t,10))}function C(e){return e.keyCode==h.ENTER||e.keyCode==h.SPACEBAR}var S=o.extend({init:function(element,e){o.fn.init.call(this,element,e),this._init(this.element,this.options),r.notify(this)},_init:function(element,t){var r;this._centerCallback=c(this._center,this),this.appendTo=e("body"),x(t.visible)&&null!==t.visible||(t.visible=element.is(":visible")),void 0===this.wrapperTemplate&&(this.wrapperTemplate=n.wrapper),this._createDialog(),r=this.wrapper=element.closest(".k-dialog"),void 0===t._defaultFocus&&(this._defaultFocus=element[0]),this._tabindex(element),this._dimensions(),this._tabKeyTrap=new l(r),this.options.visible?this._triggerOpen():this.wrapper.hide()},setOptions:function(t){var n=this.options.size;if(t=e.extend(this.options,t),o.fn.setOptions.call(this,t),void 0!==t.title&&this.title(t.title),t.content&&(r.destroy(this.element.children()),this.element.html(t.content)),t.actions&&(this.wrapper.children(v).remove(),this._createActionbar(this.wrapper)),this.wrapper.show(),this._closable(this.wrapper),this.wrapper.removeClass(_[n]),this._dimensions(),t.visible?this._triggerOpen():this.wrapper.hide(),void 0!==t.modal){var l=!1!==this.options.visible;this._enableDocumentScrolling(),this._overlay(t.modal&&l)}},_dimensions:function(){for(var e=this.wrapper,t=this.options,n=t.width,r=t.height,o=t.size,l=["minWidth","minHeight","maxWidth","maxHeight"],i=0;i<l.length;i++){var c=t[l[i]];c&&c!=1/0&&e.css(l[i],c)}this._setElementMaxHeight(),n&&(n.toString().indexOf("%")>0?e.width(n):e.outerWidth(k(n,t.minWidth,t.maxWidth))),r&&(r.toString().indexOf("%")>0?e.height(r):e.outerHeight(k(r,t.minHeight,t.maxHeight)),this._setElementHeight()),o&&_[o]&&e.addClass(_[o])},_setElementMaxHeight:function(){var e,t,element=this.element,n=this.options.maxHeight;n!=1/0&&(e=this._paddingBox(element),(t=parseFloat(n,10)-this._uiHeight()-e.vertical)>0&&element.css({maxHeight:y(t)+"px"}))},_paddingBox:function(element){var e=parseFloat(element.css("padding-top"),10),t=parseFloat(element.css("padding-left"),10);return{vertical:e+parseFloat(element.css("padding-bottom"),10),horizontal:t+parseFloat(element.css("padding-right"),10)}},_setElementHeight:function(){var element=this.element,e=this.options.height,t=this._paddingBox(element),n=parseFloat(e,10)-this._uiHeight()-t.vertical;n<0&&(n=0),element.css({height:y(n)+"px"}),this._applyScrollClassName(element)},_applyScrollClassName:function(element){element.get(0).scrollHeight>element.outerHeight()?element.addClass("k-scroll"):element.removeClass("k-scroll")},_uiHeight:function(){var e=this.wrapper,t=e.children(v),n=t[0]&&t[0].offsetHeight||0,r=e.children(".k-dialog-titlebar");return n+(r[0]&&r[0].offsetHeight||0)},_overlay:function(t){var r=this.appendTo.children(".k-overlay"),o=this.wrapper;return r.length||(r=e(n.overlay)),r.insertBefore(o[0]).toggle(t).css("zIndex",parseInt(o.css("zIndex"),10)-1),t?this._waiAriaOverlay():this._removeWaiAriaOverlay(),this.options.modal.preventScroll&&this._stopDocumentScrolling(),r},_waiAriaOverlay:function(){var t=this.wrapper;this._overlayedNodes=t.prevAll(":not(link,meta,script,style)").add(t.nextAll(":not(link,meta,script,style)")).each((function(){var t=e(this);t.data("ariaHidden",t.attr("aria-hidden")),t.attr("aria-hidden","true")}))},_removeWaiAriaOverlay:function(){return this._overlayedNodes&&this._overlayedNodes.each((function(){var t=e(this),n=t.data("ariaHidden");n?t.attr("aria-hidden",n):t.removeAttr("aria-hidden")}))},_closeClick:function(e){e.preventDefault(),this.close(!1)},_closeKeyHandler:function(e){(C(e)||e.keyCode==h.ESC)&&this.close(!1)},_keydown:function(e){var t=this.options;e.keyCode==h.ESC&&!this._closing&&t.closable&&this.close(!1)},_createDialog:function(){var content=this.element,t=this.options,o=r.support.isRtl(content),l=e(n.titlebar(t)),c=(content.id||r.guid())+"_title",h=e(this.wrapperTemplate(t));h.toggleClass("k-rtl",o),content.addClass("k-content k-window-content k-dialog-content"),this.appendTo.append(h),!1!==t.title?(h.append(l),l.attr("id",c),h.attr("aria-labelledby",c)):h.addClass(m),this._closable(h),h.append(content),t.content&&(r.destroy(content.children()),content.html(t.content)),t.actions.length&&this._createActionbar(h)},_closable:function(e){var t=this.options,r=e.children(".k-dialog-titlebar").find(".k-window-actions");(r.length?r.find(".k-dialog-close"):e.find(".k-dialog-close")).remove(),!1!==t.closable&&(!1!==t.title&&r.length?r.append(n.close(t)):e.prepend(n.close(t)),e.autoApplyNS(f),this.element.autoApplyNS(f),e.find(".k-dialog-close").on("click",c(this._closeClick,this)).on("keydown",c(this._closeKeyHandler,this)),this.element.on("keydown",c(this._keydown,this)))},_createActionbar:function(t){var r="stretched"===this.options.buttonLayout,o=r?"stretched":"normal",l=e(n.actionbar({buttonLayout:o}));this._addButtons(l),r&&!w&&this._normalizeButtonSize(l),t.append(l)},_addButtons:function(t){for(var r,text,o=this.options,l=c(this._actionClick,this),h=c(this._actionKeyHandler,this),d=this.options.actions,m=d.length,v=Math.round(100/m),i=0;i<m;i++){r=d[i],text=this._mergeTextWithOptions(r);var _=e(n.action(r)).autoApplyNS(f).html(text).appendTo(t).data("action",r.action).on("click",l).on("keydown",h);"stretched"!==o.buttonLayout||w||(i==m-1&&(v=100-i*v),_.css("width",v+"%"))}},_mergeTextWithOptions:function(e){var text=e.text;return text?template(text)(this.options):""},_normalizeButtonSize:function(e){var t=this.options,n=e.children(".k-button:last"),r=parseFloat(n[0]?n[0].style.width:0),o=100-t.actions.length*r;o>0&&n.css("width",r+o+"%")},_tabindex:function(e){var t=this.wrapper,n=t.find(".k-dialog-close"),r=t.find(v+" .k-button");o.fn._tabindex.call(this,e);var l=e.attr("tabindex");n.attr("tabIndex",l),r.attr("tabIndex",l)},_actionClick:function(e){this.wrapper.is(":visible")&&this._runActionBtn(e.currentTarget)},_actionKeyHandler:function(e){C(e)?this._runActionBtn(e.currentTarget):e.keyCode==h.ESC&&this.close(!1)},_runActionBtn:function(t){if(!this._closing){var n=e(t).data("action");d(n)&&!1===n({sender:this})||this.close(!1)}},_triggerOpen:function(){var e=this.options,t=this.wrapper;this.toFront(),this._triggerInitOpen(),this.trigger("open"),e.modal&&(this._overlay(t.is(":visible")).css({opacity:.5}),this._focusDialog())},open:function(){var e,t,n=this.wrapper,o=this._animationOptions("open"),l=this.options;if(this._triggerInitOpen(),!this.trigger("open")){if(this._closing&&n.kendoStop(!0,!0),this._closing=!1,this.toFront(),l.visible=!0,l.modal){if(t=!!this._modals().length,(e=this._overlay(t)).kendoStop(!0,!0),o.duration&&r.effects.Fade&&!t){var h=r.fx(e).fadeIn();h.duration(o.duration||0),h.endValue(.5),h.play()}else e.css("opacity",.5);e.show()}n.show().kendoStop().kendoAnimate({effects:o.effects,duration:o.duration,complete:c(this._openAnimationEnd,this)}),n.show()}return this},_animationOptions:function(e){var t=this.options.animation;return t&&t[e]||{open:{effects:{}},close:{hide:!0,effects:{}}}[e]},_openAnimationEnd:function(){this.options.modal&&this._focusDialog(),this.trigger("show")},_triggerInitOpen:function(){x(this._initOpenTriggered)||(this._initOpenTriggered=!0,this.trigger("initOpen"))},toFront:function(){var t=this.wrapper,n=+t.css("zIndex"),r=n;return this.center(),e(".k-window").each((function(i,element){var t=e(element).css("zIndex");isNaN(t)||(n=Math.max(+t,n))})),(!t[0].style.zIndex||r<n)&&t.css("zIndex",n+2),this.element.find("> .k-overlay").remove(),t=null,this},close:function(e){return arguments.length||(e=!0),this._close(e),this._stopCenterOnResize(),this},_close:function(e){var t=this.wrapper,n=this.options,r=this._animationOptions("open"),o=this._animationOptions("close");if(t.is(":visible")&&!this.trigger("close",{userTriggered:!e})){if(this._closing)return;this._closing=!0,n.visible=!1,this._removeOverlay(),t.kendoStop().kendoAnimate({effects:o.effects||r.effects,reverse:!0===o.reverse,duration:o.duration,complete:c(this._closeAnimationEnd,this)})}return this},center:function(){this._center(),this._centerOnResize()},_center:function(){var t=this.wrapper,n=e(window),r=0+Math.max(0,(n.width()-t.width())/2),o=0+Math.max(0,(n.height()-t.height()-parseInt(t.css("paddingTop"),10))/2);return t.css({left:r,top:o}),this},_centerOnResize:function(){this._trackResize||(r.onResize(this._centerCallback),this._trackResize=!0)},_stopCenterOnResize:function(){r.unbindResize(this._centerCallback),this._trackResize=!1},_removeOverlay:function(){var e=this._modals(),t=this.options;t.modal&&!e.length?(this._overlay(!1).remove(),t.modal.preventScroll&&this._enableDocumentScrolling()):e.length&&(this._object(e.last())._overlay(!0),t.modal.preventScroll&&this._stopDocumentScrolling())},_stopDocumentScrolling:function(){var t=e("body");this._storeOverflowRule(t),t.css("overflow","hidden");var n=e("html"),html=n[0];this._storeOverflowRule(n),n.css("overflow","hidden"),r.support.mobileOS.ios&&(html.addEventListener("touchstart",this._touchStart,{passive:!1}),html.addEventListener("touchmove",this._touchMove,{passive:!1}))},_touchStart:function(t){e(this).data("tap-y",t.changedTouches[0].pageY)},_touchMove:function(t){var n=t.target,r=e(t.target),o=t.changedTouches[0].pageY-e(this).data("tap-y")>0,l=r.is(".k-window-content")&&o&&0===r.scrollTop()||!o&&r.scrollTop()===n.scrollHeight-n.clientHeight;r.is(".k-window-content")&&!l||t.preventDefault()},_enableDocumentScrolling:function(){var t=e(document.body),n=e("html"),html=n[0];this._restoreOverflowRule(t),this._restoreOverflowRule(n),r.support.mobileOS.ios&&(n.removeData("tap-y"),html.removeEventListener("touchstart",this._touchStart,{passive:!1}),html.removeEventListener("touchmove",this._touchMove,{passive:!1}))},_storeOverflowRule:function(e){if(!this._isOverflowStored(e)){var t=e.get(0).style.overflow;"string"==typeof t&&e.data("original-overflow-rule",t)}},_isOverflowStored:function(e){return"string"==typeof e.data("original-overflow-rule")},_restoreOverflowRule:function(e){var t=e.data("original-overflow-rule");null!=t?(e.css("overflow",t),e.removeData("original-overflow-rule")):e.css("overflow","")},_closeAnimationEnd:function(){if(this._closing=!1,this.wrapper.hide().css("opacity",""),this.trigger("hide"),this.options.modal){var e=this._object(this._modals().last());e&&e.toFront()}},_modals:function(){var t=this,n=e(".k-window").filter((function(){var n=e(this),object=t._object(n),r=object&&object.options;return r&&r.modal&&t.options.appendTo==r.appendTo&&r.visible&&n.is(":visible")})).sort((function(a,b){return+e(a).css("zIndex")-+e(b).css("zIndex")}));return t=null,n},_object:function(element){var content=element.children(".k-content"),e=r.widgetInstance(content);if(e)return e},destroy:function(){this._destroy(),o.fn.destroy.call(this),this.wrapper.remove(),this.wrapper=this.element=e()},_destroy:function(){var e="."+f;this.wrapper.off(e),this.element.off(e),this.wrapper.find(".k-dialog-close,"+v+" > .k-button").off(e),this._stopCenterOnResize()},title:function(html){var t=this,o=t.wrapper,l=t.options,c=o.children(".k-dialog-titlebar"),title=c.children(".k-dialog-title"),h=r.htmlEncode(html);return arguments.length?(!1===html?(c.remove(),o.addClass(m)):(c.length||(title=(c=e(n.titlebar(l)).prependTo(o)).children(".k-dialog-title"),o.removeClass(m)),title.html(h)),t.options.title=h,t):title.html()},content:function(html,data){var content=this.wrapper.children(".k-content");return x(html)?(this.angular("cleanup",(function(){return{elements:content.children()}})),r.destroy(content.children()),content.html(html),this.angular("compile",(function(){for(var a=[],i=content.length;--i>=0;)a.push({dataItem:data});return{elements:content.children(),data:a}})),this.options.content=html,this):content.html()},_focusDialog:function(){this._defaultFocus&&this._focus(this._defaultFocus),this._tabKeyTrap.trap()},_focus:function(e){e&&e.focus()},events:["initOpen","open","close","show","hide"],options:{title:"",buttonLayout:"stretched",actions:[],modal:!0,size:"auto",width:null,height:null,minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,content:null,visible:null,appendTo:"body",closable:!0}}),T=S.extend({options:{name:"Dialog",messages:{close:"Close"}}});r.ui.plugin(T);var D=S.extend({_init:function(element,e){this.wrapperTemplate=n.alertWrapper,e._defaultFocus=null,this._ensureContentId(element),S.fn._init.call(this,element,e),this.bind("hide",c(this.destroy,this)),this._ariaDescribedBy(),this._initFocus()},_ensureContentId:function(element){var t=e(element);t.attr("id")||t.attr("id",r.guid()+"_k-popup")},_ariaDescribedBy:function(){this.wrapper.attr("aria-describedby",this.element.attr("id"))},_initFocus:function(){var e=this.options;this._defaultFocus=this._chooseEntryFocus(),this._defaultFocus&&e.visible&&e.modal&&this._focusDialog()},_chooseEntryFocus:function(){return this.wrapper.find(v+" > .k-button")[0]},options:{title:window.location.host,closable:!1,messages:{okText:"OK",cancel:"Cancel",promptInput:"Input"}}}),E=D.extend({_init:function(element,e){D.fn._init.call(this,element,e),this.wrapper.addClass("k-alert")},options:{name:"Alert",modal:!0,actions:[{text:"#: messages.okText #"}]}});r.ui.plugin(E);var A=D.extend({_init:function(element,t){D.fn._init.call(this,element,t),this.wrapper.addClass("k-confirm"),this.result=e.Deferred()},options:{name:"Confirm",modal:!0,actions:[{text:"#: messages.okText #",primary:!0,action:function(e){e.sender.result.resolve()}},{text:"#: messages.cancel #",action:function(e){e.sender.result.reject()}}]}});r.ui.plugin(A);var I=D.extend({_init:function(element,t){D.fn._init.call(this,element,t),this.wrapper.addClass("k-prompt"),this._createPrompt(),this.result=e.Deferred()},_createPrompt:function(){var t=this.options.value,r=e(n.promptInputContainer(this.options)).insertAfter(this.element);t&&r.children(".k-textbox").val(t),this._defaultFocus=this._chooseEntryFocus(),this._focusDialog()},_chooseEntryFocus:function(){return this.wrapper.find(".k-textbox")[0]},options:{name:"Prompt",modal:!0,value:"",actions:[{text:"#: messages.okText #",primary:!0,action:function(e){var t=e.sender,n=t.wrapper.find(".k-textbox").val();t.result.resolve(n)}},{text:"#: messages.cancel #",action:function(e){var t=e.sender.wrapper.find(".k-textbox").val();e.sender.result.reject(t)}}]}});r.ui.plugin(I),n={wrapper:template("<div class='k-widget k-window k-dialog' role='dialog' />"),action:template("<button type='button' class='k-button# if (data.primary) { # k-primary# } role='button' #'></button>"),titlebar:template("<div class='k-window-titlebar k-dialog-titlebar k-header'><span class='k-window-title k-dialog-title'>#: title #</span><div class='k-window-actions k-dialog-actions' /></div>"),close:template("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'><span class='k-icon k-i-close'></span></a>"),actionbar:template("<div class='k-dialog-buttongroup k-dialog-button-layout-#: buttonLayout #' role='toolbar' />"),overlay:"<div class='k-overlay' />",alertWrapper:template("<div class='k-widget k-window k-dialog' role='alertdialog' />"),alert:"<div />",confirm:"<div />",prompt:"<div />",promptInputContainer:template("<div class='k-prompt-container'><input type='text' class='k-textbox' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>")},r.alert=function(text){return e(n.alert).kendoAlert({content:text}).data("kendoAlert").open()},r.confirm=function(text){return e(n.confirm).kendoConfirm({content:text}).data("kendoConfirm").open().result},r.prompt=function(text,t){return e(n.prompt).kendoPrompt({content:text,value:t}).data("kendoPrompt").open().result}}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1545),e.exports=n(1545)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},923:function(e,t){e.exports=n(38)},1499:function(e,t){e.exports=n(34)},1528:function(e,t){e.exports=n(52)},1545:function(e,t,n){var r,o,l;n(3),o=[n(19),n(923),n(1499),n(1546),n(1528)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t,n=e.spreadsheet.RangeRef,r=e.spreadsheet.UnionRef,o=e.spreadsheet.CellRef,l=e.spreadsheet.Range,c=e.Class.extend({init:function(t){this._sheet=t,this.selection=e.spreadsheet.FIRSTREF.toRangeRef(),this.originalSelection=e.spreadsheet.FIRSTREF.toRangeRef(),this._activeCell=e.spreadsheet.FIRSTREF.toRangeRef(),this.originalActiveCell=e.spreadsheet.FIRSTREF},currentSelectionRange:function(){return this.selection.rangeAt(this.selectionRangeIndex).toRangeRef()},currentOriginalNavigationRange:function(){return this.originalSelection.rangeAt(this.selectionRangeIndex).toRangeRef()},currentNavigationRange:function(){return this.singleCellSelection()?this._sheet._sheetRef:this.selection.rangeAt(this.selectionRangeIndex).toRangeRef()},nextNavigationRange:function(){return this.singleCellSelection()||(this.selectionRangeIndex=this.selection.nextRangeIndex(this.selectionRangeIndex)),this.currentNavigationRange()},previousNavigationRange:function(){return this.singleCellSelection()||(this.selectionRangeIndex=this.selection.previousRangeIndex(this.selectionRangeIndex)),this.currentNavigationRange()},activeCell:function(e){return e&&(this.originalActiveCell=e.first(),this._activeCell=this._sheet.unionWithMerged(e.toRangeRef()),this._sheet.focus(e),this._sheet.triggerChange({activeCell:!0,selection:!0})),this._activeCell},select:function(t,r,c,view){if(t){if(t.eq(this.originalSelection))return;if(this._sheet.triggerSelect(new l(t,this._sheet)),this.originalSelection=t,this.selection=r,!1!==c){if(t.isCell())this._sheet.forEachMergedCell(t,(function(e){t=e.topLeft})),this.activeCell(t);else{if(t=this.selection.lastRange(),view&&view._sheet===this._sheet&&view.panes[0]){var i,h,d,f,m,v,_=view.panes;for(i=0;i<_.length&&(d=(h=_[i])._currentView.rows.values,f=h._currentView.columns.values,m=new n(new o(d.start,f.start),new o(d.end,f.end)),(v=t.intersect(m))===e.spreadsheet.NULLREF);i++);t=v}this.activeCell(t.first())}this.selectionRangeIndex=this.selection.size()-1}else this._sheet.triggerChange({selection:!0})}return this.selection},singleCellSelection:function(){return this._activeCell.eq(this.selection)}}),h=e.Observable.extend({init:function(){e.Observable.prototype.init.call(this),this._reinit.apply(this,arguments)},events:["changing","commandRequest","afterInsertRow","afterDeleteRow","insertRow","insertColumn","deleteRow","deleteColumn","hideRow","hideColumn","unhideRow","unhideColumn","select","dataBinding","dataBound"],_reinit:function(t,n,r,o,l,h,d){d=d||{},this._defaultCellStyle={background:d.background,color:d.color,fontFamily:d.fontFamily,fontSize:d.fontSize,italic:d.italic,bold:d.bold,underline:d.underline,wrap:d.wrap,verticalAlign:d.verticalAlign,textAlign:d.textAlign},this._rows=new e.spreadsheet.Axis(t,r),this._columns=new e.spreadsheet.Axis(n,o),this._filteredRows=new e.spreadsheet.RangeList(0,t-1,!1),this._mergedCells=[],this._frozenRows=0,this._frozenColumns=0,this._suspendChanges=!1,this._filter=null,this._showGridLines=!0,this._gridLinesColor=null,this._grid=new e.spreadsheet.Grid(this._rows,this._columns,t,n,l,h),this._sheetRef=this._grid.normalize(e.spreadsheet.SHEETREF),this._properties=new e.spreadsheet.PropertyBag(t,n,this._defaultCellStyle),this._sorter=new e.spreadsheet.Sorter(this._grid,this._properties.sortable()),this._viewSelection=new c(this),this._editSelection=new c(this),this._formulaSelections=[],this._drawings=[]},_selectionState:function(){return this._inEdit?this._editSelection:this._viewSelection},navigator:function(){return this._navigator||(this._navigator=new e.spreadsheet.SheetNavigator(this)),this._navigator},axisManager:function(){return this._axisManager||(this._axisManager=new e.spreadsheet.AxisManager(this)),this._axisManager},_name:function(e){return e?(this._sheetName=e,this):this._sheetName},name:function(){return this._name()},_property:function(e,t,n){return void 0===t?e():(e(t),this.triggerChange(n))},_field:function(e,t,n){return void 0===t?this[e]:(this[e]=t,this.triggerChange(n))},suspendChanges:function(e){return void 0===e?this._suspendChanges:(this._suspendChanges=e,this)},triggerChange:function(e){return this._suspendChanges||this.trigger("change",e),this},triggerSelect:function(e){this.trigger("select",{range:e})},setDataSource:function(t,n){this.dataSourceBinder&&this.dataSourceBinder.destroy(),this.dataSourceBinder=new e.spreadsheet.SheetDataSourceBinder({dataSource:t,sheet:this,columns:n}),this.dataSource=this.dataSourceBinder.dataSource},hideColumn:function(e){if(!this.trigger("hideColumn",{index:e}))return this._property(this._columns.hide.bind(this._columns),e,{layout:!0})},unhideColumn:function(e){if(!this.trigger("unhideColumn",{index:e}))return this._property(this._columns.unhide.bind(this._columns),e,{layout:!0})},isHiddenColumn:function(e){return this._grid._columns.hidden(e)},_copyRange:function(e,t){var n=this._grid,r=n.rowCount,o=n.normalize(e.topLeft),l=n.normalize(e.bottomRight),c=o.col*r+o.row,h=l.col*r+l.row,d=t.col*r+t.row;this._properties.copy(c,h,d)},_saveModifiedFormulas:function(e,n){var r=t;t=e;var o=n();return t=r,o},_restoreModifiedFormulas:function(t){var n=this._workbook;t.forEach((function(t){var r,o=n.sheetByName(t.sheet);t instanceof e.spreadsheet.calc.runtime.Formula&&(r=o._grid.cellRefIndex(t),o._properties.set("formula",r,r,t)),t instanceof e.spreadsheet.validation.Validation&&(r=o._grid.cellRefIndex(t),o._properties.set("validation",r,r,t))}))},_adjustReferences:function(r,o,l,c){if(this._mergedCells=c.reduce((function(a,e){return(e=e.adjust(null,null,null,null,"row"==r,o,l))instanceof n&&a.push(e),a}),[]),this._workbook){var h=this._name();this._workbook._sheets.forEach((function(e){e._forFormulas((function(e){var n=e.adjust(h,r,o,l);n&&t&&t.push(n)})),e._forValidations((function(e){var n=e.adjust(h,r,o,l);n&&t&&t.push(n)}))})),this._workbook.adjustNames(h,"row"==r,o,l)}var d=this.select();(d=d.adjust(null,null,null,null,"row"==r,o,l))!==e.spreadsheet.NULLREF&&this.select(d),("col"==r?this._columns:this._rows).adjust(o,l),"row"==r&&(l<0?this._filteredRows.copy(o-l,this._rows._count-1,o):(this._filteredRows.copy(o,this._rows._count,o+l),this._filteredRows.value(o,o+l-1,!1))),this._drawings.forEach((function(e){e.topLeftCell&&(e.topLeftCell=e.topLeftCell.adjust(null,null,null,null,"row"==r,o,l))}))},_forFormulas:function(e){var t=this._properties.get("formula").values(),n=t.length;t.forEach((function(t,i){e.call(this,t.value,i,n)}),this)},_forValidations:function(e){this._properties.get("validation").values().forEach((function(t){e.call(this,t.value)}),this)},preventInsertRow:function(e,t){if(this.selectedHeaders().allRows)return{reason:"error",type:"insertRowWhenColumnIsSelected"};t=t||1;var n=this._grid;return!!this.range(n.rowCount-t,0,t,n.columnCount).hasValue()&&{reason:"error",type:"shiftingNonblankCells"}},preventInsertColumn:function(e,t){if(this.selectedHeaders().allCols)return{reason:"error",type:"insertColumnWhenRowIsSelected"};t=t||1;var n=this._grid;return!!this.range(0,n.columnCount-t,n.rowCount,t).hasValue()&&{reason:"error",type:"shiftingNonblankCells"}},insertRow:function(e,t){if(this.preventInsertRow(e))throw new Error("Shifting nonblank cells off the worksheet is not supported!");if(!this.trigger("insertRow",{index:e}))return this.batch((function(){var t=this._grid,r=t.columnCount,c=t.rowCount,h=this.frozenRows();e<h&&this.frozenRows(h+1);for(var d=this._mergedCells.slice(),f=0;f<r;f++){var m=new n(new o(e,f),new o(e,f)),v=t.normalize(m.topLeft),_=t.normalize(m.bottomRight),w=new n(new o(v.row,v.col),new o(c-2,_.col));this._copyRange(w,new o(v.row+1,v.col)),new l(m,this).clear({clearAll:!0,keepBorders:!0})}this._adjustReferences("row",e,1,d)}),{recalc:!0,layout:!0,insertRow:{index:e},ref:new n(new o(e,0),new o(1/0,1/0))}),t||this.trigger("afterInsertRow",{index:e}),this},isEnabledRow:function(e){var t=new n(new o(e,0),new o(e,this._grid.columnCount));return new l(t,this).enable()},deleteRow:function(e,t){return this.isEnabledRow(e)?this.trigger("deleteRow",{index:e})?void 0:(this.batch((function(){var t=this._grid,r=t.columnCount,c=this.frozenRows();e<c&&this.frozenRows(c-1);for(var h=this._mergedCells.slice(),d=0;d<r;d++){var f=new n(new o(e,d),new o(e,d));new l(f,this).clear({clearAll:!0,keepBorders:!0});var m=t.normalize(f.topLeft),v=t.normalize(f.bottomRight),_=new n(new o(m.row+1,m.col),new o(1/0,v.col));this._copyRange(_,m);var w=t.normalize(_.bottomRight);new l(new n(w,w),this).clear()}this._adjustReferences("row",e,-1,h)}),{recalc:!0,layout:!0,deleteRow:{index:e},ref:new n(new o(e,0),new o(1/0,1/0))}),t||this.trigger("afterDeleteRow",{index:e}),this):this},insertColumn:function(e){if(!this.trigger("insertColumn",{index:e}))return this.batch((function(){var t=this._grid,r=t.columnCount,c=this.frozenColumns();e<c&&this.frozenColumns(c+1);for(var h=this._mergedCells.slice(),d=r;d>=e;d--){var f=new n(new o(0,d),new o(1/0,d));if(new l(f,this).clear({clearAll:!0,keepBorders:!0}),d==e)break;var m=t.normalize(f.topLeft),v=t.normalize(f.bottomRight),_=new n(new o(m.row,m.col-1),new o(v.row,v.col-1));this._copyRange(_,m)}this._adjustReferences("col",e,1,h)}),{recalc:!0,layout:!0,insertColumn:{index:e},ref:new n(new o(0,e),new o(1/0,1/0))}),this},isEnabledColumn:function(e){var t=new n(new o(0,e),new o(1/0,e));return new l(t,this).enable()},deleteColumn:function(e){return this.isEnabledColumn(e)?this.trigger("deleteColumn",{index:e})?void 0:(this.batch((function(){var t=this._grid,r=t.columnCount,c=this.frozenColumns();e<c&&this.frozenColumns(c-1);for(var h=this._mergedCells.slice(),d=e;d<r;d++){var f=new n(new o(0,d),new o(1/0,d));if(new l(f,this).clear({clearAll:!0,keepBorders:!0}),d==r-1)break;var m=t.normalize(f.topLeft),v=t.normalize(f.bottomRight),_=new n(new o(m.row,m.col+1),new o(v.row,v.col+1));this._copyRange(_,m)}this._adjustReferences("col",e,-1,h)}),{recalc:!0,layout:!0,deleteColumn:{index:e},ref:new n(new o(0,e),new o(1/0,1/0))}),this):this},_filterRow:function(e){this._rows.hide(e),this._filteredRows.value(e,e,!0),this.triggerChange({layout:!0})},hideRow:function(e){if(!this.trigger("hideRow",{index:e}))return this._property(this._rows.hide.bind(this._rows),e,{layout:!0})},unhideRow:function(e){if(!this.trigger("unhideRow",{index:e}))return this._property(this._rows.unhide.bind(this._rows),e,{layout:!0})},isHiddenRow:function(e){return this._grid._rows.hidden(e)},isFilteredRow:function(e){return this._filteredRows.value(e)},columnWidth:function(e,t){return this._property(this._columns.value.bind(this._columns,e,e),t,{layout:!0})},rowHeight:function(e,t){return this._property(this._rows.value.bind(this._rows,e,e),t,{layout:!0})},frozenRows:function(e){return this._field("_frozenRows",e,{layout:!0})},frozenColumns:function(e){return this._field("_frozenColumns",e,{layout:!0})},showGridLines:function(e){return this._field("_showGridLines",e,{layout:!0})},gridLinesColor:function(e){return this._field("_gridLinesColor",e,{layout:!0})},_ref:function(t,r,l,c){var h=null;return t instanceof e.spreadsheet.Ref?t:t instanceof e.spreadsheet.Range?t._ref.toRangeRef():("string"==typeof t?h=e.spreadsheet.calc.parseReference(t):(l||(l=1),c||(c=1),h=new n(new o(t,r),new o(t+l-1,r+c-1))),h)},range:function(e,t,n,r){return new l(this._ref(e,t,n,r),this)},_getMergedCells:function(e){var t=this._grid,n={},r={},o=!1;return this.forEachMergedCell(e,(function(l){var c=l.topLeft;t.forEach(l,(function(t){c.eq(t)?(n[t.print()]=l,o=!0):e.contains(t)&&(r[t.print()]=c,o=!0)}))})),{primary:n,secondary:r,hasMerged:o}},forEachMergedCell:function(e,t){var n=!1;void 0===t&&(t=e,n=!0),this._mergedCells.forEach((function(r){(n||r.intersects(e))&&t(r)}))},forEachFilterHeader:function(e,t){var n=!1;if(void 0===t&&(t=e,n=!0),this._filter){var r=[];this._filter.ref.forEachColumn((function(t){(n||t.intersects(e))&&r.push(t.topLeft)})),this._mergedCells.forEach((function(e){r=r.map((function(t){return e.intersects(t)?e:t}))})),r.reduce((function(e,element){return e.indexOf(element)<0&&e.push(element),e}),[]).forEach(t)}},forEach:function(e,t){var o=this;function l(e){e instanceof n||(e=e.toRangeRef());var r,l,c=o._grid.normalize(e.topLeft),h=o._grid.normalize(e.bottomRight);function d(e){t(l++,r,e)}for(r=c.col;r<=h.col;r++){l=c.row;var f=o._grid.index(l,r),m=o._grid.index(h.row,r);o._properties.forEach(f,m,d)}}e instanceof n||(e=o._ref(e)),e instanceof r?e.forEach(l):l(e)},startResizing:function(e){this._initialPosition=e,this._resizeInProgress=!0},startAutoFill:function(){this._autoFillInProgress=!0;var e=this.select();this._autoFillOrigin=e,this._autoFillDest=e,this.triggerChange({selection:!0})},updateAutoFill:function(e,t,n,r){this._autoFillDest=e,this._autoFillPunch=t,this._autoFillHint=n,this._autoFillDirection=r,this.triggerChange({selection:!0})},autoFillRef:function(){return this._autoFillDest},autoFillPunch:function(){return this._autoFillPunch},autoFillInProgress:function(){return this._autoFillInProgress},resizingInProgress:function(){return this._resizeInProgress},draggingInProgress:function(){return this._draggingInProgress},completeResizing:function(){if(this._resizeInProgress){this._resizeInProgress=!1;var e=this.resizeHintPosition();if(this._initialPosition&&e){var t=this.resizeHandlePosition();t.col!==-1/0?this.trigger("commandRequest",{command:"ColumnWidthCommand",options:{target:t.col,value:this.columnWidth(t.col)-(this._initialPosition.x-e.x)}}):this.trigger("commandRequest",{command:"RowHeightCommand",options:{target:t.row,value:this.rowHeight(t.row)-(this._initialPosition.y-e.y)}})}else this.trigger("change",{resize:!0})}},_renderComment:function(e){e&&this.range(e).comment()?this._commentRef&&e.eq(this._commentRef)||(this._commentRef=e,this.trigger("change",{comment:!0})):this._commentRef&&(this._commentRef=null,this.trigger("change",{comment:!0}))},resizeHandlePosition:function(){return this._resizeHandlePosition},resizeHintPosition:function(e){return void 0!==e&&(this._resizeHintPosition=e,this.trigger("change",{resize:!0})),this._resizeHintPosition},removeResizeHandle:function(){this._resizeHandlePosition&&(this._resizeHintPosition=void 0,this._resizeHandlePosition=void 0,this._initialPosition=void 0,this.trigger("change",{resize:!0}))},positionResizeHandle:function(e){this._resizeHandlePosition=e,this.trigger("change",{resize:!0})},startDragging:function(data){this._draggingInProgress=data},completeDragging:function(){var e=this._draggingInProgress;if(e){this._draggingInProgress=null;var t=e.drawing;if(t.eq(e.copy))return;if(t.topLeftCell){var n=this.drawingBoundingBox(t),r=this._rows.indexVisible(n.top),col=this._columns.indexVisible(n.left),l=new o(r,col),c=this.refBoundingBox(l);t.offsetX=n.left-c.left,t.offsetY=n.top-c.top,t.topLeftCell=l,this.triggerChange({dragging:!0})}this.trigger("commandRequest",{command:"DrawingUpdateCommand",options:{sheet:this,drawing:t,previous:e.copy}})}},startSelection:function(view){view&&view._sheet===this&&(this._currentView=view),this._selectionInProgress=!0},completeSelection:function(){if(this._selectionInProgress&&(this._selectionInProgress=!1,this._resizeHintPosition=void 0,this.trigger("change",{selection:!0})),this._autoFillInProgress){this._autoFillInProgress=!1;var e=this._autoFillDest,t=this._autoFillOrigin;this._autoFillPunch?this.trigger("commandRequest",{command:"ClearContentCommand",options:{operatingRange:this.range(this._autoFillPunch)}}):e.eq(t)?this.triggerChange({selection:!0}):this.trigger("commandRequest",{command:"AutoFillCommand",options:{operatingRange:this.range(e),origin:this.range(t)}}),this._autoFillDest=null,this._autoFillPunch=null,this._autoFillOrigin=null,this.select(e)}},selectionInProgress:function(){return this._selectionInProgress},select:function(e,t){var n,r=this._selectionState();return e&&(e=this._ref(e),e=this._grid.normalize(e),n=this._grid.isAxis(e)?e:this.unionWithMerged(e)),r.select(e,n,t,this._currentView)},originalSelect:function(){return this._selectionState().originalSelection},currentSelectionRange:function(){return this._selectionState().currentSelectionRange()},currentOriginalSelectionRange:function(){return this._selectionState().currentOriginalNavigationRange()},currentNavigationRange:function(){return this._selectionState().currentNavigationRange()},nextNavigationRange:function(){return this._selectionState().nextNavigationRange()},previousNavigationRange:function(){return this._selectionState().previousNavigationRange()},selectionRangeIndex:function(){return this._selectionState().selectionRangeIndex},activeCell:function(e){return this._selectionState().activeCell(e)},originalActiveCell:function(){return this._selectionState().originalActiveCell},singleCellSelection:function(){return this._selectionState().singleCellSelection()},unionWithMerged:function(e){var t=this._mergedCells;return e.map((function(e){return e.toRangeRef().union(t)}))},trim:function(e){var t=[],n=this._grid;return this._properties.forEachProperty((function(r){t.push(n.trim(e,r.list))})),this.unionWithMerged(e.topLeft.toRangeRef().union(t))},focus:function(e){if(!e){var t=this._focus;return this._focus=null,t}this._focus=e.toRangeRef()},activeCellSelection:function(){return new l(this._grid.normalize(this.activeCell()),this)},selection:function(){return new l(this._grid.normalize(this._selectionState().selection),this)},selectedHeaders:function(){var e=this.select(),t={},n={},r=!1,o=!1,l=this._grid.rowCount-1,c=this._grid.columnCount-1;return e.forEach((function(e){var i,h="partial",d="partial",f=(e=e.toRangeRef()).bottomRight,m=e.topLeft,v=m.col<=0&&f.col>=c,_=m.row<=0&&f.row>=l;if(_&&(o=!0,d="full"),v&&(r=!0,h="full"),!_)for(i=m.row;i<=f.row;i++)"full"!==t[i]&&(t[i]=h);if(!v)for(i=m.col;i<=f.col;i++)"full"!==n[i]&&(n[i]=d)})),{rows:t,cols:n,allRows:o,allCols:r,all:o&&r}},isInEditMode:function(e){if(void 0===e)return this._inEdit;this._inEdit=e,e&&(this._editSelection.selection=this._viewSelection.selection.clone(),this._editSelection.originalSelection=this._viewSelection.originalSelection.clone(),this._editSelection._activeCell=this._viewSelection._activeCell.clone(),this._editSelection.originalActiveCell=this._viewSelection.originalActiveCell.clone())},_setFormulaSelections:function(e){this._formulaSelections=(e||[]).slice(),this.triggerChange({selection:!0})},_viewActiveCell:function(){return this._viewSelection._activeCell.toRangeRef()},toJSON:function(){var t={},n=this._rows.toJSON("height",t),r=this._columns.toJSON("width",{}),o=this._viewSelection,l=[],c=this._defaultCellStyle||{};this.forEach(e.spreadsheet.SHEETREF,(function(r,col,o){if(function(e){Object.keys(c).forEach((function(t){e[t]===c[t]&&delete e[t]}))}(o),0!==Object.keys(o).length){o.link&&l.push({ref:e.spreadsheet.Ref.display(null,r,col),target:o.link});var h=t[r];void 0===h&&(h=n.length,n.push({index:r}),t[r]=h),r=n[h],o.index=col,void 0===r.cells&&(r.cells=[]),o.formula&&(o.formula.arrayFormulaRange?o.formula={src:o.formula.toString(),ref:o.formula.arrayFormulaRange.toString()}:o.formula=o.formula.toString()),o.validation&&(o.validation=o.validation.toJSON()),o.color&&(o.color=e.parseColor(o.color).toCss()),o.background&&(o.background=e.parseColor(o.background).toCss()),o.borderTop&&o.borderTop.color&&(o.borderTop.color=e.parseColor(o.borderTop.color).toCss()),o.borderBottom&&o.borderBottom.color&&(o.borderBottom.color=e.parseColor(o.borderBottom.color).toCss()),o.borderRight&&o.borderRight.color&&(o.borderRight.color=e.parseColor(o.borderRight.color).toCss()),o.borderLeft&&o.borderLeft.color&&(o.borderLeft.color=e.parseColor(o.borderLeft.color).toCss()),r.cells.push(o)}}));var h={name:this._name(),rows:n,columns:r,selection:o.selection.toString(),activeCell:o.activeCell().toString(),frozenRows:this.frozenRows(),frozenColumns:this.frozenColumns(),showGridLines:this.showGridLines(),gridLinesColor:this.gridLinesColor(),mergedCells:this._mergedCells.map((function(e){return e.toString()})),hyperlinks:l,defaultCellStyle:c,drawings:this._drawings.map((function(e){return e.toJSON()}))};return this._sort&&(h.sort={ref:this._sort.ref.toString(),columns:this._sort.columns.map((function(e){return{index:e.index,ascending:e.ascending}}))}),this._filter&&(h.filter={ref:this._filter.ref.toString(),columns:this._filter.columns.map((function(e){var filter=e.filter.toJSON();return filter.index=e.index,filter}))}),h},fromJSON:function(t){this.batch((function(){if(void 0!==t.name&&this._name(t.name),void 0!==t.frozenColumns&&this.frozenColumns(t.frozenColumns),void 0!==t.frozenRows&&this.frozenRows(t.frozenRows),void 0!==t.columns&&this._columns.fromJSON("width",t.columns),void 0!==t.rows){this._rows.fromJSON("height",t.rows);for(var n=0;n<t.rows.length;n++){var r=t.rows[n],o=r.index;if(void 0===o&&(o=n),r.cells)for(var l=0;l<r.cells.length;l++){var c=r.cells[l],h=c.index;if(void 0===h&&(h=l),c.formula){var f="string"!=typeof c.formula,m=f?c.formula.src:c.formula,v=this._compileFormula(o,h,m);f&&v.setArrayFormulaRange(e.spreadsheet.calc.parseReference(c.formula.ref)),c.formula=v}c.validation&&(c.validation=this._compileValidation(o,h,c.validation)),this._properties.fromJSON(this._grid.index(o,h),c)}}}if(t.drawings&&(this._drawings=t.drawings.map(d.fromJSON)),t.selection&&(this._viewSelection.selection=this._viewSelection.originalSelection=this._ref(t.selection)),t.activeCell){var _=this._ref(t.activeCell);this._viewSelection._activeCell=_.toRangeRef(),this._viewSelection.originalActiveCell=_.first()}if(t.mergedCells&&t.mergedCells.forEach((function(e){this.range(e).merge()}),this),t.sort&&(this._sort={ref:this._ref(t.sort.ref),columns:t.sort.columns.slice(0)}),t.filter){var w=t.filter.ref,y=void 0===t.filter.columns?[]:t.filter.columns;w?(this._filter={ref:this._ref(w),columns:y.map((function(t){return{index:t.index,filter:e.spreadsheet.Filter.create(t)}}))},this._refreshFilter()):e.logToConsole("Dropping filter for sheet '"+t.name+"' due to missing ref")}void 0!==t.showGridLines&&(this._showGridLines=t.showGridLines),this._gridLinesColor=t.gridLinesColor})),this._rows._refresh(),this._columns._refresh()},formula:function(e){return this._properties.get("formula",this._grid.cellRefIndex(e))},validation:function(e){return this._properties.get("validation",this._grid.cellRefIndex(e))},resetFormulas:function(){this._forFormulas((function(e){e.reset()}))},resetValidations:function(){this._forValidations((function(e){e.reset()}))},recalc:function(e,t){var n=this._properties.get("formula").values(),r=n.length,o=0,i=0;if(!r&&t)return t();function l(){o--,i!=r||o||t()}for(;i<r;)o++,n[i++].value.exec(e,t?l:null)},revalidate:function(e){var t=this;this._forValidations((function(r){var l=new o(r.row,r.col),c=new n(l,l);r.exec(e,t._get(c,"value"),t._get(c,"format"))}))},_value:function(e,col,t){var n=this._grid.index(e,col);if(void 0===t)return this._properties.get("value",n);this._properties.set("value",n,n,t)},_validation:function(e,col){var t=this._grid.index(e,col);return this._properties.get("validation",t)},_compileValidation:function(t,col,n){return n instanceof e.spreadsheet.validation.Validation?n.clone(this._name(),t,col):(null!=n.from&&(n.from=(n.from+"").replace(/^=/,"")),null!=n.to&&(n.to=(n.to+"").replace(/^=/,"")),e.spreadsheet.validation.compile(this._name(),t,col,n))},_compileFormula:function(t,col,n){return n=n.replace(/^=/,""),n=e.spreadsheet.calc.parseFormula(this._name(),t,col,n),e.spreadsheet.calc.compile(n)},_copyValuesInRange:function(e,t,n,r){var o,l,c;for(o=e.col;o<=t.col;o++){l=this._grid.index(e.row,o),c=this._grid.index(t.row,o);for(var h=l,d=e.row;h<=c;++h,++d)n=n.clone(this._name(),d,o),this._properties.set(r,h,h,n)}return n},_set:function(t,n,r){var o,l,c,h=this._grid.normalize(t.topLeft),d=this._grid.normalize(t.bottomRight);if("number"==typeof r&&(r=e.spreadsheet.calc.runtime.limitPrecision(r)),r&&"formula"==n)"string"==typeof r&&(r=this._compileFormula(h.row,h.col,r)),r=this._copyValuesInRange(h,d,r,"formula");else if(r&&"validation"==n)r=this._compileValidation(h.row,h.col,r),r=this._copyValuesInRange(h,d,r,"validation");else for(o=h.col;o<=d.col;o++)l=this._grid.index(h.row,o),c=this._grid.index(d.row,o),this._properties.set(n,l,c,r),"formula"==n&&this._properties.set("value",l,c,null)},_get:function(e,t){var n=this._grid.normalize(e.topLeft),r=this._grid.index(n.row,n.col);return this._properties.get(t,r)},batch:function(e,t){var n=this.suspendChanges();return this.suspendChanges(!0),e.call(this),this.suspendChanges(n).triggerChange(t||{recalc:!0})},_sortBy:function(e,t){var n=null;t.forEach((function(t){n=this._sorter.sortBy(e,t.index,this._properties.get("value"),t.ascending,n)}),this),this._sort={ref:e,columns:t},this._refreshFilter(),this.forEach(e,function(e,col,t){var n=t.formula;if(n){var r=e-n.row;if(0!==r){var o=r>0?n.row:n.row+r;n.adjust(this.name(),"row",o,r)}}}.bind(this)),this.triggerChange({recalc:!0})},_refreshFilter:function(){this._filter&&this._filterBy(this._filter.ref,this._filter.columns)},_filterBy:function(t,n){this.batch((function(){for(var r=t.topLeft.row;r<=t.bottomRight.row;r++)this.isFilteredRow(r)&&(this._filteredRows.value(r,r,!1),this._rows.unhide(r));n.forEach((function(n){var r=t.resize({top:1}).toColumn(n.index),o=[];if(r!==e.spreadsheet.NULLREF){this.forEach(r,(function(e,col,t){t.row=e,o.push(t)})),n.filter.prepare(o);for(var l=0;l<o.length;l++){var c=o[l],h=n.filter.value(c);!1===n.filter.matches(h)&&this._filterRow(c.row)}}}),this),this._filter={ref:t,columns:n}}),{recalc:!0,layout:!0,filter:!0})},filterColumn:function(e){var t=this.filter().ref;return e.toRangeRef().topLeft.col-t.topLeft.col},filter:function(){return this._filter},clearFilter:function(e){this._clearFilter(e instanceof Array?e:[e])},_clearFilter:function(e){this._filter&&this.batch((function(){this._filter.columns=this._filter.columns.filter((function(t){return e.indexOf(t.index)<0})),this._refreshFilter()}),{recalc:!0,layout:!0,filter:!0})},getAxisState:function(){return{rows:this._rows.getState(),columns:this._columns.getState()}},setAxisState:function(e){this._rows.setState(e.rows),this._columns.setState(e.columns),this.triggerChange({layout:!0})},getState:function(){return{rows:this._rows.getState(),columns:this._columns.getState(),mergedCells:this._mergedCells.map((function(e){return e.clone()})),properties:this._properties.getState()}},setState:function(t){this._rows.setState(t.rows),this._columns.setState(t.columns),this._mergedCells=t.mergedCells,this._properties.setState(t.properties),this.triggerChange(e.spreadsheet.ALL_REASONS)},_merge:function(t){var n,r=this._mergedCells,o=this;return this.batch((function(){n=t.map((function(t){if(t instanceof e.spreadsheet.CellRef)return t;var n=t.toRangeRef().union(r,(function(e){r.splice(r.indexOf(e),1)})),c=new l(n,o),h=c._get("formula"),d=c.value(),f=c.format(),m=c.background();c.value(null),c.format(null),c.background(null);var v=new l(n.collapse(),o);return h?v._set("formula",h):v.value(d),v.format(f),v.background(m),r.push(n),n}));var c=o._viewSelection;c.selection=o.unionWithMerged(c.originalSelection),c._activeCell=o.unionWithMerged(c.originalActiveCell)}),{activeCell:!0,selection:!0}),n},_useCultureDecimals:function(){return this._workbook&&this._workbook.options.useCultureDecimals},withCultureDecimals:function(t){var n=".";return this._useCultureDecimals()&&(n=e.culture().numberFormat["."]),e.spreadsheet.calc.withDecimalSeparator(n,t)},drawingBoundingBox:function(t){var n=t.offsetX,r=t.offsetY;return t.topLeftCell&&(n+=this._columns.sum(0,t.topLeftCell.col-1),r+=this._rows.sum(0,t.topLeftCell.row-1)),new e.spreadsheet.Rectangle(n,r,t.width,t.height)},refBoundingBox:function(e){return this._grid.rectangle(e.toRangeRef())},addDrawing:function(e,t){return e instanceof d||(e=new d(e)),this._drawings.push(e),t&&(this._activeDrawing=e),this.triggerChange({layout:!0}),e},removeDrawing:function(e){var t=this._drawings.indexOf(e);t>=0&&(this._drawings.splice(t,1),this.triggerChange({layout:!0}))},usesImage:function(img){for(var i=this._drawings.length;--i>=0;)if(this._drawings[i].image===img)return!0;return!1}}),d=e.Class.extend({init:function(e){this.reset(e)},toJSON:function(){return{topLeftCell:this.topLeftCell.toString(),offsetX:this.offsetX,offsetY:this.offsetY,width:this.width,height:this.height,image:this.image,opacity:this.opacity}},clone:function(){return new d(this)},reset:function(t){var n=t.topLeftCell;"string"==typeof n&&(n=e.spreadsheet.calc.parseReference(n)),this.topLeftCell=n,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.width=t.width,this.height=t.height,this.image=t.image,this.opacity=null!=t.opacity?t.opacity:1},eq:function(e){return(!this.topLeftCell&&!e.topLeftCell||this.topLeftCell&&e.topLeftCell&&this.topLeftCell.eq(e.topLeftCell))&&this.offsetX===e.offsetX&&this.offsetY===e.offsetY&&this.width===e.width&&this.height===e.height&&this.image===e.image&&this.opacity===e.opacity}});d.fromJSON=function(e){return new d(e)},e.spreadsheet.Sheet=h,e.spreadsheet.Drawing=d}}(kendo)})?r.apply(t,o):r)||(e.exports=l)},1546:function(e,t){e.exports=n(357)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(889)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},889:function(e,t,n){var r,o,l;n(3),o=[n(890),n(891)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=e.proxy,r=window.kendo,o=r.Class,l=r.dataviz,c=r.deepExtend,h=l.map.Extent,d=r.drawing.util.defined;c(l,{map:{layers:{Layer:o.extend({init:function(map,t){this._initOptions(t),this.map=map,this.element=e("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(map.scrollElement),this._beforeReset=n(this._beforeReset,this),this._reset=n(this._reset,this),this._resize=n(this._resize,this),this._panEnd=n(this._panEnd,this),this._activate(),this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset(),this._activate(),this._applyExtent(!0)},hide:function(){this._deactivate(),this._setVisibility(!1)},reset:function(){this._beforeReset(),this._reset()},_reset:function(){this._applyExtent()},_beforeReset:e.noop,_resize:e.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var e=this.options,t=this.map.zoom(),n=!d(e.minZoom)||t>=e.minZoom,r=!d(e.maxZoom)||t<=e.maxZoom,o=h.create(e.extent),l=!o||o.overlaps(this.map.extent());this._setVisibility(n&&r&&l)},_setVisibility:function(e){this.element.css("display",e?"":"none")},_activate:function(){var map=this.map;this._deactivate(),map.bind("beforeReset",this._beforeReset),map.bind("reset",this._reset),map.bind("resize",this._resize),map.bind("panEnd",this._panEnd)},_deactivate:function(){var map=this.map;map.unbind("beforeReset",this._beforeReset),map.unbind("reset",this._reset),map.unbind("resize",this._resize),map.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var e=this.map.attribution;e&&e.add(this.options.attribution)}})}}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},890:function(e,t){e.exports=n(0)},891:function(e,t){e.exports=n(43)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1254)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1228:function(e,t){e.exports=n(227)},1229:function(e,t){e.exports=n(101)},1254:function(e,t,n){var r,o,l;n(3),o=[n(1229),n(1228)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile,o=n.roleSelector,l=r.ui,c=l.Widget,h=r.ViewEngine,d=l.View,f=r.ui.Loader,m=n.support.mobileOS,v=m.ios&&!m.appMode&&m.flatVersion>=700,_=/popover|actionsheet|modalview|drawer/,w=n.attrValue,y=c.extend({init:function(element,e){var t=this;c.fn.init.call(t,element,e),e=t.options,(element=t.element).addClass("km-pane"),t.options.collapsible&&element.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(e,n,r){var o=t.transition;return t.transition=null,v&&r&&(o="none"),t.viewEngine.showView(e,o,n)},this._historyNavigate=function(e){if("#:back"===e){if(1===t.history.length)return;t.history.pop(),e=t.history[t.history.length-1]}else t.history.push(e);t.historyCallback(e,n.parseQueryStringParams(e))},this._historyReplace=function(e){var r=n.parseQueryStringParams(e);t.history[t.history.length-1]=e,t.historyCallback(e,r)},t.loader=new f(element,{loading:t.options.loading}),t.viewEngine=new h({container:element,transition:e.transition,modelScope:e.modelScope,rootNeeded:!e.initial,serverNavigation:e.serverNavigation,remoteViewURLPrefix:e.root||"",layout:e.layout,$angular:e.$angular,loader:t.loader,showStart:function(){t.loader.transition(),t.closeActiveDialogs()},after:function(){t.loader.transitionDone()},viewShow:function(e){t.trigger("viewShow",e)},loadStart:function(){t.loader.show()},loadComplete:function(){t.loader.hide()},sameViewRequested:function(){t.trigger("sameViewRequested")},viewTypeDetermined:function(e){e.remote&&t.options.serverNavigation||t.trigger("navigate",{url:e.url})}}),this._setPortraitWidth(),n.onResize((function(){t._setPortraitWidth()})),t._setupAppLinks()},closeActiveDialogs:function(){this.element.find(o("actionsheet popover modalview")).filter(":visible").each((function(){n.widgetInstance(e(this),l).close()}))},navigateToInitial:function(){var e=this.options.initial;return e&&this.navigate(e),e},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:["navigate","viewShow","sameViewRequested"],append:function(html){return this.viewEngine.append(html)},destroy:function(){c.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigate:function(e,t){e instanceof d&&(e=e.id),this.transition=t,this._historyNavigate(e)},replace:function(e,t){e instanceof d&&(e=e.id),this.transition=t,this._historyReplace(e)},bindToRouter:function(e){var t=this,r=this.history,o=this.viewEngine;e.bind("init",(function(t){var l=t.url,c=e.pushState?l:"/";o.rootView.attr(n.attr("url"),c);var h=r.length;"/"===l&&h&&(e.navigate(r[h-1],!0),t.preventDefault())})),e.bind("routeMissing",(function(e){t.historyCallback(e.url,e.params,e.backButtonPressed)||e.preventDefault()})),e.bind("same",(function(){t.trigger("sameViewRequested")})),t._historyNavigate=function(t){e.navigate(t)},t._historyReplace=function(t){e.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(e){this.loader.changeMessage(e)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var e,t=this.options.portraitWidth;t&&(e=n.mobile.application.element.is(".km-vertical")?t:"auto",this.element.css("width",e))},_setupAppLinks:function(){var t=this,r="[data-"+n.ns+"navigate-on-press]",l=e.map(["button","backbutton","detailbutton","listview-link"],(function(e){return o(e)+":not("+r+")"})).join(",");this.element.handler(this).on("down",o("tab")+","+r,"_mouseup").on("click",o("tab")+","+l+","+r,"_appLinkClick"),this.userEvents=new n.UserEvents(this.element,{fastTap:!0,filter:l,tap:function(e){e.event.currentTarget=e.touch.currentTarget,t._mouseup(e.event)}}),this.element.css("-ms-touch-action","")},_appLinkClick:function(t){var n=e(t.currentTarget).attr("href");n&&"#"!==n[0]&&this.options.serverNavigation||"external"==w(e(t.currentTarget),"rel")||t.preventDefault()},_mouseup:function(t){if(!(t.which>1||t.isDefaultPrevented())){var o=this,link=e(t.currentTarget),c=w(link,"transition"),h=w(link,"rel")||"",d=w(link,"target"),f=link.attr("href"),m=v&&0===link[0].offsetHeight,y=f&&"#"!==f[0]&&this.options.serverNavigation;m||y||"external"===h||void 0===f||"#!"===f||(link.attr("href","#!"),setTimeout((function(){link.attr("href",f)})),h.match(_)?(n.widgetInstance(e(f),l).openFor(link),"actionsheet"!==h&&"drawer"!==h||t.stopPropagation()):("_top"===d?o=r.application.pane:d&&(o=e("#"+d).data("kendoMobilePane")),o.navigate(f,c)),t.preventDefault())}}});y.wrap=function(element){element.is(o("view"))||(element=element.wrap("<div data-"+n.ns+'role="view" data-stretch="true"></div>').parent());var e=element.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),t=new y(e);return t.navigate(""),t},l.plugin(y)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1262)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1025:function(e,t){e.exports=n(19)},1057:function(e,t){e.exports=n(20)},1059:function(e,t){e.exports=n(66)},1262:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1057),n(1025),n(1059)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile,o=r.ui,l=n.attr,c=o.Widget,h=n.ViewClone,d=n.attrValue,f=n.roleSelector,m=n.directiveSelector,v=n.compileMobileDirective;function _(element){var e,t,r=element.find(f("popover")),l=o.roles;for(e=0,t=r.length;e<t;e++)n.initWidget(r[e],{},l)}function w(e){n.triggeredByInput(e)||e.preventDefault()}var y=c.extend({init:function(element,t){c.fn.init.call(this,element,t),this.params={},e.extend(this,t),this.transition=this.transition||this.defaultTransition,this._id(),this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model())},events:["init","beforeShow","show","afterShow","beforeHide","hide","destroy","transitionStart","transitionEnd"],options:{name:"View",title:"",layout:null,getLayout:e.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function(e){void 0===e&&(e=!0),e?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),this.trigger("destroy"),c.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),n.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return!this.trigger("beforeShow",{view:this})},triggerBeforeHide:function(){return!this.trigger("beforeHide",{view:this})},showStart:function(){var element=this.element;element.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,this.trigger("init",{view:this})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger("show",{view:this}),n.resize(element)},showEnd:function(){this.trigger("afterShow",{view:this}),this._padIfNativeScrolling()},hideEnd:function(){this.element.hide(),this.trigger("hide",{view:this}),this.layout&&this.layout.trigger("hide",{view:this,layout:this.layout})},beforeTransition:function(e){this.trigger("transitionStart",{type:e})},afterTransition:function(e){this.trigger("transitionEnd",{type:e})},_padIfNativeScrolling:function(){if(r.appLevelNativeScrolling()){var e=n.support.mobileOS&&n.support.mobileOS.android,t=r.application.skin()||"",o=r.application.os.android||t.indexOf("android")>-1,l="flat"===t||t.indexOf("material")>-1,c=!e&&!o||l?"header":"footer",h=!e&&!o||l?"footer":"header";this.content.css({paddingTop:this[c].height(),paddingBottom:this[h].height()})}},contentElement:function(){return this.options.stretch?this.content:this.scrollerContent},clone:function(){return new h(this)},_scroller:function(){r.appLevelNativeScrolling()||(this.options.stretch?this.content.addClass("km-stretched-view"):(this.content.kendoMobileScroller(e.extend(this.options.scroller,{zoom:this.options.zoom,useNative:this.options.useNativeScrolling})),this.scroller=this.content.data("kendoMobileScroller"),this.scrollerContent=this.scroller.scrollElement),n.support.kineticScrollNeeded&&(e(this.element).on("touchmove",".km-header",w),this.options.useNativeScrolling||this.options.stretch||e(this.element).on("touchmove",".km-content",w)))},_model:function(){var element=this.element,e=this.options.model;"string"==typeof e&&(e=n.getter(e)(this.options.modelScope)),this.model=e,_(element),this.element.css("display",""),this.options.initWidgets&&(e?n.bind(element,e,o,n.ui,n.dataviz.ui):r.init(element.children())),this.element.css("display","none")},_id:function(){var element=this.element,e=element.attr("id")||"";this.id=d(element,"url")||"#"+e,"#"==this.id&&(this.id=n.guid(),element.attr("id",this.id))},_layout:function(){var e=f("content"),element=this.element;element.addClass("km-view"),this.header=element.children(f("header")).addClass("km-header"),this.footer=element.children(f("footer")).addClass("km-footer"),element.children(e)[0]||element.wrapInner("<div "+l("role")+'="content"></div>'),this.content=element.children(f("content")).addClass("km-content"),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this)},_overlay:function(){this.overlay=e('<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />').appendTo(this.element)},_invokeNgController:function(){var t,n;if(this.options.$angular&&(t=this.element.controller(),n=this.options.$angular[0],t)){var r=e.proxy(this,"_callController",t,n);/^\$(digest|apply)$/.test(n.$$phase)?r():n.$apply(r)}},_callController:function(e,t){this.element.injector().invoke(e.constructor,e,{$scope:t})}});function x(t){t.each((function(){n.initWidget(e(this),{},o.roles)}))}var k=c.extend({init:function(element,e){c.fn.init.call(this,element,e),element=this.element,this.header=element.children(this._locate("header")).addClass("km-header"),this.footer=element.children(this._locate("footer")).addClass("km-footer"),this.elements=this.header.add(this.footer),_(element),this.options.$angular||n.mobile.init(this.element.children()),this.element.detach(),this.trigger("init",{layout:this})},_locate:function(e){return this.options.$angular?m(e):f(e)},options:{name:"Layout",id:null,platform:null},events:["init","show","hide"],setup:function(view){view.header[0]||(view.header=this.header),view.footer[0]||(view.footer=this.footer)},detach:function(view){view.header===this.header&&this.header[0]&&view.element.prepend(this.header.detach()[0].cloneNode(!0)),view.footer===this.footer&&this.footer.length&&view.element.append(this.footer.detach()[0].cloneNode(!0))},attach:function(view){var e=this.currentView;e&&this.detach(e),view.header===this.header&&(this.header.detach(),view.element.children(f("header")).remove(),view.element.prepend(this.header)),view.footer===this.footer&&(this.footer.detach(),view.element.children(f("footer")).remove(),view.element.append(this.footer)),this.trigger("show",{layout:this,view:view}),this.currentView=view}}),C=n.Observable,S=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,T=C.extend({init:function(t){var r,o,l,c,h=this;if(C.fn.init.call(h),e.extend(h,t),h.sandbox=e("<div />"),l=h.container,r=h._hideViews(l),h.rootView=r.first(),!h.rootView[0]&&t.rootNeeded)throw o=l[0]==n.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',new Error(o);h.layouts={},h.viewContainer=new n.ViewContainer(h.container),h.viewContainer.bind("accepted",(function(e){e.view.params=h.params})),h.viewContainer.bind("complete",(function(e){h.trigger("viewShow",{view:e.view})})),h.viewContainer.bind("after",(function(){h.trigger("after")})),this.getLayoutProxy=e.proxy(this,"_getLayout"),h._setupLayouts(l),c=l.children(h._locate("modalview drawer")),h.$angular?(h.$angular[0].viewOptions={defaultTransition:h.transition,loader:h.loader,container:h.container,getLayout:h.getLayoutProxy},c.each((function(n,element){v(e(element),t.$angular[0])}))):x(c),this.bind(this.events,t)},events:["showStart","after","viewShow","loadStart","loadComplete","sameViewRequested","viewTypeDetermined"],destroy:function(){for(var e in n.destroy(this.container),this.layouts)this.layouts[e].destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,r){if(""===(e=e.replace(new RegExp("^"+this.remoteViewURLPrefix),""))&&this.remoteViewURLPrefix&&(e="/"),e.replace(/^#/,"")===this.url)return this.trigger("sameViewRequested"),!1;this.trigger("showStart");var o=this,l=function(view){return o.viewContainer.show(view,t,e)},element=o._findViewElement(e),view=n.widgetInstance(element);return o.url=e.replace(/^#/,""),o.params=r,view&&view.reload&&(view.purge(),element=[]),this.trigger("viewTypeDetermined",{remote:0===element.length,url:e}),element[0]?(view||(view=o._createView(element)),l(view)):(this.serverNavigation?location.href=e:o._loadView(e,l),!0)},append:function(html,e){var t,n,view,r=this.sandbox,o=(e||"").split("?")[0],c=this.container;return S.test(html)&&(html=RegExp.$1),r[0].innerHTML=html,c.append(r.children("script, style")),(view=(t=this._hideViews(r)).first()).length||(t=view=r.wrapInner("<div data-role=view />").children()),o&&view.hide().attr(l("url"),o),this._setupLayouts(r),n=r.children(this._locate("modalview drawer")),c.append(r.children(this._locate("layout modalview drawer")).add(t)),x(n),this._createView(view)},_locate:function(e){return this.$angular?m(e):f(e)},_findViewElement:function(e){var element,t=e.split("?")[0];return t?((element=this.container.children("["+l("url")+"='"+t+"']"))[0]||-1!==t.indexOf("/")||(element=this.container.children("#"===t.charAt(0)?t:"#"+t)),element):this.rootView},_createView:function(element){return this.$angular?v(element,this.$angular[0]):n.initWidget(element,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:d(element,"reload")},o.roles)},_getLayout:function(e){return""===e?null:e?this.layouts[e]:this.layouts[this.layout]},_loadView:function(t,r){this._xhr&&this._xhr.abort(),this.trigger("loadStart"),this._xhr=e.get(n.absoluteURL(t,this.remoteViewURLPrefix),"html").always(e.proxy(this,"_xhrComplete",r,t))},_xhrComplete:function(e,t,n){var r=!0;if("object"==typeof n&&0===n.status){if(!(n.responseText&&n.responseText.length>0))return;r=!0,n=n.responseText}this.trigger("loadComplete"),r&&e(this.append(n,t))},_hideViews:function(e){return e.children(this._locate("view splitview")).hide()},_setupLayouts:function(element){var t,l=this;element.children(l._locate("layout")).each((function(){var c=(t=l.$angular?v(e(this),l.$angular[0]):n.initWidget(e(this),{},o.roles)).options.platform;c&&c!==r.application.os.name?t.destroy():l.layouts[t.options.id]=t}))}});n.mobile.ViewEngine=T,o.plugin(y),o.plugin(k)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KendoSharedMethods=t.KendoBaseInputComponent=t.KendoBaseDatasourceComponent=t.KendoBaseComponent=void 0;var r=h(n(430)),o=h(n(431)),l=h(n(432)),c=h(n(433));function h(e){return e&&e.__esModule?e:{default:e}}t.KendoBaseComponent=r.default,t.KendoBaseDatasourceComponent=o.default,t.KendoBaseInputComponent=l.default,t.KendoSharedMethods=c.default},,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1366)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1062:function(e,t){e.exports=n(5)},1366:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=e.proxy,l=e.extend;r.HierarchicalDragAndDrop=n.Class.extend({init:function(element,t){this.element=element,this.hovered=element,this.options=l({dragstart:e.noop,drag:e.noop,drop:e.noop,dragend:e.noop},t),this._draggable=new r.Draggable(element,{ignore:"input,a:not(.k-in),textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-arrow-60-right,span.k-icon.k-i-arrow-45-down-right",filter:t.filter,autoScroll:t.autoScroll,cursorOffset:{left:10,top:n.support.mobileOS?-40/n.support.zoomLevel():10},hint:o(this._hint,this),dragstart:o(this.dragstart,this),dragcancel:o(this.dragcancel,this),drag:o(this.drag,this),dragend:o(this.dragend,this),$angular:t.$angular})},_hint:function(element){return"<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />"+this.options.hintText(element)+"</div>"},_removeTouchHover:function(){n.support.touch&&this.hovered&&(this.hovered.find(".k-state-hover").removeClass("k-state-hover"),this.hovered=!1)},_hintStatus:function(t){var n=this._draggable.hint.find(".k-drag-status")[0];if(!t)return e.trim(n.className.replace(/(p|k)-(icon|drag-status)/g,""));n.className="k-icon k-drag-status "+t},dragstart:function(t){this.source=t.currentTarget.closest(this.options.itemSelector),this.options.dragstart(this.source)&&t.preventDefault(),this.options.reorderable?this.dropHint=e("<div class='k-icon k-i-drag-and-drop' />").css("visibility","hidden").appendTo(this.element):this.dropHint=e()},drag:function(t){var r,o,l,c,h,d,f,m,v,_,w,y=this.options,source=this.source,x=this.dropTarget=e(n.eventTarget(t)),k=x.closest(y.allowedContainers);k.length?source[0]==x[0]||y.contains(source[0],x[0])?w="k-i-cancel":(w="k-i-insert-middle",(r=(v=y.itemFromTarget(x)).item).length?(this._removeTouchHover(),o=n._outerHeight(r),c=v.content,y.reorderable?(h=o/(c.length>0?4:2),l=n.getOffset(r).top,d=t.y.location<l+h,f=l+o-h<t.y.location,m=c.length&&!d&&!f):(m=!0,d=!1,f=!1),this.hovered=!!m&&k,this.dropHint.css("visibility",m?"hidden":"visible"),this._lastHover&&this._lastHover[0]!=c[0]&&this._lastHover.removeClass("k-state-hover"),this._lastHover=c.toggleClass("k-state-hover",m),m?w="k-i-plus":((_=r.position()).top+=d?0:o,this.dropHint.css(_)[d?"prependTo":"appendTo"](y.dropHintContainer(r)),d&&v.first&&(w="k-i-insert-up"),f&&v.last&&(w="k-i-insert-down"))):x[0]!=this.dropHint[0]&&(this._lastHover&&this._lastHover.removeClass("k-state-hover"),w=e.contains(this.element[0],k[0])?"k-i-cancel":"k-i-plus")):(w="k-i-cancel",this._removeTouchHover()),this.options.drag({originalEvent:t.originalEvent,source:source,target:x,pageY:t.y.location,pageX:t.x.location,status:w.substring(2),setStatus:function(e){w=e}}),0!==w.indexOf("k-i-insert")&&this.dropHint.css("visibility","hidden"),this._hintStatus(w)},dragcancel:function(){this.dropHint.remove()},dragend:function(e){var t,n,r,o="over",source=this.source,l=this.dropHint,c=this.dropTarget;"visible"==l.css("visibility")?(o=this.options.dropPositionFrom(l),t=l.closest(this.options.itemSelector)):c&&((t=c.closest(this.options.itemSelector)).length||(t=c.closest(this.options.allowedContainers))),n={originalEvent:e.originalEvent,source:source[0],destination:t[0],valid:"k-i-cancel"!=this._hintStatus(),setValid:function(e){this.valid=e},dropTarget:c[0],position:o},r=this.options.drop(n),l.remove(),this._removeTouchHover(),this._lastHover&&this._lastHover.removeClass("k-state-hover"),n.valid&&!r?(this._draggable.dropped=!0,this.options.dragend({originalEvent:e.originalEvent,source:source,destination:t,position:o})):this._draggable.dropped=n.valid},destroy:function(){this._lastHover=this.hovered=null,this._draggable.destroy()}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1313)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1062:function(e,t){e.exports=n(5)},1313:function(e,t,n){var r,o,l;n(3),o=[n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=n.ui.Draggable,l=n._outerWidth,c=n._outerHeight,h=e.extend,d=n.format,f=n.parseFloat,m=e.proxy,v=e.isArray,_=Math,w=n.support,y=w.pointers,x=w.msPointers,k=".slider",C="touchstart"+k+" mousedown"+k,S=y?"pointerdown"+k:x?"MSPointerDown"+k:C,T="touchend"+k+" mouseup"+k,D=y?"pointerup":x?"MSPointerUp"+k:T,E="keydown"+k,A="click"+k,I="mouseover"+k,M="focus"+k,R="blur"+k,F=".k-draghandle",P="k-state-focused",z="undefined",B=n.getTouches,L=r.extend({init:function(element,e){if(r.fn.init.call(this,element,e),e=this.options,this._isHorizontal="horizontal"==e.orientation,this._isRtl=this._isHorizontal&&n.support.isRtl(element),this._position=this._isHorizontal?"left":"bottom",this._sizeFn=this._isHorizontal?"width":"height",this._outerSize=this._isHorizontal?l:c,e.tooltip.format=e.tooltip.enabled&&e.tooltip.format||"{0}",e.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");this._createHtml(),this.wrapper=this.element.closest(".k-slider"),this._trackDiv=this.wrapper.find(".k-slider-track"),this._setTrackDivWidth(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._reset(),this._tabindex(this.wrapper.find(F)),this[e.enabled?"enable":"disable"]();var t=n.support.isRtl(this.wrapper)?-1:1;this._keyMap={37:N(-1*t*e.smallStep),40:N(-e.smallStep),39:N(1*t*e.smallStep),38:N(+e.smallStep),35:O(e.max),36:O(e.min),33:N(+e.largeStep),34:N(-e.largeStep)},n.notify(this)},events:["change","slide"],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_distance:function(){return W(this.options.max-this.options.min)},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh(),this.options.enabled&&this.enable(!0)},_sliderItemsInit:function(){var t=this.options,n=this._maxSelection/((t.max-t.min)/t.smallStep),r=this._calculateItemsWidth(_.floor(this._distance()/t.smallStep));"none"!=t.tickPlacement&&n>=2&&(e(this.element).parent().find(".k-slider-items").remove(),this._trackDiv.before(function(e,t){var i,n="<ul class='k-reset k-slider-items'>",r=_.floor(W(t/e.smallStep))+1;for(i=0;i<r;i++)n+="<li class='k-tick' role='presentation'>&nbsp;</li>";return n+="</ul>"}(t,this._distance())),this._setItemsWidth(r),this._setItemsTitle()),this._calculateSteps(r),"none"!=t.tickPlacement&&n>=2&&t.largeStep>=t.smallStep&&this._setItemsLargeTick()},getSize:function(){return n.dimensions(this.wrapper)},_setTrackDivWidth:function(){var e=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._sizeFn](this.wrapper[this._sizeFn]()-2-e)},_setItemsWidth:function(t){var i,n=this.options,r=t.length-1,o=this.wrapper.find(".k-tick"),l=0,c=o.length,h=0;for(i=0;i<c-2;i++)e(o[i+1])[this._sizeFn](t[i]);if(this._isHorizontal?(e(o[0]).addClass("k-first")[this._sizeFn](t[r-1]),e(o[r]).addClass("k-last")[this._sizeFn](t[r])):(e(o[r]).addClass("k-first")[this._sizeFn](t[r]),e(o[0]).addClass("k-last")[this._sizeFn](t[r-1])),this._distance()%n.smallStep!=0&&!this._isHorizontal){for(i=0;i<t.length;i++)h+=t[i];l=this._maxSelection-h,l+=parseFloat(this._trackDiv.css(this._position),10)+2,this.wrapper.find(".k-slider-items").css("padding-top",l)}},_setItemsTitle:function(){for(var t=this.options,n=this.wrapper.find(".k-tick"),r=t.min,o=n.length,i=this._isHorizontal&&!this._isRtl?0:o-1,l=this._isHorizontal&&!this._isRtl?o:-1,c=this._isHorizontal&&!this._isRtl?1:-1;i-l!=0;i+=c)e(n[i]).attr("title",d(t.tooltip.format,W(r))),r+=t.smallStep},_setItemsLargeTick:function(){var t,n=this.options,r=this.wrapper.find(".k-tick"),i=0;if(G(n.largeStep)%G(n.smallStep)==0||this._distance()/n.largeStep>=3)for(this._isHorizontal||this._isRtl||(r=e.makeArray(r).reverse()),i=0;i<r.length;i++){t=e(r[i]);var o=W(G(this._values[i]-this.options.min));o%G(n.smallStep)==0&&o%G(n.largeStep)==0&&(t.addClass("k-tick-large").html("<span class='k-label'>"+t.attr("title")+"</span>"),0!==i&&i!==r.length-1&&t.css("line-height",t[this._sizeFn]()+"px"))}},_calculateItemsWidth:function(e){var t,n,i,r=this.options,o=parseFloat(this._trackDiv.css(this._sizeFn))+1,l=this._distance(),c=o/l;for(l/r.smallStep-_.floor(l/r.smallStep)>0&&(o-=l%r.smallStep*c),t=o/e,n=[],i=0;i<e-1;i++)n[i]=t;return n[e-1]=n[e]=t/2,this._roundWidths(n)},_roundWidths:function(e){var i,t=0,n=e.length;for(i=0;i<n;i++)t+=e[i]-_.floor(e[i]),e[i]=_.floor(e[i]);return t=_.round(t),this._addAdditionalSize(t,e)},_addAdditionalSize:function(e,t){if(0===e)return t;var i,n=parseFloat(t.length-1)/parseFloat(1==e?e:e-1);for(i=0;i<e;i++)t[parseInt(_.round(n*i),10)]+=1;return t},_calculateSteps:function(e){var t,n=this.options,r=n.min,o=0,l=this._distance(),c=_.ceil(l/n.smallStep),i=1;if(c+=l/n.smallStep%1==0?1:0,e.splice(0,0,2*e[c-2]),e.splice(c-1,1,2*e.pop()),this._pixelSteps=[o],this._values=[r],0!==c){for(;i<c;)o+=(e[i-1]+e[i])/2,this._pixelSteps[i]=o,r+=n.smallStep,this._values[i]=W(r),i++;t=l%n.smallStep==0?c-1:c,this._pixelSteps[t]=this._maxSelection,this._values[t]=n.max,this._isRtl&&(this._pixelSteps.reverse(),this._values.reverse())}},_getValueFromPosition:function(e,t){var i,n=this.options,r=_.max(n.smallStep*(this._maxSelection/this._distance()),0),o=0,l=r/2;if(this._isHorizontal?(o=e-t.startPoint,this._isRtl&&(o=this._maxSelection-o)):o=t.startPoint-e,this._maxSelection-(parseInt(this._maxSelection%r,10)-3)/2<o)return n.max;for(i=0;i<this._pixelSteps.length;i++)if(_.abs(this._pixelSteps[i]-o)-1<=l)return W(this._values[i])},_getFormattedValue:function(e,t){var r,o,l,html="",c=this.options.tooltip;return v(e)?(o=e[0],l=e[1]):t&&t.type&&(o=t.selectionStart,l=t.selectionEnd),t&&(r=t.tooltipTemplate),!r&&c.template&&(r=n.template(c.template)),v(e)||t&&t.type?html=r?r({selectionStart:o,selectionEnd:l}):(o=d(c.format,o))+" - "+(l=d(c.format,l)):(t&&(t.val=e),html=r?r({value:e}):d(c.format,e)),html},_getDraggableArea:function(){var e=n.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?e.left:e.top+this._maxSelection,endPoint:this._isHorizontal?e.left+this._maxSelection:e.top}},_createHtml:function(){var element=this.element,e=this.options,t=element.find("input");2==t.length?(t.eq(0).prop("value",V(e.selectionStart)),t.eq(1).prop("value",V(e.selectionEnd))):element.prop("value",V(e.value)),element.wrap(function(e,element,t){var n=t?" k-slider-horizontal":" k-slider-vertical",style=e.style?e.style:element.attr("style"),r=element.attr("class")?" "+element.attr("class"):"",o="";return"bottomRight"==e.tickPlacement?o=" k-slider-bottomright":"topLeft"==e.tickPlacement&&(o=" k-slider-topleft"),"<div class='k-widget k-slider"+n+r+"'"+(style=style?" style='"+style+"'":"")+"><div class='k-slider-wrap"+(e.showButtons?" k-slider-buttons":"")+o+"'></div></div>"}(e,element,this._isHorizontal)).hide(),e.showButtons&&element.before(H(e,"increase",this._isHorizontal,this._isRtl)).before(H(e,"decrease",this._isHorizontal,this._isRtl)),element.before(function(e,element){var t=element.is("input")?1:2;return"<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div><a href='#' class='k-draghandle' title='"+(2==t?e.leftDragHandleTitle:e.dragHandleTitle)+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(t>1?e.selectionStart||e.min:e.value||e.min)+"'></a>"+(t>1?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'></a>":"")+"</div>"}(e,element))},_focus:function(t){var n=t.target,r=this.value(),o=this._drag;o||(n==this.wrapper.find(F).eq(0)[0]?(o=this._firstHandleDrag,this._activeHandle=0):(o=this._lastHandleDrag,this._activeHandle=1),r=r[this._activeHandle]),e(n).addClass(P+" k-state-selected"),o&&(this._activeHandleDrag=o,o.selectionStart=this.options.selectionStart,o.selectionEnd=this.options.selectionEnd,o._updateTooltip(r))},_focusWithMouse:function(t){t=e(t);var n=this,r=t.is(F)?t.index():0;window.setTimeout((function(){n.wrapper.find(F)[2==r?1:0].focus()}),1),n._setTooltipTimeout()},_blur:function(t){var n=this._activeHandleDrag;e(t.target).removeClass(P+" k-state-selected"),n&&(n._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var e=this;e._tooltipTimeout=window.setTimeout((function(){var t=e._drag||e._activeHandleDrag;t&&t._removeTooltip()}),300)},_clearTooltipTimeout:function(){window.clearTimeout(this._tooltipTimeout);var e=this._drag||this._activeHandleDrag;e&&e.tooltipDiv&&e.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var element=this.element,t=element.attr("form"),form=t?e("#"+t):element.closest("form");form[0]&&(this._form=form.on("reset",m(this._formResetHandler,this)))},min:function(e){if(!e)return this.options.min;this.setOptions({min:e})},max:function(e){if(!e)return this.options.max;this.setOptions({max:e})},setOptions:function(e){r.fn.setOptions.call(this,e),this._sliderItemsInit(),this._refresh()},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler),r.fn.destroy.call(this)}});function H(e,t,n,r){var o="";return o=n?!r&&"increase"==t||r&&"increase"!=t?"k-i-arrow-60-right":"k-i-arrow-60-left":"increase"==t?"k-i-arrow-60-up":"k-i-arrow-60-down","<a class='k-button k-button-"+t+"' title='"+e[t+"ButtonTitle"]+"' aria-label='"+e[t+"ButtonTitle"]+"'><span class='k-icon "+o+"'></span></a>"}function N(e){return function(t){return t+e}}function O(e){return function(){return e}}function V(e){return(e+"").replace(".",n.cultures.current.numberFormat["."])}function W(e){var t,n;return t=function(e){var t=e.toString(),n=0;return(t=t.split("."))[1]&&(n=t[1].length),n=n>10?10:n}(e=parseFloat(e,10)),n=_.pow(10,t||0),_.round(e*n)/n}function U(element,e){var n=f(element.getAttribute(e));return null===n&&(n=t),n}function j(e){return typeof e!==z}function G(e){return 1e4*e}var $=L.extend({init:function(element,n){var r;element.type="text",n=h({},{value:U(element,"value"),min:U(element,"min"),max:U(element,"max"),smallStep:U(element,"step")},n),element=e(element),n&&n.enabled===t&&(n.enabled=!element.is("[disabled]")),L.fn.init.call(this,element,n),j((n=this.options).value)&&null!==n.value||(n.value=n.min,element.prop("value",V(n.min))),n.value=_.max(_.min(n.value,n.max),n.min),r=this.wrapper.find(F),this._selection=new $.Selection(r,this,n),this._drag=new $.Drag(r,"",this,n)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(t){var r,o,l=this,c=l.options;if(l.disable(),!1!==t){if(l.wrapper.removeClass("k-state-disabled").addClass("k-state-default"),l.wrapper.find("input").removeAttr("disabled"),r=function(t){var n=B(t)[0];if(n){var r=l._isHorizontal?n.location.pageX:n.location.pageY,o=l._getDraggableArea(),c=e(t.target);c.hasClass("k-draghandle")?c.addClass(P+" k-state-selected"):(l._update(l._getValueFromPosition(r,o)),l._focusWithMouse(t.target),l._drag.dragstart(t),t.preventDefault())}},l.wrapper.find(".k-tick, .k-slider-track").on(S,r).end().on(S,(function(){e(document.documentElement).one("selectstart",n.preventDefault)})).on(D,(function(){l._drag._end()})),l.wrapper.find(F).attr("tabindex",0).on(T,(function(){l._setTooltipTimeout()})).on(A,(function(e){l._focusWithMouse(e.target),e.preventDefault()})).on(M,m(l._focus,l)).on(R,m(l._blur,l)),o=m((function(e){var t=l._nextValueByIndex(l._valueIndex+1*e);l._setValueInRange(t),l._drag._updateTooltip(t)}),l),c.showButtons){var h=m((function(e,t){this._clearTooltipTimeout(),(1===e.which||w.touch&&0===e.which)&&(o(t),this.timeout=setTimeout(m((function(){this.timer=setInterval((function(){o(t)}),60)}),this),200))}),l);l.wrapper.find(".k-button").on(T,m((function(e){this._clearTimer(),l._focusWithMouse(e.target)}),l)).on(I,(function(t){e(t.currentTarget).addClass("k-state-hover")})).on("mouseout"+k,m((function(t){e(t.currentTarget).removeClass("k-state-hover"),this._clearTimer()}),l)).eq(0).on(C,m((function(e){h(e,1)}),l)).click(!1).end().eq(1).on(C,m((function(e){h(e,-1)}),l)).click(n.preventDefault)}l.wrapper.find(F).off(E,!1).on(E,m(this._keydown,l)),c.enabled=!0}},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled"),e(this.element).prop("disabled","disabled"),this.wrapper.find(".k-button").off(C).on(C,(function(t){t.preventDefault(),e(this).addClass("k-state-active")})).off(T).on(T,(function(t){t.preventDefault(),e(this).removeClass("k-state-active")})).off("mouseleave"+k).on("mouseleave"+k,n.preventDefault).off(I).on(I,n.preventDefault),this.wrapper.find(".k-tick, .k-slider-track").off(S).off(D),this.wrapper.find(F).attr("tabindex",-1).off(T).off(E).off(A).off(M).off(R),this.options.enabled=!1},_update:function(e){var t=this.value()!=e;this.value(e),t&&this.trigger("change",{value:this.options.value})},value:function(e){var t=this.options;if(e=W(e),isNaN(e))return t.value;e>=t.min&&e<=t.max&&t.value!=e&&(this.element.prop("value",V(e)),t.value=e,this._refreshAriaAttr(e),this._refresh())},_refresh:function(){this.trigger("moveSelection",{value:this.options.value})},_refreshAriaAttr:function(e){var t,n=this._drag;t=n&&n._tooltipDiv?n._tooltipDiv.text():this._getFormattedValue(e,null),this.wrapper.find(F).attr("aria-valuenow",e).attr("aria-valuetext",t)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){e.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[e.keyCode](this.options.value)),this._drag._updateTooltip(this.value()),e.preventDefault())},_setValueInRange:function(e){var t=this.options;e=W(e),isNaN(e)?this._update(t.min):(e=_.max(_.min(e,t.max),t.min),this._update(e))},_nextValueByIndex:function(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[_.max(0,_.min(e,t-1))]},_formResetHandler:function(){var e=this,t=e.options.min;setTimeout((function(){var n=e.element[0].value;e.value(""===n||isNaN(n)?t:n)}))},destroy:function(){L.fn.destroy.call(this),this.wrapper.off(k).find(".k-button").off(k).end().find(F).off(k).end().find(".k-tick, .k-slider-track").off(k).end(),this._drag.draggable.destroy(),this._drag._removeTooltip(!0)}});$.Selection=function(e,t,n){function r(r){var o=r-n.min,l=t._valueIndex=_.ceil(W(o/n.smallStep)),c=parseInt(t._pixelSteps[l],10),h=t._trackDiv.find(".k-slider-selection"),d=parseInt(t._outerSize(e)/2,10),f=t._isRtl?2:0;h[t._sizeFn](t._isRtl?t._maxSelection-c:c),e.css(t._position,c-d-f)}r(n.value),t.bind(["slide","moveSelection"],(function(e){r(parseFloat(e.value,10))})),t.bind("change",(function(e){r(parseFloat(e.sender.value(),10))}))},$.Drag=function(element,e,t,n){this.owner=t,this.options=n,this.element=element,this.type=e,this.draggable=new o(element,{distance:0,dragstart:m(this._dragstart,this),drag:m(this.drag,this),dragend:m(this.dragend,this),dragcancel:m(this.dragcancel,this)}),element.click(!1),element.on("dragstart",(function(e){e.preventDefault()}))},$.Drag.prototype={dragstart:function(e){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this._dragstart(e),this.dragend()},_dragstart:function(t){var n=this.owner,r=this.options;r.enabled?(this.owner._activeDragHandle=this,n.element.off(I),n.wrapper.find("."+P).removeClass(P+" k-state-selected"),this.element.addClass(P+" k-state-selected"),e(document.documentElement).css("cursor","pointer"),this.dragableArea=n._getDraggableArea(),this.step=_.max(r.smallStep*(n._maxSelection/n._distance()),0),this.type?(this.selectionStart=r.selectionStart,this.selectionEnd=r.selectionEnd,n._setZIndex(this.type)):this.oldVal=this.val=r.value,this._removeTooltip(!0),this._createTooltip()):t.preventDefault()},_createTooltip:function(){var t,r=this.owner,o=this.options.tooltip,html="",l=e(window);o.enabled&&(o.template&&(this.tooltipTemplate=n.template(o.template)),e(".k-slider-tooltip").remove(),this.tooltipDiv=e("<div class='k-widget k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body),html=r._getFormattedValue(this.val||r.value(),this),this.type||(t="k-callout-"+(r._isHorizontal?"s":"e"),this.tooltipInnerDiv="<div class='k-callout "+t+"'>\x3c!-- --\x3e</div>",html+=this.tooltipInnerDiv),this.tooltipDiv.html(html),this._scrollOffset={top:l.scrollTop(),left:l.scrollLeft()},this.moveTooltip())},drag:function(e){var t,n=this.owner,r=e.x.location,o=e.y.location,l=this.dragableArea.startPoint,c=this.dragableArea.endPoint;e.preventDefault(),n._isHorizontal?n._isRtl?this.val=this.constrainValue(r,l,c,r<c):this.val=this.constrainValue(r,l,c,r>=c):this.val=this.constrainValue(o,c,l,o<=c),this.oldVal!=this.val&&(this.oldVal=this.val,this.type?("firstHandle"==this.type?this.val<this.selectionEnd?this.selectionStart=this.val:this.selectionStart=this.selectionEnd=this.val:this.val>this.selectionStart?this.selectionEnd=this.val:this.selectionStart=this.selectionEnd=this.val,t={values:[this.selectionStart,this.selectionEnd],value:[this.selectionStart,this.selectionEnd]}):t={value:this.val},n.trigger("slide",t)),this._updateTooltip(this.val)},_updateTooltip:function(e){var html="";this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),html=this.owner._getFormattedValue(W(e),this),this.type||(html+=this.tooltipInnerDiv),this.tooltipDiv.html(html),this.moveTooltip())},dragcancel:function(){return this.owner._refresh(),e(document.documentElement).css("cursor",""),this._end()},dragend:function(){var t=this.owner;return e(document.documentElement).css("cursor",""),this.type?t._update(this.selectionStart,this.selectionEnd):(t._update(this.val),this.draggable.userEvents._disposeAll()),this.draggable.userEvents.cancel(),this._end()},_end:function(){var e=this.owner;return e._focusWithMouse(this.element),e.element.on(I),!1},_removeTooltip:function(t){var n=this,r=n.owner;n.tooltipDiv&&r.options.tooltip.enabled&&r.options.enabled&&(t?(n.tooltipDiv.remove(),n.tooltipDiv=null):n.tooltipDiv.fadeOut("slow",(function(){e(this).remove(),n.tooltipDiv=null})))},moveTooltip:function(){var t,r,o,h,d=this.owner,f=0,m=0,element=this.element,v=n.getOffset(element),_=e(window),w=this.tooltipDiv.find(".k-callout"),y=l(this.tooltipDiv),x=c(this.tooltipDiv);this.type?(t=d.wrapper.find(F),v=n.getOffset(t.eq(0)),r=n.getOffset(t.eq(1)),d._isHorizontal?(f=r.top,m=v.left+(r.left-v.left)/2):(f=v.top+(r.top-v.top)/2,m=r.left),h=l(t.eq(0))+16):(f=v.top,m=v.left,h=l(element)+16),d._isHorizontal?(m-=parseInt((y-d._outerSize(element))/2,10),f-=x+8+(w.length?w.height():0)):(f-=parseInt((x-d._outerSize(element))/2,10),m-=y+8+(w.length?w.width():0)),d._isHorizontal?(f+=o=this._flip(f,x,h,c(_)+this._scrollOffset.top),m+=this._fit(m,y,l(_)+this._scrollOffset.left)):(o=this._flip(m,y,h,l(_)+this._scrollOffset.left),f+=this._fit(f,x,c(_)+this._scrollOffset.top),m+=o),o>0&&w&&(w.removeClass(),w.addClass("k-callout k-callout-"+(d._isHorizontal?"n":"w"))),this.tooltipDiv.css({top:f,left:m})},_fit:function(e,t,n){var output=0;return e+t>n&&(output=n-(e+t)),e<0&&(output=-e),output},_flip:function(e,t,n,r){var output=0;return e+t>r&&(output+=-(n+t)),e+output<0&&(output+=n+t),output},constrainValue:function(e,t,n,r){return t<e&&e<n?this.owner._getValueFromPosition(e,this.dragableArea):r?this.options.max:this.options.min}},n.ui.plugin($);var Y=L.extend({init:function(element,n){var r=e(element).find("input"),o=r.eq(0)[0],l=r.eq(1)[0];o.type="text",l.type="text",n&&n.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),n.showButtons=!1),(n=h({},{selectionStart:U(o,"value"),min:U(o,"min"),max:U(o,"max"),smallStep:U(o,"step")},{selectionEnd:U(l,"value"),min:U(l,"min"),max:U(l,"max"),smallStep:U(l,"step")},n))&&n.enabled===t&&(n.enabled=!r.is("[disabled]")),L.fn.init.call(this,element,n),j((n=this.options).selectionStart)&&null!==n.selectionStart||(n.selectionStart=n.min,r.eq(0).prop("value",V(n.min))),j(n.selectionEnd)&&null!==n.selectionEnd||(n.selectionEnd=n.max,r.eq(1).prop("value",V(n.max)));var c=this.wrapper.find(F);this._selection=new Y.Selection(c,this,n),this._firstHandleDrag=new $.Drag(c.eq(0),"firstHandle",this,n),this._lastHandleDrag=new $.Drag(c.eq(1),"lastHandle",this,n)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(t){var r,o=this,l=o.options;o.disable(),!1!==t&&(o.wrapper.removeClass("k-state-disabled").addClass("k-state-default"),o.wrapper.find("input").removeAttr("disabled"),r=function(t){var n=B(t)[0];if(n){var r,c,h,d=o._isHorizontal?n.location.pageX:n.location.pageY,f=o._getDraggableArea(),m=o._getValueFromPosition(d,f),v=e(t.target);if(v.hasClass("k-draghandle"))return o.wrapper.find("."+P).removeClass(P+" k-state-selected"),void v.addClass(P+" k-state-selected");m<l.selectionStart?(r=m,c=l.selectionEnd,h=o._firstHandleDrag):m>o.selectionEnd?(r=l.selectionStart,c=m,h=o._lastHandleDrag):m-l.selectionStart<=l.selectionEnd-m?(r=m,c=l.selectionEnd,h=o._firstHandleDrag):(r=l.selectionStart,c=m,h=o._lastHandleDrag),h.dragstart(t),o._setValueInRange(r,c),o._focusWithMouse(h.element)}},o.wrapper.find(".k-tick, .k-slider-track").on(S,r).end().on(S,(function(){e(document.documentElement).one("selectstart",n.preventDefault)})).on(D,(function(){o._activeDragHandle&&o._activeDragHandle._end()})),o.wrapper.find(F).attr("tabindex",0).on(T,(function(){o._setTooltipTimeout()})).on(A,(function(e){o._focusWithMouse(e.target),e.preventDefault()})).on(M,m(o._focus,o)).on(R,m(o._blur,o)),o.wrapper.find(F).off(E,n.preventDefault).eq(0).on(E,m((function(e){this._keydown(e,"firstHandle")}),o)).end().eq(1).on(E,m((function(e){this._keydown(e,"lastHandle")}),o)),o.options.enabled=!0)},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled"),this.wrapper.find("input").prop("disabled","disabled"),this.wrapper.find(".k-tick, .k-slider-track").off(S).off(D),this.wrapper.find(F).attr("tabindex",-1).off(T).off(E).off(A).off(M).off(R),this.options.enabled=!1},_keydown:function(e,t){var n,r,o,l=this.options.selectionStart,c=this.options.selectionEnd;e.keyCode in this._keyMap&&(this._clearTooltipTimeout(),"firstHandle"==t?(o=this._activeHandleDrag=this._firstHandleDrag,(l=this._keyMap[e.keyCode](l))>c&&(c=l)):(o=this._activeHandleDrag=this._lastHandleDrag,l>(c=this._keyMap[e.keyCode](c))&&(l=c)),this._setValueInRange(W(l),W(c)),n=Math.max(l,this.options.selectionStart),r=Math.min(c,this.options.selectionEnd),o.selectionEnd=Math.max(r,this.options.selectionStart),o.selectionStart=Math.min(n,this.options.selectionEnd),o._updateTooltip(this.value()[this._activeHandle]),e.preventDefault())},_update:function(e,t){var n=this.value(),r=n[0]!=e||n[1]!=t;this.value([e,t]),r&&this.trigger("change",{values:[e,t],value:[e,t]})},value:function(e){return e&&e.length?this._value(e[0],e[1]):this._value()},_value:function(e,t){var n=this.options,r=n.selectionStart,o=n.selectionEnd;if(isNaN(e)&&isNaN(t))return[r,o];e=W(e),t=W(t),e>=n.min&&e<=n.max&&t>=n.min&&t<=n.max&&e<=t&&(r==e&&o==t||(this.element.find("input").eq(0).prop("value",V(e)).end().eq(1).prop("value",V(t)),n.selectionStart=e,n.selectionEnd=t,this._refresh(),this._refreshAriaAttr(e,t)))},values:function(e,t){return v(e)?this._value(e[0],e[1]):this._value(e,t)},_refresh:function(){var e=this.options;this.trigger("moveSelection",{values:[e.selectionStart,e.selectionEnd],value:[e.selectionStart,e.selectionEnd]}),e.selectionStart==e.max&&e.selectionEnd==e.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var n,r=this.wrapper.find(F),o=this._activeHandleDrag;n=this._getFormattedValue([e,t],o),r.eq(0).attr("aria-valuenow",e),r.eq(1).attr("aria-valuenow",t),r.attr("aria-valuetext",n)},_setValueInRange:function(e,t){var n=this.options;e=_.max(_.min(e,n.max),n.min),t=_.max(_.min(t,n.max),n.min),e==n.max&&t==n.max&&this._setZIndex("firstHandle"),this._update(_.min(e,t),_.max(e,t))},_setZIndex:function(t){this.wrapper.find(F).each((function(n){e(this).css("z-index","firstHandle"==t?1-n:n)}))},_formResetHandler:function(){var e=this,t=e.options;setTimeout((function(){var n=e.element.find("input"),r=n[0].value,o=n[1].value;e.values(""===r||isNaN(r)?t.min:r,""===o||isNaN(o)?t.max:o)}))},destroy:function(){L.fn.destroy.call(this),this.wrapper.off(k).find(".k-tick, .k-slider-track").off(k).end().find(F).off(k),this._firstHandleDrag.draggable.destroy(),this._lastHandleDrag.draggable.destroy()}});Y.Selection=function(e,t,n){function r(r){var o=(r=r||[])[0]-n.min,l=r[1]-n.min,c=_.ceil(W(o/n.smallStep)),h=_.ceil(W(l/n.smallStep)),d=t._pixelSteps[c],f=t._pixelSteps[h],m=parseInt(t._outerSize(e.eq(0))/2,10),v=t._isRtl?2:0;e.eq(0).css(t._position,d-m-v).end().eq(1).css(t._position,f-m-v),function(e,n){var r,o,l=t._trackDiv.find(".k-slider-selection");r=_.abs(e-n),l[t._sizeFn](r),t._isRtl?(o=_.max(e,n),l.css("right",t._maxSelection-o-1)):(o=_.min(e,n),l.css(t._position,o-1))}(d,f)}r(t.value()),t.bind(["change","slide","moveSelection"],(function(e){r(e.values)}))},n.ui.plugin(Y)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1053)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1053:function(e,t,n){var r,o,l;n(3),o=[n(1016)],void 0===(l="function"==typeof(r=function(){return function(e){var t=window.kendo,n=t.isFunction;function r(e){return e&&n(e.done)&&n(e.fail)}function o(e){return e&&n(e.then)&&n(e.catch)}var l=t.data.RemoteTransport.extend({init:function(e){var n=e&&e.signalr?e.signalr:{},l=n.promise;if(!l)throw new Error('The "promise" option must be set.');if(!r(l)&&!o(l))throw new Error('The "promise" option must be a Promise.');this.promise=l;var c=n.hub;if(!c)throw new Error('The "hub" option must be set.');if("function"!=typeof c.on||"function"!=typeof c.invoke)throw new Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=c,t.data.RemoteTransport.fn.init.call(this,e)},push:function(e){var t=this.options.signalr.client||{};t.create&&this.hub.on(t.create,e.pushCreate),t.update&&this.hub.on(t.update,e.pushUpdate),t.destroy&&this.hub.on(t.destroy,e.pushDestroy)},_crud:function(n,l){var c=this.hub,h=this.promise,d=this.options.signalr.server;if(!d||!d[l])throw new Error(t.format('The "server.{0}" option must be set.',l));var f=[d[l]],data=this.parameterMap(n.data,l);e.isEmptyObject(data)||f.push(data),r(h)?h.done((function(){c.invoke.apply(c,f).done(n.success).fail(n.error)})):o(h)&&h.then((function(){c.invoke.apply(c,f).then(n.success).catch(n.error)}))},read:function(e){this._crud(e,"read")},create:function(e){this._crud(e,"create")},update:function(e){this._crud(e,"update")},destroy:function(e){this._crud(e,"destroy")}});e.extend(!0,t.data,{transports:{signalr:l}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1005)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1005:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t,n){"use strict";if(t&&t.injector){var r,o,l,h,d=t.module("kendo.directives",[]),f=t.injector(["ng"]),m=f.get("$parse"),v=f.get("$timeout"),_=f.get("$log"),w=(l={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PivotGrid:"PivotDataSource",PivotConfigurator:"PivotDataSource",PanelBar:"HierarchicalDataSource",Menu:"$PLAIN",ContextMenu:"$PLAIN"},h=function(e,t){return"$PLAIN"==t?e:kendo.data[t].create(e)},function(t,element,n,source){var r=l[n]||"DataSource",o=t.$eval(source),c=h(o,r);return t.$watch(source,(function(t){var n,l=(n=e(n=element),kendo.widgetInstance(n,kendo.ui)||kendo.widgetInstance(n,kendo.mobile.ui)||kendo.widgetInstance(n,kendo.dataviz.ui));if(l&&"function"==typeof l.setDataSource&&t!==o&&t!==l.dataSource){var c=h(t,r);l.setDataSource(c),o=t}})),c}),y={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},x={name:!0,title:!0,style:!0},k=/^(input|select|textarea)$/i;d.factory("directiveFactory",["$compile",function(t){var n,o=!1;return r=t,{create:function(t,r){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,controller:["$scope","$attrs","$element",function(e,t){this.template=B(L,t),t._cleanUp=B((function(){this.template=null,t._cleanUp=null}),this)}],link:function(l,element,c,h){var d=e(element),f=t.replace(/([A-Z])/g,"-$1");d.attr(f,d.attr("data-"+f)),d[0].removeAttribute("data-"+f),F(l,element,c,t,r,h)&&(n&&clearTimeout(n),n=setTimeout((function(){l.$emit("kendoRendered"),o||(o=!0,e("form").each((function(){var form=e(this).controller("form");form&&form.$setPristine()})))})))}}}}}]);var C={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",ScrollView:"div",PanelBar:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul",Switch:"input"},S=["MobileView","MobileDrawer","MobileLayout","MobileSplitView","MobilePane","MobileModalView"],T=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];t.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],(function(e){T.push(e),e="kendo"+e,d.directive(e,(function(){return{restrict:"A",link:function(t,element,n){F(t,element,n,e,e)}}}))}));var D=kendo.htmlEncode,E=/{{/g,A=/}}/g;kendo.htmlEncode=function(e){return D(e).replace(E,"{&#8203;{").replace(A,"}&#8203;}")};var I=[];kendo.onWidgetRegistered((function(n){I=e.grep(I,(function(e){return!N.apply(null,e)})),function(e,n){function r(e,t){d.directive(e,["directiveFactory",function(n){return n.create(t,e)}])}var o=n?"Mobile":"",l=o+=e.fn.options.name,c="kendo"+o.charAt(0)+o.substr(1).toLowerCase(),h=(o="kendo"+o).replace(/([A-Z])/g,"-$1");if(-1==S.indexOf(o.replace("kendo",""))){var f=o===c?[o]:[o,c];t.forEach(f,(function(e){d.directive(e,(function(){return{restrict:"E",replace:!0,template:function(element,e){var t=C[l]||"div",n=e.kScopeField||e.scopeField;return"<"+t+" "+h+(n?'="'+n+'"':"")+">"+element.html()+"</"+t+">"}}}))}))}T.indexOf(o.replace("kendo",""))>-1||(r(o,o),c!=o&&r(c,o))}(n.widget,"Mobile"==n.prefix)})),N(["ui.Widget","mobile.ui.Widget"],"angular",(function(l,c){var h=this.self;if("init"==l)return!c&&o&&(c=o),o=null,void(c&&c.$angular&&(h.$angular_scope=c.$angular[0],h.$angular_init(h.element,c)));var d=h.$angular_scope;d&&function(e){var t=v;try{v=function(e){return e()},e()}finally{v=t}}((function(){var o=c(),f=o.elements,data=o.data;if(f.length>0)switch(l){case"cleanup":t.forEach(f,(function(t){var n=e(t).data("$$kendoScope");n&&n!==d&&n.$$kendoScope&&function(t,n){t.$destroy(),n&&e(n).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}(n,t)}));break;case"compile":var m=h.element.injector(),v=m?m.get("$compile"):r;t.forEach(f,(function(t,i){var r;if(o.scopeFrom)r=o.scopeFrom;else{var l=data&&data[i];l!==n?(r=e.extend(d.$new(),l)).$$kendoScope=!0:r=d}e(t).data("$$kendoScope",r),v(t)(r)})),H(d)}}))})),N("ui.Widget","$angular_getLogicValue",(function(){return this.self.value()})),N("ui.Widget","$angular_setLogicValue",(function(e){this.self.value(e)})),N("ui.Select","$angular_getLogicValue",(function(){var e=this.self.dataItem(),t=this.self.options.dataValueField;return e?this.self.options.valuePrimitive?t?e[t]:e:e.toJSON():null})),N("ui.Select","$angular_setLogicValue",(function(e){var t=this.self,r=t.options,o=r.dataValueField,text=r.text||"";e===n&&(e=""),o&&!r.valuePrimitive&&e&&(text=e[r.dataTextField]||"",e=e[o||r.dataTextField]),!1!==t.options.autoBind||t.listView.bound()?t.value(e):!text&&e&&r.valuePrimitive?t.value(e):t._preselect(e,text)})),N("ui.MultiSelect","$angular_getLogicValue",(function(){var t=this.self.dataItems().slice(0),n=this.self.options.dataValueField;return n&&this.self.options.valuePrimitive&&(t=e.map(t,(function(e){return e[n]}))),t})),N("ui.MultiSelect","$angular_setLogicValue",(function(t){null==t&&(t=[]);var n=this.self,r=n.options,o=r.dataValueField,data=t;o&&!r.valuePrimitive&&(t=e.map(t,(function(e){return e[o]}))),!1!==r.autoBind||r.valuePrimitive||n.listView.bound()?n.value(t):n._preselect(data,t)})),N("ui.Widget","$angular_init",(function(element,t){var n=this.self;if(t&&!e.isArray(t))for(var r=n.$angular_scope,i=n.events.length;--i>=0;){var o=n.events[i],l=t[o];l&&"string"==typeof l&&(t[o]=n.$angular_makeEventHandler(o,r,l))}})),N("ui.Widget","$angular_makeEventHandler",(function(e,t,n){return n=m(n),function(e){H(t,(function(){n(t,{kendoEvent:e})}))}})),N(["ui.Grid","ui.ListView","ui.TreeView","ui.PanelBar"],"$angular_makeEventHandler",(function(e,n,r){return"change"!=e?this.next():(r=m(r),function(e){var o,l,c,h,d,f,m=e.sender,v=m.options,_={kendoEvent:e};t.isString(v.selectable)&&(o=-1!==v.selectable.indexOf("cell"),l=-1!==v.selectable.indexOf("multiple")),m._checkBoxSelection&&(l=!0),c=_.selected=this.select(),h=_.data=[],d=_.columns=[];for(var i=0;i<c.length;i++){var w=o?c[i].parentNode:c[i],y=m.dataItem(w);o?(t.element.inArray(y,h)<0&&h.push(y),f=t.element(c[i]).index(),t.element.inArray(f,d)<0&&d.push(f)):h.push(y)}l||(_.dataItem=_.data=h[0],_.angularDataItem=kendo.proxyModelSetters(_.dataItem),_.selected=c[0]),H(n,(function(){r(n,_)}))})})),N("ui.Grid","$angular_init",(function(element,r){if(this.next(),r.columns){var o=e.extend({},kendo.Template,r.templateSettings);t.forEach(r.columns,(function(col){!col.field||col.template||col.format||col.values||col.encoded!==n&&!col.encoded||(col.template="<span ng-bind='"+kendo.expr(col.field,"dataItem")+"'>#: "+kendo.expr(col.field,o.paramName)+"#</span>")}))}})),N("mobile.ui.ButtonGroup","value",(function(e){var t=this.self;return null!=e&&(t.select(t.element.children("li.km-button").eq(e)),t.trigger("change"),t.trigger("select",{index:t.selectedIndex})),t.selectedIndex})),N("mobile.ui.ButtonGroup","_select",(function(){this.next(),this.self.trigger("change")})),d.directive("kendoMobileApplication",(function(){return{terminal:!0,link:function(e,element,t){F(e,element,t,"kendoMobileApplication","kendoMobileApplication")}}})).directive("kendoMobileView",(function(){return{scope:!0,link:{pre:function(e,element,t){t.defaultOptions=e.viewOptions,t._instance=F(e,element,t,"kendoMobileView","kendoMobileView")},post:function(e,element,t){t._instance._layout(),t._instance._scroller()}}}})).directive("kendoMobileDrawer",(function(){return{scope:!0,link:{pre:function(e,element,t){t.defaultOptions=e.viewOptions,t._instance=F(e,element,t,"kendoMobileDrawer","kendoMobileDrawer")},post:function(e,element,t){t._instance._layout(),t._instance._scroller()}}}})).directive("kendoMobileModalView",(function(){return{scope:!0,link:{pre:function(e,element,t){t.defaultOptions=e.viewOptions,t._instance=F(e,element,t,"kendoMobileModalView","kendoMobileModalView")},post:function(e,element,t){t._instance._layout(),t._instance._scroller()}}}})).directive("kendoMobileSplitView",(function(){return{terminal:!0,link:{pre:function(e,element,t){t.defaultOptions=e.viewOptions,t._instance=F(e,element,t,"kendoMobileSplitView","kendoMobileSplitView")},post:function(e,element,t){t._instance._layout()}}}})).directive("kendoMobilePane",(function(){return{terminal:!0,link:{pre:function(e,element,t){t.defaultOptions=e.viewOptions,F(e,element,t,"kendoMobilePane","kendoMobilePane")}}}})).directive("kendoMobileLayout",(function(){return{link:{pre:function(e,element,t){F(e,element,t,"kendoMobileLayout","kendoMobileLayout")}}}})).directive("kendoMobileActionSheet",(function(){return{restrict:"A",link:function(t,element,n){element.find("a[k-action]").each((function(){e(this).attr("data-"+kendo.ns+"action",e(this).attr("k-action"))})),F(t,element,n,"kendoMobileActionSheet","kendoMobileActionSheet")}}})).directive("kendoMobilePopOver",(function(){return{terminal:!0,link:{pre:function(e,element,t){t.defaultOptions=e.viewOptions,F(e,element,t,"kendoMobilePopOver","kendoMobilePopOver")}}}})).directive("kendoViewTitle",(function(){return{restrict:"E",replace:!0,template:function(element){return"<span data-"+kendo.ns+"role='view-title'>"+element.html()+"</span>"}}})).directive("kendoMobileHeader",(function(){return{restrict:"E",link:function(e,element){element.addClass("km-header").attr("data-role","header")}}})).directive("kendoMobileFooter",(function(){return{restrict:"E",link:function(e,element){element.addClass("km-footer").attr("data-role","footer")}}})).directive("kendoMobileScrollViewPage",(function(){return{restrict:"E",replace:!0,template:function(element){return"<div data-"+kendo.ns+"role='page'>"+element.html()+"</div>"}}})),t.forEach(["align","icon","rel","transition","actionsheetContext"],(function(e){var t="k"+e.slice(0,1).toUpperCase()+e.slice(1);d.directive(t,(function(){return{restrict:"A",priority:2,link:function(n,element,r){element.attr(kendo.attr(kendo.toHyphens(e)),n.$eval(r[t]))}}}))}));var M,R={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],ScrollView:["Template"],PanelBar:["Template"],TreeView:["Template"],Validator:["ErrorTemplate"]};M={},t.forEach(R,(function(e,n){t.forEach(e,(function(template){M[template]||(M[template]=[]),M[template].push("?^^kendo"+n)}))})),t.forEach(M,(function(e,t){var n="k"+t,r=kendo.toHyphens(n);d.directive(n,(function(){return{restrict:"A",require:e,terminal:!0,compile:function(t,o){if(""===o[n]){t.removeAttr(r);var template=t[0].outerHTML;return function(t,element,o,l){for(var c;!c&&l.length;)c=l.shift();c?(c.template(n,template),element.remove()):_.warn(r+" without a matching parent widget found. It can be one of the following: "+e.join(", "))}}}}}))}))}function F(t,element,r,l,h,d){if(!(element instanceof c))throw new Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.");var f=r.kNgDelay,w=t.$eval(f),y=(d=d||[])[0],x=d[1],k=e(element)[l];if(!k)return window.console.error("Could not find: "+l),null;var C=P(t,element,r,l,k),S=C.options;if(C.unresolved.length){for(var T=[],i=0,D=C.unresolved.length;i<D;i++){var E=C.unresolved[i],A=e.Deferred((function(e){var r=t.$watch(E.path,(function(t){t!==n&&(r(),e.resolve())}))})).promise();T.push(A)}e.when.apply(null,T).then(F)}else{if(!f||w)return F();var I=t.$root||t,M=function(){var e=t.$watch(f,(function(t){t!==n&&(e(),element.removeAttr(r.$attr.kNgDelay),f=null,v(F))}))};/^\$(digest|apply)$/.test(I.$$phase)?M():t.$apply(M)}function F(){var c;r.kRebind&&(c=e(e(element)[0].cloneNode(!0))),S=P(t,element,r,l,k).options,element.is("select")&&function(t){if(t.length>0){var n=e(t[0]);!/\S/.test(n.text())&&/^\?/.test(n.val())&&n.remove();for(var i=0;i<t.length;i++)e(t[i]).off("$destroy")}}(element[0].options);var object=k.call(element,o=S).data(l);!function(e,t,n,r,o){if(n[o]){var l=m(n[o]).assign;if(!l)throw new Error(o+" attribute used but expression in it is not assignable: "+n[r]);l(t,e)}}(object,t,r,l,h),t.$emit("kendoWidgetCreated",object);var d=function(e,t){var n=e.$on("$destroy",(function(){n(),t&&(kendo.destroy(t.element),t=null)}));return n}(t,object);if(r.kRebind&&function(t,n,element,r,o,l,c){var h=n.$watch(o,(function(o,d){if(!t._muteRebind&&o!==d){h(),c._cleanUp&&c._cleanUp();var f=R[t.options.name];f&&f.forEach((function(t){var o=n.$eval(c["k"+t]);o&&r.append(e(o).attr(kendo.toHyphens("k"+t),""))}));var m=e(t.wrapper)[0],v=e(t.element)[0];"Upload"===t.options.name&&(element=e(v));var _=element.injector().get("$compile");t._destroy(),l&&l(),t=null,v&&(m&&m.parentNode.replaceChild(v,m),e(element).replaceWith(r)),_(r)(n)}}),!0);H(n)}(object,t,element,c,r.kRebind,d,r),r.kNgDisabled){var f=r.kNgDisabled,v=t.$eval(f);v&&object.enable(!v),function(e,t,element,n){kendo.ui.PanelBar&&e instanceof kendo.ui.PanelBar||kendo.ui.Menu&&e instanceof kendo.ui.Menu?_.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+e.options.name):t.$watch(n,(function(t,n){t!=n&&e.enable(!t)}))}(object,t,0,f)}if(r.kNgReadonly){var w=r.kNgReadonly,C=t.$eval(w);C&&object.readonly(C),function(e,t,element,n){"function"==typeof e.readonly?t.$watch(n,(function(t,n){t!=n&&e.readonly(t)})):_.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+e.options.name)}(object,t,0,w)}return r.kNgModel&&function t(r,o,l){if(kendo.ui.DateRangePicker&&r instanceof kendo.ui.DateRangePicker){var c,h=l.split(","),d=h[0].trim();return t(r._startDateInput,o,d),void(h[1]?(c=h[1].trim(),t(r._endDateInput,o,c),r.range({start:o[d],end:o[c]})):r.range({start:o[d],end:null}))}if("function"==typeof r.value){var form=e(r.element).parents("ng-form, form").first(),f=kendo.getter(form.attr("name"),!0)(o),v=m(l),w=v.assign,y=!1,x=kendo.ui.MultiSelect&&r instanceof kendo.ui.MultiSelect||kendo.ui.RangeSlider&&r instanceof kendo.ui.RangeSlider,k=function(e){return e&&x?e.length:0},C=k(v(o));r.$angular_setLogicValue(v(o));var S=function(e,t){e===n&&(e=null),y||e==t&&k(e)==C||(C=k(e),r.$angular_setLogicValue(e))};x?o.$watchCollection(l,S):o.$watch(l,S);var T=function(){y=!0,f&&f.$pristine&&f.$setDirty(),H(o,(function(){w(o,r.$angular_getLogicValue()),C=k(v(o))})),y=!1};r.first("change",T),r.first("spin",T)}else _.warn("k-ng-model specified on a widget that does not have the value() method: "+r.options.name)}(object,t,r.kNgModel),y&&function(e,t,element,r,o){if(e.value){var l,c=!1;l=z(element)?function(){return function(element){return/checkbox|radio/i.test(element.attr("type"))?element.prop("checked"):element.val()}(element)}:function(){return e.value()};var h=function(){var o=r.$viewValue;o===n&&(o=r.$modelValue),o===n&&(o=null),c=!0,setTimeout((function(){if(c=!1,e){var n=t[e.element.attr("k-ng-model")];n&&(o=n),!1!==e.options.autoBind||e.listView.bound()?e.value(o):o&&e.value(o)}}),0)};r.$render=h,setTimeout((function(){r.$render!==h&&(r.$render=h,r.$render())})),z(element)&&element.on("change",(function(){c=!0}));var d=function(e){return function(){var n;c&&!element.is("select")||(e&&o&&(n=o.$pristine),r.$setViewValue(l()),e&&(r.$setPristine(),n&&o.$setPristine()),H(t))}};e.first("change",d(!1)),e.first("spin",d(!1)),kendo.ui.AutoComplete&&e instanceof kendo.ui.AutoComplete||e.first("dataBound",d(!0));var f=l();isNaN(r.$viewValue)||f==r.$viewValue||(r.$isEmpty(r.$viewValue)?null!=f&&""!==f&&f!=r.$viewValue&&r.$setViewValue(f):e.value(r.$viewValue)),r.$setPristine()}}(object,t,element,y,x),object&&function(t,element){if(window.MutationObserver&&t.wrapper){var n=[].slice.call(e(element)[0].classList),r=new MutationObserver((function(r){o(),t&&(r.forEach((function(r){var o=e(t.wrapper)[0];switch(r.attributeName){case"class":var l=[].slice.call(r.target.classList);l.forEach((function(e){n.indexOf(e)<0&&(o.classList.add(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.add(e))})),n.forEach((function(e){l.indexOf(e)<0&&(o.classList.remove(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.remove(e))})),n=l;break;case"disabled":"function"!=typeof t.enable||t.element.attr("readonly")||t.enable(!e(r.target).attr("disabled"));break;case"readonly":"function"!=typeof t.readonly||t.element.attr("disabled")||t.readonly(!!e(r.target).attr("readonly"))}})),l())}));l(),t.first("destroy",o)}function o(){r.disconnect()}function l(){r.observe(e(element)[0],{attributes:!0})}}(object,element),object}}function P(r,element,o,l,c){var h=l.replace(/^kendo/,""),d=[],f=o.kOptions||o.options,m=r.$eval(f);f&&m===n&&d.push({option:"options",path:f});var v=t.extend({},o.defaultOptions,m);function _(e,o){var l=t.copy(r.$eval(o));l===n?d.push({option:e,path:o}):v[e]=l}var k=c.widget.prototype.options,C=c.widget.prototype.events;e.each(o,(function(e,t){if("source"!==e&&"kDataSource"!==e&&"kScopeField"!==e&&"scopeField"!==e){var n="data"+e.charAt(0).toUpperCase()+e.slice(1);if(0===e.indexOf("on")){var r=e.replace(/^on./,(function(e){return e.charAt(2).toLowerCase()}));C.indexOf(r)>-1&&(v[r]=t)}if(k.hasOwnProperty(n))_(n,t);else if(k.hasOwnProperty(e)&&!x[e])_(e,t);else if(!y[e]){var o=e.match(/^k(On)?([A-Z].*)/);if(o){var l=o[2].charAt(0).toLowerCase()+o[2].slice(1);o[1]&&"kOnLabel"!=e?v[l]=t:("kOnLabel"==e&&(l="onLabel"),_(l,t))}}}}));var S=o.kDataSource||o.source;return S&&(v.dataSource=w(r,element,h,S)),v.$angular=[r],{options:v,unresolved:d}}function z(element){return k.test(element[0].tagName)}function B(e,t){return function(a,b){return e.call(t,a,b)}}function L(e,t){this[e]=kendo.stringify(t)}function H(e,t){var n=e.$root||e,r=/^\$(digest|apply)$/.test(n.$$phase);t?r?t():n.$apply(t):r||n.$digest()}function N(n,r,o){if(e.isArray(n))return t.forEach(n,(function(e){N(e,r,o)}));if("string"==typeof n){for(var a=n.split("."),l=kendo;l&&a.length>0;)l=l[a.shift()];if(!l)return I.push([n,r,o]),!1;n=l.prototype}var c=n[r];return n[r]=function(){var e=this,t=arguments;return o.apply({self:e,next:function(){return c.apply(e,arguments.length>0?arguments:t)}},t)},!0}}(window.kendo.jQuery,window.angular),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))},1006:function(e,t){e.exports=n(16)},1007:function(e,t){e.exports=n(0)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1117)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1117:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.caret,o=n.ui,l=o.Widget,c=n.keys,h=".kendoDateInput",d=e.proxy,f={}.toString,m=(n.support.propertyChangeEvent?"propertychange.kendoDateInput input":"input")+h,v="dMyHhmftsz",_=l.extend({init:function(element,t){var r=this;l.fn.init.call(r,element,t),element=r.element,(t=r.options).format=n._extractFormat(t.format||n.getCulture(t.culture).calendars.standard.patterns.d),t.min=n.parseDate(element.attr("min"))||n.parseDate(t.min),t.max=n.parseDate(element.attr("max"))||n.parseDate(t.max);var o=(element.parent().attr("class")||"").indexOf("k-picker-wrap")>=0;o?r.wrapper=element.parent():(r.wrapper=element.wrap("<span class='k-widget k-dateinput'></span>").parent(),r.wrapper.addClass(element[0].className),r.wrapper[0].style.cssText=element[0].style.cssText,element.css({width:"100%",height:element[0].style.height})),r._inputWrapper=e(r.wrapper[0]),e("<span class='k-icon k-i-warning'></span>").insertAfter(element),r._form(),r.element.addClass(o?" ":"k-textbox").attr("autocomplete","off").on("focusout"+h,(function(){r._change()}));try{element[0].setAttribute("type","text")}catch(e){element[0].type="text"}element.is("[disabled]")||e(r.element).parents("fieldset").is(":disabled")?r.enable(!1):r.readonly(element.is("[readonly]")),r.value(r.options.value||element.val()),n.notify(r)},options:{name:"DateInput",culture:"",value:"",format:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{year:"year",month:"month",day:"day",weekday:"day of the week",hour:"hours",minute:"minutes",second:"seconds",dayperiod:"AM/PM"}},events:["change"],min:function(e){if(void 0===e)return this.options.min;this.options.min=e},max:function(e){if(void 0===e)return this.options.max;this.options.max=e},setOptions:function(e){l.fn.setOptions.call(this,e),this._unbindInput(),this._bindInput(),this._updateElementValue()},destroy:function(){this.element.off(h),this._formElement&&this._formElement.off("reset",this._resetHandler),l.fn.destroy.call(this)},value:function(e){if(void 0===e)return this._dateTime.getDateObject();null===e&&(e=""),"[object Date]"!==f.call(e)&&(e=n.parseDate(e,this.options.format,this.options.culture)),e&&!e.getTime()&&(e=null),this._dateTime=new w(e,this.options.format,this.options.culture,this.options.messages),this._updateElementValue(),this._oldValue=e},_updateElementValue:function(){var e=this._dateTime.toPair(this.options.format,this.options.culture,this.options.messages);this.element.val(e[0]),this._oldText=e[0],this._format=e[1]},readonly:function(e){this._editable({readonly:void 0===e||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=void 0===e||e)})},_bindInput:function(){var e=this;e.element.on("focusout"+h,(function(){e._change()})).on("paste"+h,d(e._paste,e)).on("keydown"+h,d(e._keydown,e)).on(m,d(e._input,e)).on("mouseup"+h,d(e._mouseUp,e)).on("DOMMouseScroll"+h+" mousewheel"+h,d(e._scroll,e))},_unbindInput:function(){this.element.off("keydown"+h).off("paste"+h).off("focusout"+h).off(m).off("mouseup"+h).off("DOMMouseScroll"+h+" mousewheel"+h)},_editable:function(e){var element=this.element,t=e.disable,n=e.readonly,r=this.wrapper;this._unbindInput(),n||t?(t&&(r.addClass("k-state-disabled").removeClass("k-state-default"),element.attr("disabled",t),element&&element.length&&element[0].removeAttribute("readonly")),n&&element.attr("readonly",n)):(r.addClass("k-state-default").removeClass("k-state-disabled"),element&&element.length&&(element[0].removeAttribute("disabled"),element[0].removeAttribute("readonly")),this._bindInput())},_change:function(){var e=this._oldValue,t=this.value();t&&this.min()&&t<this.min()&&(this.value(this.min()),t=this.value()),t&&this.max()&&t>this.max()&&(this.value(this.max()),t=this.value()),(e&&t&&t.getTime()!==e.getTime()||e&&!t||!e&&t)&&(this._oldValue=t,this.trigger("change"),this.element.trigger("change"))},_input:function(){var e=this,element=e.element[0],t=!1;if(n._activeElement()===element){var o=function(e,t,n,r){var o=e[r+e.length-n.length];e=e.substring(0,r+e.length-n.length),n=n.substring(0,r);var i,l=[];if(e===n&&r>0)return l.push([t[r-1],n[r-1]]),l;if(0===e.indexOf(n)&&(0===n.length||t[n.length-1]!==t[n.length])){var c="";for(i=n.length;i<e.length;i++)t[i]!==c&&v.indexOf(t[i])>=0&&(c=t[i],l.push([c,""]));return l}if(" "===n[n.length-1]||n[n.length-1]===o)return[[t[r-1]," "]];if(0===n.indexOf(e)||-1===v.indexOf(t[r-1])){var symbol=t[0];for(i=Math.max(0,e.length-1);i<t.length;i++)if(v.indexOf(t[i])>=0){symbol=t[i];break}return[[symbol,n[r-1]]]}return[[t[r-1],n[r-1]]]}(this._oldText,this._format,this.element[0].value,r(this.element[0])[0]),l=1===o.length&&" "===o[0][1];if(!l)for(var i=0;i<o.length;i++){var c=this._dateTime.parsePart(o[i][0],o[i][1]);t=t||!c}if(this._updateElementValue(),o.length&&" "!==o[0][0]&&(this._selectSegment(o[0][0]),!l)){var h=o[0][0];setTimeout((function(){e._selectSegment(h)}))}l&&this._keydown({keyCode:39,preventDefault:function(){}}),t&&(clearTimeout(e._blinkInvalidTimeout),e.wrapper.addClass("k-state-invalid"),e._blinkInvalidTimeout=setTimeout((function(){e.wrapper.removeClass("k-state-invalid")}),100))}},_mouseUp:function(){var e=r(this.element[0]);e[0]===e[1]&&this._selectNearestSegment()},_scroll:function(e){if(n._activeElement()===this.element[0]&&!this.element.is("[readonly]")){var t={keyCode:37,preventDefault:function(){}};(e=window.event||e).shiftKey?t.keyCode=(e.wheelDelta||-e.detail)>0?37:39:t.keyCode=(e.wheelDelta||-e.detail)>0?38:40,this._keydown(t),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}},_form:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(element[0].value)}))},t._formElement=form.on("reset",t._resetHandler))},_paste:function(e){e.preventDefault()},_keydown:function(e){var t,o=e.keyCode;if(37==o||39==o){e.preventDefault(),(t=r(this.element[0]))[0]!=t[1]&&this._selectNearestSegment();for(var l=37==o?-1:1,h=-1==l?r(this.element[0])[0]-1:r(this.element[0])[1]+1;h>=0&&h<this._format.length;){if(v.indexOf(this._format[h])>=0){this._selectSegment(this._format[h]);break}h+=l}}if(38==o||40==o){e.preventDefault(),t=r(this.element[0]);var symbol=this._format[t[0]];if(v.indexOf(symbol)>=0){var d=1;"m"==symbol&&(d=this.options.interval||1),this._dateTime.modifyPart(symbol,38==o?1*d:-1*d),this._updateElementValue(),this._selectSegment(symbol),this.element.trigger("change")}}if(n.support.browser.msie&&n.support.browser.version<10){var f=e.keyCode?e.keyCode:e.which;if(8===f||46===f){var m=this;setTimeout((function(){m._input()}),0)}}o===c.ENTER&&this._change()},_selectNearestSegment:function(){for(var e=r(this.element[0])[0],i=e,t=e-1;i<this._format.length||t>=0;i++,t--){if(i<this._format.length&&-1!==v.indexOf(this._format[i]))return void this._selectSegment(this._format[i]);if(t>=0&&-1!==v.indexOf(this._format[t]))return void this._selectSegment(this._format[t])}},_selectSegment:function(symbol){for(var e=-1,t=0,i=0;i<this._format.length;i++)this._format[i]===symbol&&(t=i+1,-1===e&&(e=i));e<0&&(e=0),r(this.element,e,t)}});o.plugin(_);var w=function(e,t,r,o){var l=null,c=!0,h=!0,d=!0,f=!0,m=!0,v=!0,_="",w="",y={},x=["","0","00","000","0000"];function k(e,t,n){return(n=(t=t||2)-(e+="").length)?x[t].substring(0,n)+e:e}var C=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,S=null,T=null,D=null,E=!1,A=function(e){var t,n,r;switch(e){case"d":r=d?l.getDate():y.day;break;case"dd":r=d?k(l.getDate()):y.day;break;case"ddd":r=d&&h&&c?D.namesAbbr[l.getDay()]:y.weekday;break;case"dddd":r=d&&h&&c?D.names[l.getDay()]:y.weekday;break;case"M":r=h?l.getMonth()+1:y.month;break;case"MM":r=h?k(l.getMonth()+1):y.month;break;case"MMM":r=h?S.namesAbbr[l.getMonth()]:y.month;break;case"MMMM":r=h?S.names[l.getMonth()]:y.month;break;case"yy":r=c?k(l.getFullYear()%100):y.year;break;case"yyyy":r=c?k(l.getFullYear(),4):y.year;break;case"h":r=f?l.getHours()%12||12:y.hour;break;case"hh":r=f?k(l.getHours()%12||12):y.hour;break;case"H":r=f?l.getHours():y.hour;break;case"HH":r=f?k(l.getHours()):y.hour;break;case"m":r=m?l.getMinutes():y.minute;break;case"mm":r=m?k(l.getMinutes()):y.minute;break;case"s":r=v?l.getSeconds():y.second;break;case"ss":r=v?k(l.getSeconds()):y.second;break;case"f":r=Math.floor(l.getMilliseconds()/100);break;case"ff":(r=l.getMilliseconds())>99&&(r=Math.floor(r/10)),r=k(r);break;case"fff":r=k(l.getMilliseconds(),3);break;case"tt":r=f?l.getHours()<12?T.AM[0]:T.PM[0]:y.dayperiod;break;case"zzz":n=(t=l.getTimezoneOffset())<0,r=Math.abs(t/60).toString().split(".")[0],t=Math.abs(t)-60*r,r=(n?"+":"-")+k(r),r+=":"+k(t);break;case"z":case"zz":n=(r=l.getTimezoneOffset()/60)<0,r=Math.abs(r).toString().split(".")[0],r=(n?"+":"-")+("zz"===e?k(r):r)}if(r=void 0!==r?r:e.slice(1,e.length-1),E){r=""+r;var o="";"ddd"==e&&(e="EEE"),"dddd"==e&&(e="EEEE");for(var i=0;i<r.length;i++)o+=e[0];return o}return r};function I(e){return E=e,A}function M(symbol,e){switch(symbol){case"y":c=e;break;case"M":h=e,e||(l.setMonth(0),_="");break;case"d":d=e;break;case"H":case"h":f=e,e||(w="");break;case"m":m=e;break;case"s":v=e;break;default:return}}if(this.setValue=function(e){d=e},this.getValue=function(){return d},this.modifyPart=function(symbol,e){var t=new Date(l&&l.getTime?l.getTime():l);switch(symbol){case"y":t.setFullYear(t.getFullYear()+e);break;case"M":var n=t.getMonth()+e;t.setMonth(n),t.getMonth()%12!=(n+12)%12&&(t.setDate(1),t.setMonth(n));break;case"d":case"E":t.setDate(t.getDate()+e);break;case"H":case"h":t.setHours(t.getHours()+e);break;case"m":t.setMinutes(t.getMinutes()+e);break;case"s":t.setSeconds(t.getSeconds()+e);break;case"t":t.setHours((t.getHours()+12)%24)}t.getFullYear()>0&&(M(symbol,!0),l=t)},this.parsePart=function(symbol,e){if(!e)return M(symbol,!1),!0;var t,n=new Date(l&&l.getTime?l.getTime():l);switch(symbol){case"d":var r=(d?10*n.getDate():0)+parseInt(e,10);if(isNaN(r))return;for(;r>31;)r=parseInt(r.toString().slice(1),10);if(r<1)d=!1;else{if(n.setDate(r),n.getMonth()!==l.getMonth())return;d=!0}break;case"M":var o=(h?10*(n.getMonth()+1):0)+parseInt(e,10);if(isNaN(o)){var y=T.months.names;for(_+=e.toLowerCase();_.length>0;){for(var i=0;i<y.length;i++)if(0===y[i].toLowerCase().indexOf(_))return n.setMonth(i),h=!0,l=n,!0;_=_.substring(1,_.length)}return!1}for(;o>12;)o=parseInt(o.toString().slice(1),10);o<1?h=!1:(n.setMonth(o-1),n.getMonth()!==o-1&&(n.setDate(1),n.setMonth(o-1)),h=!0);break;case"y":var x=(c?10*n.getFullYear():0)+parseInt(e,10);if(isNaN(x))return;for(;x>9999;)x=parseInt(x.toString().slice(1),10);x<1?c=!1:(n.setFullYear(x),c=!0);break;case"h":if(t=(f?10*(n.getHours()%12||12):0)+parseInt(e,10),isNaN(t))return;for(;t>12;)t=parseInt(t.toString().slice(1),10);n.setHours(12*Math.floor(n.getHours()/12)+t%12),f=!0;break;case"H":if(t=(f?10*n.getHours():0)+parseInt(e,10),isNaN(t))return;for(;t>23;)t=parseInt(t.toString().slice(1),10);n.setHours(t),f=!0;break;case"m":var k=(m?10*n.getMinutes():0)+parseInt(e,10);if(isNaN(k))return;for(;k>59;)k=parseInt(k.toString().slice(1),10);n.setMinutes(k),m=!0;break;case"s":var C=(v?10*n.getSeconds():0)+parseInt(e,10);if(isNaN(C))return;for(;C>59;)C=parseInt(C.toString().slice(1),10);n.setSeconds(C),v=!0;break;case"t":if(f){for(w+=e.toLowerCase();w.length>0;){if(0===T.AM[0].toLowerCase().indexOf(w)&&n.getHours()>=12||0===T.PM[0].toLowerCase().indexOf(w)&&n.getHours()<12)return n.setHours((n.getHours()+12)%24),l=n,!0;w=w.substring(1,w.length)}return!1}}return l=n,!0},this.toPair=function(e,t,r){return e?(t=n.getCulture(t),e=(T=t.calendars.standard).patterns[e]||e,D=T.days,S=T.months,y=r,[e.replace(C,I(!1)),e.replace(C,I(!0))]):["",""]},this.getDateObject=function(){return c&&h&&d&&f&&m&&v?new Date(l.getTime()):null},e)l=new Date(e.getTime());else{l=new Date;for(var R=this.toPair(t,r,o)[1],i=0;i<R.length;i++)M(R[i],!1)}}}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1216)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1216:function(e,t,n){var r,o,l;n(3),o=[n(1217)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=window.kendo,o=r.ui.FileBrowser,l=e.isPlainObject,c=e.proxy,h=e.extend,d=r.support.browser,f=r.isFunction,m=/(^\/|\/$)/g,v=".kendoImageBrowser",_={field:"type",dir:"asc"},w=r.template('<li class="k-tile-empty"><strong>${text}</strong></li>');function y(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t}h(!0,r.data,{schemas:{imagebrowser:{data:function(data){return data.items||data||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),h(!0,r.data,{transports:{imagebrowser:r.data.RemoteTransport.extend({init:function(t){r.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,n){n.data=e.extend({},n.data,{path:this.options.path()}),f(this.options[t])?this.options[t].call(this,n):r.data.RemoteTransport.fn[t].call(this,n)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),n=d.msie&&d.version<8?function(element){return element.offsetTop}:function(element){return element.offsetTop-e(element).height()};var x=o.extend({init:function(element,e){e=e||{},o.fn.init.call(this,element,e),this.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var path,e=this._selectedItem(),n=this.options.transport.imageUrl;if(e&&"f"===e.get("type"))return path=function(path,e){return path!==t&&path.match(/\/$/)||(path=(path||"")+"/"),path+e}(this.path(),e.get("name")).replace(m,""),n&&(path=f(n)?n(path):r.format(n,encodeURIComponent(path))),path},_fileUpload:function(e){var n,o=this,l=o.options,c=l.fileTypes,h=new RegExp(("("+c.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),d=e.files[0].name,f=e.files[0].size;h.test(d)?(e.data={path:o.path()},(n=o._createFile(d,f))?(n._uploading=!0,o.upload.one("error",(function(){n=t})),o.upload.one("success",(function(e){if(n){delete n._uploading;var t=o._insertFileToList(n);t._override&&(t.set("name",e.response[o._getFieldName("name")]),t.set("size",e.response[o._getFieldName("size")]),o.listView.dataSource.pushUpdate(t)),o._tiles=o.listView.items().filter("["+r.attr("type")+"=f]"),o._scroll()}}))):e.preventDefault()):(e.preventDefault(),o._showMessage(r.format(l.messages.invalidFileType,d,c)))},_content:function(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("scroll"+v,c(t._scroll,t)).on("dblclick"+v,"li",c(t._dblClick,t)),t.listView=new r.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-i-close").parent().addClass("k-state-disabled"),"remove"!==e.action&&"sync"!==e.action||(e.preventDefault(),r.ui.progress(t.listView.element,!1))},dataBound:function(){t.dataSource.view().length?(t._tiles=this.items().filter("["+r.attr("type")+"=f]"),t._scroll()):this.wrapper.append(w({text:t.options.messages.emptyFolder}))},change:c(t._listViewChange,t)})},_dataSource:function(){var e=this.options,t=e.transport,n=h({},_),o={field:"name",dir:"asc"},d={type:t.type||"imagebrowser",sort:[n,o]};l(t)&&(t.path=c(this.path,this),d.transport=t),l(e.schema)?d.schema=e.schema:t.type&&l(r.data.schemas[t.type])&&r.data.schemas[t.type],this.dataSource&&this._errorHandler?this.dataSource.unbind("error",this._errorHandler):this._errorHandler=c(this._error,this),this.dataSource=r.data.DataSource.create(d).bind("error",this._errorHandler)},_loadImage:function(li){var element=e(li),t=this.dataSource.getByUid(element.attr(r.attr("uid"))),n=t.get("name"),o=this.options.transport.thumbnailUrl,img=e("<img />",{alt:n}),l="?";t._uploading||(img.hide().on("load"+v,(function(){e(this).prev().remove().end().addClass("k-image").fadeIn()})),element.find(".k-i-loading").after(img),f(o)?o=o(this.path(),encodeURIComponent(n)):(o.indexOf("?")>=0&&(l="&"),o=o+l+"path="+encodeURIComponent(this.path()+n),t._override&&(o+="&_="+(new Date).getTime(),delete t._override)),img.attr("src",o),li.loaded=!0)},_scroll:function(){var e=this;e.options.transport&&e.options.transport.thumbnailUrl&&(clearTimeout(e._timeout),e._timeout=setTimeout((function(){var t=r._outerHeight(e.list),o=e.list.scrollTop(),l=o+t;e._tiles.each((function(){var t=n(this),r=t+this.offsetHeight;if((t>=o&&t<l||r>=o&&r<l)&&e._loadImage(this),t>l)return!1})),e._tiles=e._tiles.filter((function(){return!this.loaded}))}),250))},_itemTmpl:function(){var html='<li class="k-tile" '+r.attr("uid")+'="#=uid#" ';return html+=r.attr("type")+'="${type}">',html+='#if(type == "d") { #',html+='<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>',html+="#}else{#",this.options.transport&&this.options.transport.thumbnailUrl?html+='<div class="k-thumb"><span class="k-icon k-i-loading"></span></div>':html+='<div class="k-thumb"><span class="k-icon k-i-file"></span></div>',html+="#}#",html+="<strong>${name}</strong>",html+='#if(type == "f") { # <span class="k-filesize">${this.sizeFormatter(size)}</span> #}#',html+="</li>",c(r.template(html),{sizeFormatter:y})}});r.ui.plugin(x)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1217:function(e,t){e.exports=n(127)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1183)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1011:function(e,t){e.exports=n(13)},1183:function(e,t,n){var r,o,l;n(3),o=[n(1184),n(1011),n(1185)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.isPlainObject,l=e.proxy,c=e.extend,h=n.support.placeholder,d=n.support.browser,f=n.isFunction,m=/(^\/|\/$)/g,v=".kendoFileBrowser",_=".kendoBreadcrumbs",w=".kendoSearchBox",y={field:"type",dir:"asc"},x=n.template('<li class="k-tile-empty"><strong>${text}</strong></li>');function k(path,e){return path!==t&&path.match(/\/$/)||(path=(path||"")+"/"),path+e}function C(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t}c(!0,n.data,{schemas:{filebrowser:{data:function(data){return data.items||data||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),c(!0,n.data,{transports:{filebrowser:n.data.RemoteTransport.extend({init:function(t){n.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,r){r.data=e.extend({},r.data,{path:this.options.path()}),f(this.options[t])?this.options[t].call(this,r):n.data.RemoteTransport.fn[t].call(this,r)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),d.msie&&d.version;var S=r.extend({init:function(element,e){e=e||{},r.fn.init.call(this,element,e),this.element.addClass("k-filebrowser"),this.element.on("click"+v,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-close)",l(this._deleteClick,this)).on("click"+v,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-folder-add)",l(this._addClick,this)).on("keydown"+v,"li.k-state-selected input",l(this._directoryKeyDown,this)).on("blur"+v,"li.k-state-selected input",l(this._directoryBlur,this)),this._dataSource(),this.refresh(),this.path(this.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:["error","change","apply"],destroy:function(){r.fn.destroy.call(this),this.dataSource.unbind("error",this._errorHandler),this.element.add(this.list).add(this.toolbar).off(v),n.destroy(this.element)},value:function(){var path,e=this._selectedItem(),t=this.options.transport.fileUrl;if(e&&"f"===e.get("type"))return path=k(this.path(),e.get("name")).replace(m,""),t&&(path=f(t)?t(path):n.format(t,encodeURIComponent(path))),path},_selectedItem:function(){var e=this.listView.select();if(e.length)return this.dataSource.getByUid(e.attr(n.attr("uid")))},_toolbar:function(){var t=this,template=n.template('<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-i-plus"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-i-folder-add" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-i-close" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></div></div>'),r=t.options.messages,o=[{text:r.orderByName,value:"name"},{text:r.orderBySize,value:"size"}];t.toolbar=e(template({messages:r,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:r.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:!0},upload:l(t._fileUpload,t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end(),t.upload=t.toolbar.find(".k-upload input").data("kendoUpload"),t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:o,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList"),t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var element,t,n,r,o;this.options.transport.uploadUrl&&(element=e(document.documentElement),t=e.proxy(this._dropEnter,this),n=e.proxy(this._dropLeave,this),element.on("dragenter"+v,(function(){t(),o=new Date,r||(r=setInterval((function(){new Date-o>100&&(n(),clearInterval(r),r=null)}),100))})).on("dragover"+v,(function(){o=new Date})),this._scrollHandler=l(this._positionDropzone,this))},_dropEnter:function(){this._positionDropzone(),e(document).on("scroll"+v,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),e(document).off("scroll"+v,this._scrollHandler)},_positionDropzone:function(){var element=this.element,e=element.offset();this.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(e).css({width:element[0].clientWidth,height:element[0].clientHeight,lineHeight:element[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this.listView.select(),t=n.format(this.options.messages.deleteFile,e.find("strong").text());e.length&&this._showMessage(t,"confirm")&&this.listView.remove(e)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return function(e,t){var n=e[t];return o(n)?n.from||n.field||t:n}(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var t,r=this,o=r.options,l=o.fileTypes,c=new RegExp(("("+l.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),h=e.files[0].name,d=e.files[0].size;c.test(h)?(e.data={path:r.path()},(t=r._createFile(h,d))?r.upload.one("success",(function(e){var o=r._insertFileToList(t);o._override&&(o.set("name",e.response[r._getFieldName("name")]),o.set("size",e.response[r._getFieldName("size")]),r.listView.dataSource.pushUpdate(o)),r._tiles=r.listView.items().filter("["+n.attr("type")+"=f]")})):e.preventDefault()):(e.preventDefault(),r._showMessage(n.format(o.messages.invalidFileType,h,l)))},_findFile:function(e){var t,n,r,data=this.dataSource.data();for(e=e.toLowerCase(),t=0,r=data.length;t<r;t++)if("f"===data[t].get("type")&&data[t].get("name").toLowerCase()===e){n=data[t];break}return n},_createFile:function(e,t){var r={},o=this._findFile(e);return o?this._showMessage(n.format(this.options.messages.overwriteFile,e),"confirm")?(o._override=!0,o):null:(r.type="f",r.name=e,r.size=t,r)},_insertFileToList:function(e){var t;if(e._override)return e;for(var n=this.dataSource,view=n.view(),i=0,r=view.length;i<r;i++)if("f"===view[i].get("type")){t=i;break}return n.insert(++t,e)},createDirectory:function(){var e,t,r=this,o=0,view=r.dataSource.data(),l=r._nameDirectory(),c=new r.dataSource.reader.model;for(e=0,t=view.length;e<t;e++)"d"===view[e].get("type")&&(o=e);c.set("type","d"),c.set("name",l),r.listView.one("dataBound",(function(){var e=r.listView.items().filter("["+n.attr("uid")+"="+c.uid+"]");e.length&&this.edit(e),this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight),setTimeout((function(){r.listView.element.find(".k-edit-item input").select()}))})).one("save",(function(e){var t=e.model.get("name");t?e.model.set("name",r._nameExists(t,c.uid)?r._nameDirectory():t):e.model.set("name",l)})),r.dataSource.insert(++o,c)},_directoryKeyDown:function(e){13==e.keyCode&&e.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var n,r,data=this.dataSource.data();for(n=0,r=data.length;n<r;n++)if("d"===data[n].get("type")&&data[n].get("name").toLowerCase()===e.toLowerCase()&&data[n].uid!==t)return!0;return!1},_nameDirectory:function(){var t,n,r,o="New folder",data=this.dataSource.data(),l=[];for(n=0,r=data.length;n<r;n++)"d"===data[n].get("type")&&data[n].get("name").toLowerCase().indexOf(o.toLowerCase())>-1&&l.push(data[n].get("name"));if(e.inArray(o,l)>-1){n=2;do{t=o+" ("+n+")",n++}while(e.inArray(t,l)>-1);o=t}return o},orderBy:function(e){this.dataSource.sort([{field:"type",dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:"name",operator:"contains",value:e})},_content:function(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("dblclick"+v,"li",l(t._dblClick,t)),t.listView=new n.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-i-close").parent().addClass("k-state-disabled"),"remove"!==e.action&&"sync"!==e.action||(e.preventDefault(),n.ui.progress(t.listView.element,!1))},dataBound:function(){t.dataSource.view().length?t._tiles=this.items().filter("["+n.attr("type")+"=f]"):this.wrapper.append(x({text:t.options.messages.emptyFolder}))},change:l(t._listViewChange,t)})},_dblClick:function(t){var li=e(t.currentTarget);if(li.hasClass("k-edit-item")&&this._directoryBlur(),li.filter("["+n.attr("type")+"=d]").length){var r=this.dataSource.getByUid(li.attr(n.attr("uid")));r&&(this.path(k(this.path(),r.get("name"))),this.breadcrumbs.value(this.path()))}else li.filter("["+n.attr("type")+"=f]").length&&this.trigger("apply")},_listViewChange:function(){var e=this._selectedItem();e&&(this.toolbar.find(".k-i-close").parent().removeClass("k-state-disabled"),this.trigger("change",{selected:e}))},_dataSource:function(){var e=this.options,t=e.transport,r=c({},y),h={field:"name",dir:"asc"},d={type:t.type||"filebrowser",sort:[r,h]};o(t)&&(t.path=l(this.path,this),d.transport=t),o(e.schema)?d.schema=e.schema:t.type&&o(n.data.schemas[t.type])&&n.data.schemas[t.type],this.dataSource&&this._errorHandler?this.dataSource.unbind("error",this._errorHandler):this._errorHandler=l(this._error,this),this.dataSource=n.data.DataSource.create(d).bind("error",this._errorHandler)},_navigation:function(){var t=this,n=e('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);t.breadcrumbs=n.find("input:first").kendoBreadcrumbs({value:t.options.path,change:function(){t.path(this.value())}}).data("kendoBreadcrumbs"),t.searchBox=n.parent().find("input:last").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox")},_error:function(e){var t;if(!this.trigger("error",e)){t=e.xhr.status,"error"==e.status?"404"==t?this._showMessage(this.options.messages.directoryNotFound):"0"!=t&&this._showMessage("Error! The requested URL returned "+t+" - "+e.xhr.statusText):"timeout"==t&&this._showMessage("Error! Server timeout.");var n=this.dataSource;n.hasChanges()&&n.cancelChanges()}},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){this._navigation(),this._toolbar(),this._content()},_editTmpl:function(){var html='<li class="k-tile k-state-selected" '+n.attr("uid")+'="#=uid#" ';return html+=n.attr("type")+'="${type}">',html+='#if(type == "d") { #',html+='<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>',html+="#}else{#",html+='<div class="k-thumb"><span class="k-icon k-i-loading"></span></div>',html+="#}#",html+='#if(type == "d") { #',html+='<input class="k-input" '+n.attr("bind")+'="value:name"/>',html+="#}#",html+="</li>",l(n.template(html),{sizeFormatter:C})},_itemTmpl:function(){var html='<li class="k-tile" '+n.attr("uid")+'="#=uid#" ';return html+=n.attr("type")+'="${type}">',html+='#if(type == "d") { #',html+='<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>',html+="#}else{#",html+='<div class="k-thumb"><span class="k-icon k-i-file"></span></div>',html+="#}#",html+="<strong>${name}</strong>",html+='#if(type == "f") { # <span class="k-filesize">${this.sizeFormatter(size)}</span> #}#',html+="</li>",l(n.template(html),{sizeFormatter:C})},path:function(e){var path=this._path||"";return e!==t?(this._path=e.replace(m,"")+"/",void this.dataSource.read({path:this._path})):(path&&(path=path.replace(m,"")),"/"===path||""===path?"":path+"/")}}),T=r.extend({init:function(element,e){e=e||{},r.fn.init.call(this,element,e),h&&this.element.attr("placeholder",this.options.label),this._wrapper(),this.element.on("keydown"+w,l(this._keydown,this)).on("change"+w,l(this._updateValue,this)),this.wrapper.on("click"+w,"a",l(this._click,this)),h||this.element.on("focus"+w,l(this._focus,this)).on("blur"+w,l(this._blur,this))},options:{name:"SearchBox",label:"Search",value:""},events:["change"],destroy:function(){this.wrapper.add(this.element).add(this.label).off(w),r.fn.destroy.call(this)},_keydown:function(e){13===e.keyCode&&this._updateValue()},_click:function(e){e.preventDefault(),this._updateValue()},_updateValue:function(){var e=this.element.val();e!==this.value()&&(this.value(e),this.trigger("change"))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){h||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var element=this.element,t=element.parents(".k-search-wrap");element[0].style.width="",element.addClass("k-input"),t.length||(t=element.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),h||e('<label style="display:block">'+this.options.label+"</label>").insertBefore(element),e('<a href="#" class="k-icon k-i-zoom k-search"/>').appendTo(t)),this.wrapper=t,this.label=t.find(">label")},value:function(e){return e!==t?(this.options.value=e,this.element.val(e),void this._toggleLabel()):this.options.value}}),D=r.extend({init:function(element,e){e=e||{},r.fn.init.call(this,element,e),this._wrapper(),this.wrapper.on("focus"+_,"input",l(this._focus,this)).on("blur"+_,"input",l(this._blur,this)).on("keydown"+_,"input",l(this._keydown,this)).on("click"+_,"a.k-i-arrow-60-up:first",l(this._rootClick,this)).on("click"+_,"a:not(.k-i-arrow-60-up)",l(this._click,this)),this.value(this.options.value)},options:{name:"Breadcrumbs",gap:50},events:["change"],destroy:function(){r.fn.destroy.call(this),this.wrapper.add(this.wrapper.find("input")).add(this.wrapper.find("a")).off(_)},_update:function(e){(e="/"===(e||"").charAt(0)?e:"/"+(e||""))!==this.value()&&(this.value(e),this.trigger("change"))},_click:function(t){t.preventDefault(),this._update(this._path(e(t.target).prevAll("a:not(.k-i-arrow-60-up)").addBack()))},_rootClick:function(e){e.preventDefault(),this._update("")},_focus:function(){var element=this.element;this.overlay.hide(),this.element.val(this.value()),setTimeout((function(){element.select()}))},_blur:function(){if(!this.overlay.is(":visible")){var element=this.element,e=element.val().replace(/\/{2,}/g,"/");this.overlay.show(),element.val(""),this._update(e)}},_keydown:function(e){var t=this;13===e.keyCode&&(t._blur(),setTimeout((function(){t.overlay.find("a:first").focus()})))},_wrapper:function(){var t,element=this.element,n=element.parents(".k-breadcrumbs");element[0].style.width="",element.addClass("k-input"),n.length||(n=element.wrap(e('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),(t=n.find(".k-breadcrumbs-wrap")).length||(t=e('<div class="k-breadcrumbs-wrap"/>').appendTo(n)),this.wrapper=n,this.overlay=t},refresh:function(){var n,r,o,html="",l=this.value();for(l!==t&&l.match(/^\//)||(l="/"+(l||"")),r=0,o=(n=l.split("/")).length;r<o;r++)n[r]&&(html||(html+='<a href="#" class="k-icon k-i-arrow-60-up" title="Go to parent folder"></a>'),html+='<a class="k-link" href="#">'+n[r]+"</a>",html+='<span class="k-icon k-i-arrow-60-right" title="Go to child folder"></span>');this.overlay.empty().append(e(html)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var a,t=this.wrapper.width()-this.options.gap,n=this.overlay.find("a");n.each((function(r){(a=e(this)).parent().width()>t&&(r==n.length-1?a.width(t):a.prev().addBack().hide())}))},value:function(e){return e!==t?(this._value=e.replace(/\/{2,}/g,"/"),void this.refresh()):this._value},_path:function(t){return"/"+e.map(t,(function(b){return e(b).text()})).join("/")}});n.ui.plugin(S),n.ui.plugin(D),n.ui.plugin(T)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1184:function(e,t){e.exports=n(128)},1185:function(e,t){e.exports=n(129)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1220)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1031:function(e,t){e.exports=n(40)},1201:function(e,t){e.exports=n(42)},1220:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1201),n(1031)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=n.keys,l="k-state-focused",c=".kendoListView",h=e.proxy,d=n._activeElement,progress=n.ui.progress,f=n.data.DataSource,m=n.ui.DataBoundWidget.extend({init:function(element,t){t=e.isArray(t)?{dataSource:t}:t,r.fn.init.call(this,element,t),t=this.options,this.wrapper=element=this.element,element[0].id&&(this._itemId=element[0].id+"_lv_active"),this._element(),this._dataSource(),this._templates(),this._navigatable(),this._selectable(),this._pageable(),this._crudHandlers(),this._scrollable(),this.options.autoBind&&this.dataSource.fetch(),n.notify(this)},events:["change","cancel","dataBinding","dataBound","edit","remove","save"],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,height:null,template:"",altTemplate:"",editTemplate:""},setOptions:function(e){r.fn.setOptions.call(this,e),this._templates(),this.selectable&&(this.selectable.destroy(),this.selectable=null),this._selectable()},_templates:function(){var e=this.options;this.template=n.template(e.template||""),this.altTemplate=n.template(e.altTemplate||e.template),this.editTemplate=n.template(e.editTemplate||"")},_item:function(e){return this.element.children()[e]()},items:function(){return this.element.children()},dataItem:function(element){var t=n.attr("uid"),r=e(element).closest("["+t+"]").attr(t);return this.dataSource.getByUid(r)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)},_dataSource:function(){this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._refreshHandler=h(this.refresh,this),this._progressHandler=h(this._progress,this),this._errorHandler=h(this._error,this)),this.dataSource=f.create(this.options.dataSource).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_progress:function(e){var element=this.element;progress(element,e,{opacity:!0})},_error:function(){progress(this.element,!1)},_element:function(){var e=this.options.height;this.element.addClass("k-widget k-listview").attr("role","listbox"),e&&this.element.css("height",e)},refresh:function(e){var data,t,r,o,l,view=this.dataSource.view(),html="",template=this.template,c=this.altTemplate,h=d(),f=this._endlessFetchInProgress,m=f?this._skipRerenderItemsCount:0,v=this.options.scrollable;if("itemchange"!==(e=e||{}).action){if(!this.trigger("dataBinding",{action:e.action||"rebind",items:e.items,index:e.index})){for(this._angularItems("cleanup"),f||this._destroyEditable(),o=m,l=view.length;o<l;o++)html+=o%2?c(view[o]):template(view[o]);for(f?this.element.append(html):this.element.html(html),t=this.items().not(".k-loading-mask"),o=m,l=view.length;o<l;o++)t.eq(o).attr(n.attr("uid"),view[o].uid).attr("role","option").attr("aria-selected","false");this.element[0]===h&&this.options.navigatable&&(this._focusNext?this.current(this.current().next()):v||this.current(t.eq(0))),this._angularItems("compile"),this._progress(!1),this._endlessFetchInProgress=null,this.trigger("dataBound",{action:e.action||"rebind",items:e.items,index:e.index})}}else this._hasBindingTarget()||this.editable||(data=e.items[0],(r=this.items().filter("["+n.attr("uid")+"="+data.uid+"]")).length>0&&(o=r.index(),this.angular("cleanup",(function(){return{elements:[r]}})),r.replaceWith(template(data)),(r=this.items().eq(o)).attr(n.attr("uid"),data.uid),this.angular("compile",(function(){return{elements:[r],data:[{dataItem:data}]}})),this.trigger("itemChange",{item:r,data:data})))},_pageable:function(){var t,r,o=this.options.pageable;e.isPlainObject(o)&&(r=o.pagerId,t=e.extend({},o,{dataSource:this.dataSource,pagerId:null}),this.pager=new n.ui.Pager(e("#"+r),t))},_selectable:function(){var e,t,r=this,l=r.options.selectable,h=r.options.navigatable;l&&(e=n.ui.Selectable.parseOptions(l).multiple,r.selectable=new n.ui.Selectable(r.element,{aria:!0,multiple:e,filter:">*:not(.k-loading-mask)",change:function(){r.trigger("change")}}),h&&r.element.on("keydown"+c,(function(n){if(n.keyCode===o.SPACEBAR){if(t=r.current(),n.target==n.currentTarget&&n.preventDefault(),e)if(n.ctrlKey){if(t&&t.hasClass("k-state-selected"))return void t.removeClass("k-state-selected")}else r.selectable.clear();else r.selectable.clear();r.selectable.value(t)}})))},_scrollable:function(){var e=this,t=e.options.scrollable;if(t&&(e.element.css({"overflow-y":"scroll",position:"relative","-webkit-overflow-scrolling":"touch"}),"endless"===t)){var n=e._endlessPageSize=e.dataSource.options.pageSize;e.element.off("scroll"+c).on("scroll"+c,(function(){this.scrollTop+this.clientHeight-this.scrollHeight>=-15&&!e._endlessFetchInProgress&&e._endlessPageSize<e.dataSource.total()&&(e._skipRerenderItemsCount=e._endlessPageSize,e._endlessPageSize=e._skipRerenderItemsCount+n,e.dataSource.options.endless=!0,e._endlessFetchInProgress=!0,e.dataSource.pageSize(e._endlessPageSize))}))}},current:function(e){var element=this.element,t=this._current,n=this._itemId;if(void 0===e)return t;t&&t[0]&&(t[0].id===n&&t.removeAttr("id"),t.removeClass(l),element.removeAttr("aria-activedescendant")),e&&e[0]&&(n=e[0].id||n,this._scrollTo(e[0]),element.attr("aria-activedescendant",n),e.addClass(l).attr("id",n)),this._current=e},_scrollTo:function(element){var t,n=!1;"auto"==this.wrapper.css("overflow")||"scroll"==this.wrapper.css("overflow")||"scroll"==this.wrapper.css("overflow-y")?t=this.wrapper[0]:(t=window,n=!0);var r=function(r,o){var l=n?e(element).offset()[r.toLowerCase()]:element["offset"+r],c=element["client"+o],h=e(t)["scroll"+r](),d=e(t)[o.toLowerCase()]();l+c>h+d?e(t)["scroll"+r](l+c-d):l<h&&e(t)["scroll"+r](l)};r("Top","Height"),r("Left","Width")},_navigatable:function(){var t=this,r=t.options.navigatable,element=t.element;r&&(t._tabindex(),element.on("focus"+c,(function(){var e=t._current;e&&e.is(":visible")||(e=t._item("first")),t.current(e)})).on("focusout"+c,(function(){t._current&&t._current.removeClass(l)})).on("keydown"+c,(function(r){var l,c=r.keyCode,h=t.current(),f=e(r.target),m=!f.is(":button,textarea,a,a>.t-icon,input"),v=f.is(":text,:password"),_=n.preventDefault,w=element.find(".k-edit-item"),y=d(),x=t.options.scrollable;if(!(!m&&!v&&o.ESC!=c||v&&o.ESC!=c&&o.ENTER!=c))if(o.UP===c||o.LEFT===c)h&&h[0]&&(h=h.prev()),h&&h[0]?t.current(h):x||t.current(t._item("last")),_(r);else if(o.DOWN===c||o.RIGHT===c)x?"endless"!==t.options.scrollable||h.next().length?(h=h.next())&&h[0]&&t.current(h):(t.element[0].scrollTop=t.element[0].scrollHeight,t._focusNext=!0):(h=h.next(),t.current(h&&h[0]?h:t._item("first"))),_(r);else if(o.PAGEUP===c)t.current(null),t.dataSource.page(t.dataSource.page()-1),_(r);else if(o.PAGEDOWN===c)t.current(null),t.dataSource.page(t.dataSource.page()+1),_(r);else if(o.HOME===c)t.current(t._item("first")),_(r);else if(o.END===c)t.current(t._item("last")),_(r);else if(o.ENTER===c)0!==w.length&&(m||v)?(l=t.items().index(w),y&&y.blur(),t.save(),t.one("dataBound",(function(){t.element.trigger("focus"),t.current(t.items().eq(l))}))):""!==t.options.editTemplate&&t.edit(h);else if(o.ESC===c){if(0===(w=element.find(".k-edit-item")).length)return;l=t.items().index(w),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(l))}})),element.on("mousedown"+c+" touchstart"+c,">*:not(.k-loading-mask)",h((function(r){t.current(e(r.currentTarget)),e(r.target).is(":button,a,:input,a>.k-icon,textarea")||n.focusElement(element)}),t)))},clearSelection:function(){this.selectable.clear(),this.trigger("change")},select:function(t){var n=this.selectable;return(t=e(t)).length?(n.options.multiple||(n.clear(),t=t.first()),void n.value(t)):n.value()},_destroyEditable:function(){this.editable&&(this.editable.destroy(),delete this.editable)},_modelFromElement:function(element){var e=element.attr(n.attr("uid"));return this.dataSource.getByUid(e)},_closeEditable:function(){var data,e,t,r=this.editable,template=this.template;return r&&(r.element.index()%2&&(template=this.altTemplate),this.angular("cleanup",(function(){return{elements:[r.element]}})),data=this._modelFromElement(r.element),this._destroyEditable(),t=r.element.index(),r.element.replaceWith(template(data)),(e=this.items().eq(t)).attr(n.attr("uid"),data.uid),this._hasBindingTarget()&&n.bind(e,data),this.angular("compile",(function(){return{elements:[e],data:[{dataItem:data}]}}))),!0},edit:function(e){var t,r,data=this._modelFromElement(e),o=data.uid;this.cancel(),r=(e=this.items().filter("["+n.attr("uid")+"="+o+"]")).index(),e.replaceWith(this.editTemplate(data)),t=this.items().eq(r).addClass("k-edit-item").attr(n.attr("uid"),data.uid),this.editable=t.kendoEditable({model:data,clearContainer:!1,errorTemplate:!1,target:this}).data("kendoEditable"),this.trigger("edit",{model:data,item:t})},save:function(){var e,t=this.editable;if(t){var n=t.element;e=this._modelFromElement(n),t.end()&&!this.trigger("save",{model:e,item:n})&&(this._closeEditable(),this.dataSource.sync())}},remove:function(e){var t=this.dataSource,data=this._modelFromElement(e);this.editable&&(t.cancelChanges(this._modelFromElement(this.editable.element)),this._closeEditable()),this.trigger("remove",{model:data,item:e})||(e.hide(),t.remove(data),t.sync())},add:function(){var e,t=this.dataSource,n=t.indexOf((t.view()||[])[0]);n<0&&(n=0),this.cancel(),e=t.insert(n,{}),this.edit(this.element.find("[data-uid='"+e.uid+"']"))},cancel:function(){var e=this.dataSource;if(this.editable){var t=this.editable.element,n=this._modelFromElement(t);this.trigger("cancel",{model:n,container:t})||(e.cancelChanges(n),this._closeEditable())}},_crudHandlers:function(){var t=this;t.element.on("mousedown.kendoListView touchstart.kendoListView",".k-edit-button",(function(r){r.preventDefault();var o=e(this).closest("["+n.attr("uid")+"]");setTimeout((function(){t.edit(o)}))})),t.element.on("mousedown.kendoListView touchstart.kendoListView",".k-delete-button",(function(r){r.preventDefault();var o=e(this).closest("["+n.attr("uid")+"]");setTimeout((function(){t.remove(o)}))})),t.element.on("click.kendoListView",".k-update-button",(function(e){t.save(),e.preventDefault()})),t.element.on("click.kendoListView",".k-cancel-button",(function(e){t.cancel(),e.preventDefault()}))},destroy:function(){r.fn.destroy.call(this),this._unbindDataSource(),this._destroyEditable(),this.element.off(c),this._endlessFetchInProgress=this._endlessPageSize=this._skipRerenderItemsCount=this._focusNext=null,this.pager&&this.pager.destroy(),n.destroy(this.element)}});n.ui.plugin(m)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1375)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1007:function(e,t){e.exports=n(0)},1375:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=n.antiForgeryTokens,l=n.logToConsole,h=/\.([^\.]+)$/,d=".kendoUpload",f="success",m="error",v="remove",_="invalidMaxFileSize",w="invalidMinFileSize",y="invalidFileExtension",x="k-i-loading",k="k-i-warning",C="k-i-check",S=r.extend({init:function(element,t){r.fn.init.call(this,element,t),this.name=element.name,this.multiple=this.options.multiple,this.directory=this.options.directory,this.localization=this.options.localization;var o=this.element;this.wrapper=o.closest(".k-upload"),0===this.wrapper.length&&(this.wrapper=this._wrapInput(o)),this._activeInput(o),this.toggle(this.options.enabled);var l=this._ns=d+"-"+n.guid();if(o.closest("form").on("submit"+l,e.proxy(this._onParentFormSubmit,this)).on("reset"+l,e.proxy(this._onParentFormReset,this)),this.options.async.saveUrl){this._module=this._supportsFormData()?new E(this):new D(this),this._async=!0;var c=this.options.files;c.length>0&&this._renderInitialFiles(c)}else this._module=new T(this);this._supportsDrop()&&(""!==this.options.dropZone?this._setupCustomDropZone():this._setupDropZone()),this.wrapper.on("click",".k-upload-action",e.proxy(this._onFileAction,this)).on("click",".k-clear-selected",e.proxy(this._onClearSelected,this)).on("click",".k-upload-selected",e.proxy(this._onUploadSelected,this)),this.element.val()&&this._onInputChange({target:this.element})},events:["select","upload",f,m,"complete","cancel","clear","progress",v,"pause","resume"],options:{name:"Upload",enabled:!0,multiple:!0,directory:!1,showFileList:!0,template:"",files:[],async:{autoRetryAfter:0,bufferChunkSize:1e7,maxAutoRetries:1,removeVerb:"POST",autoUpload:!0,withCredentials:!0,accept:"*/*; q=0.5, application/json",useArrayBuffer:!1},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",pause:"Pause",resume:"Resume",clearSelectedFiles:"Clear",uploadSelectedFiles:"Upload",dropFilesHere:"Drop files here to upload",invalidFiles:"Invalid file(s). Please check file upload requirements.",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusPaused:"Paused",headerStatusUploaded:"Done",invalidMaxFileSize:"File size too large.",invalidMinFileSize:"File size too small.",invalidFileExtension:"File type not allowed."},validation:{allowedExtensions:[],maxFileSize:0,minFileSize:0},dropZone:""},setOptions:function(e){var t=this.element;r.fn.setOptions.call(this,e),this.multiple=this.options.multiple,this.directory=this.options.directory,t.attr("multiple",!!this._supportsMultiple()&&this.multiple),this.directory&&(t.attr("webkitdirectory",this.directory),t.attr("directory",this.directory)),this.toggle(this.options.enabled)},enable:function(e){e=void 0===e||e,this.toggle(e)},disable:function(){this.toggle(!1)},toggle:function(e){e=void 0===e?e:!e,this.wrapper.toggleClass("k-state-disabled",e),this.element.prop("disabled",e)},focus:function(){this.element.focus()},destroy:function(){var t=e(this.options.dropZone);e(document).add(e(".k-dropzone",this.wrapper)).add(this.wrapper.closest("form")).off(this._ns),t.length>0&&t.off(this._ns),e(this.element).off(d),r.fn.destroy.call(this)},pause:function(t){this._module.onPause({target:e(t,this.wrapper)});var n=t.find(".k-i-pause-sm");n.removeClass("k-i-pause-sm").addClass("k-i-play-sm").attr("title",this.localization.resume),e(n).parent().attr("aria-label",this.localization.resume)},resume:function(t){this._module.onResume({target:e(t,this.wrapper)});var n=t.find(".k-i-play-sm");n.removeClass("k-i-play-sm").addClass("k-i-pause-sm").attr("title",this.localization.pause),e(n).parent().attr("aria-label",this.localization.pause)},upload:function(){this._module.onSaveSelected()},getFiles:function(){for(var t,n=[],r=this.wrapper.find(".k-file"),i=0;i<r.length;i++)if(t=e(r[i]).data("fileNames"))for(var o=0;o<t.length;o++)n.push(t[o]);return n},clearAllFiles:function(){var e=this;e.wrapper.find(".k-file").each((function(t,n){e._removeFileByDomElement(n,!1)}))},removeAllFiles:function(){var e=this;e.wrapper.find(".k-file").each((function(t,n){e._removeFileByDomElement(n,!0)}))},removeFileByUid:function(e){this._removeFileByUid(e,!0)},clearFileByUid:function(e){this._removeFileByUid(e,!1)},_removeFileByUid:function(t,r){var o;"string"==typeof t&&(o=e(".k-file["+n.attr("uid")+'="'+t+'"]',this.wrapper)).length>0&&this._removeFileByDomElement(o,r)},clearFile:function(e){this._removeFile(e,!1)},removeFile:function(e){this._removeFile(e,!0)},_removeFile:function(t,n){var r,o=this,l=o.wrapper.find(".k-file");"function"==typeof t&&l.each((function(l,c){r=e(c).data("fileNames"),t(r)&&o._removeFileByDomElement(c,n)}))},_removeFileByDomElement:function(t,n){var r={target:e(t,this.wrapper)};this.options.async.saveUrl?(e(t).hasClass("k-file-progress")?this._module.onCancel(r):this._module.onRemove(r,{},n),0===e(".k-file",this.wrapper).length?this._hideHeaderUploadstatus():this._updateHeaderUploadStatus()):this._module.onRemove(r,{},n)},_addInput:function(t){if(t[0].nodeType){var input=t.clone().val("");input.insertAfter(this.element).data("kendo"+this.options.prefix+this.options.name,this),e(this.element).hide().attr("tabindex","-1").removeAttr("id").off(d),this._activeInput(input),this.element.focus()}},_activeInput:function(input){var t=this.wrapper;this.element=input,this.directory&&(input.attr("webkitdirectory",this.directory),input.attr("directory",this.directory)),input.attr("multiple",!!this._supportsMultiple()&&this.multiple).attr("autocomplete","off").on("click"+d,(function(e){t.hasClass("k-state-disabled")&&e.preventDefault()})).on("focus"+d,(function(){e(this).parent().addClass("k-state-focused")})).on("blur"+d,(function(){e(this).parent().removeClass("k-state-focused")})).on("change"+d,e.proxy(this._onInputChange,this)).on("keydown"+d,e.proxy(this._onInputKeyDown,this))},_onInputKeyDown:function(e){var t=this.wrapper.find(".k-upload-action:visible:first");e.keyCode===n.keys.TAB&&t.length>0&&!e.shiftKey&&(e.preventDefault(),t.focus())},_onInputChange:function(t){var input=e(t.target),n=P(this._inputFiles(input),this._isAsyncNonBatch());z(n,this.options.validation),this.trigger("select",{files:n})?(this._addInput(input),input.remove()):this._module.onSelect({target:input},n)},_readDirectory:function(t){var n=new e.Deferred,r=t.createReader(),o=[],l=function(){r.readEntries((function(e){e.length?(o=o.concat(e),l()):n.resolve(o)}),n.reject)};return l(),n.promise()},_readFile:function(e){var t=this,n=e.fullPath;e.file((function(e){e.relativePath=n.slice(1),t.droppedFolderFiles.push(e),t.droppedFolderCounter--,0===t.droppedFolderCounter&&setTimeout((function(){0===t.droppedFolderCounter&&t.droppedFolderFiles.length&&(t._proceedDroppedItems(t.droppedFolderFiles),t.droppedFolderFiles=[])}),0)}),(function(){l("File error.")}))},_traverseFileTree:function(e,t){var n=this;t||n.droppedFolderCounter--,this._readDirectory(e).then((function(e){n.droppedFolderCounter+=e.length;for(var i=0;i<e.length;i++)e[i].isFile?n._readFile(e[i]):e[i].isDirectory&&n._traverseFileTree(e[i])}))},_onDrop:function(e){var t,dt=e.originalEvent.dataTransfer,n=dt.files;if(U(e),this.options.directoryDrop&&dt.items){t=dt.items.length,this.droppedFolderCounter=0,this.droppedFolderFiles=[];for(var i=0;i<t;i++)if(dt.items[i].webkitGetAsEntry){var r=dt.items[i].webkitGetAsEntry();r.isDirectory?this._traverseFileTree(r,!0):r.isFile&&this.droppedFolderFiles.push(dt.files[i])}else this._proceedDroppedItems(n)}else this._proceedDroppedItems(n)},_proceedDroppedItems:function(t){var n=P(M(t),this._isAsyncNonBatch());t.length>0&&!this.wrapper.hasClass("k-state-disabled")&&(!this.multiple&&n.length>1&&n.splice(1,n.length-1),z(n,this.options.validation),this.trigger("select",{files:n})||this._module.onSelect({target:e(".k-dropzone",this.wrapper)},n))},_filesContainValidationErrors:function(t){var n=!1;return e(t).each((function(e,t){if(t.validationErrors&&t.validationErrors.length>0)return n=!0,!1})),n},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(e){var t=0;for(e=P(e,!0),t=0;t<e.length;t++){var n=e[t],r=this._enqueueFile(n.name,{fileNames:[n]});r.addClass("k-file-success").data("files",[e[t]]),this._supportsRemove()&&this._fileAction(r,v)}},_prepareTemplateData:function(e,data){var t=data.fileNames,n={},r=0,o=0;for(o=0;o<t.length;o++)r+=t[o].size;return n.name=e,n.size=r,n.files=data.fileNames,n},_prepareDefaultSingleFileEntryTemplate:function(data){var t=data.fileNames[0],n=H(data.fileNames),r=t.validationErrors,template="";return r&&r.length>0?template+="<li class='k-file k-file-invalid'><span class='k-progress'></span><span class='k-file-invalid-extension-wrapper'><span class='k-file-invalid-icon'>!</span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name k-file-name-invalid' title='"+t.name+"'>"+t.name+"</span><span class='k-file-validation-message'>"+this.localization[r[0]]+"</span></span>":template+="<li class='k-file'><span class='k-progress'></span><span class='k-file-extension-wrapper'><span class='k-file-extension'>"+t.extension.substring(1)+"</span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name' title='"+t.name+"'>"+t.name+"</span><span class='k-file-size'>"+n+"</span></span>",e(template+="<strong class='k-upload-status'></strong>")},_prepareDefaultMultipleFileEntriesTemplate:function(data){var i,t,n=data.fileNames,r=this._filesContainValidationErrors(n),o=H(n),template="";for(template+=r?"<li class='k-file k-file-invalid'><span class='k-progress'></span><span class='k-multiple-files-invalid-extension-wrapper'><span class='k-file-invalid-icon'>!</span>":"<li class='k-file'><span class='k-progress'></span><span class='k-multiple-files-extension-wrapper'>",template+="<span class='k-file-state'></span></span>",n.sort((function(a,b){return a.validationErrors?-1:b.validationErrors?1:0})),template+="<span class='k-file-name-size-wrapper'>",i=0;i<n.length;i++)(t=n[i]).validationErrors&&t.validationErrors.length>0?template+="<span class='k-file-name k-file-name-invalid' title='"+t.name+"'>"+t.name+"</span>":template+="<span class='k-file-name' title='"+t.name+"'>"+t.name+"</span>";return template+=r?"<span class='k-file-validation-message'>"+this.localization.invalidFiles+"</span>":"<span class='k-file-information'>Total: "+n.length+" files, "+o+"</span>",e(template+="</span><strong class='k-upload-status'></strong>")},_enqueueFile:function(t,data){var r,o,l,c,h=data.fileNames[0].uid,d=e(".k-upload-files",this.wrapper),template=this.options.template;return 0===d.length&&(d=e("<ul class='k-upload-files k-reset'></ul>").appendTo(this.wrapper),this.options.showFileList||d.hide(),this.wrapper.removeClass("k-upload-empty")),r=e(".k-file",d),template?(l=this._prepareTemplateData(t,data),template=n.template(template),(o=e("<li class='k-file'>"+template(l)+"</li>")).find(".k-upload-action").addClass("k-button"),this.angular("compile",(function(){return{elements:o,data:[l]}}))):o=1===data.fileNames.length?this._prepareDefaultSingleFileEntryTemplate(data):this._prepareDefaultMultipleFileEntriesTemplate(data),o.attr(n.attr("uid"),h).appendTo(d).data(data),this._async||e(".k-progress",o).width("100%"),!this.multiple&&r.length>0&&(c={files:r.data("fileNames"),headers:{}},this.trigger(v,c)||this._module.onRemove({target:e(r,this.wrapper)},c)),o},_removeFileEntry:function(t){var n,r,o,l=t.closest(".k-upload-files");t.remove(),n=e(".k-file",l),r=e(".k-file-success, .k-file-error",l),o=e(".k-file-invalid",l),r.length!==n.length&&o.length!==n.length||this._hideUploadButton(),0===n.length?(l.remove(),this.wrapper.addClass("k-upload-empty"),this._hideHeaderUploadstatus()):this._updateHeaderUploadStatus()},_fileAction:function(e,t,n){var r,o={remove:"k-i-x",cancel:"k-i-cancel",retry:"k-i-retry",pause:"k-i-pause-sm"},l={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-reload-sm",pause:"k-i-pause-sm"};o.hasOwnProperty(t)&&(n||this._clearFileAction(e),this.options.template?(r=e.find(".k-upload-action").first()).find(".k-icon").length?r.next(".k-upload-action").length&&r.next(".k-upload-action").addClass("k-button").append("<span class='k-icon "+l[t]+" "+o[t]+"' title='"+this.localization[t]+"'aria-label='"+this.localization[t]+"'></span>").show():r.addClass("k-button").append("<span class='k-icon "+l[t]+" "+o[t]+"' title='"+this.localization[t]+"'aria-label='"+this.localization[t]+"'></span>").show():(n||e.find(".k-upload-status .k-upload-action").remove(),e.find(".k-upload-status").append(this._renderAction(o[t],this.localization[t],l[t]))))},_fileState:function(t,n){var r=this.localization,o={uploading:{text:r.statusUploading},uploaded:{text:r.statusUploaded},failed:{text:r.statusFailed}}[n];o&&e("span.k-file-state",t).text(o.text)},_renderAction:function(t,n,r){return""!==t?e("<button type='button' class='k-button k-upload-action' aria-label='"+n+"'><span class='k-icon "+r+" "+t+"' title='"+n+"'></span></button>").on("focus",(function(){e(this).addClass("k-state-focused")})).on("blur",(function(){e(this).removeClass("k-state-focused")})):e("<button type='button' class='k-button'>"+n+"</button>")},_clearFileAction:function(t){e(".k-upload-action",t).empty().hide()},_onFileAction:function(t){if(!this.wrapper.hasClass("k-state-disabled")){var button=e(t.target).closest(".k-upload-action"),n=button.find(".k-icon"),r=button.closest(".k-file"),o=r.data("fileNames"),l=this._filesContainValidationErrors(o),c={files:o,headers:{}};this._retryClicked=!1,n.hasClass("k-i-x")?this.trigger(v,c)||this._module.onRemove({target:e(r,this.wrapper)},c,!l):n.hasClass("k-i-cancel")?(this.trigger("cancel",c),this._module.onCancel({target:e(r,this.wrapper)}),this._checkAllComplete(),this._updateHeaderUploadStatus()):n.hasClass("k-i-pause-sm")?(this.trigger("pause",c),this.pause(r),this._updateHeaderUploadStatus()):n.hasClass("k-i-play-sm")?(this.trigger("resume",c),this.resume(r)):n.hasClass("k-i-retry")&&(e(".k-i-warning",r).remove(),e(".k-progress",r).finish().show(),this._module.onRetry({target:e(r,this.wrapper)}),this._retryClicked=!0)}return!1},_onUploadSelected:function(){return this.wrapper.hasClass("k-state-disabled")||this._module.onSaveSelected(),!1},_onClearSelected:function(){return this.wrapper.hasClass("k-state-disabled")||this.trigger("clear",{})||this.clearAllFiles(),!1},_onFileProgress:function(t,n){var r,o;n>100&&(n=100),this.options.template?e(".k-progress",t.target).width(n+"%"):(r=e(".k-upload-pct",t.target),(o=e(".k-i-warning",t.target)).length?o.removeClass("k-i-warning").removeClass("k-icon").addClass("k-upload-pct"):0===r.length&&e(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),100!==n?e(".k-upload-pct",t.target).text(n+"%"):e(".k-upload-pct",t.target).remove(),e(".k-progress",t.target).width(n+"%")),this.trigger("progress",{files:$(t).data("fileNames"),percentComplete:n})},_onUploadSuccess:function(e,t,n){var r=$(e);this.trigger(f,{files:r.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:n})?this._setUploadErrorState(r):(this._fileState(r,"uploaded"),r.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this._supportsRemove()?this._fileAction(r,v):this._clearFileAction(r)),this._hideUploadProgress(r),this._checkAllComplete()},_onUploadError:function(e,t){var n=this._module,r=$(e),o=r.data("uid");this._setUploadErrorState(r),this.trigger(m,{operation:"upload",files:r.data("fileNames"),XMLHttpRequest:t}),l("Server response: "+t.responseText),this.options.async.chunkSize?n._decreasePosition&&n._decreasePosition(o):this._hideUploadProgress(r),this._checkAllComplete(),this.options.async.autoRetryAfter&&this._autoRetryAfter(r)},_autoRetryAfter:function(e){var t=this,n=this._module.retries;n&&(n[e.data("uid")]||(n[e.data("uid")]=1),n[e.data("uid")]<=this.options.async.maxAutoRetries&&(n[e.data("uid")]++,setTimeout((function(){t._module.performUpload(e)}),this.options.async.autoRetryAfter)))},_setUploadErrorState:function(t){var n;this._fileState(t,"failed"),t.removeClass("k-file-progress").addClass("k-file-error"),this._updateUploadProgress(t),(n=e(".k-upload-pct",t)).length>0?(n.parent().find(".k-i-warning").length||n.removeClass("k-upload-pct").addClass("k-icon k-i-warning"),n.empty()):e(".k-upload-status",t).prepend("<span class='k-icon k-i-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(t,"retry"),this._fileAction(t,v,!0),this._retryClicked&&t.find(".k-i-retry").parent().focus()},_updateUploadProgress:function(t){if(this.options.async.chunkSize){var n=t.data("uid");if(this._module.metaData){var r=this._module.metaData[n];if(r){var o=r.totalChunks?Math.round(r.chunkIndex/r.totalChunks*100):100;this._onFileProgress({target:e(t,this.wrapper)},o)}}}else e(".k-progress",t).width("100%")},_hideUploadProgress:function(t){e(".k-progress",t).delay(1e3).fadeOut(2e3,(function(){e(this).css("width","0%")}))},_showUploadButton:function(){var t=e(".k-upload-selected",this.wrapper),n=e(".k-clear-selected",this.wrapper);0===t.length&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected"),n=this._renderAction("",this.localization.clearSelectedFiles).addClass("k-clear-selected")),this.wrapper.append(n,t)},_hideUploadButton:function(){e(".k-upload-selected, .k-clear-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(t){var n=this.localization,r=e(".k-dropzone",this.wrapper),o=e(".k-upload-status-total",this.wrapper);0!==o.length&&o.remove(),o='<strong class="k-upload-status k-upload-status-total"><span class="k-icon"></span></strong>',t?(o=e(o).append(n.headerStatusUploading)).find(".k-icon").addClass(x):(o=e(o).append(n.headerStatusUploaded)).find(".k-icon").addClass(k),r.length>0?r.append(o):e(".k-upload-button",this.wrapper).after(o)},_updateHeaderUploadStatus:function(){var t,n,r=e(".k-upload-status-total",this.wrapper),o=e(".k-file",this.wrapper).not(".k-file-success, .k-file-error, .k-file-invalid"),l=e(".k-file-invalid",this.wrapper),c=e(".k-file-error",this.wrapper),h=e(".k-file",this.wrapper).find(".k-i-play-sm");!h.length||h.length!==o.length&&this.options.async.concurrent?(0===o.length||l.length>0||c.length>0)&&(t=e(".k-file.k-file-error, .k-file.k-file-invalid",this.wrapper),r=e(".k-upload-status-total",this.wrapper),n=e(".k-icon",r).removeClass().addClass("k-icon").addClass(0!==t.length?k:C),r.html(n).append(this.localization.headerStatusUploaded)):(n=e(".k-icon",r).removeClass().addClass("k-icon").addClass("k-i-pause-sm"),r.html(n).append(this.localization.headerStatusPaused))},_hideHeaderUploadstatus:function(){e(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var element=this.element;if(void 0!==this._module.onAbort&&this._module.onAbort(),!element.value){var input=e(element);input.attr("disabled","disabled"),window.setTimeout((function(){input.removeAttr("disabled")}),0)}},_onParentFormReset:function(){e(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!(n.support.browser.opera||n.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase();return!(!/chrome/.test(e)&&/safari/.test(e)&&/windows/.test(e))&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var t=this._ns,n=e(".k-dropzone",this.wrapper).append(e("<em class='k-dropzone-hint'>"+this.localization.dropFilesHere+"</em>")).on("dragenter"+t,U).on("dragover"+t,(function(e){e.preventDefault()})).on("drop"+t,e.proxy(this._onDrop,this));j(n,t,(function(){n.closest(".k-upload").hasClass("k-state-disabled")||n.addClass("k-dropzone-hovered")}),(function(){n.removeClass("k-dropzone-hovered")})),this._bindDocumentDragEventWrappers(n)},_setupCustomDropZone:function(){var t=this,n=e(t.options.dropZone);e(".k-dropzone",t.wrapper).append(e("<em class='k-dropzone-hint'>"+t.localization.dropFilesHere+"</em>"));var r=t._ns;n.on("dragenter"+r,U).on("dragover"+r,(function(e){e.preventDefault()})).on("drop"+r,e.proxy(t._onDrop,t)),j(n,r,(function(r){t.wrapper.hasClass("k-state-disabled")||(n.removeClass("k-dropzone-hovered"),e(r.target).addClass("k-dropzone-hovered"))}),(function(){n.removeClass("k-dropzone-hovered"),n.find(".k-dropzone-hovered").removeClass("k-dropzone-hovered")})),t._bindDocumentDragEventWrappers(n)},_bindDocumentDragEventWrappers:function(t){var n=this,r=n._ns;j(e(document),r,(function(){n.wrapper.hasClass("k-state-disabled")||(t.addClass("k-dropzone-active"),t.closest(".k-upload").removeClass("k-upload-empty"))}),(function(){t.removeClass("k-dropzone-active"),0===e("li.k-file",t.closest(".k-upload")).length&&t.closest(".k-upload").addClass("k-upload-empty")}))},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,n,r,l){var h=this.options.async.removeField||"fileNames",d=e.extend(n.data,o());d[h]=t,c.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:W,url:this.options.async.removeUrl,traditional:!0,data:d,headers:n.headers,success:r,error:l,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(input){var e=this.options;return input.wrap("<div class='k-widget k-upload'><div class='k-dropzone'><div class='k-button k-upload-button' aria-label='"+this.localization.select+"'></div></div></div>"),e.async.saveUrl?input.closest(".k-upload").addClass("k-upload-async"):input.closest(".k-upload").addClass("k-upload-sync"),input.closest(".k-upload").addClass("k-upload-empty"),input.closest(".k-button").append("<span>"+this.localization.select+"</span>"),input.closest(".k-upload")},_checkAllComplete:function(){0===e(".k-file.k-file-progress",this.wrapper).length&&this.trigger("complete")},_inputFiles:function(e){return I(e)}}),T=function(e){this.name="syncUploadModule",this.element=e.wrapper,this.upload=e,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};T.prototype={onSelect:function(t,n){var r=this.upload,o=e(t.target),l=r._filesContainValidationErrors(n);r._addInput(o);var c={fileNames:n};l?o.remove():c.relatedInput=o;var h=r._enqueueFile(A(o),c);l&&r._hideUploadProgress(h),r._fileAction(h,v)},onRemove:function(e){var t=$(e),n=t.data("relatedInput");n&&n.remove(),this.upload._removeFileEntry(t)}};var D=function(e){this.name="iframeUploadModule",this.element=e.wrapper,this.upload=e,this.iframes=[]};S._frameId=0,D.prototype={onSelect:function(t,n){var r=this.upload,o=e(t.target),l=r._filesContainValidationErrors(n),c=this.prepareUpload(o,n,l);r.options.async.autoUpload?l?(r._fileAction(c,v),r._showHeaderUploadStatus(!1)):this.performUpload(c):(r._fileAction(c,v),l?r._updateHeaderUploadStatus():r._showUploadButton()),l&&r._hideUploadProgress(c)},prepareUpload:function(t,n,r){var o,l,iframe,form,c=this.upload,h=e(c.element),d=c.options.async.saveField||t.attr("name");return c._addInput(t),t.attr("name",d),r?(t.remove(),l={fileNames:n}):(iframe=this.createFrame(c.name+"_"+S._frameId++),this.registerFrame(iframe),form=this.createForm(c.options.async.saveUrl,iframe.attr("name")).append(h),l={frame:iframe,relatedInput:h,fileNames:n}),o=c._enqueueFile(A(t),l),iframe&&iframe.data({form:form,file:o}),o},performUpload:function(t){var n={files:t.data("fileNames")},iframe=t.data("frame"),r=this.upload;if(r.trigger("upload",n))r._removeFileEntry(iframe.data("file")),this.cleanupFrame(iframe),this.unregisterFrame(iframe);else{r._hideUploadButton(),r._showHeaderUploadStatus(!0),iframe.appendTo(document.body);var form=iframe.data("form").attr("action",r.options.async.saveUrl).appendTo(document.body);for(var l in n.data=e.extend({},n.data,o()),n.data){var c=form.find("input[name='"+l+"']");0===c.length&&(c=e("<input>",{type:"hidden",name:l}).prependTo(form)),c.val(n.data[l])}r._fileAction(t,"cancel"),r._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),iframe.one("load",e.proxy(this.onIframeLoad,this)),form[0].submit()}},onSaveSelected:function(){var t=this,n=t.upload;e(".k-file",this.element).each((function(){var r=e(this),o=G(r),l=n._filesContainValidationErrors(r.data("fileNames"));o||l||t.performUpload(r)}))},onIframeLoad:function(t){var n,iframe=e(t.target);try{n=iframe.contents().text()}catch(e){n="Error trying to get server response: "+e}this.processResponse(iframe,n)},processResponse:function(iframe,t){var n=iframe.data("file"),r=this,o={responseText:t};V(t,(function(t){e.extend(o,{statusText:"OK",status:"200"}),r.upload._onFileProgress({target:e(n,r.upload.wrapper)},100),r.upload._onUploadSuccess({target:e(n,r.upload.wrapper)},t,o),r.cleanupFrame(iframe),r.unregisterFrame(iframe)}),(function(){e.extend(o,{statusText:"error",status:"500"}),r.upload._onUploadError({target:e(n,r.upload.wrapper)},o)}))},onCancel:function(t){var iframe=e(t.target).data("frame");this.stopFrameSubmit(iframe),this.cleanupFrame(iframe),this.unregisterFrame(iframe),this.upload._removeFileEntry(iframe.data("file"))},onRetry:function(e){var t=$(e);this.performUpload(t)},onRemove:function(e,t,n){var r=this.upload,o=$(e),iframe=o.data("frame");iframe?(this.unregisterFrame(iframe),r._removeFileEntry(o),this.cleanupFrame(iframe)):o.hasClass("k-file-success")?O(o,r,t,n):r._removeFileEntry(o)},onAbort:function(){var element=this.element,t=this;e.each(this.iframes,(function(){e("input",this.data("form")).appendTo(element),t.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()})),this.iframes=[]},createFrame:function(t){return e("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,n){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+n+"'/>")},stopFrameSubmit:function(e){void 0!==e.stop?e.stop():e.document&&e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=e.grep(this.iframes,(function(e){return e.attr("name")!=t.attr("name")}))},cleanupFrame:function(e){var form=e.data("form");e.data("file").data("frame",null),setTimeout((function(){form.remove(),e.remove()}),1)}};var E=function(e){this.name="formDataUploadModule",this.element=e.wrapper,this.upload=e,this.position={},this.metaData={},this.cancelled={},this.resume={},this.paused={},this.retries={}};function A(input){return e.map(I(input),(function(e){return e.name})).join(", ")}function I(e){var input=e[0];return input.files?M(input.files):[{name:F(input.value),extension:R(input.value),size:null}]}function M(t){return e.map(t,(function(e){return r=(t=e).name||t.fileName,{name:n.htmlEncode(r),extension:R(r),size:"number"==typeof t.size?t.size:t.fileSize,rawFile:t};var t,r}))}function R(e){var t=e.match(h);return t?t[0]:""}function F(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e}function P(t,r){var o=n.guid();return e.map(t,(function(e){return e.uid=r?n.guid():o,e}))}function z(t,n){for(var r,o=(r=n.allowedExtensions,e.map(r,(function(e){return("."===e.substring(0,1)?e:"."+e).toLowerCase()}))),l=n.maxFileSize,c=n.minFileSize,i=0;i<t.length;i++)B(t[i],o),L(t[i],c,l)}function B(t,n){n.length>0&&n.indexOf(t.extension.toLowerCase())<0&&(t.validationErrors=t.validationErrors||[],-1===e.inArray(y,t.validationErrors)&&t.validationErrors.push(y))}function L(t,n,r){0!==n&&t.size<n&&(t.validationErrors=t.validationErrors||[],-1===e.inArray(w,t.validationErrors)&&t.validationErrors.push(w)),0!==r&&t.size>r&&(t.validationErrors=t.validationErrors||[],-1===e.inArray(_,t.validationErrors)&&t.validationErrors.push(_))}function H(e){var t=0;if("number"!=typeof e[0].size)return"";for(var i=0;i<e.length;i++)e[i].size&&(t+=e[i].size);return(t/=1024)<1024?t.toFixed(2)+" KB":(t/1024).toFixed(2)+" MB"}function N(t){return!t.multiple&&e(".k-file",t.wrapper).length>1}function O(t,n,r,o){if(n._supportsRemove()){var c=t.data("fileNames"),h=e.map(c,(function(e){return e.name}));!1!==o?n._submitRemove(h,r,(function(data,e,r){n.trigger(f,{operation:"remove",files:c,response:data,XMLHttpRequest:r})||n._removeFileEntry(t)}),(function(e){N(n)&&n._removeFileEntry(t),n.trigger(m,{operation:"remove",files:c,XMLHttpRequest:e}),l("Server response: "+e.responseText)})):n._removeFileEntry(t)}else!N(n)&&o||n._removeFileEntry(t)}function V(input,t,n){var r=!1,o="";try{o=e.parseJSON(W(input)),r=!0}catch(e){n()}r&&t(o)}function W(input){return void 0!==input&&""!==input||(input="{}"),input}function U(e){e.stopPropagation(),e.preventDefault()}function j(element,e,t,n){var r,o;element.on("dragenter"+e,(function(e){t(e),o=new Date,r||(r=setInterval((function(){new Date-o>100&&(n(),clearInterval(r),r=null)}),100))})).on("dragover"+e,(function(){o=new Date}))}function G(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function $(t){return e(t.target).closest(".k-file")}E.prototype={onSelect:function(t,n){var r,o,l=this.upload,c=this,h=e(t.target),d=this.prepareUpload(h,n);e.each(d,(function(t){r=l._filesContainValidationErrors(e(this.data("fileNames"))),l.options.async.autoUpload?r?(l._fileAction(this,v),l._showHeaderUploadStatus(!1)):l.options.async.chunkSize?(c.prepareChunk(this),o=this.prev(),(l.options.async.concurrent||0===t&&!o.length||0===t&&o.hasClass("k-file-success"))&&c.performUpload(this)):c.performUpload(this):(l._fileAction(this,v),r?l._updateHeaderUploadStatus():(l._showUploadButton(),this.addClass("k-toupload"))),r&&l._hideUploadProgress(this)}))},prepareUpload:function(t,n){var r=this.enqueueFiles(n);return t.is("input")&&(e.each(r,(function(){e(this).data("relatedInput",t)})),t.data("relatedFileEntries",r),this.upload._addInput(t)),r},enqueueFiles:function(t){var n,i,r,o,l=this.upload,c=t.length,h=[];if(!0===l.options.async.batch)n=e.map(t,(function(e){return e.name})).join(", "),(l.directory||l.options.directoryDrop)&&e(t).each((function(){(this.rawFile.webkitRelativePath||this.rawFile.relativePath)&&(this.name=this.rawFile.webkitRelativePath||this.rawFile.relativePath)})),(o=l._enqueueFile(n,{fileNames:t})).data("files",t),h.push(o);else for(i=0;i<c;i++)n=(r=t[i]).name,(l.directory||l.options.directoryDrop)&&(r.rawFile.webkitRelativePath||r.rawFile.relativePath)&&(r.name=r.rawFile.webkitRelativePath||r.rawFile.relativePath),(o=l._enqueueFile(n,{fileNames:[r]})).data("files",[r]),h.push(o);return h},performUpload:function(t){var n,r=this.upload,l=this.createFormData(),c=this.createXHR(),h={files:t.data("fileNames"),XMLHttpRequest:c};if(r.trigger("upload",h))this.removeFileEntry(t);else{if(0===t.find(".k-i-cancel").length&&(r.options.async.chunkSize&&r._fileAction(t,"pause"),r._fileAction(t,"cancel",r.options.async.chunkSize)),r.wrapper.find(".k-toupload").length||r._hideUploadButton(),r._showHeaderUploadStatus(!0),h.formData)l=h.formData;else{for(var d in h.data=e.extend({},h.data,o()),h.data)l.append(d,h.data[d]);(n=t.data("files"))&&this.populateFormData(l,n)}r._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),r.options.async.useArrayBuffer&&window.FileReader?this._readFile(r.options.async.saveUrl,l,t,c):this.postFormData(r.options.async.saveUrl,l,t,c)}},_readFile:function(t,n,r,o){var l=this,c=l.upload,h=r.data("files")[0],d=new FileReader;d.onload=function(d){try{l.fileArrayBuffer?l.fileArrayBuffer=l._appendBuffer(l.fileArrayBuffer,d.target.result):l.fileArrayBuffer=d.target.result}catch(t){return void c._onUploadError({target:e(r,c.wrapper)},o)}l.position[h.uid]>h.size?(l.postFormData(c.options.async.saveUrl,l.fileArrayBuffer,r,o),l.fileArrayBuffer=null):l._readFile(t,n,r,o)},d.onerror=function(){c._onUploadError({target:e(r,c.wrapper)},o)},d.readAsArrayBuffer(l._getCurrentChunk(h.rawFile,h.uid))},_appendBuffer:function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer},onSaveSelected:function(){var t=this,n=t.upload;e(".k-toupload",this.element).filter((function(){var t=e(this),r=G(t),o=n._filesContainValidationErrors(t.data("fileNames"));return!r&&!o})).each((function(r){var o=e(this),l=o.prev();o.removeClass("k-toupload"),n.options.async.chunkSize?(t.prepareChunk(o),(n.options.async.concurrent||0===r&&!l.length||0===r&&l.hasClass("k-file-success")||l.hasClass("k-file-error"))&&t.performUpload(o)):t.performUpload(o)}))},onCancel:function(e){var t=$(e);this.upload.options.async.chunkSize&&(this.cancelled[t.data("uid")]=!0),this.stopUploadRequest(t),this.removeFileEntry(t)},onPause:function(e){var t=$(e).data("uid"),n=this.upload.options.async;n.chunkSize&&(this.retries[t]=n.maxAutoRetries+1,this.paused[t]=!0,this.resume[t]=!1)},onResume:function(e){var t=$(e),n=t.data("uid");this.upload.options.async.chunkSize&&(delete this.paused[n],this.resume[n]=!0,this.retries[t.data("uid")]=1,this._increaseChunkIndex(n),this.performUpload(t))},onRetry:function(e){var t=$(e),n=this.upload.options.async;n.chunkSize&&(this.retries[t.data("uid")]=n.maxAutoRetries+1,delete this.paused[t.data("uid")]),this.performUpload(t)},onRemove:function(e,t,n){var r=this.upload,o=$(e),l=this.upload.options.async;l.chunkSize&&(this.retries[o.data("uid")]=l.maxAutoRetries+1),o.hasClass("k-file-success")?O(o,r,t,n):this.removeFileEntry(o)},createXHR:function(){return new XMLHttpRequest},postFormData:function(e,data,t,n){var r=this;t.data("request",n),n.addEventListener("load",(function(e){r.onRequestSuccess.call(r,e,t)}),!1),n.addEventListener(m,(function(e){r.onRequestError.call(r,e,t)}),!1),n.upload.addEventListener("progress",(function(e){r.onRequestProgress.call(r,e,t)}),!1),n.open("POST",e,!0),n.withCredentials=this.upload.options.async.withCredentials;var o=this.upload.options.async.accept;o&&n.setRequestHeader("Accept",o),n.send(data)},createFormData:function(){return new FormData},populateFormData:function(data,e){var t,i,n,r=e.length,o=this.upload;if(o.options.async.chunkSize){n=e[0].uid,t=this._getCurrentChunk(e[0].rawFile,n),data.append(o.options.async.saveField||o.name,t);var l=JSON.stringify(this.metaData[n]);data.append("metadata",l)}else for(i=0;i<r;i++)data.append(o.options.async.saveField||o.name,e[i].rawFile);return data},onRequestSuccess:function(t,n){var r=t.target,o=this;function l(){o.upload._onUploadError({target:e(n,o.upload.wrapper)},r)}r.status>=200&&r.status<=299?V(r.responseText,(function(t){var l=o.upload.options.async.batch,c=o.upload.options.async.chunkSize,h=o.upload.options.async.concurrent,d=t.fileUid;o.paused[d]||o.cancelled[d]||(delete o.retries[d],!c||l||t.uploaded?!c||l||h||!n.next().length||n.next().hasClass("k-toupload")?(o.upload._onFileProgress({target:e(n,o.upload.wrapper)},100),o.upload._onUploadSuccess({target:e(n,o.upload.wrapper)},t,r),o.cleanupFileEntry(n)):(o.upload._onFileProgress({target:e(n,o.upload.wrapper)},100),o._resetChunkIndex(d),o.upload._onUploadSuccess({target:e(n,o.upload.wrapper)},t,r),o.performUpload(n.next())):(o._increaseChunkIndex(d),o.performUpload(n)))}),l):l()},onRequestError:function(t,n){var r=t.target;this.upload._onUploadError({target:e(n,this.upload.wrapper)},r)},cleanupFileEntry:function(t){var n=t.data("relatedInput"),r=!0;n&&(e.each(n.data("relatedFileEntries")||[],(function(){this.parent().length>0&&this[0]!=t[0]&&(r=r&&this.hasClass("k-file-success"))})),r&&n.remove())},removeFileEntry:function(e){var t=this.upload.options.async.chunkSize,n=this.upload.options.async.concurrent,r=this.upload.wrapper.find(".k-upload-selected").length>0;this.cleanupFileEntry(e),!t||n||r||e.next().length&&this.performUpload(e.next()),this.upload._removeFileEntry(e)},onRequestProgress:function(t,n){var r,o=Math.round(100*t.loaded/t.total),l=n.data("uid");this.upload.options.async.chunkSize&&(o=(r=this.metaData[l])&&r.totalChunks?Math.round(r.chunkIndex/r.totalChunks*100):100),this.upload._onFileProgress({target:e(n,this.upload.wrapper)},o)},stopUploadRequest:function(e){e.data("request").abort()},prepareChunk:function(e){var t=e.data("files")[0],n=t.rawFile,r=t.uid,o=this.upload.options.async.chunkSize;this.position[r]=0,this.metaData[r]={chunkIndex:0,contentType:n.type,fileName:n.name,relativePath:t.name,totalFileSize:n.size,totalChunks:Math.ceil(n.size/o),uploadUid:r}},_decreaseChunkIndex:function(e){this.metaData[e].chunkIndex--},_increaseChunkIndex:function(e){this.metaData[e].chunkIndex++},_resetChunkIndex:function(e){this.metaData[e].chunkIndex=0},_decreasePosition:function(e){this.position[e]-=this.upload.options.async.chunkSize},_getCurrentChunk:function(e,t){var n,r=this.position[t],o=this.upload.options.async,l=o.chunkSize||o.bufferChunkSize;return this.position[t]||(this.position[t]=0),this.position[t]+=l,(n=this._getChunker(e))?e[n](r,this.position[t]):e},_getChunker:function(e){return e.slice?"slice":e.mozSlice?"mozSlice":e.webkitSlice?"webkitSlice":null}},n.ui.plugin(S)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1362)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1041:function(e,t){e.exports=n(8)},1362:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.proxy,l=Math.abs,c=r.extend({init:function(element,e){var t=this;function l(e){return function(n){t._triggerTouch(e,n)}}function c(e){return function(n){t.trigger(e,{touches:n.touches,distance:n.distance,center:n.center,event:n.event})}}r.fn.init.call(t,element,e),e=t.options,element=t.element,t.wrapper=element,t.events=new n.UserEvents(element,{filter:e.filter,surface:e.surface,minHold:e.minHold,multiTouch:e.multiTouch,allowSelection:!0,fastTap:e.fastTap,press:l("touchstart"),hold:l("hold"),tap:o(t,"_tap"),gesturestart:c("gesturestart"),gesturechange:c("gesturechange"),gestureend:c("gestureend")}),e.enableSwipe?(t.events.bind("start",o(t,"_swipestart")),t.events.bind("move",o(t,"_swipemove"))):(t.events.bind("start",o(t,"_dragstart")),t.events.bind("move",l("drag")),t.events.bind("end",l("dragend"))),n.notify(t)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,fastTap:!1,filter:null,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},destroy:function(){r.fn.destroy.call(this),this.events.destroy()},_triggerTouch:function(e,t){this.trigger(e,{touch:t.touch,event:t.event})&&t.preventDefault()},_tap:function(e){var t=this.lastTap,r=e.touch;t&&r.endTime-t.endTime<this.options.doubleTapTimeout&&n.touchDelta(r,t).distance<20?(this._triggerTouch("doubletap",e),this.lastTap=null):(this._triggerTouch("tap",e),this.lastTap=r)},_dragstart:function(e){this._triggerTouch("dragstart",e)},_swipestart:function(e){2*l(e.x.velocity)>=l(e.y.velocity)&&e.sender.capture()},_swipemove:function(e){var t=this.options,n=e.touch,r=e.event.timeStamp-n.startTime,o=n.x.initialDelta>0?"right":"left";l(n.x.initialDelta)>=t.minXDelta&&l(n.y.initialDelta)<t.maxYDelta&&r<t.maxDuration&&(this.trigger("swipe",{direction:o,touch:e.touch}),n.cancel())}});n.ui.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1190)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1011:function(e,t){e.exports=n(13)},1061:function(e,t){e.exports=n(26)},1123:function(e,t){e.exports=n(32)},1140:function(e,t){e.exports=n(33)},1190:function(e,t,n){var r,o,l;n(3),o=[n(1123),n(1140),n(1011),n(1061)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=e.proxy,l=n.support.browser.chrome?"disabled":"off",c="kendoPopup",h=".kendoFilterMenu",d="Is equal to",f="Is not equal to",m={number:"numerictextbox",date:"datepicker"},v={string:"text",number:"number",date:"date"},_=n.isFunction,w=r.Widget,y='<div data-#=ns#role="view" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>#=messages.filter# #=messages.into# #=title#<a href="\\#" class="k-header-done k-link" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul><li><span class="k-filter-help-text">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><span class="k-filter-operator-text">#=messages.operator#</span><select id="operator_#=filterMenuGuid#" title="#=messages.operator#" class="k-filter-operator" data-#=ns#bind="value: filters[0].operator" autocomplete="'+l+'" >#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label"><span class="k-filter-input-text">#=messages.value#</span>#if(values){#<select id="value_#=filterMenuGuid#" title="#=messages.value#" data-#=ns#bind="value:filters[0].value" autocomplete="'+l+'" ><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input id="value_#=filterMenuGuid#" title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-value-input" type="#=inputType#" autocomplete="'+l+'" />#}#</label></li></ul>#if(extra){#<ul><li class="k-item"><label class="k-label"><span class="k-filter-logic-and-text">#=messages.and#</span><input id="and_#=filterMenuGuid#" title="#=messages.and#" type="radio" name="logic" class="k-radio" data-#=ns#bind="checked: logic" value="and" autocomplete="'+l+'" /><span class="k-radio-label"></span></label></li><li class="k-item"><label class="k-label"><span class="k-filter-logic-or-text">#=messages.or#</span><input id="or_#=filterMenuGuid#" title="#=messages.or#" type="radio" name="logic" class="k-radio" data-#=ns#bind="checked: logic" value="or" autocomplete="'+l+'" /><span class="k-radio-label"></label></label></li></ul><ul><li class="k-item"><label class="k-label"><span class="k-filter-operator-text">#=messages.additionalOperator#</span><select id="additionalOperator_#=filterMenuGuid#" title="#=messages.additionalOperator#" class="k-filter-operator" data-#=ns#bind="value: filters[1].operator" autocomplete="'+l+'" >#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label"><span class="k-filter-input-text">#=messages.additionalValue#</span>#if(values){#<select id="additionalValue_#=filterMenuGuid#" title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" autocomplete="'+l+'" ><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input id="additionalValue_#=filterMenuGuid#" title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" class="k-value-input" type="#=inputType#" autocomplete="'+l+'" />#}#</label></li></ul>#}#</li><li class="k-item k-clear-wrap"><span class="k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">#=messages.clear#</span></li></ul></form></div>',x='<div data-#=ns#role="view" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>#=messages.filter# #=messages.into# #=title#<a href="\\#" class="k-header-done k-link" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul><li><span class="k-filter-help-text">#=messages.info#</span><ul class="k-multicheck-bool-wrap"><li class="k-item"><label class="k-label"><input id="true_#=filterMenuGuid#" title="#=messages.isTrue#" class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value" autocomplete="'+l+'" /><span class="k-item-title">#=messages.isTrue#</span></label></li><li class="k-item"><label class="k-label"><input id="false_#=filterMenuGuid#" title="#=messages.isFalse#" class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value" autocomplete="'+l+'" /><span for="false_#=filterMenuGuid#" class="k-item-title">#=messages.isFalse#</span></label></li></ul></li><li class="k-item k-clear-wrap"><span class="k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">#=messages.clear#</span></li></ul></form></div>';function k(e){var t,n,r,o,text,l;if(e&&e.length)for(l=[],t=0,n=e.length;t<n;t++)text=""!==(r=e[t]).text?r.text||r.value||r:r.text,o=null==r.value?r.text||r:r.value,l[t]={text:text,value:o};return l}var C=w.extend({init:function(element,t){var r,l,link,c,d=this,f="string";for(l in w.fn.init.call(d,element,t),r=d.operators=t.operators||{},element=d.element,(t=d.options).appendToElement||((link=element.addClass("k-with-icon k-filterable").find(".k-grid-filter"))[0]||(link=element.prepend('<a class="k-grid-filter" href="#" title="'+t.messages.filter+'" aria-label="'+t.messages.filter+'"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter")),link.attr("tabindex",-1).on("click"+h,o(d._click,d))),d.link=link||e(),d.dataSource=D.create(t.dataSource),d.field=t.field||element.attr(n.attr("field")),d.model=d.dataSource.reader.model,d._parse=function(e){return null!=e?e+"":e},d.model&&d.model.fields&&(c=d.model.fields[d.field])&&(f=c.type||"string",c.parse&&(d._parse=o(c.parse,c))),t.values&&(f="enums"),d.type=f,r=r[f]||t.operators[f])break;d._defaultFilter=function(){return{field:d.field,operator:l||"eq",value:""}},d._refreshHandler=o(d.refresh,d),d.dataSource.bind("change",d._refreshHandler),t.appendToElement?d._init():d.refresh()},_init:function(){var t,r=this.options.ui,l=_(r);this.pane=this.options.pane,this.pane&&(this._isMobile=!0),l||(t=r||m[this.type]),this._isMobile?this._createMobileForm(t):this._createForm(t),this.form.on("submit"+h,o(this._submit,this)).on("reset"+h,o(this._reset,this)),l&&this.form.find(".k-textbox").removeClass("k-textbox").each((function(){r(e(this))})),this.form.find("["+n.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+n.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+n.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+n.attr("role")+"=datepicker]").removeClass("k-textbox"),this.refresh(),this.trigger("init",{field:this.field,container:this.form}),n.cycleForm(this.form)},_createForm:function(t){var r=this,l=r.options,d=r.operators||{},f=r.type,m=_(r.options.ui);d=d[f]||l.operators[f],r.form=e('<form title="'+r.options.messages.title+'" class="k-filter-menu"/>').html(n.template("boolean"===f?m?'<div class="k-filter-menu-container"><div class="k-filter-help-text">#=messages.info#</div><label><input class="k-textbox" data-#=ns#bind="value: filters[0].value" name="filters[0].value"/></label><div class="k-action-buttons"><button type="submit" title="#=messages.filter#" class="k-button k-primary">#=messages.filter#</button><button type="reset" title="#=messages.clear#" class="k-button">#=messages.clear#</button></div></div>':'<div class="k-filter-menu-container"><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div class="k-action-buttons"><button type="submit" title="#=messages.filter#" class="k-button k-primary">#=messages.filter#</button><button type="reset" title="#=messages.clear#" class="k-button">#=messages.clear#</button></div></div>':'<div class="k-filter-menu-container"><div class="k-filter-help-text">#=messages.info#</div><select title="#=messages.operator#" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.value#" data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select title="#=messages.logic#" class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select title="#=messages.additionalOperator#" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.additionalValue#" data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div class="k-action-buttons"><button type="submit" title="#=messages.filter#" class="k-button k-primary">#=messages.filter#</button><button type="reset" title="#=messages.clear#" class="k-button">#=messages.clear#</button></div></div>')({field:r.field,format:l.format,ns:n.ns,messages:l.messages,extra:l.extra,operators:d,type:f,role:t,values:k(l.values)})),l.appendToElement?(r.element.append(r.form),r.popup=r.element.closest(".k-popup").data(c)):r.popup=r.form[c]({anchor:r.link,open:o(r._open,r),activate:o(r._activate,r),close:function(){r.options.closeCallback&&r.options.closeCallback(r.element)}}).data(c),r.form.on("keydown"+h,o(r._keydown,r))},_createMobileForm:function(t){var r=this,o=r.options,l=r.operators||{},c=n.guid(),h=r.type;l=l[h]||o.operators[h],r.form=e("<div />").html(n.template("boolean"===h?x:y)({field:r.field,title:o.title||r.field,format:o.format,ns:n.ns,messages:o.messages,extra:o.extra,operators:l,filterMenuGuid:c,type:h,role:t,inputType:v[h],values:k(o.values)})),r.view=r.pane.append(r.form.html()),r.form=r.view.element.find("form"),r.view.element.on("click",".k-header-done",(function(e){r.form.submit(),e.preventDefault()})).on("click",".k-header-cancel",(function(e){r._closeForm(),e.preventDefault()})).on("click",".k-clear",(function(e){r._mobileClear(),e.preventDefault()})),r.view.bind("showStart",(function(){r.refresh()}))},refresh:function(){var e=this.dataSource.filter()||{filters:[],logic:"and"},t=[this._defaultFilter()],r=this._defaultFilter().operator;(this.options.extra||"isnull"!==r&&"isnullorempty"!==r&&"isnotnullorempty"!==r&&"isnotnull"!==r&&"isempty"!==r&&"isnotempty"!==r)&&t.push(this._defaultFilter()),this.filterModel=n.observable({logic:"and",filters:t}),this.form&&n.bind(this.form.children().first(),this.filterModel),this._bind(e)?this.link.addClass("k-state-active"):this.link.removeClass("k-state-active")},destroy:function(){w.fn.destroy.call(this),this.form&&(n.unbind(this.form),n.destroy(this.form),this.form.unbind(h),this.popup&&(this.popup.destroy(),this.popup=null),this.form=null),this.view&&(this.view.purge(),this.view=null),this.link.unbind(h),this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource=null),this.element=this.link=this._refreshHandler=this.filterModel=null},_bind:function(e){var t,n,r,filter,o=e.filters,l=!1,c=0,h=this.filterModel;for(t=0,n=o.length;t<n;t++)(filter=o[t]).field==this.field?(h.set("logic",e.logic),(r=h.filters[c])||(h.filters.push({field:this.field}),r=h.filters[c]),r.set("value",this._parse(filter.value)),r.set("operator",filter.operator),c++,l=!0):filter.filters&&(l=l||this._bind(filter));return l},_stripFilters:function(t){return e.grep(t,(function(filter){return""!==filter.value&&null!=filter.value||"isnull"===filter.operator||"isnotnull"===filter.operator||"isempty"===filter.operator||"isnotempty"===filter.operator||"isnullorempty"==filter.operator||"isnotnullorempty"==filter.operator}))},_merge:function(t){var filter,n,r,o=t.logic||"and",l=this._stripFilters(t.filters),c=this.dataSource.filter()||{filters:[],logic:"and"};for(function t(n,r){n.filters&&(n.filters=e.grep(n.filters,(function(filter){return t(filter,r),filter.filters?filter.filters.length:filter.field!=r})))}(c,this.field),n=0,r=l.length;n<r;n++)(filter=l[n]).value=this._parse(filter.value);return l.length&&(c.filters.length?(t.filters=l,"and"!==c.logic&&(c.filters=[{logic:c.logic,filters:c.filters}],c.logic="and"),l.length>1?c.filters.push(t):c.filters.push(l[0])):(c.filters=l,c.logic=o)),c},filter:function(e){var t=this._stripFilters(e.filters);t.length&&this.trigger("change",{filter:{logic:e.logic,filters:t},field:this.field})||(e=this._merge(e)).filters.length&&this.dataSource.filter(e)},clear:function(){var e=this.dataSource.filter()||{filters:[]};this.trigger("change",{filter:null,field:this.field})||this._removeFilter(e)},_mobileClear:function(){var t=this.view.element;if("boolean"===this.type){var n=t.find(".k-check:checked"),r=n.val();n.val(""),n.trigger("change"),n.val(r),n.prop("checked",!1)}else if(t.find("select").each((function(i,t){var input=e(t);input.val(input.find("option:first").val()),input.trigger("change")})),("string"===this.type||"date"===this.type||"number"===this.type)&&t.find(".k-value-input").each((function(i,t){var input=e(t);input.val(""),input.trigger("change")})),this.options.extra){var o=t.find("[name=logic]").first();o.prop("checked",!0),o.trigger("change")}},_removeFilter:function(t){var n=this;t.filters=e.grep(t.filters,(function(filter){return filter.filters?(filter.filters=(t=filter.filters,r=n.field,e.grep(t,(function(t){return t.filters?(t.filters=e.grep(t.filters,(function(e){return e.field!=r})),t.filters.length):t.field!=r}))),filter.filters.length):filter.field!=n.field;var t,r})),t.filters.length||(t=null),n.dataSource.filter(t)},_submit:function(t){t.preventDefault(),t.stopPropagation();var n=this.filterModel.toJSON(),r=e.grep(n.filters,(function(filter){return""!==filter.value&&null!==filter.value}));if(this._checkForNullOrEmptyFilter(n)||r&&r.length)this.filter(n);else{var o=this.dataSource.filter();o&&(o.filters.push(n),n=o),this._removeFilter(n)}this._closeForm()},_checkForNullOrEmptyFilter:function(e){if(!e||!e.filters||!e.filters.length)return!1;var t,n=!1,r=!1;return e.filters[0]&&(n="isnull"==(t=e.filters[0].operator)||"isnotnull"==t||"isnotempty"==t||"isempty"==t||"isnullorempty"==t||"isnotnullorempty"==t),e.filters[1]&&(r="isnull"==(t=e.filters[1].operator)||"isnotnull"==t||"isnotempty"==t||"isempty"==t||"isnullorempty"==t||"isnotnullorempty"==t),!this.options.extra&&n||this.options.extra&&(n||r)},_reset:function(){this.clear(),this.options.search&&this.container&&this.container.find("label").parent().show(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var t;e(".k-filter-menu").not(this.form).each((function(){(t=e(this).data(c))&&t.close()}))},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger("open",{field:this.field,container:this.form})},_keydown:function(e){e.keyCode==n.keys.ESC&&this.popup.close()},events:["init","change","open"],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:d,neq:f,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:d,neq:f,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:d,neq:f,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:d,neq:f,isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",title:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",additionalValue:"Additional value",additionalOperator:"Additional operator",logic:"Filters logic",cancel:"Cancel",done:"Done",into:"in"},animations:{left:"slide",right:"slide:right"}}}),S=".kendoFilterMultiCheck";function T(e,r){for(var o=n.getter(r,!0),l=[],c=0,h={};c<e.length;){var d=e[c++],text=o(d);text===t||h.hasOwnProperty(text)||(l.push(d),h[text]=!0)}return l}var D=n.data.DataSource,E='<div data-#=ns#role="view" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>#=messages.filter# #=messages.into# #=title#<a href="\\#" class="k-header-done k-link" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><form class="k-filter-menu k-mobile-list"><ul>#if(search){#<li class="k-textbox k-space-right"><input placeholder="#=messages.search#" title="#=messages.search#" autocomplete="'+l+'"  /><span class="k-icon k-i-zoom" /></li>#}#<li class="k-filter-tools"><span style="#=checkAll ? "" : "visibility: hidden;" #" class="k-label k-select-all" title="#=messages.checkAll#" aria-label="#=messages.checkAll#">#=messages.checkAll#</span><span class="k-label k-clear-all" title="#=messages.clearAll#" aria-label="#=messages.clearAll#">#=messages.clearAll#</span></li>#if(messages.selectedItemsFormat){#<li><div class="k-filter-selected-items"></div></li>#}#<li><ul class="k-multicheck-wrap"></ul></li></ul></form></div>',A=w.extend({init:function(element,t){w.fn.init.call(this,element,t),t=this.options,this.element=e(element);var r,l,c=this.field=this.options.field||this.element.attr(n.attr("field")),h=t.checkSource;this._foreignKeyValues()?(this.checkSource=D.create(t.values),this.checkSource.fetch()):t.forceUnique?(delete(h=e.extend(!0,{},t.dataSource.options)).pageSize,this.checkSource=D.create(h),this.checkSource.reader.data=(r=this.checkSource.reader.data,l=this.field,function(e){return T(r(e),l)})):this.checkSource=D.create(h),this.dataSource=t.dataSource,this.model=this.dataSource.reader.model,this._parse=function(e){return e+""},this.model&&this.model.fields&&(c=this.model.fields[this.field])&&("number"==c.type?this._parse=function(e){return"string"==typeof e&&"null"===e.toLowerCase()?null:parseFloat(e)}:c.parse&&(this._parse=o(c.parse,c)),this.type=c.type||"string"),t.appendToElement?this._init():this._createLink(),this._refreshHandler=o(this.refresh,this),this.dataSource.bind("change",this._refreshHandler)},_createLink:function(){var element=this.element,link=element.addClass("k-with-icon k-filterable").find(".k-grid-filter");link[0]||(link=element.prepend('<a class="k-grid-filter" href="#" title="'+this.options.messages.filter+'" aria-label="'+this.options.messages.filter+'"><span class="k-icon k-i-filter"/></a>').find(".k-grid-filter")),this._link=link.attr("tabindex",-1).on("click"+h,o(this._click,this))},_init:function(){var e=this,t=this.options.forceUnique,n=this.options;this.pane=n.pane,this.pane&&(this._isMobile=!0),this._createForm(),this._foreignKeyValues()?this.refresh():t&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(T(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch((function(){e.refresh.call(e)}))),this.options.forceUnique||(this.checkChangeHandler=function(){e.container.empty(),e.refresh()},this.checkSource.bind("change",this.checkChangeHandler)),this.form.on("keydown"+S,o(this._keydown,this)).on("submit"+S,o(this._filter,this)).on("reset"+S,o(this._reset,this)),this.trigger("init",{field:this.field,container:this.form})},_attachProgress:function(){var e=this;this._progressHandler=function(){r.progress(e.container,!0)},this._progressHideHandler=function(){r.progress(e.container,!1)},this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_input:function(){var e=this;e._clearTypingTimeout(),e._typingTimeout=setTimeout((function(){e.search()}),100)},_clearTypingTimeout:function(){this._typingTimeout&&(clearTimeout(this._typingTimeout),this._typingTimeout=null)},search:function(){var e=this.options.ignoreCase,t=this.searchTextBox[0].value,n=this.container.find("label");e&&(t=t.toLowerCase());var i=0;for(this.options.checkAll&&n.length&&(this._isMobile?this.view.element.find(".k-select-all")[0].style.visibility=t?"hidden":"":(n[0].parentNode.style.display=t?"none":"",i++));i<n.length;){var label=n[i],r=label.textContent||label.innerText;e&&(r=r.toLowerCase()),label.parentNode.style.display=r.indexOf(t)>=0?"":"none",i++}},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger("open",{field:this.field,container:this.form})},_createForm:function(){var t=this.options,html="",r=this;if(this._isMobile||(html+="<div class='k-filter-menu-container'>",t.search&&(html+="<div class='k-textbox k-space-right'><input placeholder='"+t.messages.search+"'/><span class='k-icon k-i-zoom' /></div>"),html+="<ul class='k-reset k-multicheck-wrap'></ul>",t.messages.selectedItemsFormat&&(html+="<div class='k-filter-selected-items'>"+n.format(t.messages.selectedItemsFormat,0)+"</div>"),html+="<div class='k-action-buttons'>",html+="<button type='submit' class='k-button k-primary'>"+t.messages.filter+"</button>",html+="<button type='reset' class='k-button'>"+t.messages.clear+"</button>",html+="</div>",html+="</div>",this.form=e('<form class="k-filter-menu"/>').html(html),this.container=this.form.find(".k-multicheck-wrap")),this._isMobile){r.form=e("<div />").html(n.template(E)({field:r.field,title:t.title||r.field,ns:n.ns,messages:t.messages,search:t.search,checkAll:t.checkAll})),r.view=r.pane.append(r.form.html()),r.form=r.view.element.find("form");var element=this.view.element;this.container=element.find(".k-multicheck-wrap"),element.on("click",".k-header-done",(function(e){r.form.submit(),e.preventDefault()})).on("click",".k-header-cancel",(function(e){r._closeForm(),e.preventDefault()})).on("click",".k-clear-all",(function(e){r._mobileCheckAll(!1),e.preventDefault()})).on("click",".k-select-all",(function(e){r._mobileCheckAll(!0),e.preventDefault()})),r.view.bind("showStart",(function(){r.refresh()}))}else t.appendToElement?(this.popup=this.element.closest(".k-popup").data(c),this.element.append(this.form)):r.popup=r.form.kendoPopup({anchor:r._link,open:o(r._open,r),activate:o(r._activate,r),close:function(){r.options.closeCallback&&r.options.closeCallback(r.element)}}).data(c);t.search&&(this.searchTextBox=this.form.find(".k-textbox > input"),this.searchTextBox.on("input",o(this._input,this)))},createCheckAllItem:function(){var t=this.options,template=n.template(t.itemTemplate({field:"all",mobile:this._isMobile})),r=e(template({all:t.messages.checkAll}));this.container.prepend(r),this.checkBoxAll=r.find(":checkbox").eq(0).addClass("k-check-all"),this.checkAllHandler=o(this.checkAll,this),this.checkBoxAll.on("change"+S,this.checkAllHandler)},updateCheckAllState:function(){if(this.options.messages.selectedItemsFormat&&this.form.find(".k-filter-selected-items").text(n.format(this.options.messages.selectedItemsFormat,this.container.find(":checked:not(.k-check-all)").length)),this.checkBoxAll){var e=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",e)}},refresh:function(e){var t=this.options.forceUnique,n=this.dataSource,r=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==r.length),this.form&&(e&&t&&e.sender===n&&!n.options.serverPaging&&("itemchange"==e.action||"add"==e.action||"remove"==e.action||n.options.autoSync&&"sync"===e.action)&&!this._foreignKeyValues()&&(this.checkSource.data(T(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(r),this.trigger("refresh"))},getFilterArray:function(){var n=e.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());return function t(n,r){n.filters&&(n.filters=e.grep(n.filters,(function(filter){return t(filter,r),filter.filters?filter.filters.length:filter.field==r&&"eq"==filter.operator})))}(n,this.field),function n(r){return"and"==r.logic&&r.filters.length>1?[]:r.filters?e.map(r.filters,(function(filter){return n(filter)})):r.value!==t?[r.value]:[]}(n)},createCheckBoxes:function(){var data,e=this.options,t={field:this.field,format:e.format,mobile:this._isMobile,type:this.type};this.options.forceUnique?this._foreignKeyValues()?(data=this.checkSource.data(),t.valueField="value",t.field="text"):data=this.checkSource.data():data=this.checkSource.view();var template=n.template(e.itemTemplate(t)),r=n.render(template,data);e.checkAll&&!this._isMobile&&this.createCheckAllItem(),this.container.on("change"+S,":checkbox",o(this.updateCheckAllState,this)),this.container.append(r)},checkAll:function(){var e=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",e)},checkValues:function(t){var n=this;e(e.grep(this.container.find(":checkbox").prop("checked",!1),(function(r){var o=!1;if(!e(r).is(".k-check-all"))for(var l=n._parse(e(r).val()),i=0;i<t.length;i++)if(o="date"==n.type?t[i]&&l?t[i].getTime()==l.getTime():null===t[i]&&null===l:t[i]==l)return o}))).prop("checked",!0),this.updateCheckAllState()},_mobileCheckAll:function(t){this.container.find(":checkbox").each((function(i,n){var r=e(n);r.prop("checked",t),r.trigger("change")}))},_filter:function(t){t.preventDefault(),t.stopPropagation();var n={logic:"or"},r=this;n.filters=e.map(this.form.find(":checkbox:checked:not(.k-check-all)"),(function(t){return{value:e(t).val(),operator:"eq",field:r.field}})),n.filters.length&&this.trigger("change",{filter:n,field:r.field})||((n=this._merge(n)).filters.length?this.dataSource.filter(n):this.clear(),this._closeForm())},_stripFilters:function(t){return e.grep(t,(function(filter){return null!=filter.value}))},_foreignKeyValues:function(){var e=this.options;return e.values&&!e.checkSource},destroy:function(){w.fn.destroy.call(this),this.form&&(n.unbind(this.form),n.destroy(this.form),this.form.unbind(S),this.popup&&(this.popup.destroy(),this.popup=null),this.form=null,this.container&&(this.container.unbind(S),this.container=null),this.checkBoxAll&&this.checkBoxAll.unbind(S)),this.view&&(this.view.purge(),this.view=null),this._link&&this._link.unbind(h),this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource=null),this.checkChangeHandler&&this.checkSource.unbind("change",this.checkChangeHandler),this._progressHandler&&this.checkSource.unbind("progress",this._progressHandler),this._progressHideHandler&&this.checkSource.unbind("change",this._progressHideHandler),this._clearTypingTimeout(),this.searchTextBox=null,this.element=this.checkSource=this.container=this.checkBoxAll=this._link=this._refreshHandler=this.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(e){var n=e.field,r=e.format,o=e.valueField,l=e.mobile,c="";return o===t&&(o=n),"date"==e.type&&(c=":yyyy-MM-ddTHH:mm:sszzz"),"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(l?"k-check":"")+"'  value='#:kendo.format('{0"+c+"}',"+o+")#'/><span class='k-item-title'>#:kendo.format('"+(r||"{0}")+"', "+n+")#</span></label></li>"},checkAll:!0,search:!1,ignoreCase:!0,appendToElement:!1,messages:{checkAll:"Select All",clearAll:"Clear All",clear:"Clear",filter:"Filter",search:"Search",cancel:"Cancel",selectedItemsFormat:"{0} items selected",done:"Done",into:"in"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:["init","refresh","change","open"]});e.extend(A.fn,{_click:C.fn._click,_keydown:C.fn._keydown,_reset:C.fn._reset,_closeForm:C.fn._closeForm,_removeFilter:C.fn._removeFilter,clear:C.fn.clear,_merge:C.fn._merge}),r.plugin(C),r.plugin(A)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1270)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1270:function(e,t,n){var r,o,l;n(3),o=[n(1016)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=e.proxy,c=".k-i-arrow-end-left",h=".k-i-arrow-end-right",d=".k-i-arrow-60-left",f=".k-i-arrow-60-right",m="k-pager-lg k-pager-md k-pager-sm",v=".kendoPager",_=e(document.documentElement),w=Number.MAX_VALUE,y=n.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>');function button(template,e,text,t,title){return template({idx:e,text:text,ns:n.ns,numeric:t,title:title||""})}function x(e,text,t){return y({className:e.substring(1),text:text,wrapClassName:t||""})}function k(element,e,t,r){element.find(e).parent().attr(n.attr("page"),t).attr("tabindex",-1).toggleClass("k-state-disabled",r)}function C(element,e){k(element,c,1,e<=1)}function S(element,e){k(element,d,Math.max(1,e-1),e<=1)}function T(element,e,t){k(element,f,Math.min(t,e+1),e>=t)}function D(element,e,t){k(element,h,t,e>=t)}var E=o.extend({init:function(element,t){var r,m,_;if(o.fn.init.call(this,element,t),t=this.options,this._createDataSource(t),this.linkTemplate=n.template(this.options.linkTemplate),this.selectTemplate=n.template(this.options.selectTemplate),this.currentPageTemplate=n.template(this.options.currentPageTemplate),r=this.page(),m=this.totalPages(),this._refreshHandler=l(this.refresh,this),this.dataSource.bind("change",this._refreshHandler),this.downEvent=n.applyEventMap("down",n.guid()),t.previousNext&&(this.element.find(c).length||(this.element.append(x(c,t.messages.first,"k-pager-first")),C(this.element,r)),this.element.find(d).length||(this.element.append(x(d,t.messages.previous)),S(this.element,r))),t.numeric&&(this.list=this.element.find(".k-pager-numbers"),this.list.length||(this.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(this.element)),t.dataSource&&!t.dataSource.total()&&this.list.empty().append(this.currentPageTemplate({text:0})).append(this.selectTemplate({text:0})),this.list.wrap('<div class="k-pager-numbers-wrap"></div>')),t.input&&(this.element.find(".k-pager-input").length||this.element.append('<span class="k-pager-input k-label">'+t.messages.page+'<input class="k-textbox">'+n.format(t.messages.of,m)+"</span>"),this.element.on("keydown"+v,".k-pager-input input",l(this._keydown,this))),t.previousNext&&(this.element.find(f).length||(this.element.append(x(f,t.messages.next)),T(this.element,r,m)),this.element.find(h).length||(this.element.append(x(h,t.messages.last,"k-pager-last")),D(this.element,r,m))),t.pageSizes){if(!this.element.find(".k-pager-sizes").length){var w=t.pageSizes.length?t.pageSizes:["all",5,10,20],y=e.map(w,(function(e){return e.toLowerCase&&"all"===e.toLowerCase()?"<option value='all'>"+t.messages.allPages+"</option>":"<option>"+e+"</option>"}));e('<span class="k-pager-sizes k-label"><select/>'+t.messages.itemsPerPage+"</span>").appendTo(this.element).find("select").html(y.join("")).end().appendTo(this.element)}this.element.find(".k-pager-sizes select").val(this.pageSize()),n.ui.DropDownList&&this.element.find(".k-pager-sizes select").show().kendoDropDownList(),this.element.on("change"+v,".k-pager-sizes select",l(this._change,this))}t.refresh&&(this.element.find(".k-pager-refresh").length||this.element.append('<a href="#" class="k-pager-refresh k-link" title="'+t.messages.refresh+'" aria-label="'+t.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>'),this.element.on("click"+v,".k-pager-refresh",l(this._refreshClick,this))),t.info&&(this.element.find(".k-pager-info").length||this.element.append('<span class="k-pager-info k-label" />')),this.element.on("click"+v,"a",l(this._click,this)).addClass("k-pager-wrap k-widget k-floatwrap"),this.element.on("click"+v,".k-current-page",l(this._toggleActive,this)),t.autoBind&&this.refresh(),this._resizeHandler=l(this.resize,this,!0),e(window).on("resize"+v,this._resizeHandler),(_=this._getWidthSizeClass(this.element.width()))&&this.element.addClass(_),n.notify(this)},destroy:function(){o.fn.destroy.call(this),this.element.off(v),this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=null,e(window).off("resize"+v,this._resizeHandler),n.destroy(this.element),this.element=this.list=null},events:["change"],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,responsive:!0,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){this.dataSource.unbind("change",this._refreshHandler),this.dataSource=this.options.dataSource=e,e.bind("change",this._refreshHandler),this.options.autoBind&&e.fetch()},_resize:function(e){if(e.width){var t=this._getWidthSizeClass(e.width),n=this.element;t?n.hasClass(t)||(n.removeClass(m),n.addClass(t)):n.removeClass(m)}},_createDataSource:function(e){this.dataSource=n.data.DataSource.create(e.dataSource)},refresh:function(t){var r,o,l,c=1,h=this.page(),html="",d=this.options,f=this.pageSize(),m=this._collapsedTotal(),v=this.dataSource.total(),y=this.totalPages(),x=this.linkTemplate,k=d.buttonCount;if(_.unbind(this.downEvent,e.proxy(this._hideList,this)),!t||"itemchange"!=t.action){if(d.numeric){for(h>k&&(c=0==(l=h%k)?h-k+1:h-l+1),o=Math.min(c+k-1,y),c>1&&(html+=button(x,c-1,"...",!1,d.messages.morePages)),r=c;r<=o;r++)html+=button(r==h?this.selectTemplate:x,r,r,!0);o<y&&(html+=button(x,r,"...",!1,d.messages.morePages)),""===html&&(html=this.selectTemplate({text:0})),html=this.currentPageTemplate({text:h})+html,this.list.removeClass("k-state-expanded").html(html)}if(d.info&&(html=v>0?n.format(d.messages.display,this.dataSource.options.endless?1:Math.min((h-1)*(this.dataSource.pageSize()||0)+1,m),Math.min(h*f,m),v):d.messages.empty,this.element.find(".k-pager-info").html(html)),d.input&&this.element.find(".k-pager-input").html(this.options.messages.page+'<input class="k-textbox" aria-label="'+h+'">'+n.format(d.messages.of,y)).find("input").val(h).attr("disabled",v<1).toggleClass("k-state-disabled",v<1),d.previousNext&&(C(this.element,h),S(this.element,h),T(this.element,h,y),D(this.element,h,y)),d.pageSizes){var text=f;this.element.find(".k-pager-sizes option[value='all']").length>0&&(f===this.dataSource.total()||f==w)&&(f="all",text=d.messages.allPages),this.element.find(".k-pager-sizes select").val(f).attr("aria-label",f).filter("["+n.attr("role")+"=dropdownlist]").kendoDropDownList("value",f).kendoDropDownList("text",text)}}},_collapsedTotal:function(){return this.dataSource.total()},_keydown:function(e){if(e.keyCode===n.keys.ENTER){var input=this.element.find(".k-pager-input").find("input"),t=parseInt(input.val(),10);(isNaN(t)||t<1||t>this.totalPages())&&(t=this.page()),input.val(t),this.page(t)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=e.currentTarget.value,n=parseInt(t,10),r=this.dataSource;isNaN(n)?"all"==(t+"").toLowerCase()&&(r._pageSize=void 0,r._take=void 0,r._skip=0,r.fetch()):r.pageSize(n)},_toggleActive:function(){this.list.hasClass("k-state-expanded")?_.unbind(this.downEvent,e.proxy(this._hideList,this)):_.bind(this.downEvent,e.proxy(this._hideList,this)),this.list.toggleClass("k-state-expanded")},_hideList:function(t){var r=n.eventTarget(t);e.contains(this.list[0],r)||(_.unbind(this.downEvent,e.proxy(this._hideList,this)),this.list.removeClass("k-state-expanded"))},_click:function(t){var r=e(t.currentTarget);t.preventDefault(),r.is(".k-state-disabled")||this.page(parseInt(r.attr(n.attr("page")),10))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){if(!e)return this.dataSource.total()>0?this.dataSource.page():0;this.trigger("pageChange",{index:e})||(this.dataSource.page(e),this.trigger("change",{index:e}))},_getWidthSizeClass:function(e){var t=m.split(" ");return this.options.responsive?e<=480?t[2]:e<=640?t[1]:e<=1024?t[0]:null:null}});r.plugin(E)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1314)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1062:function(e,t){e.exports=n(5)},1314:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=n._outerWidth,l=n._outerHeight;function h(element){return element.clone()}function d(element){return element.clone().removeAttr("id").css("visibility","hidden")}var f=r.extend({init:function(element,e){r.fn.init.call(this,element,e),this.options.placeholder||(this.options.placeholder=d),this.options.hint||(this.options.hint=h),this.draggable=this._createDraggable()},events:["start","beforeMove","move","end","change","cancel"],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto",moveOnDragEnter:!1},destroy:function(){this.draggable.destroy(),r.fn.destroy.call(this)},_createDraggable:function(){var element=this.element,t=this.options;return new n.ui.Draggable(element,{filter:t.filter,hint:n.isFunction(t.hint)?t.hint:e(t.hint),holdToDrag:t.holdToDrag,container:t.container?e(t.container):null,cursorOffset:t.cursorOffset,axis:t.axis,ignore:t.ignore,autoScroll:t.autoScroll,dragstart:e.proxy(this._dragstart,this),dragcancel:e.proxy(this._dragcancel,this),drag:e.proxy(this._drag,this),dragend:e.proxy(this._dragend,this)})},_dragstart:function(t){var r=this.draggedElement=t.currentTarget,o=this.options.disabled,l=this.options.handler,c=this.options.placeholder,h=this.placeholder=n.isFunction(c)?e(c.call(this,r)):e(c);o&&r.is(o)?t.preventDefault():l&&!e(t.initialTarget).is(l)?t.preventDefault():this.trigger("start",{item:r,draggableEvent:t})?t.preventDefault():(r.css("display","none"),r.before(h),this._setCursor())},_dragcancel:function(){this._cancel(),this.trigger("cancel",{item:this.draggedElement}),this._resetCursor()},_drag:function(t){var n,r,o,l,h,d=this.draggedElement,f=this._findTarget(t),m={left:t.x.location,top:t.y.location},v={x:t.x.delta,y:t.y.delta},_=this.options.axis,w=this.options.moveOnDragEnter,y={item:d,list:this,draggableEvent:t};if("x"!==_&&"y"!==_){if(f){if(n=this._getElementCenter(f.element),r={left:Math.round(m.left-n.left),top:Math.round(m.top-n.top)},e.extend(y,{target:f.element}),f.appendToBottom)return void this._movePlaceholder(f,null,y);if(f.appendAfterHidden&&this._movePlaceholder(f,"next",y),this._isFloating(f.element)?v.x<0&&w||!w&&r.left<0?o="prev":(v.x>0&&w||!w&&r.left>0)&&(o="next"):v.y<0&&w||!w&&r.top<0?o="prev":(v.y>0&&w||!w&&r.top>0)&&(o="next"),o){for(l=(h="prev"===o?c.fn.prev:c.fn.next).call(f.element);l.length&&!l.is(":visible");)l=h.call(l);l[0]!=this.placeholder[0]&&this._movePlaceholder(f,o,y)}}}else this._movementByAxis(_,m,v[_],y)},_dragend:function(t){var n,r,o,l,c=this.placeholder,h=this.draggedElement,d=this.indexOf(h),f=this.indexOf(c),m=this.options.connectWith;this._resetCursor(),o={action:"sort",item:h,oldIndex:d,newIndex:f,draggableEvent:t},f>=0?r=this.trigger("end",o):(n=c.parents(m).getKendoSortable(),o.action="remove",l=e.extend({},o,{action:"receive",oldIndex:-1,newIndex:n.indexOf(c)}),r=!(!this.trigger("end",o)&&!n.trigger("end",l))),r||f===d?this._cancel():(c.replaceWith(h),h.show(),this.draggable.dropped=!0,o={action:-1!=this.indexOf(h)?"sort":"remove",item:h,oldIndex:d,newIndex:this.indexOf(h),draggableEvent:t},this.trigger("change",o),n&&(l=e.extend({},o,{action:"receive",oldIndex:-1,newIndex:n.indexOf(h)}),n.trigger("change",l)))},_findTarget:function(t){var n,r,element=this._findElementUnderCursor(t),o=this.options.connectWith;return e.contains(this.element[0],element)?(r=(n=this.items()).filter(element)[0]||n.has(element)[0])?{element:e(r),sortable:this}:null:this.element[0]==element&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==element&&this._isLastHidden()?{element:r=this.items().eq(0),sortable:this,appendAfterHidden:!0}:o?this._searchConnectedTargets(element,t):void 0},_findElementUnderCursor:function(t){var r=n.elementUnderCursor(t),o=t.sender;return function(t,n){try{return e.contains(t,n)||t==n}catch(e){return!1}}(o.hint[0],r)&&(o.hint.hide(),(r=n.elementUnderCursor(t))||(r=n.elementUnderCursor(t)),o.hint.show()),r},_searchConnectedTargets:function(element,t){for(var n,r,o,l=e(this.options.connectWith),i=0;i<l.length;i++)if(n=l.eq(i).getKendoSortable(),e.contains(l[i],element)){if(n)return(o=(r=n.items()).filter(element)[0]||r.has(element)[0])?(n.placeholder=this.placeholder,{element:e(o),sortable:n}):null}else if(l[i]==element){if(n&&n._isEmpty())return{element:l.eq(i),sortable:n,appendToBottom:!0};if(this._isCursorAfterLast(n,t))return{element:o=n.items().last(),sortable:n}}},_isCursorAfterLast:function(e,t){var r,c=e.items().last(),h=t.x.location,d=t.y.location;return(r=n.getOffset(c)).top+=l(c),r.left+=o(c),(this._isFloating(c)?r.left-h:r.top-d)<0},_movementByAxis:function(t,n,r,o){var l,c="x"===t?n.left:n.top,h=r<0?this.placeholder.prev():this.placeholder.next(),d=this.items();h.length&&!h.is(":visible")&&(h=r<0?h.prev():h.next()),d.filter(h).length&&(e.extend(o,{target:h}),(l=this._getElementCenter(h))&&(l="x"===t?l.left:l.top),h.length&&r<0&&c-l<0?this._movePlaceholder({element:h,sortable:this},"prev",o):h.length&&r>0&&c-l>0&&this._movePlaceholder({element:h,sortable:this},"next",o))},_movePlaceholder:function(e,t,n){var r=this.placeholder;e.sortable.trigger("beforeMove",n)||(t?"prev"===t?e.element.before(r):"next"===t&&e.element.after(r):e.element.append(r),e.sortable.trigger("move",n))},_setCursor:function(){var body,cursor=this.options.cursor;cursor&&"auto"!==cursor&&(body=e(document.body),this._originalCursorType=body.css("cursor"),body.css({cursor:cursor}),this._cursorStylesheet||(this._cursorStylesheet=e("<style>* { cursor: "+cursor+" !important; }</style>")),this._cursorStylesheet.appendTo(body))},_resetCursor:function(){this._originalCursorType&&(e(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(element){var e=element.length?n.getOffset(element):null;return e&&(e.top+=l(element)/2,e.left+=o(element)/2),e},_isFloating:function(e){var t=/left|right/.test(e.css("float")),n=/inline|table-cell/.test(e.css("display")),r=/flex/.test(e.parent().css("display"))&&(/row|row-reverse/.test(e.parent().css("flex-direction"))||!e.parent().css("flex-direction"));return t||n||r},_cancel:function(){this.draggedElement.show(),this.placeholder.remove(),this.draggable.dropped=!0},_items:function(){var filter=this.options.filter;return filter?this.element.find(filter):this.element.children()},indexOf:function(element){var e=this._items(),t=this.placeholder,n=this.draggedElement;return t&&element[0]==t[0]?e.not(n).index(element):e.not(t).index(element)},items:function(){var e=this.placeholder,t=this._items();return e&&(t=t.not(e)),t},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});n.ui.plugin(f)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1268)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1268:function(e,t,n){var r,o,l;n(3),o=[n(1269)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1269:function(e,t){e.exports=n(298)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1180)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1180:function(e,t,n){var r,o,l;n(3),o=[n(1181),n(1182)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1181:function(e,t){e.exports=n(195)},1182:function(e,t){e.exports=n(302)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1290)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1290:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},l=Math,c=e.extend,h=e.proxy,d={progressStatus:"<span class='k-progress-status-wrap k-progress-end'><span class='k-progress-status'></span></span>"},f=r.extend({init:function(element,e){r.fn.init.call(this,element,e),e=this.options,this._progressProperty="horizontal"===e.orientation?"width":"height",this._fields(),e.value=this._validateValue(e.value),this._validateType(e.type),this._wrapper(),this._progressAnimation(),e.value!==e.min&&!1!==e.value&&this._updateProgress()},setOptions:function(e){r.fn.setOptions.call(this,e),e.hasOwnProperty("reverse")&&this.wrapper.toggleClass("k-progressbar-reverse",e.reverse),e.hasOwnProperty("enable")&&this.enable(e.enable),this._progressAnimation(),this._validateValue(),this._updateProgress()},events:["change","complete"],options:{name:"ProgressBar",orientation:"horizontal",reverse:!1,min:0,max:100,value:0,enable:!0,type:o.VALUE,chunkCount:5,showStatus:!0,animation:{}},_fields:function(){this._isStarted=!1,this.progressWrapper=this.progressStatus=e()},_validateType:function(t){var r=!1;if(e.each(o,(function(e,n){if(n===t)return r=!0,!1})),!r)throw new Error(n.format("Invalid ProgressBar type '{0}'",t))},_wrapper:function(){var e,t=this.wrapper=this.element,n=this.options,r=n.orientation;t.addClass("k-widget k-progressbar"),t.addClass("k-progressbar-"+("horizontal"===r?"horizontal":"vertical")),!1===n.enable&&t.addClass("k-state-disabled"),n.reverse&&t.addClass("k-progressbar-reverse"),!1===n.value&&t.addClass("k-progressbar-indeterminate"),n.type===o.CHUNK?this._addChunkProgressWrapper():n.showStatus&&(this.progressStatus=this.wrapper.prepend(d.progressStatus).find(".k-progress-status"),e=!1!==n.value?n.value:n.min,n.type===o.VALUE?this.progressStatus.text(e):this.progressStatus.text(this._calculatePercentage(e).toFixed()+"%"))},value:function(e){return this._value(e)},_value:function(e){var t,n=this.options;if(void 0===e)return n.value;"boolean"!=typeof e?(e=this._roundValue(e),isNaN(e)||(t=this._validateValue(e))!==n.value&&(this.wrapper.removeClass("k-progressbar-indeterminate"),n.value=t,this._isStarted=!0,this._updateProgress())):e||(this.wrapper.addClass("k-progressbar-indeterminate"),n.value=!1)},_roundValue:function(e){e=parseFloat(e);var t=l.pow(10,3);return n._round(e*t)/t},_validateValue:function(e){var t=this.options;if(!1!==e){if(e<=t.min||!0===e)return t.min;if(e>=t.max)return t.max}else if(!1===e)return!1;return isNaN(this._roundValue(e))?t.min:e},_updateProgress:function(){var e=this.options,t=this._calculatePercentage();e.type===o.CHUNK?(this._updateChunks(t),this._onProgressUpdateAlways(e.value)):this._updateProgressWrapper(t)},_updateChunks:function(e){var t,n=this.options,r=n.chunkCount,o=parseInt(100/r*100,10)/100,c=parseInt(100*e,10)/100,h=l.floor(c/o);t="horizontal"===n.orientation&&!n.reverse||"vertical"===n.orientation&&n.reverse?this.wrapper.find("li.k-item:lt("+h+")"):this.wrapper.find("li.k-item:gt(-"+(h+1)+")"),this.wrapper.find(".k-state-selected").removeClass("k-state-selected").addClass("k-state-default"),t.removeClass("k-state-default").addClass("k-state-selected")},_updateProgressWrapper:function(e){var t=this.options,n=this.wrapper.find(".k-state-selected"),r=this._isStarted?this._animation.duration:0,o={};0===n.length&&this._addRegularProgressWrapper(),o[this._progressProperty]=e+"%",this.progressWrapper.animate(o,{duration:r,start:h(this._onProgressAnimateStart,this),progress:h(this._onProgressAnimate,this),complete:h(this._onProgressAnimateComplete,this,t.value),always:h(this._onProgressUpdateAlways,this,t.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(e){var t,n=this.options,r=parseFloat(e.elem.style[this._progressProperty],10);n.showStatus&&(t=1e4/parseFloat(this.progressWrapper[0].style[this._progressProperty]),this.progressWrapper.find(".k-progress-status-wrap").css(this._progressProperty,t+"%")),n.type!==o.CHUNK&&r<=98&&this.progressWrapper.removeClass("k-complete")},_onProgressAnimateComplete:function(e){var t,n=this.options,r=parseFloat(this.progressWrapper[0].style[this._progressProperty]);n.type!==o.CHUNK&&r>98&&this.progressWrapper.addClass("k-complete"),n.showStatus&&(t=n.type===o.VALUE?e:n.type==o.PERCENT?this._calculatePercentage(e).toFixed()+"%":l.floor(this._calculatePercentage(e))+"%",this.progressStatus.text(t)),e===n.min&&this.progressWrapper.hide()},_onProgressUpdateAlways:function(e){var t=this.options;this._isStarted&&this.trigger("change",{value:e}),e===t.max&&this._isStarted&&this.trigger("complete",{value:t.max})},enable:function(e){var t=this.options;t.enable=void 0===e||e,this.wrapper.toggleClass("k-state-disabled",!t.enable)},destroy:function(){r.fn.destroy.call(this)},_addChunkProgressWrapper:function(){var e=this.options,t=this.wrapper,n=100/e.chunkCount,html="";e.chunkCount<=1&&(e.chunkCount=1),html+="<ul class='k-reset'>";for(var i=e.chunkCount-1;i>=0;i--)html+="<li class='k-item k-state-default'></li>";html+="</ul>",t.append(html).find(".k-item").css(this._progressProperty,n+"%").first().addClass("k-first").end().last().addClass("k-last"),this._normalizeChunkSize()},_normalizeChunkSize:function(){var e=this.options,t=this.wrapper.find(".k-item:last"),n=parseFloat(t[0].style[this._progressProperty]),r=100-e.chunkCount*n;r>0&&t.css(this._progressProperty,n+r+"%")},_addRegularProgressWrapper:function(){this.progressWrapper=e("<div class='k-state-selected'></div>").appendTo(this.wrapper),this.options.showStatus&&(this.progressWrapper.append(d.progressStatus),this.progressStatus=this.wrapper.find(".k-progress-status"))},_calculateChunkSize:function(){var e=this.options.chunkCount,t=this.wrapper.find("ul.k-reset");return(parseInt(t.css(this._progressProperty),10)-(e-1))/e},_calculatePercentage:function(e){var t=this.options,n=void 0!==e?e:t.value,r=t.min,o=t.max;return this._onePercent=l.abs((o-r)/100),l.abs((n-r)/this._onePercent)},_progressAnimation:function(){var e=this.options,t=e.animation;this._animation=!1===t?{duration:0}:c({duration:400},e.animation)}});n.ui.plugin(f)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1355)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1355:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=".kendoSwitch",l=r.Widget,c=n.support,h={widget:"k-switch k-widget",container:"k-switch-container",handle:"k-switch-handle",checked:"k-switch-on",checkedLabel:"k-switch-label-on",unchecked:"k-switch-off",uncheckedLabel:"k-switch-label-off",disabled:"k-state-disabled",readonly:"k-state-readonly",active:"k-state-active"},d=c.click+o,f=c.pointers?"pointerup":"touchend",m=e.proxy,v=n.template('<span class="#=styles.widget#" role="switch"></span>'),_=n.template("<span class='#=styles.container#'><span class='#=styles.checkedLabel#'>#=checked#</span><span class='#=styles.uncheckedLabel#'>#=unchecked#</span><span class='#=styles.handle#'></span></span>"),w=l.extend({init:function(element,t){var r;l.fn.init.call(this,element,t),t=this.options,(element=this.element[0]).type="checkbox",r=e(v({styles:h})),this.wrapper=this.element.wrap(r).parent(),this.wrapper.append(e(_({styles:h,checked:t.messages.checked,unchecked:t.messages.unchecked}))).addClass(element.className),this.wrapper.on(d,m(this._click,this)).on(f,m(this._touchEnd,this)).on("keydown.kendoSwitch",m(this._keydown,this)),this.options.enabled&&this._tabindex(),this._initSettings(),this._aria(),n.notify(this,n.ui)},setOptions:function(t){var n=t.messages;this.options=e.extend(this.options,t),n&&void 0!==n.checked&&this.wrapper.find("."+h.checkedLabel).text(n.checked),n&&void 0!==n.unchecked&&this.wrapper.find("."+h.uncheckedLabel).text(n.unchecked),t.width&&this.wrapper.css({width:t.width}),void 0!==t.enabled&&this.enable(t.enabled),void 0!==t.readonly&&this.readonly(t.readonly),this.check(t.checked)},_initSettings:function(){var element=this.element[0],e=this.options;e.width&&this.wrapper.css({width:e.width}),null===e.checked&&(e.checked=element.checked),this.check(e.checked),e.enabled=e.enabled&&!this.element.attr("disabled"),this.enable(e.enabled),e.readonly=e.readonly||!!this.element.attr("readonly"),this.readonly(e.readonly)},_aria:function(){var element=this.element,t=this.wrapper,r=element.attr("id"),o=e('label[for="'+r+'"]'),l=element.attr("aria-label"),c=element.attr("aria-labelledby");if(l)t.attr("aria-label",l);else if(c)t.attr("aria-labelledby",c);else if(o.length){var h=o.attr("id");h||(h=(r||n.guid())+"_label",o.attr("id",h)),t.attr("aria-labelledby",h)}},events:["change"],options:{name:"Switch",messages:{checked:"On",unchecked:"Off"},width:null,checked:null,enabled:!0,readonly:!1},check:function(e){var element=this.element[0];if(void 0===e)return element.checked;element.checked!==e&&(this.options.checked=element.checked=e),this.wrapper.attr("aria-checked",e).toggleClass(h.checked,e).toggleClass(h.unchecked,!e),e?this.element.attr("checked","checked"):this.element.removeAttr("checked")},value:function(e){return"string"==typeof e&&(e="true"===e),this.check.apply(this,[e])},destroy:function(){l.fn.destroy.call(this),this.wrapper.off(o)},toggle:function(){this.check(!this.element[0].checked)},enable:function(e){var element=this.element,t=this.wrapper;void 0===e&&(e=!0),this.options.enabled=e,e?(element.removeAttr("disabled"),t.removeAttr("aria-disabled")):(element.attr("disabled","disabled"),t.attr("aria-disabled",!0)),t.toggleClass(h.disabled,!e)},readonly:function(e){var element=this.element,t=this.wrapper;void 0===e&&(e=!0),this.options.readonly=e,e?(element.attr("readonly",!0),t.attr("aria-readonly",!0)):(element.removeAttr("readonly"),t.removeAttr("aria-readonly")),t.toggleClass(h.readonly,e)},_check:function(){var e=this.element[0].checked=!this.element[0].checked;this.wrapper.focus(),!this.options.enabled||this.options.readonly||this.trigger("change",{checked:e})?this.element[0].checked=!e:this.check(e)},_keydown:function(e){e.keyCode===n.keys.SPACEBAR&&(this._check(),e.preventDefault())},_isTouch:function(e){return/touch/.test(e.type)||e.originalEvent&&/touch/.test(e.originalEvent.pointerType)},_click:function(e){this._isTouch(e)||1!==e.which||this._check()},_touchEnd:function(e){this._isTouch(e)&&(this._check(),e.preventDefault())}});r.plugin(w)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1356)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1016:function(e,t){e.exports=n(3)},1356:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1016)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.keys,map=e.map,l=e.each,h=e.trim,d=e.extend,f=n.isFunction,template=n.template,m=n._outerWidth,v=n._outerHeight,_=r.Widget,w=/^(a|div)$/i,y=".kendoTabStrip",x="img",k="k-link",C="k-last",S="k-image",T="k-first",D="k-state-disabled",E="k-state-default",A="k-state-active",I="k-tab-on-top",M=".k-item:not(."+D+")",R=".k-tabstrip-items > "+M+":not(."+A+")",F={content:template("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:template("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:template("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:template("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:template("<span class='k-sprite #= spriteCssClass #'></span>"),empty:template("")},P={wrapperCssClass:function(e,t){var n="k-item",r=t.index;return!1===t.enabled?n+=" k-state-disabled":n+=" k-state-default",0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),n},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},text:function(e){return!1===e.encoded?e.text:n.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},contentAttributes:function(content){return!0!==content.active?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?n.attr("content-url")+'="'+e.contentUrl+'"':""}};function z(t){t.children(x).addClass(S),t.children("a").addClass(k).children(x).addClass(S),t.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(E),t.filter("li[disabled]").addClass(D).attr("aria-disabled","true").removeAttr("disabled"),t.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(A+" "+I),t.attr("role","tab"),t.filter("."+A).attr("aria-selected",!0),t.each((function(){var t=e(this);t.children("."+k).length||t.contents().filter((function(){return!(this.nodeName.match(w)||3==this.nodeType&&!h(this.nodeValue))})).wrapAll("<span UNSELECTABLE='on' class='"+k+"'/>")}))}function B(e){var t=e.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(T),t.filter(".k-last:not(:last-child)").removeClass(C),t.filter(":first-child").addClass(T),t.filter(":last-child").addClass(C)}function L(e,t){return"<span class='k-button k-button-icon k-bare k-tabstrip-"+e+"' unselectable='on'><span class='k-icon "+t+"'></span></span>"}var H=_.extend({init:function(element,t){var r,o=this;_.fn.init.call(o,element,t),o._animations(o.options),t=o.options,o._contentUrls=t.contentUrls||[],o._wrapper(),o._isRtl=n.support.isRtl(o.wrapper),o._tabindex(),o._updateClasses(),o._dataSource(),t.dataSource&&o.dataSource.fetch(),o._tabPosition(),o._scrollable(),o._contentUrls.length?o.wrapper.find(".k-tabstrip-items > .k-item").each((function(t,n){var r=o._contentUrls[t];"string"==typeof r&&e(n).find(">."+k).data("contentUrl",r)})):o._contentUrls.length=o.tabGroup.find("li.k-item").length,o.wrapper.on("mouseenter"+y+" mouseleave"+y,R,o._toggleHover).on("focus"+y,e.proxy(o._active,o)).on("blur"+y,(function(){o._current(null)})),o._keyDownProxy=e.proxy(o._keydown,o),t.navigatable&&o.wrapper.on("keydown"+y,o._keyDownProxy),o.options.value&&(r=o.options.value),o.wrapper.children(".k-tabstrip-items").on("click"+y,".k-state-disabled .k-link",!1).on("click"+y," > "+M,(function(t){var r=o.wrapper[0];if(r!==document.activeElement)if(n.support.browser.msie)try{r.setActive()}catch(e){r.focus()}else r.focus();o._click(e(t.currentTarget))&&t.preventDefault()}));var l=o.tabGroup.children("li."+A),content=o.contentHolder(l.index());l[0]&&content.length>0&&0===content[0].childNodes.length&&o.activateTab(l.eq(0)),o.element.attr("role","tablist"),o.element[0].id&&(o._ariaId=o.element[0].id+"_ts_active"),o.value(r),n.notify(o)},_active:function(){var e=this.tabGroup.children().filter("."+A);(e=e[0]?e:this._endItem("first"))[0]&&this._current(e)},_endItem:function(e){return this.tabGroup.children(M)[e]()},_getItem:function(e){return this.tabGroup.children(".k-item")[e]()},_item:function(e,t){var n;return n="prev"===t?"last":"first",e?((e=e[t]())[0]||(e=this.tabGroup.children(".k-item")[n]()),e.hasClass(D)&&e.addClass("k-state-focused"),(e.hasClass(D)||e.hasClass(A))&&(this._focused=e),e):this._endItem(n)},_current:function(e){var t=this._focused,n=this._ariaId;if(void 0===e)return t;t&&(this.tabGroup.children("#"+n).removeAttr("id"),t.removeClass("k-state-focused")),e&&(e.hasClass(A)||e.addClass("k-state-focused"),this.element.removeAttr("aria-activedescendant"),(n=e[0].id||n)&&(e.attr("id",n),this.element.attr("aria-activedescendant",n))),this._focused=e},_keydown:function(e){var t,n=e.keyCode,r=this._current(),l=this._isRtl,c=/top|bottom/.test(this.options.tabPosition);if(e.target==e.currentTarget&&r){if(n!==o.DOWN||c)if(n!==o.UP||c)if(n===o.RIGHT&&c)t=l?"prev":"next";else if(n===o.LEFT&&c)t=l?"next":"prev";else if(n==o.ENTER||n==o.SPACEBAR)this._click(r),e.preventDefault();else{if(n==o.HOME)return this._click(this._getItem("first")),void e.preventDefault();if(n==o.END)return this._click(this._getItem("last")),void e.preventDefault()}else t="prev";else t="next";t&&(this._click(this._item(r,t)),e.preventDefault())}},_dataSource:function(){this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler):this._refreshHandler=e.proxy(this.refresh,this),this.dataSource=n.data.DataSource.create(this.options.dataSource).bind("change",this._refreshHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.dataSource.fetch()},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(e){var t,r,o,l=this.options,c=n.getter(l.dataEncodedField),text=n.getter(l.dataTextField),content=n.getter(l.dataContentField),h=n.getter(l.dataContentUrlField),image=n.getter(l.dataImageUrlField),d=n.getter(l.dataUrlField),f=n.getter(l.dataSpriteCssClass),m=[],view=this.dataSource.view();for((e=e||{}).action&&(view=e.items),t=0,o=view.length;t<o;t++)r={text:text(view[t])},l.dataEncodedField&&(r.encoded=c(view[t])),l.dataContentField&&(r.content=content(view[t])),l.dataContentUrlField&&(r.contentUrl=h(view[t])),l.dataUrlField&&(r.url=d(view[t])),l.dataImageUrlField&&(r.imageUrl=image(view[t])),l.dataSpriteCssClass&&(r.spriteCssClass=f(view[t])),m[t]=r;if("add"==e.action)e.index<this.tabGroup.children().length?this.insertBefore(m,this.tabGroup.children().eq(e.index)):this.append(m);else if("remove"==e.action)for(t=0;t<view.length;t++)this.remove(e.index);else"itemchange"==e.action?(t=this.dataSource.view().indexOf(view[0]),e.field===l.dataTextField&&this.tabGroup.children().eq(t).find(".k-link").text(view[0].get(e.field)),e.field===l.dataUrlField&&(this._contentUrls[t]=view[0].get(e.field))):(this.trigger("dataBinding"),this.remove("li"),this._contentUrls=[],this.append(m),this.trigger("dataBound"))},value:function(t){var n=this;if(void 0===t)return n.select().text();t!=n.value()&&n.tabGroup.children().each((function(){e.trim(e(this).text())==t&&n.select(this)}))},items:function(){return this.tabGroup[0].children},setOptions:function(e){var t=this.options.animation;this._animations(e),e.contentUrls&&(this._contentUrls=e.contentUrls),e.animation=d(!0,t,e.animation),e.navigatable?this.wrapper.on("keydown"+y,this._keyDownProxy):this.wrapper.off("keydown"+y,this._keyDownProxy),_.fn.setOptions.call(this,e)},events:["select","activate","show","error","contentLoad","change","dataBinding","dataBound"],options:{name:"TabStrip",dataEncodedField:"",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1,navigatable:!0,contentUrls:!1,scrollable:{distance:200}},destroy:function(){var e=this.scrollWrap;_.fn.destroy.call(this),this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler),this.wrapper.off(y),this.wrapper.children(".k-tabstrip-items").off(y),this._scrollableModeActive&&(this._scrollPrevButton.off().remove(),this._scrollNextButton.off().remove()),n.destroy(this.wrapper),e.children(".k-tabstrip").unwrap()},select:function(element){var t=this;return 0===arguments.length?t.tabGroup.children("li."+A):(isNaN(element)||(element=t.tabGroup.children().get(element)),element=t.tabGroup.find(element),e(element).each((function(n,r){(r=e(r)).hasClass(A)||t.trigger("select",{item:r[0],contentElement:t.contentHolder(r.index())[0]})||t.activateTab(r)})),t)},enable:function(element,e){return this._toggleDisabled(element,!1!==e),this},disable:function(element){return this._toggleDisabled(element,!1),this},reload:function(element){element=this.tabGroup.find(element);var t=this,n=t._contentUrls;return element.each((function(){var r=e(this),o=r.find("."+k).data("contentUrl")||n[r.index()],content=t.contentHolder(r.index());o&&t.ajaxRequest(r,content,null,o)})),t},append:function(e){var t=this,n=t._create(e);return l(n.tabs,(function(e){var r=n.contents[e];t.tabGroup.append(this),"bottom"==t.options.tabPosition?t.tabGroup.before(r):t._scrollableModeActive?t._scrollPrevButton.before(r):t.wrapper.append(r),t.angular("compile",(function(){return{elements:[r]}}))})),B(t.tabGroup),t._updateContentElements(),t.resize(!0),t},_appendUrlItem:function(e){this._contentUrls.push(e)},_moveUrlItem:function(e,t){this._contentUrls.splice(t,0,this._contentUrls.splice(e,1)[0])},_removeUrlItem:function(e){this._contentUrls.splice(e,1)},insertBefore:function(t,n){n=e(t).is(e(n))?this.tabGroup.find(n).next():this.tabGroup.find(n);var r=this,o=r._create(t),c=r.element.find("[id='"+n.attr("aria-controls")+"']");return l(o.tabs,(function(t){var l=o.contents[t],h=o.newTabsCreated?r._contentUrls.length-(o.tabs.length-t):e(l).index()-1;n.before(this),c.before(l),r._moveUrlItem(h,e(this).index()),r.angular("compile",(function(){return{elements:[l]}}))})),B(r.tabGroup),r._updateContentElements(o.newTabsCreated),r.resize(!0),r},insertAfter:function(t,n){n=e(t).is(e(n))?this.tabGroup.find(n).prev():this.tabGroup.find(n);var r=this,o=r._create(t),c=r.element.find("[id='"+n.attr("aria-controls")+"']");return l(o.tabs,(function(t){var l=o.contents[t],h=o.newTabsCreated?r._contentUrls.length-(o.tabs.length-t):e(l).index()-1;n.after(this),c.after(l),r._moveUrlItem(h,e(this).index()),r.angular("compile",(function(){return{elements:[l]}}))})),B(r.tabGroup),r._updateContentElements(o.newTabsCreated),r.resize(!0),r},remove:function(t){var r,o=this,l=typeof t;return"string"===l?t=o.tabGroup.find(t):"number"===l&&(t=o.tabGroup.children().eq(t)),r=t.map((function(){var t=e(this).index(),content=o.contentElement(t);return n.destroy(content),o._removeUrlItem(t),content})),t.remove(),r.empty(),r.remove(),o._updateContentElements(),o.resize(!0),o},_create:function(t){var r,o,content,l=this,c=!1;return t=t instanceof n.data.ObservableArray?t.toJSON():t,e.isPlainObject(t)||e.isArray(t)?(t=e.isArray(t)?t:[t],c=!0,r=map(t,(function(n,r){return l._appendUrlItem(t[r].contentUrl||null),e(H.renderItem({group:l.tabGroup,item:d(n,{index:r})}))})),o=map(t,(function(t,n){if("string"==typeof t.content||t.contentUrl)return e(H.renderContent({item:d(t,{index:n})}))}))):(r="string"==typeof t&&"<"!=t[0]?l.element.find(t):e(t),o=e(),r.each((function(){if(/k-tabstrip-items/.test(this.parentNode.className)){var element=l.element.find("[id='"+this.getAttribute("aria-controls")+"']");content=element}else content=e("<div class='k-content'/>");o=o.add(content)})),z(r)),{tabs:r,contents:o,newTabsCreated:c}},_toggleDisabled:function(element,t){(element=this.tabGroup.find(element)).each((function(){e(this).toggleClass(E,t).toggleClass(D,!t).attr("aria-disabled",!t)}))},_updateClasses:function(){var t,n,r;this.wrapper.addClass("k-widget k-header k-tabstrip"),this.tabGroup=this.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),this.tabGroup[0]||(this.tabGroup=e("<ul class='k-tabstrip-items k-reset'/>").appendTo(this.wrapper)),(t=this.tabGroup.find("li").addClass("k-item")).length&&(r=(n=t.filter("."+A).index())>=0?n:void 0,this.tabGroup.contents().filter((function(){return 3==this.nodeType&&!h(this.nodeValue)})).remove()),n>=0&&t.eq(n).addClass(I),this.contentElements=this.wrapper.children("div"),this.contentElements.addClass("k-content").eq(r).addClass(A).css({display:"block"}),t.length&&(z(t),B(this.tabGroup),this._updateContentElements(!0))},_elementId:function(element,e){var t=element.attr("id"),r=this.element.attr("id");return!t||t.indexOf(r+"-")>-1?(r||n.guid())+"-"+(e+1):t},_updateContentElements:function(t){var r=this,o=r._contentUrls,l=r.tabGroup.children(".k-item"),c=r.wrapper.children("div"),h=r._elementId.bind(r);c.length&&l.length>c.length?c.each((function(n){var r=h(e(this),n),o=l.filter("[aria-controls="+(this.id||0)+"]")[0];!o&&t&&(o=l[n]),o&&o.setAttribute("aria-controls",r),this.setAttribute("id",r)})):l.each((function(t){var n=c.eq(t),l=h(n,t);this.setAttribute("aria-controls",l),!n.length&&o[t]?e("<div class='k-content'/>").appendTo(r.wrapper).attr("id",l):(n.attr("id",l),e(this).children(".k-loading")[0]||o[t]||e("<span class='k-loading k-complete'/>").prependTo(this)),n.attr("role","tabpanel"),n.filter(":not(."+A+")").attr("aria-hidden",!0).attr("aria-expanded",!1),n.filter("."+A).attr("aria-expanded",!0)})),r.contentElements=r.contentAnimators=r.wrapper.children("div"),r.tabsHeight=v(r.tabGroup)+parseInt(r.wrapper.css("border-top-width"),10)+parseInt(r.wrapper.css("border-bottom-width"),10),n.kineticScrollNeeded&&n.mobile.ui.Scroller&&(n.touchScroller(r.contentElements),r.contentElements=r.contentElements.children(".km-scroll-container"))},_wrapper:function(){this.element.is("ul")?this.wrapper=this.element.wrapAll("<div />").parent():this.wrapper=this.element,this.scrollWrap=this.wrapper.parent(".k-tabstrip-wrapper"),this.scrollWrap[0]||(this.scrollWrap=this.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent())},_tabPosition:function(){var e=this.options.tabPosition;this.wrapper.addClass("k-floatwrap k-tabstrip-"+e),"bottom"==e&&this.tabGroup.appendTo(this.wrapper),this.resize(!0)},_setContentElementsDimensions:function(){var e=this.options.tabPosition;if("left"==e||"right"==e){var t=this.wrapper.children(".k-content"),n=t.filter(":visible"),r="margin-"+e,o=this.tabGroup,l=m(o),c=Math.ceil(o.height())-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10)-parseInt(n.css("border-top-width"),10)-parseInt(n.css("border-bottom-width"),10);setTimeout((function(){t.css(r,l).css("min-height",c)}))}},_resize:function(){this._setContentElementsDimensions(),this._scrollable()},_sizeScrollWrap:function(element){if(element.is(":visible")){var e=this.options.tabPosition,t=Math.floor(v(element,!0))+("left"===e||"right"===e?2:this.tabsHeight);this.scrollWrap.css("height",t).css("height")}},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"==t.type)},_click:function(e){var t,n,link=e.find("."+k),r=link.attr("href"),o=this.options.collapsible,l=e.index(),c=this.contentHolder(l),h=e.parent().children().filter(".k-state-focused");if(e.closest(".k-widget")[0]==this.wrapper[0]){if(e.is("."+D+(o?"":",."+A)))return h.removeClass("k-state-focused"),this._focused=e,e.addClass("k-state-focused"),this._current(e),this._scrollableModeActive&&this._scrollTabsToItem(e),!0;if(n=link.data("contentUrl")||this._contentUrls[l]||r&&("#"==r.charAt(r.length-1)||-1!=r.indexOf("#"+this.element[0].id+"-")),t=!r||n,this.tabGroup.children("[data-animating]").length)return t;if(this.trigger("select",{item:e[0],contentElement:c[0]}))return!0;if(!1!==t)return o&&e.is("."+A)?(this.deactivateTab(e),!0):(this.activateTab(e)&&(t=!0),t)}},_scrollable:function(){var e,t,r,o,l=this,c=l.options;if(l._scrollableAllowed())if(l.wrapper.addClass("k-tabstrip-scrollable"),e=l.wrapper[0].offsetWidth,(t=l.tabGroup[0].scrollWidth)>e&&!l._scrollableModeActive){l._nowScrollingTabs=!1,l._isRtl=n.support.isRtl(l.element);var h=n.support.mobileOS?"touchstart":"mousedown",d=n.support.mobileOS?"touchend":"mouseup",f=n.support.browser,v=l._isRtl&&!f.msie&&!f.edge;l.wrapper.append(L("prev","k-i-arrow-60-left")+L("next","k-i-arrow-60-right")),r=l._scrollPrevButton=l.wrapper.children(".k-tabstrip-prev"),o=l._scrollNextButton=l.wrapper.children(".k-tabstrip-next"),l.tabGroup.css({marginLeft:m(r)+9,marginRight:m(o)+12}),r.on(h+y,(function(){l._nowScrollingTabs=!0,l._scrollTabsByDelta(c.scrollable.distance*(v?1:-1))})),o.on(h+y,(function(){l._nowScrollingTabs=!0,l._scrollTabsByDelta(c.scrollable.distance*(v?-1:1))})),r.add(o).on(d+y,(function(){l._nowScrollingTabs=!1})),l._scrollableModeActive=!0,l._toggleScrollButtons()}else l._scrollableModeActive&&t<=e?(l._scrollableModeActive=!1,l.wrapper.removeClass("k-tabstrip-scrollable"),l._scrollPrevButton.off().remove(),l._scrollNextButton.off().remove(),l.tabGroup.css({marginLeft:"",marginRight:""})):l._scrollableModeActive?l._toggleScrollButtons():l.wrapper.removeClass("k-tabstrip-scrollable")},_scrollableAllowed:function(){var e=this.options;return e.scrollable&&!e.scrollable.distance&&(e.scrollable={distance:200}),e.scrollable&&!isNaN(e.scrollable.distance)&&("top"==e.tabPosition||"bottom"==e.tabPosition)},_scrollTabsToItem:function(e){var t,n=this,r=n.tabGroup,o=r.scrollLeft(),l=m(e),c=n._isRtl?e.position().left:e.position().left-r.children().first().position().left,h=r[0].offsetWidth,d=Math.ceil(parseFloat(r.css("padding-left")));n._isRtl?c<0?t=o+c-(h-o)-d:c+l>h&&(t=o+c-l+2*d):o+h<c+l?t=c+l-h+2*d:o>c&&(t=c-d),r.finish().animate({scrollLeft:t},"fast","linear",(function(){n._toggleScrollButtons()}))},_scrollTabsByDelta:function(e){var t=this,n=t.tabGroup,r=n.scrollLeft();n.finish().animate({scrollLeft:r+e},"fast","linear",(function(){t._nowScrollingTabs&&!c.fx.off?t._scrollTabsByDelta(e):t._toggleScrollButtons()}))},_toggleScrollButtons:function(){var ul=this.tabGroup,e=n.scrollLeft(ul);this._scrollPrevButton.toggle(0!==e),this._scrollNextButton.toggle(e<ul[0].scrollWidth-ul[0].offsetWidth-1)},deactivateTab:function(e){var t=this.options.animation,r=t.open,o=d({},t.close),l=o&&"effects"in o;e=this.tabGroup.find(e),o=d(l?o:d({reverse:!0},r),{hide:!0}),n.size(r.effects)?(e.kendoAddClass(E,{duration:r.duration}),e.kendoRemoveClass(A,{duration:r.duration})):(e.addClass(E),e.removeClass(A)),e.removeAttr("aria-selected"),this.contentAnimators.filter("."+A).kendoStop(!0,!0).kendoAnimate(o).removeClass(A).attr("aria-hidden",!0)},activateTab:function(e){if(!this.tabGroup.children("[data-animating]").length){e=this.tabGroup.find(e);var t=this,r=t.options.animation,o=r.open,l=d({},r.close),c=l&&"effects"in l,h=e.parent().children(),f=h.filter("."+A),m=h.index(e),_=o&&"duration"in o&&"effects"in o;l=d(c?l:d({reverse:!0},o),{hide:!0}),n.size(o.effects)?(f.kendoRemoveClass(A,{duration:l.duration}),e.kendoRemoveClass("k-state-hover",{duration:l.duration})):(f.removeClass(A),e.removeClass("k-state-hover"));var w=t.contentAnimators;if(t.inRequest&&(t.xhr.abort(),t.inRequest=!1),0===w.length)return t.tabGroup.find("."+I).removeClass(I),e.addClass(I).css("z-index"),e.addClass(A),t._current(e),t.trigger("change"),t._scrollableModeActive&&t._scrollTabsToItem(e),!1;var y=w.filter("."+A),x=t.contentHolder(m),C=x.closest(".k-content");if(t.tabsHeight=v(t.tabGroup)+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10),t._sizeScrollWrap(y),0===x.length)return y.removeClass(A).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(l),!1;e.attr("data-animating",!0);var S=!(!e.children("."+k).data("contentUrl")&&!t._contentUrls[m])&&x.is(":empty"),T=function(){f.removeAttr("aria-selected"),e.attr("aria-selected",!0),t._current(e),t._sizeScrollWrap(C),C.addClass(A).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(d({init:function(){t.trigger("show",{item:e[0],contentElement:x[0]}),n.resize(x)}},o,{complete:function(){e.removeAttr("data-animating"),t.trigger("activate",{item:e[0],contentElement:x[0]}),n.resize(x),t.scrollWrap.css("height","").css("height"),_&&(n.support.browser.msie||n.support.browser.edge)&&x.finish().animate({opacity:.9},"fast","linear",(function(){x.finish().animate({opacity:1},"fast","linear")}))}}))},D=function(){S?(e.removeAttr("data-animating"),t.ajaxRequest(e,x,(function(){e.attr("data-animating",!0),T(),t.trigger("change")}))):(T(),t.trigger("change")),t._scrollableModeActive&&t._scrollTabsToItem(e)};return y.removeClass(A),t.tabGroup.find("."+I).removeClass(I),e.addClass(I).css("z-index"),n.size(o.effects)?(f.kendoAddClass(E,{duration:o.duration}),e.kendoAddClass(A,{duration:o.duration})):(f.addClass(E),e.addClass(A)),y.attr("aria-hidden",!0),y.attr("aria-expanded",!1),y.length?y.kendoStop(!0,!0).kendoAnimate(d({complete:D},l)):D(),!0}},contentElement:function(t){if(!isNaN(t-0)){var r=this.contentElements&&this.contentElements[0]&&!n.kineticScrollNeeded?this.contentElements:this.contentAnimators,o=e(this.tabGroup.children()[t]).attr("aria-controls");if(r)for(var i=0,l=r.length;i<l;i++)if(r.eq(i).closest(".k-content")[0].id==o)return r[i]}},contentHolder:function(t){var r=e(this.contentElement(t)),o=r.children(".km-scroll-container");return n.support.touch&&o[0]?o:r},ajaxRequest:function(element,content,t,r){element=this.tabGroup.find(element);var o=this,l=e.ajaxSettings.xhr,link=element.find("."+k),c=element.width()/2,h=!1,d=element.find(".k-loading").removeClass("k-complete");d[0]||(d=e("<span class='k-loading'/>").prependTo(element));var m=2*c-d.width(),v=function(){d.animate({marginLeft:(parseInt(d.css("marginLeft"),10)||0)<c?m:0},500,v)};n.support.browser.msie&&n.support.browser.version<10&&setTimeout(v,40),r=r||link.data("contentUrl")||o._contentUrls[element.index()]||link.attr("href"),o.inRequest=!0;var _={type:"GET",cache:!1,url:r,dataType:"html",data:{},xhr:function(){var t=this,n=l(),r=t.progressUpload?"progressUpload":!!t.progress&&"progress";return n&&e.each([n,n.upload],(function(){this.addEventListener&&this.addEventListener("progress",(function(e){r&&t[r](e)}),!1)})),t.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest),n},progress:function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10)+"%";d.stop(!0).addClass("k-progress").css({width:t,marginLeft:0})}},error:function(e,t){o.trigger("error",{xhr:e,status:t})&&this.complete()},stopProgress:function(){clearInterval(h),d.stop(!0).addClass("k-progress")[0].style.cssText=""},complete:function(e){o.inRequest=!1,this.noProgress?setTimeout(this.stopProgress,500):this.stopProgress(),"abort"==e.statusText&&d.remove()},success:function(data){d.addClass("k-complete");try{var e=this,l=10;e.noProgress&&(d.width(l+"%"),h=setInterval((function(){e.progress({lengthComputable:!0,loaded:Math.min(l,100),total:100}),l+=10}),40)),o.angular("cleanup",(function(){return{elements:content.get()}})),n.destroy(content),content.html(data)}catch(e){var c=window.console;c&&c.error&&c.error(e.name+": "+e.message+" in "+r),this.error(this.xhr,"error")}t&&t.call(o,content),o.angular("compile",(function(){return{elements:content.get()}})),o.trigger("contentLoad",{item:element[0],contentElement:content[0]})}};"object"==typeof r&&(_=e.extend(!0,{},_,r),f(_.url)&&(_.url=_.url())),o.xhr=e.ajax(_)}});d(H,{renderItem:function(e){e=d({tabStrip:{},group:{}},e);var t=F.empty,n=e.item;return F.item(d(e,{image:n.imageUrl?F.image:t,sprite:n.spriteCssClass?F.sprite:t,itemWrapper:F.itemWrapper},P))},renderContent:function(e){return F.content(d(e,P))}}),n.ui.plugin(H)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(973),e.exports=n(973)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},973:function(e,t,n){var r,o,l;n(3),o=[n(974)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.Class,r=e.extend,o=t.ui.editor,l=t.support.browser,c=o.Dom,h=c.findNodeIndex,d=c.isDataNode,f=c.findClosestAncestor,m=c.getNodeLength,v=c.normalize,_={selectionFromWindow:function(e){return"getSelection"in e?e.getSelection():new C(e.document)},selectionFromRange:function(e){var t=F.documentFromRange(e);return _.selectionFromDocument(t)},selectionFromDocument:function(e){return _.selectionFromWindow(c.windowFromDocument(e))}},w=n.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,x(this),y(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,x(this),y(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,h(e))},setStartAfter:function(e){this.setStart(e.parentNode,h(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,h(e))},setEndAfter:function(e){this.setEnd(e.parentNode,h(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){e?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},deleteContents:function(){var e=this.cloneRange();this.startContainer!=this.commonAncestorContainer&&this.setStartAfter(f(this.commonAncestorContainer,this.startContainer)),this.collapse(!0),function e(t){for(;t.next();)t.hasPartialSubtree()?e(t.getSubtreeIterator()):t.remove()}(new k(e))},cloneContents:function(){var e=F.documentFromRange(this);return function t(n){for(var r,o=e.createDocumentFragment();r=n.next();)r=r.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&r.appendChild(t(n.getSubtreeIterator())),o.appendChild(r);return o}(new k(this))},extractContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(f(e.commonAncestorContainer,e.startContainer)),e.collapse(!0);var n=F.documentFromRange(e);return function t(r){for(var o,l=n.createDocumentFragment();o=r.next();)r.hasPartialSubtree()?(o=o.cloneNode(!1)).appendChild(t(r.getSubtreeIterator())):r.remove(e.originalRange),l.appendChild(o);return l}(new k(t))},insertNode:function(e){d(this.startContainer)?(this.startOffset!=this.startContainer.nodeValue.length&&c.splitDataNode(this.startContainer,this.startOffset),c.insertAfter(e,this.startContainer)):c.insertAt(this.startContainer,e,this.startOffset),this.setStart(this.startContainer,this.startOffset)},cloneRange:function(){return e.extend(new w(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return["#text"==e?this.startContainer.nodeValue:e,"(",this.startOffset,") : ","#text"==t?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}});function y(e,t){(function(e){try{return function(e,t,n,r){if(e==t)return r-n;for(var o=t;o&&o.parentNode!=e;)o=o.parentNode;if(o)return h(o)-n;for(o=e;o&&o.parentNode!=t;)o=o.parentNode;if(o)return r-h(o)-1;for(var l=c.commonAncestor(e,t),d=e;d&&d.parentNode!=l;)d=d.parentNode;d||(d=l);for(var f=t;f&&f.parentNode!=l;)f=f.parentNode;return f||(f=l),d==f?0:h(f)-h(d)}(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(e){return!0}})(e)&&(t?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function x(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!c.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}w.fromNode=function(e){return new w(e.ownerDocument)};var k=n.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||d(t.startContainer)?f(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||d(t.endContainer)?f(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]}},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return this._next=this._current&&this._current.nextSibling!=this._end?this._current.nextSibling:null,d(this._current)&&(this.range.endContainer==this._current&&(e=e.cloneNode(!0)).deleteData(this.range.endOffset,e.length-this.range.endOffset),this.range.startContainer==this._current&&(e=e.cloneNode(!0)).deleteData(0,this.range.startOffset)),e},traverse:function(e){for(var t,n=this;n._current=n._next,n._next=n._current&&n._current.nextSibling!=n._end?n._current.nextSibling:null,t=n._current;)n.hasPartialSubtree()?n.getSubtreeIterator().traverse(e):e(t);return t},remove:function(e){var t,n,r,o=this.range.startContainer==this._current,l=this.range.endContainer==this._current;if(d(this._current)&&(o||l))t=o?this.range.startOffset:0,r=(n=l?this.range.endOffset:this._current.length)-t,e&&(o||l)&&(this._current==e.startContainer&&t<=e.startOffset&&(e.startOffset-=r),this._current==e.endContainer&&n<=e.endOffset&&(e.endOffset-=r)),this._current.deleteData(t,r);else{var f=this._current.parentNode;if(e&&(this.range.startContainer==f||this.range.endContainer==f)){var m=h(this._current);f==e.startContainer&&m<=e.startOffset&&(e.startOffset-=1),f==e.endContainer&&m<e.endOffset&&(e.endOffset-=1)}c.remove(this._current)}},hasPartialSubtree:function(){return!d(this._current)&&(c.isAncestorOrSelf(this._current,this.range.startContainer)||c.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new k(this.getSubRange())},getSubRange:function(){var e=this.range.cloneRange();return e.selectNodeContents(this._current),c.isAncestorOrSelf(this._current,this.range.startContainer)&&e.setStart(this.range.startContainer,this.range.startOffset),c.isAncestorOrSelf(this._current,this.range.endContainer)&&e.setEnd(this.range.endContainer,this.range.endOffset),e}}),C=n.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();S(t,e,!1),S(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;"None"!=e.type&&e.empty()},getRangeAt:function(){var e,t,n=new w(this.ownerDocument),r=this.ownerDocument.selection;try{if(((e=r.createRange()).item?e.item(0):e.parentElement()).ownerDocument!=this.ownerDocument)return n}catch(e){return n}if("Control"==r.type)n.selectNode(e.item(0));else{t=function(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),c.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}(e),T(e,n,t,!0),T(e,n,t,!1),9==n.startContainer.nodeType&&n.setStart(n.endContainer,n.startOffset),9==n.endContainer.nodeType&&n.setEnd(n.startContainer,n.endOffset),0===e.compareEndPoints("StartToEnd",e)&&n.collapse(!1);var o=n.startContainer,l=n.endContainer,body=this.ownerDocument.body;if(!(n.collapsed||0!==n.startOffset||n.endOffset!=m(n.endContainer)||o==l&&d(o)&&o.parentNode==body)){for(var f=!1,v=!1;0===h(o)&&o==o.parentNode.firstChild&&o!=body;)o=o.parentNode,f=!0;for(;h(l)==m(l.parentNode)-1&&l==l.parentNode.lastChild&&l!=body;)l=l.parentNode,v=!0;o==body&&l==body&&f&&v&&(n.setStart(o,0),n.setEnd(l,m(body)))}}return n}});function S(e,t,n){var r,o=t[n?"startContainer":"endContainer"],l=t[n?"startOffset":"endOffset"],h=0,f=d(o),m=f?o:o.childNodes[l]||null,v=f?o.parentNode:o,_=t.ownerDocument,cursor=_.body.createTextRange();3!=o.nodeType&&4!=o.nodeType||(h=l),v||(v=_.body),"img"==v.nodeName.toLowerCase()?(cursor.moveToElementText(v),cursor.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",cursor)):(r=v.insertBefore(c.create(_,"a"),m),cursor.moveToElementText(r),c.remove(r),cursor[n?"moveStart":"moveEnd"]("character",h),cursor.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",cursor))}function T(e,t,n,r){var o,l,f,m,v,_,w,y=c.create(t.ownerDocument,"a"),cursor=e.duplicate(),x=r?"StartToStart":"StartToEnd",k=!1;y.innerHTML="\ufeff",cursor.collapse(r),l=cursor.parentElement(),c.isAncestorOrSelf(n,l)||(l=n);do{k?l.insertBefore(y,y.previousSibling):(l.appendChild(y),k=!0),cursor.moveToElementText(y)}while((o=cursor.compareEndPoints(x,e))>0&&y.previousSibling);f=y.nextSibling,-1==o&&d(f)?(cursor.setEndPoint(r?"EndToStart":"EndToEnd",e),c.remove(y),_=[f,cursor.text.length]):(m=!r&&y.previousSibling,v=r&&y.nextSibling,d(v)?_=[v,0]:d(m)?_=[m,m.length]:(w=h(y),_=l.nextSibling&&w==l.childNodes.length-1?[l.nextSibling,0]:[l,w]),c.remove(y)),t[r?"setStart":"setEnd"].apply(t,_)}var D=n.extend({init:function(e){this.enumerate=function(){var t=[];return new k(e).traverse((function e(n){if(c.is(n,"img")||3==n.nodeType&&(!c.isEmptyspace(n)||"\ufeff"==n.nodeValue))t.push(n);else for(n=n.firstChild;n;)e(n),n=n.nextSibling})),t}}}),E=k.extend({hasPartialSubtree:function(){var e=o.Immutables&&o.Immutables.immutable;return e&&!e(this._current)&&k.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new E(this.getSubRange())}}),A=n.extend({init:function(e){this.enumerate=function(){var t=[],n=o.Immutables&&o.Immutables.immutable;return new E(e).traverse((function e(r){if(n&&!n(r))if(c.is(r,"img")||3==r.nodeType&&(!c.isEmptyspace(r)||"\ufeff"==r.nodeValue))t.push(r);else for(r=r.firstChild;r;)e(r),r=r.nextSibling})),t}}}),I=n.extend({init:function(e,body,t){this.range=e,this.rootNode=F.documentFromRange(e),this.body=body||this.getEditable(e),"body"!=c.name(this.body)&&(this.rootNode=this.body),this.startContainer=this.nodeToPath(e.startContainer),this.endContainer=this.nodeToPath(e.endContainer),this.startOffset=this.offset(e.startContainer,e.startOffset),this.endOffset=this.offset(e.endContainer,e.endOffset),this.immutables=t&&t.immutables,this.immutables&&(this.serializedImmutables=o.Immutables.removeImmutables(this.body)),this.html=this.body.innerHTML,this.immutables&&!this.serializedImmutables.empty&&o.Immutables.restoreImmutables(this.body,this.serializedImmutables)},index:function(e){for(var t=0,n=e.nodeType;e=e.previousSibling;){var r=e.nodeType;3==r&&n==r||t++,n=r}return t},getEditable:function(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeType||t.attributes&&(!t.attributes.contentEditable||"false"==t.attributes.contentEditable.nodeValue.toLowerCase()));)t=t.parentNode;return t},restoreHtml:function(){c.removeChildren(this.body),this.body.innerHTML=this.html,this.immutables&&!this.serializedImmutables.empty&&o.Immutables.restoreImmutables(this.body,this.serializedImmutables)},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var path=[];e!=this.rootNode;)path.push(this.index(e)),e=e.parentNode;return path},toRangePoint:function(e,t,path,n){for(var r=this.rootNode,o=path.length,l=n;o--;)r=r.childNodes[path[o]];for(;r&&3==r.nodeType&&r.nodeValue.length<l;)l-=r.nodeValue.length,r=r.nextSibling;r&&l>=0&&e[t?"setStart":"setEnd"](r,l)},toRange:function(){var e=this.range.cloneRange();return this.toRangePoint(e,!0,this.startContainer,this.startOffset),this.toRangePoint(e,!1,this.endContainer,this.endOffset),e}}),M=n.extend({init:function(){this.caret=null},addCaret:function(e){var t=this.caret=c.create(F.documentFromRange(e),"span",{className:"k-marker"});return e.insertNode(t),c.stripBomNode(t.previousSibling),c.stripBomNode(t.nextSibling),e.selectNode(t),t},removeCaret:function(e){var t=this.caret.previousSibling,n=0;t&&(n=d(t)?t.nodeValue.length:h(t));var r=this.caret.parentNode,o=t?h(t):0;c.remove(this.caret),v(r);var f=r.childNodes[o];if(d(f))e.setStart(f,n);else if(f){var m=c.lastTextNode(f);m?e.setStart(m,m.nodeValue.length):e[t?"setStartAfter":"setStartBefore"](f)}else l.msie||r.innerHTML||(r.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(r);e.collapse(!0)},add:function(e,t){var n=e.collapsed&&!F.isExpandable(e),r=F.documentFromRange(e);t&&e.collapsed&&(this.addCaret(e),e=F.expand(e));var o=e.cloneRange();if(o.collapse(!1),this.end=c.create(r,"span",{className:"k-marker"}),o.insertNode(this.end),(o=e.cloneRange()).collapse(!0),this.start=this.end.cloneNode(!0),o.insertNode(this.start),this._removeDeadMarkers(this.start,this.end),n){var l=r.createTextNode("\ufeff");c.insertAfter(l.cloneNode(),this.start),c.insertBefore(l,this.end)}return v(e.commonAncestorContainer),e.setStartBefore(this.start),e.setEndAfter(this.end),e},_removeDeadMarkers:function(e,t){e.previousSibling&&"\ufeff"==e.previousSibling.nodeValue&&c.remove(e.previousSibling),t.nextSibling&&"\ufeff"==t.nextSibling.nodeValue&&c.remove(t.nextSibling)},_normalizedIndex:function(e){for(var t=h(e),n=e;n.previousSibling;)3==n.nodeType&&3==n.previousSibling.nodeType&&t--,n=n.previousSibling;return t},remove:function(e){var t=this.start,n=this.end;for(v(e.commonAncestorContainer);!t.nextSibling&&t.parentNode;)t=t.parentNode;for(;!n.previousSibling&&n.parentNode;)n=n.parentNode;t.previousSibling&&3==t.previousSibling.nodeType&&t.nextSibling&&t.nextSibling.nodeType,n.previousSibling&&3==n.previousSibling.nodeType&&n.nextSibling&&n.nextSibling.nodeType;var r=(t=t.nextSibling)===(n=n.previousSibling)&&c.isBom(t);r&&t.length>1&&(t.nodeValue=t.nodeValue.charAt(0));var o=r,l=!1;if(t==this.end&&(l=!!this.start.previousSibling,t=n=this.start.previousSibling||this.end.nextSibling,o=!0),c.remove(this.start),c.remove(this.end),!t||!n)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);var h=o?d(t)?t.nodeValue.length:t.childNodes.length:0,f=d(n)?n.nodeValue.length:n.childNodes.length;if(3==t.nodeType)for(;t.previousSibling&&3==t.previousSibling.nodeType;)h+=(t=t.previousSibling).nodeValue.length;if(3==n.nodeType)for(;n.previousSibling&&3==n.previousSibling.nodeType;)f+=(n=n.previousSibling).nodeValue.length;var m=t.parentNode,_=n.parentNode,w=this._normalizedIndex(t),y=this._normalizedIndex(n);v(m),3==t.nodeType&&(t=m.childNodes[w]),v(_),3==n.nodeType&&(n=_.childNodes[y]),o?(3==t.nodeType?e.setStart(t,h):e[l?"setStartAfter":"setStartBefore"](t),e.collapse(!0)):(3==t.nodeType?e.setStart(t,h):e.setStartBefore(t),3==n.nodeType?e.setEnd(n,f):e.setEndAfter(n)),this.caret&&this.removeCaret(e)}}),R=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,F={nodes:function(e){var t=F.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),(t=F.textNodes(e)).length||(t=c.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new D(e).enumerate()},editableTextNodes:function(e){var t=[],n=o.Immutables&&o.Immutables.immutableParent;return n&&!n(e.commonAncestorContainer)&&(t=new A(e).enumerate()),t},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return l.msie&&l.version<9?new w(e):e.createRange()},selectRange:function(e){var image=F.image(e);image&&(e.setStartAfter(image),e.setEndAfter(image));var t=_.selectionFromRange(e);t.removeAllRanges(),t.addRange(e)},stringify:function(e){return t.format("{0}:{1} - {2}:{3}",c.name(e.startContainer),e.startOffset,c.name(e.endContainer),e.endOffset)},split:function(e,t,n){function r(r){var o=e.cloneRange();o.collapse(r),o[r?"setStartBefore":"setEndAfter"](t);var l=o.extractContents();n&&(l=c.trim(l)),c[r?"insertBefore":"insertAfter"](l,t)}r(!0),r(!1)},mapAll:function(t,map){var n=[];return new k(t).traverse((function(t){var r=map(t);r&&e.inArray(r,n)<0&&n.push(r)})),n},getAll:function(e,t){var n=t;return"string"==typeof t&&(t=function(e){return c.is(e,n)}),F.mapAll(e,(function(e){if(t(e))return e}))},getMarkers:function(e){return F.getAll(e,(function(e){return"k-marker"==e.className}))},image:function(e){var t=F.getAll(e,"img");if(1==t.length)return t[0]},isStartOf:function(e,t){if(0!==e.startOffset)return!1;for(var n=e.cloneRange();0===n.startOffset&&n.startContainer!=t;){for(var r=c.findNodeIndex(n.startContainer),o=n.startContainer.parentNode;r>0&&o[r-1]&&c.insignificant(o[r-1]);)r--;n.setStart(o,r)}return 0===n.startOffset&&n.startContainer==t},isEndOf:function(e,t){var n=e.cloneRange();n.collapse(!1);var r=n.startContainer;c.isDataNode(r)&&n.startOffset==c.getNodeLength(r)&&(n.setStart(r.parentNode,c.findNodeIndex(r)+1),n.collapse(!0)),n.setEnd(t,c.getNodeLength(t));var o=[];return new k(n).traverse((function(e){c.insignificant(e)||c.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue)||o.push(e)})),!o.length},wrapSelectedElements:function(e){for(var t=c.editableParent(e.startContainer),n=c.editableParent(e.endContainer);0===e.startOffset&&e.startContainer!=t;)e.setStart(e.startContainer.parentNode,c.findNodeIndex(e.startContainer));function r(e,t){var n=c.getNodeLength(t);if(e==n)return!0;for(var i=e;i<n;i++)if(!c.insignificant(t.childNodes[i]))return!1;return!0}for(;r(e.endOffset,e.endContainer)&&e.endContainer!=n;)e.setEnd(e.endContainer.parentNode,c.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t=e.cloneRange(),n=t.startContainer.childNodes[0===t.startOffset?0:t.startOffset-1],r=t.endContainer.childNodes[t.endOffset];if(!d(n)||!d(r))return t;var o=n.nodeValue,l=r.nodeValue;if(!o||!l)return t;var c=o.split("").reverse().join("").search(R),h=l.search(R);return c&&h?(h=-1==h?l.length:h,c=-1==c?0:o.length-c,t.setStart(n,c),t.setEnd(r,h),t):t},isExpandable:function(e){var t=e.startContainer,n=F.documentFromRange(e);if(t==n||t==n.body)return!1;var r=e.cloneRange(),o=t.nodeValue;if(!o)return!1;var l=o.substring(0,r.startOffset),c=o.substring(r.startOffset),h=0,d=0;return l&&(h=l.split("").reverse().join("").search(R)),c&&(d=c.search(R)),h&&d}};r(o,{SelectionUtils:_,W3CRange:w,RangeIterator:k,W3CSelection:C,RangeEnumerator:D,RestorePoint:I,Marker:M,RangeUtils:F})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},974:function(e,t){e.exports=n(203)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(936),e.exports=n(936)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},936:function(e,t,n){var r,o,l;n(3),o=[n(937)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,map=e.map,n=e.extend,r=t.support.browser;function o(e){var i,t,n={};for(i=0,t=e.length;i<t;i++)n[e[i]]=!0;return n}var l=o("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),c="p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),h=c.concat(["ul","ol","li"]),d=o(h),f=o("area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(",")),m="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),v=o(m),_=o("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),w=function(e){1==e.nodeType&&e.normalize()};r.msie&&r.version>=8&&(w=function(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,n=t;n=n.nextSibling;)3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,M.remove(t)),t=n});var y,x=/^\s+$/,k=/^[\n\r\t]+$/,C=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,S=/\ufeff/g,T=/^(\s+|\ufeff)$/,D="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),E=/[<>\&]/g,A=/[\u00A0-\u2666<>\&]/g,I={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},M={block:d,inline:v,findNodeIndex:function(e,t){var i=0;if(!e)return-1;for(;e=e.previousSibling;)t&&3==e.nodeType||i++;return i},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,n){try{return!M.isDataNode(t)&&(e.contains(t,M.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(e){return!1}},isAncestorOrSelf:function(e,t){return M.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(M.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getAllComments:function(e){for(var t=[],n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,(function(){return NodeFilter.FILTER_ACCEPT}),!1),r=n.nextNode();r;)t.push(r.nodeValue),r=n.nextNode();return t},getNodeLength:function(e){return M.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var n,r=e.cloneNode(!1),o="",l=e.nextSibling;l&&3==l.nodeType&&l.nodeValue;)o+=l.nodeValue,n=l,l=l.nextSibling,M.remove(n);e.deleteData(t,e.length),r.deleteData(0,t),r.nodeValue+=o,M.insertAfter(r,e)},attrEquals:function(e,n){for(var r in n){var o=e[r];if("float"==r&&(o=e[t.support.cssFloat?"cssFloat":"styleFloat"]),"object"==typeof o){if(!M.attrEquals(o,n[r]))return!1}else if(o!=n[r])return!1}return!0},blockParentOrBody:function(e){return M.parentOfType(e,h)||e.ownerDocument.body},blockParents:function(t){var i,n,r=[];for(i=0,n=t.length;i<n;i++){var o=M.parentOfType(t[i],M.blockElements);o&&e.inArray(o,r)<0&&r.push(o)}return r},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:w,blockElements:h,nonListBlockElements:c,inlineElements:m,empty:l,fillAttrs:_,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=C.exec(e);return t?"#"+map(t.slice(1),(function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e})).join(""):e},encode:function(e,t){var n=!t||t.entities?A:E;return e.replace(n,(function(e){var t=e.charCodeAt(0),n=I[t];return n?"&"+n+";":e}))},isBom:function(e){return e&&3===e.nodeType&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(text){return(text||"").replace(S,"")},stripBomNode:function(e){M.isBom(e)&&e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return"k-marker"==e.className||M.is(e,"br")&&("k-br"==e.className||t._moz_dirty||t._moz_editor_bogus_node)},tableCell:function(e){return M.is(e,"td")||M.is(e,"th")},significantNodes:function(t){return e.grep(t,(function(e){var t=M.name(e);return!("br"==t||M.insignificant(e)||M.emptyTextNode(e)||1==e.nodeType&&!l[t]&&M.emptyNode(e))}))},emptyTextNode:function(e){return e&&3==e.nodeType&&T.test(e.nodeValue)},emptyNode:function(e){return 1==e.nodeType&&!M.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,(function(e){return 3!=e.nodeType||!M.isWhitespace(e)}))},lastTextNode:function(e){var t=null;if(3==e.nodeType)return e;for(var n=e.lastChild;n;n=n.previousSibling)if(t=M.lastTextNode(n))return t;return t},is:function(e,t){return e&&M.name(e)==t},isMarker:function(e){return"k-marker"==e.className},isWhitespace:function(e){return x.test(e.nodeValue)},allWhitespaceContent:function(e){for(var t=e.firstChild;t&&M.isWhitespace(t);)t=t.nextSibling;return!t},isEmptyspace:function(e){return k.test(e.nodeValue)},htmlIndentSpace:function(t){if(!M.isDataNode(t)||!M.isWhitespace(t))return!1;if(k.test(t.nodeValue))return!0;var n=function(e,t){for(;e[t];)if(e=e[t],M.significantNodes([e]).length>0)return e},r=t.parentNode,o=n(t,"previousSibling"),l=n(t,"nextSibling");if(S.test(t.nodeValue))return!(!o&&!l);if(e(r).is("tr,tbody,thead,tfoot,table,ol,ul"))return!0;if(M.isBlock(r)||M.is(r,"body")){var c=o&&M.isBlock(o),h=l&&M.isBlock(l);if(!l&&c||!o&&h||c&&h)return!0}return!1},isBlock:function(e){return d[M.name(e)]},isSelfClosing:function(e){return f[M.name(e)]},isEmpty:function(e){return l[M.name(e)]},isInline:function(e){return v[M.name(e)]},isBr:function(e){return"br"==M.name(e)},list:function(e){var t=e?M.name(e):"";return"ul"==t||"ol"==t||"dl"==t},scrollContainer:function(e){var t=M.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n="BackCompat"==n.compatMode?n.body:n.scrollingElement||n.documentElement},scrollTo:function(t,n){var element,r,o,marker,l=t.ownerDocument,c=M.windowFromDocument(l).innerHeight,h=M.scrollContainer(l);M.isDataNode(t)?n?(marker=M.create(l,"span",{innerHTML:"&#xfeff;"}),M.insertBefore(marker,t),element=e(marker)):element=e(t.parentNode):element=e(t),r=element.offset().top,o=element[0].offsetHeight,!n&&o||(o=parseInt(element.css("line-height"),10)||Math.ceil(1.2*parseInt(element.css("font-size"),10))||15),marker&&M.remove(marker),o+r>h.scrollTop+c&&(h.scrollTop=o+r-c)},persistScrollTop:function(e){y=M.scrollContainer(e).scrollTop},offset:function(e,t){for(var n={top:e.offsetTop,left:e.offsetLeft},r=e.offsetParent;r&&(!t||M.isAncestorOf(t,r));)n.top+=r.offsetTop,n.left+=r.offsetLeft,r=r.offsetParent;return n},restoreScrollTop:function(e){"number"==typeof y&&(M.scrollContainer(e).scrollTop=y,y=void 0)},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode&&e.parentNode.removeChild(e)},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},removeTextSiblings:function(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trim:function(e){for(var i=e.childNodes.length-1;i>=0;i--){var t=e.childNodes[i];M.isDataNode(t)?M.stripBom(t.nodeValue).length||M.remove(t):"k-marker"!=t.className&&(M.trim(t),(!M.isEmpty(t)&&0===t.childNodes.length||M.isBlock(t)&&M.allWhitespaceContent(t))&&M.remove(t))}return e},closest:function(e,t){for("string"==typeof t&&(t=[t]);e&&t.indexOf(M.name(e))<0;)e=e.parentNode;return e},closestBy:function(e,t,n){for(;e&&!t(e);){if(n&&n(e))return null;e=e.parentNode}return e},sibling:function(e,t){do{e=e[t]}while(e&&1!=e.nodeType);return e},next:function(e){return M.sibling(e,"nextSibling")},prev:function(e){return M.sibling(e,"previousSibling")},parentOfType:function(e,t){do{e=e.parentNode}while(e&&!M.ofType(e,t));return e},ofType:function(t,n){return e.inArray(M.name(t),n)>=0},changeTag:function(e,t,n){var i,r,o,l,c,h=M.create(e.ownerDocument,t),d=e.attributes;if(!n)for(i=0,r=d.length;i<r;i++)(c=d[i]).specified&&(o=c.nodeName,l=c.nodeValue,"class"==o?h.className=l:"style"==o?h.style.cssText=e.style.cssText:h.setAttribute(o,l));for(;e.firstChild;)h.appendChild(e.firstChild);return M.insertBefore(h,e),M.remove(e),h},editableParent:function(e){for(;e&&(3==e.nodeType||"true"!==e.contentEditable);)e=e.parentNode;return e},wrap:function(e,t){return M.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(t){var n=M.closestBy(t,(function(e){return e.parentNode&&M.significantNodes(e.parentNode.childNodes).length>1}));return e(n).is("body,.k-editor")?void 0:n},create:function(e,t,n){return M.attr(e.createElement(t),n)},createEmptyNode:function(e,t,n){var r=M.attr(e.createElement(t),n);return r.innerHTML="\ufeff",r},attr:function(element,e){for(var t in(e=n({},e))&&"style"in e&&(M.style(element,e.style),delete e.style),e)null===e[t]?(element.removeAttribute(t),delete e[t]):"className"==t&&(element[t]=e[t]);return n(element,e)},mergeAttributes:function(t,n){t.attributes.length&&e.each(t.attributes,(function(){"contenteditable"!==this.name&&e(n).attr(this.name,this.value)}))},style:function(t,n){e(t).css(n||{})},unstyle:function(e,n){for(var r in n)"float"==r&&(r=t.support.cssFloat?"cssFloat":"styleFloat"),e.style[r]="";""===e.style.cssText&&e.removeAttribute("style")},inlineStyle:function(body,t,n){var style,span=e(M.create(body.ownerDocument,t,n));return body.appendChild(span[0]),style=map(D,(function(e){return r.msie&&"line-height"==e&&"1px"==span.css(e)?"line-height:1.5":e+":"+span.css(e)})).join(";"),span.remove(),style},getEffectiveBackground:function(element){var e=element.css("background-color")||"";return e.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==e?e:"html"===element[0].tagName.toLowerCase()?"Window":M.getEffectiveBackground(element.parent())},innerText:function(e){var text=e.innerHTML;return text=(text=text.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},removeClass:function(t,n){var i,r,o=" "+t.className+" ",l=n.split(" ");for(i=0,r=l.length;i<r;i++)o=o.replace(" "+l[i]+" "," ");(o=e.trim(o)).length?t.className=o:t.removeAttribute("class")},commonAncestor:function(){var i,e,t,n,r,o=arguments.length,l=[],c=1/0,output=null;if(!o)return null;if(1==o)return arguments[0];for(i=0;i<o;i++){for(e=[],t=arguments[i];t;)e.push(t),t=t.parentNode;l.push(e.reverse()),c=Math.min(c,e.length)}if(1==o)return l[0][0];for(i=0;i<c;i++){for(n=l[0][i],r=1;r<o;r++)if(n!=l[r][i])return output;output=n}return output},closestSplittableParent:function(t){var n;(n=1==t.length?M.parentOfType(t[0],["ul","ol"]):M.commonAncestor.apply(null,t))||(n=M.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),M.isInline(n)&&(n=M.blockParentOrBody(n));var r=map(t,M.editableParent),o=M.commonAncestor(r)[0];return e.contains(n,o)&&(n=o),n},closestEditable:function(t,n){var r,o=M.editableParent(t);return(r=M.ofType(t,n)?t:M.parentOfType(t,n))&&o&&e.contains(r,o)?r=o:!r&&o&&(r=o),r},closestEditableOfType:function(t,n){var r=M.closestEditable(t,n);if(r&&M.ofType(r,n)&&!e(r).is(".k-editor"))return r},filter:function(e,t,n){return M.filterBy(t,(function(t){return M.name(t)==e}),n)},filterBy:function(e,t,n){for(var r,i=0,o=e.length,l=[];i<o;i++)((r=t(e[i]))&&!n||!r&&n)&&l.push(e[i]);return l},ensureTrailingBreaks:function(t){var n=e(t).find("p,td,th"),r=n.length,i=0;if(r)for(;i<r;i++)M.ensureTrailingBreak(n[i]);else M.ensureTrailingBreak(t)},removeTrailingBreak:function(t){e(t).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){M.removeTrailingBreak(e);var br,t=e.lastChild,n=t&&M.name(t);(!n||"br"!=n&&"img"!=n||"br"==n&&"k-br"!=t.className)&&((br=e.ownerDocument.createElement("br")).className="k-br",e.appendChild(br))},reMapTableColumns:function(table,e){M._mapColIndices(table,e)},clearTableMappings:function(table,t){e(table).find("["+t+"]").removeAttr(t)},_mapColIndices:function(table,e){for(var t={},n=0;n<table.rows.length;n++)for(var r=table.rows[n].cells,o=0,l=0;l<r.length;l++,o++){var c=r[l];if(c.rowSpan>1&&this._mapColspan(c,n,o,t),t[n])for(;t[n][o];)o++;c.setAttribute(e,o),c.colSpan>1&&(o=o+c.colSpan-1)}},_mapColspan:function(e,t,n,r){for(var o,l=e.rowSpan,c=e.colSpan,h=0;h<c;h++){o=n+h;for(var d=t+1;d<t+l;d++){if(r[d]||(r[d]={},r[d].length=0),r[t])for(;r[t][o];)o++;r[d][o]=!0,r[d].length++}}}};t.ui.editor.Dom=M}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},937:function(e,t){e.exports=n(23)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1563),e.exports=n(1563)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1563:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){var t=e.Observable.extend({init:function(t){e.Observable.fn.init.call(this,t),this.clear()},events:["undo","redo"],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo(),this.trigger("undo",{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo(),this.trigger("redo",{command:e})}},clear:function(){this.stack=[],this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});e.deepExtend(e,{util:{UndoRedoStack:t}})}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(963)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},955:function(e,t){e.exports=n(143)},963:function(e,t,n){var r,o,l;n(3),o=[n(955)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,o=t.ui.Editor.fn.options.formats,l=r.EditorUtils,c=r.Tool,h=r.ToolTemplate,d=r.FormatTool,f=r.Dom,m=r.RangeUtils,v=e.extend,_=r.EditorUtils.registerTool,w=r.EditorUtils.registerFormat,y=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,n=0,r=0,o=0,l=e.parentNode;for(t=l.firstChild;t;t=t.nextSibling)t!=e&&("k-marker"==t.className?o++:3==t.nodeType?n++:r++);return o>1&&"k-marker"==l.firstChild.className&&"k-marker"==l.lastChild.className?0:r+n},findSuitable:function(e,t){if(!t&&this.numberOfSiblings(e)>0)return null;for(var n=e.parentNode,r=this.format[0].tags;!f.ofType(n,r);){if(this.numberOfSiblings(n)>0)return null;n=n.parentNode}return n},findFormat:function(e){var i,t,n,r,o,l=this.format,c=f.attrEquals;for(i=0,t=l.length;i<t;i++){if(n=e,r=l[i].tags,o=l[i].attr,n&&f.ofType(n,r)&&c(n,o))return n;for(;n;)if((n=f.parentOfType(n,r))&&c(n,o))return n}return null},isFormatted:function(e){var i,t;for(i=0,t=e.length;i<t;i++)if(this.findFormat(e[i]))return!0;return!1}}),x=n.extend({init:function(e,t){this.finder=new y(e),this.attributes=v({},e[0].attr,t),this.tag=e[0].tags[0]},wrap:function(e){return f.wrap(e,f.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t)},toggle:function(e){var t=(this.immutables()?m.editableTextNodes:m.textNodes)(e);t.length>0&&this.activate(e,t)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var i,t,n,r,o=[];if(e.length>1)for(i=0,t=e.length;i<t;i++)n=e[i],r=this.format(n,!0),o.push(r);else n=e[0],r=this.format(n,!1);this.consolidate(o)},format:function(e,t){var n=this.finder.findSuitable(e),r=this.attributes,o=r&&r.style||{};if(n)f.is(n,"font")&&(o.color&&n.removeAttribute("color"),o.fontName&&n.removeAttribute("face"),o.fontSize&&n.removeAttribute("size")),f.attr(n,r);else{for(;!f.isBlock(e.parentNode)&&1==e.parentNode.childNodes.length&&"true"!==e.parentNode.contentEditable&&t;)e=e.parentNode;n=this.wrap(e)}return n},remove:function(e){var i,t,n;for(i=0,t=e.length;i<t;i++)(n=this.finder.findFormat(e[i]))&&(this.attributes&&this.attributes.style?(f.unstyle(n,this.attributes.style),n.style.cssText||n.attributes.class||f.unwrap(n)):f.unwrap(n))},split:function(e){var i,t,n=m.textNodes(e),r=n.length;if(r>0)for(i=0;i<r;i++)(t=this.finder.findFormat(n[i]))&&m.split(e,t,!0)},consolidate:function(e){for(var t,n;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&"k-marker"==t.previousSibling.className&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText&&t.className===n.className){for(;t.firstChild;)n.appendChild(t.firstChild);f.remove(t)}}}),k=y.extend({init:function(e,t){this.format=e,this.greedyProperty=t,y.fn.init.call(this,e)},getInlineCssValue:function(t){var i,n,r,o,l,c,h,d,m,v,_,w,y=t.attributes,x=e.trim;if(y)for(i=0,n=y.length;i<n;i++)if(o=(r=y[i]).nodeName,l=r.nodeValue,r.specified&&"style"==o)for(d=0,m=(c=x(l||t.style.cssText).split(";")).length;d<m;d++)if((h=c[d]).length){if(_=x((v=h.split(":"))[0].toLowerCase()),w=x(v[1]),_!=this.greedyProperty)continue;return _.indexOf("color")>=0?f.toHex(w):w}},getFormatInner:function(t){var i,n,r,o=e(f.isDataNode(t)?t.parentNode:t).parentsUntil("[contentEditable]").addBack().toArray().reverse();for(i=0,n=o.length;i<n;i++)if(r="className"==this.greedyProperty?o[i].className:this.getInlineCssValue(o[i]))return r;return"inherit"},getFormat:function(e){var i,t,n=this.getFormatInner(e[0]);for(i=1,t=e.length;i<t;i++)if(n!=this.getFormatInner(e[i]))return"";return n},isFormatted:function(e){return""!==this.getFormat(e)}}),C=x.extend({init:function(e,n,r){x.fn.init.call(this,e,n),this.values=n,this.finder=new k(e,r),r&&(this.greedyProperty=t.toCamelCase(r))},activate:function(e,t){var n=this.greedyProperty,r="apply";this.split(e),n&&"inherit"==this.values.style[n]&&(r="remove"),this[r](t)}}),S=d.extend({init:function(e){d.fn.init.call(this,v(e,{finder:new y(e.format),formatter:function(){return new x(e.format)}}))}}),T=c.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),D=T.extend({init:function(e){c.fn.init.call(this,e),this.type=t.support.browser.msie||t.support.touch?"kendoDropDownList":"kendoComboBox",this.format=[{tags:["span","font"]}],this.finder=new k(this.format,e.cssAttr)},command:function(e){var t=this.options,n=this.format,style={};return new r.FormatCommand(v(e,{formatter:function(){return style[t.domAttr]=e.value,new C(n,{style:style},t.cssAttr)}}))},initialize:function(e,n){var r,o,l=n.editor,h=this.options,d=h.name,f=[];h.defaultValue&&(f=[{text:l.options.messages[h.defaultValue[0].text],value:h.defaultValue[0].value}]),r=f.concat(h.items?h.items:l.options[d]||[]),e.attr({title:n.title}),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:r,change:function(){l._range=o,c.exec(l,d,this.value())},close:function(){setTimeout((function(){l._deleteSavedRange()}),0)},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+d).find("*").addBack().attr("unselectable","on");var m=e.data(this.type);m.value("inherit"),m.wrapper.on("mousedown.kendoEditor",".k-select,.k-input",(function(){var e=l.getRange();o=l._containsRange(e)?e:o})).on("keydown.kendoEditor",(function(e){e.keyCode===t.keys.ENTER&&(l._deleteSavedRange(),e.preventDefault())}))}}),E=c.extend({init:function(e){c.fn.init.call(this,e),this.format=[{tags:["span","font"]}],this.finder=new k(this.format,e.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,style={};return new r.FormatCommand(v(e,{formatter:function(){return style[t.domAttr]=e.value,new C(n,{style:style},t.cssAttr)}}))},initialize:function(n,r){var o=this,h=r.editor,d=this.name,f=v({},E.fn.options,this.options),m=f.palette,_=f.columns;(n=this._widget=new t.ui.ColorPicker(n,{toolIcon:"k-icon k-i-"+l.getToolCssClass(f.name),palette:m,columns:_,change:function(){var e=n.value();t.support.browser.msie&&o.storedRange&&o._inputFocused&&h.selectRange(o.storedRange),e&&c.exec(h,d,e),delete o.storedRange,delete o._inputFocused,h.focus()},open:function(t){var n=t.sender;o.storedRange=h.getRange(),n._popup.element.on("mousedown.kendoEditor",(function(t){e(t.target).is("input.k-color-value")||t.preventDefault()})),n._popup.element.is("[unselectable='on']")||n._popup.element.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on").end().find("input").on("focus",(function(){o._inputFocused=!0}))},close:function(e){e.sender._popup.element.off("mousedown.kendoEditor"),t.support.browser.msie&&o.storedRange&&o._inputFocused&&h.selectRange(o.storedRange)},activate:function(e){e.preventDefault(),"rgba(255, 255, 255, 0)"!==e.sender._value.toCssRgba()&&n.trigger("change")}})).wrapper.attr({title:r.title,unselectable:"on"}).find("*:not(input)").attr("unselectable","on"),n.value("transparent")}});v(r,{InlineFormatFinder:y,InlineFormatter:x,DelayedExecutionTool:T,GreedyInlineFormatFinder:k,GreedyInlineFormatter:C,InlineFormatTool:S,FontTool:D,ColorTool:E}),w("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),_("bold",new S({key:"B",ctrl:!0,format:o.bold,template:new h({template:l.buttonTemplate,title:"Bold"})})),w("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),_("italic",new S({key:"I",ctrl:!0,format:o.italic,template:new h({template:l.buttonTemplate,title:"Italic"})})),w("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),_("underline",new S({key:"U",ctrl:!0,format:o.underline,template:new h({template:l.buttonTemplate,title:"Underline"})})),w("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),_("strikethrough",new S({format:o.strikethrough,template:new h({template:l.buttonTemplate,title:"Strikethrough"})})),w("superscript",[{tags:["sup"]}]),_("superscript",new S({format:o.superscript,template:new h({template:l.buttonTemplate,title:"Superscript"})})),w("subscript",[{tags:["sub"]}]),_("subscript",new S({format:o.subscript,template:new h({template:l.buttonTemplate,title:"Subscript"})})),_("foreColor",new E({cssAttr:"color",domAttr:"color",name:"foreColor",template:new h({template:l.colorPickerTemplate,title:"Color"})})),_("backColor",new E({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new h({template:l.colorPickerTemplate,title:"Background Color"})})),_("fontName",new D({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new h({template:l.comboBoxTemplate,title:"Font Name"})})),_("fontSize",new D({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new h({template:l.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(953)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},946:function(e,t){e.exports=n(27)},953:function(e,t,n){var r,o,l;n(3),o=[n(946)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=e.extend,r=t.ui.editor,o=r.Tool,l=r.Command,c=r.EditorUtils,h=l.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;t&&c.formatByName("immutable",t.format)&&t._initOptions({immutables:e.immutables}),l.fn.init.call(this,e)}}),d=o.extend({init:function(e){o.fn.init.call(this,e)},command:function(e){return new h(n(e,{formatter:this.options.formatter}))},update:function(e,t){var n=this.options.finder.isFormatted(t);e.toggleClass("k-state-selected",n),e.attr("aria-pressed",n)}});e.extend(r,{FormatCommand:h,FormatTool:d})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1539),e.exports=n(1539)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},924:function(e,t){e.exports=n(87)},1534:function(e,t){e.exports=n(51)},1539:function(e,t,n){var r,o,l;n(3),o=[n(19),n(924),n(1534)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.spreadsheet.UnionRef,r=e.spreadsheet.CellRef,o=e.spreadsheet.RangeRef,l=["color","fontFamily","underline","italic","bold","textAlign","indent","verticalAlign","background","format","link","editor","borderTop","borderRight","borderBottom","borderLeft","comment"],c=e.Class.extend({init:function(e,t){this._sheet=t,this._ref=e},clone:function(){return new c(this._ref.clone(),this._sheet)},skipHiddenCells:function(){var e=[],t=this,l=t._sheet,c=l.isHiddenRow.bind(l),h=l.isHiddenColumn.bind(l);return t._ref.forEach((function(n){for(var l=(n=t._normalize(n.toRangeRef())).topLeft,br=n.bottomRight,f=d(l.row,br.row,c),m=d(l.col,br.col,h),i=0;i<f.length;++i)for(var v=0;v<m.length;++v)e.push(new o(new r(f[i].begin,m[v].begin),new r(f[i].end,m[v].end)))})),l.range(e.length>1?new n(e):e[0])},_normalize:function(e){return this._sheet._grid.normalize(e)},_set:function(e,t,n){var r=this._sheet;return this._ref.forEach((function(n){r._set(n.toRangeRef(),e,t)})),n||r.triggerChange({recalc:"formula"==e||"value"==e||"validation"==e,value:t,range:this,ref:this._ref}),this},_get:function(e){return this._sheet._get(this._ref.toRangeRef(),e)},_property:function(e,t){return void 0===t?this._get(e):this._set(e,t)},value:function(e){return void 0!==e&&this._set("formula",null,!0),this._property("value",e)},resize:function(e){var t=this._resizedRef(e);return new c(t,this._sheet)},_resizedRef:function(e){return this._ref.map((function(t){return t.toRangeRef().resize(e)}))},input:function(n,r){r=t.extend({arrayFormula:!1},r);var o,l=this._get("format");if(void 0!==n){var c=this._ref.toRangeRef().topLeft;return o=e.spreadsheet.calc.parse(this._sheet.name(),c.row,c.col,n,l),this._sheet.batch(function(){var t=null;if("exp"==o.type)t=e.spreadsheet.calc.compile(o);else if("@"!=l){var c=l&&e.spreadsheet.formatting.type(o.value,l);"date"==o.type&&"date"!=c?this.format(o.format||e.culture().calendar.patterns.d.replace(/M/g,"m").replace(/'/g,'"').replace(/tt/,"am/pm")):"percent"==o.type&&"percent"!=c?this.format(100*o.value==(100*o.value|0)?"0%":"0.00%"):o.format&&(!l||o.currency||"number"==c&&"number"==o.type&&o.format.length>l.length)&&this.format(o.format)}else"string"!=o.type&&(o.value=n);this.formula(t,r.arrayFormula),t||this.value(o.value)}.bind(this),{recalc:!0,value:n,ref:this._ref,editorChange:this._sheet.isInEditMode()}),this}n=this._get("value");var h,d=this._get("formula"),f=l&&!d&&e.spreadsheet.formatting.type(n,l);if(d)n="="+d;else e:{if(l&&"date"==f){var m=e.spreadsheet.formatting.text(n,l);if(o=e.spreadsheet.calc.parse(null,null,null,m,l),m==e.spreadsheet.formatting.text(o.value,l)){n=m;break e}}"date"===f?n=e.toString(e.spreadsheet.numberToDate(n),e.culture().calendar.patterns.d):"percent"===f?n=e.spreadsheet.calc.runtime.limitPrecision(100*n)+"%":"string"==typeof n&&(/^[=']/.test(n)||/^(?:true|false)$/i.test(n)||!/^=/.test(h=n)&&/number|percent/.test(e.spreadsheet.calc.parse(null,0,0,h).type))?n="'"+n:this._sheet._useCultureDecimals()&&"number"==typeof n&&n!=Math.floor(n)&&(n=String(n).replace(".",e.culture().numberFormat["."]))}return n},enable:function(t){return void 0===t?!e.util.withExit((function(e){this._sheet.forEach(this._ref,(function(t,n,data){!1===data.enable&&e(!0)}))}),this):this._property("enable",t)},formula:function(e,t){if(void 0===e){var n=this._get("formula");return n?""+n:null}if(t){var r=this._ref.toRangeRef();(e=this._sheet.range(r.topLeft)._set("formula",e)._get("formula"))&&e.setArrayFormulaRange(r)}else this._set("formula",e);return this},intersectingArrayFormula:function(){var t=this._ref.clone().simplify().setSheet(this._sheet.name());return e.util.withExit((function(n){this._sheet._forFormulas((function(r){var o=r.arrayFormulaRange;o&&(o=t.intersect(o))!==e.spreadsheet.NULLREF&&n({formula:r,intersection:o})}))}),this)},canEditArrayFormula:function(){var e=this.intersectingArrayFormula();return!e||e.formula.arrayFormulaRange.eq(e.intersection)},validation:function(e){if(void 0===e){var t=this._get("validation");return t?t.toJSON():null}return this._property("validation",e)},_getValidationState:function(){var e,t,n=this._ref.toRangeRef(),r=n.topLeft.row,o=n.topLeft.col,l=n.bottomRight.row,c=n.bottomRight.col;for(e=o;e<=c;e++)for(t=r;t<=l;t++){var h=this._sheet._validation(t,e);if(h&&"reject"===h.type&&!1===h.value)return h}return!1},merge:function(){return this._ref=this._sheet._merge(this._ref),this},unmerge:function(){var e=this._sheet._mergedCells;return this._ref.forEach((function(t){t.toRangeRef().intersecting(e).forEach((function(t){e.splice(e.indexOf(t),1)}))})),this._sheet.triggerChange({}),this},select:function(){return this._sheet.select(this._ref),this},values:function(t){if(this._ref instanceof n)throw new Error("Unsupported for multiple ranges.");if(this._ref===e.spreadsheet.NULLREF){if(void 0!==t)throw new Error("Unsupported for NULLREF.");return[]}var r,o,l=this._ref.toRangeRef(),c=l.topLeft.row,h=l.topLeft.col,d=l.bottomRight.row,f=l.bottomRight.col;if(void 0===t){t=new Array(l.height());for(var m=0;m<t.length;m++)t[m]=new Array(l.width());for(r=h;r<=f;r++)for(o=c;o<=d;o++)t[o-c][r-h]=this._sheet._value(o,r);return t}for(this._sheet._set(l,"formula",null),r=h;r<=f;r++)for(o=c;o<=d;o++){var v=t[o-c];if(v){var _=v[r-h];void 0!==_&&this._sheet._value(o,r,_)}}return this._sheet.triggerChange({recalc:!0,ref:l}),this},_properties:function(t,r){if(this._ref instanceof n)throw new Error("Unsupported for multiple ranges.");if(this._ref===e.spreadsheet.NULLREF){if(void 0!==t)throw new Error("Unsupported for NULLREF.");return[]}var o,l,data,c=this._ref.toRangeRef(),h=c.topLeft.row,d=c.topLeft.col,f=c.bottomRight.row,m=c.bottomRight.col,v=this._sheet;if(void 0===t)return t=new Array(c.height()),v.forEach(c,(function(e,col,data){col-=d,(t[e-=h]||(t[e]=[]))[col]=data})),t;c=c.clone();var _=function(e){var t=data[e];c.topLeft.row=c.bottomRight.row=l,c.topLeft.col=c.bottomRight.col=o,"value"==e&&v._set(c,"formula",null),v._set(c,e,t)};for(o=d;o<=m;o++)if(r||!v.isHiddenColumn(o))for(l=h;l<=f;l++)if((r||!v.isHiddenRow(l))&&(!r||!v.isFilteredRow(l))){var w=t[l-h];w&&(data=w[o-d])&&Object.keys(data).forEach(_)}return v.triggerChange({recalc:!0,ref:this._ref}),this},clear:function(e){var t=(e=e||{}).clearAll||!Object.keys(e).length,n=this._sheet,r={recalc:t||e.contentsOnly,ref:this._ref};return n.batch(function(){r.recalc&&this.formula(null),t&&this.validation(null),(t||e.formatOnly)&&(l.forEach(function(t){e.keepBorders&&/^border/i.test(t)||this[t](null)}.bind(this)),this.fontSize(null),this.wrap(null),this.unmerge())}.bind(this),r),this},clearContent:function(){return this.clear({contentsOnly:!0})},clearFormat:function(){return this.clear({formatOnly:!0})},isSortable:function(){return!this.cantSort()},cantSort:function(){if(this._ref instanceof n)return{code:"cantSortMultipleSelection",message:"Unsupported for multiple ranges."};if(this._ref===e.spreadsheet.NULLREF)return{code:"cantSortNullRef",message:"Unsupported for NULLREF."};var t=this._sheet._getMergedCells(this._ref.toRangeRef()),o=t.primary,l=t.secondary,c=null,h=null,d={};try{this._sheet.forEach(this,(function(e,col){var n=new r(e,col).print(),f=o[n];if(f){if(null===c)c=f.width(),h=f.height();else if(c!=f.width()||h!=f.height())throw d}else if(!l[n]&&t.hasMerged)throw d}))}catch(e){if(e!==d)throw e;return{code:"cantSortMixedCells",message:"Unsupported for range containing cells of different shapes."}}return!1},sort:function(e){var t=this.cantSort();if(t)throw new Error(t.message);return void 0===e&&(e={column:0}),e=e instanceof Array?e:[e],this._sheet._sortBy(this._ref.toRangeRef(),e.map((function(e,t){return"number"==typeof e&&(e={column:e}),{index:void 0===e.column?t:e.column,ascending:void 0===e.ascending||e.ascending}}))),this},isFilterable:function(){return!(this._ref instanceof n)},filter:function(e){if(this._ref instanceof n)throw new Error("Unsupported for multiple ranges.");return!1===e?this.clearFilters():(e=!0===e?[]:e instanceof Array?e:[e],this._sheet._filterBy(this._ref.toRangeRef(),e.map((function(e,t){return{index:void 0===e.column?t:e.column,filter:e.filter}})))),this},clearFilter:function(e){this._sheet.clearFilter(e)},clearFilters:function(){var filter=this._sheet.filter(),e=[];if(filter){for(var i=0;i<filter.columns.length;i++)e.push(filter.columns[i].index);this._sheet.batch((function(){this.clearFilter(e),this._filter=null}),{layout:!0,filter:!0})}},hasFilter:function(){return!!this._sheet.filter()},leftColumn:function(){return new c(this._ref.leftColumn(),this._sheet)},rightColumn:function(){return new c(this._ref.rightColumn(),this._sheet)},topRow:function(){return new c(this._ref.topRow(),this._sheet)},bottomRow:function(){return new c(this._ref.bottomRow(),this._sheet)},column:function(e){return new c(this._ref.toColumn(e),this._sheet)},row:function(e){return new c(this._ref.toRow(e),this._sheet)},forEachRow:function(e){this._ref.forEachRow(function(t){e(new c(t,this._sheet))}.bind(this))},forEachColumn:function(e){this._ref.forEachColumn(function(t){e(new c(t,this._sheet))}.bind(this))},sheet:function(){return this._sheet},topLeft:function(){return this._ref.toRangeRef().topLeft},intersectingMerged:function(){var e=this._sheet,t=[];return e._mergedCells.forEach(function(e){e.intersects(this._ref)&&t.push(e.toString())}.bind(this)),t},getState:function(t){var n,r=this._ref.first(),o={ref:r,data:[],origRef:this._ref,rows:this._sheet._rows.getState()};t?n="input"===t?["value","formula"]:"border"===t?["borderLeft","borderTop","borderRight","borderBottom"]:[t]:(n=e.spreadsheet.ALL_PROPERTIES,o.mergedCells=this.intersectingMerged());var data=o.data;return this.forEachCell((function(t,col,o){var l={},c=t-r.row,h=col-r.col;data[c]||(data[c]=[]),data[c][h]=l,n.forEach((function(t){var n=void 0===o[t]?null:o[t];(n instanceof e.spreadsheet.calc.runtime.Formula||n instanceof e.spreadsheet.validation.Validation)&&(n=n.deepClone()),l[t]=n}))})),o},setState:function(e,t){var n=this._sheet,r=this._ref.first(),o=e.ref.row-r.row,l=e.ref.col-r.col,c=t&&!t.isExternal(),h=t&&!c;n.batch(function(){e.mergedCells&&this.unmerge(),t||this._sheet._rows.setState(e.rows);var d=r.row,f=this.hasFilter();e.data.forEach((function(data,o){if(!(f&&c&&n.isHiddenRow(e.ref.row+o))){var col=r.col;data.forEach((function(l,m){if(!(f&&c&&n.isHiddenColumn(e.ref.col+m))){var v=t?n.range(d,col):n.range(r.row+o,r.col+m);if(v.enable()){for(var _ in l)"value"!=_&&(t&&"enable"==_||v._set(_,l[_]));if(!l.formula)if(h)try{null==l.value?v._set("value",null):v.input(l.value)}catch(e){v._set("value",l.value)}else v._set("value",l.value)}col++}})),d++}})),e.mergedCells&&e.mergedCells.forEach((function(e){e=n._ref(e).relative(o,l,3),n.range(e).merge()}),this)}.bind(this),{recalc:!0,ref:this._ref})},_adjustRowHeight:function(){var t=this,n=t._sheet,o=n._getMergedCells(t._ref.toRangeRef()),l=o.primary,c=o.secondary;n.batch((function(){t.forEachRow((function(t){var o=t._ref.topLeft.row,h=n.rowHeight(o);t.forEachCell((function(t,col,o){var d=new r(t,col).print();if(!c[d]){var f,m=l[d];f=m?n._columns.sum(m.topLeft.col,m.bottomRight.col):n.columnWidth(col);var data=o.value;o.format&&null!=data&&(data=e.spreadsheet.formatting.format(data,o.format));var v=e.spreadsheet.util.getTextHeight(data,f,o.fontFamily,o.fontSize,o.wrap);h=Math.max(h,v)}})),n.rowHeight(o,h)}))}),{layout:!0})},forEachCell:function(e){this._ref.forEach(function(t){this._sheet.forEach(t.toRangeRef(),e.bind(this))}.bind(this))},hasValue:function(){var t=this._sheet._defaultCellStyle;return e.util.withExit((function(e){this.forEachCell((function(n,col,r){for(var o in r){var l=r[o];null!=l&&l!==t[o]&&e(!0)}}))}),this)},wrap:function(e){return void 0===e?!!this._property("wrap"):(this._property("wrap",e),null!==e&&this._adjustRowHeight(),this)},fontSize:function(e){return void 0===e?this._property("fontSize"):(this._property("fontSize",e),null!==e&&this._adjustRowHeight(),this)},draw:function(e,t){this._sheet.draw(this,e,t)},insideBorders:function(e){return this.insideVerticalBorders(e).insideHorizontalBorders(e)},insideVerticalBorders:function(e){return this._ref.forEach((function(t){t instanceof o&&t.width()>1&&((t=t.clone()).topLeft.col++,this._sheet.range(t)._set("vBorders",e))}),this),this},insideHorizontalBorders:function(e){return this._ref.forEach((function(t){t instanceof o&&t.height()>1&&((t=t.clone()).topLeft.row++,this._sheet.range(t)._set("hBorders",e))}),this),this}});t.each(l,(function(i,e){c.prototype[e]=function(t){return this._property(e,t)}}));var h=t('<div style="position: absolute !important; top: -4000px !important; height: auto !important;padding: 1px 3px !important; box-sizing: border-box; margin: 0 !important; border: 1px solid black !important;line-height: normal !important; visibility: hidden !important;white-space: pre-wrap;" />')[0];e.spreadsheet.util={getTextHeight:function(text,t,n,r,o){var l={baselineMarkerSize:0,width:!0===o?t+"px":"auto","font-size":(r||12)+"px","font-family":n||"Arial","white-space":!0===o?"pre-wrap":"pre","overflow-wrap":!0===o?"break-word":"normal","word-wrap":!0===o?"break-word":"normal"};return e.util.measureText(text,l,{box:h,normalizeText:!1}).height}},e.spreadsheet.Range=c}function d(e,t,n){for(;e<=t&&n(e);)e++;if(e>t)return[];for(var i=e+1;i<=t;++i)if(n(i))return[{begin:e,end:i-1}].concat(d(i+1,t,n));return[{begin:e,end:t}]}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1504),e.exports=n(1504)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1499:function(e,t){e.exports=n(34)},1504:function(e,t,n){var r,o,l;n(3),o=[n(1499)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e,t=kendo.util,n=kendo.spreadsheet,r=n.Ref,o=n.RangeRef,l=n.CellRef,c=n.NameRef,h=n.calc,d=h.runtime,f=Object.create(null),m=Object.create(null);(e=[[":"],[" "],[","],["%"],["^"],["*","/"],["+","-"],["&"],["=","<",">","<=",">=","<>"]]).forEach((function(t,i){t.forEach((function(t){f[t]=e.length-i,m[","==t?";":t]=e.length-i}))}));var v=f,_={DEC:".",ARG:",",COL:","};h.withDecimalSeparator=function(e,t){if(_.DEC==e)return t();var n=_.DEC;I(e);try{return t()}finally{I(n)}},h._separators=_;var w,y=kendo.Class.extend({init:function(e,t){this.message=e,this.pos=t},toString:function(){return this.message}}),x={type:"bool",value:!0},k={type:"bool",value:!1},C=(w=Object.create(null),function(code){var e=w[code];return e||(e=w[code]=new Function("'use strict';return("+code+")")()),e}),S=Object.create(null),T={type:"eof"},D=[],E=h.registerFormatParser=function(p){D.push(p)};h.parse=function(e,t,col,input,n){if(input instanceof Date)return{type:"date",value:d.dateToSerial(input)};if("number"==typeof input)return{type:"number",value:input};if("boolean"==typeof input)return{type:"boolean",value:input};if(/^'/.test(input+=""))return{type:"string",value:input.substr(1)};if(/^-?[0-9]+%$/.test(input)){var r=input.substr(0,input.length-1),o=parseFloat(r);if(!isNaN(o)&&o==r)return{type:"percent",value:o/100}}if(/^=/.test(input))return input=input.substr(1),/\S/.test(input)?F(e,t,col,input):{type:"string",value:"="+input};for(var i=0;i<D.length;++i){var l=D[i](input);if(l)return l}if("true"==input.toLowerCase())return{type:"boolean",value:!0};if("false"==input.toLowerCase())return{type:"boolean",value:!1};var c=d.parseDate(input,n);return c?{type:"date",value:d.dateToSerial(c)}:(o=parseFloat(input),!isNaN(o)&&input.length>0&&o==input?(n=null,o!=Math.floor(o)&&(n="0."+String(o).split(".")[1].replace(/\d/g,"0")),{type:"number",value:o,format:n}):{type:"string",value:input})},h.parseNameDefinition=function(e,t){var n=F(null,0,0,e);if(!(n.ast instanceof c))throw new y("Invalid name: "+e);if(n=n.ast,!(t instanceof r)){var o=F(n.sheet,0,0,t);t=o.ast instanceof r?o.ast:/^(?:str|num|bool|error)$/.test(o.ast.type)?o.ast.value:z(o)}return{name:n,value:t}},h.parseFormula=F,h.parseReference=function(e,t){if("#sheet"==e.toLowerCase())return n.SHEETREF;e:{var r;if(!(r=/^(\$)?([a-z]+)(\$)?(\d+)$/i.exec(e))){for(var c=L(e,{}),a=[];;){var h=c.next();if(h instanceof l)h.rel=0;else{if(!(h instanceof o))break e;h.topLeft.rel=0,h.bottomRight.rel=0}if(a.push(h),c.eof())break;if(!c.is("op",_.ARG))break e;c.next()}return 1==a.length?a[0]:new n.UnionRef(a)}var d=R(r[4]),col=M(r[2]);if(d<1048576&&col<16384)return new l(R(r[4]),M(r[2]))}if(!t)throw new Error("Cannot parse reference: "+e)},h.compile=z,h.parseSqref=function(input,e,col){input=L(input,{row:e=e||0,col:col=col||0});for(var t=[];!input.eof();){var n=input.next();if("ref"!=n.type)throw new y("Expecting a reference but got: "+JSON.stringify(n));t.push(n.absolute(e,col))}return t},h.InputStream=N,h.ParseError=y,h.tokenize=function(input,e,col){var t=[];for(input=L(input,{forEditor:!0,row:e,col:col});!input.eof();)t.push(r());var n=t[0];return"op"==n.type&&"="==n.value&&(n.type="startexp"),t;function r(){var t=input.next();return"sym"==t.type?"TRUE"==t.upper?(t.type="bool",t.value=!0):"FALSE"==t.upper&&(t.type="bool",t.value=!1):"ref"==t.type&&(t={type:"ref",ref:null!=e&&null!=col?t.absolute(e,col):t,begin:t.begin,end:t.end}),t}},E((function(input){var e,t=0,n="";if(e=/^(\d+)([-/.])(\d+)\2(\d{2}(?:\d{2})?)(\s*)/.exec(input)){var r=parseInt(e[1],10),o=e[2],l=parseInt(e[3],10),c=parseInt(e[4],10);c<30?c+=2e3:c<100&&(c+=1900);var h=!0;if(r>12){var f=r;r=l,l=f,h=!1}if(!d.validDate(c,r,l))return null;(t=d.packDate(c,r-1,l))<0&&t--,n=h?["mm","dd","yyyy"].join(o):["dd","mm","yyyy"].join(o),n+=e[5],input=input.substr(e[0].length)}if(e=/^(\d+):(\d+)$/.exec(input)){var m=parseInt(e[1],10),v=parseInt(e[2],10);return{type:"date",format:n+"hh:mm",value:t+d.packTime(m,v,0,0)}}if(e=/^(\d+):(\d+)(\.\d+)$/.exec(input)){v=parseInt(e[1],10);var _=parseInt(e[2],10),w=1e3*parseFloat(e[3]);return{type:"date",format:n+"mm:ss.00",value:t+d.packTime(0,v,_,w)}}return(e=/^(\d+):(\d+):(\d+)$/.exec(input))?(m=parseInt(e[1],10),v=parseInt(e[2],10),_=parseInt(e[3],10),{type:"date",format:n+"hh:mm:ss",value:t+d.packTime(m,v,_,0)}):(e=/^(\d+):(\d+):(\d+)(\.\d+)$/.exec(input))?(m=parseInt(e[1],10),v=parseInt(e[2],10),_=parseInt(e[3],10),w=1e3*parseFloat(e[4]),{type:"date",format:n+"hh:mm:ss.00",value:t+d.packTime(m,v,_,w)}):void 0})),E((function(input){var e,t,n=kendo.culture(),r=n.numberFormat[","],o=n.numberFormat["."],l=n.numberFormat.currency.symbol,c=function(e,t){var n=e+t,r=A[n];return r||(r=(r="^(\\d+(COM\\d{3})*(DOT\\d+)?)").replace(/DOT/g,"\\"+t).replace(/COM/g,"\\"+e),r=new RegExp(r),A[n]=r),r}(r,o),h=new RegExp("^\\s*\\"+l+"\\s*"),d=1,f="",m="",v=!1,_=!1;if((input=N(input.replace(/^\s+|\s+$/g,""))).skip(/^-\s*/)&&(d=-1),(e=input.skip(h))&&(v=!0,f+='"'+e[0]+'"'),input.skip(/^-\s*/)){if(d<0)return null;d=-1}if(!(t=input.skip(c)))return null;if(f+="0",e=input.skip(h)){if(v)return null;v=!0,m='"'+e[0]+'"'}if(!v&&(e=input.skip(/^\s*%\s*/))&&(_=!0,m=e[0]),!input.eof())return null;(t[2]||v)&&(f=f.replace("0","#"),f+=",0"),t[3]&&(f+="."+O("0",t[3].length-1));var w=t[0].replace(new RegExp("\\"+r,"g"),"").replace(new RegExp("\\"+o,"g"),".");return w=parseFloat(w),_&&(w/=100),f+=m,v&&(f+=";-"+f),{type:"number",currency:v,format:f,value:d*w}})),E((function(input){var e;if(e=/^([0-9]*)\.([0-9]+)(\s*%)$/.exec(input))return{type:"number",value:parseFloat(input)/100,format:"0."+O("0",e[2].length)+e[3]}}));var A={}}function I(e){_.DEC=e,_.ARG=","==e?";":",",_.COL=","==e?"\\":",",v=","==e?m:f}function M(e){e=e.toUpperCase();for(var col=0,i=0;i<e.length;++i)col=26*col+e.charCodeAt(i)-64;return col-1}function R(e){return parseInt(e,10)-1}function F(e,t,col,input){var n=[],r=(input=L(input,{row:t,col:col})).is;return{type:"exp",ast:h(!0),refs:n,sheet:e,row:t,col:col};function o(e){return e.index=n.length,n.push(e),e}function l(e,t,n){if(r(e,t))return input.next();var o=input.peek();o?input.croak("Expected "+e+" «"+t+"» but found "+o.type+" «"+o.value+"»"):n||input.croak("Expected "+e+" «"+t+"»")}function h(e){return function e(t,n,o){var l=r("op");if(l&&(o||l.value!=_.ARG)){var c=v[l.value];if(c>n){input.next();var h=e(d(),c,o);return e({type:"binary",op:";"==l.value?",":l.value,left:t,right:h},n,o)}}return t}((t=d(),r("punc","(")||r("ref")||r("num")||r("func")?{type:"binary",op:" ",left:t,right:h(!1)}:t),0,e);var t}function d(){var t,n,f;return r("ref")?((f=input.next()).hasSheet()||f.setSheet(e),t=o(f)):r("func")?t=function(){var e=input.next();e=e.value,l("punc","(");for(var t=[];!r("punc",")");)if(r("op",_.ARG))t.push({type:"null"}),input.next();else{if(t.push(h(!1)),input.eof()||r("punc",")"))break;l("op",_.ARG)}return l("punc",")",!0),{type:"func",func:e,args:t}}():r("punc","(")?(input.next(),t=h(!0),l("punc",")",!0)):r("punc","{")?(input.next(),t=function(){for(var e=[],t=[e],n=!0;!input.eof()&&!r("punc","}");)n?n=!1:r(null,";")?(t.push(e=[]),input.next()):l(null,_.COL),e.push(h(!1));return{type:"matrix",value:t}}(),l("punc","}",!0)):r("num")||r("str")||r("error")?t=input.next():r("sym")?t="TRUE"==(n=input.next()).upper||"FALSE"==n.upper?"TRUE"==n.upper?x:k:o(new c(n.value)):r("op","+")||r("op","-")?t={type:"prefix",op:input.next().value,exp:d()}:input.peek()?r("punc","[")?input.croak("External reference not supported"):input.croak("Parse error"):input.croak("Incomplete expression"),function e(t){return r("op","%")?(input.next(),e({type:"postfix",op:"%",exp:t})):t}(t)}}function P(e,t){var n=0;return r(e,t);function r(e,t){switch(e.type){case"ref":return function(e,t){return"name"==e.ref?function(e,t){return{type:"func",func:",getname",args:[l(t),e]}}(e,t):o(e,t)}(e,t);case"num":case"str":case"null":case"error":case"bool":return o(e,t);case"prefix":case"postfix":return function(e,t){return r({type:"func",func:"unary"+e.op,args:[e.exp]},t)}(e,t);case"binary":return function(e,t){return r({type:"func",func:"binary"+e.op,args:[e.left,e.right]},t)}(e,t);case"func":return function(e,t){switch(e.func.toLowerCase()){case"if":return function(e,th,t,n){return r(e,(function(e){var o=l(n),h=c("T"),d=c("E");return{type:"func",func:"if",args:[o,e,{type:"lambda",vars:[h],body:r(th||x,(function(th){return{type:"call",func:{type:"var",name:h},args:[th]}}))},{type:"lambda",vars:[d],body:r(t||k,(function(e){return{type:"call",func:{type:"var",name:d},args:[e]}}))}]}}))}(e.args[0],e.args[1],e.args[2],t);case"and":return function(e,t){return 0===e.length?o(x,t):r({type:"func",func:"IF",args:[e[0],{type:"func",func:"AND",args:e.slice(1)},k]},t)}(e.args,t);case"or":return function(e,t){return 0===e.length?o(k,t):r({type:"func",func:"IF",args:[e[0],x,{type:"func",func:"OR",args:e.slice(1)}]},t)}(e.args,t);case"true":return t(x);case"false":return t(k)}return function t(n,i){return i==e.args.length?{type:"func",func:e.func,args:n}:r(e.args[i],(function(e){return t(n.concat([e]),i+1)}))}([l(t)],0)}(e,t);case"lambda":return function(e,t){var n=c("K"),body=r(e.body,(function(body){return{type:"call",func:{type:"var",value:n},args:[body]}}));return t({type:"lambda",vars:[n].concat(e.vars),body:body})}(e,t);case"matrix":return function e(t,n,o){var a=[];return function l(i){return i==t.length?n({type:"matrix",value:a}):(o?e:r)(t[i],(function(e){return a[i]=e,l(i+1)}))}(0)}(e.value,t,!0)}throw new Error("Cannot CPS "+e.type)}function o(e,t){return t(e)}function l(e){var t=c("R");return{type:"lambda",vars:[t],body:e({type:"var",name:t})}}function c(e){return e||(e=""),(e="_"+e)+ ++n}}function z(e){var t=function(e){return C("function(row, col, mod){return("+function e(n,r,o){switch(n.type){case"num":return"(kendo.spreadsheet.calc._separators.DEC == '.' ? "+JSON.stringify(JSON.stringify(n.value))+" : "+JSON.stringify(JSON.stringify(n.value))+".replace('.' , kendo.spreadsheet.calc._separators.DEC))";case"bool":return JSON.stringify(n.value);case"error":return JSON.stringify("#"+n.value);case"str":return JSON.stringify(JSON.stringify(n.value));case"ref":return"this.refs["+n.index+"].print(row, col, mod)";case"prefix":return l((function(){return JSON.stringify(n.op)+" + "+e(n.exp,n,v[n.op])}));case"postfix":return l((function(){return e(n.exp,n,v[n.op])+" + "+JSON.stringify(n.op)}));case"binary":return l((function(){var r=t(e(n.left,n,v[n.op]),n.left instanceof c&&":"==n.op),o=t(e(n.right,n,v[n.op]),n.right instanceof c&&":"==n.op);return/^[,;]/.test(n.op)?r+" + kendo.spreadsheet.calc._separators.ARG + "+o:r+" + "+JSON.stringify(n.op)+" + "+o}));case"func":return JSON.stringify(n.func+"(")+" + "+(n.args.length>0?n.args.map((function(t){return e(t,n,0)})).join(" + kendo.spreadsheet.calc._separators.ARG + ' ' + "):"''")+" + ')'";case"matrix":return"'{ ' + "+n.value.map((function(t){return t.map((function(t){return e(t,n,0)})).join(" + kendo.spreadsheet.calc._separators.COL + ' ' + ")})).join(" + '; ' + ")+"+ ' }'";case"null":return"''"}throw new Error("Cannot make printer for node "+n.type);function l(e){var l=n.op,c=v[l]<o||!o&&","==l||"prefix"==r.type&&o==v[l]&&"-"==r.op||"binary"==r.type&&o==v[l]&&n===r.right;return t(e(),c)}}(e.ast,e,0)+")}");function t(code,e){return e?"'(' + "+code+" + ')'":code}}(e),n=t.call(e),r=S[n];if(r)return r.clone(e.sheet,e.row,e.col);var code=o(P(e.ast,(function(e){return{type:"return",value:e}})));return code=["function(){","var context = this, refs = context.formula.absrefs",code,"}"].join(";\n"),r=new d.Formula(e.refs,C(code),t,e.sheet,e.row,e.col),S[n]=r.clone(e.sheet,e.row,e.col),r;function o(e){var t=e.type;if("num"==t)return e.value+"";if("str"==t)return JSON.stringify(e.value);if("error"==t)return"context.error("+JSON.stringify(e.value)+")";if("return"==t)return"context.resolve("+o(e.value)+")";if("func"==t)return"context.func("+JSON.stringify(e.func)+", "+o(e.args[0])+", "+l(e.args.slice(1))+")";if("call"==t)return o(e.func)+"("+e.args.map(o).join(", ")+")";if("ref"==t)return"refs["+e.index+"]";if("bool"==t)return""+e.value;if("if"==t)return"(context.bool("+o(e.co)+") ? "+o(e.th)+" : "+o(e.el)+")";if("lambda"==t)return"(function("+e.vars.join(", ")+"){ return("+o(e.body)+") })";if("var"==t)return e.name;if("matrix"==t)return l(e.value);if("null"==t)return"null";throw new Error("Cannot compile expression "+t)}function l(a){return"[ "+a.map(o).join(", ")+" ]"}}function B(e){return e}function L(input,e){var n=(input=function(input,e){var n=[],r=0,o=input.readWhile;return{next:w,peek:m,eof:function(){return null==m()},croak:input.croak,ahead:function(e,t){for(var n=r,a=[];e-- >0;)a.push(w()||T);return r=n,t.apply(a,a)},skip:function(e){r+=e}};function l(e){return/[0-9]/i.test(e)}function c(e){return/[a-z$_]/i.test(e)||t.isUnicodeLetter(e)}function h(e){return c(e)||l(e)||"."==e}function symbol(e,t){return{type:"sym",value:e,upper:e.toUpperCase(),space:H(input.peek()),quote:t}}function d(a,b,e){if(!a&&!b&&!e)return null;if(!a&&!e||a&&e){var t=b?parseInt(b,10):0;return a?t:t-1}}function f(){if(input.eof())return null;var t,n,r,f=input.peek();return'"'==f?(input.next(),{type:"str",value:input.readEscaped('"')}):"'"==f?(input.next(),symbol(input.readEscaped("'"),!0)):l(f)||f==_.DEC?(n=!1,(r=o((function(e){return e==_.DEC?!n&&(n=!0,!0):l(e)})))==_.DEC?{type:"punc",value:_.DEC}:{type:"num",value:parseFloat(r.replace(_.DEC,"."))}):c(f)?function(){var e=input.lookingAt(/^R(\[)?(-?[0-9]+)?(\])?C(\[)?(-?[0-9]+)?(\])?/i);if(e){var t=d(e[1],e[2],e[3]),col=d(e[4],e[5],e[6]);if(null!=t&&null!=col)return input.skip(e),{type:"rc",row:t,col:col,rel:(e[4]||!(e[4]||e[5]||e[6])?1:0)|(e[1]||!(e[1]||e[2]||e[3])?2:0)}}return symbol(o(h))}():function(e){return e in v}(f)?{type:"op",value:o((function(e,t){return t+e in v}))}:function(e){return"\\!;(){}[]".indexOf(e)>=0}(f)?{type:"punc",value:input.next()}:(t=input.lookingAt(/^#([a-z\/]+)[?!]?/i))?(input.skip(t),{type:"error",value:t[1]}):(e.forEditor||input.croak("Can't handle character with code: "+f.charCodeAt(0)),{type:"error",value:input.next()})}function m(){for(;n.length<=r;){o(H);var t=input.pos(),l=f();e.forEditor&&l&&(l.begin=t,l.end=input.pos()),n.push(l)}return n[r]}function w(){var e=m();return e&&r++,e}}(N(input),e)).ahead,r=input.skip,h=null,d=null!=e.row&&null!=e.col?function(t){return 1&t.rel&&(t.col-=e.col),2&t.rel&&(t.row-=e.row),t}:B,f=e.forEditor?function(e,t,n){return e.begin=t.begin,e.end=n.end,e}:B;return{peek:m,next:function(){if(null!=h){var e=h;return h=null,e}return w()},croak:input.croak,eof:input.eof,is:function(e,t){var n=m();return null==n||null!=e&&n.type!==e||null!=t&&n.value!==t?null:n}};function m(){return null==h&&(h=w()),h}function w(){var e,t=input.peek();return t&&("sym"!=t.type&&"rc"!=t.type&&"num"!=t.type||(e=n(8,x)||n(6,k)||n(6,C)||n(4,S)||n(4,D)||n(2,E)||n(2,A)),e||(e=input.next())),e}function y(t,n){if("rc"==t.type)return!t.rel||e.forEditor||null!=e.row&&null!=e.col||input.croak("Cannot read relative cell in RC notation"),new l(t.row,t.col,t.rel);if("num"==t.type)return t.value<=1048577?d(new l(R(t.value),n?-1/0:1/0,2)):null;var r=t.value,o=/^(\$)?([a-z]+)(\$)?(\d+)$/i.exec(r);if(o){var c=R(o[4]),col=M(o[2]);return c<=1048576&&col<=16383?d(new l(R(o[4]),M(o[2]),(o[1]?0:1)|(o[3]?0:2))):null}var h="$"==r.charAt(0);if(h&&(r=r.substr(1)),/^\d+$/.test(r)){if((c=R(r))<=1048576)return d(new l(R(r),n?-1/0:1/0,h?0:2))}else if((col=M(r))<=16383)return d(new l(n?-1/0:1/0,M(r),h?0:1))}function x(a,b,e,t,n,l,g,c){if("sym"==a.type&&"op"==b.type&&":"==b.value&&"sym"==e.type&&"punc"==t.type&&"!"==t.value&&("sym"==n.type||"rc"==n.type||"num"==n.type&&n.value==n.value|0)&&"op"==l.type&&":"==l.value&&("sym"==g.type||"rc"==g.type||"num"==g.type&&g.value==g.value|0)&&g.type==n.type&&("punc"!=c.type||"("!=c.value||g.space)){var h=y(n,!0),br=y(g,!1);if(h&&br)return r(7),f(new o(h.setSheet(a.value,!0),br.setSheet(e.value,!0)).setSheet(a.value,!0),a,g)}}function k(a,b,e,t,n,l){if("sym"==a.type&&"op"==b.type&&":"==b.value&&"sym"==e.type&&"punc"==t.type&&"!"==t.value&&("sym"==n.type||"rc"==n.type||"num"==n.type&&n.value==n.value|0)&&("punc"!=l.type||"("!=l.value||n.space)){var c=y(n);if(c){r(5);var br=c.clone();return f(new o(c.setSheet(a.value,!0),br.setSheet(e.value,!0)).setSheet(a.value,!0),a,n)}}}function C(a,b,e,t,n,l){if("sym"==a.type&&"punc"==b.type&&"!"==b.value&&("sym"==e.type||"rc"==e.type||"num"==e.type&&e.value==e.value|0)&&"op"==t.type&&":"==t.value&&("sym"==n.type||"rc"==n.type||"num"==n.type&&n.value==n.value|0)&&("punc"!=l.type||"("!=l.value||n.space)){var c=y(e,!0),br=y(n,!1);if(c&&br)return r(5),f(new o(c,br).setSheet(a.value,!0),a,n)}}function S(a,b,e,t){if("sym"==a.type&&"punc"==b.type&&"!"==b.value&&("sym"==e.type||"rc"==e.type||"num"==e.type&&e.value==e.value|0)&&("punc"!=t.type||"("!=t.value||e.space)){r(3);var n=y(e);return n&&isFinite(n.row)||(n=new c(e.value)),f(n.setSheet(a.value,!0),a,e)}}function D(a,b,e,t){if(("sym"==a.type||"rc"==a.type||"num"==a.type&&a.value==a.value|0)&&"op"==b.type&&":"==b.value&&("sym"==e.type||"rc"==e.type||"num"==e.type&&e.value==e.value|0)&&("punc"!=t.type||"("!=t.value||e.space)){var n=y(a,!0),br=y(e,!1);if(n&&br)return r(3),f(new o(n,br),a,e)}}function E(a,b){if(("sym"==a.type||"rc"==a.type)&&("punc"!=b.type||"("!=b.value||a.space)){var e=y(a);if(e&&isFinite(e.row)&&isFinite(e.col))return r(1),f(e,a,a)}}function A(a,b){if("sym"==a.type&&"punc"==b.type&&"("==b.value&&!a.space)return a.type="func",r(1),a}}function H(e){return" \t\r\n ​".indexOf(e)>=0}function N(input){var e=0;return{next:t,peek:n,eof:r,croak:o,readWhile:function(e){for(var o="";!r()&&e(n(),o);)o+=t();return o},readEscaped:function(e){for(var n=!1,o="";!r();){var l=t();if(n)o+=l,n=!1;else if("\\"==l)n=!0;else{if(l==e)break;o+=l}}return o},lookingAt:function(t){return t.exec(input.substr(e))},skip:function(t){if("string"==typeof t)input.substr(e,t.length)!=t&&o("Expected "+t),l(t.length);else if(t instanceof RegExp){var n=t.exec(input.substr(e));if(n)return l(n[0].length),n}else l(t[0].length)},forward:l,pos:function(){return e}};function t(){var t=input.charAt(e++);return t}function n(){return input.charAt(e)}function r(){return""===n()}function o(t){throw new y(t+" (input: "+input+")",e)}function l(e){for(;e-- >0;)t()}}function O(e,t){for(var n="";t-- >0;)n+=e;return n}})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1076)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1076:function(e,t,n){var r,o,l;n(3),o=[n(1077),n(1078)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1077:function(e,t){e.exports=n(217)},1078:function(e,t){e.exports=n(395)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(878)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},857:function(e,t){e.exports=n(17)},878:function(e,t,n){var r,o,l;n(3),o=[n(879),n(857)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.dataviz.diagram,o=n.Class,l=n.deepExtend,c=n.dataviz,h=r.Utils,d=c.Point2D,f=n.isFunction,m=h.contains,map=e.map,v=1e-6;l(d.fn,{plus:function(p){return new d(this.x+p.x,this.y+p.y)},minus:function(p){return new d(this.x-p.x,this.y-p.y)},offset:function(e){return new d(this.x-e,this.y-e)},times:function(s){return new d(this.x*s,this.y*s)},normalize:function(){return 0===this.length()?new d:this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function(p,q){return new d(q.x-p.x,q.y-p.y).times(.5).plus(p)},toPolar:function(e){var t=1;e&&(t=180/Math.PI);var a=Math.atan2(Math.abs(this.y),Math.abs(this.x)),n=Math.PI/2,r=this.length();if(0===this.x){if(0===this.y)return new S(0,0);if(this.y>0)return new S(r,t*n);if(this.y<0)return new S(r,3*t*n)}else if(this.x>0){if(0===this.y)return new S(r,0);if(this.y>0)return new S(r,t*a);if(this.y<0)return new S(r,t*(4*n-a))}else{if(0===this.y)return new S(r,2*n);if(this.y>0)return new S(r,t*(2*n-a));if(this.y<0)return new S(r,t*(2*n+a))}},isOnLine:function(e,t){if(e.x>t.x){var n=t;t=e,e=n}var r,o,l=new w(e.x,e.y).inflate(3,3),c=new w(t.x,t.y).inflate(3,3);return!!l.union(c).contains(this)&&(e.x===t.x||e.y===t.y||(e.y<t.y?(r=l.x+(c.x-l.x)*(this.y-(l.y+l.height))/(c.y+c.height-(l.y+l.height)),o=l.x+l.width+(c.x+c.width-(l.x+l.width))*(this.y-l.y)/(c.y-l.y)):(r=l.x+(c.x-l.x)*(this.y-l.y)/(c.y-l.y),o=l.x+l.width+(c.x+c.width-(l.x+l.width))*(this.y-(l.y+l.height))/(c.y+c.height-(l.y+l.height))),this.x>r&&this.x<o))}}),l(d,{parse:function(e){var t=e.slice(1,e.length-1).split(","),n=parseInt(t[0],10),r=parseInt(t[1],10);if(!isNaN(n)&&!isNaN(r))return new d(n,r)}});var _=o.extend({init:function(p,e,t){this.point=p,this.left=e,this.right=t}}),w=o.extend({init:function(e,t,n,r){this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0},contains:function(e){return e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},inflate:function(e,t){return void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e+1,this.height+=2*t+1,this},offset:function(e,t){var n=e,r=t;return e instanceof d&&(n=e.x,r=e.y),this.x+=n,this.y+=r,this},union:function(e){var t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),o=Math.max(this.y+this.height,e.y+e.height);return new w(t,n,r-t,o-n)},center:function(){return new d(this.x+this.width/2,this.y+this.height/2)},top:function(){return new d(this.x+this.width/2,this.y)},right:function(){return new d(this.x+this.width,this.y+this.height/2)},bottom:function(){return new d(this.x+this.width/2,this.y+this.height)},left:function(){return new d(this.x,this.y+this.height/2)},topLeft:function(){return new d(this.x,this.y)},topRight:function(){return new d(this.x+this.width,this.y)},bottomLeft:function(){return new d(this.x,this.y+this.height)},bottomRight:function(){return new d(this.x+this.width,this.y+this.height)},clone:function(){return new w(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(rect){return this.x===rect.x&&this.y===rect.y&&this.width===rect.width&&this.height===rect.height},rotatedBounds:function(e){var rect=this.clone(),t=this.rotatedPoints(e),n=t[0],tr=t[1],br=t[2],r=t[3];return rect.x=Math.min(br.x,n.x,tr.x,r.x),rect.y=Math.min(br.y,n.y,tr.y,r.y),rect.width=Math.max(br.x,n.x,tr.x,r.x)-rect.x,rect.height=Math.max(br.y,n.y,tr.y,r.y)-rect.y,rect},rotatedPoints:function(e){var t=this.center(),br=this.bottomRight().rotate(t,360-e);return[this.topLeft().rotate(t,360-e),this.topRight().rotate(t,360-e),br,this.bottomLeft().rotate(t,360-e)]},toString:function(e){return e=e||" ",this.x+e+this.y+e+this.width+e+this.height},scale:function(e,t,n,r,o){var l=this.topLeft(),c=this.center();l.rotate(c,360-o).rotate(r,o);var h=n.minus(l),f=new d(h.x*e,h.y*t),m=h.minus(f);(l=l.plus(m)).rotate(r,360-o).rotate(c,o),this.x=l.x,this.y=l.y,this.width*=e,this.height*=t},zoom:function(e){return this.x*=e,this.y*=e,this.width*=e,this.height*=e,this},overlaps:function(rect){var e=this.bottomRight(),t=rect.bottomRight();return!(e.x<rect.x||e.y<rect.y||t.x<this.x||t.y<this.y)}}),y=o.extend({init:function(e,t){this.width=e,this.height=t}});function x(e,t,n,r,o){var l=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(c=l,!(Math.abs(c)<v)){var c,h=((e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y))/l,s=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/l;if(!o||!(h<0||h>1||s<0||s>1))return new d(e.x+h*(t.x-e.x),e.y+h*(t.y-e.y))}}y.prototype.Empty=new y(0,0),w.toRect=function(rect){return rect instanceof w||(rect=new w(rect.x,rect.y,rect.width,rect.height)),rect},w.empty=function(){return new w(0,0,0,0)},w.fromPoints=function(p,q){if(isNaN(p.x)||isNaN(p.y)||isNaN(q.x)||isNaN(q.y))throw"Some values are NaN.";return new w(Math.min(p.x,q.x),Math.min(p.y,q.y),Math.abs(p.x-q.x),Math.abs(p.y-q.y))};var k={lines:function(e,t,n,r){return x(e,t,n,r)},segments:function(e,t,n,r){return x(e,t,n,r,!0)},rectWithLine:function(rect,e,t){return k.segments(e,t,rect.topLeft(),rect.topRight())||k.segments(e,t,rect.topRight(),rect.bottomRight())||k.segments(e,t,rect.bottomLeft(),rect.bottomRight())||k.segments(e,t,rect.topLeft(),rect.bottomLeft())},rects:function(e,t,n){var r=t.topLeft(),tr=t.topRight(),o=t.bottomLeft(),br=t.bottomRight(),l=t.center();n&&(r=r.rotate(l,n),tr=tr.rotate(l,n),o=o.rotate(l,n),br=br.rotate(l,n));var c=e.contains(r)||e.contains(tr)||e.contains(o)||e.contains(br)||k.rectWithLine(e,r,tr)||k.rectWithLine(e,r,o)||k.rectWithLine(e,tr,br)||k.rectWithLine(e,o,br);if(!c){if(r=e.topLeft(),tr=e.topRight(),o=e.bottomLeft(),br=e.bottomRight(),n){var h=360-n;r=r.rotate(l,h),tr=tr.rotate(l,h),o=o.rotate(l,h),br=br.rotate(l,h)}c=t.contains(r)||t.contains(tr)||t.contains(o)||t.contains(br)}return c}},C=o.extend({init:function(e){this.container=w.toRect(e)},align:function(content,e){for(var t=e.toLowerCase().split(" "),i=0;i<t.length;i++)content=this._singleAlign(content,t[i]);return content},_singleAlign:function(content,e){return f(this[e])?this[e](content):content},left:function(content){return this._align(content,this._left)},center:function(content){return this._align(content,this._center)},right:function(content){return this._align(content,this._right)},stretch:function(content){return this._align(content,this._stretch)},top:function(content){return this._align(content,this._top)},middle:function(content){return this._align(content,this._middle)},bottom:function(content){return this._align(content,this._bottom)},_left:function(e,content){content.x=e.x},_center:function(e,content){content.x=(e.width-content.width)/2||0},_right:function(e,content){content.x=e.width-content.width},_top:function(e,content){content.y=e.y},_middle:function(e,content){content.y=(e.height-content.height)/2||0},_bottom:function(e,content){content.y=e.height-content.height},_stretch:function(e,content){content.x=0,content.y=0,content.height=e.height,content.width=e.width},_align:function(content,e){return content=w.toRect(content),e(this.container,content),content}}),S=o.extend({init:function(e,a){this.r=e,this.angle=a}}),T=o.extend({init:function(a,b,e,t,n,r){this.a=a||0,this.b=b||0,this.c=e||0,this.d=t||0,this.e=n||0,this.f=r||0},plus:function(e){this.a+=e.a,this.b+=e.b,this.c+=e.c,this.d+=e.d,this.e+=e.e,this.f+=e.f},minus:function(e){this.a-=e.a,this.b-=e.b,this.c-=e.c,this.d-=e.d,this.e-=e.e,this.f-=e.f},times:function(e){return new T(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)},apply:function(p){return new d(this.a*p.x+this.c*p.y+this.e,this.b*p.x+this.d*p.y+this.f)},applyRect:function(e){return w.fromPoints(this.apply(e.topLeft()),this.apply(e.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}});l(T,{fromSVGMatrix:function(e){var t=new T;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t},fromMatrixVector:function(e){var t=new T;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t},fromList:function(e){if(6!==e.length)throw"The given list should consist of six elements.";var t=new T;return t.a=e[0],t.b=e[1],t.c=e[2],t.d=e[3],t.e=e[4],t.f=e[5],t},translation:function(e,t){var n=new T;return n.a=1,n.b=0,n.c=0,n.d=1,n.e=e,n.f=t,n},unit:function(){return new T(1,0,0,1,0,0)},rotation:function(e,t,n){var r=new T;return r.a=Math.cos(e*Math.PI/180),r.b=Math.sin(e*Math.PI/180),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+n*r.b||0,r.f=n-n*r.a-t*r.b||0,r},scaling:function(e,t){var n=new T;return n.a=e,n.b=0,n.c=0,n.d=t,n.e=0,n.f=0,n},parse:function(e){var t,n;if(e){if("matrix"===(e=e.trim()).slice(0,6).toLowerCase()){if(6===(t=(n=e.slice(7,e.length-1).trim()).split(",")).length)return T.fromList(map(t,(function(p){return parseFloat(p)})));if(6===(t=n.split(" ")).length)return T.fromList(map(t,(function(p){return parseFloat(p)})))}if("("===e.slice(0,1)&&")"===e.slice(e.length-1)&&(e=e.substr(1,e.length-1)),e.indexOf(",")>0&&6===(t=e.split(",")).length)return T.fromList(map(t,(function(p){return parseFloat(p)})));if(e.indexOf(" ")>0&&6===(t=e.split(" ")).length)return T.fromList(map(t,(function(p){return parseFloat(p)})))}return t}});var D=o.extend({init:function(a,b,e,t,n,r){this.a=a||0,this.b=b||0,this.c=e||0,this.d=t||0,this.e=n||0,this.f=r||0},fromMatrix:function(e){var t=new D;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t}});function E(e){h.isUndefined(e)&&(e=10);for(var t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=e;i>0;--i)t+=n.charAt(Math.round(Math.random()*(n.length-1)));return t}var A={_distanceToLineSquared:function(p,a,b){function e(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)}if(a===b)return e(p,a);var t=b.x-a.x,n=b.y-a.y,r=(p.x-a.x)*t+(p.y-a.y)*n;return r<0?e(a,p):(r=(b.x-p.x)*t+(b.y-p.y)*n)<0?e(b,p):(r=(b.x-p.x)*n-(b.y-p.y)*t)*r/(t*t+n*n)},distanceToLine:function(p,a,b){return Math.sqrt(this._distanceToLineSquared(p,a,b))},distanceToPolyline:function(p,e){var t=Number.MAX_VALUE;if(h.isUndefined(e)||0===e.length)return Number.MAX_VALUE;for(var s=0;s<e.length-1;s++){var n=e[s],r=e[s+1],o=this._distanceToLineSquared(p,n,r);o<t&&(t=o)}return Math.sqrt(t)}},I=n.Class.extend({init:function(){this._buckets=[],this.length=0},add:function(e,t){var n=this._createGetBucket(e);return h.isDefined(t)&&(n.value=t),n},get:function(e){return this._bucketExists(e)?this._createGetBucket(e):null},set:function(e,t){this.add(e,t)},containsKey:function(e){return this._bucketExists(e)},remove:function(e){if(this._bucketExists(e)){var t=this._hash(e);return delete this._buckets[t],this.length--,e}},forEach:function(e){for(var t=this._hashes(),i=0,n=t.length;i<n;i++){var r=t[i],o=this._buckets[r];h.isUndefined(o)||e(o)}},clone:function(){for(var e=new I,t=this._hashes(),i=0,n=t.length;i<n;i++){var r=t[i],o=this._buckets[r];h.isUndefined(o)||e.add(o.key,o.value)}return e},_hashes:function(){var e=[];for(var t in this._buckets)this._buckets.hasOwnProperty(t)&&e.push(t);return e},_bucketExists:function(e){var t=this._hash(e);return h.isDefined(this._buckets[t])},_createGetBucket:function(e){var t=this._hash(e),n=this._buckets[t];return h.isUndefined(n)&&(n={key:e},this._buckets[t]=n,this.length++),n},_hash:function(e){if(h.isNumber(e))return e;if(h.isString(e))return this._hashString(e);if(h.isObject(e))return this._objectHashId(e);throw"Unsupported key type."},_hashString:function(s){var e=0;if(0===s.length)return e;for(var i=0;i<s.length;i++)e=32*e-e+s.charCodeAt(i);return e},_objectHashId:function(e){var t=e._hashId;return h.isUndefined(t)&&(t=E(),e._hashId=t),t}}),M=n.Observable.extend({init:function(t){if(n.Observable.fn.init.call(this),this._hashTable=new I,this.length=0,h.isDefined(t))if(e.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i]);else t.forEach((function(e,t){this.add(e,t)}),this)},add:function(e,t){var n=this._hashTable.get(e);n||(n=this._hashTable.add(e),this.length++,this.trigger("changed")),n.value=t},set:function(e,t){this.add(e,t)},get:function(e){var t=this._hashTable.get(e);if(t)return t.value;throw new Error("Cannot find key "+e)},containsKey:function(e){return this._hashTable.containsKey(e)},remove:function(e){if(this.containsKey(e))return this.trigger("changed"),this.length--,this._hashTable.remove(e)},forEach:function(e,t){this._hashTable.forEach((function(n){e.call(t,n.key,n.value)}))},forEachValue:function(e,t){this._hashTable.forEach((function(n){e.call(t,n.value)}))},forEachKey:function(e,t){this._hashTable.forEach((function(n){e.call(t,n.key)}))},keys:function(){var e=[];return this.forEachKey((function(t){e.push(t)})),e}}),R=n.Class.extend({init:function(){this._tail=null,this._head=null,this.length=0},enqueue:function(e){var t={value:e,next:null};this._head?(this._tail.next=t,this._tail=this._tail.next):(this._head=t,this._tail=this._head),this.length++},dequeue:function(){if(this.length<1)throw new Error("The queue is empty.");var e=this._head.value;return this._head=this._head.next,this.length--,e},contains:function(e){for(var t=this._head;t;){if(t.value===e)return!0;t=t.next}return!1}}),F=n.Observable.extend({init:function(e){n.Observable.fn.init.call(this),this._hashTable=new I,this.length=0,h.isDefined(e)&&(e instanceof I?e.forEach((function(e){this.add(e)})):e instanceof M&&e.forEach((function(e,t){this.add({key:e,value:t})}),this))},contains:function(e){return this._hashTable.containsKey(e)},add:function(e){this._hashTable.get(e)||(this._hashTable.add(e,e),this.length++,this.trigger("changed"))},get:function(e){return this.contains(e)?this._hashTable.get(e).value:null},hash:function(e){return this._hashTable._hash(e)},remove:function(e){this.contains(e)&&(this._hashTable.remove(e),this.length--,this.trigger("changed"))},forEach:function(e,t){this._hashTable.forEach((function(t){e(t.value)}),t)},toArray:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}}),P=n.Class.extend({init:function(e,t){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,h.isDefined(e)?this.id=e:this.id=E(),h.isDefined(t)){this.associatedShape=t;var b=t.bounds();this.width=b.width,this.height=b.height,this.x=b.x,this.y=b.y}else this.associatedShape=null;this.data=null,this.type="Node",this.shortForm="Node '"+this.id+"'",this.isVirtual=!1},isIsolated:function(){return h.isEmpty(this.links)},bounds:function(e){if(!h.isDefined(e))return new r.Rect(this.x,this.y,this.width,this.height);this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},isLinkedTo:function(e){var t=this;return h.any(t.links,(function(link){return link.getComplement(t)===e}))},getChildren:function(){if(0===this.outgoing.length)return[];for(var e=[],i=0,t=this.outgoing.length;i<t;i++){var link=this.outgoing[i];e.push(link.getComplement(this))}return e},getParents:function(){if(0===this.incoming.length)return[];for(var e=[],i=0,t=this.incoming.length;i<t;i++){var link=this.incoming[i];e.push(link.getComplement(this))}return e},clone:function(){var e=new P;return h.isDefined(this.weight)&&(e.weight=this.weight),h.isDefined(this.balance)&&(e.balance=this.balance),h.isDefined(this.owner)&&(e.owner=this.owner),e.associatedShape=this.associatedShape,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},adjacentTo:function(e){return null!==this.isLinkedTo(e)},removeLink:function(link){link.source===this&&(h.remove(this.links,link),h.remove(this.outgoing,link),link.source=null),link.target===this&&(h.remove(this.links,link),h.remove(this.incoming,link),link.target=null)},hasLinkTo:function(e){return h.any(this.outgoing,(function(link){return link.target===e}))},degree:function(){return this.links.length},incidentWith:function(link){return m(this.links,link)},getLinksWith:function(e){return h.all(this.links,(function(link){return link.getComplement(this)===e}),this)},getNeighbors:function(){var e=[];return h.forEach(this.incoming,(function(t){e.push(t.getComplement(this))}),this),h.forEach(this.outgoing,(function(t){e.push(t.getComplement(this))}),this),e}}),z=n.Class.extend({init:function(source,e,t,n){if(h.isUndefined(source))throw"The source of the new link is not set.";if(h.isUndefined(e))throw"The target of the new link is not set.";var r,o;r=h.isString(source)?new P(source):source,o=h.isString(e)?new P(e):e,this.source=r,this.target=o,this.source.links.push(this),this.target.links.push(this),this.source.outgoing.push(this),this.target.incoming.push(this),h.isDefined(t)?this.id=t:this.id=E(),h.isDefined(n)?this.associatedConnection=n:this.associatedConnection=null,this.type="Link",this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";return this.source===e?this.target:this.source},getCommonNode:function(link){return this.source===link.source||this.source===link.target?this.source:this.target===link.source||this.target===link.target?this.target:null},isBridging:function(e,t){return this.source===e&&this.target===t||this.source===t&&this.target===e},getNodes:function(){return[this.source,this.target]},incidentWith:function(e){return this.source===e||this.target===e},adjacentTo:function(link){return m(this.source.links,link)||m(this.target.links,link)},changeSource:function(e){h.remove(this.source.links,this),h.remove(this.source.outgoing,this),e.links.push(this),e.outgoing.push(this),this.source=e},changeTarget:function(e){h.remove(this.target.links,this),h.remove(this.target.incoming,this),e.links.push(this),e.incoming.push(this),this.target=e},changesNodes:function(e,t){this.source===e?this.changeSource(t):this.target===e&&this.changeTarget(t)},reverse:function(){var e=this.source,t=this.target;return this.source=t,h.remove(e.outgoing,this),this.source.outgoing.push(this),this.target=e,h.remove(t.incoming,this),this.target.incoming.push(this),this},directTo:function(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";this.target!==e&&this.reverse()},createReverseEdge:function(){var e=this.clone();return e.reverse(),e.reversed=!0,e},clone:function(){return new z(this.source,this.target)}}),B=n.Class.extend({init:function(e){this.links=[],this.nodes=[],this._nodeMap=new M,this.diagram=null,this._root=null,h.isDefined(e)?h.isString(e)?this.id=e:(this.diagram=e,this.id=e.id):this.id=E(),this.bounds=new w,this._hasCachedRelationships=!1,this.type="Graph"},cacheRelationships:function(e){if(h.isUndefined(e)&&(e=!1),!this._hasCachedRelationships||e){for(var i=0,t=this.nodes.length;i<t;i++){var n=this.nodes[i];n.children=this.getChildren(n),n.parents=this.getParents(n)}this._hasCachedRelationships=!0}},assignLevels:function(e,t,n){if(!e)throw"Start node not specified.";h.isUndefined(t)&&(t=0),this.cacheRelationships(),h.isUndefined(n)&&(n=new M,h.forEach(this.nodes,(function(e){n.add(e,!1)}))),n.set(e,!0),e.level=t;for(var r=e.children,i=0,o=r.length;i<o;i++){var l=r[i];l&&!n.get(l)&&this.assignLevels(l,t+1,n)}},root:function(e){if(h.isUndefined(e)){if(this._root)return this._root;var t=h.first(this.nodes,(function(e){return 0===e.incoming.length}));return t||h.first(this.nodes)}this._root=e},getConnectedComponents:function(){this.componentIndex=0,this.setItemIndices();for(var e=h.initArray(this.nodes.length,-1),t=0;t<this.nodes.length;t++)-1===e[t]&&(this._collectConnectedNodes(e,t),this.componentIndex++);var i,n=[];for(i=0;i<this.componentIndex;++i)n[i]=new B;for(i=0;i<e.length;++i)n[e[i]].addNodeAndOutgoings(this.nodes[i]);return n.sort((function(a,b){return b.nodes.length-a.nodes.length})),n},_collectConnectedNodes:function(e,t){e[t]=this.componentIndex;var n=this.nodes[t];h.forEach(n.links,(function(link){var t=link.getComplement(n).index;-1===e[t]&&this._collectConnectedNodes(e,t)}),this)},calcBounds:function(){if(this.isEmpty())return this.bounds=new w,this.bounds;for(var b=null,i=0,e=this.nodes.length;i<e;i++){var t=this.nodes[i];b=b?b.union(t.bounds()):t.bounds()}return this.bounds=b,this.bounds},getSpanningTree:function(e){var source,t,n=new B,map=new M;n.root=e.clone(),n.root.level=0,n.root.id=e.id,map.add(e,n.root),e.level=0;var r=[],o=[];n._addNode(n.root),r.push(e),o.push(e);for(var l=1;o.length>0;)for(var c=o.pop(),d=0;d<c.links.length;d++){var f=c.links[d].getComplement(c);if(!m(r,f)){f.level=c.level+1,l<f.level+1&&(l=f.level+1),m(o,f)||o.push(f),m(r,f)||r.push(f),map.containsKey(c)?source=map.get(c):((source=c.clone()).level=c.level,source.id=c.id,map.add(c,source)),map.containsKey(f)?t=map.get(f):((t=f.clone()).level=f.level,t.id=f.id,map.add(f,t));var v=new z(source,t);n.addLink(v)}}for(var _=[],i=0;i<l;i++)_.push([]);return h.forEach(n.nodes,(function(e){_[e.level].push(e)})),n.treeLevels=_,n.cacheRelationships(),n},takeRandomNode:function(t,n){if(h.isUndefined(t)&&(t=[]),h.isUndefined(n)&&(n=4),0===this.nodes.length)return null;if(1===this.nodes.length)return m(t,this.nodes[0])?null:this.nodes[0];var r=e.grep(this.nodes,(function(e){return!m(t,e)&&e.degree()<=n}));return h.isEmpty(r)?null:r[h.randomInteger(0,r.length)]},isEmpty:function(){return h.isEmpty(this.nodes)},isHealthy:function(){return h.all(this.links,(function(link){return m(this.nodes,link.source)&&m(this.nodes,link.target)}),this)},getParents:function(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getParents()},getChildren:function(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getChildren()},addLink:function(e,t,n){if(h.isUndefined(e))throw"The source of the link is not defined.";if(h.isUndefined(t)){if(h.isDefined(e.type)&&"Link"===e.type)return void this.addExistingLink(e);throw"The target of the link is not defined."}var r=this.getNode(e);h.isUndefined(r)&&(r=this.addNode(e));var o=this.getNode(t);h.isUndefined(o)&&(o=this.addNode(t));var l=new z(r,o);return h.isDefined(n)&&(l.owner=n),this.links.push(l),l},removeAllLinks:function(){for(;this.links.length>0;){var link=this.links[0];this.removeLink(link)}},addExistingLink:function(link){if(!this.hasLink(link)){if(this.links.push(link),this.hasNode(link.source.id)){var s=this.getNode(link.source.id);link.changeSource(s)}else this.addNode(link.source);if(this.hasNode(link.target.id)){var e=this.getNode(link.target.id);link.changeTarget(e)}else this.addNode(link.target)}},hasLink:function(e){if(h.isString(e))return h.any(this.links,(function(link){return link.id===e}));if("Link"===e.type)return m(this.links,e);throw"The given object is neither an identifier nor a Link."},getNode:function(e){var t=e.id||e;if(this._nodeMap.containsKey(t))return this._nodeMap.get(t)},hasNode:function(e){var t=e.id||e;return this._nodeMap.containsKey(t)},_addNode:function(e){this.nodes.push(e),this._nodeMap.add(e.id,e)},_removeNode:function(e){h.remove(this.nodes,e),this._nodeMap.remove(e.id)},removeNode:function(e){var t=e;if(h.isString(e)&&(t=this.getNode(e)),!h.isDefined(t))throw"The identifier should be a Node or the Id (string) of a node.";var n=t.links;t.links=[];for(var i=0,r=n.length;i<r;i++){var link=n[i];this.removeLink(link)}this._removeNode(t)},areConnected:function(e,t){return h.any(this.links,(function(link){return link.source==e&&link.target==t||link.source==t&&link.target==e}))},removeLink:function(link){h.remove(this.links,link),h.remove(link.source.outgoing,link),h.remove(link.source.links,link),h.remove(link.target.incoming,link),h.remove(link.target.links,link)},addNode:function(e,t,n){var r=null;if(!h.isDefined(e))throw"No Node or identifier for a new Node is given.";if(h.isString(e)){if(this.hasNode(e))return this.getNode(e);r=new P(e)}else{if(this.hasNode(e))return this.getNode(e);r=e}return h.isDefined(t)&&r.bounds(t),h.isDefined(n)&&(r.owner=n),this._addNode(r),r},addNodeAndOutgoings:function(e){this.hasNode(e)||this._addNode(e);var t=e.outgoing;e.outgoing=[],h.forEach(t,(function(link){this.addExistingLink(link)}),this)},setItemIndices:function(){var i;for(i=0;i<this.nodes.length;++i)this.nodes[i].index=i;for(i=0;i<this.links.length;++i)this.links[i].index=i},clone:function(e){var t=new B,n=h.isDefined(e)&&!0===e;n&&(t.nodeMap=new M,t.linkMap=new M);var map=new M;return h.forEach(this.nodes,(function(e){var r=e.clone();map.set(e,r),t._addNode(r),n&&t.nodeMap.set(r,e)})),h.forEach(this.links,(function(e){if(map.containsKey(e.source)&&map.containsKey(e.target)){var r=t.addLink(map.get(e.source),map.get(e.target));n&&t.linkMap.set(r,e)}})),t},linearize:function(e){return B.Utils.linearize(this,e)},depthFirstTraversal:function(e,t){if(h.isUndefined(e))throw"You need to supply a starting node.";if(h.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";var n=this.getNode(e);this._dftIterator(n,t,[])},_dftIterator:function(e,t,n){t(e),n.push(e);for(var r=e.getChildren(),i=0,o=r.length;i<o;i++){var l=r[i];m(n,l)||this._dftIterator(l,t,n)}},breadthFirstTraversal:function(e,t){if(h.isUndefined(e))throw"You need to supply a starting node.";if(h.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";var n=this.getNode(e),r=new R,o=[];for(r.enqueue(n);r.length>0;){var l=r.dequeue();t(l),o.push(l);for(var c=l.getChildren(),i=0,d=c.length;i<d;i++){var f=c[i];m(o,f)||m(r,f)||r.enqueue(f)}}},_stronglyConnectedComponents:function(e,t,n,r,o,l,c){n.add(t,c),r.add(t,c),c++,l.push(t);for(var h,d=t.getChildren(),i=0,f=d.length;i<f;i++)h=d[i],n.containsKey(h)?m(l,h)&&r.add(t,Math.min(r.get(t),n.get(h))):(this._stronglyConnectedComponents(e,h,n,r,o,l,c),r.add(t,Math.min(r.get(t),r.get(h))));if(r.get(t)===n.get(t)){var component=[];do{h=l.pop(),component.push(h)}while(h!==t);(!e||component.length>1)&&o.push(component)}},findCycles:function(e){h.isUndefined(e)&&(e=!0);for(var t=new M,n=new M,r=[],o=[],i=0,l=this.nodes.length;i<l;i++){var c=this.nodes[i];t.containsKey(c)||this._stronglyConnectedComponents(e,c,t,n,r,o,0)}return r},isAcyclic:function(){return h.isEmpty(this.findCycles())},isSubGraph:function(e){var t=e.linearize(),n=this.linearize();return h.all(t,(function(s){return m(n,s)}))},makeAcyclic:function(){if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1)return[];if(2==this.nodes.length){var e=[];if(this.links.length>1)for(var t=this.links[0].source,i=0,n=this.links.length;i<n;i++){var link=this.links[i];if(link.source!=t){var r=link.reverse();e.push(r)}}return e}var o=this.clone(!0),l=this.nodes.length,c=new M,d=function(e){return 0===e.outgoing.length?2-l:0===e.incoming.length?l-2:e.outgoing.length-e.incoming.length},f=function(e,t){var n=d(e);t.containsKey(n)||t.set(n,[]),t.get(n).push(e)};h.forEach(o.nodes,(function(e){f(e,c)}));for(var m=[],v=[];o.nodes.length>0;){var source,_,w;if(c.containsKey(2-l))for(var y=c.get(2-l);y.length>0;){_=y.pop();for(var li=0;li<_.links.length;li++){var x=_.links[li];source=x.getComplement(_),w=d(source),h.remove(c.get(w),source),source.removeLink(x),f(source,c)}o._removeNode(_),v.unshift(_)}if(c.containsKey(l-2))for(var k=c.get(l-2);k.length>0;){source=k.pop();for(var C=0;C<source.links.length;C++){var S=source.links[C];_=S.getComplement(source),w=d(_),h.remove(c.get(w),_),_.removeLink(S),f(_,c)}m.push(source),o._removeNode(source)}if(o.nodes.length>0)for(var T=l-3;T>2-l;T--)if(c.containsKey(T)&&c.get(T).length>0){for(var D=c.get(T).pop(),E=0;E<D.links.length;E++){var A=D.links[E],u=A.getComplement(D);w=d(u),h.remove(c.get(w),u),u.removeLink(A),f(u,c)}m.push(D),o._removeNode(D);break}}m=m.concat(v);for(var I=new M,R=0;R<this.nodes.length;R++)I.set(o.nodeMap.get(m[R]),R);var F=[];return h.forEach(this.links,(function(link){I.get(link.source)>I.get(link.target)&&(link.reverse(),F.push(link))})),F}});B.Predefined={EightGraph:function(){return B.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return B.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return B.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(e){return h.isUndefined(e)&&(e=5),B.Utils.createBalancedTree(e,2)},Linear:function(e){return h.isUndefined(e)&&(e=10),B.Utils.createBalancedTree(e,1)},Tree:function(e,t){return B.Utils.createBalancedTree(e,t)},Forest:function(e,t,n){return B.Utils.createBalancedForest(e,t,n)},Workflow:function(){return B.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(e,t){var g=new r.Graph;if(e<=0&&t<=0)return g;for(var i=0;i<e+1;i++)for(var n=null,o=0;o<t+1;o++){var l=new P(i.toString()+"."+o.toString());if(g.addNode(l),n&&g.addLink(n,l),i>0){var c=g.getNode((i-1).toString()+"."+o.toString());g.addLink(c,l)}n=l}return g}},B.Utils={parse:function(e){for(var t,o=new r.Graph,l=e.slice(),i=0,c=l.length;i<c;i++){var d=l[i];if(h.isString(d)){if(d.indexOf("->")<0)throw"The link should be specified as 'a->b'.";var p=d.split("->");if(2!=p.length)throw"The link should be specified as 'a->b'.";t=new z(p[0],p[1]),o.addLink(t)}if(h.isObject(d)){if(!t)throw"Specification found before Link definition.";n.deepExtend(t,d)}}return o},linearize:function(e,t){if(h.isUndefined(e))throw"Expected an instance of a Graph object in slot one.";h.isUndefined(t)&&(t=!1);for(var n=[],i=0,r=e.links.length;i<r;i++){var link=e.links[i];n.push(link.source.id+"->"+link.target.id),t&&n.push({id:link.id})}return n},_addShape:function(e,p,t,o){return h.isUndefined(p)&&(p=new r.Point(0,0)),h.isUndefined(t)&&(t=E()),o=n.deepExtend({width:20,height:20,id:t,radius:10,fill:"#778899",data:"circle",undoable:!1,x:p.x,y:p.y},o),e.addShape(o)},_addConnection:function(e,t,n,r){return e.connect(t,n,r)},createDiagramFromGraph:function(e,t,r,o){if(h.isUndefined(e))throw"The diagram surface is undefined.";if(h.isUndefined(t))throw"No graph specification defined.";h.isUndefined(r)&&(r=!0),h.isUndefined(o)&&(o=!1);for(var l,c,f=e.element.clientWidth||200,m=e.element.clientHeight||200,map=[],i=0,v=t.nodes.length;i<v;i++){var p=(l=t.nodes[i]).position;h.isUndefined(p)&&(p=h.isDefined(l.x)&&h.isDefined(l.y)?new d(l.x,l.y):new d(h.randomInteger(10,f-20),h.randomInteger(10,m-20)));var _={};"0"===l.id||o&&n.deepExtend(_,{width:150*Math.random()+20,height:80*Math.random()+50,data:"rectangle",fill:{color:"#778899"}});var y=(c=this._addShape(e,p,l.id,_)).bounds();h.isDefined(y)&&(l.x=y.x,l.y=y.y,l.width=y.width,l.height=y.height),map[l.id]=c}for(var x=0;x<t.links.length;x++){var link=t.links[x],k=map[link.source.id];if(!h.isUndefined(k)){var C=map[link.target.id];h.isUndefined(C)||this._addConnection(e,k,C,{id:link.id})}}if(r){new e.SpringLayout(e).layoutGraph(t,{limitToView:!1});for(var S=0;S<t.nodes.length;S++)(c=map[(l=t.nodes[S]).id]).bounds(new w(l.x,l.y,l.width,l.height))}},createBalancedTree:function(e,t){h.isUndefined(e)&&(e=3),h.isUndefined(t)&&(t=3);var n,g=new r.Graph,o=-1,l=[];if(e<=0||t<=0)return g;var c=new P((++o).toString());g.addNode(c),g.root=c,l.push(c);for(var i=0;i<e;i++){n=[];for(var d=0;d<l.length;d++)for(var f=l[d],m=0;m<t;m++){var v=new P((++o).toString());g.addLink(f,v),n.push(v)}l=n}return g},createBalancedForest:function(e,t,n){h.isUndefined(e)&&(e=3),h.isUndefined(t)&&(t=3),h.isUndefined(n)&&(n=5);var o,g=new r.Graph,l=-1,c=[];if(e<=0||t<=0||n<=0)return g;for(var d=0;d<n;d++){var f=new P((++l).toString());g.addNode(f),c=[f];for(var i=0;i<e;i++){o=[];for(var m=0;m<c.length;m++)for(var v=c[m],_=0;_<t;_++){var w=new P((++l).toString());g.addLink(v,w),o.push(w)}c=o}}return g},createRandomConnectedGraph:function(e,t,n){h.isUndefined(e)&&(e=40),h.isUndefined(t)&&(t=4),h.isUndefined(n)&&(n=!1);var g=new r.Graph,o=-1;if(e<=0)return g;var l=new P((++o).toString());if(g.addNode(l),1===e)return g;if(e>1){for(var i=1;i<e;i++){var c=g.takeRandomNode([],t);if(!c)break;var d=g.addNode(i.toString());g.addLink(c,d)}if(!n&&e>1)for(var f=h.randomInteger(1,e),m=0;m<f;m++){var v=g.takeRandomNode([],t),_=g.takeRandomNode([],t);v&&_&&!g.areConnected(v,_)&&g.addLink(v,_)}return g}},randomDiagram:function(e,t,r,o,l){var g=n.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(t,r,o);B.Utils.createDiagramFromGraph(e,g,!1,l)}},n.deepExtend(r,{init:function(element){n.init(element,r.ui)},Point:d,Intersect:k,Geometry:A,Rect:w,Size:y,RectAlign:C,Matrix:T,MatrixVector:D,normalVariable:function(e,t){var n,r,o;do{o=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!o||o>1);return e+t*n*Math.sqrt(-2*Math.log(o)/o)},randomId:E,Dictionary:M,HashTable:I,Queue:R,Set:F,Node:P,Link:z,Graph:B,PathDefiner:_})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},879:function(e,t){e.exports=n(223)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(881)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},859:function(e,t){e.exports=n(7)},877:function(e,t){e.exports=n(147)},881:function(e,t,n){var r,o,l;n(3),o=[n(859),n(877)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.dataviz.diagram,o=n.Class,l=n.deepExtend,c=r.Point,h=r.Rect,d=r.Matrix,f=r.Utils,m=f.isNumber,v=f.isString,_=r.MatrixVector,g=n.geometry,w=n.drawing,y=w.util.defined,x=e.inArray,k="transparent",C={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"};function S(e,t){for(var n,r,o=this.options,l=!1,i=0;i<t.length;i++)n=e[r=t[i]],m(n)&&o[r]!==n&&(o[r]=n,l=!0);return l}r.Markers=C;var T=o.extend({init:function(e,t){this.x=e,this.y=t},toMatrix:function(){return d.scaling(this.x,this.y)},toString:function(){return n.format("scale({0},{1})",this.x,this.y)},invert:function(){return new T(1/this.x,1/this.y)}}),D=o.extend({init:function(e,t){this.x=e,this.y=t},toMatrixVector:function(){return new _(0,0,0,0,this.x,this.y)},toMatrix:function(){return d.translation(this.x,this.y)},toString:function(){return n.format("translate({0},{1})",this.x,this.y)},plus:function(e){this.x+=e.x,this.y+=e.y},times:function(e){this.x*=e,this.y*=e},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){0!==this.Length&&this.times(1/this.length())},invert:function(){return new D(-this.x,-this.y)}}),E=o.extend({init:function(e,t,n){this.x=t||0,this.y=n||0,this.angle=e},toString:function(){return this.x&&this.y?n.format("rotate({0},{1},{2})",this.angle,this.x,this.y):n.format("rotate({0})",this.angle)},toMatrix:function(){return d.rotation(this.angle,this.x,this.y)},center:function(){return new c(this.x,this.y)},invert:function(){return new E(360-this.angle,this.x,this.y)}});E.ZERO=new E(0),E.create=function(e){return new E(e.angle,e.x,e.y)},E.parse=function(e){var t=e.slice(1,e.length-1).split(","),n=t[0],r=t[1],o=t[2];return new E(n,r,o)};var A=o.extend({init:function(e,t,n,r,o,l){this.translate=new D(e,t),void 0!==n&&void 0!==r&&(this.scale=new T(n,r)),void 0!==o&&(this.rotate=l?new E(o,l.x,l.y):new E(o))},toString:function(){var e=function(e){return e?e.toString():""};return e(this.translate)+e(this.rotate)+e(this.scale)},render:function(e){e._transform=this,e._renderTransform()},toMatrix:function(){var e=d.unit();return this.translate&&(e=e.times(this.translate.toMatrix())),this.rotate&&(e=e.times(this.rotate.toMatrix())),this.scale&&(e=e.times(this.scale.toMatrix())),e},invert:function(){var e=this.rotate?this.rotate.invert():void 0,t=e?e.toMatrix():d.unit(),n=this.scale?this.scale.invert():void 0,r=n?n.toMatrix():d.unit(),o=new c(-this.translate.x,-this.translate.y);o=t.times(r).apply(o);var l=new D(o.x,o.y),h=new A;return h.translate=l,h.rotate=e,h.scale=n,h}}),I={_setScale:function(){var e=this.options,t=this._originWidth,n=this._originHeight,r=e.width/t,o=e.height/n;m(r)||(r=1),m(o)||(o=1),this._transform.scale=new T(r,o)},_setTranslate:function(){var e=this.options,t=e.x||0,n=e.y||0;this._transform.translate=new D(t,n)},_initSize:function(){var e=this.options,t=!1;!1!==e.autoSize&&(y(e.width)||y(e.height))&&(this._measure(!0),this._setScale(),t=!0),(y(e.x)||y(e.y))&&(this._setTranslate(),t=!0),t&&this._renderTransform()},_updateSize:function(e){var t=!1;return!1!==this.options.autoSize&&this._diffNumericOptions(e,["width","height"])&&(t=!0,this._measure(!0),this._setScale()),this._diffNumericOptions(e,["x","y"])&&(t=!0,this._setTranslate()),t&&this._renderTransform(),t}},M=o.extend({init:function(e){this.options=l({},this.options,e),this.id=this.options.id,this._originSize=h.empty(),this._transform=new A},visible:function(e){return this.drawingContainer().visible(e)},redraw:function(e){e&&e.id&&(this.id=e.id)},position:function(e,t){var n=this.options;if(!y(e))return new c(n.x,n.y);y(t)?(n.x=e,n.y=t):e instanceof c&&(n.x=e.x,n.y=e.y),this._transform.translate=new D(n.x,n.y),this._renderTransform()},rotate:function(e,t){return y(e)&&(this._transform.rotate=new E(e,t.x,t.y),this._renderTransform()),this._transform.rotate||E.ZERO},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var e=this._transform.toMatrix();this.drawingContainer().transform(new g.Matrix(e.a,e.b,e.c,e.d,e.e,e.f))},_hover:function(){},_diffNumericOptions:S,_measure:function(e){var rect;if(!this._measured||e){var t=this._boundingBox()||new g.Rect,n=t.topLeft();rect=new h(n.x,n.y,t.width(),t.height()),this._originSize=rect,this._originWidth=rect.width,this._originHeight=rect.height,this._measured=!0}else rect=this._originSize;return rect},_boundingBox:function(){return this.drawingElement.rawBBox()}}),R=M.extend({init:function(e){M.fn.init.call(this,e),(e=this.options).fill=K(e.fill),e.stroke=K(e.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:k}},fill:function(e,t){this._fill({color:Q(e),opacity:t})},stroke:function(e,t,n){this._stroke({color:Q(e),width:t,opacity:n})},redraw:function(e){if(e){var t=e.stroke,n=e.fill;t&&this._stroke(K(t)),n&&this._fill(K(n)),M.fn.redraw.call(this,e)}},_hover:function(e){var t=this.drawingElement,n=this.options,r=n.hover;if(r&&r.fill){var o=e?K(r.fill):n.fill;t.fill(o.color,o.opacity)}},_stroke:function(e){var t=this.options;l(t,{stroke:e});var n=null;(e=t.stroke).width>0&&(n={color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}),this.drawingElement.options.set("stroke",n)},_fill:function(e){var t=this.options;l(t,{fill:e||{}});var n=t.fill;if(n.gradient){var r=n.gradient,o="radial"===r.type?w.RadialGradient:w.LinearGradient;this.drawingElement.fill(new o(r))}else this.drawingElement.fill(n.color,n.opacity)}}),F=R.extend({init:function(e){e=this._textColor(e),R.fn.init.call(this,e),this._font(),this._initText(),this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:!0},_initText:function(){var e=this.options;this.drawingElement=new w.Text(y(e.text)?e.text:"",new g.Point,{font:e.font}),this._fill(),this._stroke()},_textColor:function(e){return e&&e.color&&(e=l({},e,{fill:{color:e.color}})),e},_font:function(){var e=this.options;if(e.fontFamily&&y(e.fontSize)){var t=[];e.fontStyle&&t.push(e.fontStyle),e.fontWeight&&t.push(e.fontWeight),t.push(e.fontSize+(m(e.fontSize)?"px":"")),t.push(e.fontFamily),e.font=t.join(" ")}else delete e.font},content:function(text){return this.drawingElement.content(text)},redraw:function(e){if(e){var t=!1,n=this.options;e=this._textColor(e),R.fn.redraw.call(this,e),(e.fontFamily||y(e.fontSize)||e.fontStyle||e.fontWeight)&&(l(n,{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight}),this._font(),this.drawingElement.options.set("font",n.font),t=!0),e.text&&(this.content(e.text),t=!0),!this._updateSize(e)&&t&&this._initSize()}}});l(F.fn,I);var P=R.extend({init:function(e){R.fn.init.call(this,e),this._initPath(),this._setPosition()},_setPosition:function(){var e=this.options,t=e.x,n=e.y;(y(t)||y(n))&&this.position(t||0,n||0)},redraw:function(e){e&&(R.fn.redraw.call(this,e),this._diffNumericOptions(e,["width","height"])&&this._drawPath(),this._diffNumericOptions(e,["x","y"])&&this._setPosition())},_initPath:function(){var e=this.options;this.drawingElement=new w.Path({stroke:e.stroke,closed:!0}),this._fill(),this._drawPath()},_drawPath:function(){var e=this.drawingElement,t=Y(this.options),n=t.width,r=t.height;e.segments.elements([X(0,0),X(n,0),X(n,r),X(0,r)])}}),z=R.extend({init:function(e){R.fn.init.call(this,e);var t=this.options.anchor;this.anchor=new g.Point(t.x,t.y),this.createElement()},options:{stroke:{color:k,width:0},fill:{color:"black"}},_transformToPath:function(e,path){var t=path.transform();return e&&t&&(e=e.transformCopy(t)),e},redraw:function(e){e&&(e.position&&(this.options.position=e.position),R.fn.redraw.call(this,e))}}),B=z.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var e=this.options;this.drawingElement=new w.Circle(new g.Circle(this.anchor,e.radius),{fill:e.fill,stroke:e.stroke})},positionMarker:function(path){var e,t,n=this.options.position,r=path.segments;(e="start"==n?r[0]:r[r.length-1])&&(t=this._transformToPath(e.anchor(),path),this.drawingElement.transform(g.transform().translate(t.x,t.y)))}}),L=z.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var e=this.options;this.drawingElement=w.Path.parse(e.path,{fill:e.fill,stroke:e.stroke})},positionMarker:function(path){var e,t,n,r,o=this._linePoints(path),l=o.start,c=o.end,h=g.transform();if(l&&h.rotate((e=l,n=(t=c).x-e.x,r=t.y-e.y,w.util.deg(Math.atan2(r,n))),c),c){var d=this.anchor,f=c.clone().translate(-d.x,-d.y);h.translate(f.x,f.y)}this.drawingElement.transform(h)},_linePoints:function(path){var e,t,n,r=this.options,o=path.segments;if("start"==r.position){if(n=o[0]){t=n.anchor(),e=n.controlOut();var l=o[1];!e&&l&&(e=l.anchor())}}else if(n=o[o.length-1]){t=n.anchor(),e=n.controlIn();var c=o[o.length-2];!e&&c&&(e=c.anchor())}if(t)return{start:this._transformToPath(e,path),end:this._transformToPath(t,path)}}}),H={_getPath:function(e){var path=this.drawingElement;if(path instanceof w.MultiPath&&(path="start"==e?path.paths[0]:path.paths[path.paths.length-1]),path&&path.segments.length)return path},_normalizeMarkerOptions:function(e){var t=e.startCap,n=e.endCap;v(t)&&(e.startCap={type:t}),v(n)&&(e.endCap={type:n})},_removeMarker:function(e){var marker=this._markers[e];marker&&(this.drawingContainer().remove(marker.drawingElement),delete this._markers[e])},_createMarkers:function(){var e=this.options;this._normalizeMarkerOptions(e),this._markers={},this._markers.start=this._createMarker(e.startCap,"start"),this._markers.end=this._createMarker(e.endCap,"end")},_createMarker:function(e,t){var n,marker,r=(e||{}).type,path=this._getPath(t);if(path)return r==C.filledCircle?n=B:r==C.arrowStart||r==C.arrowEnd?n=L:this._removeMarker(t),n?((marker=new n(l({},e,{position:t}))).positionMarker(path),this.drawingContainer().append(marker.drawingElement),marker):void 0;this._removeMarker(t)},_positionMarker:function(e){var marker=this._markers[e];if(marker){var path=this._getPath(e);path?marker.positionMarker(path):this._removeMarker(e)}},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(e,t,n){this._normalizeMarkerOptions(n);var r=this.options,o=this._capMap[t],c=(r[o]||{}).type,h=n[o],d=!1;return h?(r[o]=l({},r[o],h),h.type&&c!=h.type?(this._removeMarker(t),this._markers[t]=this._createMarker(r[o],t),d=!0):this._markers[t]&&this._markers[t].redraw(h)):e&&!this._markers[t]&&r[o]&&(this._markers[t]=this._createMarker(r[o],t),d=!0),d},_redrawMarkers:function(e,t){!this._redrawMarker(e,"start",t)&&e&&this._positionMarker("start"),!this._redrawMarker(e,"end",t)&&e&&this._positionMarker("end")}},N=R.extend({init:function(e){R.fn.init.call(this,e),this.container=new w.Group,this._createElements(),this._initSize()},options:{autoSize:!0},drawingContainer:function(){return this.container},data:function(e){var t=this.options;if(!e)return t.data;t.data!=e&&(t.data=e,this._setData(e),this._initSize(),this._redrawMarkers(!0,{}))},redraw:function(e){if(e){R.fn.redraw.call(this,e);var t=this.options,data=e.data;y(data)&&t.data!=data?(t.data=data,this._setData(data),this._updateSize(e)||this._initSize(),this._redrawMarkers(!0,e)):(this._updateSize(e),this._redrawMarkers(!1,e))}},_createElements:function(){var e=this.options;this.drawingElement=w.Path.parse(e.data||"",{stroke:e.stroke}),this._fill(),this.container.append(this.drawingElement),this._createMarkers()},_setData:function(data){var e=this.drawingElement,t=w.Path.parse(data||""),n=t.paths.slice(0);t.paths.elements([]),e.paths.elements(n)}});l(N.fn,I),l(N.fn,H);var O=R.extend({init:function(e){R.fn.init.call(this,e),this.container=new w.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(e){if(e){var t=(e=e||{}).from,n=e.to;t&&(this.options.from=t),n&&(this.options.to=n),t||n?(this._drawPath(),this._redrawMarkers(!0,e)):this._redrawMarkers(!1,e),R.fn.redraw.call(this,e)}},_initPath:function(){var e=this.options,t=this.drawingElement=new w.Path({stroke:e.stroke});this._fill(),this._drawPath(),this.container.append(t)},_drawPath:function(){var e=this.options,t=this.drawingElement,n=e.from||new c,r=e.to||new c;t.segments.elements([X(n.x,n.y),X(r.x,r.y)])}});l(O.fn,H);var V=R.extend({init:function(e){R.fn.init.call(this,e),this.container=new w.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},points:function(e){var t=this.options;if(!e)return t.points;t.points=e,this._updatePath()},redraw:function(e){if(e){var t=e.points;R.fn.redraw.call(this,e),t&&this._pointsDiffer(t)?(this.points(t),this._redrawMarkers(!0,e)):this._redrawMarkers(!1,e)}},_initPath:function(){var e=this.options;this.drawingElement=new w.Path({stroke:e.stroke}),this._fill(),this.container.append(this.drawingElement),e.points&&this._updatePath()},_pointsDiffer:function(e){var t=this.options.points,n=t.length!==e.length;if(!n)for(var i=0;i<e.length;i++)if(t[i].x!==e[i].x||t[i].y!==e[i].y){n=!0;break}return n},_updatePath:function(){for(var e,t=this.drawingElement,n=this.options.points,r=[],i=0;i<n.length;i++)e=n[i],r.push(X(e.x,e.y));t.segments.elements(r)},options:{points:[]}});l(V.fn,H);var W=M.extend({init:function(e){M.fn.init.call(this,e),this._initImage()},redraw:function(e){e&&(e.source&&this.drawingElement.src(e.source),this._diffNumericOptions(e,["width","height","x","y"])&&this.drawingElement.rect(this._rect()),M.fn.redraw.call(this,e))},_initImage:function(){var e=this.options,rect=this._rect();this.drawingElement=new w.Image(e.source,rect,{})},_rect:function(){var e=Y(this.options),t=new g.Point(e.x,e.y),n=new g.Size(e.width,e.height);return new g.Rect(t,n)}}),U=M.extend({init:function(e){this.children=[],M.fn.init.call(this,e),this.drawingElement=new w.Group,this._initSize()},options:{autoSize:!1},append:function(e){this.drawingElement.append(e.drawingContainer()),this.children.push(e),this._childrenChange=!0},remove:function(e){this._remove(e)&&(this._childrenChange=!0)},_remove:function(e){var t=x(e,this.children);if(t>=0)return this.drawingElement.removeAt(t),this.children.splice(t,1),!0},clear:function(){this.drawingElement.clear(),this.children=[],this._childrenChange=!0},toFront:function(e){for(var t,i=0;i<e.length;i++)t=e[i],this._remove(t)&&this.append(t)},toBack:function(e){this._reorderChildren(e,0)},toIndex:function(e,t){this._reorderChildren(e,t)},_reorderChildren:function(e,t){var i,n,r,o,l,c=this.drawingElement,h=c.children.slice(0),d=this.children,f=m(t);for(i=0;i<e.length;i++)o=(l=e[i]).drawingContainer(),(n=x(l,d))>=0&&(h.splice(n,1),d.splice(n,1),r=f?t:t[i],h.splice(r,0,o),d.splice(r,0,l));c.clear(),c.append.apply(c,h)},redraw:function(e){e&&(this._childrenChange?(this._childrenChange=!1,this._updateSize(e)||this._initSize()):this._updateSize(e),M.fn.redraw.call(this,e))},_boundingBox:function(){for(var e,t,n,r=this.children,i=0;i<r.length;i++)(t=r[i]).visible()&&!1!==t._includeInBBox&&(n=t.drawingContainer().clippedBBox(null))&&(e=e?g.Rect.union(e,n):n);return e}});l(U.fn,I);var j=U.extend({init:function(rect,e){this.children=[],M.fn.init.call(this,e),this.drawingElement=new w.Layout(J(rect),e),this._initSize()},rect:function(rect){if(rect)this.drawingElement.rect(J(rect));else{var e=this.drawingElement.rect();if(e)return new h(e.origin.x,e.origin.y,e.size.width,e.size.height)}},reflow:function(){this.drawingElement.reflow()},redraw:function(e){n.deepExtend(this.drawingElement.options,e),U.fn.redraw.call(this,e)}}),G=R.extend({init:function(e){R.fn.init.call(this,e),this._initCircle(),this._initSize()},redraw:function(e){if(e){var t=this.options;e.center&&(l(t,{center:e.center}),this._center.move(t.center.x,t.center.y)),this._diffNumericOptions(e,["radius"])&&this._circle.setRadius(t.radius),this._updateSize(e),R.fn.redraw.call(this,e)}},_initCircle:function(){var e=this.options,t=e.width,n=e.height,r=e.radius;y(r)||(y(t)||(t=n),y(n)||(n=t),e.radius=r=Math.min(t,n)/2);var o=e.center||{x:r,y:r};this._center=new g.Point(o.x,o.y),this._circle=new g.Circle(this._center,r),this.drawingElement=new w.Circle(this._circle,{stroke:e.stroke}),this._fill()}});l(G.fn,I);var $=o.extend({init:function(element,e){e=e||{},this.element=element,this.surface=w.Surface.create(element,e),n.isFunction(this.surface.translate)&&(this.translate=this._translate),this.drawingElement=new w.Group,this._viewBox=new h(0,0,e.width,e.height),this.size(this._viewBox)},bounds:function(){var e=this.drawingElement.clippedBBox();return new h(0,0,e.width(),e.height())},size:function(e){var t=this._viewBox;return y(e)&&(t.width=e.width,t.height=e.height,this.surface.setSize(e)),{width:t.width,height:t.height}},_translate:function(e,t){var n=this._viewBox;return y(e)&&y(t)&&(n.x=e,n.y=t,this.surface.translate({x:e,y:t})),{x:n.x,y:n.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(e){return this.drawingElement.append(e.drawingContainer()),this},remove:function(e){this.drawingElement.remove(e.drawingContainer())},insertBefore:function(){},clear:function(){this.drawingElement.clear()},destroy:function(t){this.surface.destroy(),t&&e(this.element).remove()}});function Y(e){return{x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0}}function K(e){if(e){var t=e;return v(t)&&(t={color:t}),t.color&&(t.color=Q(t.color)),t}}function Q(e){return e!=k?new w.Color(e).toHex():e}function X(e,t){return new w.Segment(new g.Point(e,t))}function J(rect){if(rect)return new g.Rect([rect.x,rect.y],[rect.width,rect.height])}n.deepExtend(r,{init:function(element){n.init(element,r.ui)},diffNumericOptions:S,Element:M,Scale:T,Translation:D,Rotation:E,Circle:G,Group:U,Rectangle:P,Canvas:$,Path:N,Layout:j,Line:O,MarkerBase:z,ArrowMarker:L,CircleMarker:B,Polyline:V,CompositeTransform:A,TextBlock:F,Image:W,VisualBase:R})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1258)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1039:function(e,t){e.exports=n(4)},1258:function(e,t,n){var r,o,l;n(3),o=[n(1039)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=n.ui.Popup,l=r.Widget,c=l.extend({init:function(element,t){var r=this,c=n.mobile.application,h=n.support.mobileOS,d=c?c.os.name:h?h.name:"ios",f="ios"===d||"wp"===d||!!c&&c.os.skin,m="blackberry"===d,v=t.align||(f?"bottom center":m?"center right":"center center"),_=t.position||(f?"bottom center":m?"center right":"center center"),w=t.effect||(f?"slideIn:up":m?"slideIn:left":"fade:in"),y=e('<div class="km-shim"/>').handler(r).hide();l.fn.init.call(r,element,t),r.shim=y,element=r.element,(t=r.options).className&&r.shim.addClass(t.className),t.modal||r.shim.on("down","_hide"),(c?c.element:e(document.body)).append(y),r.popup=new o(r.element,{anchor:y,modal:!0,appendTo:y,origin:v,position:_,animation:{open:{effects:w,duration:t.duration},close:{duration:t.duration}},close:function(e){var t=!1;r._apiCall||(t=r.trigger("hide")),t&&e.preventDefault(),r._apiCall=!1},deactivate:function(){y.hide()},open:function(){y.show()}}),n.notify(r)},events:["hide"],options:{name:"Shim",modal:!1,align:void 0,position:void 0,effect:void 0,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){l.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()},_hide:function(t){t&&e.contains(this.shim.children().children(".k-popup")[0],t.target)||this.popup.close()}});r.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(439)),o=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"kendo-toolbar-item",render:function(){return o.default.prototype._e},mixins:[r.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(443)),o=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c={name:"kendo-scheduler-resource",render:function(){return o.default.prototype._e},mixins:[r.default]};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(444)),o=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c={name:"kendo-scheduler-view",render:function(){return o.default.prototype._e},mixins:[r.default]};t.default=c},,function(e,t,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,l=r(),c=l.default;void 0===c&&(c=[]);var h=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(999)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},999:function(e,t,n){var r,o,l;n(3),o=[n(1e3),n(1001),n(1002),n(1003),n(1004)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1e3:function(e,t){e.exports=n(291)},1001:function(e,t){e.exports=n(391)},1002:function(e,t){e.exports=n(416)},1003:function(e,t){e.exports=n(7)},1004:function(e,t){e.exports=n(25)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(929),e.exports=n(929)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},929:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return function(e){kendo.drawing.util=kendo.drawing.util||{},kendo.deepExtend(kendo.drawing.util,{createPromise:function(){return e.Deferred()},promiseAll:function(t){return e.when.apply(e,t)}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(927),e.exports=n(927)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},920:function(e,t){e.exports=n(86)},927:function(e,t,n){var r,o,l;n(3),o=[n(928),n(920)],void 0===(l="function"==typeof(r=function(){!function(e){var t=".kendo",n=window.kendo,r=n.deepExtend,o=n.drawing.util,l=o.defined,c=o.limitValue,h=o.eventCoordinates,d=n._outerWidth,f=n._outerHeight,m=e.proxy,v=n.Class.extend({init:function(t,n){this.element=e('<div class="k-tooltip"><div class="k-tooltip-content"></div></div>'),this.content=this.element.children(".k-tooltip-content"),n=n||{},this.options=r({},this.options,this._tooltipOptions(n)),this.popupOptions={appendTo:n.appendTo,animation:n.animation,copyAnchorStyles:!1,collision:"fit fit"},this._openPopupHandler=e.proxy(this._openPopup,this),this.surface=t,this._bindEvents()},options:{position:"top",showOn:"mouseenter",offset:7,autoHide:!0,hideDelay:0,showAfter:100},_bindEvents:function(){this._showHandler=m(this._showEvent,this),this._surfaceLeaveHandler=m(this._surfaceLeave,this),this._mouseleaveHandler=m(this._mouseleave,this),this._mousemoveHandler=m(this._mousemove,this),this.surface.bind("click",this._showHandler),this.surface.bind("mouseenter",this._showHandler),this.surface.bind("mouseleave",this._mouseleaveHandler),this.surface.bind("mousemove",this._mousemoveHandler),this.surface.element.on("mouseleave"+t,this._surfaceLeaveHandler),this.element.on("click"+t,".k-tooltip-button",m(this._hideClick,this)),this.element.on("mouseleave"+t,m(this._tooltipLeave,this))},getPopup:function(){return this.popup||(this.popup=new n.ui.Popup(this.element,this.popupOptions)),this.popup},destroy:function(){var e=this.popup;this.surface.unbind("click",this._showHandler),this.surface.unbind("mouseenter",this._showHandler),this.surface.unbind("mouseleave",this._mouseleaveHandler),this.surface.unbind("mousemove",this._mousemoveHandler),this.surface.element.off("mouseleave"+t,this._surfaceLeaveHandler),this.element.off("click"+t),this.element.off("mouseleave"+t),e&&(e.destroy(),delete this.popup),delete this.popupOptions,clearTimeout(this._timeout),delete this.element,delete this.content,delete this.surface},_tooltipOptions:function(e){return{position:(e=e||{}).position,showOn:e.showOn,offset:e.offset,autoHide:e.autoHide,width:e.width,height:e.height,content:e.content,shared:e.shared,hideDelay:e.hideDelay,showAfter:e.showAfter}},_tooltipShape:function(e){for(;e&&!e.options.tooltip;)e=e.parent;return e},_updateContent:function(e,t,r){var content=r.content;if(n.isFunction(content)&&(content=content({element:t,target:e})),content)return this.content.html(content),!0},_position:function(e,t,n,r){var o=t.position,l=t.offset||0,d=this.surface,f=d._instance._elementOffset(),m=d.getSize(),v=d._instance._offset,_=e.bbox(),w=n.width,y=n.height,x=0,k=0;if(_.origin.translate(f.left,f.top),v&&_.origin.translate(-v.x,-v.y),"cursor"==o&&r){var C=h(r);x=C.x-w/2,k=C.y-y-l}else"left"==o?(x=_.origin.x-w-l,k=_.center().y-y/2):"right"==o?(x=_.bottomRight().x+l,k=_.center().y-y/2):"bottom"==o?(x=_.center().x-w/2,k=_.bottomRight().y+l):(x=_.center().x-w/2,k=_.origin.y-y-l);return{left:c(x,f.left,f.left+m.width),top:c(k,f.top,f.top+m.height)}},show:function(e,t){this._show(e,e,r({},this.options,this._tooltipOptions(e.options.tooltip),t))},hide:function(){var e=this.popup,t=this._current;delete this._current,clearTimeout(this._showTimeout),e&&e.visible()&&t&&!this.surface.trigger("tooltipClose",{element:t.shape,target:t.target,popup:e})&&e.close()},_hideClick:function(e){e.preventDefault(),this.hide()},_show:function(e,t,n,r,o){var l=this._current;if(clearTimeout(this._timeout),!l||!(l.shape===t&&n.shared||l.target===e)){clearTimeout(this._showTimeout);var c=this.getPopup();if(!this.surface.trigger("tooltipOpen",{element:t,target:e,popup:c})&&this._updateContent(e,t,n)){this._autoHide(n);var h=this._measure(n);c.visible()&&c.close(!0),this._current={options:n,elementSize:h,shape:t,target:e,position:this._position(n.shared?t:e,n,h,r)},o?this._showTimeout=setTimeout(this._openPopupHandler,n.showAfter||0):this._openPopup()}}},_openPopup:function(){var e=this._current.position;this.getPopup().open(e.left,e.top)},_autoHide:function(t){t.autoHide&&this._closeButton&&(this.element.removeClass("k-tooltip-closable"),this._closeButton.remove(),delete this._closeButton),t.autoHide||this._closeButton||(this.element.addClass("k-tooltip-closable"),this._closeButton=e('<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>').prependTo(this.element))},_showEvent:function(e){var t=this._tooltipShape(e.element);if(t){var n=r({},this.options,this._tooltipOptions(t.options.tooltip));n&&n.showOn==e.type&&this._show(e.element,t,n,e.originalEvent,!0)}},_measure:function(e){var t,n,r=this.getPopup();this.element.css({width:"auto",height:"auto"});var o=r.visible();return o||r.wrapper.show(),this.element.css({width:l(e.width)?e.width:"auto",height:l(e.height)?e.height:"auto"}),t=d(this.element),n=f(this.element),o||r.wrapper.hide(),{width:t,height:n}},_mouseleave:function(e){if(this.popup&&!this._popupRelatedTarget(e.originalEvent)){var t=this,n=t._current;n&&n.options.autoHide&&(t._timeout=setTimeout((function(){clearTimeout(t._showTimeout),t.hide()}),n.options.hideDelay||0))}},_mousemove:function(e){var t=this._current;if(t&&e.element){var n=t.options;if("cursor"==n.position){var r=this._position(e.element,n,t.elementSize,e.originalEvent);t.position=r,this.getPopup().wrapper.css({left:r.left,top:r.top})}}},_surfaceLeave:function(e){this.popup&&!this._popupRelatedTarget(e)&&(clearTimeout(this._showTimeout),this.hide())},_popupRelatedTarget:function(t){return t.relatedTarget&&e(t.relatedTarget).closest(this.popup.wrapper).length},_tooltipLeave:function(){var e=this,t=e._current;t&&t.options.autoHide&&(e._timeout=setTimeout((function(){e.hide()}),t.options.hideDelay||0))}});n.drawing.SurfaceTooltip=v}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},928:function(e,t){e.exports=n(4)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1264)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1024:function(e,t){e.exports=n(49)},1025:function(e,t){e.exports=n(19)},1026:function(e,t){e.exports=n(64)},1264:function(e,t,n){var r,o,l;n(3),o=[n(1024),n(1025),n(1026)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.List,l=e.extend({A:65},n.keys),c=n._activeElement,h=n.data.ObservableArray,d=e.proxy,f="id",m=".kendoMultiSelect",v="click"+m,_=/"/g,w=e.isArray,y=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],x=o.extend({init:function(element,t){var r;this.ns=m,o.fn.init.call(this,element,t),this._optionsMap={},this._customOptions={},this._wrapper(),this._tagList(),this._input(),this._textContainer(),this._loader(),this._clearButton(),this._tabindex(this.input),element=this.element.attr("multiple","multiple").hide(),(t=this.options).placeholder||(t.placeholder=element.data("placeholder")),(r=element.attr(f))&&(this._tagID=r+"_tag_active",r+="_taglist",this.tagList.attr(f,r),this.input.attr("aria-describedby",r)),this._initialOpen=!0,this._ariaLabel(),this._ariaSetLive(),this._dataSource(),this._ignoreCase(),this._popup(),this._tagTemplate(),this.requireValueMapper(this.options),this._initList(),this._reset(),this._enable(),this._placeholder(),t.autoBind?this.dataSource.fetch():t.value&&this._preselect(t.value),e(this.element).parents("fieldset").is(":disabled")&&this.enable(!1),this._ariaSetSize(this.value().length),n.notify(this),this._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found."},enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,autoWidth:!1,popup:null},events:["open","close","change","select","deselect","filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);o.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(this.tagList.attr(f)),this._tagTemplate(),this._placeholder(),this._clearButton()},currentTag:function(e){if(void 0===e)return this._currentTag;this._currentTag&&(this._currentTag.removeClass("k-state-focused").removeAttr(f),this._currentTag.find(".k-select").attr("aria-hidden",!0),this.input.removeAttr("aria-activedescendant")),e&&(e.addClass("k-state-focused").attr(f,this._tagID),e.find(".k-select").removeAttr("aria-hidden"),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=e},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this.ns;clearTimeout(this._busy),clearTimeout(this._typingTimeout),this.wrapper.off(e),this.tagList.off(e),this.input.off(e),this._clear.off(e),o.fn.destroy.call(this)},_activateItem:function(){this.popup.visible()&&o.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(t){var r=o.fn._listOptions.call(this,e.extend(t,{selectedItemChange:d(this._selectedItemChange,this),selectable:"multiple"})),l=this.options.itemTemplate||this.options.template,template=r.itemTemplate||l||r.template;return template||(template="#:"+n.expr(r.dataTextField,"data")+"#"),r.template=template,r},_setListValue:function(){o.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var data=this.dataSource.flatView(),t=this._optionsMap,n=this._value;"rebind"===this._state&&(this._state="");for(var i=0;i<e.added.length;i++)if(void 0===t[n(e.added[i].dataItem)]){this._render(data);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t,n,r=e.items;for(n=0;n<r.length;n++)t=r[n],this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item))},_wrapperMousedown:function(t){var r="input"!==t.target.nodeName.toLowerCase(),o=e(t.target),l=o.hasClass("k-select")||o.hasClass("k-icon");l&&(l=!o.closest(".k-select").children(".k-i-arrow-60-down").length),!r||l&&n.support.mobileOS||!t.cancelable||t.preventDefault(),l||(this.input[0]!==c()&&r&&this.input.focus(),1===this.options.minLength&&this.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass("k-state-focused")},_inputFocusout:function(){clearTimeout(this._typingTimeout),this.wrapper.removeClass("k-state-focused"),this._placeholder(!this.listView.selectedDataItems()[0],!0),this.close(),"filter"===this._state&&(this._state="accept",this.listView.skipUpdate(!0)),this.listView.bound()&&this.listView.isFiltered()&&(this.persistTagList=!0,this._clearFilter()),this.element.blur()},_removeTag:function(e,t){var option,n=this,r=n._state,o=e.index(),l=n.listView,c=l.value()[o],h=n.listView.selectedDataItems()[o],d=n._customOptions[c],f=l.element[0].children;if(n.trigger("deselect",{dataItem:h,item:e}))n._close();else{void 0!==d||"accept"!==r&&"filter"!==r||(d=n._optionsMap[c]);var m=function(){n.currentTag(null),t&&n._change(),n._close()};void 0===d&&l.select().length?(n.persistTagList=!1,l.select(l.select()[o]).done(m)):((option=n.element[0].children[d])&&(option.selected=!1),l.removeAt(o),f[d]&&f[d].classList.remove("k-state-selected"),"single"!==n.options.tagMode?e.remove():n._updateTagListHTML(),m())}},_tagListClick:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget);n.children(".k-i-arrow-60-down").length||this._removeTag(n.closest("li"),!0)},_clearValue:function(){var t=this;"single"===t.options.tagMode?t._clearSingleTagValue():t.tagList.children().each((function(n,r){t._removeTag(e(r),!1)})),t.input.val(""),t._search(),t._change(),t.focus(),t._hideClear(),"filter"===t._state&&(t._state="accept")},_clearSingleTagValue:function(){var e=this.persistTagList;e&&(this.persistTagList=!1),this.listView.value([]),this.persistTagList=e},_focusHandler:function(){this.input.focus()},_editable:function(t){var n=t.disable,r=t.readonly,o=this.wrapper.off(m),l=this.tagList.off(m),input=this.element.add(this.input.off(m));r||n?(o.toggleClass("k-state-disabled",n).toggleClass("k-no-click",r),input.attr("disabled",n).attr("readonly",r).attr("aria-disabled",n)):(o.removeClass("k-state-disabled").removeClass("k-no-click").on("mouseenter.kendoMultiSelect mouseleave.kendoMultiSelect",this._toggleHover).on("mousedown"+m+" touchend"+m,d(this._wrapperMousedown,this)).on(v,d(this._focusHandler,this)),this.input.on("keydown.kendoMultiSelect",d(this._keydown,this)).on("paste"+m,d(this._search,this)).on("input"+m,d(this._search,this)).on("focus"+m,d(this._inputFocus,this)).on("focusout"+m,d(this._inputFocusout,this)),this._clear.on(v+" touchend"+m,d(this._clearValue,this)),input.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1),l.on("mouseenter.kendoMultiSelect","li",(function(){e(this).addClass("k-state-hover")})).on("mouseleave.kendoMultiSelect","li",(function(){e(this).removeClass("k-state-hover")})).on(v+" touchend"+m,"li.k-button .k-select",d(this._tagListClick,this)))},_close:function(){this.options.autoClose?this.close():this.popup.position()},_filterSource:function(filter,e){e||(e=this._retrieveData),this._retrieveData=!1,o.fn._filterSource.call(this,filter,e)},close:function(){this._activeItem=null,this.input.removeAttr("aria-activedescendant"),this.popup.close()},open:function(){this._request&&(this._retrieveData=!1),this._retrieveData||!this.listView.bound()||"accept"===this._state?(this._open=!0,this._state="rebind",this.listView.skipUpdate(!0),this.persistTagList=!(this._initialOpen&&!this.listView.bound()),this._filterSource(),this._focusItem()):this._allowOpening()&&(!this._initialOpen||this.options.autoBind||this.options.virtual||!this.options.value||e.isPlainObject(this.options.value[0])||this.value(this.value()||this._initialValues),this.popup._hovered=!0,this._initialOpen=!1,this.popup.open(),this._focusItem())},toggle:function(e){this[(e=void 0!==e?e:!this.popup.visible())?"open":"close"]()},refresh:function(){this.listView.refresh()},_listBound:function(){var data=this.dataSource.flatView(),e=this.listView.skip();this._render(data),this._renderFooter(),this._renderNoData(),this._toggleNoData(!data.length),this._resizePopup(),this._open&&(this._open=!1,this.toggle(this._allowOpening())),this.popup.position(),!this.options.highlightFirst||void 0!==e&&0!==e||this.listView.focusFirst(),this._touchScroller&&this._touchScroller.reset(),this._hideBusy(),this._makeUnselectable(),this.trigger("dataBound")},_inputValue:function(){var e=this.input.val();return this.options.placeholder===e&&(e=""),e},value:function(e){var t=this.listView,n=t.value().slice(),r=this.options.maxSelectedItems,o=t.bound()&&t.isFiltered();if(void 0===e)return n;this.persistTagList=!1,this.requireValueMapper(this.options,e),e=this._normalizeValues(e),null!==r&&e.length>r&&(e=e.slice(0,r)),o&&this._clearFilter(),t.value(e),this._old=this._valueBeforeCascade=e.slice(),o||this._fetchData(),this._ariaSetSize(this.value().length),this._toggleCloseVisibility()},_preselect:function(data,t){w(data)||data instanceof n.data.ObservableArray||(data=[data]),(e.isPlainObject(data[0])||data[0]instanceof n.data.ObservableObject||!this.options.dataValueField)&&(this.dataSource.data(data),this.value(t||this._initialValues),this._retrieveData=!0)},_setOption:function(e,t){var option=this.element[0].children[this._optionsMap[e]];option&&(option.selected=t)},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;0===e.listView.value().length||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done((function(){e._fetch=!1})))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var element=this.element,e=this.options,t=e.dataSource||{};(t=w(t)?{data:t}:t).select=element,t.fields=[{field:e.dataTextField},{field:e.dataValueField}],this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._progressHandler=d(this._showBusy,this),this._errorHandler=d(this._hideBusy,this)),this.dataSource=n.data.DataSource.create(t).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(t._initialValues),t._placeholder()}))},t._form=form.on("reset",t._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(t){var n=this;return null===t?t=[]:t&&e.isPlainObject(t)?t=[n._value(t)]:t&&e.isPlainObject(t[0])?t=e.map(t,(function(e){return n._value(e)})):w(t)||t instanceof h?w(t)&&(t=t.slice()):t=[t],t},_change:function(){var e=this.value();(function(a,b){var e;if(null===a&&null!==b||null!==a&&null===b)return!1;if((e=a.length)!==b.length)return!1;for(;e--;)if(a[e]!==b[e])return!1;return!0})(e,this._old)||(this._old=e.slice(),this.trigger("change"),this.element.trigger("change")),this.popup.position(),this._ariaSetSize(e.length),this._toggleCloseVisibility()},_click:function(e){var t=this,n=e.item;e.preventDefault(),t._select(n).done((function(){t._activeItem=n,t._change(),t._close()}))},_getActiveItem:function(){return this._activeItem||e(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(t){var r,o=this,c=t.keyCode,h=o._currentTag,d=o.listView,f=o.input.val(),m=n.support.isRtl(o.wrapper),v=o.popup.visible(),_=0;if(c!==l.ENTER&&(this._multipleSelection=!1),c===l.DOWN){if(t.preventDefault(),!v)return o.open(),void(d.focus()||d.focusFirst());d.focus()?(!o._activeItem&&t.shiftKey&&(o._activeItem=d.focus(),_=-1),r=d.getElementIndex(o._getActiveItem().first()),d.focusNext(),d.focus()?t.shiftKey&&(this._multipleSelection=!0,o._selectRange(r,d.getElementIndex(d.focus().first())+_)):d.focusLast()):d.focusFirst()}else if(c===l.UP)v&&(!o._activeItem&&t.shiftKey&&(o._activeItem=d.focus(),_=1),r=d.getElementIndex(o._getActiveItem().first()),d.focusPrev(),d.focus()?t.shiftKey&&(this._multipleSelection=!0,o._selectRange(r,d.getElementIndex(d.focus().first())+_)):o.close()),t.preventDefault();else if(c===l.LEFT&&!m||c===l.RIGHT&&m)f||(h=h?h.prev():e(o.tagList[0].lastChild))[0]&&o.currentTag(h);else if(c===l.RIGHT&&!m||c===l.LEFT&&m)!f&&h&&(h=h.next(),o.currentTag(h[0]?h:null));else if(t.ctrlKey&&!t.altKey&&c===l.A&&v&&!o.options.virtual)this._multipleSelection=!0,this._getSelectedIndices().length===d.items().length&&(o._activeItem=null),d.items().length&&o._selectRange(0,d.items().length-1);else if(c===l.ENTER&&v){if(!d.focus())return;if(t.preventDefault(),this._multipleSelection&&(this._multipleSelection=!1,d.focus().hasClass("k-state-selected")))return void o._close();o._select(d.focus()).done((function(){o._change(),o._close()}))}else if(c===l.SPACEBAR&&t.ctrlKey&&v)o._activeItem&&d.focus()&&d.focus()[0]===o._activeItem[0]&&(o._activeItem=null),e(d.focus()).hasClass("k-state-selected")||(o._activeItem=d.focus()),o._select(d.focus()).done((function(){o._change()})),t.preventDefault();else if(c===l.SPACEBAR&&t.shiftKey&&v){var w=d.getElementIndex(o._getActiveItem()),y=d.getElementIndex(d.focus());void 0!==w&&void 0!==y&&o._selectRange(w,y),t.preventDefault()}else if(c===l.ESC)v?t.preventDefault():(o.tagList.children().each((function(t,n){o._removeTag(e(n),!1)})),o._change()),o.close();else if(c===l.HOME)v?d.focus()?(t.ctrlKey&&t.shiftKey&&!o.options.virtual&&o._selectRange(d.getElementIndex(d.focus()[0]),0),d.focusFirst()):o.close():f||(h=o.tagList[0].firstChild)&&o.currentTag(e(h));else if(c===l.END)v?d.focus()?(t.ctrlKey&&t.shiftKey&&!o.options.virtual&&o._selectRange(d.getElementIndex(d.focus()[0]),d.element.children().length-1),d.focusLast()):o.close():f||(h=o.tagList[0].lastChild)&&o.currentTag(e(h));else if(c!==l.DELETE&&c!==l.BACKSPACE||f)if(!o.popup.visible()||c!==l.PAGEDOWN&&c!==l.PAGEUP)clearTimeout(o._typingTimeout),setTimeout((function(){o._scale()})),o._search();else{t.preventDefault();var x=c===l.PAGEDOWN?1:-1;d.scrollWith(x*d.screenHeight())}else{if(o._state="accept","single"===o.options.tagMode)return o._clearSingleTagValue(),o._change(),void o._close();c!==l.BACKSPACE||h||(h=e(o.tagList[0].lastChild)),h&&h[0]&&o._removeTag(h,!0)}},_hideBusy:function(){clearTimeout(this._busy),this.input.attr("aria-busy",!1),this._loading.addClass("k-hidden"),this._request=!1,this._busy=null,this._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass("k-hidden"),this._hideClear()},_showBusy:function(){this._request=!0,this._busy||(this._busy=setTimeout(d(this._showBusyHandler,this),100))},_placeholder:function(e,t){var input=this.input,r=c(),o=this.options.placeholder,l=input.val(),h=input[0]===r,d=l.length;h&&!this.options.autoClose&&l!==o||(d=0,l=""),void 0===e&&(e=!1,input[0]!==r&&(e=!this.listView.selectedDataItems()[0])),this._prev=l,input.toggleClass("k-readonly",e).val(e?o:l),h&&!t&&n.caret(input[0],d,d),this._scale()},_scale:function(){var e,t=this.wrapper.find(".k-multiselect-wrap"),n=t.width(),span=this._span.text(this.input.val());t.is(":visible")?e=span.width()+25:(span.appendTo(document.documentElement),n=e=span.width()+25,span.appendTo(t)),this.input.width(e>n?n:e)},_option:function(e,t,r){var option="<option";return void 0!==e&&(-1!==(e+="").indexOf('"')&&(e=e.replace(_,"&quot;")),option+=' value="'+e+'"'),r&&(option+=" selected"),option+=">",void 0!==t&&(option+=n.htmlEncode(t)),option+"</option>"},_render:function(data){var e,t,n,r,o=this.listView.selectedDataItems(),l=this.listView.value(),c=data.length,h="";l.length!==o.length&&(o=this._buildSelectedItems(l));var d={},f={};for(r=0;r<c;r++)t=data[r],n=this._value(t),-1!==(e=this._selectedItemIndex(n,o))&&o.splice(e,1),f[n]=r,h+=this._option(n,this._text(t),-1!==e);if(o.length)for(r=0;r<o.length;r++)t=o[r],d[n=this._value(t)]=c,f[n]=c,c+=1,h+=this._option(n,this._text(t),!0);this._customOptions=d,this._optionsMap=f,this.element.html(h)},_buildSelectedItems:function(e){for(var t,n=this.options.dataValueField,r=this.options.dataTextField,o=[],l=0;l<e.length;l++)(t={})[n]=e[l],t[r]=e[l],o.push(t);return o},_selectedItemIndex:function(e,t){for(var n=this._value,r=0;r<t.length;r++)if(e===n(t[r]))return r;return-1},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){var t=e._inputValue();e._prev!==t&&(e._prev=t,e.search(t),e._toggleCloseVisibility())}),e.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&o.fn._allowOpening.call(this)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},_angularTagItems:function(t){var n=this;n.angular(t,(function(){return{elements:n.tagList[0].children,data:e.map(n.dataItems(),(function(e){return{dataItem:e}}))}}))},updatePersistTagList:function(e,t){this.persistTagList.added&&this.persistTagList.added.length===t.length&&this.persistTagList.removed&&this.persistTagList.removed.length===e.length?this.persistTagList=!1:(this.listView._removedAddedIndexes=this._old.slice(),this.persistTagList={added:e,removed:t})},_selectValue:function(e,t){var n,r,o,l=this.dataSource.total(),c=this.tagList,h=this._value;if(this.persistTagList)this.updatePersistTagList(e,t);else{if(this._angularTagItems("cleanup"),"multiple"===this.options.tagMode){for(o=t.length-1;o>-1;o--)n=t[o],c.children().length&&(c[0].removeChild(c[0].children[n.position]),this._setOption(h(n.dataItem),!1));for(o=0;o<e.length;o++)r=e[o],c.append(this.tagTemplate(r.dataItem)),this._setOption(h(r.dataItem),!0)}else{for((!this._maxTotal||this._maxTotal<l)&&(this._maxTotal=l),this._updateTagListHTML(),o=t.length-1;o>-1;o--)this._setOption(h(t[o].dataItem),!1);for(o=0;o<e.length;o++)this._setOption(h(e[o].dataItem),!0)}this._angularTagItems("compile"),this._placeholder()}},_updateTagListHTML:function(){var e=this.value(),t=this.dataSource.total(),n=this.tagList;n.html(""),e.length&&n.append(this.tagTemplate({values:e,dataItems:this.dataItems(),maxTotal:this._maxTotal,currentTotal:t}))},_select:function(t){var n=e.Deferred().resolve();if(!t)return n;var r=this,o=r.listView,l=o.dataItemByIndex(o.getElementIndex(t)),c=t.hasClass("k-state-selected");return"rebind"===r._state&&(r._state=""),r._allowSelection()||c?r.trigger(c?"deselect":"select",{dataItem:l,item:t})?(r._close(),n):(r.persistTagList=!1,o.select(t).done((function(){r._placeholder(),"filter"===r._state&&(r._state="accept",o.skipUpdate(!0))}))):n},_selectRange:function(t,n){var i,r=this,o=this.listView,l=this.options.maxSelectedItems,c=this._getSelectedIndices().slice(),h=[],d=function(t){o.select(t).done((function(){t.forEach((function(t){var n=o.dataItemByIndex(t),l=o.element.children()[t],c=e(l).hasClass("k-state-selected");r.trigger(c?"select":"deselect",{dataItem:n,item:e(l)})})),r._change()}))};if(c.length-1==n-t)return d(c);if(t<n)for(i=t;i<=n;i++)h.push(i);else for(i=t;i>=n;i--)h.push(i);for(null!==l&&h.length>l&&(h=h.slice(0,l)),i=0;i<h.length;i++){var f=h[i];-1==this._getSelectedIndices().indexOf(f)?c.push(f):c.splice(c.indexOf(f),1)}return c.length?(r.persistTagList=!1,d(c)):void 0},_input:function(){var element=this.element,t=element[0].accessKey,input=this._innerWrapper.children("input.k-input");input[0]||(input=e('<input class="k-input" style="width: 25px" />').appendTo(this._innerWrapper)),element.removeAttr("accesskey"),this._focused=this.input=input.attr({accesskey:t,autocomplete:"off",role:"listbox",title:element[0].title,"aria-expanded":!1,"aria-haspopup":"listbox","aria-autocomplete":"list"})},_tagList:function(){var t=this._innerWrapper.children("ul");t[0]||(t=e('<ul unselectable="on" class="k-reset"/>').appendTo(this._innerWrapper)),this.tagList=t},_tagTemplate:function(){var e,t=this,r=t.options,o=r.tagTemplate,l=r.dataSource,c="multiple"===r.tagMode,h=r.messages.singleTag;t.element[0].length&&!l&&(r.dataTextField=r.dataTextField||"text",r.dataValueField=r.dataValueField||"value"),e=c?n.template("#:"+n.expr(r.dataTextField,"data")+"#",{useWithBlock:!1}):n.template("#:values.length# "+h),t.tagTextTemplate=o=o?n.template(o):e,t.tagTemplate=function(data){return'<li role="option" aria-selected="true" class="k-button" unselectable="on"><span unselectable="on">'+o(data)+'</span><span aria-hidden="true" unselectable="on" aria-label="'+(c?'delete" title="'+t.options.messages.deleteTag+'" aria-label="'+t.options.messages.deleteTag:"open")+'" class="k-select"><span class="k-icon '+(c?"k-i-close":"k-i-arrow-60-down")+'"></span></span></li>'}},_loader:function(){this._loading=e('<span class="k-icon k-i-loading k-hidden"></span>').insertAfter(this.input)},_clearButton:function(){o.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-multiselect-clearable"))},_textContainer:function(){var t=n.getComputedStyles(this.input[0],y);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var element=this.element,t=element.parent("span.k-multiselect");t[0]||((t=element.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent())[0].style.cssText=element[0].style.cssText,t[0].title=element[0].title,e('<div class="k-multiselect-wrap k-floatwrap" role="listbox" unselectable="on" />').insertBefore(element)),this.wrapper=t.addClass(element[0].className).css("display",""),this._innerWrapper=e(t[0].firstChild)},_ariaSetSize:function(e){var t=this.tagList.children();e&&t.length&&t.attr("aria-setsize",e)},_ariaSetLive:function(){this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off")}});r.plugin(x)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1028)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1028:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.proxy,l=n.keys,c=n.support.mousedown,h=n.support.mouseup,d=".kendoButton",f=r.extend({init:function(element,e){r.fn.init.call(this,element,e),element=this.wrapper=this.element,e=this.options,element.addClass("k-button").attr("role","button"),e.enable=e.enable&&!element.attr("disabled"),this.enable(e.enable),e.enable&&this._tabindex(),this.iconElement(),element.on("click"+d,o(this._click,this)).on("focus"+d,o(this._focus,this)).on("blur"+d,o(this._blur,this)).on("keydown"+d,o(this._keydown,this)).on("keyup"+d,o(this._removeActive,this)).on(c+d,o(this._addActive,this)).on(h+d+" mouseout"+d,o(this._removeActive,this)),n.notify(this)},destroy:function(){this.wrapper.off(d),r.fn.destroy.call(this)},events:["click"],options:{name:"Button",icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(e){this.options.enable&&this.trigger("click",{event:e})&&e.preventDefault()},_focus:function(){this.options.enable&&this.element.addClass("k-state-focused")},_blur:function(){var e=this;e.element.removeClass("k-state-focused"),setTimeout((function(){e.element.removeClass("k-state-active")}))},_keydown:function(e){e.keyCode!=l.ENTER&&e.keyCode!=l.SPACEBAR||(this._addActive(),this._isNativeButton()||(e.keyCode==l.SPACEBAR&&e.preventDefault(),this._click(e)))},_removeActive:function(){this.element.removeClass("k-state-active")},_addActive:function(){this.options.enable&&this.element.addClass("k-state-active")},iconElement:function(){var span,img,t,element=this.element,n=this.options,r=n.icon,o=n.iconClass,l=n.spriteCssClass,c=n.imageUrl;(l||c||r||o)&&(t=!0,element.contents().filter((function(){return!e(this).hasClass("k-sprite")&&!e(this).hasClass("k-icon")&&!e(this).hasClass("k-image")})).each((function(n,r){(1==r.nodeType||3==r.nodeType&&e.trim(r.nodeValue).length>0)&&(t=!1)})),t?element.addClass("k-button-icon"):element.addClass("k-button-icontext")),c?((img=element.children("img.k-image").first())[0]||(img=e('<img alt="icon" class="k-image" />').prependTo(element)),img.attr("src",c)):r||o?((span=element.children("span.k-icon").first())[0]||(span=e("<span></span>").prependTo(element)),span.attr("class",r?"k-icon k-i-"+r:o)):l&&((span=element.children("span.k-sprite").first())[0]||(span=e('<span class="k-sprite"></span>').prependTo(element)),span.addClass(l))},enable:function(e){var element=this.element;void 0===e&&(e=!0),e=!!e,this.options.enable=e,element.toggleClass("k-state-disabled",!e).attr("aria-disabled",!e).attr("disabled",!e),e&&this._tabindex();try{element.blur()}catch(e){}}});n.ui.plugin(f)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1265)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1031:function(e,t){e.exports=n(40)},1119:function(e,t){e.exports=n(94)},1265:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1031),n(1119)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.calendar,o=n.support,l=r.isInRange,c=r.toDateObject,h=r.createDate,d=r.isEqualDate,f=r.getToday,m=n.keys,v=n.ui,_=v.Widget,w=v.Selectable,template=n.template,y=o.mobileOS,x=".kendoMultiViewCalendar",k="change",C="k-state-focused",S="k-state-selected",T="k-range-mid",D="k-range-start",E="k-range-end",A="k-state-hover",I="k-state-disabled",M="td:has(.k-link):not(.k-out-of-range)",R="td:has(.k-link):not(."+I+"):not(.k-out-of-range)",F="focus",P=o.touch?"touchstart":"mouseenter",z=o.touch?"touchend"+x+" touchmove"+x:"mouseleave"+x,B="_prevArrow",L="_nextArrow",H=e.proxy,N=Date,O={month:0,year:1,decade:2,century:3},V=_.extend({init:function(element,e){_.fn.init.call(this,element,e),this.userEvents=new n.UserEvents(this.element,{global:!0,allowSelection:!0,filter:this.options.filter,tap:H(this._tap,this),touchAction:"none"})},events:[k],options:{name:"RangeSelectable",filter:">*",inputSelectors:"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:!1,dragToSelect:!0,relatedTarget:e.noop},destroy:function(){_.fn.destroy.call(this),this.userEvents.destroy(),this._lastActive=this.element=this.userEvents=this._start=this._end=null},_allowSelection:function(t){return!e(t).is(this.options.inputSelectors)||(this.userEvents.cancel(),!1)},start:function(element){if(void 0===element)return this._start;element.addClass(D+" "+S),this._start=element},end:function(element){if(void 0===element)return this._start;element.addClass(E+" "+S),this._end=element},mid:function(t){var n=this.element.find("table.k-month");t.addClass(T),n.each((function(){var t=e(this),n=t.find(R+":last"),r=t.find(R+":first");n.hasClass(T)&&n.addClass("k-range-split-end"),r.hasClass(T)&&r.addClass("k-range-split-start")}))},clear:function(e){this.element.find(M).removeClass(E+" "+S+" "+D+" "+T+" k-range-split-end k-range-split-start"),e&&(this._start=this._end=null)},selectFrom:function(t){var n,r;n=this.element.find(M),r=e.inArray(e(t)[0],n),this.clear(),this.start(t),n=n.filter((function(e){return e>r})),this.mid(n)},selectTo:function(t){var n,r;n=this.element.find(M),r=e.inArray(e(t)[0],n),this.clear(),n=n.filter((function(e){return e<r})),this.mid(n),this.end(e(t))},range:function(t,n){var r,o,l,c;if(void 0===t)return{start:this._start,end:this._end};r=this.element.find(M),o=e.inArray(e(t)[0],r),l=e.inArray(e(n)[0],r),o>l&&(c=n,n=t,t=c,c=o,o=l,l=c),this.clear(),t.addClass(D+" "+S),this._start=t,r=r.filter((function(e){return e>o&&e<l})),this.mid(r),this.end(e(n))},change:function(){this.trigger(k)},_tap:function(t){var n,r,o,l=e(t.target);if(this._lastActive=l,!this._start)return this.start(l),void this.trigger(k);if(this._start&&!this._end)return n=this.element.find(M),r=e.inArray(e(this._start)[0],n),o=e.inArray(e(l)[0],n),+c(e(this._start).find("a"))>+c(e(l).find("a"))?(this.clear(),this.start(l),void this.trigger(k)):(n=n.filter((function(e){return e>r&&e<o})),this.mid(n),this.end(e(l)),void this.trigger(k));if(this._start&&this._end){if(l.hasClass(T))return this._toggling?this.range(this._start,l):this.range(l,this._end),this._toggling=!this._toggling,void this.trigger(k);this._toggling=!1,this._end=null,this.clear(),this.start(l),this.trigger(k)}}}),W=_.extend({init:function(element,t){var o,l,c=this;_.fn.init.call(c,element,t),element=c.wrapper=c.element,t=c.options,c.options.disableDates=r.disabled(c.options.disableDates),l=n.getCulture(t.culture),t.format=n._extractFormat(t.format||l.calendars.standard.patterns.d),c._templates(),c._header(),c._wrapper(),(o=element.addClass("k-widget k-calendar k-calendar-range"+(t.weekNumber?" k-week-number":"")).on("keydown"+x,"table.k-content",H(c._move,c)).on("blur"+x,"table",H(c._blur,c)).on("click"+x,R,(function(t){var link=t.currentTarget.firstChild;-1!=link.href.indexOf("#")&&t.preventDefault(),c._click(e(link))})).on(P+x,R,H(c._mouseEnter,c)).on(z,R,(function(){e(this).removeClass(A)})).attr("id"))&&(c._cellID=o+"_cell_selected"),c._calendarWidth=c.element.width(),c._range=t.range,c._initViews({viewName:t.start,value:t.value}),c._selectable(),c._footer(c.footer),c._selectDates=[],c.value(t.value),"multiple"==t.selectable&&(c._selectDates=t.selectDates.length?t.selectDates:c._selectDates,c._restoreSelection()),"range"==t.selectable&&c.selectRange(c._range),n.notify(c)},options:{name:"MultiViewCalendar",value:null,min:new N(1900,0,1),max:new N(2099,11,31),dates:[],disableDates:null,culture:"",footer:"",format:"",month:{},range:{start:null,end:null},weekNumber:!1,views:2,showViewHeader:!1,selectable:"single",selectDates:[],start:"month",depth:"month",messages:{weekColumnHeader:""}},events:[k,"navigate"],setOptions:function(e){r.normalize(e),e.disableDates=r.disabled(e.disableDates),_.fn.setOptions.call(this,e),this._selectable(),this._templates(),this._footer(this.footer);for(var i=0;i<this._views.length;i++)this._views[i].off(x).remove();this._initViews({viewName:e.start,value:e.value}),this._range=e.range||{start:null,end:null},this._restoreSelection()},destroy:function(){if(this._cell=null,this._currentView=null,this._current=null,this._views)for(var i=0;i<this._views.length;i++)this._views[i].off(x).remove();this.element.off(x),this.header&&(this.header.off(x),this._title=null,this.header=null),this.selectable&&(this.selectable.destroy(),this.selectable=null),this.rangeSelectable&&(this.rangeSelectable.destroy(),this.rangeSelectable=null),this._today&&n.destroy(this._today.off(x)),this._views=null,_.fn.destroy.call(this)},current:function(){return this._current},focus:function(){var table;this._cell?this._cell.closest("table").trigger("focus"):this._current&&this._dateInViews(this._current)?(this._cell=this._cellByDate(this._current),this._cell.closest("table").trigger("focus")):(table=this.element.find("table").first().trigger("focus"),this._cell=table.find(R+":first"),this._current=c(this._cell.find("a"))),this._cell.addClass(C)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},view:function(){return this._currentView},navigateToPast:function(){this._navigate(B,-1)},navigateToFuture:function(){this._navigate(L,1)},navigateUp:function(){var e=this._index;this._title.hasClass(I)||this.navigate(this._current,++e)},navigateDown:function(e){var t=this._index,n=this.options.depth;e&&(t!==O[n]?this.navigate(e,--t):d(this._value,this._current)&&d(this._value,e)||(this.value(e),this.trigger(k)))},navigate:function(e,view){view=isNaN(view)?r.views[r.viewsEnum[view]]:r.views[view];var t=this.options,n=t.min,o=t.max;this._current=e||(e=new N(+r.restrictValue(e,n,o))),void 0===view&&(view=this._currentView),this._currentView=view;for(var i=0;i<this._views.length;i++)this._views[i].off(x).remove();this._initViews({viewName:view.name,value:e}),this._restoreSelection()},_updateHeader:function(){var t,n,r,o,view=this._currentView,title=this._title,c=this._firstViewValue,h=this.options,d=this._visibleRange(),f=h.culture,m=h.min,v=h.max;"decade"===view.name||"century"===view.name?(t=j(c,view.name,h.views-1),l(t,m,v)||(t=v),title.html(view.first(c).getFullYear()+" - "+view.last(t).getFullYear())):title.html(view.title(c,m,v,f)+" - "+view.title(j(c,view.name,h.views-1),m,v,f)),n="century"===view.name,title.toggleClass(I,n).attr("aria-disabled",n),r=view.compare(d.start,this.options.min)<1,o=view.compare(d.end,this.options.max)>-1,r&&o?this._navContainer&&(this._navContainer.remove(),this._navContainer=null):(this._navContainer||(this._navContainer=e('<span class="k-calendar-nav"><a href="#" role="button" class="k-button k-button-icon k-prev-view" aria-label="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" class="k-button k-button-icon k-next-view" aria-label="Next"><span class="k-icon k-i-arrow-60-right"></span></a></span>').appendTo(this.header),this._prevArrow=this._navContainer.find(".k-prev-view"),this._nextArrow=this._navContainer.find(".k-next-view")),this._prevArrow.toggleClass(I,r).attr("aria-disabled",r),this._prevArrow.hasClass(I)&&this._prevArrow.removeClass(A),this._nextArrow.toggleClass(I,o).attr("aria-disabled",o),this._nextArrow.hasClass(I)&&this._nextArrow.removeClass(A))},_mouseEnter:function(t){var n,r,o=e(t.currentTarget);if(o.addClass(A),this.rangeSelectable&&"month"===this._currentView.name&&(n=this.selectRange()).start&&!n.end){if(this._dateInViews(this.selectRange().start)){if(r=this.element.find(this.rangeSelectable.options.filter),e.inArray(e(this.rangeSelectable._start)[0],r)>e.inArray(e(o)[0],r))return;this.rangeSelectable.range(this.rangeSelectable._start,o)}else+c(this.element.find(M+":first").find("a"))>+n.start&&this.rangeSelectable.selectTo(o);this.rangeSelectable._end=null}},_move:function(t,r){var o,d,f,v,_,w=this.options,y=t.keyCode,x=this._index,S=w.min,T=w.max,D=this.element.find("."+C),table=D.closest("table"),E=new N(+(this._current||c(D.find("a")))),A=n.support.isRtl(this.wrapper),M=!1;if(y==m.RIGHT&&!A||y==m.LEFT&&A?(o=1,d=!0):y==m.LEFT&&!A||y==m.RIGHT&&A?(o=-1,d=!0):y==m.UP?(o=0===x?-7:-4,d=!0):y==m.DOWN?(o=0===x?7:4,d=!0):y==m.SPACEBAR?(o=0,d=!0):y==m.HOME?(d=!0,(f=table.find(R).eq(0)).hasClass(C)?(table=table.prev()).length?this._focusCell(table.find(R).eq(0)):(M=this._prevArrow&&!this._prevArrow.hasClass(I),this._navigate(B,-1,r),this._focusCell(this.element.find("table:first "+R+":first"))):this._focusCell(f)):y==m.END&&(d=!0,(f=table.find(R).last()).hasClass(C)?(table=table.next()).length?this._focusCell(table.find(R).last()):(M=this._nextArrow&&!this._nextArrow.hasClass(I),this._navigate(L,1,r),this._focusCell(this.element.find("table:last "+R+":last"))):this._focusCell(f)),t.ctrlKey||t.metaKey)y==m.RIGHT&&!A||y==m.LEFT&&A?(M=this._nextArrow&&!this._nextArrow.hasClass(I),this._navigate(L,1,r),d=!0):y==m.LEFT&&!A||y==m.RIGHT&&A?(M=this._prevArrow&&!this._prevArrow.hasClass(I),this._navigate(B,-1,r),d=!0):y==m.UP?(M=!this._title.hasClass(I),this.navigateUp(),this._focusCell(this._cellByDate(this._current),!r),d=!0):y==m.DOWN?("month"===this._currentView.name?this.value(E):(this.navigateDown(E),this._focusCell(this._cellByDate(this._current),!r),M=!0),d=!0):y!=m.ENTER&&y!=m.SPACEBAR||"multiple"===w.selectable&&this._toggleSelection(t);else if(t.shiftKey&&"single"!==w.selectable){if(void 0!==o){if(this._currentView.setDate(E,o),"month"!==this._currentView.name)return;w.disableDates(E)&&(E=this._nextNavigatable(E,o)),S=h(S.getFullYear(),S.getMonth(),S.getDate()),l(E,S,T)&&(this._dateInViews(E)||(o>0?(M=this._nextArrow&&!this._nextArrow.hasClass(I),this._navigate(L,1,r)):(M=this._prevArrow&&!this._prevArrow.hasClass(I),this._navigate(B,-1,r))),f=this._cellByDate(E),this._current=E,this.selectable&&(this._selectRange(c((this.selectable._lastActive||D).find("a")),E),this.selectable._lastActive||(this.selectable._lastActive=D),this.trigger(k),this._focusCell(f)),this.rangeSelectable&&(v=c((this.rangeSelectable._lastActive||D).find("a")),this._dateInViews(v)?(this.rangeSelectable._end&&this.rangeSelectable._end.is("."+C)?this.rangeSelectable._lastActive=this.rangeSelectable._start:this.rangeSelectable._lastActive=this._cellByDate(v),this.rangeSelectable.range(this.rangeSelectable._lastActive,f)):+v>+E?(this.rangeSelectable._end=this.rangeSelectable._lastActive,this.rangeSelectable.selectFrom(f)):this.rangeSelectable.selectTo(f),this.rangeSelectable.change(),this._focusCell(f)))}}else y==m.ENTER||y==m.SPACEBAR?("month"===this._currentView.name?(this.selectable&&(this.selectable._lastActive=this._cellByDate(E)),this.value(E),this.rangeSelectable&&this.rangeSelectable.change()):this._click(e(this._cell[0].firstChild),r),d=!0):y!=m.PAGEUP&&y!=m.PAGEDOWN||(d=!0,_=table.find(R).index(D),(table=y==m.PAGEUP?table.prev():table.next()).length||(y==m.PAGEUP?(M=this._prevArrow&&!this._prevArrow.hasClass(I),this.navigateToPast(),table=this.element.find("table:first")):(M=this._nextArrow&&!this._nextArrow.hasClass(I),this.navigateToFuture(),table=this.element.find("table:last"))),(f=table.find(R).eq(_)).length?this._focusCell(f):this._focusCell(table.find(R).last())),o&&(this._currentView.setDate(E,o),S=h(S.getFullYear(),S.getMonth(),S.getDate()),l(E,S,T)&&(this.selectable&&w.disableDates(E)&&(E=this._nextNavigatable(E,o)),this._dateInViews(E)||(o>0?(M=this._nextArrow&&!this._nextArrow.hasClass(I),this._navigate(L,1,r)):(M=this._prevArrow&&!this._prevArrow.hasClass(I),this._navigate(L,-1,r))),f=this._cellByDate(E),this._current=E,this._focusCell(f,!r)));return M&&this.trigger("navigate"),d&&t.preventDefault(),this._current},_visualizeSelectedDatesInView:function(){var t,r={};e.each(this._selectDates,(function(e,t){r[n.calendar.views[0].toDateString(t)]=t})),this.selectable.clear(),(t=this.element.find("table").find(M).filter((function(t,element){return r[e(element.firstChild).attr(n.attr("value"))]}))).length>0&&this.selectable._selectElement(t,!0)},_nextNavigatable:function(e,t){var n=!0,view=this._currentView,r=this.options.min,o=this.options.max,c=this.options.disableDates,h=new Date(e.getTime());for(view.setDate(h,-t);n;){if(view.setDate(e,t),!l(e,r,o)){e=h;break}n=c(e)}return e},_toggleSelection:function(t){this.selectable._lastActive=e(this._cell[0]),e(this._cell[0]).hasClass(S)?(this.selectable._unselect(e(this._cell[0])),this.selectable.trigger(k,{event:t})):this.selectable.value(e(this._cell[0]),{event:t})},_option:function(option,e){var t=this.options,r=this._value||this._current;if(void 0===e)return t[option];(e=n.parseDate(e,t.format,t.culture))&&(t[option]=new N(+e),("min"===option?e>r:r>e)&&(this._value=null),this.navigate(this._value),this._toggle())},_cellByDate:function(t){return t instanceof Date&&(t=this._currentView.toDateString(t)),this.element.find("table").find("td:not(.k-other-month)").filter((function(){return e(this.firstChild).attr(n.attr("value"))===t}))},_selectable:function(){var e=this.options.selectable;this.selectable&&(this.selectable.destroy(),this.selectable=null),this.rangeSelectable&&(this.rangeSelectable.destroy(),this.rangeSelectable=null),"range"===e.toLowerCase()?this.rangeSelectable=new V(this.wrapper,{filter:"table.k-month "+R,change:H(this._rangeSelection,this)}):this.selectable=new w(this.wrapper,{aria:!0,dragToSelect:!1,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:w.parseOptions(e).multiple,filter:"table.k-content "+R,change:H(this._selection,this),relatedTarget:H(this._onRelatedTarget,this),unselect:H(this._unselecting,this)})},_onRelatedTarget:function(e){this.selectable.options.multiple&&e.is(R)&&e.length>1&&this._focusCell(e.first(),!0)},_getFirstViewDate:function(e){var t,n,i,r=this.options,o=[],l=new Date(+this._current);for(i=0;i<r.views;i++){if(t=e.first(l),+(n=e.last(l))>+r.max){+t<=+r.max&&o.push({start:t,end:new Date(+r.max)});break}o.push({start:t,end:n}),l=new Date(+j(n,e.name,1))}for(l=new Date(+this._current),i=0;i<r.views;i++){if(t=e.first(l),n=e.last(l),+t<+r.min){+n>=+r.min&&o.push({start:new Date(+r.min),end:n});break}o.push({start:t,end:n}),l=new Date(+j(t,e.name,-1))}for(t=o[0].start,i=0;i<r.views+1&&o[i];i++)+t>+o[i].start&&(t=o[i].start);return new Date(+t)},_canRenderNextView:function(e){var t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=this.options.max,l=o.getFullYear(),c=o.getMonth();return t<l||t===l&&n<c||t===l&&n===c&&r<o.getDate()||t===l&&n===c&&r===o.getDate()},_initViews:function(t){var n,o=this.options,l=r.viewsEnum[t.viewName],c=r.views[l];this._current=new N(+r.restrictValue(t.value,o.min,o.max)),this._views=[],this._index=l,(n=this._getFirstViewDate(c)).setDate(1),this._firstViewValue=new Date(+n);for(var i=0;i<o.views&&((n=i?j(n,c.name,1):n).setDate(1),this._canRenderNextView(n));i++)this._table=e(c.content(e.extend({min:o.min,max:o.max,date:n,url:o.url,dates:o.dates,format:o.format,culture:o.culture,disableDates:o.disableDates,showHeader:o.showViewHeader,isWeekColumnVisible:o.weekNumber,otherMonth:o.otherMonth,messages:o.messages},this[c.name]))),this._table.appendTo(this.tablesWrapper).addClass("k-"+c.name),this._views.push(this._table);this._currentView=c,this.tablesWrapper.attr("class","k-calendar-view k-calendar-"+c.name+"view"),this._updateHeader()},_rangeSelection:function(e){var t,n,r=e.sender.range();r.start&&(t=c(r.start.find("a"))),r.end&&(n=c(r.end.find("a"))),this._range={start:t,end:n},this._preventChange||this.trigger(k)},_selection:function(t){var n,r=this,o=t.sender.value(),l=t.event,h=e(l&&l.currentTarget),d=h.is("td");"single"===r.options.selectable&&r._validateValue(o[0]?c(o.first().find("a")):t.sender._lastActive?c(t.sender._lastActive.find("a")):r.value()),"multiple"==r.options.selectable&&(d&&(n=c(h.find("a"))),l&&l.ctrlKey?d?h.hasClass(S)?r._selectDates.push(n):r._deselect(n):(r.element.find("table "+R).each((function(t,element){var n=c(e(element).find("a"));r._deselect(n)})),r._addSelectedCellsToArray()):l&&l.shiftKey?r._selectRange(c(t.sender._lastActive?t.sender._lastActive.find("a"):o.first().find("a")),n):d?(r._selectDates=[],r._selectDates.push(n)):(r._selectDates=[],r._addSelectedCellsToArray())),r._preventChange||r.trigger(k)},_addSelectedCellsToArray:function(){var t=this;t.selectable.value().each((function(n,r){var o=c(e(r.firstChild));t.options.disableDates(o)||t._selectDates.push(o)}))},_deselect:function(e){var t=this._selectDates.map(Number).indexOf(+e);-1!=t&&this._selectDates.splice(t,1)},_unselecting:function(e){var element=e.element;"single"===this.options.selectable&&!y&&element.hasClass(C)&&e.preventDefault()},_visibleRange:function(){var e=this.element.find(".k-calendar-view table");return{start:c(e.first().find(M+":first").find("a")),end:c(e.last().find(M+":last").find("a"))}},_dateInViews:function(e){var t=this.element.find(".k-calendar-view table"),n=c(t.first().find(M+":first").find("a"));return+e<=+c(t.last().find(M+":last").find("a"))&&+e>=+n},_fillRange:function(e,t){var o;this._selectDates=[],o=function(e,t){if(+t<+e){var o=+e;r.views[0].setDate(e,t),r.views[0].setDate(t,new Date(o))}var l=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),c=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+c-+l)/n.date.MS_PER_DAY)}(e,t),function(e,t,n,r){for(var i=0;i<=t;i++){var o=new Date(n.getTime());o=new Date(o.setDate(o.getDate()+i)),r(o)||e.push(o)}}(this._selectDates,o,e,this.options.disableDates)},_selectRange:function(e,t){var n;+t<+e&&(n=t,t=e,e=n),this._fillRange(e,t),this._visualizeSelectedDatesInView()},_header:function(){var t,n=this,element=n.element,header=element.find(".k-calendar-header");header.length||(header=e('<div class="k-calendar-header"><a href="#" role="button" class="k-button k-title" aria-live="assertive" aria-atomic="true"></a><span class="k-calendar-nav"><a href="#" role="button" class="k-button k-button-icon k-prev-view" aria-label="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" class="k-button k-button-icon k-next-view" aria-label="Next"><span class="k-icon k-i-arrow-60-right"></span></a></span></div>').prependTo(element)),n.header=header,header.on(P+x+" "+z+" "+F+x+" blur"+x,".k-button",U).on("click",(function(){return!1})).on("click"+x,".k-button.k-title",(function(){n.navigateUp(),n._focusCell(n._cellByDate(n._current),!0),n.trigger("navigate")})).on("click"+x,".k-button.k-prev-view",(function(e){e.preventDefault(),n.navigateToPast(),n.trigger("navigate")})).on("click"+x,".k-button.k-next-view",(function(e){e.preventDefault(),n.navigateToFuture(),n.trigger("navigate")})),t=header.find(".k-button"),n._title=t.filter(".k-title"),n._navContainer=header.find(".k-calendar-nav"),n._prevArrow=t.filter(".k-prev-view"),n._nextArrow=t.filter(".k-next-view")},_wrapper:function(){this.tablesWrapper=e('<div class="k-calendar-view" />').insertAfter(this.element[0].firstChild)},_templates:function(){var e=this.options.month,content=e.content,t=e.weekNumber,r=e.empty;this.month={content:template('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+n.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(content||"#=data.value#")+"</a></td>",{useWithBlock:!!content}),empty:template('<td role="gridcell"'+(r?">":' class="k-out-of-range">')+(r||"<a class='k-link'></a>")+"</td>",{useWithBlock:!!r}),weekNumber:template('<td class="k-alt">'+(t||"#= data.weekNumber #")+"</td>",{useWithBlock:!!t})}},_footer:function(){var t=this.options,template=!1!==t.footer?n.template(this.options.footer||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null,r=f(),element=this.element,footer=element.find(".k-footer");if(!template)return this._toggle(!1),void footer.hide();footer[0]||(footer=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(element)),this._today=footer.show().find(".k-link").html(template(r)).attr("title",n.toString(r,"D",this.options.culture)),this._toggle()},_navigate:function(e,t,n){var o,l=this._index+1,c=new N(+this._current),h=new N(+this._current);e=this[e],o=this._cellByDate(c).closest("table").index(),t>0?o=1-o:o+=1,e&&e.hasClass(I)||(l>3?c.setFullYear(c.getFullYear()+t*o*100):r.views[l].setDate(c,t*o),this.navigate(c),this._dateInViews(h)?(this._focusCell(this._cellByDate(h),!n),this._current=h):(l>3?h.setFullYear(h.getFullYear()+100*t):r.views[l].setDate(h,t),this._focusCell(this._cellByDate(h),!n),this._current=h))},_toggle:function(e){var t=this.options,n="range"!==t.selectable&&this.options.disableDates(f()),link=this._today;void 0===e&&(e=l(f(),t.min,t.max)),link&&(link.off("click"+x),e&&!n?link.addClass("k-nav-today").removeClass(I).on("click"+x,H(this._todayClick,this)):link.removeClass("k-nav-today").addClass(I).on("click"+x,(function(e){e.preventDefault()})))},_click:function(link,e){var t=this.options,o=new Date(+this._current),l=c(link);n.date.adjustDST(l,0),this._currentView.setDate(o,l),this._current=l,this._currentView.name!==t.depth?(this.navigateDown(r.restrictValue(o,t.min,t.max)),this._focusCell(this._cellByDate(this._current),!e),this.trigger("navigate")):this._focusCell(link.closest("td"),!e)},_blur:function(){this._cell&&this._cell.removeClass(C)},_focus:function(t){var table=e(t.currentTarget),n=this._cell;n&&e.contains(table[0],n[0])||(n=table.find(R+":first")),this._focusCell(n)},_focusCell:function(e,t){var n=this._cellID,table=e.closest("table");this._cell&&this._cell.length&&(this._cell[0].removeAttribute("aria-selected"),this._cell[0].removeAttribute("aria-label"),this._cell.removeClass(C),this._cell[0].removeAttribute("id"),this._cell.closest("table")[0].removeAttribute("aria-activedescendant")),this._cell=e,t&&table.trigger("focus"),n&&(e.attr("id",n),table.attr("aria-activedescendant",n)),e.attr("aria-selected",!0).addClass(C),e.length&&"month"==this._currentView.name&&(this._current=c(e.find("a")))},_todayClick:function(e){var t=this.options.disableDates,n=f(),r=!1;e.preventDefault(),t(n)||(this._value=n,"multiple"===this.options.selectable&&(this._selectDates=[n]),"range"===this.options.selectable&&(this.rangeSelectable.clear(!0),this._range={start:n,end:null}),"month"==this._currentView.name&&this._dateInViews(n)||(r=!0),this.navigate(n,this.options.depth),"single"===this.options.selectable&&(this.selectable._lastActive=null),r&&this.trigger("navigate"),this.trigger(k))},_validateValue:function(e){var t=this.options,r=t.min,o=t.max;return null!==(e=n.parseDate(e,t.format,t.culture))&&(e=new N(+e),l(e,r,o)||(e=null)),null!==e&&this.options.disableDates(new Date(+e))?void 0===this._value&&(this._value=null):this._value=e,this._value},clearSelection:function(){this.selectable&&this.element.find("."+S).removeClass(S),this.rangeSelectable&&this.rangeSelectable.clear(!0)},_restoreSelection:function(){var e,t=this.options.selectable;if(this._currentView.name===this.options.depth){if(this._preventChange=!0,"range"===t){if(!(e=this.selectRange())||!e.start)return void(this._preventChange=!1);this.selectRange(e)}"single"===t&&this.value()&&this.selectable.value(this._cellByDate(this.value())),"multiple"===t&&this._visualizeSelectedDatesInView(),this._preventChange=!1}},value:function(e){var t;if(void 0===e)return this._value;e=this._validateValue(e),this.clearSelection(),e&&!this._dateInViews(e)&&this.navigate(e),null!==e&&"month"===this._currentView.name&&(t=this._cellByDate(e),this.selectable&&this.selectable.value(t),this.rangeSelectable&&(this.rangeSelectable.start(t),this.rangeSelectable._lastActive=t))},selectDates:function(t){var n,r,o=this;if(void 0===t)return o._selectDates;r=t.map((function(e){return e.getTime()})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(time){return new Date(time)})),n=e.grep(r,(function(e){if(e)return+o._validateValue(new Date(e.setHours(0,0,0,0)))==+e})),o._selectDates=n.length>0?n:0===r.length?r:o._selectDates,o._visualizeSelectedDatesInView()},selectRange:function(e){var t,n,r;if(void 0===e)return this._range;this._range=e,e.start&&(r=this._visibleRange(),t=this._dateInViews(e.start),n=e.end&&this._dateInViews(e.end),!t&&n&&this.rangeSelectable.selectTo(this._cellByDate(e.end)),t&&n&&this.rangeSelectable.range(this._cellByDate(e.start),this._cellByDate(e.end)),e.end&&t&&!n&&this.rangeSelectable.selectFrom(this._cellByDate(e.start)),!e.end&&t&&this.rangeSelectable.start(this._cellByDate(e.start)),+r.start>+e.start&&+r.end<+e.end&&this.rangeSelectable.mid(this.element.find(R)))}});function U(t){e(this).hasClass("k-state-disabled")||e(this).toggleClass(A,P.indexOf(t.type)>-1||t.type==F)}function j(e,t,n){var o;return"month"===t?((o=new N(e.getFullYear(),e.getMonth()+n,e.getDate())).setFullYear(e.getFullYear()),(Math.abs(o.getMonth()-e.getMonth())>n||n>10)&&(o.setMonth(e.getMonth()+n),o=r.views[0].last(o)),o):"year"===t?((o=new N(1,e.getMonth(),e.getDate())).setFullYear(e.getFullYear()+n),Math.abs(o.getFullYear()-e.getFullYear())>n&&((o=new N(1,e.getMonth(),1)).setFullYear(e.getFullYear()+n),o=r.views[1].last(o)),o):"decade"===t?((o=new N(1,e.getMonth(),e.getDate())).setFullYear(e.getFullYear()+10*n),Math.abs(o.getFullYear()-e.getFullYear())>10*n&&((o=new N(1,e.getMonth(),1)).setFullYear(e.getFullYear()+10*n),o=r.views[2].last(o)),o):"century"===t?((o=new N(1,e.getMonth(),e.getDate())).setFullYear(e.getFullYear()+100*n),Math.abs(o.getFullYear()-e.getFullYear())>100*n&&((o=new N(1,e.getMonth(),1)).setFullYear(e.getFullYear()+100*n),o=r.views[3].last(o)),o):void 0}n.ui.plugin(W)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1358)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1039:function(e,t){e.exports=n(4)},1120:function(e,t){e.exports=n(125)},1358:function(e,t,n){var r,o,l;n(3),o=[n(1039),n(1120)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.keys,o=n.parseDate,l=n._activeElement,c=n._extractFormat,h=n.support,d=h.browser,f=n.ui,m=f.Widget,v=".kendoTimePicker",_="click"+v,w="k-state-default",y="k-state-hover",x=6e4,k=864e5,C=e.isArray,S=e.extend,T=e.proxy,D=Date,E=new D;E=new D(E.getFullYear(),E.getMonth(),E.getDate(),0,0,0);var A=function(t){var r=t.id;this.options=t,this._dates=[],this.ul=e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:h.kineticScrollNeeded?"":"auto"}).on(_,"li",T(this._click,this)).on("mouseenter"+v,"li",(function(){e(this).addClass(y)})).on("mouseleave"+v,"li",(function(){e(this).removeClass(y)})),this.list=e("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(this.ul).on("mousedown.kendoTimePicker",P),r&&(this._timeViewID=r+"_timeview",this._optionID=r+"_option_selected",this.ul.attr("id",this._timeViewID)),this._popup(),this._heightHandler=T(this._height,this),this.template=n.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};function I(e){return 60*e.getHours()*x+e.getMinutes()*x+1e3*e.getSeconds()+e.getMilliseconds()}function M(e,t,n){var r,o=I(t),l=I(n);return!e||o==l||(o>(r=I(e))&&(r+=k),l<o&&(l+=k),r>=o&&r<=l)}A.prototype={current:function(t){var n=this.options.active;if(void 0===t)return this._current;this._current&&(this._current.removeClass("k-state-selected"),this._current&&this._current.length&&(this._current[0].removeAttribute("id"),this._current[0].removeAttribute("aria-selected"))),t&&(t=e(t).addClass("k-state-selected").attr("id",this._optionID).attr("aria-selected",!0),this.scroll(t[0])),this._current=t,n&&n(t)},close:function(){this.popup.close()},destroy:function(){this.ul.off(v),this.list.off(v),this.popup.destroy()},open:function(){var e,t=this;t.ul[0].firstChild||t.bind(),e=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),setTimeout((function(){t.popup._hovered=e}),1),t._current&&t.scroll(t._current[0])},dataBind:function(e){for(var t,r=this.options,o=r.format,l=n.toString,template=this.template,c=e.length,h=0,html="";h<c;h++)M(t=e[h],r.min,r.max)&&(html+=template(l(t,o,r.culture)));this._html(html)},refresh:function(){var e,t,r,o,l,c,h=this.options,d=h.format,f=(o=new D,l=new D(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),c=new D(o.getFullYear(),o.getMonth(),o.getDate(),12,0,0),l.getTimezoneOffset(),c.getTimezoneOffset(),n.parseDate(this._value)),m=z(f||new Date,h.min),v=h.min,_=h.max,w=I(v),y=I(_),C=I((t=h.interval,(r=new Date(2100,0,1)).setMinutes(-t),r)),S=h.interval*x,T=n.toString,template=this.template,E=h.useValueToRender?m:new Date(+h.min),A=new D(E),html="";for(w==y&&C!==y||w>y&&(y+=k);;){if(y&&(I(E)>=y||A.getDate()!=E.getDate())){e=I(E),A<E&&(e+=k),e>y&&(E=new D(+_)),I(E)>0&&(html+=template(T(E,d,h.culture)));break}if(A.getDate()!=E.getDate())break;html+=template(T(E,d,h.culture)),E.setTime(E.getTime()+S)}this._html(html)},bind:function(){var e=this.options.dates;e&&e[0]?this.dataBind(e):this.refresh()},_html:function(html){this.ul[0].innerHTML=html,this.popup.unbind("open",this._heightHandler),this.popup.one("open",this._heightHandler),this.current(null),this.select(this._value)},scroll:function(e){if(e){var content=this.list[0],t=e.offsetTop,n=e.offsetHeight,r=content.scrollTop,o=content.clientHeight,l=t+n;r>t?r=t:l>r+o&&(r=l-o),content.scrollTop=r}},select:function(li){var t,r=this.options,o=this._current;li instanceof Date&&(li=n.toString(li,r.format,r.culture)),"string"==typeof li&&(li=o&&o.text()===li?o:(li=e.grep(this.ul[0].childNodes,(function(e){return(e.textContent||e.innerText)==li})))[0]?li:null),t=this._distinctSelection(li),this.current(t)},_distinctSelection:function(t){var n,r;return t&&t.length>1&&(n=I(this._value),r=e.inArray(n,this._dates),t=this.ul.children()[r]),t},setOptions:function(e){var t=this.options;e.min=o(e.min),e.max=o(e.max),this.options=S(t,e,{active:t.active,change:t.change,close:t.close,open:t.open}),this.bind()},toggle:function(){this.popup.visible()?this.close():this.open()},value:function(e){this._value=e,this.ul[0].firstChild&&this.select(e)},_click:function(t){var li=e(t.currentTarget),n=li.text(),r=this.options.dates;r&&r.length>0&&(n=r[li.index()]),t.isDefaultPrevented()||(this.select(li),this.options.change(n,!0),this.close())},_height:function(){var e=this.list,t=e.parent(".k-animation-container"),n=this.options.height;this.ul[0].children.length&&e.add(t).show().height(this.ul[0].scrollHeight>n?n:"auto").hide()},_parse:function(e){var t=this.options,n=I(t.min)!=I(E)?t.min:null,r=I(t.max)!=I(E)?t.max:null,l=this._value||n||r||E;return e instanceof D?e:((e=o(e,t.parseFormats,t.culture))&&(e=new D(l.getFullYear(),l.getMonth(),l.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e)},_adjustListWidth:function(){var e,t,r=this.list,o=r[0].style.width,l=this.options.anchor,c=n._outerWidth;!r.data("width")&&o||(t=(e=window.getComputedStyle?window.getComputedStyle(l[0],null):0)?parseFloat(e.width):c(l),e&&(d.mozilla||d.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),o=t-(c(r)-r.width()),r.css({fontFamily:l.css("font-family"),width:o}).data("width",o))},_popup:function(){var e=this.list,t=this.options,n=t.anchor;this.popup=new f.Popup(e,S(t.popup,{anchor:n,open:t.open,close:t.close,animation:t.animation,isRtl:h.isRtl(t.anchor)}))},move:function(e){var t=e.keyCode,ul=this.ul[0],n=this._current,o=t===r.DOWN;if(t===r.UP||o){if(e.altKey)return void this.toggle(o);(n=o?n?n[0].nextSibling:ul.firstChild:n?n[0].previousSibling:ul.lastChild)&&this.select(n),this.options.change(this._current.text()),e.preventDefault()}else t!==r.ENTER&&t!==r.TAB&&t!==r.ESC||(e.preventDefault(),n&&this.options.change(n.text(),!0),this.close())}},A.getMilliseconds=I,n.TimeView=A;var R=m.extend({init:function(element,t){var ul,r,l=this;m.fn.init.call(l,element,t),element=l.element,(t=l.options).min=o(element.attr("min"))||o(t.min),t.max=o(element.attr("max"))||o(t.max),F(t),l._initialOptions=S({},t),l._wrapper(),l.timeView=r=new A(S({},t,{id:element.attr("id"),anchor:l.wrapper,format:t.format,change:function(e,t){t?l._change(e):element.val(e)},open:function(e){l.timeView._adjustListWidth(),l.trigger("open")?e.preventDefault():(element.attr("aria-expanded",!0),ul.attr("aria-hidden",!1))},close:function(e){l.trigger("close")?e.preventDefault():(element.attr("aria-expanded",!1),ul.attr("aria-hidden",!0))},active:function(e){element&&element.length&&element[0].removeAttribute("aria-activedescendant"),e&&element.attr("aria-activedescendant",r._optionID)}})),ul=r.ul,l._icon(),l._reset();try{element[0].setAttribute("type","text")}catch(e){element[0].type="text"}if(element.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":r._timeViewID,autocomplete:"off"}),element.is("[disabled]")||e(l.element).parents("fieldset").is(":disabled")?l.enable(!1):l.readonly(element.is("[readonly]")),t.dateInput){var c=t.min,h=t.max,d=new D;I(c)==I(h)&&(c=new D(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0),h=new D(d.getFullYear(),d.getMonth(),d.getDate(),24,0,0)),l._dateInput=new f.DateInput(element,{culture:t.culture,format:t.format,min:c,max:h,value:t.value,interval:t.interval})}l._old=l._update(t.value||l.element.val()),l._oldText=element.val(),n.notify(l)},options:{name:"TimePicker",min:E,max:E,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{},dateInput:!1},events:["open","close","change"],setOptions:function(e){var t=this._value;m.fn.setOptions.call(this,e),F(e=this.options),this.timeView.setOptions(e),t&&this.element.val(n.toString(t,e.format,e.culture))},dataBind:function(e){C(e)&&this.timeView.dataBind(e)},_editable:function(e){var t=this,n=e.disable,r=e.readonly,o=t._arrow.off(v),element=t.element.off(v),l=t._inputWrapper.off(v);t._dateInput&&t._dateInput._unbindInput(),r||n?(l.addClass(n?"k-state-disabled":w).removeClass(n?w:"k-state-disabled"),element.attr("disabled",n).attr("readonly",r).attr("aria-disabled",n)):(l.addClass(w).removeClass("k-state-disabled").on("mouseenter.kendoTimePicker mouseleave.kendoTimePicker",t._toggleHover),element&&element.length&&(element[0].removeAttribute("disabled"),element[0].removeAttribute("readonly")),element.attr("aria-disabled",!1).on("keydown"+v,T(t._keydown,t)).on("focusout"+v,T(t._blur,t)).on("focus"+v,(function(){t._inputWrapper.addClass("k-state-focused")})),t._dateInput&&t._dateInput._bindInput(),o.on(_,T(t._click,t)).on("mousedown.kendoTimePicker",P))},readonly:function(e){this._editable({readonly:void 0===e||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=void 0===e||e)})},destroy:function(){m.fn.destroy.call(this),this.timeView.destroy(),this.element.off(v),this._arrow.off(v),this._inputWrapper.off(v),this._form&&this._form.off("reset",this._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){if(void 0===e)return this._value;this._old=this._update(e),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_blur:function(){var e=this.element.val();this.close(),e!==this._oldText&&this._change(e),this._inputWrapper.removeClass("k-state-focused")},_click:function(){var element=this.element;this.timeView.toggle(),h.touch||element[0]===l()||element.trigger("focus")},_change:function(e){var t,r=this.element.val();e=this._update(e);var o=(t=!n.calendar.isEqualDate(this._old,e))&&!this._typing,l=r!==this.element.val();(o||l)&&this.element.trigger("change"),t&&(this._old=e,this._oldText=this.element.val(),this.trigger("change")),this._typing=!1},_icon:function(){var t,element=this.element;(t=element.next("span.k-select"))[0]||(t=e('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(element)),this._arrow=t.attr({role:"button","aria-controls":this.timeView._timeViewID})},_keydown:function(e){var t=e.keyCode,n=this.timeView,o=this.element.val();n.popup.visible()||e.altKey?(n.move(e),this._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation()):t===r.ENTER&&o!==this._oldText?this._change(o):this._typing=!0},_option:function(option,e){var t=this.options;if(void 0===e)return t[option];(e=this.timeView._parse(e))&&(e=new D(+e),t[option]=e,this.timeView.options[option]=e,this.timeView.bind())},_toggleHover:function(t){e(t.currentTarget).toggleClass(y,"mouseenter"===t.type)},_update:function(e){var t=this.options,r=this.timeView,o=r._parse(e);return M(o,t.min,t.max)||(o=null),this._value=o,this._dateInput&&o?this._dateInput.value(o||e):this.element.val(n.toString(o||e,t.format,t.culture)),r.value(o),o},_wrapper:function(){var t,element=this.element;(t=element.parents(".k-timepicker"))[0]||(t=(t=element.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default")).wrap("<span/>").parent()),t[0].style.cssText=element[0].style.cssText,this.wrapper=t.addClass("k-widget k-timepicker").addClass(element[0].className),element.css({width:"100%",height:element[0].style.height}),this._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){t.value(element[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=form.on("reset",t._resetHandler))}});function F(e){var t=e.parseFormats;e.format=c(e.format||n.getCulture(e.culture).calendars.standard.patterns.t),(t=C(t)?t:[t]).splice(0,0,e.format),e.parseFormats=t}function P(e){e.preventDefault()}function z(e,time){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),time.getMilliseconds())}f.plugin(R)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1029)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1029:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=n.keys,c=e.proxy,template=n.template,h=".kendoButtonGroup",d="k-button",f="k-state-active",m="k-state-focused",v="k-state-disabled",_={item:template('<span #= item.enabled === false ? "disabled" : "" # # if (item.badge) { #'+n.attr("badge")+'="#=item.badge#"# } #>#= icon(iconClass) ##= image(item) ##= text #</span>'),image:template('<img alt="icon" src="#=data.imageUrl#" />'),icon:template('<span class="#=data#" />'),empty:template("")};function w(r,o){r!==t&&e('<span class="k-badge">'+n.htmlEncode(r)+"</span>").appendTo(o)}var y=o.extend({init:function(element,t){var n=this;o.fn.init.call(n,element,t),n.wrapper=n.element,n.options.items&&n._renderItems(n.options.items),n.selectedIndices=[],n.element.addClass("k-widget k-button-group").attr("role","group").attr("tabindex",n.element.attr("tabindex")||"0").children().each((function(){var t=e(this);n._updateClasses.bind(n)(t)})),n._enable=!0,n.options.enable||(n._enable=!1,n.element.attr("aria-disabled",!0).addClass(v)),n.select(n.options.index),n.element.on("click"+h,".k-button",c(n._click,n)).on("focus"+h,c(n._focus,n)).on("keydown"+h,c(n._keyDown,n)).on("blur"+h,(function(){n.preventFocus=!1,n.element.find(".k-button").removeClass(m)})).on("mousedown"+h,(function(){n.preventFocus=!0}))},events:["select"],options:{name:"ButtonGroup",selection:"single",index:-1,enable:!0},current:function(){return this.element.find("."+f)},_renderItems:function(t){var r=this;t.forEach((function(t){var o=e(_.item({image:t.imageUrl?_.image:_.empty,icon:t.imageUrl||!t.iconClass&&!t.icon?_.empty:_.icon,iconClass:t.iconClass||"k-icon k-i-"+t.icon,item:t,text:t.text?!1===t.encoded?t.text:n.htmlEncode(t.text):""}));t.attributes&&o.attr(t.attributes),t.selected&&o.addClass(f),(t.iconClass||t.icon||t.imageUrl)&&o.addClass(t.text?"k-button-icontext":"k-button-icon"),o.appendTo(r.element)}))},_focus:function(){var element=e(this.element);this.preventFocus||(element.find("."+f).length?element.find("."+f).first().focus().addClass(m):element.children().first().focus().addClass(m))},_keyDown:function(t){var r=e(this.element),o=r.find(".k-button"),c=r.find("."+m),h=o.index(c),d=n.support.isRtl(this.element);t.keyCode===l.LEFT&&!d||t.keyCode===l.RIGHT&&d?(c.removeClass(m),(0===h?o.eq(o.length-1):e(o[h-1])).focus().addClass(m),t.preventDefault()):t.keyCode===l.LEFT&&d||t.keyCode===l.RIGHT&&!d?(c.removeClass(m),(h+1===o.length?o.eq(0):e(o[h+1])).focus().addClass(m),t.preventDefault()):t.keyCode!==l.ENTER&&t.keyCode!==l.SPACEBAR||(this._select(c),t.preventDefault())},select:function(button){var n,r=-1;button!==t&&-1!==button&&(this.element.find(".k-button").removeClass(m),"number"==typeof button?(r=button,button=this.element.children().eq(button)):button.nodeType&&(r=(button=e(button)).index()),"multiple"===this.options.selection?(n="true"===button.attr("aria-pressed"),button.attr("aria-pressed",!n).toggleClass(f),-1===this.selectedIndices.indexOf(r)?this.selectedIndices.push(r):this.selectedIndices.splice(this.selectedIndices.indexOf(r),1)):(this.selectedIndices=[],this.current().attr("aria-pressed",!1).removeClass(f),button.attr("aria-pressed",!0).addClass(f),this.selectedIndices.push(r)),this.trigger("select",{indices:this.selectedIndices}))},badge:function(e,t){var r,o=this.element,button=isNaN(e)?o.find(e):o.children().eq(e),l=t||0===t;if(button.length){if(!(r=button.children(".k-badge").eq(0)).length&&l)return w(n.htmlEncode(t),button),n.htmlEncode(t);if(l)r.html(n.htmlEncode(t));else if(!1===t)return void r.empty().remove();return r.html()}},enable:function(e){void 0===e&&(e=!0),this.element.attr("aria-disabled",!e).toggleClass(v,!e),this._enable=this.options.enable=e},destroy:function(){this.element.off(h),o.fn.destroy.call(this)},_updateClasses:function(button){var t=n.attrValue(button,"icon"),r=n.attrValue(button,"badge"),image=button.find("img").addClass("k-image"),o=!0;button.attr("aria-pressed",!1).attr("role","button").addClass(d),(button.is("[disabled]")||button.hasClass(v))&&button.addClass(v).attr("aria-disabled",!0).removeAttr("disabled"),button.is("."+f)&&(button.removeClass(f),(!button.hasClass(v)&&"single"===this.options.selection||"multiple"===this.options.selection)&&this.select(button[0])),!image[0]&&t&&button.prepend(e(_.icon("k-icon k-i-"+t))),button.contents().filter((function(){return!e(this).hasClass("k-icon")&&!e(this).hasClass("k-image")})).each((function(){(1==this.nodeType||3==this.nodeType&&e.trim(this.nodeValue).length>0)&&(o=!1)})),(image[0]||t)&&button.addClass(o?"k-button-icon":"k-button-icontext"),(r||0===r)&&w(r,button)},_click:function(t){var n=e(t.target).closest(".k-button");t.isDefaultPrevented()||this._select(n)},_select:function(e){var button=e;this.element.find(".k-button").removeClass(m),this._enable&&!button.is("."+v)?(this.select(e[0]),button.addClass(m)):button.addClass(m)}});r.plugin(y)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1023)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1023:function(e,t,n){var r,o,l;n(3),o=[n(1024),n(1025),n(1026)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.support,o=n.caret,l=n._activeElement,c=r.placeholder,h=n.ui,d=h.List,f=n.keys,m=n.data.DataSource,v="k-state-default",_=".kendoAutoComplete",w=e.proxy;function y(e,text,t){return t?text.substring(0,e).split(t).length-1:0}var x=d.extend({init:function(element,t){var r,o=this;o.ns=_,t=e.isArray(t)?{dataSource:t}:t,d.fn.init.call(o,element,t),element=o.element,(t=o.options).placeholder=t.placeholder||element.attr("placeholder"),c&&element.attr("placeholder",t.placeholder),o._wrapper(),o._loader(),o._clearButton(),o._dataSource(),o._ignoreCase(),element[0].type="text",r=o.wrapper,o._popup(),element.addClass("k-input").on("keydown"+_,w(o._keydown,o)).on("keypress"+_,w(o._keypress,o)).on("input"+_,w(o._search,o)).on("paste"+_,w(o._search,o)).on("focus"+_,(function(){o._prev=o._accessor(),o._oldText=o._prev,o._placeholder(!1),r.addClass("k-state-focused")})).on("focusout"+_,(function(){o._change(),o._placeholder(),o.close(),r.removeClass("k-state-focused")})).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),o._clear.on("click"+_+" touchend"+_,w(o._clearValue,o)),o._enable(),o._old=o._accessor(),element[0].id&&element.attr("aria-owns",o.ul[0].id),o._aria(),o._placeholder(),o._initList(),e(o.element).parents("fieldset").is(":disabled")&&o.enable(!1),o.listView.bind("click",(function(e){e.preventDefault()})),o._resetFocusItemHandler=e.proxy(o._resetFocusItem,o),n.notify(o),o._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0,autoWidth:!1,popup:null},_dataSource:function(){this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._progressHandler=w(this._showBusy,this),this._errorHandler=w(this._hideBusy,this)),this.dataSource=m.create(this.options.dataSource).bind("progress",this._progressHandler).bind("error",this._errorHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);d.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},_listOptions:function(t){var n=d.fn._listOptions.call(this,e.extend(t,{skipUpdateOnBind:!0}));return n.dataValueField=n.dataTextField,n.selectedItemChange=null,n},_editable:function(e){var element=this.element,t=this.wrapper.off(_),n=e.readonly,r=e.disable;n||r?(t.addClass(r?"k-state-disabled":v).removeClass(r?v:"k-state-disabled"),element.attr("disabled",r).attr("readonly",n).attr("aria-disabled",r).attr("aria-readonly",n)):(t.addClass(v).removeClass("k-state-disabled").on("mouseenter.kendoAutoComplete mouseleave.kendoAutoComplete",this._toggleHover),element.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1))},close:function(){var e=this.listView.focus();e&&e.removeClass("k-state-selected"),this.popup.close()},destroy:function(){this.element.off(_),this._clear.off(_),this.wrapper.off(_),d.fn.destroy.call(this)},refresh:function(){this.listView.refresh()},select:function(li){this._select(li)},search:function(t){var n,r=this.options,l=r.ignoreCase,c=this._separator(),h=this.dataSource.options.accentFoldingFiltering;t=t||this._accessor(),clearTimeout(this._typingTimeout),c&&(t=function(e,text,t){return text.split(t)[y(e,text,t)]}(o(this.element)[0],t,c)),n=t.length,(!r.enforceMinLength&&!n||n>=r.minLength)&&(this._open=!0,this._mute((function(){this.listView.value([])})),this._filterSource({value:l?h?t.toLocaleLowerCase(h):t.toLowerCase():t,operator:r.filter,field:r.dataTextField,ignoreCase:l}),this.one("close",e.proxy(this._unifySeparators,this))),this._toggleCloseVisibility()},suggest:function(e){var t,n=this._last,r=this._accessor(),element=this.element[0],c=o(element)[0],h=this._separator(),m=r.split(h),v=y(c,r,h),_=c,w=this.dataSource.options.accentFoldingFiltering;n!=f.BACKSPACE&&n!=f.DELETE?("string"!=typeof(e=e||"")&&(e[0]&&(e=this.dataSource.view()[d.inArray(e[0],this.ul[0])]),e=e?this._text(e):""),c<=0&&(c=(w?r.toLocaleLowerCase(w):r.toLowerCase()).indexOf(w?e.toLocaleLowerCase(w):e.toLowerCase())+1),t=(t=r.substring(0,c).lastIndexOf(h))>-1?c-(t+h.length):c,r=m[v].substring(0,t),e&&(e=e.toString(),(t=(w?e.toLocaleLowerCase(w):e.toLowerCase()).indexOf(w?r.toLocaleLowerCase(w):r.toLowerCase()))>-1&&(_=c+(e=e.substring(t+r.length)).length,r+=e),h&&""!==m[m.length-1]&&m.push("")),m[v]=r,this._accessor(m.join(h||"")),element===l()&&o(element,c,_)):this._last=void 0},value:function(e){if(void 0===e)return this._accessor();this.listView.value(e),this._accessor(e),this._old=this._accessor(),this._oldText=this._accessor(),this._toggleCloseVisibility()},_click:function(e){var t=e.item,n=this,element=n.element,r=n.listView.dataItemByIndex(n.listView.getElementIndex(t));e.preventDefault(),n._active=!0,n.trigger("select",{dataItem:r,item:t})?n.close():(n._oldText=element.val(),n._select(t).done((function(){n._blur(),o(element,element.val().length)})))},_clearText:e.noop,_resetFocusItem:function(){var e=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(e)},_listBound:function(){var e,t=this.popup,n=this.options,data=this.dataSource.flatView(),r=data.length,o=this.dataSource._group.length,c=this.element[0]===l();this._renderFooter(),this._renderNoData(),this._toggleNoData(!r),this._toggleHeader(!!o&&!!r),this._resizePopup(),t.position(),r&&n.suggest&&c&&this.suggest(data[0]),this._open&&(this._open=!1,e=this._allowOpening()?"open":"close",this._typingTimeout&&!c&&(e="close"),r&&(this._resetFocusItem(),n.virtual&&this.popup.unbind("activate",this._resetFocusItemHandler).one("activate",this._resetFocusItemHandler)),t[e](),this._typingTimeout=void 0),this._touchScroller&&this._touchScroller.reset(),this._hideBusy(),this._makeUnselectable(),this.trigger("dataBound")},_mute:function(e){this._muted=!0,e.call(this),this._muted=!1},_listChange:function(){(this._active||this.element[0]===l())&&!this._muted&&this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t=this._separator(),text="";e&&(text=this._text(e)),null===text&&(text=""),t&&(text=function(e,text,t,n,r){var o=text.split(n);return o.splice(y(e,text,n),1,t),n&&""!==o[o.length-1]&&o.push(""),o.join(r)}(o(this.element)[0],this._accessor(),text,t,this._defaultSeparator())),this._prev=text,this._accessor(text),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_preselect:function(e,text){this._inputValue(text),this._accessor(e),this._old=this.oldText=this._accessor(),this.listView.setValue(e),this._placeholder()},_change:function(){var e=this._unifySeparators().value(),t=e!==d.unifyType(this._old,typeof e),n=t&&!this._typing,r=this._oldText!==e;this._old=e,this._oldText=e,(n||r)&&this.element.trigger("change"),t&&this.trigger("change"),this.typing=!1,this._toggleCloseVisibility()},_accessor:function(e){var element=this.element[0];if(void 0===e)return e=element.value,element.className.indexOf("k-readonly")>-1&&e===this.options.placeholder?"":e;element.value=null===e?"":e,this._placeholder()},_keydown:function(e){var t=this,n=e.keyCode,r=t.listView,o=t.popup.visible(),l=r.focus();if(t._last=n,n===f.DOWN)o?this._move(l?"focusNext":"focusFirst"):t.value()&&t._filterSource({value:t.ignoreCase?t.value().toLowerCase():t.value(),operator:t.options.filter,field:t.options.dataTextField,ignoreCase:t.ignoreCase}).done((function(){t._allowOpening()&&(t._resetFocusItem(),t.popup.open())})),e.preventDefault();else if(n===f.UP)o&&this._move(l?"focusPrev":"focusLast"),e.preventDefault();else if(n===f.HOME)this._move("focusFirst");else if(n===f.END)this._move("focusLast");else if(n===f.ENTER||n===f.TAB){if(n===f.ENTER&&o&&e.preventDefault(),o&&l){var c=r.dataItemByIndex(r.getElementIndex(l));if(t.trigger("select",{dataItem:c,item:l}))return;this._select(l)}this._blur()}else if(n===f.ESC)o?e.preventDefault():t._clearValue(),t.close();else if(!t.popup.visible()||n!==f.PAGEDOWN&&n!==f.PAGEUP)t.popup._hovered=!0,t._search();else{e.preventDefault();var h=n===f.PAGEDOWN?1:-1;r.scrollWith(h*r.screenHeight())}},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(e){this.listView[e](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){clearTimeout(this._busy),this._loading.hide(),this.element.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout((function(){e.element.attr("aria-busy",!0),e._loading.show(),e._hideClear()}),100))},_placeholder:function(e){if(!c){var t,element=this.element,n=this.options.placeholder;if(n){if(t=element.val(),void 0===e&&(e=!t),e||(n=t!==n?t:""),t===this._old&&!e)return;element.toggleClass("k-readonly",e).val(n),n||element[0]!==document.activeElement||o(element[0],0,0)}}},_separator:function(){var e=this.options.separator;return e instanceof Array?new RegExp(e.join("|"),"gi"):e},_defaultSeparator:function(){var e=this.options.separator;return e instanceof Array?e[0]:e},_inputValue:function(){return this.element.val()},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())}),e.options.delay)},_select:function(e){var t=this;return t._active=!0,t.listView.select(e).done((function(){t._active=!1}))},_loader:function(){this._loading=e('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){d.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.element),this.wrapper.addClass("k-autocomplete-clearable"))},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_toggleCloseVisibility:function(){this.value()?this._showClear():this._hideClear()},_wrapper:function(){var t,element=this.element,n=element[0];(t=element.parent()).is("span.k-widget")||(t=element.wrap("<span />").parent()),t.attr("tabindex",-1),t.attr("role","presentation"),t[0].style.cssText=n.style.cssText,element.css({width:"",height:n.style.height}),this._focused=this.element,this.wrapper=t.addClass("k-widget k-autocomplete").addClass(n.className),this._inputWrapper=e(t[0])},_clearValue:function(){d.fn._clearValue.call(this),this.element.focus()}});h.plugin(x)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1024:function(e,t){e.exports=n(49)},1025:function(e,t){e.exports=n(19)},1026:function(e,t){e.exports=n(64)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1197)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1004:function(e,t){e.exports=n(25)},1062:function(e,t){e.exports=n(5)},1197:function(e,t,n){var r,o,l;n(3),o=[n(1004),n(1198),n(1062),n(1199),n(1200),n(1201)],void 0===(l="function"==typeof(r=function(){return function(e){var t=window.kendo,n=t.dom,r=n.element,o=n.text,l=t.support.browser,c=t.support.mobileOS,h=t.ui,d=h.Widget,f=e.extend,m=t._outerWidth,v=t._outerHeight,map=e.map,_=e.isFunction,w=l.msie&&l.version<9,y=t.keys,x={title:"Title",start:"Start Time",end:"End Time",percentComplete:"% Done",parentId:"Predecessor ID",id:"ID",orderId:"Order ID"},k=".kendoGanttList";function C(){var n=t._activeElement();n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}var S=h.GanttList=d.extend({init:function(element,t){d.fn.init.call(this,element,t),0===this.options.columns.length&&this.options.columns.push("title"),this.dataSource=this.options.dataSource,this._columns(),this._layout(),this._domTrees(),this._header(),this._sortable(),this._editable(),this._selectable(),this._draggable(),this._resizable(),this._attachEvents(),this._adjustHeight(),this.bind("render",(function(){var t,n;this.options.resizable&&(t=this.header.find("col"),n=this.content.find("col"),this.header.find("th").not(":last").each((function(r){var o=m(e(this));t.eq(r).width(o),n.eq(r).width(o)})),t.last().css("width","auto"),n.last().css("width","auto"))}),!0)},_adjustHeight:function(){this.content&&this.content.height(this.element.height()-v(this.header.parent()))},destroy:function(){d.fn.destroy.call(this),this._reorderDraggable&&this._reorderDraggable.destroy(),this._tableDropArea&&this._tableDropArea.destroy(),this._contentDropArea&&this._contentDropArea.destroy(),this._columnResizable&&this._columnResizable.destroy(),this.touch&&this.touch.destroy(),this.timer&&clearTimeout(this.timer),this.content.off(k),this.header.find("thead").off(k),this.header.find("."+S.link).off(k),this.header=null,this.content=null,this.levels=null,t.destroy(this.element)},options:{name:"GanttList",selectable:!0,editable:!0,resizable:!1},_attachEvents:function(){var t=this,n=S.styles;t.content.on("click"+k,"td > span."+n.icon+":not(."+n.iconHidden+")",(function(n){var element=e(this),r=t._modelFromElement(element);r.set("expanded",!r.get("expanded")),n.stopPropagation()}))},_domTrees:function(){this.headerTree=new n.Tree(this.header[0]),this.contentTree=new n.Tree(this.content[0])},_columns:function(){var e=this.options.columns,t=function(){this.field="",this.title="",this.editable=!1,this.sortable=!1};this.columns=map(e,(function(e){return e="string"==typeof e?{field:e,title:x[e]}:e,f(new t,e)}))},_layout:function(){var n,r,table,o=this,l=this.options,element=this.element,c=S.styles;element.addClass(c.wrapper).append("<div class='"+c.gridHeader+"'><div class='"+c.gridHeaderWrap+"'></div></div>").append("<div class='"+c.gridContentWrap+"'></div>"),this.header=element.find("."+c.gridHeaderWrap),this.content=element.find("."+c.gridContent),l.rowHeight&&(this._rowHeight=(r="string"==typeof l.rowHeight?l.rowHeight:l.rowHeight+"px",table=e(t.format("<table style='visibility: hidden;'><tbody><tr style='height:{0}'><td>&nbsp;</td></tr></tbody></table>",r)),o.content.append(table),n=v(table.find("tr")),table.remove(),n))},_header:function(){var colgroup,thead,table,e=this.headerTree;colgroup=r("colgroup",null,this._cols()),thead=r("thead",{role:"rowgroup"},[r("tr",{role:"row"},this._ths())]),table=r("table",{style:{minWidth:this.options.listWidth+"px"},role:"grid"},[colgroup,thead]),e.render([table])},_render:function(e){var colgroup,tbody,table,t={style:{minWidth:this.options.listWidth+"px"},tabIndex:0,role:"treegrid"};this._rowHeight&&(t.style.height=e.length*this._rowHeight+"px"),this.levels=[{field:null,value:0}],colgroup=r("colgroup",null,this._cols()),tbody=r("tbody",{role:"rowgroup"},this._trs(e)),table=r("table",t,[colgroup,tbody]),this.contentTree.render([table]),this.trigger("render")},_ths:function(){for(var e,t,n=this.columns,l=[],i=0,c=n.length;i<c;i++)t={"data-field":(e=n[i]).field,"data-title":e.title,className:S.styles.header,role:"columnheader"},l.push(r("th",t,[o(e.title)]));return this.options.resizable&&l.push(r("th",{className:S.styles.header,role:"columnheader"})),l},_cols:function(){for(var style,e,t=this.columns,n=[],i=0,o=t.length;i<o;i++)style=(e=t[i].width)&&0!==parseInt(e,10)?{style:{width:"string"==typeof e?e:e+"px"}}:null,n.push(r("col",style,[]));return this.options.resizable&&n.push(r("col",{style:{width:"1px"}})),n},_trs:function(e){for(var t,n,r,o=[],l=[],c=S.styles,i=0,h=e.length;i<h;i++)t=e[i],r=this._levels({idx:t.parentId,id:t.id,summary:t.summary}),n={"data-uid":t.uid,"data-level":r,role:"row"},t.summary&&(n["aria-expanded"]=t.expanded),i%2!=0&&l.push(c.alt),t.summary&&l.push(c.group),l.length&&(n.className=l.join(" ")),o.push(this._tds({task:t,attr:n,level:r})),l=[];return o},_tds:function(e){for(var t,n=[],o=this.columns,i=0,l=o.length;i<l;i++)t=o[i],n.push(this._td({task:e.task,column:t,level:e.level}));return this.options.resizable&&n.push(r("td",{role:"gridcell"})),r("tr",e.attr,n)},_td:function(e){var n,label,l=[],c=this.options.resourcesField,h=S.styles,d=e.task,f=e.column,m=d.get(f.field);if(f.field==c){m=m||[],n=[];for(var i=0;i<m.length;i++)n.push(t.format("{0} [{1}]",m[i].get("name"),m[i].get("formatedValue")));n=n.join(", ")}else n=f.format?t.format(f.format,m):m;return"title"===f.field&&((l=function(e){for(var t=[],n=e.className,i=0,o=e.level;i<o;i++)t.push(r("span",{className:n}));return t}({level:e.level,className:h.iconPlaceHolder})).push(r("span",{className:h.icon+" "+(d.summary?d.expanded?h.iconCollapse:h.iconExpand:h.iconHidden)})),label=t.format("{0}, {1:P0}",n,d.percentComplete)),l.push(r("span",{"aria-label":label},[o(n)])),r("td",{role:"gridcell"},l)},_levels:function(e){for(var t,n=this.levels,summary=e.summary,r=e.idx,o=e.id,i=0,l=n.length;i<l;i++)if((t=n[i]).field==r)return summary&&n.push({field:o,value:t.value+1}),t.value},_sortable:function(){for(var e,n,r,o=this,l=this.options.resourcesField,c=this.columns,h=this.header.find("th["+t.attr("field")+"]"),d=function(e){(0===o.dataSource.total()||o.editable&&o.editable.trigger("validate"))&&e.preventDefault()},f=0,m=h.length;f<m;f++)(e=c[f]).sortable&&e.field!==l&&((n=(r=h.eq(f)).data("kendoColumnSorter"))&&n.destroy(),r.attr("data-"+t.ns+"field",e.field).kendoColumnSorter({dataSource:this.dataSource,change:d}));h=null},_selectable:function(){var t=this;this.options.selectable&&this.content.on("click"+k,"tr",(function(n){var element=e(this);t.editable&&t.editable.trigger("validate"),n.ctrlKey?t.clearSelection():t.select(element)}))},select:function(e){var element=this.content.find(e),t=S.styles.selected;return element.length?(element.siblings("."+t).removeClass(t).attr("aria-selected",!1).end().addClass(t).attr("aria-selected",!0),void this.trigger("change")):this.content.find("."+t)},clearSelection:function(){var e=this.select();e.length&&(e.removeClass(S.styles.selected),this.trigger("change"))},_setDataSource:function(e){this.dataSource=e,this._sortable()},_editable:function(){var t=this,n=this.options.editable,r=S.styles,o="span."+r.icon+":not("+r.iconHidden+")",l=function(){var e=t.editable;e&&(e.end()?t._closeCell():e.trigger("validate"))},h=function(t){e(t.currentTarget).hasClass(r.editCell)||C()};n&&!1!==n.update&&(this._startEditHandler=function(n){var td=n.currentTarget?e(n.currentTarget):n,r=t._columnFromElement(td);t.editable||r&&r.editable&&t._editCell({cell:td,column:r})},t.content.on("focusin"+k,(function(){clearTimeout(t.timer),t.timer=null})).on("focusout"+k,(function(){t.timer=setTimeout(l,1)})).on("keydown"+k,(function(e){e.keyCode===y.ENTER&&e.preventDefault()})).on("keyup"+k,(function(e){var n,r;switch(e.keyCode){case y.ENTER:C(),l();break;case y.ESC:t.editable&&(n=t._editableContainer,r=t._modelFromElement(n),t.trigger("cancel",{model:r,cell:n})||t._closeCell(!0))}})),c?t.touch=t.content.kendoTouch({filter:"td",touchstart:function(e){h(e.touch)},doubletap:function(n){e(n.touch.initialTouch).is(o)||t._startEditHandler(n.touch)}}).data("kendoTouch"):t.content.on("mousedown"+k,"td",(function(e){h(e)})).on("dblclick"+k,"td",(function(n){e(n.target).is(o)||t._startEditHandler(n)})))},_editCell:function(n){var r,o=this.options.resourcesField,l=S.styles,c=n.cell,h=n.column,d=this._modelFromElement(c),f=this.dataSource._createNewModel(d.toJSON()),m=f.fields[h.field]||f[h.field],v=m.validation,y=t.attr("type"),x=t.attr("bind"),k=t.attr("format"),C={name:h.field,required:!!m.validation&&!0===m.validation.required};h.field!==o?(this._editableContent=c.children().detach(),this._editableContainer=c,c.data("modelCopy",f),"date"!==m.type&&"date"!==e.type(m)||h.format&&!/H|m|s|F|g|u/.test(h.format)||(C[x]="value:"+h.field,C[y]="date",h.format&&(C[k]=t._extractFormat(h.format)),r=function(t,n){e('<input type="text"/>').attr(C).appendTo(t).kendoDateTimePicker({format:n.format})}),this.editable=c.addClass(l.editCell).kendoEditable({fields:{field:h.field,format:h.format,editor:h.editor||r},model:f,clearContainer:!1}).data("kendoEditable"),v&&v.dateCompare&&_(v.dateCompare)&&v.message&&(e("<span "+t.attr("for")+'="'+h.field+'" class="k-invalid-msg"/>').hide().appendTo(c),c.find("[name="+h.field+"]").attr(t.attr("dateCompare-msg"),v.message)),this.editable.bind("validate",(function(e){var t=this.element.find(":kendoFocusable:first").focus();w&&t.focus(),e.preventDefault()})),this.trigger("edit",{model:d,cell:c})&&this._closeCell(!0)):h.editor(c,f)},_closeCell:function(e){var t=S.styles,n=this._editableContainer,r=this._modelFromElement(n),o=this._columnFromElement(n).field,l=n.data("modelCopy"),c={};c[o]=l.get(o),n.empty().removeData("modelCopy").removeClass(t.editCell).append(this._editableContent),this.editable.unbind(),this.editable.destroy(),this.editable=null,this._editableContainer=null,this._editableContent=null,e||("start"===o&&(c.end=new Date(c.start.getTime()+r.duration())),this.trigger("update",{task:r,updateInfo:c}))},_draggable:function(){var n,r=this,o=null,l=!0,h=S.styles,d=t.support.isRtl(this.element),m="tr["+t.attr("level")+" = 0]:last",v={},_=this.options.editable,w=function(){o=null,n=null,l=!0,v={}},y=function(){return r._reorderDraggable.hint.children("."+h.dragStatus).removeClass(h.dropPositions)};_&&!1!==_.reorder&&!1!==_.update&&(this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:c,group:"listGroup",filter:"tr[data-uid]",ignore:"."+h.input,hint:function(t){return e('<div class="'+h.header+" "+h.dragClue+'"/>').css({width:300,paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).append('<span class="'+h.icon+" "+h.dragStatus+'" /><span class="'+h.dragClueText+'"/>')},cursorOffset:{top:-20,left:0},container:this.content,dragstart:function(e){var t=r.editable;t&&!1!==t.reorder&&t.trigger("validate")?e.preventDefault():(o=r._modelFromElement(e.currentTarget),this.hint.children("."+h.dragClueText).text(o.get("title")),d&&this.hint.addClass(h.rtl))},drag:function(e){l&&(function(e){if(n){var r,o=e.location,l=h.dropAdd,c="add",d=parseInt(n.attr(t.attr("level")),10);o<=n.beforeLimit?(r=n.prev(),l=h.dropTop,c="insert-before"):o>=n.afterLimit&&(r=n.next(),l=h.dropBottom,c="insert-after"),r&&parseInt(r.attr(t.attr("level")),10)===d&&(l=h.dropMiddle),v.className=l,v.command=c}}(e.y),y().addClass(v.className))},dragend:function(){w()},dragcancel:function(){w()}}).data("kendoDraggable"),this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]",dragenter:function(c){var d,m;n=c.dropTarget,function(e){for(var t=e;t;){if(o.get("id")===t.get("id")){l=!1;break}t=r.dataSource.taskParent(t)}}(r._modelFromElement(n)),d=e(n).height(),m=t.getOffset(n).top,f(n,{beforeLimit:m+.25*d,afterLimit:m+.75*d}),y().toggleClass(h.dropDenied,!l)},dragleave:function(){l=!0,y()},drop:function(){var e=r._modelFromElement(n),t=e.orderId,c={parentId:e.parentId};if(l){switch(v.command){case"add":c.parentId=e.id;break;case"insert-before":e.parentId===o.parentId&&e.orderId>o.orderId?c.orderId=t-1:c.orderId=t;break;case"insert-after":e.parentId===o.parentId&&e.orderId>o.orderId?c.orderId=t:c.orderId=t+1}r.trigger("update",{task:o,updateInfo:c})}}}).data("kendoDropTargetArea"),this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:"."+h.gridContent,drop:function(){var e=r._modelFromElement(r.content.find(m)).orderId,t={parentId:null,orderId:null!==o.parentId?e+1:e};r.trigger("update",{task:o,updateInfo:t})}}).data("kendoDropTargetArea"))},_resizable:function(){var t=this,n=S.styles;this.options.resizable&&(this._columnResizable&&this._columnResizable.destroy(),this.header.find("thead").on("mousemove"+k,"th",(function(r){var th=e(r.currentTarget),o=t.resizeHandle,l=th.position(),c=l.left,h=m(th),d=th.closest("div"),f=r.clientX+e(window).scrollLeft(),_=t.options.columnResizeHandleWidth;c+=d.scrollLeft(),o||(o=t.resizeHandle=e('<div class="'+n.resizeHandle+'"><div class="'+n.resizeHandleInner+'" /></div>'));var w=th.offset().left+h;f>w-_&&f<w+_?(d.append(o),o.show().css({top:l.top,left:c+h-_-1,height:v(th),width:3*_}).data("th",th)):o.hide()})),this._columnResizable=this.header.kendoResizable({handle:"."+n.resizeHandle,start:function(n){var th=e(n.currentTarget).data("th"),r="col:eq("+th.index()+")",header=t.header.find("table"),o=t.content.find("table");t.element.addClass("k-grid-column-resizing"),this.col=o.children("colgroup").find(r).add(header.find(r)),this.th=th,this.startLocation=n.x.location,this.columnWidth=m(th),this.table=header.add(o),this.totalWidth=this.table.width()-m(header.find("th:last"))},resize:function(e){var t=e.x.location-this.startLocation;this.columnWidth+t<11&&(t=11-this.columnWidth),this.table.css({minWidth:this.totalWidth+t}),this.col.width(this.columnWidth+t)},resizeend:function(){t.element.removeClass("k-grid-column-resizing");var e=Math.floor(this.columnWidth),n=Math.floor(m(this.th)),r=t.columns[this.th.index()];t.trigger("columnResize",{column:r,oldWidth:e,newWidth:n}),this.table=this.col=this.th=null}}).data("kendoResizable"))},_modelFromElement:function(element){var e=element.closest("tr");return this.dataSource.getByUid(e.attr(t.attr("uid")))},_columnFromElement:function(element){var td=element.closest("td"),e=td.parent().children().index(td);return this.columns[e]}});f(!0,h.GanttList,{styles:{wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",rtl:"k-rtl",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",link:"k-link",resizeHandle:"k-resize-handle",resizeHandleInner:"k-resize-handle-inner",dropPositions:"k-i-insert-up k-i-insert-down k-i-plus k-i-insert-middle",dropTop:"k-i-insert-up",dropBottom:"k-i-insert-down",dropAdd:"k-i-plus",dropMiddle:"k-i-insert-middle",dropDenied:"k-i-cancel",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1198:function(e,t){e.exports=n(130)},1199:function(e,t){e.exports=n(95)},1200:function(e,t){e.exports=n(96)},1201:function(e,t){e.exports=n(42)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1202)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1004:function(e,t){e.exports=n(25)},1062:function(e,t){e.exports=n(5)},1198:function(e,t){e.exports=n(130)},1202:function(e,t,n){var r,o,l;n(3),o=[n(1004),n(1198),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e){var t=kendo.ui.Widget,n=kendo.dom.element,r=kendo.dom.text,o=kendo.dom.html,l=e.isPlainObject,c=kendo._outerWidth,h=kendo._outerHeight,d=e.extend,f=e.proxy,m=kendo.support.browser,v=!1,_=kendo.keys,w=kendo.data.Query,y=".kendoGanttTimeline",x=kendo.template("#=kendo.toString(start, 't')#"),k=kendo.template("#=kendo.toString(start, 'ddd M/dd')#"),C=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#"),S=kendo.template("#=kendo.toString(start, 'MMM')#"),T=kendo.template("#=kendo.toString(start, 'yyyy')#"),D=kendo.template('<div class="#=styles.marquee#"><div class="#=styles.marqueeColor#"></div></div>'),E=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#"><div class="#=styles.tooltipContent#"><div>#=messages.start#: #=kendo.toString(start, format)#</div><div>#=messages.end#: #=kendo.toString(end, format)#</div></div></div>'),A=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" ><div class="#=styles.tooltipContent#">#=text#%</div><div class="#=styles.tooltipCallout#" style="left:13px;"></div></div>'),I=kendo.template('<div class="#=kendo.htmlEncode(styles.taskDetails)#"><strong>#=kendo.htmlEncode(task.title)#</strong><div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div><ul class="#=styles.reset#"><li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li><li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li></ul></div>'),M={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}};function R(){var t=kendo._activeElement();t&&"body"!==t.nodeName.toLowerCase()&&e(t).blur()}var F=kendo.ui.GanttView=t.extend({init:function(element,e){t.fn.init.call(this,element,e),this.title=this.options.title||this.options.name,this.header=this.element.find("."+F.styles.gridHeader),this.content=this.element.find("."+F.styles.gridContent),this.contentWidth=this.content.width(),this._workDays=function(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n>6?n-=7:n++,t.push(n);return t}(this.options),this._headerTree=e.headerTree,this._taskTree=e.taskTree,this._taskTemplate=e.taskTemplate?kendo.template(e.taskTemplate,d({},kendo.Template,e.templateSettings)):null,this._dependencyTree=e.dependencyTree,this._taskCoordinates={},this._currentTime()},destroy:function(){t.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this.headerRow=null,this.header=null,this.content=null,this._dragHint=null,this._resizeHint=null,this._resizeTooltip=null,this._taskTooltip=null,this._percentCompleteResizeTooltip=null,this._headerTree=null,this._taskTree=null,this._dependencyTree=null},options:{showWorkHours:!1,showWorkDays:!1,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:1e4}},renderLayout:function(){this._slots=this._createSlots(),this._tableWidth=this._calculateTableWidth(),this.createLayout(this._layout()),this._slotDimensions(),this._adjustHeight(),this.content.find("."+F.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeight:function(){this.content&&this.content.height(this.element.height()-h(this.header))},createLayout:function(e){var t=this._headers(e),colgroup=this._colgroup(),r=this._headerTree,header=n("tbody",null,t),table=n("table",{style:{width:this._tableWidth+"px"},role:"presentation"},[colgroup,header]);r.render([table]),this.headerRow=this.header.find("table:first tr").last()},_slotDimensions:function(){for(var slot,header,e=this.headerRow[0].children,t=this._timeSlots(),i=0,n=e.length;i<n;i++)header=e[i],(slot=t[i]).offsetLeft=header.offsetLeft,slot.offsetWidth=header.offsetWidth},render:function(e){var t,n,r=e.length,o=F.styles,l=this._rowsTable(r),c=this._columnsTable(r),h=this._tasksTable(e),d=this.options.currentTimeMarker,f=this.options.calculatedSize;this._taskTree.render([l,c,h]),t=this.content.find("."+o.rowsTable),f&&(n=f.row*e.length,this.content.find("."+o.tasksTable).height(n),t.height(n)),this._contentHeight=t.height(),this._rowHeight=f?f.row:this._contentHeight/t.find("tr").length,this.content.find("."+o.columnsTable).height(this._contentHeight),!1!==d&&void 0!==d.updateInterval&&this._renderCurrentTime()},_rowsTable:function(e){for(var t,o=[],l=F.styles,c=[null,{className:l.alt}],i=0;i<e;i++)t=n("tr",c[i%2],[n("td",null,[r(" ")])]),o.push(t);return this._createTable(1,o,{className:l.rowsTable})},_columnsTable:function(){for(var e,slot,t,o,l=[],c=F.styles,h=this._timeSlots(),d=h.length,f=0,i=0;i<d;i++)o={},f+=t=(slot=h[i]).span,1!==t&&(o.colspan=t),slot.isNonWorking&&(o.className=c.nonWorking),l.push(n("td",o,[r(" ")]));return e=n("tr",null,l),this._createTable(f,[e],{className:c.columnsTable})},_tasksTable:function(e){for(var t,r,o,l,c,h,d,f,m,_=[],w=F.styles,y=this._taskCoordinates={},x=this._calculateMilestoneWidth(),k=Math.round(x.width),C=this.options.resourcesField,S=[w.resource,w.resourceAlt],T=this.options.calculatedSize,D=this._calculateResourcesMargin(),E=this._calculateTaskBorderWidth(),i=0,A=e.length;i<A;i++)l=e[i],(o=this._taskPosition(l)).borderWidth=E,t=n("tr",null),r=n("td"),l.start<=this.end&&l.end>=this.start&&(r.children.push(this._renderTask(e[i],o)),l[C]&&l[C].length&&(c=v?this._tableWidth-o.left:Math.max(o.width||x.clientWidth,0)+o.left,(h={width:this._tableWidth-(c+D)+"px"})[v?"right":"left"]=c+"px",T&&(h.height=T.cell+"px"),r.children.push(n("div",{className:w.resourcesWrap,style:h},this._renderResources(l[C],S[i%2])))),d=i,f=void 0,m=void 0,m=(f=o.left)+o.width,l.isMilestone()&&(m=(f-=k/2)+k),y[l.id]={start:f,end:m,rowIndex:d}),t.children.push(r),_.push(t);return this._createTable(1,_,{className:F.styles.tasksTable})},_createTable:function(e,t,r){for(var colgroup,tbody,o=[],i=0;i<e;i++)o.push(n("col"));return colgroup=n("colgroup",null,o),tbody=n("tbody",null,t),r.style||(r.style={}),r.style.width=this._tableWidth+"px",r.role="presentation",n("table",r,[colgroup,tbody])},_calculateTableWidth:function(){for(var e,t=this._timeSlots(),n=0,r=0,i=0,o=t.length;i<o;i++)r+=e=t[i].span,e>n&&(n=e);return Math.round(r*this.options.slotSize/n)},_calculateMilestoneWidth:function(){var t,n,r=F.styles.task+" "+F.styles.taskMilestone,o=e("<div class='"+r+"' style='visibility: hidden; position: absolute'>");return this.content.append(o),t={width:(n=o[0].getBoundingClientRect()).right-n.left,clientWidth:o[0].clientWidth},o.remove(),t},_calculateResourcesMargin:function(){var t,n=e("<div class='"+F.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");return this.content.append(n),t=parseInt(n.css(v?"margin-right":"margin-left"),10),n.remove(),t},_calculateTaskBorderWidth:function(){var t,n,r=F.styles.task+" "+F.styles.taskSingle,o=e("<div class='"+r+"' style='visibility: hidden; position: absolute'>");return this.content.append(o),n=kendo.getComputedStyles(o[0],["border-left-width"]),t=parseFloat(n["border-left-width"],10),o.remove(),t},_renderTask:function(e,t){var r,o,l,c=this.options.editable,h=t.left,d=F.styles,f=d.taskWrap,m=this.options.calculatedSize,_={},w={className:f,style:{left:h+"px"}};return m&&(w.style.height=m.cell+"px"),e.summary?o=this._renderSummary(e,t):e.isMilestone()?(o=this._renderMilestone(e,t),w.className+=" "+d.taskMilestoneWrap):o=this._renderSingleTask(e,t),r=n("div",w,[o]),c&&!1!==c.dependencyCreate&&(r.children.push(n("div",{className:d.taskDot+" "+d.taskDotStart})),r.children.push(n("div",{className:d.taskDot+" "+d.taskDotEnd}))),e.summary||e.isMilestone()||!c||!1===c.dragPercentComplete||!1===c.update||null!==this._taskTemplate||(l=Math.round(t.width*e.percentComplete),_[v?"right":"left"]=l+"px",r.children.push(n("div",{className:d.taskDragHandle,style:_}))),r},_renderSingleTask:function(e,t){var l,c=F.styles,h=Math.round(t.width*e.percentComplete),d=[],f=this.options.editable;null!==this._taskTemplate?l=o(this._taskTemplate(e)):(l=r(e.title),d.push(n("div",{className:c.taskComplete,style:{width:h+"px"}})));var content=n("div",{className:c.taskContent},[n("div",{className:c.taskTemplate},[l])]);return d.push(content),f&&(!1!==f.destroy&&content.children.push(n("span",{className:c.taskActions},[n("a",{className:c.link+" "+c.taskDelete,href:"#","aria-label":"Delete"},[n("span",{className:c.icon+" "+c.iconDelete})])])),!1!==f.resize&&!1!==f.update&&(content.children.push(n("span",{className:c.taskResizeHandle+" "+c.taskResizeHandleWest})),content.children.push(n("span",{className:c.taskResizeHandle+" "+c.taskResizeHandleEast})))),n("div",{className:c.task+" "+c.taskSingle,"data-uid":e.uid,style:{width:Math.max(t.width-2*t.borderWidth,0)+"px"}},d)},_renderMilestone:function(e){var t=F.styles;return n("div",{className:t.task+" "+t.taskMilestone,"data-uid":e.uid})},_renderSummary:function(e,t){var r=F.styles,o=Math.round(t.width*e.percentComplete);return n("div",{className:r.task+" "+r.taskSummary,"data-uid":e.uid,style:{width:t.width+"px"}},[n("div",{className:r.taskSummaryProgress,style:{width:o+"px"}},[n("div",{className:r.taskSummaryComplete,style:{width:t.width+"px"}})])])},_renderResources:function(e,t){for(var o,l=[],i=0,c=e.length;i<c;i++)o=e[i],l.push(n("span",{className:t,style:{color:o.get("color")}},[r(o.get("name"))]));return v&&l.reverse(),l},_taskPosition:function(e){var t=Math.round,n=t(this._offset(v?e.end:e.start));return{left:n,width:t(this._offset(v?e.start:e.end))-n}},_offset:function(e){var slot,t=this._timeSlots(),n=0;return t.length?((slot=t[this._slotIndex("start",e)]).end<e?n=slot.offsetWidth:slot.start<=e&&(n=(e-slot.start)/(slot.end-slot.start)*slot.offsetWidth),v&&(n=slot.offsetWidth+1-n),slot.offsetLeft+n):0},_slotIndex:function(e,t,n){var r,o=this._timeSlots(),l=0,c=o.length-1;n&&(o=[].slice.call(o).reverse());do{o[r=Math.ceil((c+l)/2)][e]<t?l=r:(r===c&&r--,c=r)}while(l!==c);return n&&(l=o.length-1-l),l},_timeByPosition:function(e,t,n){var slot=this._slotByPosition(e);if(t)return n?slot.end:slot.start;var r=e-this.element.find("."+F.styles.tasksTable).offset().left,o=slot.end-slot.start,l=r-slot.offsetLeft;return v&&(l=slot.offsetWidth-l),new Date(slot.start.getTime()+o*(l/slot.offsetWidth))},_slotByPosition:function(e){var t=e-this.element.find("."+F.styles.tasksTable).offset().left,n=this._slotIndex("offsetLeft",t,v);return this._timeSlots()[n]},_renderDependencies:function(e){for(var t=[],n=this._dependencyTree,i=0,r=e.length;i<r;i++)t.push.apply(t,this._renderDependency(e[i]));n.render(t)},_renderDependency:function(e){var t,n=this._taskCoordinates[e.predecessorId],r=this._taskCoordinates[e.successorId];if(!n||!r)return[];for(var i=0,o=(t=this["_render"+["FF","FS","SF","SS"][v?3-e.type:e.type]](n,r)).length;i<o;i++)t[i].attr["data-uid"]=e.uid;return t},_renderFF:function(e,t){var n=this._dependencyFF(e,t,!1);return n[n.length-1].children[0]=this._arrow(!0),n},_renderSS:function(e,t){var n=this._dependencyFF(t,e,!0);return n[0].children[0]=this._arrow(!1),n.reverse()},_renderFS:function(e,t){var n=this._dependencyFS(e,t,!1);return n[n.length-1].children[0]=this._arrow(!1),n},_renderSF:function(e,t){var n=this._dependencyFS(t,e,!0);return n[0].children[0]=this._arrow(!0),n.reverse()},_dependencyFF:function(e,t,n){var r,o=this,l=[],c=0,h=0,d=0,f=0,m=n?"start":"end",v=this._rowHeight,_=e.rowIndex*v+Math.floor(v/2)-1,w=t.rowIndex*v+Math.floor(v/2)-1,y=F.styles,x=function(){l.push(o._line(y.line+" "+y.lineHorizontal,{left:c+"px",top:h+"px",width:d+"px"}))},k=function(){l.push(o._line(y.line+" "+y.lineVertical,{left:c+"px",top:h+"px",height:f+"px"}))};return c=e[m],h=_,d=10,(r=t[m]-e[m])>0!==n&&(d=Math.abs(r)+10),n?(c-=d,d-=1,x()):(x(),c+=d-2),w<h?(f=h-w,f+=2,h=w,k()):(f=w-h,f+=2,k(),h+=f-2),d=Math.abs(c-t[m]),n||(c-=d-=1),x(),l},_dependencyFS:function(e,t,n){var r=this,o=[],l=0,c=0,h=0,d=0,f=this._rowHeight,m=Math.floor(f/2),v=t.start-e.end,_=e.rowIndex*f+Math.floor(f/2)-1,w=t.rowIndex*f+Math.floor(f/2)-1,y=F.styles,x=function(){o.push(r._line(y.line+" "+y.lineHorizontal,{left:l+"px",top:c+"px",width:h+"px"}))},k=function(){o.push(r._line(y.line+" "+y.lineVertical,{left:l+"px",top:c+"px",height:d+"px"}))};return l=e.end,c=_,h=10,n&&(l+=1,v>20&&(h=v-8),h-=1),x(),l+=h-2,v<=20&&(d=n?Math.abs(w-_)-m:m,w<_?(c-=d,d+=2,k()):(k(),c+=d),(h=e.end-t.start+20)<10&&(h=10),l-=h-2,x()),w<_?(d=c-w,c=w,d+=2,k()):(d=w-c,k(),c+=d),h=t.start-l,n||(h-=1),x(),o},_line:function(e,t){return n("div",{className:e,style:t})},_arrow:function(e){return n("span",{className:e?F.styles.arrowWest:F.styles.arrowEast})},_colgroup:function(){for(var e=this._timeSlots(),t=e.length,r=[],i=0;i<t;i++)for(var o=0,l=e[i].span;o<l;o++)r.push(n("col"));return n("colgroup",null,r)},_createDragHint:function(element){this._dragHint=element.clone().addClass(F.styles.dragHint).css("cursor","move"),element.parent().append(this._dragHint)},_updateDragHint:function(e){var t=this._offset(e);this._dragHint.css({left:t})},_removeDragHint:function(){this._dragHint.remove(),this._dragHint=null},_createResizeHint:function(t){var n,r=F.styles,o=this._taskCoordinates[t.id].rowIndex*this._rowHeight,l=this.options,d=l.messages;this._resizeHint=e(D({styles:r})).css({top:0,height:this._contentHeight}),this.content.append(this._resizeHint),this._resizeTooltip=e(E({styles:r,start:t.start,end:t.end,messages:d.views,format:l.resizeTooltipFormat})).css({top:0,left:0}),this.content.append(this._resizeTooltip),this._resizeTooltipWidth=c(this._resizeTooltip),(n=o-h(this._resizeTooltip))<0&&(n=o+this._rowHeight),this._resizeTooltipTop=n},_updateResizeHint:function(t,n,r){var o=this._offset(v?n:t),l=this._offset(v?t:n),c=l-o,h=r!==v?o:l,d=this._tableWidth-kendo.support.scrollbar(),f=this._resizeTooltipWidth,m=this.options,_=m.messages,w=this.element.find("."+F.styles.tasksTable).offset().left-this.element.find("."+F.styles.tasksWrapper).offset().left;v&&(o+=w),this._resizeHint.css({left:o,width:c}),this._resizeTooltip&&this._resizeTooltip.remove(),(h-=Math.round(f/2))<0?h=0:h+f>d&&(h=d-f),v&&(h+=w),this._resizeTooltip=e(E({styles:F.styles,start:t,end:n,messages:_.views,format:m.resizeTooltipFormat})).css({top:this._resizeTooltipTop,left:h,"min-width":f}).appendTo(this.content)},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=null,this._resizeTooltip.remove(),this._resizeTooltip=null},_updatePercentCompleteTooltip:function(t,n,text){this._removePercentCompleteTooltip();var r=this._percentCompleteResizeTooltip=e(A({styles:F.styles,text:text})).appendTo(this.element),o=Math.round(c(r)/2),l=r.find("."+F.styles.callout),d=Math.round(c(l)/2);r.css({top:t-(h(r)+d),left:n-o}),l.css("left",o-d)},_removePercentCompleteTooltip:function(){this._percentCompleteResizeTooltip&&this._percentCompleteResizeTooltip.remove(),this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(e,t,n){this._removeDependencyDragHint(),n?this._creteVmlDependencyDragHint(e,t):this._creteDependencyDragHint(e,t)},_creteDependencyDragHint:function(t,n){var r=F.styles,o=n.x-t.x,l=n.y-t.y,c=Math.sqrt(o*o+l*l),h=Math.atan(l/o);o<0&&(h+=Math.PI),e("<div class='"+r.line+" "+r.lineHorizontal+" "+r.dependencyHint+"'></div>").css({top:t.y,left:t.x,width:c,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+h+"rad)","-ms-transform":"rotate("+h+"rad)","-webkit-transform":"rotate("+h+"rad)"}).appendTo(this.content)},_creteVmlDependencyDragHint:function(t,n){var r=e("<kvml:line class='"+F.styles.dependencyHint+"' style='position:absolute; top: 0px; left: 0px;' strokecolor='black' strokeweight='2px' from='"+t.x+"px,"+t.y+"px' to='"+n.x+"px,"+n.y+"px'></kvml:line>").appendTo(this.content);r[0].outerHTML=r[0].outerHTML},_removeDependencyDragHint:function(){this.content.find("."+F.styles.dependencyHint).remove()},_createTaskTooltip:function(t,element,n){var r,o=F.styles,l=this.options,content=this.content,d=content.offset(),f=content.width(),m=kendo.scrollLeft(content),_=e(element).parents("tr").first(),w=_.offset(),template=l.tooltip&&l.tooltip.template?kendo.template(l.tooltip.template):I,y=v?n-(d.left+m+kendo.support.scrollbar()):n-(d.left-m),x=w.top+h(_)-d.top+content.scrollTop(),k=this._taskTooltip=e('<div style="z-index: 100002;" class="'+o.tooltipWrapper+'" ><div class="'+o.taskContent+'"></div></div>');k.css({left:y,top:x}).appendTo(content).find("."+o.taskContent).append(template({styles:o,task:t,messages:l.messages.views})),h(k)<w.top-d.top&&k.css("top",w.top-d.top-h(k)+content.scrollTop()),(r=c(k))+y-m>f&&((y-=r)<m&&(y=m+f-(r+17)),k.css("left",y))},_removeTaskTooltip:function(){this._taskTooltip&&this._taskTooltip.remove(),this._taskTooltip=null},_scrollTo:function(element){var e=element.offset().left,t=element.width(),n=e+t,r=element.closest("tr"),o=r.offset().top,l=o+r.height(),content=this.content,c=content.offset(),h=c.top,d=h+content.height(),f=c.left,m=content.width(),v=f+m,_=kendo.support.scrollbar();o<h?content.scrollTop(content.scrollTop()+(o-h)):l>d&&content.scrollTop(content.scrollTop()+(l+_-d)),e<f&&t>m&&n<v||n>v&&t<m?content.scrollLeft(content.scrollLeft()+(n+_-v)):(n>v&&t>m&&e>f||e<f&&t<m)&&content.scrollLeft(content.scrollLeft()+(e-f))},_scrollToDate:function(e){var t,n=this.start,r=this.end;e>=n&&e<r&&(t=this._offset(e),kendo.support.isRtl(this.element)&&(t=this._tableWidth-t),kendo.scrollLeft(this.content,t))},_timeSlots:function(){return this._slots&&this._slots.length?this._slots[this._slots.length-1]:[]},_headers:function(e){for(var t,r,l,c,h=[],d=F.styles,f=0,m=e.length;f<m;f++){r=[];for(var v=0,_=(t=e[f]).length;v<_;v++)l=t[v],c=o(l.text),r.push(n("td",{colspan:l.span,className:d.header+(l.isNonWorking?" "+d.nonWorking:"")},[c]));h.push(n("tr",null,r))}return h},_hours:function(e,t){var n,r,o,l=[],c=this.options,h=c.workDayStart.getHours(),d=c.workDayEnd.getHours(),f=c.hourSpan;for(e=new Date(e),t=new Date(t),c.showWorkHours&&e.setHours(h);e<t;)r=(o=(n=new Date(e)).getHours())>=h&&o<d,n.setHours(n.getHours()+f),o==n.getHours()&&n.setHours(n.getHours()+2*f),c.showWorkHours&&!r||l.push({start:e,end:n,isNonWorking:!r,span:1}),e=n;return l},_days:function(e,t){var n,r,o=[];for(e=new Date(e),t=new Date(t);e<t;)n=t<kendo.date.nextDay(e)?t:kendo.date.nextDay(e),r=this._isWorkDay(e),this.options.showWorkDays&&!r||o.push({start:e,end:n,isNonWorking:!r,span:1}),e=n;return o},_weeks:function(e,t){var n,r,span,o=[],l=this.calendarInfo().firstDay;for(e=new Date(e),t=new Date(t);e<t;)(n=kendo.date.dayOfWeek(kendo.date.addDays(e,1),l,1))>t&&(n=t),(span=(r=this._days(e,n)).length)>0&&o.push({start:r[0].start,end:r[span-1].end,span:span}),e=n;return o},_months:function(e,t){var n,r,o,span,l=[];for(e=new Date(e),t=new Date(t);e<t;)n=new Date(e),r=kendo.date.firstDayOfMonth(new Date(n.setMonth(n.getMonth()+1))),n=t<r?t:r,(span=(o=this._days(e,n)).length)>0&&l.push({start:o[0].start,end:o[span-1].end,span:span}),e=n;return l},_years:function(e,t){var n,r,o=[];for(e=new Date(e),t=new Date(t);e<t;)n=new Date(e),(n=kendo.date.firstDayOfMonth(new Date(n.setMonth(12))))>=t&&(n=t),r=(n.getMonth()||12)-e.getMonth(),o.push({start:e,end:n,span:r}),e=n;return o},_slotHeaders:function(e,template){for(var slot,t=[],i=0,n=e.length;i<n;i++)slot=e[i],t.push({text:template(slot),isNonWorking:!!slot.isNonWorking,span:slot.span});return t},_isWorkDay:function(e){for(var t=e.getDay(),n=this._workDays,i=0,r=n.length;i<r;i++)if(n[i]===t)return!0;return!1},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var slot,t=this._getCurrentTime(),n=this._offset(t),element=e("<div class='k-current-time'></div>"),r=F.styles,o=this.element.find("."+r.tasksWrapper),l=this.element.find("."+r.tasksTable);this.content&&this._timeSlots().length&&(this.content.find(".k-current-time").remove(),t<(slot=this._timeSlots()[this._slotIndex("start",t)]).start||t>slot.end||(o.length&&l.length&&(n+=l.offset().left-o.offset().left),element.css({left:n+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)))},_getCurrentTime:function(){return new Date},_currentTime:function(){var e=this.options.currentTimeMarker;!1!==e&&void 0!==e.updateInterval&&(this._renderCurrentTime(),this._currentTimeUpdateTimer=setInterval(f(this._renderCurrentTime,this),e.updateInterval))}});d(!0,F,{styles:{alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-i-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"}}),kendo.ui.GanttDayView=F.extend({name:"day",options:{timeHeaderTemplate:x,dayHeaderTemplate:k,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(e){var t=this.options.range;this.start=kendo.date.getDate(e.start),this.end=kendo.date.getDate(e.end),(kendo.date.getMilliseconds(e.end)>0||this.end.getTime()===this.start.getTime())&&(this.end=kendo.date.addDays(this.end,1)),t&&t.start&&(this.start=kendo.date.getDate(t.start),this.start.setHours(t.start.getHours())),t&&t.end&&(this.end=kendo.date.getDate(t.end),this.end.setHours(t.end.getHours()))},_createSlots:function(){var e,t,n,r,o=[];n=[];for(var i=0,l=(e=this._days(this.start,this.end)).length;i<l;i++)t=e[i],r=this._hours(t.start,t.end),t.span=r.length,n.push.apply(n,r);return o.push(e),o.push(n),o},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.dayHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.timeHeaderTemplate))),e}}),kendo.ui.GanttWeekView=F.extend({name:"week",options:{dayHeaderTemplate:k,weekHeaderTemplate:C,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(e){var t,n=this.options.range,r=this.calendarInfo().firstDay,o=e.end;r===o.getDay()&&o.setDate(o.getDate()+7),this.start=kendo.date.getDate(kendo.date.dayOfWeek(e.start,r,-1)),this.end=kendo.date.getDate(kendo.date.dayOfWeek(o,r,1)),n&&n.start&&(this.start=kendo.date.getDate(n.start)),n&&n.end&&(t=new Date(n.end),kendo.date.getDate(t)<n.end?this.end=kendo.date.getDate(new Date(t.setDate(t.getDate()+1))):this.end=kendo.date.getDate(t))},_createSlots:function(){var e=[];return e.push(this._weeks(this.start,this.end)),e.push(this._days(this.start,this.end)),e},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.weekHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.dayHeaderTemplate))),e}}),kendo.ui.GanttMonthView=F.extend({name:"month",options:{weekHeaderTemplate:C,monthHeaderTemplate:S,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(e){var t,n=this.options.range;this.start=kendo.date.firstDayOfMonth(e.start),this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(e.end)),1),n&&n.start&&(this.start=kendo.date.getDate(n.start)),n&&n.end&&(t=new Date(n.end),kendo.date.getDate(t)<n.end?this.end=kendo.date.getDate(new Date(t.setDate(t.getDate()+1))):this.end=kendo.date.getDate(t))},_createSlots:function(){var e=[];return e.push(this._months(this.start,this.end)),e.push(this._weeks(this.start,this.end)),e},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.monthHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.weekHeaderTemplate))),e}}),kendo.ui.GanttYearView=F.extend({name:"year",options:{yearHeaderTemplate:T,monthHeaderTemplate:S,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(e){var t,n=this.options.range;this.start=kendo.date.firstDayOfMonth(new Date(e.start.setMonth(0))),this.end=kendo.date.firstDayOfMonth(new Date(e.end.setMonth(12))),n&&n.start&&(this.start=kendo.date.firstDayOfMonth(n.start)),n&&n.end&&(t=kendo.date.firstDayOfMonth(n.end),this.end=kendo.date.getDate(new Date(t.setMonth(t.getMonth()+1))))},_createSlots:function(){var t=[],n=this._months(this.start,this.end);return e(n).each((function(e,slot){slot.span=1})),t.push(this._years(this.start,this.end)),t.push(n),t},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.yearHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.monthHeaderTemplate))),e}});var P=kendo.ui.GanttTimeline=t.extend({init:function(element,e){t.fn.init.call(this,element,e),this.options.views&&this.options.views.length||(this.options.views=["day","week","month"]),v=kendo.support.isRtl(element),this._wrapper(),this._domTrees(),this._views(),this._selectable(),this._draggable(),this._resizable(),this._percentResizeDraggable(),this._createDependencyDraggable(),this._attachEvents(),this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:!0,selectable:!0,editable:!0},destroy:function(){t.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this._currentTimeUpdateTimer&&clearInterval(this._currentTimeUpdateTimer),this._unbindView(this._selectedView),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this._percentDraggable&&this._percentDraggable.destroy(),this._dependencyDraggable&&this._dependencyDraggable.destroy(),this.touch&&this.touch.destroy(),this._headerTree=null,this._taskTree=null,this._dependencyTree=null,this.wrapper.off(y),kendo.destroy(this.wrapper)},_wrapper:function(){var t,n,r,table,o=P.styles,l=this,c=this.options;this.wrapper=this.element.addClass(o.wrapper).append("<div class='"+o.gridHeader+"'><div class='"+o.gridHeaderWrap+"'></div></div>").append("<div class='"+o.gridContentWrap+"'><div class='"+o.tasksWrapper+"'></div><div class='"+o.dependenciesWrapper+"'></div></div>"),c.rowHeight&&(this._calculatedSize=(r="string"==typeof c.rowHeight?c.rowHeight:c.rowHeight+"px",table=e(kendo.format("<table style='visibility: hidden;'><tbody><tr style='height:{0}'><td>&nbsp;</td></tr></tbody></table>",r)),l.wrapper.find("."+o.tasksWrapper).append(table),t=h(table.find("tr")),n=table.find("td").height(),table.remove(),{row:t,cell:n}))},_domTrees:function(){var e=P.styles,t=kendo.dom.Tree,n=this.wrapper;this._headerTree=new t(n.find("."+e.gridHeaderWrap)[0]),this._taskTree=new t(n.find("."+e.tasksWrapper)[0]),this._dependencyTree=new t(n.find("."+e.dependenciesWrapper)[0])},_views:function(){var view,e,t,n,r,o=this.options.views;this.views={};for(var i=0,c=o.length;i<c;i++)view=o[i],(e=l(view))&&!1===view.selectable||(t=e?"string"!=typeof view.type?view.title:view.type:view,(n=M[t])&&(e&&(view.type=n.type),n.title=this.options.messages.views[t]),view=d({title:t},n,e?view:{}),t&&(this.views[t]=view,r&&!view.selected||(r=t)));r&&(this._selectedViewName=r)},view:function(e){return e&&(this._selectView(e),this.trigger("navigate",{view:e,action:"changeView"})),this._selectedView},_selectView:function(e){e&&this.views[e]&&(this._selectedView&&this._unbindView(this._selectedView),this._selectedView=this._initializeView(e),this._selectedViewName=e)},_viewByIndex:function(e){var view,t=this.views;for(view in t){if(!e)return view;e--}},_initializeView:function(e){var t,view=this.views[e];if(view){var n=view.type;if("string"==typeof n&&(n=kendo.getter(view.type)(window)),!n)throw new Error("There is no such view");var r={};d(r,this.options.range,view.range);var o=view.date||this.options.date;view=new n(this.wrapper,(delete(t=d(!0,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree,calculatedSize:this._calculatedSize},view,this.options,{date:o,range:r})).name,delete t.prefix,delete t.views,t))}return view},_unbindView:function(view){view&&view.destroy()},_range:function(e){if(!e||!e.length)return{start:new Date,end:new Date};var t=new w(e).sort({field:"start",dir:"asc"}).toArray()[0].start||new Date,n=new w(e).sort({field:"end",dir:"desc"}).toArray()[0].end||new Date;return{start:new Date(t),end:new Date(n)}},_render:function(e){var view=this.view(),t=this._range(e),n=view.options.date;this._tasks=e,view.range(t),view.renderLayout(),view.render(e),n&&view._scrollToDate(n)},_renderDependencies:function(e){this.view()._renderDependencies(e)},_taskByUid:function(e){for(var t,n=this._tasks,r=n.length,i=0;i<r;i++)if((t=n[i]).uid===e)return t},_draggable:function(){var element,e,t,n,r=this,o=this.options.snap,l=P.styles,c=this.options.editable,h=function(){r.view()._removeDragHint(),element&&element.css("opacity",1),element=null,e=null,r.dragInProgress=!1};c&&!1!==c.move&&!1!==c.update&&(this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:"."+l.task,holdToDrag:kendo.support.mobileOS,ignore:"."+l.taskResizeHandle}),this._moveDraggable.bind("dragstart",(function(l){var view=r.view();element=l.currentTarget.parent(),e=r._taskByUid(l.currentTarget.attr("data-uid")),r.trigger("moveStart",{task:e})?l.preventDefault():(t=e.start,n=view._timeByPosition(l.x.location,o)-t,view._createDragHint(element),element.css("opacity",.5),clearTimeout(r._tooltipTimeout),r.dragInProgress=!0)})).bind("drag",kendo.throttle((function(l){if(r.dragInProgress){var view=r.view(),c=new Date(view._timeByPosition(l.x.location,o)-n),h=c;r.trigger("move",{task:e,start:c})||(t=c,v&&(h=new Date(t.getTime()+e.duration())),view._updateDragHint(h))}}),15)).bind("dragend",(function(){r.trigger("moveEnd",{task:e,start:t}),h()})).bind("dragcancel",(function(){h()})).userEvents.bind("select",(function(){R()})))},_resizable:function(){var element,e,t,n,r,o=this,l=this.options.snap,c=P.styles,h=this.options.editable,d=function(){o.view()._removeResizeHint(),element=null,e=null,o.dragInProgress=!1};h&&!1!==h.resize&&!1!==h.update&&(this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:"."+c.taskResizeHandle,holdToDrag:!1}),this._resizeDraggable.bind("dragstart",(function(l){r=l.currentTarget.hasClass(c.taskResizeHandleWest),v&&(r=!r),element=l.currentTarget.closest("."+c.task),e=o._taskByUid(element.attr("data-uid")),o.trigger("resizeStart",{task:e})?l.preventDefault():(t=e.start,n=e.end,o.view()._createResizeHint(e),clearTimeout(o._tooltipTimeout),o.dragInProgress=!0)})).bind("drag",kendo.throttle((function(c){if(o.dragInProgress){var view=o.view(),h=view._timeByPosition(c.x.location,l,!r);r?t=h<n?h:n:n=h>t?h:t,o.trigger("resize",{task:e,start:t,end:n})||view._updateResizeHint(t,n,r)}}),15)).bind("dragend",(function(){o.trigger("resizeEnd",{task:e,resizeStart:r,start:t,end:n}),d()})).bind("dragcancel",(function(){d()})).userEvents.bind("select",(function(){R()})))},_percentResizeDraggable:function(){var e,t,n,r,o,l,h,d,f,m,_=this,w=P.styles,y=this.options.editable,x=function(){_.view()._removePercentCompleteTooltip(),t=null,e=null,_.dragInProgress=!1},k=function(e){t.find("."+w.taskComplete).width(e).end().siblings("."+w.taskDragHandle).css(v?"right":"left",e)};y&&!1!==y.dragPercentComplete&&!1!==y.update&&(this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:"."+w.taskDragHandle,holdToDrag:!1}),this._percentDraggable.bind("dragstart",(function(d){_.trigger("percentResizeStart")?d.preventDefault():(t=d.currentTarget.siblings("."+w.task),e=_._taskByUid(t.attr("data-uid")),h=e.percentComplete,n=t.offset(),r=this.element.offset(),o=t.find("."+w.taskComplete).width(),l=c(t),clearTimeout(_._tooltipTimeout),_.dragInProgress=!0)})).bind("drag",kendo.throttle((function(e){if(_.dragInProgress){m=v?-e.x.initialDelta:e.x.initialDelta;var t=Math.max(0,Math.min(l,o+m));h=Math.round(t/l*100),k(t),d=n.top-r.top,f=n.left+t-r.left,v&&(f+=l-2*t),_.view()._updatePercentCompleteTooltip(d,f,h)}}),15)).bind("dragend",(function(){_.trigger("percentResizeEnd",{task:e,percentComplete:h/100}),x()})).bind("dragcancel",(function(){k(o),x()})).userEvents.bind("select",(function(){R()})))},_createDependencyDraggable:function(){var t,n,r,o=this,l=e(),d=e(),f=m.msie&&m.version<9,v=P.styles,_=this.options.editable,w=function(){t.css("display","").removeClass(v.hovered),t.parent().removeClass(v.origin),t=null,y(!1),d=e(),l=e(),o.view()._removeDependencyDragHint(),o.dragInProgress=!1},y=function(e){d.hasClass(v.origin)||(d.find("."+v.taskDot).css("display",e?"block":""),l.toggleClass(v.hovered,e))};_&&!1!==_.dependencyCreate&&(f&&document.namespaces&&document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:"."+v.taskDot,holdToDrag:!1}),this._dependencyDraggable.bind("dragstart",(function(e){if(o.trigger("dependencyDragStart"))e.preventDefault();else{(t=e.currentTarget.css("display","block").addClass(v.hovered)).parent().addClass(v.origin);var l=t.offset(),d=o.wrapper.find("."+v.tasksWrapper).offset();n=Math.round(l.left-d.left+h(t)/2),r=Math.round(l.top-d.top+c(t)/2),clearTimeout(o._tooltipTimeout),o.dragInProgress=!0}})).bind("drag",kendo.throttle((function(t){if(o.dragInProgress){o.view()._removeDependencyDragHint();var c=e(kendo.elementUnderCursor(t)),h=o.wrapper.find("."+v.tasksWrapper).offset(),m=t.x.location-h.left,_=t.y.location-h.top;o.view()._updateDependencyDragHint({x:n,y:r},{x:m,y:_},f),y(!1),l=c.hasClass(v.taskDot)?c:e(),d=c.closest("."+v.taskWrap),y(!0)}}),15)).bind("dragend",(function(){if(l.length){var e=t.hasClass(v.taskDotStart),n=l.hasClass(v.taskDotStart),r=e?n?3:2:n?1:0,c=o._taskByUid(t.siblings("."+v.task).attr("data-uid")),h=o._taskByUid(l.siblings("."+v.task).attr("data-uid"));c!==h&&o.trigger("dependencyDragEnd",{type:r,predecessor:c,successor:h})}w()})).bind("dragcancel",(function(){w()})).userEvents.bind("select",(function(){R()})))},_selectable:function(){var t=this,n=P.styles;this.options.selectable&&this.wrapper.on("click"+y,"."+n.task,(function(n){n.stopPropagation(),n.ctrlKey?t.trigger("clear"):t.trigger("select",{uid:e(this).attr("data-uid")})})).on("click"+y,"."+n.taskWrap,(function(t){t.stopPropagation(),e(this).css("z-index","0");var r=e(document.elementFromPoint(t.clientX,t.clientY));r.hasClass(n.line)&&r.click(),e(this).css("z-index","")})).on("click"+y,"."+n.tasksWrapper,(function(){t.selectDependency().length>0?t.clearSelection():t.trigger("clear")})).on("click"+y,"."+n.line,(function(e){e.stopPropagation(),t.selectDependency(this)}))},select:function(e){var element=this.wrapper.find(e),t=P.styles;return element.length?(this.clearSelection(),element.addClass(t.selected),void(kendo.support.mobileOS&&element.parent().addClass(t.taskWrapActive))):this.wrapper.find("."+t.task+"."+t.selected)},selectDependency:function(t){var n,element=this.wrapper.find(t),r=P.styles;return element.length?(this.clearSelection(),this.trigger("clear"),n=e(element).attr("data-uid"),void this.wrapper.find("."+r.line+"[data-uid='"+n+"']").addClass(r.selected)):this.wrapper.find("."+r.line+"."+r.selected)},clearSelection:function(){var e=P.styles;this.wrapper.find("."+e.selected).removeClass(e.selected),kendo.support.mobileOS&&this.wrapper.find("."+e.taskWrapActive).removeClass(e.taskWrapActive)},_attachEvents:function(){var t=this,n=P.styles;this.options.editable&&(this._tabindex(),this.wrapper.on("click"+y,"."+n.taskDelete,(function(r){t.trigger("removeTask",{uid:e(this).closest("."+n.task).attr("data-uid")}),r.stopPropagation(),r.preventDefault()})).on("keydown"+y,(function(e){var n,r=t.options.editable;e.keyCode===_.DELETE&&r&&!1!==r.dependencyDestroy&&(n=t.selectDependency()).length&&(t.trigger("removeDependency",{uid:n.attr("data-uid")}),t.clearSelection())})),kendo.support.mobileOS?this.touch=this.wrapper.kendoTouch({filter:"."+n.task,doubletap:function(n){!1!==t.options.editable.update&&t.trigger("editTask",{uid:e(n.touch.currentTarget).attr("data-uid")})}}).data("kendoTouch"):this.wrapper.on("dblclick"+y,"."+n.task,(function(n){!1!==t.options.editable.update&&(t.trigger("editTask",{uid:e(this).attr("data-uid")}),n.stopPropagation(),n.preventDefault())})))},_tooltip:function(){var t,n=this,r=this.options.tooltip,o=P.styles,l=function(e){t=e.clientX};r&&!1===r.visible||(kendo.support.mobileOS?(this.wrapper.on("click"+y,"."+o.taskDelete,(function(e){e.stopPropagation(),n.view()._removeTaskTooltip()})).on("mouseleave"+y,"."+o.task,(function(t){0===e(t.relatedTarget).parents("."+o.taskWrap,"."+o.task).length&&n.view()._removeTaskTooltip()})),this.touch&&this.touch.bind("tap",(function(t){var element=t.touch.target,r=n._taskByUid(e(element).attr("data-uid")),o=t.touch.x.client;n.view()._taskTooltip&&n.view()._removeTaskTooltip(),n.view()._createTaskTooltip(r,element,o)})).bind("doubletap",(function(){n.view()._removeTaskTooltip()}))):this.wrapper.on("mouseenter"+y,"."+o.task,(function(){var element=this,r=n._taskByUid(e(this).attr("data-uid"));n.dragInProgress||(n._tooltipTimeout=setTimeout((function(){n.view()._createTaskTooltip(r,element,t)}),800),e(this).on("mousemove",l))})).on("mouseleave"+y,"."+o.task,(function(){clearTimeout(n._tooltipTimeout),n.view()._removeTaskTooltip(),e(this).off("mousemove",l)})))}});d(!0,P,{styles:{wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1203)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1016:function(e,t){e.exports=n(3)},1031:function(e,t){e.exports=n(40)},1044:function(e,t){e.exports=n(131)},1143:function(e,t){e.exports=n(41)},1144:function(e,t){e.exports=n(21)},1196:function(e,t){e.exports=n(68)},1199:function(e,t){e.exports=n(95)},1201:function(e,t){e.exports=n(42)},1203:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1016),n(1199),n(1201),n(1144),n(1044),n(1205),n(1206),n(1207),n(1031),n(1208),n(1204),n(1143),n(1209),n(1210),n(1211),n(1212),n(1196),n(1213),n(1211),n(1214)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.data.DataSource,l=n.data.ObservableObject,h=n.support.tbodyInnerHtml,d=n._activeElement,f=r.Widget,m=n._outerWidth,v=n._outerHeight,_=n.keys,w=e.isPlainObject,y=e.extend,map=e.map,x=e.grep,k=e.isArray,C=e.inArray,S=Array.prototype.push,T=e.proxy,D=n.isFunction,E=e.isEmptyObject,A=e.contains,I=Math,M=":not(.k-group-cell):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-collapse,.k-icon.k-i-expand))):visible",R="tr:not(.k-footer-template):visible",F=":not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible",P="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",z=P+":first",B=R+":first>"+F+":first",L="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",H=".kendoGrid",N="change",O="k-state-focused",V="k-state-selected",W="input[data-role='checkbox'].k-checkbox",U="click",j="string",G="Collapse",$="aria-label",Y=/(\}|\#)/gi,K=/#/gi,Q=new RegExp("(^|[\\x20\\t\\r\\n\\f])(k-group-cell|k-hierarchy-cell)([\\x20\\t\\r\\n\\f]|$)"),X=new RegExp("(^|[\\x20\\t\\r\\n\\f])(k-filter-row)([\\x20\\t\\r\\n\\f]|$)"),J=!1,Z=n.support.browser,ee=Z.msie&&7==Z.version,te=Z.msie&&8==Z.version,ie=Z.msie&&11===Z.version,ne=/Mac OS/.test(navigator.userAgent),re="k-content",oe="k-scroll-container",se=f.extend({init:function(element,e){f.fn.init.call(this,element,e),this._refreshHandler=T(this.refresh,this),this.setDataSource(e.dataSource),this.wrap()},setDataSource:function(e){this.dataSource&&this.dataSource.unbind(N,this._refreshHandler),this.dataSource=e,this.dataSource.bind(N,this._refreshHandler),this.dataSource.options.useRanges=!0},options:{name:"VirtualScrollable",itemHeight:e.noop,prefetch:!0,maxScrollHeight:25e4},events:["paging","page","scroll"],destroy:function(){f.fn.destroy.call(this),this.dataSource.unbind(N,this._refreshHandler),this.wrapper.add(this.verticalScrollbar).off(H),clearTimeout(this._timeout),this._scrollingTimeout&&clearTimeout(this._scrollingTimeout),this.drag&&(this.drag.destroy(),this.drag=null),this.wrapper=this.element=this.verticalScrollbar=null,this._refreshHandler=null},wrap:function(){var t,r=this,o=n.support.scrollbar()+1,element=r.element;element.css({width:"auto",overflow:"hidden"}).css(J?"padding-left":"padding-right",o),r.content=element.children().first(),t=r.wrapper=r.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+H+" mousewheel"+H,T(r._wheelScroll,r)),r._wrapper(),n.support.kineticScrollNeeded&&(r.drag=new n.UserEvents(r.wrapper,{global:!0,allowSelection:!0,start:function(e){e.sender.capture()},move:function(e){r.verticalScrollbar.scrollTop(r.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),r.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:o}).appendTo(element).bind("scroll"+H,T(r._scroll,r))},_wrapper:function(){ie&&(this.wrapper.css({"overflow-y":"scroll"}),this.element.css(J?"padding-left":"padding-right",0))},_wheelScroll:function(e){if(!e.ctrlKey){var t=this.verticalScrollbar,r=t.scrollTop(),o=n.wheelDeltaY(e);!o||o>0&&0===r||o<0&&r+t[0].clientHeight==t[0].scrollHeight||(e.preventDefault(),this.verticalScrollbar.scrollTop(r+-o))}},_scroll:function(e){var t=this,n=!t.options.prefetch,r=e.currentTarget.scrollTop,o=t.dataSource,l=t.itemHeight,c=o.skip()||0,h=t._rangeStart||c,d=t.element.innerHeight(),f=!!(t._scrollbarTop&&t._scrollbarTop>r),m=I.max(I.floor(r/l),0),v=f?I.ceil(d/l):I.floor(d/l),_=I.max(m+v,0);t._preventScroll?t._preventScroll=!1:(t._scrollTop=r-h*l,t._scrollbarTop=r,t._scrolling=n,t._fetch(m,_,f)||(t.wrapper[0].scrollTop=t._scrollTop),t.trigger("scroll"),n&&(t._scrollingTimeout&&clearTimeout(t._scrollingTimeout),t._scrollingTimeout=setTimeout((function(){t._scrolling=!1,t._page(t._rangeStart,t.dataSource.take())}),100)))},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var e=this.verticalScrollbar;this._scrollTo(e[0].scrollHeight-e.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollWrapperOnColumnResize:function(){var e=this.wrapper,t=e.scrollTop();e[0].scrollWidth>e[0].clientWidth?(!this._wrapperScrolled&&t||this._isScrolledToBottom())&&(e.scrollTop(t+n.support.scrollbar()),this._scrollTop=e.scrollTop(),this._wrapperScrolled=!0):this._wrapperScrolled&&(this._isWrapperScrolledToBottom()||(e.scrollTop(t-n.support.scrollbar()),this._scrollTop=e.scrollTop()),this._wrapperScrolled=!1)},_scrollTo:function(e){var t=this.verticalScrollbar;t.scrollTop()!==e&&(this._preventScroll=!0),this.wrapper.scrollTop(e),this._scrollTop=this.wrapper.scrollTop(),t.scrollTop(e),this._scrollbarTop=t.scrollTop()},_isScrolledToTop:function(){return 0===this.verticalScrollbar.scrollTop()},_isScrolledToBottom:function(){var e=this.verticalScrollbar,t=e.scrollTop();return t>0&&t>=parseInt(e[0].scrollHeight-e.height(),10)},_isWrapperScrolledToBottom:function(){var e=this.wrapper;return e.scrollTop()>=parseInt(e[0].scrollHeight-e.height(),10)},itemIndex:function(e){return(this._rangeStart||this.dataSource.skip()||0)+e},_isElementVisible:function(element){return this._isElementVisibleInWrapper(element)},_isElementVisibleInWrapper:function(element){var t,n,r=this.wrapper;return!!((element=e(element))[0]&&A(r[0],element[0])&&(t=element.offset().top-r.offset().top,n=element.outerHeight()/2,(t>=0||I.abs(t)<=n)&&I.floor(t+n)<=r.height()))},position:function(e){var t,n=this._rangeStart||this.dataSource.skip()||0,r=this.dataSource.pageSize();return(t=e>n?e-n+1:n-e-1)>r?r:t},scrollIntoView:function(e){var t=this.wrapper[0],n=t.clientHeight,r=this._isScrolledToBottom()?t.scrollTop:this._scrollTop||t.scrollTop,o=e[0].offsetTop,l=e[0].offsetHeight;r>o?this.verticalScrollbar[0].scrollTop-=n/2:o+l>=r+n&&(this.verticalScrollbar[0].scrollTop+=n/2)},_fetch:function(t,n,r){var o=this.dataSource,l=this.itemHeight,c=o.take(),h=this._rangeStart||o.skip()||0,d=I.floor(t/c)*c,f=!1,m=this.verticalScrollbar,v=Z.webkit?1:0;return t<h?(f=!0,h=I.max(0,n-c),this._scrollTop=m.scrollTop()-h*l,this._page(h,c)):n>=h+c&&!r?(f=!0,h=I.min(t,o.total()-c),m.scrollTop()>=m[0].scrollHeight-m[0].offsetHeight-v?this._scrollTop=this.wrapper[0].scrollHeight-this.wrapper[0].offsetHeight:this._scrollTop=l,this._page(h,c)):!this._fetching&&this.options.prefetch&&(t<d+c-.33*c&&t>c&&o.prefetch(d-c,c,e.noop),n>d+.33*c&&o.prefetch(d+c,c,e.noop)),f},fetching:function(){return this._fetching},_page:function(t,r,o){var l=this,c=!l.options.prefetch,h=l.dataSource;o=D(o)?o:e.noop,l.trigger("paging",{skip:t,take:r})||(clearTimeout(l._timeout),l._fetching=!0,l._rangeStart=t,h.inRange(t,r)?(n.ui.progress(e(l.wrapper).parent(),!0),h.range(t,r,(function(){n.ui.progress(e(l.wrapper).parent(),!1),o(),l.trigger("page")}))):(c||n.ui.progress(l.wrapper.parent(),!0),l._timeout=setTimeout((function(){l._scrolling||(c&&n.ui.progress(l.wrapper.parent(),!0),h.range(t,r,(function(){n.ui.progress(l.wrapper.parent(),!1),o(),l.trigger("page")})))}),100)))},repaintScrollbar:function(e){var t,r,o,html="",l=this.options.maxScrollHeight,c=this.dataSource,h=n.support.kineticScrollNeeded?0:n.support.scrollbar(),d=this.wrapper[0],f=this._isScrolledToBottom();o=this.itemHeight=this.options.itemHeight()||0;var m=d.scrollWidth>d.offsetWidth?h:0;for(t=c.total()*o+m,r=0;r<I.floor(t/l);r++)html+='<div style="width:1px;height:'+l+'px"></div>';t%l&&(html+='<div style="width:1px;height:'+t%l+'px"></div>'),this.verticalScrollbar.html(html),f&&!this._isScrolledToBottom()&&this.scrollToBottom(),void 0!==this._scrollTop&&e&&(d.scrollTop=this._scrollTop,this._scrollWrapperOnColumnResize())},refresh:function(e){var t=this.dataSource,r=this._rangeStart,o=(e||{}).action,l=this._isScrolledToBottom()||!o||"itemchange"!==o&&"remove"!==o&&"sync"!==o;n.ui.progress(this.wrapper.parent(),!1),clearTimeout(this._timeout),this.repaintScrollbar(l),this.drag&&this.drag.cancel(),void 0===r||this._fetching||((!o||"sync"!==o&&"itemchange"!==o)&&(this._rangeStart=t.skip()),1!==t.page()||o&&("sync"===o||"itemchange"===o)||(this.verticalScrollbar[0].scrollTop=0)),this._fetching=!1}});function ae(e,t){return"["+n.attr(e)+"="+t+"]"}function le(e){return new Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function ce(e){var t,n=" ";if(e){if(typeof e===j)return e;for(t in e)""!==e[t]&&(n+=t+'="'+e[t]+'"')}return n}var he={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-primary k-grid-update",iconClass:"k-icon k-i-check"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"}};function cursor(t,n){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",n)}function de(t,source,n,r,o){var l=source;source=e(),o=o||1;for(var c=0;c<o;c++)source=source.add(t.eq(l+c));"number"==typeof n?source[r?"insertBefore":"insertAfter"](t.eq(n)):source.appendTo(n)}function ue(t,content,filter){return e(t).add(content).find(filter)}function pe(e,t,n){var r,o,l,c;for(r=0,o=(n=k(n)?n:[n]).length;r<o;r++)l=n[r],w(l)&&l.click&&(c=l.name||l.text,t.on(U+H,"a.k-grid-"+(c||"").replace(/\s/g,""),{commandName:c},T(l.click,e)))}function fe(e,t){var n=[];return ge(e,t,n),n[n.length-1]}function ge(e,t,n){n=n||[];for(var r=0;r<t.length;r++){if(e===t[r])return!0;if(t[r].columns){var o=n.length;if(n.push(t[r]),ge(e,t[r].columns,n))return!0;n.splice(o,n.length-o)}}return!1}function me(e,t){ve(e,t,t)}function ve(e,t,n){var r=n?Ke:Ye;e.hidden=!t,e.attributes=r(e.attributes),e.footerAttributes=r(e.footerAttributes),e.headerAttributes=r(e.headerAttributes)}function _e(e,t){be(e),ve(e,t,e._hideByMedia?e.matchesMedia:t)}function be(e){e.matchesMedia=we(e)}function we(e){return e&&(Ce(e.media)||!Ce(e.media)&&n.matchesMedia(e.media))}function ye(){return"none"!==this.style.display}function xe(e){return ke([e]).length>0}function ke(e){return x(e,(function(e){var t=!e.hidden&&!1!==e.matchesMedia;return t&&e.columns&&(t=ke(e.columns).length>0),t}))}function Ce(e){return void 0===e}function Se(t){return e(t).map((function(){return this.toArray()}))}function Te(t,n,r,o,l,c,h,d){var f=Ee(t),m=Ee([n]);if(f>m){var v=new Array(h+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>'),_=c.children(":not(.k-filter-row)");e(new Array(f-m+1).join("<tr>"+v+"</tr>")).insertAfter(_.last())}!function(e,t){for(var n=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),r=0;r<n.length;r++)n[r].rowSpan+=t}(c,f-m),function t(n,r,o,l,c){var h,d=Ie(n[0],r),f=o.find(">tr:not(.k-filter-row):eq("+d.row+")>th.k-header"),m=e(),v=d.cell;for(h=0;h<n.length;h++)m=m.add(f.eq(v+h));l.find(">tr:not(.k-filter-row)").eq(d.row)[c](m);var _=[];for(h=0;h<n.length;h++)n[h].columns&&(_=_.concat(n[h].columns));_.length&&t(_,r,o,l,c)}(r,o,l,c,d)}function De(thead,t,r){var o;r=r||0;var l=t;t=je(t);for(var c={},h=thead.find(">tr:not(.k-filter-row)"),filter=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},d=0,f=t.length;d<f;d++)c[(o=Ae(t[d],l)).row]||(c[o.row]=h.eq(o.row).find(".k-header").filter(filter)),c[o.row].eq(o.cell).attr(n.attr("index"),r+d);return t.length}function Ee(e){for(var t=0,n=0;n<e.length;n++)if(e[n].columns){var r=Ee(e[n].columns);r>t&&(t=r)}return 1+t}function Ae(e,t,n,r){var o,l;for((r=r||{})[n=n||0]=r[n]||0,l=0;l<t.length;l++){if(t[l]==e){o={cell:r[n],row:n};break}if(t[l].columns&&(o=Ae(e,t[l].columns,n+1,r)))break;r[n]++}return o}function Ie(e,t,n,r){var o,l;for((r=r||{})[n=n||0]=r[n]||0,l=0;l<t.length;l++){if(t[l]==e){o={cell:r[n],row:n};break}if(t[l].columns&&(o=Ie(e,t[l].columns,n+1,r)))break;t[l].hidden||r[n]++}return o}function Me(e){return Fe(He(e)).concat(Fe(Ne(e)))}function Re(e,t,n,r){var o=e[n],l=e[r],c=fe(o,t);return t=c?c.columns:t,C(l,t)}function Fe(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),e[r].columns&&(n=n.concat(e[r].columns));return n.length&&(t=t.concat(Fe(n))),t}function Pe(e){for(var t,n=0,r=0;r<e.length;r++)(t=e[r]).columns?n+=Pe(t.columns):t.hidden&&n++;return n}function ze(e){for(var t,n=0,r=0,o=e.length;r<o;r++)(t=e[r].style.width)&&-1==t.indexOf("%")&&(n+=parseInt(t,10));return n}function Be(t){for(var n=t.find("tr:not(.k-filter-row)"),r=n.filter((function(){return!e(this).children().length})).remove().length,o=n.find("th:not(.k-group-cell,.k-hierarchy-cell)"),l=0;l<o.length;l++)o[l].rowSpan>1&&(o[l].rowSpan-=r);return n.length-r}function Le(e,t,n,r,o){var l,c,h,d=[];for(l=0,h=e.length;l<h;l++)(c=n[r]||[]).push(t.eq(o+l)),n[r]=c,e[l].columns&&(d=d.concat(e[l].columns));d.length&&Le(d,t,n,r+1,o+e.length)}function He(e){return x(e,(function(e){return e.locked}))}function Ne(e){return x(e,(function(e){return!e.locked}))}function Oe(e){return x(e,(function(e){return!e.locked&&xe(e)}))}function Ve(e){return x(e,(function(e){return e.locked&&xe(e)}))}function We(e){for(var t=[],n=0;n<e.length;n++)e[n].hidden||(e[n].columns?t=t.concat(We(e[n].columns)):t.push(e[n]));return t}function Ue(e){for(var t=[],n=0;n<e.length;n++)e[n].columns&&(t=t.concat(e[n].columns));return t}function je(e){for(var t=[],n=0;n<e.length;n++)e[n].columns?t=t.concat(je(e[n].columns)):t.push(e[n]);return t}function qe(r){var o=r.find(">tr:not(.k-filter-row)"),filter=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},l=e();o.length>1&&(l=o.find("th").filter(filter).filter((function(){return this.rowSpan>1}))),l=l.add(o.last().find("th").filter(filter));var c=n.attr("index");return l.sort((function(a,b){a=e(a),b=e(b);var n=a.attr(c),r=b.attr(c);return n===t&&(n=e(a).index()),r===t&&(r=e(b).index()),(n=parseInt(n,10))>(r=parseInt(r,10))?1:n<r?-1:0})),l}function Ge(t){var r=t.closest("thead"),o=e().add(t),l=t.closest("tr"),c=r.find("tr:not(.k-filter-row)"),h=c.index(l)+t[0].rowSpan,d=n.attr("colspan");if(h<=c.length-1){var f,m=l.next(),v=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");v=v.filter((function(){return!this.rowSpan||1===this.rowSpan}));var _=0;for(f=0;f<v.length;f++)_+=parseInt(v.eq(f).attr(d),10)||1;var w=m.find("th:not(.k-group-cell,.k-hierarchy-cell)"),y=parseInt(t.attr(d),10)||1;for(f=0;f<y;){m=w.eq(f+_),o=o.add(Ge(m));var x=parseInt(m.attr(d),10);x>1&&(y-=x-1),f++}}return o}function $e(tbody,table,html,t){var n,r=tbody;return t&&tbody.empty(),h?tbody[0].innerHTML=html:((n=document.createElement("div")).innerHTML="<table><tbody>"+html+"</tbody></table>",tbody=n.firstChild.firstChild,table[0].replaceChild(tbody,r[0]),tbody=e(tbody)),tbody}function Ye(e){var style=(e=e||{}).style;return style?(style=style.replace(/display:[^;]*/i,"display:none")).match(/display:/i)||(style=style.replace(/(.*)?/i,"display:none;$1")):style="display:none",y({},e,{style:style})}function Ke(e){var style=(e=e||{}).style;return style&&(e.style=style.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function Qe(table,t,r,o){var l,colgroup=table.find(">colgroup"),c=map(t,(function(e){return(l=e.width)&&0!==parseInt(l,10)?n.format('<col style="width:{0}"/>',typeof l===j?l:l+"px"):"<col />"}));(r||colgroup.find(".k-hierarchy-col").length)&&c.splice(0,0,'<col class="k-hierarchy-col" />'),colgroup.length&&colgroup.remove(),(colgroup=e(new Array(o+1).join('<col class="k-group-col">')+c.join(""))).is("colgroup")||(colgroup=e("<colgroup/>").append(colgroup)),table.prepend(colgroup),Z.msie&&8==Z.version&&(table.css("display","inline-table"),window.setTimeout((function(){table.css("display","")}),1))}function Xe(e){var t,n,r,o={};for(n=0,r=e.length;n<r;n++)o[(t=e[n]).value]=t.text;return o}function Je(e,t,r,o){var l=r&&r.length&&w(r[0])&&"value"in r[0]?Xe(r)[e]:e;return l=null!=l?l:"",t?n.format(t,l):!1===o?l:n.htmlEncode(l)}function Ze(e,t,n){for(var r=0,o=e[r];o;){if((n||"none"!==o.style.display)&&!Q.test(o.className)&&--t<0){o.style.display=n?"":"none";break}o=e[++r]}}function et(t,n){for(var r,o,l=0,c=t.length;l<c;l+=1)(o=t.eq(l)).is(".k-grouping-row,.k-detail-row")?(r=o.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(r.attr("colspan"),10)-1):(o.hasClass("k-grid-edit-row")&&(r=o.children(".k-edit-container")[0])&&((r=e(r)).attr("colspan",parseInt(r.attr("colspan"),10)-1),r.find("col").eq(n).remove(),o=r.find("tr:first")),Ze(o[0].cells,n,!1))}function tt(data){for(var e,t=[],n=0;n<data.length&&"field"in(e=data[n])&&"value"in e&&"items"in e;n++)t.push(e),e.hasSubgroups&&(t=t.concat(tt(e.items)));return t}function it(data){for(var e,t=[],n=0;n<data.length&&"field"in(e=data[n])&&"value"in e&&"items"in e;n++)e.hasSubgroups&&(t=t.concat(it(e.items))),t.push(e.aggregates);return t}function nt(t,n){for(var r,o,l=0,c=t.length;l<c;l+=1)(o=t.eq(l)).is(".k-grouping-row,.k-detail-row")?(r=o.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(r.attr("colspan"),10)+1):(o.hasClass("k-grid-edit-row")&&(r=o.children(".k-edit-container")[0])&&((r=e(r)).attr("colspan",parseInt(r.attr("colspan"),10)+1),Qe(r.find(">form>table"),ke(void 0),!1,0),o=r.find("tr:first")),Ze(o[0].cells,n,!0))}function ot(e,t,n){var r,o,l;for(n=n||1,o=0,l=e.length;o<l;o++)(r=e.eq(o).children().last()).attr("colspan",parseInt(r.attr("colspan"),10)+n),(r=t.eq(o).children().last()).attr("colspan",parseInt(r.attr("colspan"),10)-n)}function st(table){var e,t,n=0,r=table.find(">colgroup>col");for(e=0,t=r.length;e<t;e+=1)n+=parseInt(r[e].style.width,10);return n}var at=n.ui.DataBoundWidget.extend({init:function(element,t,r){var o=this;t=k(t)?{dataSource:t}:t,f.fn.init.call(o,element,t),r&&(o._events=r),J=n.support.isRtl(element),o._element(),o._aria(),o._columns(e.extend(!0,[],o.options.columns)),o._dataSource(),o._tbody(),o._pageable(),o._thead(),o._groupable(),o._toolbar(),o._setContentHeight(),o._templates(),o._navigatable(),o._selectable(),o._clipboard(),o._details(),o._editable(),o._attachCustomCommandsEvent(),o._adaptiveColumns(),o._minScreenSupport(),o.options.autoBind?o.dataSource.fetch():(o._group=o._groups()>0,o._footer()),o.lockedContent&&(o.wrapper.addClass("k-grid-lockedcolumns"),o._resizeHandler=function(){o.resize()},e(window).on("resize"+H,o._resizeHandler)),n.notify(o)},events:[N,"dataBinding","cancel","dataBound","detailExpand","detailCollapse","detailInit","filterMenuInit","filterMenuOpen","columnMenuInit","columnMenuOpen","edit","beforeEdit","save","remove","saveChanges","cellClose","columnResize","columnReorder","columnShow","columnHide","columnLock","columnUnlock","navigate","page","sort","filter","group","groupExpand","groupCollapse"],setDataSource:function(e){var t,n=this.options.scrollable;this.options.dataSource=e,this._dataSource(),this._pageable(),this._thead(),n&&(n.virtual?(t=this.content.find(">.k-virtual-scrollable-wrap")).scrollLeft(mt(t,J)):(t=this.tbody,this.content.scrollLeft(mt(t,J)))),this.options.groupable&&this._groupable(),this.virtualScrollable&&this.virtualScrollable.setDataSource(this.options.dataSource),this.options.navigatable&&this._navigatable(),this.options.selectable&&this._selectable(),this.options.autoBind&&this.dataSource.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,persistSelection:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",search:!1,noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:"Cancel",confirmation:"Are you sure you want to delete this record?",confirmDelete:"Delete"},commands:{create:he.create.text,cancel:he.cancel.text,save:he.save.text,destroy:he.destroy.text,edit:he.edit.text,update:he.update.text,canceledit:he.canceledit.text,excel:he.excel.text,pdf:he.pdf.text},search:"Search...",noRecords:"No records available.",expandCollapseColumnHeader:"",groupHeader:"Press ctrl + space to group",ungroupHeader:"Press ctrl + space to ungroup"}},destroy:function(){var element;this._angularItems("cleanup"),this._destroyColumnAttachments(),f.fn.destroy.call(this),this._navigatableTables&&(this._navigatableTables.off(H),this._navigatableTables=null),this._resizeHandler&&e(window).off("resize"+H,this._resizeHandler),this.pager&&this.pager.element&&this.pager.destroy(),this.timer&&clearTimeout(this.timer),this._progressTimeOut&&clearTimeout(this._progressTimeOut),this._collapseGroupsTimeOut&&clearTimeout(this._collapseGroupsTimeOut),this._endlessFetchTimeOut&&clearTimeout(this._endlessFetchTimeOut),this.pager=null,this._destroyGroupable(),this.options.reorderable&&this.wrapper.data("kendoReorderable").destroy(),this.selectable&&this.selectable.element&&(this.selectable.destroy(),this.clearArea(),this._selectedIds=null,this.copyHandler&&(this.wrapper.off("keydown",this.copyHandler),this.unbind(this.copyHandler)),this.updateClipBoardState&&(this.unbind(this.updateClipBoardState),this.updateClipBoardState=null),this.clearAreaHandler&&this.wrapper.off("keyup",this.clearAreaHandler)),this.selectable=null,this.resizable&&(this.resizable.destroy(),this._resizeUserEvents&&(this._resizeHandleDocumentClickHandler&&e(document).off("click",this._resizeHandleDocumentClickHandler),this._resizeUserEvents.destroy(),this._resizeUserEvents=null),this.resizable=null),this._destroyVirtualScrollable(),this._destroyEditable(),this.dataSource&&(this.dataSource.unbind(N,this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler),this._refreshHandler=this._progressHandler=this._errorHandler=null),element=this.element.add(this.wrapper).add(this.table).add(this.thead).add(this.wrapper.find(">.k-grid-toolbar")),this.content&&(element=element.add(this.content).add(this.content.find(">.k-virtual-scrollable-wrap"))),this.lockedHeader&&this._removeLockedContainers(),this.pane&&this.pane.destroy(),this._isMobile&&(this.wrapper.off("transitionend"+H),this.wrapper.off("contextmenu"+H)),this.minScreenResizeHandler&&e(window).off("resize",this.minScreenResizeHandler),this._detachColumnMediaResizeHandler(),this._draggableInstance&&this._draggableInstance.element&&this._draggableInstance.destroy(),this._draggableInstance=null,element.off(H),n.destroy(this.wrapper),this.rowTemplate=this.altRowTemplate=this.lockedRowTemplate=this.lockedAltRowTemplate=this.detailTemplate=this.footerTemplate=this.groupFooterTemplate=this.lockedGroupFooterTemplate=this.noRecordsTemplate=null,this.scrollables=this.thead=this.tbody=this.element=this.table=this.content=this.footer=this.wrapper=this.lockedTable=this.lockedContent=this.lockedHeader=this.lockedFooter=this._groupableClickHandler=this._groupRows=this._setContentWidthHandler=null},getOptions:function(){this.options.dataSource=null;var r=y(!0,{},this.options);r.columns=n.deepExtend([],this.columns);var o=this.dataSource,l=o.options.data&&o._data;return o.options.data=null,r.dataSource=e.extend(!0,{},o.options),o.options.data=l,r.dataSource.data=l,r.dataSource.page=o.page(),r.dataSource.filter=e.extend(!0,{},o.filter()),r.dataSource.pageSize=o.pageSize(),r.dataSource.sort=o.sort(),r.dataSource.group=o.group(),r.dataSource.aggregate=o.aggregate(),r.dataSource.transport&&(r.dataSource.transport.dataSource=null),r.pageable&&r.pageable.pageSize&&(r.pageable.pageSize=o.pageSize()),r.$angular=t,r},setOptions:function(e){var t=this.getOptions();n.deepExtend(t,e),e.dataSource||(t.dataSource=this.dataSource);var r=this.wrapper,o=this._events,element=this.element;if(this.destroy(),this.options=null,this._isMobile){var l=r.closest(n.roleSelector("pane")).parent();l.after(r),l.remove(),r.removeClass("k-grid-mobile")}r[0]!==element[0]&&(r.before(element),r.remove()),element.empty(),this.init(element,t,o),this._setEvents(t)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(t){return t.children().filter((function(){var tr=e(this);return!tr.hasClass("k-grouping-row")&&!tr.hasClass("k-detail-row")&&!tr.hasClass("k-group-footer")}))},dataItems:function(){var e=n.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(var t=e.length,r=new Array(2*t),i=t;--i>=0;)r[i]=r[i+t]=e[i];e=r}return e},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead&&(this.angular("cleanup",(function(){return{elements:t.thead.get()}})),t.thead.add(t.lockedHeader).find("th").each((function(){var th=e(this),t=th.data("kendoFilterMenu"),n=th.data("kendoColumnSorter"),r=th.data("kendoColumnMenu");t&&t.destroy(),n&&n.destroy(),r&&r.destroy()})))},_attachCustomCommandsEvent:function(){var e,t,n,r=je(this.columns||[]);for(t=0,n=r.length;t<n;t++)(e=r[t].command)&&pe(this,this.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var table=this.element;table.is("table")||(table=this.options.scrollable?this.element.find("> .k-grid-content > table"):this.element.children("table")).length||(table=e("<table />").appendTo(this.element)),ee&&table.attr("cellspacing",0),this.table=table.attr("role",this._hasDetails()?"treegrid":"grid"),this._wrapper()},_createResizeHandle:function(t,th){var r,o,l=this,c=l.options.columnResizeHandleWidth,h=l.options.scrollable,d=l.resizeHandle;if(d&&l.lockedContent&&d.data("th")[0]!==th[0]&&(d.off(H).remove(),d=null),d||(d=l.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),t.append(d)),r=th.offset().left+t.scrollLeft()-parseFloat(th.css("marginLeft"))-(t.offset().left+parseFloat(t.css("borderLeftWidth"))),J){if(h){var f=th.closest(".k-grid-header-wrap, .k-grid-header-locked"),m=Z.msie?f.scrollLeft():0;r-=(Z.webkit?f[0].scrollWidth-f[0].offsetWidth-f.scrollLeft():0)-(Z.mozilla?f[0].scrollWidth-f[0].offsetWidth-(f[0].scrollWidth-f[0].offsetWidth-f.scrollLeft()):0)+m}}else r+=th[0].offsetWidth;o=th.offset().top-parseFloat(th.css("marginTop"))-(t.offset().top+parseFloat(t.css("borderTopWidth"))),d.css({top:o,left:r-3*c/2,height:v(th),width:3*c}).data("th",th).show(),d.off("dblclick"+H).on("dblclick"+H,(function(){l._autoFitLeafColumn(parseInt(th.attr(n.attr("index")),10))}))},_positionColumnResizeHandle:function(){var t=this,r=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t.thead.add(r).on("mousemove"+H,"tr:not(.k-filter-row) > th",(function(r){var button=void 0!==r.buttons?r.buttons:r.which||r.button,th=e(this);th.hasClass("k-group-cell")||th.hasClass("k-hierarchy-cell")||void 0!==button&&0!==button||th[0].hasAttribute(n.attr("colSpan"))||t._createResizeHandle(th.closest("div"),th)}))},_resizeHandleDocumentClick:function(t){e(t.target).closest(".k-column-active").length||(e(document).off(t),this._resetResizeHandleHeader(),this._hideResizeHandle())},_resetResizeHandleHeader:function(){var th;this.resizeHandle&&(th=e(this.resizeHandle).data("th"))&&(th.find(".k-link").find(".k-icon").show(),th.find(".k-sort-order").show(),th.find(".k-header-column-menu").show(),th.find(".k-grid-filter").show())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(H).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var t=this,r=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t._resizeUserEvents=new n.UserEvents(r.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,minHold:500,hold:function(n){var th=e(n.target);n.preventDefault(),t.resizeHandle&&(t.resizeHandle.data("th").removeClass("k-column-active"),t._resetResizeHandleHeader()),th.addClass("k-column-active"),th.find(".k-link").find(".k-icon").hide(),th.find(".k-sort-order").hide(),th.find(".k-header-column-menu").hide(),th.find(".k-grid-filter").hide(),t._createResizeHandle(th.closest("div"),th),t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=T(t._resizeHandleDocumentClick,t)),e(document).on("click",t._resizeHandleDocumentClickHandler)}})},resizeColumn:function(t,r){var col,o=!!t.locked,l=!!t.hidden,c=this.options,h=n.support.mobileOS?0:n.support.scrollbar(),d=C(t,o?Ve(this.columns):Oe(this.columns)),f=o?this.lockedTable:this.table,footer=this.footer||e(),header=o?this.lockedHeader.find("table"):this.thead.closest("table"),v=t.minResizableWidth||10,_=m(o?f.find("tbody"):this.tbody);if(l)t.width=r>v?r:v;else{if(this.footer&&this.lockedContent&&(footer=o?this.footer.children(".k-grid-footer-locked"):this.footer.children(".k-grid-footer-wrap")),col=c.scrollable?header.find("col:not(.k-group-col,.k-hierarchy-col):eq("+d+")").add(f.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+d+")")).add(footer.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+d+")")):f.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+d+")"),c.scrollable){var w=!1,y=this.wrapper.width()-h,x=r=r>v?r:v;o&&_-r+x>y&&((x=r+(y-_-2*h))<0&&(x=r),w=!0),x>10&&x>=v&&(col.css("width",x),_&&(x=w?y-2*h:_+(r-t.width),f.add(header).add(footer).css("width",x),o||(this._footerWidth=x))),this._scrollVirtualWrapperOnColumnResize()}else r>10&&r>=v&&col.css("width",r);t.width=r,this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight()}},_resizable:function(){var t,o,l,c,h,d,col,th,f=this,_=f.options,w=this._isMobile,y=n.support.mobileOS?0:n.support.scrollbar();_.resizable&&(t=_.scrollable?f.wrapper.find(".k-grid-header-wrap:first"):f.wrapper,w?f._positionColumnResizeHandleTouch(t):f._positionColumnResizeHandle(t),f.resizable&&f.resizable.destroy(),f.resizable=new r.Resizable(t.add(f.lockedHeader),{handle:(_.scrollable?"":">")+".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:v(t.data("th"))+f.tbody.attr("clientHeight")})},start:function(t){th=e(t.currentTarget).data("th"),w&&f._hideResizeHandle();var header=th.closest("table"),n=e.inArray(th[0],qe(th.closest("thead")).filter(":visible")),r=(d=header.parent().hasClass("k-grid-header-locked"))?f.lockedTable:f.table,footer=f.footer||e();f.footer&&f.lockedContent&&(footer=d?f.footer.children(".k-grid-footer-locked"):f.footer.children(".k-grid-footer-wrap")),cursor(f.wrapper,"col-resize"),col=_.scrollable?header.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")").add(r.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")).add(footer.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")):r.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")");var v=e.map(f.columns,(function(a){return!a.hidden&&(d&&a.locked||!d&&!a.locked)?a:null}));o=t.x.location,l=m(th),c=je(v)[n].minResizableWidth||10,h=m(d?r.children("tbody"):f.tbody),Z.webkit&&f.wrapper.addClass("k-grid-column-resizing")},resize:function(t){var n=J?-1:1,r=l+t.x.location*n-o*n;if(_.scrollable){var footer;d&&f.lockedFooter?footer=f.lockedFooter.children("table"):f.footer&&(footer=f.footer.find(">.k-grid-footer-wrap>table")),footer&&footer[0]||(footer=e());var header=th.closest("table"),m=d?f.lockedTable:f.table,v=!1,w=f.wrapper.width()-y,x=r;d&&h-l+x>w&&((x=l+(w-h-2*y))<0&&(x=r),v=!0),x>10&&x>=c&&(col.css("width",x),h&&(x=v?w-2*y:h+t.x.location*n-o*n,m.add(header).add(footer).css("width",x),d||(f._footerWidth=x))),f._scrollVirtualWrapperOnColumnResize()}else r>10&&r>=c&&col.css("width",r)},resizeend:function(){var e,header,t=m(th);if(cursor(f.wrapper,""),Z.webkit&&f.wrapper.removeClass("k-grid-column-resizing"),l!=t){header=f.lockedHeader?f.lockedHeader.find("thead:first tr:first").add(f.thead.find("tr:first")):th.parent();var r=th.attr(n.attr("index"));r||(r=header.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(th)),(e=je(f.columns)[r]).width=t,f.trigger("columnResize",{column:e,oldWidth:l,newWidth:t}),f._applyLockedContainersWidth(),f._syncLockedContentHeight(),f._syncLockedHeaderHeight()}f._resetResizeHandleHeader(),f._hideResizeHandle(),th=null}}))},_draggable:function(){var t=this;if(t.options.reorderable){t._draggableInstance&&t._draggableInstance.destroy();var header=t.wrapper.children(".k-grid-header");t._draggableInstance=t.wrapper.kendoDraggable({group:n.guid(),autoScroll:!0,filter:t.content?".k-grid-header:first "+L:"table:first>.k-grid-header "+L,dragstart:function(){header.children(".k-grid-header-wrap").unbind("scroll"+H+"scrolling").bind("scroll"+H+"scrolling",(function(e){t.virtualScrollable?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft):t.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft)}))},dragend:function(){t._resetResizeHandleHeader(),header.children(".k-grid-header-wrap").unbind("scroll"+H+"scrolling")},drag:function(){t._hideResizeHandle()},hint:function(t){var title=t.attr(n.attr("title"));return title&&(title=n.htmlEncode(title)),e('<div class="k-header k-reorder-clue k-drag-clue" />').html(title||t.attr(n.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}}).data("kendoDraggable")}},_reorderable:function(){var t=this;t.options.reorderable&&(t.wrapper.data("kendoReorderable")&&t.wrapper.data("kendoReorderable").destroy(),t.wrapper.kendoReorderable({draggable:t._draggableInstance,dragOverContainers:function(e,n){var r=Me(t.columns);return!1!==r[e].lockable&&Re(r,t.columns,e,n)>-1},inSameContainer:function(n){return e(n.source).parent()[0]===e(n.target).parent()[0]&&Re(Me(t.columns),t.columns,n.sourceIndex,n.targetIndex)>-1},change:function(e){var n=Me(t.columns),r=n[e.oldIndex],o=Re(n,t.columns,e.oldIndex,e.newIndex);t.trigger("columnReorder",{newIndex:o,oldIndex:C(r,n),column:r}),t.reorderColumn(o,r,"before"===e.position)}}))},_reorderHeader:function(e,t,n,r){for(var o,l,c=Ae(e[0],this.columns),h=Ae(t,this.columns),d=[],f=0;f<e.length;f++)e[f].columns&&(d=d.concat(e[f].columns));l=r?ue(r,r,"tr:eq("+c.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"):ue(this.lockedHeader,this.thead,"tr:eq("+c.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");var m,v,_,w,y,x,k=He(e).length,S=He([t]).length;d.length?(k>0&&0===S?(o="prepend",Te(e,t,d,this.columns,this.lockedHeader.find("thead"),this.thead,this._groups(),o)):0===k&&S>0&&(o=0!==h.cell||!e[0].columns||t.columns||this._group?"append":"prepend",Te(e,t,d,Ne(this.columns),this.thead,this.lockedHeader.find("thead"),this._groups(),o)),(t.columns||c.cell-h.cell>1||h.cell-c.cell>1)&&(t=function e(t,n,source,r,o){if(n.columns)return(n=n.columns)[r?0:n.length-1];var l,c=fe(n,t);l=c?c.columns:t;var h=C(n,l);0===h&&r?h++:h==l.length-1&&!r||!source.locked&&!n.columns&&!r?h--:(h>0||0===h&&!r)&&h++,n=function(e,t,source,n){var r,o,l=!!source.locked;do{r=e[t],t+=n?1:-1,o=!!r.locked}while(r&&t>-1&&t<e.length&&r!=source&&!r.columns&&o===l);return r}(l,h,source,C(source,l)>h);var d=C(n,o);return(!n.columns||d&&d!==l.length-1)&&n&&n!=source&&n.columns?e(t,n,source,r,o):null}(this.columns,t,e[0],n,this.columns))&&(k>0&&0===S?this._reorderHeader(d,t,n,this.thead):0===k&&S>0?this._reorderHeader(d,t,n,this.lockedHead):this._reorderHeader(d,t,n))):k!==S&&(m=l[c.cell],v=this.columns,_=k,w=Ee(He(v)),y=Ee(Ne(v)),x=m.rowSpan,m.rowSpan=_?w>y?x-(w-y)||1:x+(y-w):w>y?x+(w-y):x-(y-w)||1),de(l,c.cell,h.cell,n,e.length)},_reorderContent:function(t,n,r){var o,l,c,h=e(),source=t[0],d=ke(t),f=C(source,je(this.columns)),m=C(n,je(this.columns)),v=C(d[0],We(this.columns)),_=C(n,We(this.columns)),w=He(this.columns).length,y=!!n.locked,footer=this.footer||this.wrapper.find(".k-grid-footer");if(o=l=_,n.hidden){var x=y?He(this.columns):Ne(this.columns);ke(x).length>0?(o=l=_=this._findClosestVisibleColumnIndex(x,m),c=ke(x.slice(m)).length>0):y?(_=this.lockedTable.find("colgroup"),o=this.lockedHeader.find("colgroup"),l=e(this.lockedFooter).find(">table>colgroup")):(_=this.tbody.prev(),o=this.thead.prev(),l=footer.find(".k-grid-footer-wrap").find(">table>colgroup"))}this._hasFilterRow()&&de(this.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),f,m,r,t.length),v>=0&&de(ue(this.lockedHeader,this.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),v,o,c||r,d.length),this.options.scrollable&&v>=0&&de(ue(this.lockedTable,this.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),v,_,c||r,d.length),footer&&footer.length&&(v>=0&&de(ue(this.lockedFooter,footer.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),v,l,c||r,d.length),de(footer.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),f,m,r,t.length));var k=this.tbody.children(":not(.k-grouping-row,.k-detail-row)");this.lockedTable&&(w>m?w<=f&&ot(this.lockedTable.find(">tbody>tr.k-grouping-row"),this.table.find(">tbody>tr.k-grouping-row"),t.length):w>f&&ot(this.table.find(">tbody>tr.k-grouping-row"),this.lockedTable.find(">tbody>tr.k-grouping-row"),t.length),h=this.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)"));for(var S=0,T=k.length;S<T;S+=1)de(ue(h[S],k[S],">td:not(.k-group-cell,.k-hierarchy-cell)"),f,m,r,t.length)},_findClosestVisibleColumnIndex:function(e,t){var n=ke(e.slice(t)).length>0?e.slice(t):e.slice(0,t+1).reverse(),r=ke(n)[0];return C(r,ke(this.columns))},_autoFitLeafColumn:function(e){this.autoFitColumn(je(this.columns)[e])},autoFitColumn:function(t){var n,th,r,o,col,l,c,h,d=this.options,f=this.columns,v=this.lockedHeader?qe(this.lockedHeader.find(">table>thead")).filter(ye).length:0,_="col:not(.k-group-col):not(.k-hierarchy-col)";if((t="number"==typeof t?f[t]:w(t)?x(Fe(f),(function(e){return e===t}))[0]:x(Fe(f),(function(e){return e.field===t}))[0])&&xe(t)){l=t.minResizableWidth,n=C(t,je(f)),th=(r=(o=t.locked)?this.lockedHeader.children("table"):this.thead.parent()).find("[data-index='"+n+"']");var y=o?this.lockedTable:this.table,footer=this.footer||e();this.footer&&this.lockedContent&&(footer=o?this.footer.children(".k-grid-footer-locked"):this.footer.children(".k-grid-footer-wrap"));var k=footer.find("table").first();this.lockedHeader&&!o&&(n-=v);for(var S=0;S<f.length&&f[S]!==t;S++)f[S].hidden&&n--;d.scrollable?(col=r.find(_).eq(n).add(y.children("colgroup").find(_).eq(n)).add(k.find("colgroup").find(_).eq(n)),o||(h=(c=y.parent()).scrollLeft())):col=y.children("colgroup").find(_).eq(n);var T=r.add(y).add(k),D=m(th);col.width(""),T.css("table-layout","fixed"),col.width("auto"),T.addClass("k-autofitting"),T.css("table-layout","");var E=Math.ceil(Math.max(m(th),m(y.find("tr:not(.k-grouping-row)").eq(0).children("td:visible:not(.k-group-cell):not(.k-hierarchy-cell)").eq(n)),m(k.find("tr").eq(0).children("td:visible:not(.k-group-cell):not(.k-hierarchy-cell)").eq(n))))+1;if(l&&l>E&&(E=l),col.width(E),t.width=E,d.scrollable){for(var A,I=r.find("col"),M=0,R=0,F=I.length;R<F;R+=1)if((A=I[R].style.width)&&-1==A.indexOf("%"))M+=parseInt(A,10);else{if(!I.eq(R).hasClass("k-group-col")){M=0;break}M+=parseInt(I.eq(R).width(),10)}M&&T.each((function(){this.style.width=M+"px"}))}Z.msie&&8==Z.version&&(T.css("display","inline-table"),setTimeout((function(){T.css("display","table")}),1)),T.removeClass("k-autofitting"),h&&c.scrollLeft(h),this.trigger("columnResize",{column:t,oldWidth:D,newWidth:E}),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight()}},reorderColumn:function(e,n,r){var o,l=fe(n,this.columns),c=l?l.columns:this.columns,h=C(n,c),d=c[e],f=!!d.locked,m=He(this.columns).length,v=x(je(this.columns),(function(e){return e.groupHeaderColumnTemplate}));if(h!==e&&(n.locked||!f||1!=Ne(this.columns).length)&&(!n.locked||f||1!=m)){this._hideResizeHandle(),r===t&&(r=e<h);var _=[n];this._reorderHeader(_,d,r),this.lockedHeader&&(Be(this.thead),Be(this.lockedHeader)),d.columns&&(d=(d=je(d.columns))[r?0:d.length-1]),n.columns&&(_=je(n.columns)),this._reorderContent(_,d,r),o=(o=!!n.locked)!=f,n.locked=f,c.splice(r?e:e+1,0,n),c.splice(h<e?h:h+1,1),this._updateLockedCols(),this._updateCols(),this._templates(),this._updateColumnCellIndex(),this._updateColumnSorters(),v.length>0&&this._renderGroupRows(),this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedHeaderHeight(),this._syncLockedContentHeight(),this._updateFirstColumnClass(),o&&(f?this.trigger("columnLock",{column:n}):this.trigger("columnUnlock",{column:n}))}},_updateColumnCellIndex:function(){var e=0;this.lockedHeader&&(e=De(this.lockedHeader.find("thead"),He(this.columns))),De(this.thead,Ne(this.columns),e)},lockColumn:function(e){var t=this.columns;if((e="number"==typeof e?t[e]:x(t,(function(t){return t.field===e}))[0])&&!e.locked&&!e.hidden){var n=He(t).length-1;this.reorderColumn(n,e,!1)}},unlockColumn:function(e){var t=this.columns;if((e="number"==typeof e?t[e]:x(t,(function(t){return t.field===e}))[0])&&e.locked&&!e.hidden){var n=He(t).length;this.reorderColumn(n,e,!0)}},cellIndex:function(td){var t=0;return this.lockedTable&&!e.contains(this.lockedTable[0],td[0])&&(t=je(He(this.columns)).length),e(td).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(td)+t},_modelForContainer:function(t){(t=e(t)).is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var r=t.attr(n.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var t=this,r=t.selectable&&t.selectable.options.multiple,o=t.options.editable;o&&(this.wrapper.addClass("k-editable"),"incell"===t._editMode()?(t.table.add(t.lockedTable).on("mousedown"+H,R+">"+F,(function(r){var o=e(r.target);"incell"===t._editMode()&&o.hasClass("k-checkbox-label")&&o.prev().attr(n.attr("bind"))&&r.preventDefault()})),!1!==o.update&&(ne&&t.wrapper.on(U+H,".k-edit-cell > input[type='checkbox']",(function(t){e(t.target).focus()})).on(U+H,".k-edit-cell",(function(t){e(t.target).is("input")||e(t.currentTarget).find("input[type='checkbox']").focus()})).on("mousedown"+H,"tr:not(.k-grouping-row) > td",(function(n){var r=t._editContainer;r&&r[0]&&(e.contains(r[0],n.target)||r[0]===n.target)?t._mousedownOnEditCell=!0:t._mousedownOnEditCell=!1})),t.wrapper.on(n.support.touch?"touchstart"+H:U+H,"tr:not(.k-grouping-row) > td",(function(o){var td=e(this),l=t.lockedTable&&td.closest("table")[0]===t.lockedTable[0];t._mousedownOnEditCell=!1,td.hasClass("k-hierarchy-cell")||td.hasClass("k-detail-cell")||td.hasClass("k-group-cell")||td.hasClass("k-edit-cell")||td.has("a.k-grid-delete").length||td.has("button.k-grid-delete").length||td.closest("tbody")[0]!==t.tbody[0]&&!l||e(o.target).is(":input")||(t.editable?t.editable.end()?((r||n.support.mobileOS)&&e(d()).blur(),t.closeCell(),t.editCell(td)):t._scrollVirtualWrapper():t.editCell(td))})).on("focusin"+H,(function(){e.contains(this,d())||(clearTimeout(t.timer),t.timer=null)})).on("focusout"+H,(function(n){var r=!0;ne&&t._mousedownOnEditCell&&(r=!1),t._mousedownOnEditCell=!1,r&&(t.timer=setTimeout((function(){var n,r;n=d(),(r=t._editContainer)&&r[0]&&!e.contains(r[0],n)&&r[0]!==n&&!e(n).closest(".k-animation-container").length&&(t.editable.end()?t.closeCell():t._scrollVirtualWrapper())}),1))})))):!1!==o.update&&(t.wrapper.on(U+H,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",(function(n){n.preventDefault(),t.editRow(e(this).closest("tr"))})),t._isVirtualInlineEditable()&&t.wrapper.on("focusout"+H,"tr:not(.k-grouping-row) > td",(function(){t.editable&&!t.editable.end()&&t._scrollVirtualWrapper()}))),!1!==o.destroy?t.wrapper.on(U+H,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",(function(n){n.preventDefault(),n.stopPropagation(),t.removeRow(e(this).closest("tr"))})):t.wrapper.on(U+H,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",(function(e){e.stopPropagation(),t._confirmation()||e.preventDefault()})))},editCell:function(t){t=e(t);var n=this,r=je(n.columns)[n.cellIndex(t)],o=n._modelForContainer(t);if(n.closeCell(),o&&pt(r,o)&&!r.command){if(n.trigger("beforeEdit",{model:o}))return;n._attachModelChange(o),n._editContainer=t,n._shouldClearEditableState&&n._clearEditableState(),n.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:r.field,format:r.format,editor:r.editor,values:r.values},model:o,target:n,change:function(e){n.trigger("save",{values:e.values,container:t,model:o})&&e.preventDefault()},skipFocus:!(!n._isVirtualIncellEditable()||!n._editableState)}).data("kendoEditable");var tr=t.parent().addClass("k-grid-edit-row");n.lockedContent&&(lt(tr[0],n._relatedRow(tr).addClass("k-grid-edit-row")[0]),n._syncLockedScroll()),n.trigger("edit",{container:t,model:o})}},_adjustLockedHorizontalScrollBar:function(){var table=this.table,content=table.parent(),e=table[0].offsetWidth>content[0].clientWidth?n.support.scrollbar():0;this.lockedContent.height(content[0].offsetHeight-e)},_syncLockedScroll:function(){this.lockedContent[0].scrollTop=this.content[0].scrollTop,this.virtualScrollable&&(this.lockedContent[0].scrollTop=this.wrapper.find(".k-virtual-scrollable-wrap")[0].scrollTop)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var e=this.lockedHeader.children("table"),table=this.thead.parent();this._adjustRowsHeight(e,table),function(e,t){if(e=e[0],t=t[0],e.rows.length!==t.rows.length){var n,r,o=e.offsetHeight,l=t.offsetHeight;o>l?(n=t.rows[t.rows.length-1],X.test(n.className)&&(n=t.rows[t.rows.length-2]),r=o-l):(n=e.rows[e.rows.length-1],X.test(n.className)&&(n=e.rows[e.rows.length-2]),r=l-o),n.style.height=n.offsetHeight+r+"px"}}(e,table)}},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var e=this,t=function(){if(e.editable){var t=e.editView?e.editView.element:e._editContainer;t&&(t.off(U+H,"a.k-grid-cancel",e._editCancelClickHandler),t.off(U+H,"a.k-grid-update",e._editUpdateClickHandler)),e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null,e._destroyEditView(),e._editableIsClosing=null}};e.editable&&("popup"!==e._editMode()||e._isMobile?t():e._editableIsClosing?e._editContainer.data("kendoWindow").bind("deactivate",t):(e._editableIsClosing=!0,e._editContainer.data("kendoWindow").bind("deactivate",t).close())),e._confirmDialog&&(e._confirmDialog.close(),e._confirmDialog.destroy(),e._confirmDialog=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this._editContainer,t=this._modelForContainer(e);t&&t.unbind(N,this._modelChangeHandler)},closeCell:function(e){var t,tr,n,o=this._editContainer;o&&(n=this._modelForContainer(o),e&&this.trigger("cancel",{container:o,model:n})||(this.trigger("cellClose",{type:e?"cancel":"save",model:n,container:o}),o.removeClass("k-edit-cell"),t=je(this.columns)[this.cellIndex(o)],tr=o.parent().removeClass("k-grid-edit-row"),this.lockedContent&&this._relatedRow(tr).removeClass("k-grid-edit-row"),this._destroyEditable(),this._displayCell(o,t,n),this._shouldClearEditableState&&this._clearEditableState(),this.trigger("itemChange",{item:tr,data:n,ns:r}),this.lockedContent&&lt(tr.css("height","")[0],this._relatedRow(tr).css("height","")[0])))},_displayCell:function(e,t,r){var o={storage:{},count:0},l=y({},n.Template,this.options.templateSettings),c=n.template(this._cellTmpl(t,o),l);o.count>0&&(c=T(c,o.storage)),e.empty().html(c(r)),this.angular("compile",(function(){return{elements:e,data:[{dataItem:r}]}}))},removeRow:function(e){this._confirmation(e)&&this._removeRow(e)},_removeRow:function(t){var n,r,o,l=this._editMode();"incell"!==l&&this.cancelRow(),t=e(t),this.lockedContent&&(t=t.add(this._relatedRow(t))),t=t.hide(),(n=this._modelForContainer(t))&&!this.trigger("remove",{row:t,model:n})?(o=this.dataSource.options.schema,this._selectedIds&&o&&o.model&&(r=n[D(this.dataSource.options.schema.model)?this.dataSource.options.schema.model.fn.idField:this.dataSource.options.schema.model.id],delete this._selectedIds[r]),this.dataSource.remove(n),"inline"!==l&&"popup"!==l||this.dataSource.sync()):"incell"===l&&this._destroyEditable()},_editMode:function(){var e="incell",t=this.options.editable;return!0!==t&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(t){var r,o=this;t instanceof l?r=t:(t=e(t),r=o._modelForContainer(t));var c,h=o._editMode();o.cancelRow(),r&&(t=o.tbody.children("["+n.attr("uid")+"="+r.uid+"]"),o._attachModelChange(r),"popup"===h?o._createPopupEditor(r):"inline"===h?o._createInlineEditor(t,r):"incell"===h&&e(t).children(M).each((function(){var t=e(this),n=je(o.columns)[o.cellIndex(t)];if((r=o._modelForContainer(t))&&(!r.editable||r.editable(n.field))&&n.field&&!n.selectable)return o.editCell(t),!1})),(c=o.editView?o.editView.element:o._editContainer)&&(this._editCancelClickHandler||(this._editCancelClickHandler=T(this._editCancelClick,this)),c.on(U+H,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=T(this._editUpdateClick,this)),c.on(U+H,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(e){e.preventDefault(),e.stopPropagation(),this.saveRow()},_editCancelClick:function(t){var n=this.options.navigatable,r=this.editable.options.model,o=this.editView?this.editView.element:this._editContainer;if(t.preventDefault(),t.stopPropagation(),!this.trigger("cancel",{container:o,model:r})){var l=this.items().index(e(this.current()).parent());this.cancelRow(),n&&(this._setCurrent(this.items().eq(l).children().filter(F).first()),ht(this.table,!0))}},_createPopupEditor:function(t){var r,o,l,c,h,d,f,m,v,_,x,k,C=this,html="<div "+n.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form'+(C._isMobile?" k-mobile-list":"")+'"><'+(C._isMobile?"ul":"div")+' class="k-edit-form-container">',S=[],D=je(C.columns),E=n.guid(),A=C.options.editable,template=A.template,I=w(A)?A.window:{},M=y({},n.Template,C.options.templateSettings);if(!C.trigger("beforeEdit",{model:t})){if(I=I||{},template)for(typeof template===j&&(template=n.unescape(template)),html+=n.template(template,M)(t),l=0,c=D.length;l<c;l++)(r=D[l]).command&&(_=ct(r.command,"edit"))&&(o=_);else for(l=0,c=D.length;l<c;l++)(r=D[l]).selectable||(r.command?r.command&&(_=ct(r.command,"edit"))&&(o=_):C._isMobile?(html+='<li class="k-item">',pt(r,t)?(S.push({field:r.field,title:r.title,format:r.format,editor:r.editor,values:r.values}),html+='<label class="k-label"><span class="k-item-title">'+(r.title||r.field||"")+"</span>",html+='<div id="'+r.field+"_"+E+'" '+n.attr("container-for")+'="'+r.field+'"></div>'):(k={storage:{},count:0},h=n.template(C._cellTmpl(r,k),M),k.count>0&&(h=T(h,k.storage)),html+='<label class="k-label k-no-click"><span class="k-item-title">'+(r.title||r.field||"")+"</span>",html+='<span class="k-no-editor">'+h(t)+"</span>"),html+="</label></li>"):(html+='<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",pt(r,t)?(S.push({field:r.field,title:r.title,format:r.format,editor:r.editor,values:r.values}),html+="<div "+n.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>'):(k={storage:{},count:0},h=n.template(C._cellTmpl(r,k),M),k.count>0&&(h=T(h,k.storage)),html+='<div class="k-edit-field">'+h(t)+"</div>")));var R;o&&w(o)&&(w(o.text)&&(d=o.text.update,f=o.text.cancel),w(o.iconClass)&&(m=o.iconClass.update,v=o.iconClass.cancel),o.attr&&(x=o.attr)),C._isMobile?(html+="</ul></div>",C.editView=C.pane.append("<div data-"+n.ns+'role="view" class="k-grid-edit-form"><div data-'+n.ns+'role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link k-grid-cancel" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+(C.options.messages.commands.edit||"Edit")+'<a href="\\#" class="k-header-done k-link k-grid-update" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><div data-'+n.ns+'role="content" class="'+re+'">'+html+"</div></div>"),R=C._editContainer=C.editView.element.find(".k-popup-edit-form")):(html+='<div class="k-edit-buttons k-state-default">',html+=C._createButton({name:"update",text:d,attr:x,iconClass:m})+C._createButton({name:"canceledit",text:f,attr:x,iconClass:v}),html+="</div></div></div>",R=C._editContainer=e(html).appendTo(C.wrapper).eq(0).kendoWindow(y({modal:!0,resizable:!1,draggable:!0,title:C.options.messages.commands.edit||"Edit",visible:!1,close:function(n){if(n.userTriggered){if(n.sender.element.focus(),C.trigger("cancel",{container:R,model:t}))return void n.preventDefault();var r=C.items().index(e(C.current()).parent());C._editableIsClosing=!0,C.cancelRow(),C.options.navigatable&&(C._setCurrent(C.items().eq(r).children().filter(F).first()),ht(C.table,!0))}}},I))),C.editable=C._editContainer.kendoEditable({fields:S,model:t,clearContainer:!1,target:C}).data("kendoEditable"),C._openPopUpEditor(),C.trigger("edit",{container:R,model:t})}},_openPopUpEditor:function(){var e=this._editContainer?this._editContainer.data("kendoWindow"):null,t=(this.options.editable||{}).window||{};this._isMobile?this.pane.navigate(this.editView,this._editAnimation):e&&(t.position||e.center(),e.open())},_createInlineEditor:function(t,r){var o,l,c,h=this,d=[];h.trigger("beforeEdit",{model:r})||(h.lockedContent&&(t=t.add(h._relatedRow(t))),t.children(":not(.k-group-cell,.k-hierarchy-cell)").each((function(){if(l=e(this),!(o=je(h.columns)[h.cellIndex(l)]).command&&pt(o,r))d.push({field:o.field,title:o.title,format:o.format,editor:o.editor,values:o.values}),l.attr(n.attr("container-for"),o.field),l.empty();else if(o.command){var t,f,m,v,_;(c=ct(o.command,"edit"))&&(l.empty(),w(c)&&(w(c.text)&&(t=c.text.update,f=c.text.cancel),w(c.iconClass)&&(m=c.iconClass.update,v=c.iconClass.cancel),c.attr&&(_=c.attr)),e(h._createButton({name:"update",text:t,attr:_,iconClass:m})+h._createButton({name:"canceledit",text:f,attr:_,iconClass:v})).appendTo(l))}})),h._editContainer=t,h._editContainer.addClass("k-grid-edit-row"),h._shouldClearEditableState&&h._clearEditableState(),h.editable=new n.ui.Editable(h._editContainer,{target:h,fields:d,model:r,skipFocus:!!(h._isVirtualInlineEditable()&&h._editableState&&h._editableState.field),clearContainer:!1}),t.length>1&&(lt(t[0],t[1]),h._applyLockedContainersWidth()),h.trigger("edit",{container:t,model:r}))},cancelRow:function(e){var t,r=this._editContainer;if(r){if(!(t=this._modelForContainer(r))||e&&this.trigger("cancel",{container:r,model:t}))return;this._destroyEditable(),this.dataSource.cancelChanges(t),this._clearEditableState(),"popup"!==this._editMode()?this._displayRow(r):this._displayRow(this.tbody.find("["+n.attr("uid")+"="+t.uid+"]"))}},saveRow:function(){var t,n=this._editContainer,r=this._modelForContainer(n),o=e.Deferred();return n&&this.editable?!(t=this.editable&&this.editable.end())||this.trigger("save",{container:n,model:r})?(t||this._scrollVirtualWrapper(),o.reject().promise()):(this._clearEditableState(),this.dataSource.sync()):o.resolve().promise()},_displayRow:function(t){var n,o,l,c=this._modelForContainer(t),h=t.hasClass("k-state-selected"),d=t.hasClass("k-alt");if(c){this.lockedContent&&(n=e((d?this.lockedAltRowTemplate:this.lockedRowTemplate)(c)),this._relatedRow(t.last()).replaceWith(n)),this.angular("cleanup",(function(){return{elements:t.get()}})),o=e((d?this.altRowTemplate:this.rowTemplate)(c)),t.is(":visible")||o.hide(),t.replaceWith(o),this.trigger("itemChange",{item:o,data:c,ns:r}),n&&n.length&&this.trigger("itemChange",{item:n,data:c,ns:r});var f=o,m=[{dataItem:c}];n&&n.length&&(f=o.add(n),m.push({dataItem:c})),this.angular("compile",(function(){return{elements:f.get(),data:m}})),h&&(this.options.selectable||this._checkBoxSelection)&&this.select(o.add(n)),n&&lt(o[0],n[0]),(l=o.next()).hasClass("k-detail-row")&&l.is(":visible")&&o.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse")}},_showMessage:function(t,r){var o=this;return o._isMobile?((o._confirmDialog=new n.ui.Confirm(e("<div />").appendTo(document.body),{modal:{preventScroll:!0},closable:!1,title:!1,content:t.title,messages:{okText:t.confirmDelete,cancel:t.cancelDelete},open:function(){o.content.data("overflow",o.content.css("overflow")),o.content.css("overflow","hidden")},close:function(){o.content.css("overflow",o.content.data("overflow"))}})).result.done((function(){o._removeRow(r)})).fail((function(){var e=o._confirmDialog;e&&(e.close(),e.destroy())})),!1):window.confirm(t.title)},_confirmation:function(e){var t=this.options.editable,n=!0===t||typeof t===j?this.options.messages.editable.confirmation:t.confirmation;return w(t)&&typeof t.mode===j&&"function"!=typeof n&&typeof n!==j&&!1!==n&&(n=this.options.messages.editable.confirmation),!1===n||null==n||("function"==typeof n&&(n=n(this._modelForContainer(e))),this._showMessage({confirmDelete:t.confirmDelete||this.options.messages.editable.confirmDelete,cancelDelete:t.cancelDelete||this.options.messages.editable.cancelDelete,title:!0===n?this.options.messages.editable.confirmation:n},e))},cancelChanges:function(){var e=this;e.dataSource.cancelChanges(),e._isVirtualEditable()&&e._virtualPageToTop((function(){e.virtualScrollable.scrollToTop()}))},saveChanges:function(){var e=this.editable&&this.editable.end();!e&&this.editable||this.trigger("saveChanges")?e||this._scrollVirtualWrapper():this.dataSource.sync()},addRow:function(){var e,t,n=this.dataSource,r=this._editMode(),o=this.options.editable.createAt||"",l=n.pageSize(),view=n.view()||[],c="bottom"===o.toLowerCase(),h=this._isVirtualEditable();this.editable&&this.editable.end()||!this.editable?("incell"!=r&&this.cancelRow(),e=n.indexOf(view[0]),c&&(e+=view.length,l&&!n.options.serverPaging&&l<=view.length&&(e-=1)),e<0&&(e=n.page()>n.totalPages()?(n.page()-1)*l:0),this.options.navigatable&&"incell"==r&&this._removeCurrent(),h?this._virtualAddRow():(t=n.insert(e,{}),this._editModel(t))):this._scrollVirtualWrapper()},_editModel:function(e){var t=this.options.editable.createAt||"",r=this._editMode();if(e){var o=e.uid,l=(this.lockedContent?this.lockedTable:this.table).find("tr["+n.attr("uid")+"="+o+"]"),c=l.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(this._firstEditableColumnIndex(l));"inline"===r&&l.length?this.editRow(l):"popup"===r?this.editRow(e):c.length&&this.editCell(c),"bottom"==t.toLowerCase()&&this.lockedContent&&(this.lockedContent[0].scrollTop=this.content[0].scrollTop=this.table[0].offsetHeight)}},_virtualAddRow:function(){var e="bottom"===(this.options.editable.createAt||"").toLowerCase();this._clearEditableState(),e?this._virtualAddRowAtBottom():this._virtualAddRowAtTop()},_virtualAddRowAtTop:function(){var e,t=this,n=t.dataSource,r=t.virtualScrollable;1===n.page()?(e=n.insert(0,{}),t._editModel(e),r.scrollToTop()):t._virtualPageToTop((function(){e=n.insert(0,{}),t._editModel(e),r.scrollToTop()}))},_virtualAddRowAtBottom:function(){var e,t=this,n=t.dataSource,r=t.virtualScrollable,o=n.total();n.at(o-1)instanceof l?(e=n.insert(o,{}),t._virtualPageToBottom((function(){t._editModel(e),r.scrollToBottom()}))):t._virtualPageToBottom((function(){e=n.insert(o,{}),t._editModel(e),r.scrollToBottom()}))},_virtualPageToTop:function(e){this._virtualPage(0,this.dataSource.take(),(function(){e()}))},_virtualPageToBottom:function(e){var t=this.dataSource,n=t.take(),r=t.total(),o=r>n?r-n:0;this._virtualPage(o,n,(function(){e()}))},_virtualPage:function(e,t,n){this._isVirtualEditable()&&(this.virtualScrollable._preventScroll=!0,this.virtualScrollable._page(e,t,n))},_firstEditableColumnIndex:function(e){var t,n,r,o=je(this.columns),l=this._modelForContainer(e);for(n=0,r=o.length;n<r;n++)if(t=o[n],l&&(!l.editable||l.editable(t.field))&&!t.command&&t.field&&!0!==t.hidden)return n;return-1},_toolbar:function(){var t,r=this,o=r.wrapper,l=r.options.toolbar,c=r.options.editable;l&&((t=r.wrapper.find(".k-grid-toolbar")).length||(D(l)||(l=typeof l===j?l:r._toolbarTmpl(l).replace(K,"\\#"),l=T(n.template(l),r)),t=e('<div class="k-header k-grid-toolbar" />').html(l({})).prependTo(o),r.angular("compile",(function(){return{elements:t.get()}}))),c&&!1!==c.create&&t.on(U+H,".k-grid-add",(function(e){e.preventDefault(),r.addRow()})).on(U+H,".k-grid-cancel-changes",(function(e){e.preventDefault(),r.cancelChanges()})).on(U+H,".k-grid-save-changes",(function(e){e.preventDefault(),r.saveChanges()})),t.on(U+H,".k-grid-excel",(function(e){e.preventDefault(),r.saveAsExcel()})),t.on(U+H,".k-grid-pdf",(function(e){e.preventDefault(),r.saveAsPDF()})),t.on("input"+H,".k-grid-search input",(function(e){var input=e.currentTarget;clearTimeout(r._searchTimeOut),r._searchTimeOut=setTimeout((function(){r._searchTimeOut=null;var e=r.options,t=e.search?e.search.fields:null,n={filters:[],logic:"or"},o=input.value;if(t||(t=function(e){var t=[];e=je(e);for(var n=0;n<e.length;n++)"string"==typeof e[n]?t.push(e[n]):e[n].field&&t.push(e[n].field);return t}(e.columns)),r.dataSource.options.endless&&(r.dataSource.options.endless=null,r._endlessPageSize=r.dataSource.options.pageSize),o)for(var i=0;i<t.length;i++)n.filters.push({field:t[i],operator:"contains",value:o});else n={};r.dataSource.filter(n)}),300)})))},_toolbarTmpl:function(e){var t,n,html="";if(k(e))for(t=0,n=e.length;t<n;t++)"search"===("string"==typeof e[t]?e[t].toLowerCase():(e[t].name||"").toLowerCase())?(html+="<span class='k-textbox k-grid-search k-display-flex'>",html+="<input autocomplete='off' placeholder='"+this.options.messages.search+"' title='"+this.options.messages.search+"' class='k-input' />",html+="<span class='k-input-icon'><span class='k-icon k-i-search'></span></span>",html+="</span>"):html+=this._createButton(e[t]);return html},_createButton:function(e){var r,template=e.template||'# if (iconClass) {#<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"></span>#=text#</a># } else { #<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#</a># } #',o=typeof e===j?e:e.name||e.text,l={className:he[o]?he[o].className:"k-grid-"+(o||"").replace(/\s/g,""),text:o,attr:"",iconClass:""},c=this.options.messages.commands;if(!(o||w(e)&&e.template))throw new Error("Custom commands should have name specified");return w(e)?((e=y(!0,{},e)).className&&C(l.className,e.className.split(" "))<0?e.className+=" "+l.className:e.className===t&&(e.className=l.className),"edit"===o&&((e=y(!0,{},e)).text=w(e.text)?e.text.edit:e.text,e.iconClass=w(e.iconClass)?e.iconClass.edit:e.iconClass),e.attr&&(w(e.attr)&&(e.attr=ce(e.attr)),typeof e.attr===j&&(r=e.attr.match(/class="(.+?)"/))&&C(r[1],e.className.split(" "))<0&&(e.className+=" "+r[1])),l=y(!0,l,he[o],{text:c[o]},e)):l=y(!0,l,he[o],{text:c[o]}),n.template(template)(l)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var t=this;t._groupableClickHandler?t.table.add(t.lockedTable).off(U+H,t._groupableClickHandler):t._groupableClickHandler=function(n){var element=e(this),r=element.closest("tr"),o=t._groupRows?t._groupRows[t.wrapper.find(".k-grouping-row").index(r)]:{};element.hasClass("k-i-collapse")?t.trigger("groupCollapse",{group:o,element:r})||t.collapseGroup(r):t.trigger("groupExpand",{group:o,element:r})||t.expandGroup(r),n.preventDefault(),n.stopPropagation()},t._isLocked()?t.lockedTable.on(U+H,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler):t.table.on(U+H,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,o=t.wrapper,l=t.options.groupable,c=L+"["+n.attr("field")+"]",filter=t.content?".k-grid-header:first "+c:"table:first>.k-grid-header "+c;l&&!1!==l.enabled&&(o.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(o),t.groupable&&t._destroyGroupable(),Z.chrome&&(o.find("div.k-grouping-header").css("touch-action","none"),o.find(filter).css("touch-action","none")),t.groupable=new r.Groupable(o,y({},l,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:filter,filter:filter,allowDrag:t.options.reorderable,change:function(e){t.trigger("group",{groups:e.groups})?e.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource._skip=0,t.dataSource._pageSize=t.dataSource._take=t._endlessPageSize,t.dataSource._page=1))}})),t._addGroupableOptionsToHeader())},_addGroupableOptionsToHeader:function(){var e,t,i,r=Fe(this.columns),o={},l=this._headerCells();for(i=0;i<r.length;i++)r[i].field,o[r[i].field]=r[i];for(i=0;i<l.length;i++)(t=o[(e=l.eq(i)).attr(n.attr("field"))])&&t.groupable&&t.groupable.sort&&e.data("group-sort",t.groupable.sort)},_destroyGroupable:function(){this.groupable&&this.groupable.element&&this.groupable.element.kendoGroupable("destroy"),this.groupable=null,this._removeGroupableOptionsFromHeader()},_removeGroupableOptionsFromHeader:function(){for(var e=this._headerCells(),i=0;i<e.length;i++)e.eq(i).removeData("group-sort")},_continuousItems:function(filter,t){if(this.lockedContent){for(var n=this.table.add(this.lockedTable),r=e(filter,n[0]),o=e(filter,n[1]),l=t?He(this.columns).length:1,c=t?this.columns.length-l:1,h=[],d=0;d<r.length;d+=l)S.apply(h,r.slice(d,d+l)),S.apply(h,o.splice(0,c));return h}},_selectable:function(){var t,r,o=this,l=[],c=o._isLocked(),h=o.options.selectable;if(h){o.selectable&&o.selectable.destroy(),o._selectedIds={},h=n.ui.Selectable.parseOptions(h),t=h.multiple,r=h.cell,o._hasDetails()&&(l[l.length]=".k-detail-row"),(o.options.groupable||o._hasFooters()||o._groups())&&(l[l.length]=".k-grouping-row,.k-group-footer"),""!==(l=l.join(","))&&(l=":not("+l+")");var d=o.table;c&&(d=d.add(o.lockedTable));var filter=">"+(r?"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)":"tbody>tr"+l);o.selectable=new n.ui.Selectable(d,{filter:filter,aria:!0,multiple:t,change:function(){var e;r||o._persistSelectedRows(),o._checkBoxSelection&&(e=o.selectable.value(),o._uncheckCheckBoxes(),o._checkRows(e),e.length&&e.length===o.items().length?o._toggleHeaderCheckState(!0):o._toggleHeaderCheckState(!1)),o.trigger(N)},useAllItems:c&&t&&r,relatedTarget:function(t){if(!r&&c){for(var n,l=e(),h=0,d=t.length;h<d;h++)n=o._relatedRow(t[h]),C(n[0],t)<0&&(l=l.add(n));return l}},continuousItems:function(){return o._continuousItems(filter,r)}}),o.options.navigatable&&d.on("keydown"+H,(function(n){var l=o.current(),h=n.target;if(n.keyCode===_.SPACEBAR&&!n.shiftKey&&e.inArray(h,d)>-1&&!l.is(".k-edit-cell,.k-header")&&l.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(n.preventDefault(),n.stopPropagation(),l=r?l:l.parent(),c&&!r&&(l=l.add(o._relatedRow(l))),t)if(n.ctrlKey){if(l.hasClass(V))return void o._deselectCheckRows(l)}else o.selectable.clear();else o.selectable.clear();r||(o.selectable._lastActive=l),o.selectable.value(l)}else!r&&(e(h).is("td")||e(h).is("table")&&C(h,this._navigatableTables))&&(n.shiftKey&&n.keyCode==_.LEFT||n.shiftKey&&n.keyCode==_.RIGHT||n.shiftKey&&n.keyCode==_.UP||n.shiftKey&&n.keyCode==_.DOWN||n.keyCode===_.SPACEBAR&&n.shiftKey)&&(n.preventDefault(),n.stopPropagation(),l=l.parent(),c&&(l=l.add(o._relatedRow(l))),t?(o.selectable._lastActive||(o.selectable._lastActive=l),o.selectable.selectRange(o.selectable._firstSelectee(),l)):(o.selectable.clear(),o.selectable.value(l)))}))}},_clipboard:function(){var e=this.options;if(e.selectable&&e.allowCopy){var t=this;e.navigatable||t.table.add(t.lockedTable).attr("tabindex",0).on("mousedown"+H+" keydown"+H,".k-detail-cell",(function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()})).on("mousedown"+H,R+">"+F,T(gt,t)),t.copyHandler=T(t.copySelection,t),t.updateClipBoardState=function(){t.areaClipBoard&&t.areaClipBoard.val(t.getTSV()).focus().select()},t.bind("change",t.updateClipBoardState),t.wrapper.on("keydown",t.copyHandler),t.clearAreaHandler=T(t.clearArea,t),t.wrapper.on("keyup",t.clearAreaHandler)}},copySelection:function(t){t instanceof c.Event&&!t.ctrlKey&&!t.metaKey||e(t.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=e("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var t=this,n=t.select(),r="\t",o=t.options.allowCopy;e.isPlainObject(o)&&o.delimeter&&(r=o.delimeter);var text="";if(n.length){n.eq(0).is("tr")&&(n=n.find("td:not(.k-group-cell)")),n.filter(":visible");var l=[],c=this.columns.length,h=t._isLocked()&&He(t.columns).length,d=!0;e.each(n,(function(n,r){var o=(r=e(r)).closest("tr").index(),f=r.index();f-=r.prevAll(":hidden").length,h&&d&&(d=e.contains(t.lockedTable[0],r[0])),t._groups()&&d&&(f-=t._groups()),c>(f=d?f:f+h)&&(c=f);var m=r.text();l[o]||(l[o]=[]),l[o][f]=m}));var f=l.length;l=e.each(l,(function(e,t){t&&(l[e]=t.slice(c),f>e&&(f=e))})),e.each(l.slice(f),(function(e,t){text+=t?t.join(r)+"\r\n":"\r\n"}))}return text},clearArea:function(t){this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&ht(this.options.navigatable?e(this.current()).closest("table"):this.table,!0),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_adaptiveColumns:function(){this._anyColumnHasMediaQuery()&&(this._setColumnsMediaVisibility(this.columns),this._attachColumnMediaResizeHandler())},_anyColumnHasMediaQuery:function(){return this._columnsWithMediaQuery().length},_columnsWithMediaQuery:function(){return function e(t){for(var n,r=[],i=0;i<t.length;i++){if(!Ce((n=t[i]).media)){if(!Ce(n.minScreenWidth))throw new Error("Using 'media' and 'minScreenWidth' options at the same time is not supported.");r.push(n)}n.columns&&(r=r.concat(e(n.columns)))}return r}(this.columns)},_attachColumnMediaResizeHandler:function(){this._detachColumnMediaResizeHandler(),this._columnMediaResizeHandler=T(this._onColumnMediaResize,this),e(window).on("resize"+H,this._columnMediaResizeHandler)},_detachColumnMediaResizeHandler:function(){this._columnMediaResizeHandler&&e(window).off("resize"+H,this._columnMediaResizeHandler)},_onColumnMediaResize:function(){this._setColumnsMediaVisibility(this.columns),this._setContentMediaWidth()},_setColumnsMediaVisibility:function(e){for(var t=e||[],i=0;i<t.length;i++)this._setColumnMediaVisibility(t[i])},_setColumnMediaVisibility:function(e){Ce(e.media)?this._setColumnsMediaVisibility(e.columns):we(e)?(this._showColumnByMedia(e),e.hidden||this._setColumnsMediaVisibility(e.columns)):this._hideColumnByMedia(e)},_showColumnByMedia:function(e){e.hidden||this.showColumn(e),be(e)},_hideColumnByMedia:function(e){var t=e.hidden;t||(e._hideByMedia=!0,this.hideColumn(e),e._hideByMedia=!1,e.hidden=t),be(e)},_setContentMediaWidth:function(){var footer,element,t=this.options,n=this._isLocked();if(t.scrollable&&t.resizable){n&&this.lockedFooter?footer=this.lockedFooter.children("table"):this.footer&&(footer=this.footer.find(">.k-grid-footer-wrap>table")),footer&&footer[0]||(footer=e());var header=n?this.wrapper.find(".k-grid-header-locked").find("table"):this.wrapper.find(".k-grid-header").find("table"),r=n?this.lockedTable:this.table,o=header.find("th"),l=header.find("colgroup"),c=o.length,h=o.filter(ye).length,d=o.length-h,f=0;if(""!==header[0].style.width&&parseFloat(header[0].style.width)!==f){for(var v=header.css("width"),i=0;i<c;i++)if(element=o[i],"none"!==e(element)[0].style.display){var _,w=Math.max(i,i-d),y=l.children()[w],x=y?y.style.width:"";""!==x?_=parseFloat(x):(header.css("width","auto"),_=m(o.eq(i)),header.css("width",v)),f+=_}r.css("width",f-1),header.css("width",f),footer.css("width",f)}}},_minScreenSupport:function(){this.hideMinScreenCols()&&(this.minScreenResizeHandler=T(this.hideMinScreenCols,this),e(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var e=this.columns,t=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(e,t)},_iterateMinScreenCols:function(e,n){for(var r=!1,i=0;i<e.length;i++){var col=e[i],o=col.minScreenWidth;o!==t&&null!==o&&(r=!0,o>n?this.hideColumn(col):this.showColumn(col)),!col.hidden&&col.columns&&(r=this._iterateMinScreenCols(col.columns,n)||r)}return r},_relatedRow:function(t){var n=this.lockedTable;if(t=e(t),!n)return t;var table=t.closest(this.table.add(this.lockedTable)),r=table.find(">tbody>tr").index(t);return(table=table[0]===this.table[0]?n:this.table).find(">tbody>tr").eq(r)},_relatedCell:function(t){var n=this.lockedTable;if(t=e(t),!n)return t;var table=t.closest(this.table.add(this.lockedTable)),r=table.find(">tbody>tr>td").index(t);return(table=table[0]===this.table[0]?n:this.table).find(">tbody>tr>td").index(r)},clearSelection:function(){this.selectable&&!this._checkBoxSelection&&this.selectable.clear(),this._checkBoxSelection?this._deselectCheckRows(this.select()):(this.options.persistSelection?this._persistSelectedRows():this._selectedIds={},this.trigger(N))},select:function(e){var t=this,r=t.selectable,o=n.ui.Selectable.parseOptions(this.options.selectable).cell;return(e=t.table.add(t.lockedTable).find(e)).length?(r&&!r.options.multiple&&(r.clear(),e=e.first()),t._isLocked()&&(e=e.add(e.map((function(){return o?t._relatedCell(this):t._relatedRow(this)})))),void(r&&!t._checkBoxSelection?r.value(e):(t._checkRows(e),t.select().length===t.items().length&&t._toggleHeaderCheckState(!0),o||t._persistSelectedRows(),t.trigger(N)))):r?r.value():t.items().filter("."+V)},_toggleHeaderCheckState:function(e){e?this.thead.add(this.lockedHeader).find("tr "+W).prop("checked",!0).attr("aria-checked",!0).attr("aria-label","Deselect all rows"):this.thead.add(this.lockedHeader).find("tr "+W).prop("checked",!1).attr("aria-checked",!1).attr("aria-label","Select all rows")},_uncheckCheckBoxes:function(){this.table.add(this.lockedTable).find("tbody "+W).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")},_deselectCheckRows:function(t){var n=this;t=n.table.add(n.lockedTable).find(t),n._isLocked()&&(t=t.add(t.map((function(){return n._relatedRow(this)})))),t.each((function(){e(this).removeClass(V).find(W).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")})),n._toggleHeaderCheckState(!1),n._persistSelectedRows(),n.trigger(N)},_checkRows:function(t){t.each((function(){e(this).addClass(V).find(W).prop("checked",!0).attr("aria-label","Deselect row").attr("aria-checked",!0)}))},_persistSelectedRows:function(){var e,t,n,r=this,o=r.items(),l=r.dataSource.options.schema,c={};if(l&&l.model&&r._data&&(n=D(l.model)?l.model.fn.idField:l.model.id)){r.select().each((function(){t=r.dataItem(this),c[t[n]]=!0}));for(var i=0;i<o.length;i++)e=(t=r.dataItem(o[i]))[n],c[e]?r._selectedIds[e]=!0:delete r._selectedIds[e]}},selectedKeyNames:function(){var e=[];for(var t in this._selectedIds)e.push(t);return e.sort(),e},_updateCurrentAttr:function(t,n){var r=e(t).data("headerId");e(t).removeClass(O).closest("table").removeAttr("aria-activedescendant"),r?(r=r.replace(this._cellId,""),e(t).attr("id",r)):e(t).removeAttr("id"),n.data("headerId",n.attr("id")).attr("id",this._cellId).addClass(O).closest("table").attr("aria-activedescendant",this._cellId),this._current=n},_scrollCurrent:function(){var t=this._current,n=this.options.scrollable;if(t&&n){var r=t.parent(),o=r.closest("table").parent(),l=o.is(".k-grid-content-locked,.k-grid-header-locked"),c=o.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),h=e(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0];if(c)if(n.virtual){var d=Math.max(C(r[0],this._items(r.parent())),0);this._rowVirtualIndex=this.virtualScrollable.itemIndex(d),this.virtualScrollable.scrollIntoView(r)}else this._scrollTo(this._relatedRow(r)[0],h);this.lockedContent&&(this.lockedContent[0].scrollTop=h.scrollTop),l||this._scrollTo(t[0],h)}},current:function(e){return this._setCurrent(e,!0)},_setCurrent:function(t,n,r){var o=this._current;return(t=e(t)).length&&(o&&o[0]===t[0]||(this._updateCurrentAttr(o,t),r||this._scrollCurrent(),n||this.trigger("navigate",{element:t}))),t&&t.length&&(this._lastCellIndex=t.parent().children(M).index(t)),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(O),this._current=null)},_scrollTo:function(element,t){var r=element.tagName.toLowerCase(),o="td"===r||"th"===r,l=element[o?"offsetLeft":"offsetTop"],c=element[o?"offsetWidth":"offsetHeight"],h=t[o?"scrollLeft":"scrollTop"],d=t[o?"clientWidth":"clientHeight"],f=l+c,m=0,v=0,_=0;if(J&&o){var table=e(element).closest("table")[0];Z.msie?v=table.offsetLeft:Z.mozilla&&(_=table.offsetLeft-n.support.scrollbar())}m=(h=Math.abs(h+v-_))>l?l:f>h+d?c<=d?f-d:l:h,m=Math.abs(m+v)+_,t[o?"scrollLeft":"scrollTop"]=m},_navigatable:function(){if(this.options.navigatable){var t=this.table.add(this.lockedTable),r=this.thead.parent().add(e(">table",this.lockedHeader)),o=t;this.options.scrollable&&(o=o.add(r),r.attr("tabIndex",-1)),this._navigatableTables=o,o.off("mousedown"+H+" focus"+H+" focusout"+H+" keydown"+H),r.on("keydown"+H,T(this._openHeaderMenu,this)).find("a.k-link").attr("tabIndex",-1),t.attr("tabIndex",I.max(t.attr("tabIndex")||0,0)).on("keydown"+H,".k-detail-cell",(function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()})),o.on(n.support.touch?"touchstart"+H:"mousedown"+H,R+">"+F,T(gt,this)).on("focus"+H,T(this._tableFocus,this)).on("focusout"+H,T(this._tableBlur,this)).on("keydown"+H,T(this._tableKeyDown,this))}},_openHeaderMenu:function(e){e.altKey&&e.keyCode==_.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())},_setTabIndex:function(table){this._navigatableTables.attr("tabIndex",-1),table.attr("tabIndex",0)},_tableFocus:function(t){var n=this.current(),table=e(t.currentTarget);n&&n.is(":visible")?n.addClass(O):this._setCurrent(table.find(B)),this._setTabIndex(table)},_tableBlur:function(){var e=this.current();e&&e.removeClass(O)},_tableKeyDown:function(t){var n=this.current(),r=this.virtualScrollable&&this.virtualScrollable.fetching(),o=e(t.target),l=!t.isDefaultPrevented()&&!o.is(":button,a,:input,a>.k-icon");if(r)t.preventDefault();else if((n=n||e(this.lockedTable).add(this.options.scrollable?this.table:this.tbody).find(B)).length){var c=!1;l&&t.keyCode==_.UP&&(c=this._moveUp(n,t.shiftKey)),l&&t.keyCode==_.DOWN&&(c=this._moveDown(n,t.shiftKey)),l&&t.keyCode==(J?_.LEFT:_.RIGHT)&&(c=this._moveRight(n,t.altKey,t.shiftKey,t.ctrlKey,t.currentTarget)),l&&t.keyCode==(J?_.RIGHT:_.LEFT)&&(c=this._moveLeft(n,t.altKey,t.shiftKey,t.ctrlKey,t.currentTarget)),l&&t.keyCode==_.PAGEDOWN&&(c=this._handlePageDown()),l&&t.keyCode==_.PAGEUP&&(c=this._handlePageUp()),l&&t.keyCode==_.HOME&&(c=this._handleHome(n,t.ctrlKey)),l&&t.keyCode==_.END&&(c=this._handleEnd(n,t.ctrlKey)),l&&t.keyCode==_.SPACEBAR&&(c=this._handleSpaceKey(n,t.ctrlKey)),t.keyCode!=_.ENTER&&t.keyCode!=_.F2||(c=this._handleEnterKey(n,t.currentTarget,o)),t.keyCode==_.ESC&&(c=this._handleEscKey(n,t.currentTarget)),t.keyCode==_.TAB&&(c=this._handleTabKey(n,t.currentTarget,t.shiftKey)),c&&(t.preventDefault(),t.stopPropagation())}},_moveLeft:function(t,n,r,o,l){var c,h,d=t.parent(),f=d.parent();return n?this.collapseRow(d):o&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!0):(h=f.find(R).index(d),(c=this._prevHorizontalCell(f,t,h))[0]||(r?this.lockedTable?(c=this._relatedRow(d),e.contains(this.lockedTable[0],d[0])&&(c=c.prevAll(P+":first")),c=c.children(M+":last")):c=this._tabNext(t,l,!0):(f=this._horizontalContainer(f),(c=this._prevHorizontalCell(f,t,h))[0]!==t[0]&&ht(f.parent(),!0))),this._setCurrent(c)),!0},_moveRight:function(t,n,r,o,l){var c,h,d=t.parent(),f=d.parent();return n?this.expandRow(d):o&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!1):(h=f.find(R).index(d),(c=this._nextHorizontalCell(f,t,h))[0]||(r?this.lockedTable?(c=this._relatedRow(d),e.contains(this.table[0],d[0])&&(c=c.nextAll(P+":first")),c=c.children(M+":first")):c=this._tabNext(t,l,!1):(f=this._horizontalContainer(f,!0),(c=this._nextHorizontalCell(f,t,h))[0]!==t[0]&&ht(f.parent(),!0))),this._setCurrent(c)),!0},_moveUp:function(e,t){var n,r=e.parent().parent();t?(n=(n=e.parent()).prevAll(P+":first"),n=e.parent().is(P)?n.children().eq(e.index()):n.children(M+":last")):(n=this._prevVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r,!0),(n=this._prevVerticalCell(r,e))[0]&&ht(r.parent(),!0));var o=this._lastCellIndex||0;return this._setCurrent(n),this._lastCellIndex=o,!0},_moveDown:function(e,t){var n,r=e.parent().parent();t?(n=(n=e.parent()).nextAll(P+":first"),n=e.parent().is(P)?n.children().eq(e.index()):n.children(M+":first")):(n=this._nextVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r),(n=this._nextVerticalCell(r,e))[0]&&ht(r.parent(),!0));var o=this._lastCellIndex||0;return this._setCurrent(n),this._lastCellIndex=o,!0},_moveColumn:function(t,n){var r=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible"),o=ke(Me(this.columns)),l=r.index(e(t)),c=n?-1:1,h=o[l],d=Re(o,this.columns,l,l+c);d>=0&&this.reorderColumn(d,h,n)},_handleHome:function(e,t){var n,r=e.parent(),o=r.parent(),l=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],c=o[0]===this.tbody[0];if(t?n=this.lockedTable?this.lockedTable.find(z+">"+F+":first"):this.table.find(z+">"+F+":first"):(c||l)&&(c&&this.lockedTable&&(r=this._relatedRow(r)),n=r.children(M+":first")),n&&n.length)return this._setCurrent(n),!0},_handleEnd:function(e,t){var n,r=e.parent(),o=r.parent(),l=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],c=o[0]===this.tbody[0];if(t?n=this.table.find("tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible:last>"+F+":last"):(c||l)&&(!c&&this.lockedTable&&(r=this._relatedRow(r)),n=r.children(M+":last")),n&&n.length)return this._setCurrent(n),!0},_handlePageDown:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()+1),!0)},_handlePageUp:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()-1),!0)},_handleTabKey:function(t,n,r){var o;return!(!this.options.editable||"incell"!=this._editMode()||t.is("th")||((o=e(d()).closest(".k-edit-cell"))[0]&&o[0]!==t[0]&&(t=o),!(o=this._tabNext(t,n,r)).length||(this._handleEditing(t,o,o.closest("table")),0)))},_handleEscKey:function(t,n){var r,o=d(),l="incell"==this._editMode();if(!(r=t)||!r.hasClass("k-edit-cell")&&!r.parent().hasClass("k-grid-edit-row"))return!!t.has(o).length&&(ht(n,!0),!0);if(l)this.closeCell(!0);else{var c=e(t).parent().index();o&&o.blur(),this.cancelRow(!0),c>=0&&this._setCurrent(this.items().eq(c).children(F).first())}return Z.msie&&Z.version<9&&document.body.focus(),ht(n,!0),!0},_toggleCurrent:function(e,t){var n=e.parent();return n.is(".k-grouping-row")?(n.find(".k-icon:first").click(),!0):!(t||!n.is(".k-master-row")||(n.find(".k-icon:first").click(),0))},_handleSpaceKey:function(t,r){if(r&&this.groupable&&t.hasClass("k-header")){var o=this.groupable.descriptors(),l=t.attr(n.attr("field")),c=this.groupable.aggregates(),label=t.attr(n.attr("title"))||l;return this.groupable._canDrag(t)?(o.push({field:l,dir:"asc",aggregates:c||[]}),label+=" "+this.options.messages.ungroupHeader):(o=e.grep(o,(function(e){return e.field!==l})),label+=" "+this.options.messages.groupHeader),t.attr("aria-label",label),this.dataSource.group(o),!0}},_handleEnterKey:function(t,n,r){var link,o=this.options.editable&&!1!==this.options.editable.update,l=r.closest("[role=gridcell]");if(r.is("table")||e.contains(t[0],r[0])||(t=l),t.is("th"))return(link=t.find(".k-link")).length?link.click():t.find(W).focus(),!0;if(this._toggleCurrent(t,o))return!0;var c=t.find(":kendoFocusable:first");return c[0]&&!t.hasClass("k-edit-cell")&&t.hasClass("k-state-focused")?(c.focus(),!0):!(!o||r.is(":button,.k-button,textarea")||(l[0]||(l=t),this._handleEditing(l,!1,n),0))},_nextHorizontalCell:function(table,e,t){var n=e.nextAll(M);if(!n.length){var r=table.find(R);if(-1==r.index(e.parent())){if(e.hasClass("k-header")){var o=[];return Le([He(this.columns)[0]],Ge(r.eq(0).children(":visible").first()),o,0,0),o[t]?o[t][0]:e}return e.parent().hasClass("k-filter-row")?r.last().children(M).first():r.eq(t).children(M).first()}}return n.first()},_prevHorizontalCell:function(table,e,t){var n=e.prevAll(M);if(!n.length){var r=table.find(R);if(-1==r.index(e.parent())){if(e.hasClass("k-header")){var o=[],l=He(this.columns);return Le([l[l.length-1]],Ge(r.eq(0).children().last()),o,0,0),o[t]?o[t][0]:e}return e.parent().hasClass("k-filter-row")?r.last().children(M).last():r.eq(t).children(M).last()}}return n.first()},_currentDataIndex:function(table,e){var n=e.attr("data-index");if(!n)return t;var r=He(this.columns).length;return r&&!table.closest("div").hasClass("k-grid-content-locked")[0]?n-r:n},_prevVerticalCell:function(t,n){var r,o=n.parent(),l=t.children(R),c=l.index(o),h=this._currentDataIndex(t,n);if(h||n.hasClass("k-header"))return(r=function t(n){var r=n.closest("table"),o=e().add(n),l=n.closest("tr"),c=r.find("tr:not(.k-filter-row)"),h=c.index(l);if(h>0){for(var d=c.eq(h-1).find("th:not(.k-group-cell,.k-hierarchy-cell)").filter((function(){return!e(this).attr("rowspan")})),f=0,m=l.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(n),v=n.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter((function(){return this.colSpan>1})),_=0;_<v.length;_++)f+=v[_].colSpan||1;for(m+=Math.max(f-1,0),f=0,_=0;_<d.length;_++){var w=d.eq(_);if(w.attr("data-colspan")?f+=w[0].getAttribute("data-colspan"):f+=1,m>=_&&m<f){o=t(w).add(o);break}}}return o}(n)).eq(r.length-2);if(h=Math.max(o.children(M).index(n),this._lastCellIndex||0),o.hasClass("k-filter-row"))return qe(t).filter(ye).eq(h);if(-1==c){if(!(o=t.find("tr.k-filter-row:visible"))[0])return(this._hasDetails()||n.parent().find(".k-hierarchy-cell").length)&&h&&h--,qe(t).filter(ye).eq(h)}else o=0===c?e():l.eq(c-1);return(r=o.children(M)).length>h?r.eq(h):r.eq(0)},_nextVerticalCell:function(e,n){var r,o=n.parent(),l=e.children(R),c=l.index(o),h=this._currentDataIndex(e,n);if(-1!=c&&h===t&&n.hasClass("k-header"))return Ge(n).eq(1);h=h?parseInt(h,10):o.children(M).index(n),h=Math.max(h,this._lastCellIndex||0),-1==c?(o=l.eq(0),(this._hasDetails()||o.find(".k-hierarchy-cell").length)&&h++):o=l.eq(c+n[0].rowSpan);var d=h;if(this._currentDataIndex(e,n)!==t)for(var f=o.children(":not(.k-group-cell):not(.k-hierarchy-cell)"),m=f.filter(":hidden"),v=0,_=m.length;v<_;v++)f.index(m[v])<h&&d--;return h=d,(r=o.children(M)).length>h?r.eq(h):r.eq(0)},_verticalContainer:function(e,t){var table=e.parent(),n=this._navigatableTables.length,r=Math.floor(n/2),o=C(table[0],this._navigatableTables);return t&&(r*=-1),((o+=r)>=0||o<n)&&(table=this._navigatableTables.eq(o)),table.find(t?">thead":">tbody")},_horizontalContainer:function(e,t){var n=this._navigatableTables.length;if(n<=2)return e;var table=e.parent(),r=C(table[0],this._navigatableTables);return r+=t?1:-1,!t||2!=r&&r!=n?!t&&(1==r||r<0)?e:this._navigatableTables.eq(r).find("thead, tbody"):e},_tabNext:function(e,t,n){var r=!0,o=n?e.prevAll(M+":first"):e.nextAll(":visible:first");return o.length||(o=e.parent(),this.lockedTable&&(r=n&&t==this.lockedTable[0]||!n&&t==this.table[0],o=this._relatedRow(o)),r&&(o=o[n?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),o=o.children(M+(n?":last":":first"))),o},_handleEditing:function(t,n,table){var r,o,l=e(d()),c=this._editMode(),h=Z.msie,f=h&&Z.version<9,m=this._editContainer,v=this.options.editable&&!1!==this.options.editable.update;if(table=e(table),o="incell"==c?t.hasClass("k-edit-cell"):t.parent().hasClass("k-grid-edit-row"),this.editable){if(e.contains(m[0],l[0])&&(Z.opera||f?l.blur().change().triggerHandler("blur"):(l.blur(),h&&l.blur())),!this.editable)return void ht(table);if(!this.editable.end())return"incell"==c?this._setCurrent(m):this._setCurrent(m.children().filter(M).first()),void((r=m.find(":kendoFocusable:first")[0])&&r.focus());"incell"==c?this.closeCell():(this.saveRow(),o=!0)}n&&this._setCurrent(n),f&&document.body.focus(),ht(table,!0),v&&(!o&&!n||n)&&("incell"===c?e(this.current()).hasClass("k-hierarchy-cell")||this.editCell(this.current()):this.editRow(this.current().parent()))},_wrapper:function(){var table=this.table,e=this.options.height,t=this.element;t.is("div")||(t=t.wrap("<div/>").parent()),this.wrapper=t.addClass("k-grid k-widget k-display-block"),e&&(this.wrapper.css("height",e),table.css("height","auto")),this._initMobile()},_initMobile:function(){var e=this.options,t=this;if(this._isMobile=!0===e.mobile&&n.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile,this._isMobile){var html=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+n.ns+'stretch="true" data-'+n.ns+'role="view" data-'+n.ns+'init-widgets="false"></div>').parent();this.pane=this._createPane(html),this.view=this.pane.view(),e.height?this.pane.element.parent().css("height",e.height):this.pane.element.parent().css("height",this.wrapper[0].style.height),this._editAnimation="slide",t.wrapper.on("transitionend"+H,(function(e){e.stopPropagation()})),t.wrapper.on("contextmenu"+H,"th a",(function(e){return e.preventDefault(),!1})),this.view.bind("showStart",(function(){t._isLocked()&&(t._updateTablesWidth(),t._applyLockedContainersWidth(),t._syncLockedContentHeight(),t._syncLockedHeaderHeight(),t._syncLockedFooterHeight())}))}},_createPane:function(html){return n.Pane.wrap(html,{viewEngine:{viewOptions:{renderOnInit:!0,wrap:!1,wrapInSections:!0,detachOnHide:!1,detachOnDestroy:!1}}})},_tbody:function(){var tbody,table=this.table;(tbody=table.find(">tbody")).length||(tbody=e("<tbody/>").appendTo(table)),this.tbody=tbody.attr("role","rowgroup")},_scrollable:function(){var header,table,t,r=this,o=r.options.scrollable,l=!0!==o&&o.virtual&&!r.virtualScrollable,c=!n.support.kineticScrollNeeded||l?n.support.scrollbar():0;if(o){(header=r.wrapper.children(".k-grid-header"))[0]||(header=e('<div class="k-grid-header" />').insertBefore(r.table)),header.css(J?"padding-left":"padding-right",o.virtual?c+1:c),table=e('<table role="grid" />'),ee&&table.attr("cellspacing",0),table.width(r.table[0].style.width),table.append(r.thead),header.empty().append(e('<div class="k-grid-header-wrap k-auto-scrollable" />').append(table)),r.content=r.table.parent(),r.content.is(".k-virtual-scrollable-wrap, ."+oe)&&(r.content=r.content.parent()),r.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(r.content=r.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()),l&&r._createVirtualScrollable(),t=header.children(".k-grid-header-wrap"),r.scrollables=t.add(r.content);var footer=r.wrapper.find(".k-grid-footer");if(footer.length&&(r.scrollables=r.scrollables.add(footer.children(".k-grid-footer-wrap"))),t.unbind("scroll"+H).bind("scroll"+H,(function(e){r._scrollLeft!==this.scrollLeft&&r.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft)})),o.virtual)r.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+H).bind("scroll"+H,(function(){r.scrollables.scrollLeft(this.scrollLeft),r.lockedContent&&(r.lockedContent[0].scrollTop=this.scrollTop)}));else{var h=o.endless,d=r.dataSource.options.pageSize;h&&(r._endlessPageSize=d),r.content.unbind("scroll"+H).bind("scroll"+H,(function(e){r._scrollLeft=this.scrollLeft,r.scrollables.not(e.currentTarget).scrollLeft(r._scrollLeft),r.lockedContent&&e.currentTarget==r.content[0]&&(r.lockedContent[0].scrollTop=this.scrollTop),h&&this.scrollTop+this.clientHeight-this.scrollHeight>=-10&&!r._endlessFetchInProgress&&r._endlessPageSize<r.dataSource.total()&&(r._skipRerenderItemsCount=r._endlessPageSize,r._endlessPageSize=r._endlessPageSize+d,r.dataSource.options.endless=!0,r._endlessFetchInProgress=!0,r.dataSource.pageSize(r._endlessPageSize))}));var f=r.content.data("kendoTouchScroller");f&&f.destroy(),(f=n.touchScroller(r.content))&&f.movable&&(r.touchScroller=f,f.movable.bind("change",(function(e){r.scrollables.scrollLeft(-e.sender.x),r.lockedContent&&r.lockedContent.scrollTop(-e.sender.y)})),r.one("dataBound",(function(e){e.sender.wrapper.addClass("k-grid-backface")})))}}},_createVirtualScrollable:function(){var e=this;e.virtualScrollable&&e.virtualScrollable.destroy(),e.virtualScrollable=new se(e.content,{dataSource:e.dataSource,itemHeight:function(){return e._averageRowHeight()},page:function(){e._restoreEditableState()},scroll:function(){e._focusEditable()}}),e.virtualScrollable.bind("paging",T(e._onVirtualPaging,e))},_onVirtualPaging:function(){this._cacheEditableState(),this._isVirtualIncellEditable()&&(this._shouldClearEditableState=!1,this.closeCell(),this._shouldClearEditableState=!0)},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&"inline"===this._editMode()},_isVirtualIncellEditable:function(){return this.virtualScrollable&&"incell"===this._editMode()},_isVirtualPopupEditable:function(){return this.virtualScrollable&&"popup"===this._editMode()},_scrollVirtualWrapper:function(){var e=this.virtualScrollable;(this._isVirtualInlineEditable()||this._isVirtualIncellEditable())&&(e._isScrolledToBottom()?e._scrollWrapperToBottom():e._isScrolledToTop()&&e._scrollWrapperToTop())},_scrollVirtualWrapperOnColumnResize:function(){var e=this.virtualScrollable;e&&e._scrollWrapperOnColumnResize()},_restoreEditableState:function(){var t,n,r=this._editableState||{},o=r.model,l=this.dataSource,c=this._isVirtualInlineEditable(),h=this._isVirtualIncellEditable();(c||h)&&o&&l._getByUid(o.uid,l.view())&&(c?(this._shouldClearEditableState=!1,this.editRow(o),this._focusEditable()):h&&(t=this.tbody.children(ae("uid",o.uid)),(n=e(t).children(ae("field",r.field)))[0]&&(this._shouldClearEditableState=!1,this.editCell(n),this._focusEditable()))),this._shouldClearEditableState=!0},_focusEditable:function(){var e=(this._editableState||{}).field,t=this._editContainer;t&&!A(t[0],d())&&this._canFocusEditable()&&(this._isVirtualInlineEditable()?t.find(ae("container-for",e)).find(":kendoFocusable").eq(0).focus():this._isVirtualIncellEditable()&&t.find(":kendoFocusable").eq(0).focus())},_canFocusEditable:function(){return(this._isVirtualIncellEditable()||this._isVirtualInlineEditable())&&this.virtualScrollable._isElementVisible(this._editContainer)},_cacheEditableState:function(){var t,r,o=this._editContainer,l=o?this._modelForContainer(o):null,c=this._isVirtualInlineEditable(),h=this._isVirtualIncellEditable();(c||h)&&l&&(this._clearEditableState(),t=e(d()),o&&t[0]&&A(o[0],t[0])&&(t.change(),(r=n.widgetInstance(t,n.ui))&&D(r.value)&&t.is("input")&&(r.value(t.val()),r.trigger(N))),c?this._editableState={model:l,field:t.closest("["+n.attr("container-for")+"]").attr(n.attr("container-for"))}:h&&(this._editableState={model:l,field:o.attr(n.attr("field"))}))},_clearEditableState:function(){this.virtualScrollable&&(this._editableState=null)},_destroyVirtualScrollable:function(){this._clearEditableState(),this.virtualScrollable&&this.virtualScrollable.element&&this.virtualScrollable.destroy(),this.virtualScrollable=null},_renderNoRecordsContent:function(){if(this.options.noRecords){var t=this.table.parent().children(".k-grid-norecords");t.length&&(this.angular("cleanup",(function(){return{elements:t.get()}})),t.remove()),this.dataSource&&this.dataSource.view().length||(t=e(this.noRecordsTemplate({})).insertAfter(this.table),this.angular("compile",(function(){return{elements:t.get(),data:[{}]}})))}},_setContentWidth:function(t){var n,r=this.resizable;this.options.scrollable&&this.wrapper.is(":visible")&&(n=this.table.parent().children(".k-grid-content-expander"),this._setContentWidthHandler=T(this._setContentWidth,this),this.dataSource&&this.dataSource.view().length?n[0]&&(n.remove(),r&&r.unbind("resize",this._setContentWidthHandler)):(n[0]||(n=e('<div class="k-grid-content-expander"></div>').appendTo(this.table.parent()),r&&r.bind("resize",this._setContentWidthHandler)),this.thead&&(n.width(this.thead.width()),isNaN(parseFloat(t,10))||this.content.scrollLeft(t))),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this.lockedHeader&&0===this.table[0].clientWidth&&(this.table[0].style.width="1px"))},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var e,t=this.thead.parent(),r=t.parent(),o=this.wrapper[0].clientWidth,l=this._groups(),c=n.support.scrollbar(),h=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),d=t.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),f=ze(h),v=ze(d);l>0&&(f+=m(this.lockedHeader.find(".k-group-cell:first"))*l),f>=o&&(f=o-3*c),this.lockedHeader.add(this.lockedContent).width(f),r[0].style.width=r.parent().width()-f-2+"px",t.add(this.table).width(v),this.virtualScrollable&&!ie&&(o-=c),this.content[0].style.width=o-f-1+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(f),(e=this.footer.find(".k-grid-footer-wrap"))[0].style.width=r[0].clientWidth+"px",e.children().first().width(v))}},_setContentHeight:function(){var e,t,r,o=this.options,header=this.wrapper.children(".k-grid-header"),l=n.support.scrollbar(),c=(o.scrollable||{}).height;o.scrollable&&this.wrapper.is(":visible")&&(c&&""===this.content[0].style.height&&(this.content[0].style.height=c),e=this.wrapper.innerHeight(),e-=v(header),this.pager&&this.pager.element.is(":visible")&&(e-=v(this.pager.element)),o.groupable&&(e-=v(this.wrapper.children(".k-grouping-header"))),o.toolbar&&(e-=v(this.wrapper.children(".k-grid-toolbar"))),this.footerTemplate&&(e-=v(this.wrapper.children(".k-grid-footer"))),((t=this.wrapper)[0].style.height||(r=t.height(),t.height("auto"),r!=t.height()?(t.height(""),1):(t.height(""),0)))&&(e>2*l?(this.lockedContent&&(l=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?l:0,this.lockedContent.height(e-l)),this.content.height(e)):this.content.height(2*l+1)))},_averageRowHeight:function(){var e=this._items(this.tbody).length,t=this._rowHeight;if(0===e)return t;this._rowHeight||(this._rowHeight=t=v(this.table)/e,this._sum=t,this._measures=1);var n=v(this.table)/e;return t!==n&&(this._measures++,this._sum+=n,this._rowHeight=this._sum/this._measures),t},_dataSource:function(){var e,n=this.options,r=n.dataSource;r=k(r)?{data:r}:r,w(r)&&(y(r,{table:this.table,fields:this.columns}),e=n.pageable,w(e)&&e.pageSize!==t&&(r.pageSize=e.pageSize)),this.dataSource&&this._refreshHandler?this.dataSource.unbind(N,this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=T(this.refresh,this),this._progressHandler=T(this._requestStart,this),this._errorHandler=T(this._error,this)),this.dataSource=o.create(r).bind(N,this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var o,l,c,h,d,f,m,v,_,w=this,tbody=w.tbody,y=t.model,x=w.tbody.find("tr["+n.attr("uid")+"="+y.uid+"]"),k=x.hasClass("k-alt"),C=w._items(tbody).index(x),S=w.lockedContent;if(S&&(o=w._relatedRow(x)),x.add(o).children(".k-edit-cell").length&&!w.options.rowTemplate)x.add(o).children(":not(.k-group-cell,.k-hierarchy-cell)").each((function(){l=e(this),(c=je(w.columns)[w.cellIndex(l)]).field===t.field&&(l.hasClass("k-edit-cell")?l.addClass("k-dirty-cell"):w._displayCell(l,c,y))}));else if(!x.hasClass("k-grid-edit-row")){f=e().add(x),S&&(h=(k?w.lockedAltRowTemplate:w.lockedRowTemplate)(y),f=f.add(o),o.replaceWith(h)),w.angular("cleanup",(function(){return{elements:f.get()}})),h=(k?w.altRowTemplate:w.rowTemplate)(y),x.replaceWith(h),h=w._items(tbody).eq(C);var T=[{dataItem:y}];for(S&&(x=x.add(o),o=w._relatedRow(h)[0],lt(h[0],o),h=h.add(o),T.push({dataItem:y})),w.angular("compile",(function(){return{elements:h.get(),data:T}})),((d=w.options.selectable)||w._checkBoxSelection)&&x.hasClass("k-state-selected")&&w.select(h),v=f.children(":not(.k-group-cell,.k-hierarchy-cell)"),m=h.children(":not(.k-group-cell,.k-hierarchy-cell)"),C=0,_=w.columns.length;C<_;C++)c=w.columns[C],l=m.eq(C),d&&v.eq(C).hasClass("k-state-selected")&&l.addClass("k-state-selected");w.trigger("itemChange",{item:h,data:y,ns:r})}},_pageable:function(){var t,r=this,o=r.options.pageable;o&&((t=r.wrapper.children("div.k-grid-pager")).length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(r.wrapper)),r.pager&&r.pager.destroy(),"object"==typeof o&&o instanceof n.ui.Pager?r.pager=o:r.pager=new n.ui.Pager(t,y({},o,{dataSource:r.dataSource})),r.pager.bind("pageChange",(function(e){r.trigger("page",{page:e.index})&&e.preventDefault()})),r._togglePagerVisibility())},_footer:function(){var t,n=this,r=n.dataSource.aggregates(),html="",o=n.footerTemplate,l=n.options,footer=n.footer||n.wrapper.find(".k-grid-footer");if(o){if(html=e(n._wrapFooter(o(r))),footer.length){var c=html;n.angular("cleanup",(function(){return{elements:footer.get()}})),footer.replaceWith(c),footer=n.footer=c}else footer=l.scrollable?n.footer=l.pageable?html.insertBefore(n.wrapper.children("div.k-grid-pager")):html.appendTo(n.wrapper):n.footer=html.insertBefore(n.tbody);n.angular("compile",(function(){return{elements:footer.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:map(n.columns,(function(col){return{column:col,aggregate:r[col.field]}}))}}))}else footer&&!n.footer&&(n.footer=footer);if(footer.length&&(l.scrollable&&(t=footer.attr("tabindex",-1).children(".k-grid-footer-wrap"),n.scrollables=e(n.scrollables.filter((function(){return!e(this).is(".k-grid-footer-wrap")})).toArray()).add(t)),n._footerWidth&&footer.find("table").css("width",n._footerWidth),t)){var h=n.content.scrollLeft();!0!==l.scrollable&&l.scrollable.virtual&&(h=n.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),t.scrollLeft(h)}n.lockedContent&&(n._appendLockedColumnFooter(),n._applyLockedContainersWidth(),n._syncLockedFooterHeight())},_wrapFooter:function(t){var html="",r=n.support.mobileOS?0:n.support.scrollbar();return this.options.scrollable?(html=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(ee?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),this._appendCols(html.find("table")),html.css(J?"padding-left":"padding-right",r),html):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var menu,e,r,o,l,c,h=this,d=je(h.columns),f=h.options,m=f.columnMenu,v=x(h.columns,(function(e){return e.columns!==t})).length>0,_=this._isMobile,w=function(e){h.trigger("columnMenuInit",{field:e.field,container:e.container})},k=function(e){h.trigger("columnMenuOpen",{field:e.field,container:e.container})},C=function(element){ht(element.closest("table"),!0)},S=function(e){h.trigger("sort",{sort:e.sort})?e.preventDefault():(h._clearEditableState(),h.dataSource.options.endless&&(h.dataSource.options.endless=null,h._endlessPageSize=h.dataSource.options.pageSize,h.dataSource.pageSize(h.dataSource.options.pageSize)))},T=function(e){h.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(h._clearEditableState(),h.dataSource.options.endless&&(h.dataSource.options.endless=null,h._endlessPageSize=h.dataSource.options.pageSize,h.dataSource.pageSize(h.dataSource.options.pageSize)))},D=f.$angular;if(m){"boolean"==typeof m&&(m={}),h._setColumnsMediaVisibility(d);for(var E=0,A=(c=qe(h.thead)).length;E<A;E++){e=d[E];var I=c.eq(E);e.command||!e.field&&!I.attr("data-"+n.ns+"field")||((menu=I.data("kendoColumnMenu"))&&menu.destroy(),o=!1!==e.sortable&&!1!==m.sortable&&!1!==f.sortable&&y({},f.sortable,{compare:(e.sortable||{}).compare}),l=!(!f.filterable||!1===e.filterable||!1===m.filterable)&&y({pane:h.pane},f.filterable,e.filterable),e.filterable&&e.filterable.dataSource&&(l.forceUnique=!1,l.checkSource=e.filterable.dataSource),l&&(l.format=e.format),r={dataSource:h.dataSource,values:e.values,columns:m.columns,sortable:o,filterable:l,messages:m.messages,owner:h,closeCallback:C,init:w,open:k,pane:h.pane,sort:S,filtering:T,filter:_?":not(.k-column-active)":"",lockedColumns:!v&&!1!==e.lockable&&He(d).length>0},D&&(r.$angular=D),I.kendoColumnMenu(r))}}},_headerCells:function(){return e(this.thead).find("th").filter((function(){var th=e(this);return!th.hasClass("k-group-cell")&&!th.hasClass("k-hierarchy-cell")}))},_filterable:function(){var e,t,r,o=this,l=je(o.columns),c=function(e){o.trigger("filterMenuInit",{field:e.field,container:e.container})},h=function(element){ht(element.closest("table"),!0)},d=function(e){o.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(o._clearEditableState(),o.dataSource.options.endless&&(o.dataSource.options.endless=null,o._endlessPageSize=o.dataSource.options.pageSize,o.dataSource.pageSize(o.dataSource.options.pageSize)))},f=function(e){o.trigger("filterMenuOpen",{field:e.field,container:e.container})},m=o.options.filterable;if(m&&typeof m.mode==j&&-1==m.mode.indexOf("menu")&&(m=!1),m&&!o.options.columnMenu)for(var v=0,_=(t=qe(o.thead)).length;v<_;v++)if(r=t.eq(v),!1!==l[v].filterable&&!l[v].command&&(l[v].field||r.attr("data-"+n.ns+"field"))){(e=r.data("kendoFilterMenu"))&&e.destroy(),(e=r.data("kendoFilterMultiCheck"))&&e.destroy();var w=l[v].filterable,x=y({},m,w,{dataSource:o.dataSource,values:l[v].values,format:l[v].format,closeCallback:h,title:l[v].title||l[v].field,init:c,open:f,pane:o.pane,change:d});w&&w.messages&&(x.messages=y(!0,{},m.messages,w.messages)),w&&w.dataSource&&(x.forceUnique=!1,x.checkSource=w.dataSource),w&&w.multi?r.kendoFilterMultiCheck(x):r.kendoFilterMenu(x)}},_filterRow:function(){var t=this;if(t._hasFilterRow()){var r,l=t.options.$angular,c=je(t.columns),h=t.options.filterable,d=t.thead.find(".k-filter-row"),f=function(e){t.trigger("filter",{filter:e.filter,field:e.field})?e.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource.pageSize(t.dataSource.options.pageSize)))};this._updateHeader(this.dataSource.group().length);for(var i=0;i<c.length;i++){var m,col=c[i],v=t.options.filterable.operators,_=!1,th=e("<th/>"),w=col.field;if(col.hidden&&th.hide(),d.append(th),w&&!1!==col.filterable){var x=col.filterable&&col.filterable.cell||{};(m=t.options.dataSource)instanceof o&&(m=t.options.dataSource.options);var k=y(!0,{},h.messages);if(col.filterable&&y(!0,k,col.filterable.messages),!1===x.enabled){th.html("&nbsp;");continue}x.dataSource&&(m=x.dataSource,_=!0),col.filterable&&col.filterable.operators&&(v=col.filterable.operators),r={column:col,dataSource:t.dataSource,suggestDataSource:m,customDataSource:_,field:w,messages:k,values:col.values,template:x.template,delay:x.delay,inputWidth:x.inputWidth,suggestionOperator:x.suggestionOperator,minLength:x.minLength,dataTextField:x.dataTextField,operator:x.operator,operators:v,showOperators:x.showOperators,change:f},l&&(r.$angular=l),e("<span/>").attr(n.attr("field"),w).appendTo(th).kendoFilterCell(r)}else th.html("&nbsp;")}}},_sortable:function(){var e,t,r,o=this,l=je(o.columns),c=o.options.sortable,h=function(e){o.trigger("sort",{sort:e.sort})?e.preventDefault():o._clearEditableState()};if(c){for(var d=qe(o.thead),f=0,m=d.length;f<m;f++)!1!==(e=l[f]).sortable&&!e.command&&e.field&&((t=(r=d.eq(f)).data("kendoColumnSorter"))&&t.destroy(),r.attr("data-"+n.ns+"field",e.field).kendoColumnSorter(y({},c,e.sortable,{dataSource:o.dataSource,aria:!0,filter:":not(.k-column-active)",change:h})));d=null}},_columns:function(t){var r,o,table=this.table,l=table.find("col"),c=this.element.find("thead tr"),h=this.options.dataSource;if(t=t.length?t:map(table.find("th"),(function(th,t){var r=(th=e(th)).attr(n.attr("sortable")),o=th.attr(n.attr("filterable")),c=th.attr(n.attr("type")),h=th.attr(n.attr("groupable")),d=th.attr(n.attr("field")),title=th.attr(n.attr("title")),menu=th.attr(n.attr("menu"));return d||(d=th.text().replace(/\s|[^A-z0-9]/g,"")),{field:d,type:c,title:title,sortable:"false"!==r,filterable:"false"!==o,groupable:"false"!==h,menu:menu,template:th.attr(n.attr("template")),width:l.eq(t).css("width")}})),r=!(this.table.find("tbody tr").length>0&&(!h||!h.transport)),this.options.scrollable){var d=t;if(o=He(t),t=Ne(t),o.length>0&&0===t.length)throw new Error("There should be at least one non locked column");!function(e,t){var n,r,o=0,th=e.find("th:not(.k-group-cell)");for(n=0,r=t.length;n<r;n++)t[n].locked&&(th.eq(n).insertBefore(th.eq(o)),th=e.find("th:not(.k-group-cell)"),o++)}(this.element.find("tr:has(th):first"),d),t=o.concat(t)}c.length&&t.length&&this._updateColumnIDs(t,c.first()),this.columns=function e(t,r,o,l){return map(t,(function(t){var c;(t=typeof t===j?{field:t}:t).parentIds=l,xe(t)&&!o||(t.attributes=Ye(t.attributes),t.footerAttributes=Ye(t.footerAttributes),t.headerAttributes=Ye(t.headerAttributes),c=!0);var h=n.guid();return t.headerAttributes=y({headers:l},t.headerAttributes),t.headerAttributes.id?h=t.headerAttributes.id:t.headerAttributes=y({id:h},t.headerAttributes),t.columns&&(t.columns=e(t.columns,r,c,l?l+" "+h:h)),y({encoded:r,hidden:c},t)}))}(t,r),e.grep(je(this.columns),(function(col){return col.selectable})).length&&(this._selectedIds={},this._checkBoxSelection=!0,this.wrapper.on(U+H,"tbody > tr "+W,T(this._checkboxClick,this)),this.wrapper.on(U+H,"thead > tr "+W,T(this._headerCheckboxClick,this)))},_updateColumnIDs:function(e,tr){if(e.length){for(var t,n=tr.find("th"),i=0;i<e.length;i++)(t=n.eq(i).attr("id"))&&(e[i].headerAttributes=y(e[i].headerAttributes,{id:t}));this._updateColumnIDs(Ue(e),tr.next())}},_headerCheckboxClick:function(t){var n=e(t.target),r=n.prop("checked"),o=n.closest(".k-grid.k-widget").getKendoGrid();this===o&&(r?this.select(o.items()):this.clearSelection())},_checkboxClick:function(t){var n=e(t.target).closest("tr"),r=!n.hasClass(V);this===n.closest(".k-grid.k-widget").getKendoGrid()&&(r?this.select(n):this._deselectCheckRows(n))},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t,r,o){var l,c,h,d=y({},n.Template,this.options.templateSettings),f=d.paramName,m=t.length,v={storage:{},count:0},_=this._hasDetails(),w=[],x=this._groups(),k=this.options.navigatable,C=n.attr("field"),S="";if(!e){for(e="<tr",r&&w.push("k-alt"),_&&w.push("k-master-row"),w.length&&(e+=' class="'+w.join(" ")+'"'),m&&(e+=" "+n.attr("uid")+'="#='+n.expr("uid",d.paramName)+'#"'),e+=" role='row'>",x>0&&!o&&(e+=le(x)),_&&(e+='<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" '+$+'="Expand" tabindex="-1"></a></td>'),l=0;l<m;l++)(c=t[l]).template,h=c.field,"incell"===this._editMode()&&h&&(c.attributes=c.attributes||{},this.virtualScrollable&&(c.attributes[C]=h),S=this._dirtyCellTemplate(h,f),c.attributes.class=c.attributes.class||"",c.attributes.class.indexOf(S)<0&&(c.attributes.class+=S)),c.command&&(c.attributes=c.attributes||{},void 0!==c.attributes.class?c.attributes.class+=" k-command-cell":c.attributes.class="k-command-cell"),e+="<td"+ce(c.attributes),k&&(e+=" aria-describedby='"+c.headerAttributes.id+"'"),e+=" role='gridcell'>",e+=this._cellTmpl(c,v),e+="</td>";e+="</tr>"}return e=n.template(e,d),v.count>0?T(e,v.storage):e},_dirtyCellTemplate:function(e,t){return e&&t?"#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+("["===e.charAt(0)?n.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']")+" ? ' k-dirty-cell' : '' #":""},_headerCellText:function(e){var t=y({},n.Template,this.options.templateSettings),template=e.headerTemplate,r=typeof template,text=e.title||e.field||"";return"function"===r?text=n.template(template,t)({}):r===j&&(text=template),text},_cellTmpl:function(e,t){var r,o,l=y({},n.Template,this.options.templateSettings),template=e.template,c=l.paramName,h=e.field,html="",d=e.format,f=typeof template,m=e.values;if(e.command){if(k(e.command)){for(r=0,o=e.command.length;r<o;r++)e.command[r].visible?html+=n.format("#= {0}(data)? '{1}':'' #",e.command[r].visible,this._createButton(e.command[r]).replace(K,"\\#").replace(/'/gi,"\\'")):html+=this._createButton(e.command[r]).replace(K,"\\#");return html}return this._createButton(e.command).replace(K,"\\#")}return e.selectable?'# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" id="#= checkboxGuid #" aria-label="Select row" aria-checked="false" type="checkbox"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">&\\#8203;</label>':(html+=this._dirtyIndicatorTemplate(h,c),"function"===f?(t.storage["tmpl"+t.count]=template,html+="#=this.tmpl"+t.count+"("+c+")#",t.count++):f===j?html+=template:m&&m.length&&w(m[0])&&"value"in m[0]&&h?(html+="#var v ="+n.stringify(Xe(m)).replace(K,"\\#")+"#",html+="#var f = v[",l.useWithBlock||(html+=c+"."),html+=h+"]#",html+="${f != null ? f : ''}"):(html+=e.encoded?"#:":"#=",d&&(html+='kendo.format("'+d.replace(Y,"\\$1")+'",'),html+=h?(h=n.expr(h,c))+"==null?'':"+h:"''",d&&(html+=")"),html+="#"),html)},_dirtyIndicatorTemplate:function(e,t){return e&&t?"#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+("["===e.charAt(0)?n.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']")+" ? '<span class=\"k-dirty\"></span>' : '' #":""},_templates:function(){var t=this.options,n=this.dataSource,r=n.group(),footer=this.footer||this.wrapper.find(".k-grid-footer"),o=n.aggregate(),l=je(this.columns),c=je(He(this.columns)),h=t.scrollable?je(Ne(this.columns)):l,d=x(ke(c),(function(e,t){return e.groupHeaderColumnTemplate&&0!==t})),f=x(ke(h),(function(e){return e.groupHeaderColumnTemplate}));if(t.scrollable&&c.length){if(t.rowTemplate||t.altRowTemplate)throw new Error("Having both row template and locked columns is not supported");this.rowTemplate=this._tmpl(t.rowTemplate,h,!1,!0),this.altRowTemplate=this._tmpl(t.altRowTemplate||t.rowTemplate,h,!0,!0),this.lockedRowTemplate=this._tmpl(t.rowTemplate,c),this.lockedAltRowTemplate=this._tmpl(t.altRowTemplate||t.rowTemplate,c,!0)}else this.rowTemplate=this._tmpl(t.rowTemplate,h),this.altRowTemplate=this._tmpl(t.altRowTemplate||t.rowTemplate,h,!0);this._hasDetails()&&(this.detailTemplate=this._detailTmpl(t.detailTemplate||"")),(this._group&&!E(o)||!E(o)&&!footer.length||x(l,(function(e){return e.footerTemplate})).length)&&(this.footerTemplate=this._footerTmpl(l,o,"footerTemplate","k-footer-template")),r&&x(l,(function(e){return e.groupFooterTemplate})).length&&(o=e.map(r,(function(g){return g.aggregates})),this.groupFooterTemplate=this._footerTmpl(h,o,"groupFooterTemplate","k-group-footer",c.length),t.scrollable&&c.length&&(this.lockedGroupFooterTemplate=this._footerTmpl(c,o,"groupFooterTemplate","k-group-footer"))),r&&(d.length||f.length)?(o=e.map(r,(function(g){return g.aggregates})),this.groupHeaderColumnTemplate=this._groupHeaderTmpl(ke(h),o,"groupHeaderColumnTemplate","k-grouping-row",c.length,f),t.scrollable&&c.length&&(this.lockedGroupHeaderColumnTemplate=this._groupHeaderTmpl(ke(c),o,"groupHeaderColumnTemplate","k-grouping-row",0,d))):(this.groupHeaderColumnTemplate=null,this.lockedGroupHeaderColumnTemplate=null),this.options.noRecords&&(this.noRecordsTemplate=this._noRecordsTmpl())},_noRecordsTmpl:function(){var template,t,r,o=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",l={storage:{},count:0},c=e.extend({},n.Template,this.options.templateSettings),h=c.paramName,html="";return"function"==(t=typeof(template=this.options.noRecords.template?this.options.noRecords.template:n.format('<div class="k-grid-norecords-template"{1}>{0}</div>',this.options.messages.noRecords,o)))?(l.storage["tmpl"+l.count]=template,html+="#=this.tmpl"+l.count+"("+h+")#",l.count++):"string"===t&&(html+=template),r=n.template(n.format('<div class="{0}">{1}</div>',"k-grid-norecords",html),c),l.count>0&&(r=e.proxy(r,l.storage)),r},_footerTmpl:function(e,t,r,o,l){var c,h,template,d,f,m=y({},n.Template,this.options.templateSettings),v=m.paramName,html="",_={},w=0,x={},k=this._groups(),C=this.dataSource._emptyAggregates(t);for(html+='<tr class="'+o+'">',k>0&&!l&&(html+=le(k)),this._hasDetails()&&(html+='<td class="k-hierarchy-cell">&nbsp;</td>'),c=0,h=e.length;c<h;c++)d=typeof(template=(f=e[c])[r]),html+="<td"+ce(f.footerAttributes)+">",template?("function"!==d&&(x=C[f.field]?y({},m,{paramName:v+"['"+f.field+"']"}):{},template=n.template(template,x)),_["tmpl"+w]=template,html+="#=this.tmpl"+w+"("+v+")#",w++):html+="&nbsp;",html+="</td>";return html+="</tr>",html=n.template(html,m),w>0?T(html,_):html},_groupHeaderTmpl:function(e,t,r,o,l,c){var h,d,template,f,m=y({},n.Template,this.options.templateSettings),v=m.paramName,html="",_={},w=0,x={},k=this.dataSource._emptyAggregates(t),S=c.length?C(c[0],e):-1;if(html+='<tr role="row" class="'+o+'">',l||(html+='# for (var i = 0; i < data.groupCells; i++) { #<td class="k-group-cell">&nbsp;</td># } #'),this._hasDetails()&&(html+='<td class="k-hierarchy-cell">&nbsp;</td>'),!(S<0)){if(S<1&&c.length<=1&&!l)return html+=l?"":vt(e.length),n.template(html,m);for(S<1?(S=l?0:1,html+=l?"":vt(S)):html+=l?function(e){return'<td colspan="'+e+'"><p class="k-reset">&nbsp;</p></td>'}(S):vt(S),h=S,d=e.length;h<d;h++)html+="<td>",(template=(f=e[h])[r])?("function"!=typeof template&&(x=k[f.field]?y({},m,{paramName:v+"['"+f.field+"']"}):{},template=n.template(template,x)),_["tmpl"+w]=template,html+="#=this.tmpl"+w+"("+v+")#",w++):html+="&nbsp;",html+="</td>";return html+="</tr>",html=n.template(html,m),w>0?T(html,_):html}html+=l?"":vt(e.length)},_detailTmpl:function(template){var html="",e=y({},n.Template,this.options.templateSettings),t=e.paramName,r={},o=0,l=this._groups(),c=ke(je(this.columns)).length,h=typeof template;return html+='<tr class="k-detail-row">',l>0&&(html+=le(l)),html+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">","function"===h?(r["tmpl"+o]=template,html+="#=this.tmpl"+o+"("+t+")#",o++):html+=template,html+="</td></tr>",html=n.template(html,e),o>0?T(html,r):html},_hasDetails:function(){return null!==this.options.detailTemplate||(this._events.detailInit||[]).length},_hasFilterRow:function(){var t=this.options.filterable,n=t&&typeof t.mode==j&&-1!=t.mode.indexOf("row"),r=this.columns,o=e.grep(r,(function(col){return!1===col.filterable}));return r.length&&o.length==r.length&&(n=!1),n},_details:function(){var t=this;if(t.options.scrollable&&t._hasDetails()&&He(t.columns).length)throw new Error("Having both detail template and locked columns is not supported");t.table.on(U+H,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",(function(n){var r,data,button=e(this),o=button.closest("td.k-hierarchy-cell"),l=button.hasClass("k-i-expand"),c=button.closest("tr.k-master-row"),h=t.detailTemplate,d=t._hasDetails(),f=l?G:"Expand",m=!!l;return button.toggleClass("k-i-expand",!l).toggleClass("k-i-collapse",l).attr($,f),o.attr("aria-expanded",m),r=c.next(),d&&!r.hasClass("k-detail-row")&&(data=t.dataItem(c),r=e(h(data)).addClass(c.hasClass("k-alt")?"k-alt":"").insertAfter(c),t.angular("compile",(function(){return{elements:r.get(),data:[{dataItem:data}]}})),t.trigger("detailInit",{masterRow:c,detailRow:r,data:data,detailCell:r.find(".k-detail-cell")})),t.trigger(l?"detailExpand":"detailCollapse",{masterRow:c,detailRow:r}),r.toggle(l),n.preventDefault(),!1}))},dataItem:function(tr){if(!(tr=e(tr)[0]))return null;var t,n,r=this.tbody.children(),o=/k-grouping-row|k-detail-row|k-group-footer/,l=tr.sectionRowIndex;for(n=l,t=0;t<l;t++)o.test(r[t].className)&&n--;return this._data[n]},expandRow:function(tr){e(tr).find("> td .k-i-expand").click()},collapseRow:function(tr){e(tr).find("> td .k-i-collapse").click()},_createHeaderCells:function(e,r){var o,th,text,l,title,c,h,html="",d=this.options.messages,f=je(this.columns),m=this.dataSource.group();for(o=0,l=e.length;o<l;o++){th=e[o].column||e[o],text=this._headerCellText(th),c="";var v=C(th,f);th.selectable?(html+="<th scope='col'"+ce(th.headerAttributes),r&&!e[o].colSpan&&(html+=" rowspan='"+r+"'"),v>-1&&(html+=n.attr("index")+"='"+v+"'"),html+=">"+(text=th.headerTemplate?text:n.template('# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox" id="#= checkboxGuid #"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">##&\\#8203;##</label>')({}))+"</th>"):th.command?(html+="<th scope='col'"+ce(th.headerAttributes),r&&!e[o].colSpan&&(html+=" rowspan='"+r+"'"),v>-1&&(html+=n.attr("index")+"='"+v+"'"),html+=">"+text+"</th>"):(th.field&&(c=n.attr("field")+"='"+th.field+"' "),html+="<th scope='col' role='columnheader' "+c,html+=" aria-haspopup='true'",r&&!e[o].colSpan&&(html+=" rowspan='"+r+"'"),e[o].colSpan>1?(html+='colspan="'+(e[o].colSpan-Pe(th.columns))+'" ',html+=n.attr("colspan")+"='"+e[o].colSpan+"'"):1===e[o].colSpan&&(html+=n.attr("colspan")+"='"+e[o].colSpan+"'"),th.title&&(title=th.title.replace('"',"&quot;").replace(/'/g,"'"),html+=n.attr("title")+'="'+title+'" '),th.groupable!==t&&(html+=n.attr("groupable")+"='"+th.groupable+"' "),h=th,this.options.groupable&&(h.groupable||h.groupable===t)&&(html+="aria-label='"+(title||th.field)+" ",html+=ut(m,th.field)?d.ungroupHeader:d.groupHeader,html+="' "),th.aggregates&&th.aggregates.length&&(html+=n.attr("aggregates")+"='"+th.aggregates+"'"),v>-1&&(html+=n.attr("index")+"='"+v+"'"),html+=ce(th.headerAttributes),html+=">"+text+"</th>")}return html},_appendLockedColumnContent:function(){var t,n,r,o,l,c=this.columns,colgroup=this.table.find("colgroup"),h=colgroup.find("col:not(.k-group-col,.k-hierarchy-col)"),d=e(),f=0,m=0;for(t=0,n=c.length;t<n;t++)if(c[t].locked)if(xe(c[t])){for(o=1,c[t].columns&&(o=je(c[t].columns).length-Pe(c[t].columns)),o=o||1,l=0;l<o;l++)d=d.add(h.eq(t+m+l-f));m+=o-1}else f++;r=e('<div class="k-grid-content-locked"><table'+(ee?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),colgroup.detach(),r.find("colgroup").append(d),colgroup.insertBefore(this.table.find("tbody")),this.lockedContent=r.insertBefore(this.content),this.lockedTable=r.children("table")},_appendLockedColumnFooter:function(){var t,n,footer=this.footer,r=footer.find(".k-footer-template>td"),o=footer.find(".k-grid-footer-wrap>table>colgroup>col"),html=e('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),l=this._groups(),c=e(),h=e();for(c=c.add(r.filter(".k-group-cell")),t=0,n=je(He(this.columns)).length;t<n;t++)c=c.add(r.eq(t+l));for(h=h.add(o.filter(".k-group-col")),t=0,n=ke(je(Ve(this.columns))).length;t<n;t++)h=h.add(o.eq(t+l));c.appendTo(html.find("tr")),h.appendTo(html.find("colgroup")),this.lockedFooter=html.prependTo(footer)},_appendLockedColumnHeader:function(t){var n,html,r,colgroup,tr,table,header,o,l,c=this.columns,h=[],d=0,f=e(),m=this._hasFilterRow(),v=0,_=e(),w=0,y=e();colgroup=this.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),header=this.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),o=this.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var x=0;for(n=0,r=c.length;n<r;n++){if(c[n].locked){if(l=header.eq(n),w=je(c[n].columns||[]).length,xe(c[n])){var k=null;c[n].columns&&(k=w-Pe(c[n].columns)),k=k||1;for(var C=0;C<k;C++)f=f.add(colgroup.eq(n+x+C-d));x+=k-1}Le([c[n]],Ge(l),h,0,0),w=w||1;for(var S=0;S<w;S++)_=_.add(o.eq(v+S));v+=w}c[n].columns&&(d+=Pe(c[n].columns)),xe(c[n])||d++}if(h.length){for(html='<div class="k-grid-header-locked" style="width:1px"><table'+(ee?' cellspacing="0"':"")+"><colgroup/><thead>",html+=new Array(h.length+1).join("<tr></tr>"),(colgroup=(table=e(html+=(m?'<tr class="k-filter-row" />':"")+"</thead></table></div>")).find("colgroup")).append(this.thead.prev().find("col.k-group-col").add(f)),tr=table.find("thead tr:not(.k-filter-row)"),n=0,r=h.length;n<r;n++)y=Se(h[n]),tr.eq(n).append(this.thead.find("tr:eq("+n+") .k-group-cell").add(y));var T=Be(this.thead);return h.length<T&&function(e,t){for(var n,r=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),o=0;o<r.length;o++)(n=r[o].rowSpan)>1&&(r[o].rowSpan=n-t||1)}(table,T-h.length),table.find(".k-filter-row").append(this.thead.find(".k-filter-row .k-group-cell").add(_)),this.lockedHeader=table.prependTo(t),this.thead.find(".k-group-cell").remove(),!0}return!1},_removeLockedContainers:function(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);n.destroy(e),e.off(H).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_thead:function(){var t,tr,r,o=this.columns,l=this._hasDetails()&&o.length,c=this._hasFilterRow(),html="",thead=this.table.find(">thead"),h=this.element.find("thead:first").length>0,d=this.options.messages.expandCollapseColumnHeader;if(thead.length||(thead=e("<thead/>").insertBefore(this.tbody)),this.lockedHeader&&this.thead?((tr=this.thead.find("tr:has(th):not(.k-filter-row)").html("")).remove(),tr=e(),this._removeLockedContainers()):tr=h?this.element.find("thead:first tr:has(th):not(.k-filter-row)"):this.element.find("tr:has(th):first"),tr.length){for(t=0;t<o.length;t++){var f=C(o[t],je(o)),m=qe(tr.parent()).filter("th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(f);o[t].hidden&&f>=0&&(m[0].style.display="none")}this._updateHeadersAttr(Ue(o))}else if(!(tr=thead.children().first()).length){var v=[{rowSpan:1,cells:[],index:0}];for(this._prepareColumns(v,o),t=0;t<v.length;t++)html+="<tr>",l&&(html+='<th class="k-hierarchy-cell" scope="col">'+d+"</th>"),html+=this._createHeaderCells(v[t].cells,v[t].rowSpan),html+="</tr>";tr=e(html)}if(c){var _=e("<tr/>");_.addClass("k-filter-row"),(l||tr.find(".k-hierarchy-cell").length)&&_.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>');var w=(this.thead||thead).find(".k-filter-row");w.length&&(n.destroy(w),w.remove()),thead.append(_)}tr.children().length?l&&!tr.find(".k-hierarchy-cell")[0]&&tr.prepend('<th class="k-hierarchy-cell" scope="col">'+(d||"&nbsp;")+"</th>"):(html="",l&&(html+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),html+=this._createHeaderCells(o),tr.html(html)),tr.attr("role","row").find("th").addClass("k-header"),this.options.scrollable||thead.addClass("k-grid-header"),tr.find("script").remove().end().prependTo(thead),this.thead&&this._destroyColumnAttachments(),this.angular("cleanup",(function(){return{elements:thead.find("th"+F).get()}})),this.angular("compile",(function(){return{elements:thead.find(L).get(),data:map(o,(function(col){return{column:col}}))}})),this.thead=thead.attr("role","rowgroup"),this._sortable(),this._filterable(),this._filterRow(),this._scrollable(),this._columnMenu();var y=this.options.scrollable&&He(this.columns).length;y&&(r=this._appendLockedColumnHeader(this.thead.closest(".k-grid-header")),this._appendLockedColumnContent(),this.lockedContent.bind("DOMMouseScroll"+H+" mousewheel"+H,T(this._wheelScroll,this)),this._updateLockedCols()),this._updateCols(),this._updateColumnCellIndex(),this._updateFirstColumnClass(),this._resizable(),this._draggable(),this._reorderable(),this._updateHeader(this._groups()),y&&(r&&this._syncLockedHeaderHeight(),this._applyLockedContainersWidth()),this.groupable&&this._attachGroupable()},_retrieveFirstColumn:function(t,n){var r=e();if(n.length&&t[0]){for(var o=t[0];o.columns&&o.columns.length;)o=o.columns[0],n=n.filter(":not(:first())");r=r.add(n)}return r},_updateFirstColumnClass:function(){var t=this.columns||[];if(!(this._hasDetails()&&t.length||this._groups())){var tr=this.thead.find(">tr:not(.k-filter-row):not(:first)");t=Ne(t);var n=this._retrieveFirstColumn(t,tr);this._isLocked()&&(tr=this.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),t=He(this.columns),n=n.add(this._retrieveFirstColumn(t,tr))),n.each((function(){var t=e(this).find("th");t.removeClass("k-first"),t.eq(0).addClass("k-first")}))}},_prepareColumns:function(e,t,n,r){for(var o=r||e[e.length-1],l=e[o.index+1],c=0,h=0;h<t.length;h++){var d={column:t[h],colSpan:0};o.cells.push(d),t[h].columns&&t[h].columns.length&&(l||(l={rowSpan:0,cells:[],index:e.length},e.push(l)),d.colSpan=t[h].columns.length,this._prepareColumns(e,t[h].columns,d,l),c+=d.colSpan-1,o.rowSpan=e.length-o.index)}n&&(n.colSpan+=c)},_wheelScroll:function(e){if(!e.ctrlKey){var content=this.content;this.options.scrollable.virtual&&(content=this.virtualScrollable.verticalScrollbar);var t=content.scrollTop(),r=n.wheelDeltaY(e);r&&(content[0].scrollHeight>content[0].clientHeight&&(content[0].scrollTop<content[0].scrollHeight-content[0].clientHeight&&r<0||content[0].scrollTop>0&&r>0)&&e.preventDefault(),content.scrollTop(t+-r))}},_isLocked:function(){return null!=this.lockedHeader},_updateHeaderCols:function(){var table=this.thead.parent().add(this.table);this._isLocked()?Qe(table,We(Oe(this.columns)),this._hasDetails(),0):Qe(table,We(ke(this.columns)),this._hasDetails(),0)},_updateColumnSorters:function(){var e,t,n=qe(this.thead),r=je(this.columns);if(this.options.sortable)for(var o=0,l=n.length;o<l;o++)!1!==(e=r[o]).sortable&&!e.command&&e.field&&(t=n.eq(o).data("kendoColumnSorter"))&&t.refresh()},_updateHeadersAttr:function(e){if(e.length){for(var i=0;i<e.length;i++)e[i].headerAttributes&&this.element.find("[id='"+e[i].headerAttributes.id+"']").attr("headers",e[i].headerAttributes.headers);this._updateHeadersAttr(Ue(e))}},_updateCols:function(table){table=table||this.thead.parent().add(this.table),this._appendCols(table,this._isLocked())},_updateLockedCols:function(table){this._isLocked()&&Qe(table=table||this.lockedHeader.find("table").add(this.lockedTable),We(Ve(this.columns)),this._hasDetails(),this._groups())},_appendCols:function(table,e){e?Qe(table,We(Oe(this.columns)),this._hasDetails(),0):Qe(table,We(ke(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,r;for(t in e=e.toJSON(),r=!(this.table.find("tbody tr").length>0&&(!this.dataSource||!this.dataSource.transport)),e)this.columns.push({field:t,encoded:r,headerAttributes:{id:n.guid()}});this._thead(),this._templates()}},_rowsHtml:function(data,e){var t,n,html="",r=e.rowTemplate,o=e.altRowTemplate;for(t=0,n=data.length;t<n;t++)this._skipRerenderItemsCount>0?this._skipRerenderItemsCount--:html+=t%2?o(data[t]):r(data[t]),this._data.push(data[t]);return html},_groupData:function(e,t,n){var r=this._groupAggregatesDefaultObject||{},o=e.items,l=y({},r,e.aggregates),c=y({},{field:e.field,value:e.value,items:o,aggregates:l},e.aggregates[n?n.field:e.field]),h={};if(!t)for(var d in l)h[d]=y({},l[d],{group:{field:e.field,value:e.value,items:o}});return y({},h,c)},_groupRowHtml:function(e,t,r,o,l,c,h){var d,f,m,html="",v=e.field,_=x(je(this.columns),(function(e){return e.field==v}))[0]||{},w=ke(this.columns)[0],k=w?w.groupHeaderColumnTemplate:null,template=_.groupHeaderTemplate?_.groupHeaderTemplate:k,text=(_.title||v)+": "+Je(e.value,_.format,_.values,_.encoded),S=e.items,T=this._groups(),D=l.groupFooterTemplate,E=l.groupHeaderColumnTemplate;if((l.groupFooterTemplate||l.groupHeaderColumnTemplate||_.groupHeaderTemplate)&&(m=this._groupData(e,!1,!(_.groupHeaderTemplate||!ke(this.columns)[0].groupHeaderColumnTemplate)&&ke(this.columns)[0])),template&&!c&&(text="function"==typeof template?template(m):n.template(template)(m)),this._skipRerenderItemsCount?o(t,r,text):html+=E?E(y({},m,{groupCells:r,colspan:T-r,text:text})):o(t,r,text),e.hasSubgroups)for(d=0,f=S.length;d<f;d++)html+=this._groupRowHtml(S[d],c?t:t-1,r+1,o,l,c,h&&d===S.length-1);else html+=this._rowsHtml(S,l);return D&&(h?C(e.value,this._skippedGroups)||this._skippedGroups.push(e.value):(this._skippedGroups.length&&this._skippedGroups[0]===e.value&&this._skippedGroups.shift(),this._skipRerenderItemsCount||(html+=D(m)))),html},collapseGroup:function(t){var n,r,o,l,tr,c=this,h=t,d=this.options.groupable.showFooter?0:1,f=e();t=e(t),this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?f=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(f=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"),t.find("td[aria-expanded='true']:first").attr("aria-expanded",!1).find("a").attr($,"Expand");var m=[];for(o=0,l=(t=t.nextAll("tr")).length;o<l&&(r=(tr=t.eq(o)).find(".k-group-cell").length,tr.hasClass("k-grouping-row")?d++:tr.hasClass("k-group-footer")&&d--,!(r<=n||tr.hasClass("k-group-footer")&&d<0));o++)f.length&&m.push(f[o]),m.push(tr[0]);e(m).hide(),this.options.scrollable.endless&&this.content&&(clearTimeout(c._collapseGroupsTimeOut),c._collapseGroupsTimeOut=setTimeout((function(){c.content.scroll(),c._groupToCollapse=h})))},expandGroup:function(t){t=e(t);var n,tr,r,o,l,c=this.options.groupable.showFooter,h=e(),d=[],f=1;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?h=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(h=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"),t.find("td[aria-expanded='false']:first").attr("aria-expanded",!0).find("a").attr($,G),o=0,l=(t=t.nextAll("tr")).length;o<l&&!((r=(tr=t.eq(o)).find(".k-group-cell").length)<=n);o++)if(r!=n+1||tr.hasClass("k-detail-row")||(tr.show(),h.eq(o).show(),tr.hasClass("k-grouping-row")&&tr.find(".k-icon").hasClass("k-i-collapse")&&this.expandGroup(tr),tr.hasClass("k-master-row")&&tr.find(".k-icon").hasClass("k-i-collapse")&&(tr.next().show(),h.eq(o+1).show())),tr.hasClass("k-grouping-row")&&(c&&d.push(tr.is(":visible")),f++),tr.hasClass("k-group-footer")){if(c){var m=d.pop();tr.toggle(m),h.eq(o).toggle(m)}1==f?(tr.show(),h.eq(o).show()):f--}0===n&&this.options.scrollable.endless&&this._isLocked()&&this._syncLockedContentHeight()},_updateHeader:function(t){var n=this._isLocked()?this.lockedHeader.find("thead"):this.thead,r=n.find("tr.k-filter-row").find("th.k-group-cell").length,o=n.find("tr:first").find("th.k-group-cell").length,l=n.children("tr:not(:first)").filter((function(){return!e(this).children(":visible").length}));t>o?(e(new Array(t-o+1).join('<th class="k-group-cell k-header" scope="col">'+this.options.messages.expandCollapseColumnHeader+"</th>")).prependTo(n.children("tr:not(.k-filter-row)")),this.element.is(":visible")&&l.find("th.k-group-cell").hide()):t<o&&n.find("tr").each((function(){e(this).find("th.k-group-cell").filter(":eq("+t+"),:gt("+t+")").remove()})),t>r&&e(new Array(t-r+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(n.find(".k-filter-row"))},_firstDataItem:function(data,e){return data&&e&&(data=data.hasSubgroups?this._firstDataItem(data.items[0],e):data.items[0]),data},_updateTablesWidth:function(){var t;this._isLocked()&&(t=e(">.k-grid-footer>.k-grid-footer-wrap>table",this.wrapper).add(this.thead.parent()).add(this.table),this._footerWidth=st(t.eq(0)),t.width(this._footerWidth),(t=e(">.k-grid-footer>.k-grid-footer-locked>table",this.wrapper).add(this.lockedHeader.find(">table")).add(this.lockedTable)).width(st(t.eq(0))))},hideColumn:function(t){var n,r,o,l,c,h,d,f,m=0,footer=this.footer||this.wrapper.find(".k-grid-footer"),v=this.columns,_=this.lockedHeader?qe(this.lockedHeader.find(">table>thead")).filter(ye).length:0,y=x(je(this.columns),(function(e){return e.groupHeaderColumnTemplate}));if((t="number"==typeof t?v[t]:w(t)?x(Fe(v),(function(e){return e===t}))[0]:x(Fe(v),(function(e){return e.field===t}))[0])&&xe(t)){var k=this._columnVisibilitySetter(t);if(t.columns&&t.columns.length){for(c=Ie(t,v),k(t,!1),Ze(ue(e(">table>thead",this.lockedHeader),this.thead,">tr:eq("+c.row+")>th"),c.cell,!1),r=0;r<t.columns.length;r++)this.hideColumn(t.columns[r]);this.trigger("columnHide",{column:t})}else{f=C(t,ke(je(v))),k(t,!1),this._setParentsVisibility(t,!1),this._templates(),this._updateCols(),this._updateLockedCols();var S=this.thead;if(h=f,this.lockedHeader&&_>f?S=this.lockedHeader.find(">table>thead"):h-=_,qe(S).filter(ye).eq(h)[0].style.display="none",Ze(ue(e(">table>thead",this.lockedHeader),this.thead,">tr.k-filter-row>th"),f,!1),footer[0]&&(this._updateCols(footer.find(">.k-grid-footer-wrap>table")),this._updateLockedCols(footer.find(">.k-grid-footer-locked>table")),Ze(footer.find(".k-footer-template>td"),f,!1)),this.lockedTable&&_>f?et(this.lockedTable.find(">tbody>tr"),f):et(this.tbody.children(),f-_),this.lockedTable)this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this._syncLockedFooterHeight();else{for(r=0,d=(o=this.thead.prev().find("col")).length;r<d;r+=1){if(!(l=o[r].style.width)||-1!=l.indexOf("%")){m=0;break}m+=parseInt(l,10)}n=e(">.k-grid-header table:first,>.k-grid-footer table:first",this.wrapper).add(this.table),this._footerWidth=null,m&&(n.each((function(){this.style.width=m+"px"})),this._footerWidth=m,this._setContentWidth()),Z.msie&&8==Z.version&&(n.css("display","inline-table"),setTimeout((function(){n.css("display","table")}),1))}this._updateFirstColumnClass(),y.length>0&&this._renderGroupRows(),this.trigger("columnHide",{column:t})}}},_setParentsVisibility:function(t,r){var o,l,c,h,d,f=this.columns,m=[],v=this._columnVisibilitySetter(t),_=r?function(p){return ke(p.columns).length&&p.hidden}:function(p){return!ke(p.columns).length&&!p.hidden};if(ge(t,f,m)&&m.length)for(o=m.length-1;o>=0;o--)c=Ae(l=m[o],f),h=ue(e(">table>thead",this.lockedHeader),this.thead,">tr:eq("+c.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(c.cell),_(l)&&(v(l,r),h[0].style.display=r?"":"none"),h.filter("["+n.attr("colspan")+"]").length&&(d=parseInt(h.attr(n.attr("colspan")),10),h[0].colSpan=d-Pe(l.columns)||1)},showColumn:function(t){var n,r,o,l,c,h,d,f,m,v,_,y=this.columns,footer=this.footer||this.wrapper.find(".k-grid-footer"),k=this.lockedHeader?qe(this.lockedHeader.find(">table>thead")).length:0,S=x(je(this.columns),(function(e){return e.groupHeaderColumnTemplate}));if("number"==typeof t?(m=t,t=y[t]):w(t)?e.each(Fe(y),(function(e,n){if(n===t)return t=n,m=e,!1})):e.each(Fe(y),(function(e,n){if(n.field===t)return t=n,m=e,!1})),t&&!xe(t)){var T=this._columnVisibilitySetter(t);if(t.columns&&t.columns.length){for(h=Ae(t,y),v=Fe(this.options.columns)[m],T(t,!0),Ze(ue(e(">table>thead",this.lockedHeader),this.thead,">tr:eq("+h.row+")>th"),h.cell,!0),n=0;n<t.columns.length;n++)v.columns[n].hidden||this.showColumn(t.columns[n]);this.trigger("columnShow",{column:t})}else{_=C(t,je(y)),T(t,!0),this._setParentsVisibility(t,!0),this._templates(),this._updateCols(),this._updateLockedCols();var D=this.thead;if(c=_,this.lockedHeader&&k>_?D=this.lockedHeader.find(">table>thead"):c-=k,qe(D).eq(c)[0].style.display="",Ze(ue(e(">table>thead",this.lockedHeader),this.thead,">tr.k-filter-row>th"),_,!0),footer[0]&&(this._updateCols(footer.find(">.k-grid-footer-wrap>table")),this._updateLockedCols(footer.find(">.k-grid-footer-locked>table")),Ze(footer.find(".k-footer-template>td"),_,!0)),this.lockedTable&&k>_?nt(this.lockedTable.find(">tbody>tr"),_):nt(this.tbody.children(),_-k),this.lockedTable)this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight();else if(o=e(">.k-grid-header table:first,>.k-grid-footer table:first",this.wrapper).add(this.table),t.width){for(l=0,n=0,r=(f=this.thead.prev().find("col")).length;n<r;n+=1){if((d=f[n].style.width).indexOf("%")>-1){l=0;break}l+=parseInt(d,10)}this._footerWidth=null,l&&(o.each((function(){this.style.width=l+"px"})),this._footerWidth=l,this._setContentWidth())}else o.width("");this._updateFirstColumnClass(),S.length>0&&this._renderGroupRows(),this.trigger("columnShow",{column:t})}}},_columnVisibilitySetter:function(e){return Ce((e||{}).media)?me:_e},_progress:function(e){var element=this.element,t=this.options.scrollable&&this.options.scrollable.endless;this._editContainer&&"popup"===this._editMode()?element=this._editContainer:this.lockedContent||t?element=this.wrapper:this.element.is("table")?element=this.element.parent():this.content&&this.content.length&&(element=this.content),t&&e?n.ui.progress(element,e,{height:this.content.height(),top:this.content[0].offsetTop,opacity:!0}):n.ui.progress(element,e)},_resize:function(e,t){this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this.content&&(this._setContentWidth(),this._setContentHeight()),this.lockedTable&&this._syncLockedScroll(),this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar()),this.pager&&this.pager.element&&this.pager.resize(t)},_isActiveInTable:function(){var t=d();return!!t&&(this.table[0]===t||e.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||e.contains(this.lockedTable[0],t)))},refresh:function(t){var r,o,l,c=this,data=c.dataSource.view(),h=c.options.navigatable,d=e(c.current()),f=!1,m=(c.dataSource.group()||[]).length,v=m+We(ke(c.columns)).length;t&&"itemchange"===t.action&&(c.editable||c.options.scrollable.endless)&&("popup"!=this._editMode()||"popup"===this._editMode()&&!c._editableIsClosing)||(t&&"remove"===t.action&&c.editable&&c.editable.options.model&&C(c.editable.options.model,t.items)>-1&&c.editable.options.model.unbind(N,c._modelChangeHandler),t=t||{},c.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})||("sync"===t.action&&c._isVirtualEditable()&&(c._destroyEditable(),c._clearEditableState()),c._angularItems("cleanup"),c._endlessFetchInProgress||(h&&(c._isActiveInTable()||c._editContainer&&c._editContainer.data("kendoWindow"))&&(r=(f=d.is("th"))?d.parent().children(":not(.k-group-cell)").index(d[0]):Math.max(c.cellIndex(d),0)),c._destroyEditable()),c.options.scrollable&&c.options.scrollable.endless?(clearTimeout(c._progressTimeOut),c._progressTimeOut=setTimeout((function(){c._endlessFetchInProgress||c._progress(!1)}),100)):c._progress(!1),c._hideResizeHandle(),c._data=[],c.columns.length||(c._autoColumns(c._firstDataItem(data[0],m)),v=m+c.columns.length),c._group=m>0||c._group,c._group&&(c._templates(),c._updateCols(),c._updateLockedCols(),c._updateHeader(m),c._group=m>0,c._groupRows=tt(data)),c.content&&(o=c.content.scrollLeft()),l=c._skipRerenderItemsCount,c._renderContent(data,v,m),c.options.scrollable&&c.options.scrollable.endless&&this.lockedContent&&(c._skipRerenderItemsCount=l),c._renderLockedContent(data,v,m),c._footer(),c._renderNoRecordsContent(),c._togglePagerVisibility(),c._setContentHeight(),c._setContentWidth(c.content&&o),c.lockedTable&&(c.options.scrollable.virtual?c.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):c.touchScroller?c.touchScroller.movable.trigger("change"):(c.wrapper.one("scroll",(function(e){e.stopPropagation()})),c.content.trigger("scroll"))),c._endlessFetchInProgress||c._restoreCurrent(r,f),c.touchScroller&&c.touchScroller.contentResized(),c.selectable&&c.selectable.resetTouchEvents(),c._muteAngularRebind((function(){c._angularItems("compile")})),c._checkBoxSelection&&c._toggleHeaderCheckState(!1),c.options.persistSelection&&(c.selectable&&!n.ui.Selectable.parseOptions(c.options.selectable).cell||c._checkBoxSelection)&&c.items().length?c._restoreSelection():c._selectedIds={},c.trigger("dataBound")))},_restoreCurrent:function(n,r){if(!(n===t||n<0)){if(this._removeCurrent(),r)this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(n));else{var o=0;this._rowVirtualIndex?o=this.virtualScrollable.position(this._rowVirtualIndex):n=0;var l=e();this.lockedTable&&(l=this.lockedTable.find(">tbody>tr").eq(o));var td=(l=l.add(this.tbody.children().eq(o))).find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(n);this._setCurrent(td)}this._current&&ht(this._current.closest("table")[0],!0)}},_restoreSelection:function(){var e,t=this,n=t.items(),r=D(t.dataSource.options.schema.model)?t.dataSource.options.schema.model.fn.idField:t.dataSource.options.schema.model.id;e=x(n,(function(e){var n=t.dataItem(e)[r];if(t._selectedIds[n])return e})),t.select(e)},_angularItems:function(e){n.ui.DataBoundWidget.fn._angularItems.call(this,e),"cleanup"!==e||this.dataSource&&this.dataSource.options.endless||this._cleanupDetailItems(),this._angularGroupItems(e),this._angularGroupFooterItems(e)},_cleanupDetailItems:function(){var e=this;e._hasDetails()&&(e.angular("cleanup",(function(){return{elements:e.tbody.children(".k-detail-row")}})),e.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(t){var n=this,r=n.tbody;n.lockedContent&&(r=n.lockedTable.find("tbody")),n._group&&n.angular(t,(function(){return{elements:r.children(".k-grouping-row"),data:e.map(tt(n.dataSource.view()),(function(e){return{dataItem:e}}))}}))},_angularGroupFooterItems:function(t){var n=this,r=n.tbody;n.lockedContent&&(r=n.element),n._group&&n.groupFooterTemplate&&n.angular(t,(function(){return{elements:r.find(".k-group-footer"),data:e.map(it(n.dataSource.view()),(function(e){return{dataItem:e}}))}}))},_renderContent:function(data,e,t){var n,r,o,l,c,h=this,html="",d=null!=h.lockedContent,f=h.options.scrollable,m={rowTemplate:h.rowTemplate,altRowTemplate:h.altRowTemplate,groupFooterTemplate:h.groupFooterTemplate,groupHeaderColumnTemplate:h.groupHeaderColumnTemplate};if(f&&f.endless&&!h.dataSource.options.endless&&(h._skipRerenderItemsCount=0,h.content&&(h.content[0].scrollTop=0)),o=h._skipRerenderItemsCount>0,e=d?e-We(Ve(h.columns)).length:e,t>0)for(e=d?e-t:e,h.detailTemplate&&e++,h.groupFooterTemplate&&(h._groupAggregatesDefaultObject=h.dataSource.aggregates()),h.options.scrollable.endless&&(c=h.dataSource.flatView().length),n=0,r=data.length;n<r;n++)h._skippedGroups||(h._skippedGroups=[]),l=c&&n===data.length-1&&c!==h.dataSource.total(),html+=h._groupRowHtml(data[n],e,0,d?bt:_t,m,d,l);else html+=h._rowsHtml(data,m);o?(h.tbody.append(html),clearTimeout(h._endlessFetchTimeOut),h._endlessFetchTimeOut=setTimeout((function(){h._groupToCollapse&&(h.collapseGroup(h._groupToCollapse),h._groupToCollapse=null)})),h._endlessFetchInProgress=null):h.tbody=$e(h.tbody,h.table,html,this.options.$angular)},_renderGroupRows:function(){var t,r,o,l,c,h,template,text,d,f,m,v,_,w,k,C,S,T=this,data=T._groupRows,D=T.wrapper.find(".k-grouping-row"),E=T._groups(),A=null!=T.lockedContent;D.each((function(D,I){w=e(I),f=w.closest("table").parent(),m=f.is(".k-grid-content-locked"),r=We(ke(m?He(T.columns):Ne(T.columns))),k=w.find(".k-group-cell").length,A?(t=m?_t:bt,o=m?r.length+E-k:r.length):(t=_t,o=r.length+E-k),l=D>=data.length?data[D-data.length]:data[D],c=l.field,h=x(je(T.columns),(function(e){return e.field==c}))[0]||{},S=!(h.groupHeaderTemplate||!ke(T.columns)[0].groupHeaderColumnTemplate)&&ke(T.columns)[0],template=h.groupHeaderTemplate?h.groupHeaderTemplate:ke(T.columns)[0].groupHeaderColumnTemplate,text=(h.title||c)+": "+Je(l.value,h.format,h.values,h.encoded),E=E,d=T._groupData(l,!1,S),C=m?T.lockedGroupHeaderColumnTemplate:T.groupHeaderColumnTemplate,template&&(text="function"==typeof template?template(d):n.template(template)(d)),v=w.prev().length?w.prev():w.parent(),_=e(C?C(y({},d,{groupCells:k,colspan:E-k,text:text})):t(o,k,text)),v.is("tbody")?v.prepend(_):v.after(_),w.remove()}))},_renderLockedContent:function(data,e,t){var n,r,html="",o=null,l={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate,groupHeaderColumnTemplate:this.lockedGroupHeaderColumnTemplate};if(this.lockedContent){var table=this.lockedTable;if(o=this._skipRerenderItemsCount>0,t>0)for(e-=ke(je(Ne(this.columns))).length,n=0,r=data.length;n<r;n++)html+=this._groupRowHtml(data[n],e,0,_t,l,!1,this.options.scrollable.endless&&n===data.length-1);else html=this._rowsHtml(data,l);o?table.children("tbody").append(html):$e(table.children("tbody"),table,html,this.options.$angular),this._syncLockedContentHeight()}},_togglePagerVisibility:function(){!1===this.options.pageable.alwaysVisible&&this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())},_adjustRowsHeight:function(e,t){var n,r=e[0].rows,o=r.length,l=t[0].rows,c=e.add(t),h=c.length,d=[];for(n=0;n<o&&l[n];n++)r[n].style.height&&(r[n].style.height=l[n].style.height="");for(n=0;n<o&&l[n];n++){var f=r[n].offsetHeight,m=l[n].offsetHeight,v=0;f>m?v=f:f<m&&(v=m),d.push(v)}for(n=0;n<h;n++)c[n].style.display="none";for(n=0;n<o;n++)d[n]&&(r[n].style.height=l[n].style.height=d[n]+1+"px");for(n=0;n<h;n++)c[n].style.display=""}});function lt(e,t){var n,r=e.offsetHeight,o=t.offsetHeight;r>o?n=r+"px":r<o&&(n=o+"px"),n&&(e.style.height=t.style.height=n)}function ct(e,t){var n,r,o;if(typeof e===j&&e===t)return e;if(w(e)&&e.name===t)return e;if(k(e))for(n=0,r=e.length;n<r;n++)if(typeof(o=e[n])===j&&o===t||o.name===t)return o;return null}function ht(table,t){if(!0===t){var r=(table=e(table)).parent().scrollLeft();n.focusElement(table),table.parent().scrollLeft(r)}else e(table).one("focusin",(function(e){e.preventDefault()})).focus()}function ut(t,n){return!!e.grep(t,(function(e){return e.field===n})).length}function pt(e,t){return!(!e.field||e.selectable||t.editable&&!t.editable(e.field)||e.editable&&!e.editable(t))}function ft(element){return e(element).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown")}function gt(t){var r=e(t.currentTarget),o=r.is("th"),table=this.table.add(this.lockedTable),l=this.thead.parent().add(e(">table",this.lockedHeader)),c=ft(t.target),h=e(t.target).is(".k-checkbox-label, .k-checkbox"),d=e(t.target),f=r.closest("table")[0];c&&r.find(n.roleSelector("filtercell")).length?this._setCurrent(r):f!==table[0]&&f!==table[1]&&f!==l[0]&&f!==l[1]||d.is("a.k-i-expand, a.k-i-collapse")||(this.options.navigatable&&this._setCurrent(r,!1,h),!o&&c||setTimeout((function(){te&&e(n._activeElement()).hasClass("k-widget")||!e(n._activeElement()).is(W)&&ft(n._activeElement())&&e.contains(f,n._activeElement())||ht(f,!0)})),o&&!n.support.touch&&t.preventDefault())}function mt(element,e){if(!e)return 0;var t=0;return n.support.browser.webkit&&(t=element.width()),t}function vt(e){return'<td colspan="#=data.colspan +'+e+'#"><p class="k-reset"><a class="k-icon k-i-collapse" href="\\#" tabindex="-1" '+$+'="'+G+'"></a>#=data.text#</p></td>'}function _t(e,t,text){return'<tr role="row" class="k-grouping-row">'+le(t)+'<td colspan="'+e+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1" '+$+'="'+G+'"></a>'+text+"</p></td></tr>"}function bt(e){return'<tr role="row" class="k-grouping-row"><td colspan="'+e+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}n.ExcelMixin&&n.ExcelMixin.extend(at.prototype),n.PDFMixin&&(n.PDFMixin.extend(at.prototype),at.prototype._drawPDF_autoPageBreak=function(progress){var r=this,o=new e.Deferred,l=r.dataSource,c=r.options.pdf.allPages,h=r.wrapper.find('table[role$="grid"] > tbody'),d=e("<div>").css({position:"absolute",left:-1e4,top:-1e4}),f=r.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(d);f.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),f.find('table[role$="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"}),f.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),f.find(".k-grid-header, .k-grid-footer, .k-auto-scrollable").css({paddingRight:0}),this._initPDFProgress(progress);var body=f.find('table[role$="grid"] > tbody').empty(),m=l.page();function v(){d.appendTo(document.body);var t=e.extend({},r.options.pdf,{_destructive:!0,progress:function(p){progress.notify({page:p.page,pageNumber:p.pageNum,progress:.5+p.pageNum/p.totalPages/2,totalPages:p.totalPages})}});n.drawing.drawDOM(f,t).always((function(){d.remove()})).then((function(e){o.resolve(e)})).fail((function(e){o.reject(e)}))}function _(){var e=l.page(),n=c?l.totalPages():1;body.append(h.find("tr")),e<n?l.page(e+1):(l.unbind("change",_),c&&m!==t?(l.one("change",v),l.page(m)):(r.refresh(),v()))}return c?(l.bind("change",_),l.page(1)):_(),o.promise()},at.prototype._drawPDF=function(progress){var r=this;if(r.options.pdf.paperSize&&"auto"!=r.options.pdf.paperSize)return r._drawPDF_autoPageBreak(progress);var o=new e.Deferred,l=r.dataSource,c=r.options.pdf.allPages;this._initPDFProgress(progress);var h=new n.drawing.Group,d=l.page();function f(){r._drawPDFShadow({width:r.wrapper.width()},{avoidLinks:r.options.pdf.avoidLinks}).done((function(e){var n=l.page(),r=c?l.totalPages():1,m={page:e,pageNumber:n,progress:n/r,totalPages:r};progress.notify(m),h.append(m.page),n<r?l.page(n+1):c&&d!==t?(l.unbind("change",f),l.one("change",(function(){o.resolve(h)})),l.page(d)):o.resolve(h)})).fail((function(e){o.reject(e)}))}return c?(l.bind("change",f),l.page(1)):f(),o.promise()},at.prototype._initPDFProgress=function(t){var r=e("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");r.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(r);var o=e("<div class='k-loading-pdf-progress'>").appendTo(r).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");t.progress((function(e){o.value(e.progress)})).always((function(){n.destroy(r),r.remove()}))}),r.plugin(at),r.plugin(se)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))},1204:function(e,t){e.exports=n(192)},1205:function(e,t){e.exports=n(193)},1206:function(e,t){e.exports=n(194)},1207:function(e,t){e.exports=n(132)},1208:function(e,t){e.exports=n(133)},1209:function(e,t){e.exports=n(134)},1210:function(e,t){e.exports=n(135)},1211:function(e,t){e.exports=n(196)},1212:function(e,t){e.exports=n(136)},1213:function(e,t){e.exports=n(97)},1214:function(e,t){e.exports=n(137)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1476),e.exports=n(1476)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},923:function(e,t){e.exports=n(38)},1476:function(e,t,n){var r,o,l;n(3),o=[n(1477),n(19),n(923),n(1478)],void 0===(l="function"==typeof(r=function(){return function(e){window.kendo.pdf=window.kendo.pdf||{};var t,n=e.support.browser,r=e.pdf,o=e.drawing,l=o.util,c=e.geometry,h="undefined"!=typeof Uint8Array&&e.support.browser&&(!e.support.browser.msie||e.support.browser.version>9),d=(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(e){for(var input=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=0,n=input.length,output=[];i<n;){var r=t.indexOf(input.charAt(i++)),o=t.indexOf(input.charAt(i++)),l=t.indexOf(input.charAt(i++)),c=t.indexOf(input.charAt(i++)),h=r<<2|o>>>4,d=(15&o)<<4|l>>>2,f=(3&l)<<6|c;output.push(h),64!=l&&output.push(d),64!=c&&output.push(f)}return output},encode:function(e){for(var i=0,n=e.length,output="";i<n;){var r=e[i++],o=e[i++],l=e[i++],c=(3&r)<<4|o>>>4,h=(15&o)<<2|l>>>6,d=63&l;i-n==2?h=d=64:i-n==1&&(d=64),output+=t.charAt(r>>>2)+t.charAt(c)+t.charAt(h)+t.charAt(d)}return output}});function f(data){var e=0,t=0;null==data?data=h?new Uint8Array(256):[]:t=data.length;var n=h?function(e){if(e>=data.length){var t=new Uint8Array(Math.max(e+256,2*data.length));t.set(data,0),data=t}}:function(){},r=h?function(){return new Uint8Array(data.buffer,0,t)}:function(){return data},o=h?function(r){if("string"==typeof r)return k(r);var o=r.length;n(e+o),data.set(r,e),(e+=o)>t&&(t=e)}:function(e){if("string"==typeof e)return k(e);for(var i=0;i<e.length;++i)c(e[i])};function l(){return e<t?data[e++]:0}function c(b){n(e),data[e++]=255&b,e>t&&(t=e)}function f(){return l()<<8|l()}function m(e){c(e>>8),c(e)}function v(){return 65536*f()+f()}function _(e){m(e>>>16&65535),m(65535&e)}function w(){var e=v();return e>=2147483648?e-4294967296:e}function y(e){_(e<0?e+4294967296:e)}function x(e){return C(e,l)}function k(e){for(var i=0;i<e.length;++i)c(e.charCodeAt(i))}function C(e,t){for(var n=new Array(e),i=0;i<e;++i)n[i]=t();return n}var S={eof:function(){return e>=t},readByte:l,writeByte:c,readShort:f,writeShort:m,readLong:v,writeLong:_,readFixed:function(){return v()/65536},writeFixed:function(e){_(Math.round(65536*e))},readShort_:function(){var e=f();return e>=32768?e-65536:e},writeShort_:function(e){m(e<0?e+65536:e)},readLong_:w,writeLong_:y,readFixed_:function(){return w()/65536},writeFixed_:function(e){y(Math.round(65536*e))},read:x,write:o,readString:function(e){return String.fromCharCode.apply(String,x(e))},writeString:k,times:C,get:r,slice:h?function(e,t){if(data.buffer.slice)return new Uint8Array(data.buffer.slice(e,e+t));var n=new Uint8Array(t);return n.set(new Uint8Array(data.buffer,e,t)),n}:function(e,t){return data.slice(e,e+t)},offset:function(t){return null!=t?(e=t,S):e},skip:function(t){e+=t},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return t},saveExcursion:function(t){var n=e;try{return t()}finally{e=n}},writeBase64:function(e){window.atob?k(window.atob(e)):o(d.decode(e))},base64:function(){return d.encode(r())}};return S}function m(e){return window.atob?function(e){for(var data=window.atob(e),t=new Uint8Array(data.length),n=0;n<data.length;n++)t[n]=data.charCodeAt(n);return t}(e):function(data){for(var e=new Uint8Array(data.length),t=0;t<data.length;t++)e[t]=data[t];return e}(d.decode(e))}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e){return Object.keys(e).sort((function(a,b){return a-b})).map(parseFloat)}function w(data){this.raw=data,this.scalerType=data.readLong(),this.tableCount=data.readShort(),this.searchRange=data.readShort(),this.entrySelector=data.readShort(),this.rangeShift=data.readShort();for(var e=this.tables={},i=0;i<this.tableCount;++i){var t={tag:data.readString(4),checksum:data.readLong(),offset:data.readLong(),length:data.readLong()};e[t.tag]=t}}function y(e){function t(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}for(var i in t.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},e)v(e,i)&&(t[i]=t.prototype[i]=e[i]);return t}w.prototype={readTable:function(e,t){var n=this.tables[e];if(!n)throw new Error("Table "+e+" not found in directory");return this[e]=n.table=new t(this,n)},render:function(e){var t=Object.keys(e).length,n=Math.pow(2,Math.floor(Math.log(t)/Math.LN2)),r=16*n,o=Math.floor(Math.log(n)/Math.LN2),l=16*t-r,c=f();c.writeLong(this.scalerType),c.writeShort(t),c.writeShort(r),c.writeShort(o),c.writeShort(l);var h=16*t,d=c.offset()+h,m=null,_=f();for(var w in e)if(v(e,w)){var table=e[w];for(c.writeString(w),c.writeLong(this.checksum(table)),c.writeLong(d),c.writeLong(table.length),_.write(table),"head"==w&&(m=d),d+=table.length;d%4;)_.writeByte(0),d++}c.write(_.get());var y=2981146554-this.checksum(c.get());return c.offset(m+8),c.writeLong(y),c.get()},checksum:function(data){data=f(data);for(var e=0;!data.eof();)e+=data.readLong();return 4294967295&e}};var x,k=y({parse:function(data){data.offset(this.offset),this.version=data.readLong(),this.revision=data.readLong(),this.checkSumAdjustment=data.readLong(),this.magicNumber=data.readLong(),this.flags=data.readShort(),this.unitsPerEm=data.readShort(),this.created=data.read(8),this.modified=data.read(8),this.xMin=data.readShort_(),this.yMin=data.readShort_(),this.xMax=data.readShort_(),this.yMax=data.readShort_(),this.macStyle=data.readShort(),this.lowestRecPPEM=data.readShort(),this.fontDirectionHint=data.readShort_(),this.indexToLocFormat=data.readShort_(),this.glyphDataFormat=data.readShort_()},render:function(e){var t=f();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get()}}),C=y({parse:function(data){data.offset(this.offset);var e=this.file.head.indexToLocFormat;this.offsets=0===e?data.times(this.length/2,(function(){return 2*data.readShort()})):data.times(this.length/4,data.readLong)},offsetOf:function(e){return this.offsets[e]},lengthOf:function(e){return this.offsets[e+1]-this.offsets[e]},render:function(e){for(var t=f(),n=e[e.length-1]>65535,i=0;i<e.length;++i)n?t.writeLong(e[i]):t.writeShort(e[i]/2);return{format:n?1:0,table:t.get()}}}),S=y({parse:function(data){data.offset(this.offset),this.version=data.readLong(),this.ascent=data.readShort_(),this.descent=data.readShort_(),this.lineGap=data.readShort_(),this.advanceWidthMax=data.readShort(),this.minLeftSideBearing=data.readShort_(),this.minRightSideBearing=data.readShort_(),this.xMaxExtent=data.readShort_(),this.caretSlopeRise=data.readShort_(),this.caretSlopeRun=data.readShort_(),this.caretOffset=data.readShort_(),data.skip(8),this.metricDataFormat=data.readShort_(),this.numOfLongHorMetrics=data.readShort()},render:function(e){var t=f();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get()}}),T=y({parse:function(data){data.offset(this.offset),this.version=data.readLong(),this.numGlyphs=data.readShort(),this.maxPoints=data.readShort(),this.maxContours=data.readShort(),this.maxComponentPoints=data.readShort(),this.maxComponentContours=data.readShort(),this.maxZones=data.readShort(),this.maxTwilightPoints=data.readShort(),this.maxStorage=data.readShort(),this.maxFunctionDefs=data.readShort(),this.maxInstructionDefs=data.readShort(),this.maxStackElements=data.readShort(),this.maxSizeOfInstructions=data.readShort(),this.maxComponentElements=data.readShort(),this.maxComponentDepth=data.readShort()},render:function(e){var t=f();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}),D=y({parse:function(data){data.offset(this.offset);var e=this.file,t=e.hhea;this.metrics=data.times(t.numOfLongHorMetrics,(function(){return{advance:data.readShort(),lsb:data.readShort_()}}));var n=e.maxp.numGlyphs-e.hhea.numOfLongHorMetrics;this.leftSideBearings=data.times(n,data.readShort_)},forGlyph:function(e){var t=this.metrics,n=t.length;return e<n?t[e]:{advance:t[n-1].advance,lsb:this.leftSideBearings[e-n]}},render:function(e){for(var t=f(),i=0;i<e.length;++i){var n=this.forGlyph(e[i]);t.writeShort(n.advance),t.writeShort_(n.lsb)}return t.get()}}),E=function(){function e(e){this.raw=e}e.prototype={compound:!1,render:function(){return this.raw.get()}};var t=1,n=8,r=32,o=64,l=128;function c(data){this.raw=data;for(var e=this.glyphIds=[],c=this.idOffsets=[];;){var h=data.readShort();if(c.push(data.offset()),e.push(data.readShort()),!(h&r))break;data.skip(h&t?4:2),h&l?data.skip(8):h&o?data.skip(4):h&n&&data.skip(2)}}return c.prototype={compound:!0,render:function(e){for(var t=f(this.raw.get()),i=0;i<this.glyphIds.length;++i){var n=this.glyphIds[i];t.offset(this.idOffsets[i]),t.writeShort(e[n])}return t.get()}},y({parse:function(){this.cache={}},glyphFor:function(t){var n=this.cache;if(v(n,t))return n[t];var r=this.file.loca,o=r.lengthOf(t);if(0===o)return n[t]=null;var data=this.rawData,l=this.offset+r.offsetOf(t),h=f(data.slice(l,o)),d=h.readShort_(),m=h.readShort_(),_=h.readShort_(),w=h.readShort_(),y=h.readShort_(),glyph=n[t]=-1==d?new c(h):new e(h);return glyph.numberOfContours=d,glyph.xMin=m,glyph.yMin=_,glyph.xMax=w,glyph.yMax=y,glyph},render:function(e,t,n){for(var r=f(),o=[],i=0;i<t.length;++i){var glyph=e[t[i]];o.push(r.offset()),glyph&&r.write(glyph.render(n))}return o.push(r.offset()),{table:r.get(),offsets:o}}})}(),A=function(){function e(text,e){this.text=text,this.length=text.length,this.platformID=e.platformID,this.platformSpecificID=e.platformSpecificID,this.languageID=e.languageID,this.nameID=e.nameID}return y({parse:function(data){data.offset(this.offset),data.readShort();for(var t=data.readShort(),n=this.offset+data.readShort(),r=data.times(t,(function(){return{platformID:data.readShort(),platformSpecificID:data.readShort(),languageID:data.readShort(),nameID:data.readShort(),length:data.readShort(),offset:data.readShort()+n}})),o=this.strings={},i=0;i<r.length;++i){var l=r[i];data.offset(l.offset);var text=data.readString(l.length);o[l.nameID]||(o[l.nameID]=[]),o[l.nameID].push(new e(text,l))}this.postscriptEntry=o[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(t){var n=this.strings,r=0;for(var i in n)v(n,i)&&(r+=n[i].length);var o=f(),l=f();for(i in o.writeShort(0),o.writeShort(r),o.writeShort(6+12*r),n)if(v(n,i))for(var c=6==i?[new e(t,this.postscriptEntry)]:n[i],h=0;h<c.length;++h){var d=c[h];o.writeShort(d.platformID),o.writeShort(d.platformSpecificID),o.writeShort(d.languageID),o.writeShort(d.nameID),o.writeShort(d.length),o.writeShort(l.offset()),l.writeString(d.text)}return o.write(l.get()),o.get()}})}(),I=(x=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),y({parse:function(data){var e;switch(data.offset(this.offset),this.format=data.readLong(),this.italicAngle=data.readFixed_(),this.underlinePosition=data.readShort_(),this.underlineThickness=data.readShort_(),this.isFixedPitch=data.readLong(),this.minMemType42=data.readLong(),this.maxMemType42=data.readLong(),this.minMemType1=data.readLong(),this.maxMemType1=data.readLong(),this.format){case 65536:case 196608:break;case 131072:e=data.readShort(),this.glyphNameIndex=data.times(e,data.readShort),this.names=[];for(var t=this.offset+this.length;data.offset()<t;)this.names.push(data.readString(data.readByte()));break;case 151552:e=data.readShort(),this.offsets=data.read(e);break;case 262144:this.map=data.times(this.file.maxp.numGlyphs,data.readShort)}},glyphFor:function(code){switch(this.format){case 65536:return x[code]||".notdef";case 131072:var e=this.glyphNameIndex[code];return e<x.length?x[e]:this.names[e-x.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[code]||65535}},render:function(e){if(196608==this.format)return this.raw();var t=f(this.rawData.slice(this.offset,32));t.writeLong(131072),t.offset(32);for(var n=[],r=[],i=0;i<e.length;++i){var o=e[i],l=this.glyphFor(o),c=x.indexOf(l);c>=0?n.push(c):(n.push(x.length+r.length),r.push(l))}for(t.writeShort(e.length),i=0;i<n.length;++i)t.writeShort(n[i]);for(i=0;i<r.length;++i)t.writeByte(r[i].length),t.writeString(r[i]);return t.get()}})),M=function(){function e(data,e,t){var n=this;n.platformID=data.readShort(),n.platformSpecificID=data.readShort(),n.offset=e+data.readLong(),data.saveExcursion((function(){var code;switch(data.offset(n.offset),n.format=data.readShort(),n.format){case 0:n.length=data.readShort(),n.language=data.readShort();for(var i=0;i<256;++i)t[i]=data.readByte();break;case 4:n.length=data.readShort(),n.language=data.readShort();var e=data.readShort()/2;data.skip(6);var r=data.times(e,data.readShort);data.skip(2);var o=data.times(e,data.readShort),l=data.times(e,data.readShort_),c=data.times(e,data.readShort),h=(n.length+n.offset-data.offset())/2,d=data.times(h,data.readShort);for(i=0;i<e;++i){var f=o[i],m=r[i];for(code=f;code<=m;++code){var v;0===c[i]?v=code+l[i]:0!==(v=d[c[i]/2-(e-i)+(code-f)]||0)&&(v+=l[i]),t[code]=65535&v}}break;case 6:n.length=data.readShort(),n.language=data.readShort(),code=data.readShort();for(var _=data.readShort();_-- >0;)t[code++]=data.readShort();break;case 12:data.readShort(),n.length=data.readLong(),n.language=data.readLong();for(var w=data.readLong();w-- >0;){code=data.readLong();for(var y=data.readLong(),x=data.readLong();code<=y;)t[code++]=x++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+n.format)}}))}return y({parse:function(data){var t=this,n=t.offset;data.offset(n),t.codeMap={},t.version=data.readShort();var r=data.readShort();t.tables=data.times(r,(function(){return new e(data,n,t.codeMap)}))},render:function(e,t){var n=f();return n.writeShort(0),n.writeShort(1),n.write(function(e,t){var n=_(e),r=[],o=[],l=null,c=null;function h(n){return t[e[n]]}for(var i=0;i<n.length;++i){var code=n[i],d=h(code)-code;null!=l&&d===c||(l&&o.push(l),r.push(code),c=d),l=code}l&&o.push(l),o.push(65535),r.push(65535);var m=r.length,v=2*m,w=2*Math.pow(2,Math.floor(Math.log(m)/Math.LN2)),y=Math.log(w/2)/Math.LN2,x=v-w,k=[],C=[],S=[];for(i=0;i<m;++i){var T=r[i],D=o[i];if(65535==T){k.push(0),C.push(0);break}var E=h(T);if(T-E>=32768){k.push(0),C.push(2*(S.length+m-i));for(var A=T;A<=D;++A)S.push(h(A))}else k.push(E-T),C.push(0)}var I=f();return I.writeShort(3),I.writeShort(1),I.writeLong(12),I.writeShort(4),I.writeShort(16+8*m+2*S.length),I.writeShort(0),I.writeShort(v),I.writeShort(w),I.writeShort(y),I.writeShort(x),o.forEach(I.writeShort),I.writeShort(0),r.forEach(I.writeShort),k.forEach(I.writeShort_),C.forEach(I.writeShort),S.forEach(I.writeShort),I.get()}(e,t)),n.get()}})}(),R=y({parse:function(data){data.offset(this.offset),this.version=data.readShort(),this.averageCharWidth=data.readShort_(),this.weightClass=data.readShort(),this.widthClass=data.readShort(),this.type=data.readShort(),this.ySubscriptXSize=data.readShort_(),this.ySubscriptYSize=data.readShort_(),this.ySubscriptXOffset=data.readShort_(),this.ySubscriptYOffset=data.readShort_(),this.ySuperscriptXSize=data.readShort_(),this.ySuperscriptYSize=data.readShort_(),this.ySuperscriptXOffset=data.readShort_(),this.ySuperscriptYOffset=data.readShort_(),this.yStrikeoutSize=data.readShort_(),this.yStrikeoutPosition=data.readShort_(),this.familyClass=data.readShort_(),this.panose=data.times(10,data.readByte),this.charRange=data.times(4,data.readLong),this.vendorID=data.readString(4),this.selection=data.readShort(),this.firstCharIndex=data.readShort(),this.lastCharIndex=data.readShort(),this.version>0&&(this.ascent=data.readShort_(),this.descent=data.readShort_(),this.lineGap=data.readShort_(),this.winAscent=data.readShort(),this.winDescent=data.readShort(),this.codePageRange=data.times(2,data.readLong),this.version>1&&(this.xHeight=data.readShort(),this.capHeight=data.readShort(),this.defaultChar=data.readShort(),this.breakChar=data.readShort(),this.maxContext=data.readShort()))},render:function(){return this.raw()}}),F=1e5;function P(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function(){for(var e="",t=String(F),i=0;i<t.length;++i)e+=String.fromCharCode(t.charCodeAt(i)-48+65);return++F,e}()+"+"+this.font.psName}function z(e,t){var n=this,data=n.contents=f(e);if("ttcf"==data.readString(4)){var r,o=function(){data.offset(r),n.parse()};if(!t)throw new Error("Must specify a name for TTC files");data.readLong();for(var l=data.readLong(),i=0;i<l;++i)if(r=data.readLong(),data.saveExcursion(o),n.psName==t)return;throw new Error("Font "+t+" not found in collection")}data.offset(0),n.parse()}P.prototype={use:function(e){var t=this;if("string"==typeof e)return function(e){for(var t,n,output=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?output.push(((1023&t)<<10)+(1023&n)+65536):(output.push(t),r--):output.push(t);return output}(e).reduce((function(e,code){return e+String.fromCharCode(t.use(code))}),"");var code=t.unicodes[e];if(!code){code=t.next++,t.subset[code]=e,t.unicodes[e]=code;var n=t.font.cmap.codeMap[e];if(n&&(t.ncid2ogid[code]=n,null==t.ogid2ngid[n])){var r=t.nextGid++;t.ogid2ngid[n]=r,t.ngid2ogid[r]=n}}return code},encodeText:function(text){return this.use(text)},glyphIds:function(){return _(this.ogid2ngid)},glyphsFor:function(e,t){t||(t={});for(var i=0;i<e.length;++i){var n=e[i];if(!t[n]){var glyph=t[n]=this.font.glyf.glyphFor(n);glyph&&glyph.compound&&this.glyphsFor(glyph.glyphIds,t)}}return t},render:function(){var e=this.glyphsFor(this.glyphIds());for(var t in e)if(v(e,t)&&(t=parseInt(t,10),null==this.ogid2ngid[t])){var n=this.nextGid++;this.ogid2ngid[t]=n,this.ngid2ogid[n]=t}var r=_(this.ngid2ogid).map((function(e){return this.ngid2ogid[e]}),this),o=this.font,l=o.glyf.render(e,r,this.ogid2ngid),c=o.loca.render(l.offsets);this.lastChar=this.next-1;var h={cmap:M.render(this.ncid2ogid,this.ogid2ngid),glyf:l.table,loca:c.table,hmtx:o.hmtx.render(r),hhea:o.hhea.render(r),maxp:o.maxp.render(r),post:o.post.render(r),name:o.name.render(this.psName),head:o.head.render(c.format),"OS/2":o.os2.render()};return this.font.directory.render(h)},cidToGidMap:function(){for(var e=f(),t=0,n=this.firstChar;n<this.next;++n){for(;t<n;)e.writeShort(0),t++;var r=this.ncid2ogid[n];if(r){var o=this.ogid2ngid[r];e.writeShort(o)}else e.writeShort(0);t++}return e.get()}},z.prototype={parse:function(){var e=this.directory=new w(this.contents);this.head=e.readTable("head",k),this.loca=e.readTable("loca",C),this.hhea=e.readTable("hhea",S),this.maxp=e.readTable("maxp",T),this.hmtx=e.readTable("hmtx",D),this.glyf=e.readTable("glyf",E),this.name=e.readTable("name",A),this.post=e.readTable("post",I),this.cmap=e.readTable("cmap",M),this.os2=e.readTable("OS/2",R),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(glyph){return this.hmtx.forGlyph(glyph).advance*this.scale},makeSubset:function(){return new P(this)}};var B=e.support.browser,L="\n",H=0,N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function O(){var e=0,output=f();function t(){for(var e=arguments,i=0;i<arguments.length;++i){var n=e[i];if(void 0===n)throw new Error("Cannot output undefined to PDF");if(n instanceof se)n.beforeRender(t),n.render(t);else if(Z(n))ee(n,t);else if(n instanceof Date)te(n,t);else if("number"==typeof n){if(isNaN(n))throw new Error("Cannot output NaN to PDF");var r=n.toFixed(7);r.indexOf(".")>=0&&(r=r.replace(/\.?0+$/,"")),"-0"==r&&(r="0"),output.writeString(r)}else/string|boolean/.test(typeof n)?output.writeString(String(n)):"function"==typeof n.get?output.write(n.get()):"object"==typeof n&&(n?t(new pe(n)):output.writeString("null"))}}return t.writeData=function(data){output.write(data)},t.withIndent=function(n){++e,n(t),--e},t.indent=function(){t(L,Q("",2*e,"  ")),t.apply(null,arguments)},t.offset=function(){return output.offset()},t.toString=function(){throw new Error("FIX CALLER")},t.get=function(){return output.get()},t.stream=function(){return output},t}function V(e){if("function"!=typeof e){var t=e;e=function(e,n){return e in t?t[e]:n}}var n=e("paperSize",N.a4);if(!n)return{};if("string"==typeof n&&null==(n=N[n.toLowerCase()]))throw new Error("Unknown paper size");n[0]=oe(n[0]),n[1]=oe(n[1]),e("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]);var r=e("margin");return r&&(r="string"==typeof r||"number"==typeof r?{left:r=oe(r,0),top:r,right:r,bottom:r}:{left:oe(r.left,0),top:oe(r.top,0),right:oe(r.right,0),bottom:oe(r.bottom,0)},e("addMargin")&&(n[0]+=r.left+r.right,n[1]+=r.top+r.bottom)),{paperSize:n,margin:r}}function W(e){var t=this,n=O(),r=0,o=[];function l(t,n){return e&&null!=e[t]?e[t]:n}t.getOption=l,t.attach=function(e){return o.indexOf(e)<0&&(function(e,t){var n=e.beforeRender,r=e.render;e.beforeRender=function(){},e.render=function(e){e(t," 0 R")},e.renderFull=function(o){e._offset=o.offset(),o(t," 0 obj "),n.call(e,o),r.call(e,o),o(" endobj")}}(e,++r),o.push(e)),e},t.pages=[],t.FONTS={},t.IMAGES={},t.GRAD_COL_FUNCTIONS={},t.GRAD_OPC_FUNCTIONS={},t.GRAD_COL={},t.GRAD_OPC={};var c=t.attach(new ge),h=t.attach(new me);if(l("autoPrint")){var d={};d.JavaScript=new pe({Names:[new le("JS"),t.attach(new pe({S:ue("JavaScript"),JS:new le("print(true);")}))]}),c.props.Names=new pe(d)}c.setPages(h);var f=t.attach(new pe({Producer:new le(l("producer","Kendo UI PDF Generator")),Title:new le(l("title","")),Author:new le(l("author","")),Subject:new le(l("subject","")),Keywords:new le(l("keywords","")),Creator:new le(l("creator","Kendo UI PDF Generator")),CreationDate:l("date",new Date)}));t.addPage=function(e){var n=V((function(t,n){return e&&null!=e[t]?e[t]:n})),r=n.paperSize,o=n.margin,l=r[0],c=r[1];o&&(l-=o.left+o.right,c-=o.top+o.bottom);var content=new fe(O(),null,!0),d={Contents:t.attach(content),Parent:h,MediaBox:[0,0,r[0],r[1]]},f=new De(t,d);return f._content=content,h.addPage(t.attach(f)),f.transform(1,0,0,-1,0,r[1]),o&&(f.translate(o.left,o.top),f.rect(0,0,l,c),f.clip()),t.pages.push(f),f},t.render=function(){var i;for(n("%PDF-1.4",L,"%ÂÁÚÏÎ",L,L),i=0;i<o.length;++i)o[i].renderFull(n),n(L,L);var e=n.offset();for(n("xref",L,0," ",o.length+1,L),n("0000000000 65535 f ",L),i=0;i<o.length;++i)n(X(o[i]._offset,10)," 00000 n ",L);return n(L),n("trailer",L),n(new pe({Size:o.length+1,Root:c,Info:f}),L,L),n("startxref",L,e,L),n("%%EOF",L),n.stream().offset(0)}}var U={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},j={};function G(){j={}}var $,Y=($=function(e,t){var n=U[e];n?t(n):function(e,t){var n;if(B.msie&&(n=/^data:.*?;base64,/i.exec(e)))t(m(e.substr(n[0].length)));else{var r=new XMLHttpRequest;r.open("GET",e,!0),h&&(r.responseType="arraybuffer"),r.onload=function(){200==r.status||304==r.status?t(h?new Uint8Array(r.response):new window.VBArray(r.responseBody).toArray()):o()},r.onerror=o,r.send(null)}function o(){window.console&&(window.console.error?window.console.error("Cannot load URL: %s",e):window.console.log("Cannot load URL: %s",e)),t(null)}}(e,(function(data){if(null==data)throw new Error("Cannot load font from "+e);var n=new z(data);U[e]=n,t(n)}))},function(e,t){var n=e.length,i=n;if(0===n)return t();function r(){0==--n&&t()}for(;i-- >0;)$(e[i],r)}),K=function(e,t){var n=Object.keys(e),r=n.length;if(0===r)return t();function o(){0==--r&&t()}n.forEach((function(t){!function(e,t,n){var r,o,img=j[e];if(img)n(img);else if(img=new Image,/^data:/i.test(e)||(img.crossOrigin="Anonymous"),h&&!/^data:/i.test(e)){var l=new XMLHttpRequest;l.onload=function(){o=l.response,c(r=URL.createObjectURL(o))},l.onerror=m,l.open("GET",e,!0),l.responseType="blob",l.send()}else c(e);function c(e){img.src=e,img.complete&&!B.msie?v():(img.onload=v,img.onerror=m)}function d(){t||(t={width:img.width,height:img.height});var canvas=document.createElement("canvas");canvas.width=t.width,canvas.height=t.height;var o,l=canvas.getContext("2d");l.drawImage(img,0,0,t.width,t.height);try{o=l.getImageData(0,0,t.width,t.height)}catch(e){return void m()}finally{r&&URL.revokeObjectURL(r)}for(var c=!1,h=f(),d=f(),v=o.data,i=0;i<v.length;){h.writeByte(v[i++]),h.writeByte(v[i++]),h.writeByte(v[i++]);var a=v[i++];a<255&&(c=!0),d.writeByte(a)}if(c)img=new be(t.width,t.height,h,d);else{var data=canvas.toDataURL("image/jpeg");data=data.substr(data.indexOf(";base64,")+8);var _=f();_.writeBase64(data),img=new _e(_)}n(j[e]=img)}function m(){n(j[e]="ERROR")}function v(){if(t&&(t.width>=img.width||t.height>=img.height)&&(t=null),!t&&o&&/^image\/jpe?g$/i.test(o.type)){var l=new FileReader;l.onload=function(){try{var img=new _e(f(new Uint8Array(this.result)));URL.revokeObjectURL(r),n(j[e]=img)}catch(e){d()}},l.readAsArrayBuffer(o)}else d()}}(t,e[t],o)}))};function Q(e,t,n){for(;e.length<t;)e=n+e;return e}function X(e,t){return Q(String(e),t,"0")}function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)}W.prototype={loadFonts:Y,loadImages:K,getFont:function(e){var t=this.FONTS[e];if(!t){if(!(t=U[e]))throw new Error("Font "+e+" has not been loaded");t=!0===t?this.attach(new we(e)):this.attach(new ye(this,t)),this.FONTS[e]=t}return t},getImage:function(e){var img=this.IMAGES[e];if(!img){if(!(img=j[e]))throw new Error("Image "+e+" has not been loaded");if("ERROR"===img)return null;img=this.IMAGES[e]=this.attach(img.asStream(this))}return img},getOpacityGS:function(e,t){var n=parseFloat(e).toFixed(3);e=parseFloat(n),n+=t?"S":"F";var r=this._opacityGSCache||(this._opacityGSCache={}),o=r[n];if(!o){var l={Type:ue("ExtGState")};t?l.CA=e:l.ca=e,(o=this.attach(new pe(l)))._resourceName=ue("GS"+ ++H),r[n]=o}return o},dict:function(e){return new pe(e)},name:function(e){return ue(e)},stream:function(e,content){return new fe(content,e)}};var Z=Array.isArray||function(e){return e instanceof Array};function ee(a,e){e("["),a.length>0&&e.withIndent((function(){for(var i=0;i<a.length;++i)i>0&&i%8==0?e.indent(a[i]):e(" ",a[i])})),e(" ]")}function te(e,t){t("(D:",X(e.getUTCFullYear(),4),X(e.getUTCMonth()+1,2),X(e.getUTCDate(),2),X(e.getUTCHours(),2),X(e.getUTCMinutes(),2),X(e.getUTCSeconds(),2),"Z)")}function ie(e){return e*(72/25.4)}function ne(e){return ie(10*e)}function re(e){return 72*e}function oe(e,t){if("number"==typeof e)return e;var n;if("string"==typeof e&&(n=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e))){var r=parseFloat(n[1]);if(!isNaN(r))return"pt"==n[2]?r:{mm:ie,cm:ne,in:re}[n[2]](r)}if(null!=t)return t;throw new Error("Can't parse unit: "+e)}function se(){}function ae(e,t,n){for(var i in n||(n=se),e.prototype=new n,t)J(t,i)&&(e.prototype[i]=t[i]);return e}se.prototype.beforeRender=function(){};var le=ae((function(e){this.value=e}),{render:function(e){for(var t="",n=this.value,i=0;i<n.length;++i)t+=String.fromCharCode(255&n.charCodeAt(i));e("(",t.replace(/([\(\)\\])/g,"\\$1"),")")},toString:function(){return this.value}}),ce=ae((function(e){this.value=e}),{render:function(e){e("<");for(var i=0;i<this.value.length;++i)e(X(this.value.charCodeAt(i).toString(16),4));e(">")}},le),he=ae((function(e){this.name=e}),{render:function(e){e("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,(function(e){return"#"+X(e.charCodeAt(0).toString(16),2)}))},toString:function(){return this.name}}),de={};function ue(e){return J(de,e)?de[e]:de[e]=new he(e)}he.get=ue;var pe=ae((function(e){this.props=e}),{render:function(e){var t=this.props,n=!0;e("<<"),e.withIndent((function(){for(var i in t)J(t,i)&&!/^_/.test(i)&&(n=!1,e.indent(ue(i)," ",t[i]))})),n||e.indent(),e(">>")}}),fe=ae((function(data,e,t){if("string"==typeof data){var n=f();n.write(data),data=n}this.data=data,this.props=e||{},this.compress=t}),{render:function(e){var data=this.data.get(),t=this.props;this.compress&&r.supportsDeflate()&&(t.Filter?t.Filter instanceof Array||(t.Filter=[t.Filter]):t.Filter=[],t.Filter.unshift(ue("FlateDecode")),data=r.deflate(data)),t.Length=data.length,e(new pe(t)," stream",L),e.writeData(data),e(L,"endstream")}}),ge=ae((function(){this.props={Type:ue("Catalog")}}),{setPages:function(e){this.props.Pages=e}},pe),me=ae((function(){this.props={Type:ue("Pages"),Kids:[],Count:0}}),{addPage:function(e){this.props.Kids.push(e),this.props.Count++}},pe),ve=[192,193,194,195,197,198,199,201,202,203,205,206,207];function _e(data){var e,t,n,r;if(data.offset(0),65496!=data.readShort())throw new Error("Invalid JPEG image");for(;!data.eof();){if(255!=data.readByte())throw new Error("Invalid JPEG image");var marker=data.readByte(),o=data.readShort();if(ve.indexOf(marker)>=0){r=data.readByte(),t=data.readShort(),e=data.readShort(),n=data.readByte();break}data.skip(o-2)}if(null==n)throw new Error("Invalid JPEG image");var l={Type:ue("XObject"),Subtype:ue("Image"),Width:e,Height:t,BitsPerComponent:r,Filter:ue("DCTDecode")};switch(n){case 1:l.ColorSpace=ue("DeviceGray");break;case 3:l.ColorSpace=ue("DeviceRGB");break;case 4:l.ColorSpace=ue("DeviceCMYK"),l.Decode=[1,0,1,0,1,0,1,0]}this.asStream=function(){data.offset(0);var e=new fe(data,l);return e._resourceName=ue("I"+ ++H),e}}function be(e,t,n,r){this.asStream=function(o){var mask=new fe(r,{Type:ue("XObject"),Subtype:ue("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:ue("DeviceGray")},!0),l=new fe(n,{Type:ue("XObject"),Subtype:ue("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:ue("DeviceRGB"),SMask:o.attach(mask)},!0);return l._resourceName=ue("I"+ ++H),l}}var we=ae((function(e){this.props={Type:ue("Font"),Subtype:ue("Type1"),BaseFont:ue(e)},this._resourceName=ue("F"+ ++H)}),{encodeText:function(e){return new le(String(e))}},pe),ye=ae((function(e,t,n){(n=this.props=n||{}).Type=ue("Font"),n.Subtype=ue("Type0"),n.Encoding=ue("Identity-H"),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=ue("F"+ ++H);var head=t.head;this.name=t.psName;var r=this.scale=t.scale;this.bbox=[head.xMin*r,head.yMin*r,head.xMax*r,head.yMax*r],this.italicAngle=t.post.italicAngle,this.ascent=t.ascent*r,this.descent=t.descent*r,this.lineGap=t.lineGap*r,this.capHeight=t.os2.capHeight||this.ascent,this.xHeight=t.os2.xHeight||0,this.stemV=0,this.familyClass=(t.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32}),{encodeText:function(text){return new ce(this._sub.encodeText(String(text)))},getTextWidth:function(e,text){for(var t=0,n=this._font.cmap.codeMap,i=0;i<text.length;++i){var r=n[text.charCodeAt(i)];t+=this._font.widthOfGlyph(r||0)}return t*e/1e3},beforeRender:function(){var e=this,sub=e._sub,data=sub.render(),t=new fe(f(data),{Length1:data.length},!0),n=e._pdf.attach(new pe({Type:ue("FontDescriptor"),FontName:ue(e._sub.psName),FontBBox:e.bbox,Flags:e.flags,StemV:e.stemV,ItalicAngle:e.italicAngle,Ascent:e.ascent,Descent:e.descent,CapHeight:e.capHeight,XHeight:e.xHeight,FontFile2:e._pdf.attach(t)})),r=sub.ncid2ogid,o=sub.firstChar,l=sub.lastChar,c=[];!function t(i,n){if(i<=l){var o=r[i];null==o?t(i+1):(n||c.push(i,n=[]),n.push(e._font.widthOfGlyph(o)),t(i+1,n))}}(o);var h=new pe({Type:ue("Font"),Subtype:ue("CIDFontType2"),BaseFont:ue(e._sub.psName),CIDSystemInfo:new pe({Registry:new le("Adobe"),Ordering:new le("Identity"),Supplement:0}),FontDescriptor:n,FirstChar:o,LastChar:l,DW:Math.round(e._font.widthOfGlyph(0)),W:c,CIDToGIDMap:e._pdf.attach(e._makeCidToGidMap())}),d=e.props;d.BaseFont=ue(e._sub.psName),d.DescendantFonts=[e._pdf.attach(h)];var m=new xe(o,l,sub.subset),v=new fe(O(),null,!0);v.data(m),d.ToUnicode=e._pdf.attach(v)},_makeCidToGidMap:function(){return new fe(f(this._sub.cidToGidMap()),null,!0)}},pe),xe=ae((function(e,t,map){this.firstChar=e,this.lastChar=t,this.map=map}),{render:function(e){e.indent("/CIDInit /ProcSet findresource begin"),e.indent("12 dict begin"),e.indent("begincmap"),e.indent("/CIDSystemInfo <<"),e.indent("  /Registry (Adobe)"),e.indent("  /Ordering (UCS)"),e.indent("  /Supplement 0"),e.indent(">> def"),e.indent("/CMapName /Adobe-Identity-UCS def"),e.indent("/CMapType 2 def"),e.indent("1 begincodespacerange"),e.indent("  <0000><ffff>"),e.indent("endcodespacerange");var t=this;e.indent(t.lastChar-t.firstChar+1," beginbfchar"),e.withIndent((function(){for(var code=t.firstChar;code<=t.lastChar;++code){var n=t.map[code],r=[n].map((function(e){var output="";return e>65535&&(e-=65536,output+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),output+=String.fromCharCode(e)})).join("");e.indent("<",X(code.toString(16),4),">","<");for(var i=0;i<r.length;++i)e(X(r.charCodeAt(i).toString(16),4));e(">")}})),e.indent("endbfchar"),e.indent("endcmap"),e.indent("CMapName currentdict /CMap defineresource pop"),e.indent("end"),e.indent("end")}});function ke(a){return a.map((function(e){return Z(e)?ke(e):"number"==typeof e?(Math.round(1e3*e)/1e3).toFixed(3):e})).join(" ")}function Ce(e,t,n,r,o,l,c){var h=ke([t,n,r,o,l,c]),d=e.GRAD_COL_FUNCTIONS[h];return d||(d=e.GRAD_COL_FUNCTIONS[h]=e.attach(new pe({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,n,r],C1:[o,l,c]}))),d}function Se(e,t,n){var r=ke([t,n]),o=e.GRAD_OPC_FUNCTIONS[r];return o||(o=e.GRAD_OPC_FUNCTIONS[r]=e.attach(new pe({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[n]}))),o}function Te(e,t,n){var r="radial"==t.type,o=function(e,t){var i,n,r,o,l,c=!1,h=[],d=[],f=[],m=[];for(i=1;i<t.length;++i)n=t[i-1],r=t[i],o=n.color,l=r.color,d.push(Ce(e,o.r,o.g,o.b,l.r,l.g,l.b)),(o.a<1||l.a<1)&&(c=!0),f.push(r.offset),m.push(0,1);if(c)for(i=1;i<t.length;++i)n=t[i-1],r=t[i],o=n.color,l=r.color,h.push(Se(e,o.a,l.a));return f.pop(),{hasAlpha:c,colors:v(d),opacities:c?v(h):null};function v(e){return 1==e.length?e[0]:{FunctionType:3,Functions:e,Domain:[0,1],Bounds:f,Encode:m}}}(e,t.stops),l=r?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],c=function(e,t,n,r,o,l){var c,h;if(!l){var a=[t].concat(r);n.forEach((function(e){a.push(e.offset,e.color.r,e.color.g,e.color.b)})),h=ke(a),c=e.GRAD_COL[h]}return c||(c=new pe({Type:ue("Shading"),ShadingType:t?3:2,ColorSpace:ue("DeviceRGB"),Coords:r,Domain:[0,1],Function:o,Extend:[!0,!0]}),e.attach(c),c._resourceName="S"+ ++H,h&&(e.GRAD_COL[h]=c)),c}(e,r,t.stops,l,o.colors,t.userSpace&&n),h=o.hasAlpha?function(e,t,n,r,o,l){var c,h;if(!l){var a=[t].concat(r);n.forEach((function(e){a.push(e.offset,e.color.a)})),h=ke(a),c=e.GRAD_OPC[h]}return c||(c=new pe({Type:ue("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:ue("Mask"),S:ue("Luminosity"),G:e.attach(new fe("/a0 gs /s0 sh",{Type:ue("XObject"),Subtype:ue("Form"),FormType:1,BBox:l?[l.left,l.top+l.height,l.left+l.width,l.top]:[0,1,1,0],Group:{Type:ue("Group"),S:ue("Transparency"),CS:ue("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:ue("DeviceGray"),Coords:r,Domain:[0,1],ShadingType:t?3:2,Function:o,Extend:[!0,!0]}}}}))}}),e.attach(c),c._resourceName="O"+ ++H,h&&(e.GRAD_OPC[h]=c)),c}(e,r,t.stops,l,o.opacities,t.userSpace&&n):null;return{hasAlpha:o.hasAlpha,shading:c,opacity:h}}var De=ae((function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],(t=this.props=t||{}).Type=ue("Page"),t.ProcSet=[ue("PDF"),ue("Text"),ue("ImageB"),ue("ImageC"),ue("ImageI")],t.Resources=new pe({Font:new pe(this._fontResources),ExtGState:new pe(this._gsResources),XObject:new pe(this._xResources),Pattern:new pe(this._patResources),Shading:new pe(this._shResources)}),t.Annots=this._annotations}),{_out:function(){this._content.data.apply(null,arguments)},transform:function(a,b,e,t,n,r){Pe(arguments)||(this._matrix=Fe(arguments,this._matrix),this._out(a," ",b," ",e," ",t," ",n," ",r," cm"),this._out(L))},translate:function(e,t){this.transform(1,0,0,1,e,t)},scale:function(e,t){this.transform(e,0,0,t,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0)},beginText:function(){this._textMode=!0,this._out("BT",L)},endText:function(){this._textMode=!1,this._out("ET",L)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(e,t){this._requireTextMode(),null==e?e=this._font:e instanceof ye||(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName," ",t," Tf",L)},setTextLeading:function(e){this._requireTextMode(),this._out(e," TL",L)},setTextRenderingMode:function(e){this._requireTextMode(),this._out(e," Tr",L)},showText:function(text,e){if(this._requireFont(),text.length>1&&e&&this._font instanceof ye){var t=e/this._font.getTextWidth(this._fontSize,text)*100;this._out(t," Tz ")}this._out(this._font.encodeText(text)," Tj",L)},showTextNL:function(text){this._requireFont(),this._out(this._font.encodeText(text)," '",L)},addLink:function(e,t){var n=this._toPage({x:t.left,y:t.bottom}),r=this._toPage({x:t.right,y:t.top});this._annotations.push(new pe({Type:ue("Annot"),Subtype:ue("Link"),Rect:[n.x,n.y,r.x,r.y],Border:[0,0,0],A:new pe({Type:ue("Action"),S:ue("URI"),URI:new le(e)})}))},setStrokeColor:function(e,g,b){this._out(e," ",g," ",b," RG",L)},setOpacity:function(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity*=e},setStrokeOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",L)}},setFillColor:function(e,g,b){this._out(e," ",g," ",b," rg",L)},setFillOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",L)}},gradient:function(e,t){this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top);var n,g=Te(this._pdf,e,t),r=g.shading._resourceName;this._shResources[r]=g.shading,g.hasAlpha&&(n=g.opacity._resourceName,this._gsResources[n]=g.opacity,this._out("/"+n+" gs ")),this._out("/"+r+" sh",L),this.restore()},setDashPattern:function(e,t){this._out(e," ",t," d",L)},setLineWidth:function(e){this._out(e," w",L)},setLineCap:function(e){this._out(e," J",L)},setLineJoin:function(e){this._out(e," j",L)},setMitterLimit:function(e){this._out(e," M",L)},save:function(){this._contextStack.push(this._context()),this._out("q",L)},restore:function(){this._out("Q",L),this._context(this._contextStack.pop())},moveTo:function(e,t){this._out(e," ",t," m",L)},lineTo:function(e,t){this._out(e," ",t," l",L)},bezier:function(e,t,n,r,o,l){this._out(e," ",t," ",n," ",r," ",o," ",l," c",L)},bezier1:function(e,t,n,r){this._out(e," ",t," ",n," ",r," y",L)},bezier2:function(e,t,n,r){this._out(e," ",t," ",n," ",r," v",L)},close:function(){this._out("h",L)},rect:function(e,t,n,r){this._out(e," ",t," ",n," ",r," re",L)},ellipse:function(e,t,n,r){function o(t){return e+t}function l(e){return t+e}var c=.5522847498307936;this.moveTo(o(0),l(r)),this.bezier(o(n*c),l(r),o(n),l(r*c),o(n),l(0)),this.bezier(o(n),l(-r*c),o(n*c),l(-r),o(0),l(-r)),this.bezier(o(-n*c),l(-r),o(-n),l(-r*c),o(-n),l(0)),this.bezier(o(-n),l(r*c),o(-n*c),l(r),o(0),l(r))},circle:function(e,t,n){this.ellipse(e,t,n,n)},stroke:function(){this._out("S",L)},nop:function(){this._out("n",L)},clip:function(){this._out("W n",L)},clipStroke:function(){this._out("W S",L)},closeStroke:function(){this._out("s",L)},fill:function(){this._out("f",L)},fillStroke:function(){this._out("B",L)},drawImage:function(e){var img=this._pdf.getImage(e);img&&(this._xResources[img._resourceName]=img,this._out(img._resourceName," Do",L))},comment:function(e){var t=this;e.split(/\r?\n/g).forEach((function(line){t._out("% ",line,L)}))},_context:function(e){if(null==e)return{opacity:this._opacity,matrix:this._matrix};this._opacity=e.opacity,this._matrix=e.matrix},_toPage:function(p){var e=this._matrix,a=e[0],b=e[1],t=e[2],n=e[3],r=e[4],o=e[5];return{x:a*p.x+t*p.y+r,y:b*p.x+n*p.y+o}}},pe);function Ee(e){return e.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function Ae(e){var t=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i.exec(e);if(!t)return{fontSize:12,fontFamily:"sans-serif"};var n=t[8]?parseInt(t[8],10):12;return{italic:t[2]&&"italic"==t[2].toLowerCase(),variant:t[4],bold:t[6]&&/bold|700/i.test(t[6]),fontSize:n,lineHeight:t[12]?"normal"==t[12]?n:parseInt(t[12],10):null,fontFamily:t[14].split(/\s*,\s*/g).map(Ee)}}function Ie(style){function e(e){return style.bold&&(e+="|bold"),style.italic&&(e+="|italic"),e.toLowerCase()}var t,n,r=style.fontFamily;if(r instanceof Array)for(var i=0;i<r.length&&(t=e(r[i]),!(n=Me[t]));++i);else n=Me[r.toLowerCase()];for(;"function"==typeof n;)n=n();return n||(n="Times-Roman"),n}var Me={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function Re(e,t){e=e.toLowerCase(),Me[e]=function(){return Me[t]},Me[e+"|bold"]=function(){return Me[t+"|bold"]},Me[e+"|italic"]=function(){return Me[t+"|italic"]},Me[e+"|bold|italic"]=function(){return Me[t+"|bold|italic"]}}function Fe(a,b){var e=a[0],t=a[1],n=a[2],r=a[3],o=a[4],l=a[5],c=b[0],h=b[1],d=b[2],f=b[3];return[e*c+t*d,e*h+t*f,n*c+r*d,n*h+r*f,o*c+l*d+b[4],o*h+l*f+b[5]]}function Pe(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}Re("Times New Roman","serif"),Re("Courier New","monospace"),Re("Arial","sans-serif"),Re("Helvetica","sans-serif"),Re("Verdana","sans-serif"),Re("Tahoma","sans-serif"),Re("Georgia","sans-serif"),Re("Monaco","monospace"),Re("Andale Mono","monospace");var ze={fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7},Be=ze,Le={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},He={butt:0,round:1,square:2},Ne={miter:0,round:1,bevel:2};function Oe(e,t){var n=[],r={},l=e.options;function h(e,t,n){return n||(n=l),n.pdf&&null!=n.pdf[e]?n.pdf[e]:t}var d=h("multiPage"),f=h("imgDPI");function m(){if(!(--v>0)){var n=new W({producer:h("producer"),title:h("title"),author:h("author"),subject:h("subject"),keywords:h("keywords"),creator:h("creator"),date:h("date"),autoPrint:h("autoPrint")});d?e.children.forEach(r):r(e),t(n.render(),n)}function r(e){var t=e.options,r=function(e){var t,n=!1,r=c.Matrix.unit(),l=null;do{t=!1,e=m(e)}while(e&&t);return{root:e,bbox:l};function h(e){return t=!0,e}function d(e){return e.visible()&&e.opacity()>0&&(qe(e.fill())||qe(e.stroke()))}function f(a){for(var b=[],i=0;i<a.length;++i){var e=m(a[i]);null!=e&&b.push(e)}return b}function m(t){return function(e,t){var o=n,l=r;e.transform()&&(r=r.multiplyCopy(e.transform().matrix()));var h=e.clip();h&&(h=h.bbox())&&(h=h.bbox(r),n=n?c.Rect.intersect(n,h):h);try{return t()}finally{n=o,r=l}}(t,(function(){if(!(t instanceof o.Group||t instanceof o.MultiPath)){var m=function(e){if(null==n)return!1;var t=e.rawBBox().bbox(r);return n&&t&&(t=c.Rect.intersect(t,n)),t}(t);if(!m)return h(null);l=l?c.Rect.union(l,m):m}return Ue({Path:function(e){return 0!==e.segments.length&&d(e)?e:h(null)},MultiPath:function(e){if(!d(e))return h(null);var t=new o.MultiPath(e.options);return t.paths=f(e.paths),0===t.paths.length?h(null):t},Circle:function(e){return d(e)?e:h(null)},Arc:function(e){return d(e)?e:h(null)},Text:function(e){return/\S/.test(e.content())&&d(e)?e:h(null)},Image:function(e){return e.visible()&&e.opacity()>0?e:h(null)},Group:function(t){if(!(t.visible()&&t.opacity()>0))return h(null);var n=new o.Group(t.options);return n.children=f(t.children),n._pdfLink=t._pdfLink,t===e||0!==n.children.length||t._pdfLink?n:h(null)},Rect:function(e){return d(e)?e:h(null)}},t)}))}}(e),l=r.bbox;e=r.root;var d=h("paperSize",h("paperSize","auto"),t),f=!1;if("auto"==d)if(l){var m=l.getSize();d=[m.width,m.height],f=!0;var v=l.getOrigin();(r=new o.Group).transform(new c.Matrix(1,0,0,1,-v.x,-v.y)),r.append(e),e=r}else d="A4";je(e,n.addPage({paperSize:d,margin:h("margin",h("margin"),t),addMargin:f,landscape:h("landscape",h("landscape",!1),t)}),n)}}f&&G(),e.traverse((function(element){Ue({Image:function(element){var e=element.src();if(f){var t=element.bbox().size,n=r[e];t={width:Math.ceil(t.width*f/72),height:Math.ceil(t.height*f/72)},n&&(t.width=Math.max(n.width,t.width),t.height=Math.max(n.height,t.height)),r[e]=t}else r[e]=null},Text:function(element){var e=Ie(Ae(element.options.font));n.indexOf(e)<0&&n.push(e)}},element)}));var v=2;Y(n,m),K(r,m)}function Ve(e,t){Oe(e,(function(data){t("data:application/pdf;base64,"+data.base64())}))}function We(e,t){Oe(e,(function(data){t(new window.Blob([data.get()],{type:"application/pdf"}))}))}function Ue(e,element){var t=e[element.nodeType];return t?t.call.apply(t,arguments):element}function je(element,e,t){element.options._pdfDebug&&e.comment("BEGIN: "+element.options._pdfDebug);var n=element.transform(),r=element.opacity();if(e.save(),null!=r&&r<1&&e.setOpacity(r),function(element,e){var t=element.stroke&&element.stroke();if(t){var n=t.color;if(n){if(null==(n=nt(n)))return;e.setStrokeColor(n.r,n.g,n.b),1!=n.a&&e.setStrokeOpacity(n.a)}var r=t.width;if(null!=r){if(0===r)return;e.setLineWidth(r)}var o=t.dashType;o&&e.setDashPattern(Le[o],0);var l=t.lineCap;l&&e.setLineCap(He[l]);var c=t.lineJoin;c&&e.setLineJoin(Ne[c]);var h=t.opacity;null!=h&&e.setStrokeOpacity(h)}}(element,e),function(element,e){var t=element.fill&&element.fill();if(t&&!(t instanceof o.Gradient)){var n=t.color;if(n){if(null==(n=nt(n)))return;e.setFillColor(n.r,n.g,n.b),1!=n.a&&e.setFillOpacity(n.a)}var r=t.opacity;null!=r&&e.setFillOpacity(r)}}(element,e),n){var l=n.matrix();e.transform(l.a,l.b,l.c,l.d,l.e,l.f)}!function(element,e,t){var n=element.clip();n&&(Ye(n,e),e.clip())}(element,e),Ue({Path:Ke,MultiPath:Qe,Circle:Xe,Arc:Je,Text:Ze,Image:tt,Group:et,Rect:it},element,e,t),e.restore(),element.options._pdfDebug&&e.comment("END: "+element.options._pdfDebug)}function qe(e){return e&&(e instanceof o.Gradient||e.color&&!/^(none|transparent)$/i.test(e.color)&&(null==e.width||e.width>0)&&(null==e.opacity||e.opacity>0))}function Ge(element,e,t,n){var r=element.fill();if(r instanceof o.Gradient){n?e.clipStroke():e.clip();var l,c,h=r instanceof o.RadialGradient;h?(l={x:r.center().x,y:r.center().y,r:0},c={x:r.center().x,y:r.center().y,r:r.radius()}):(l={x:r.start().x,y:r.start().y},c={x:r.end().x,y:r.end().y});var d=r.stops.elements().map((function(e){var t=e.offset();t=/%$/.test(t)?parseFloat(t)/100:parseFloat(t);var n=nt(e.color());return n.a*=e.opacity(),{offset:t,color:n}}));d.unshift(d[0]),d.push(d[d.length-1]);var f={userSpace:r.userSpace(),type:h?"radial":"linear",start:l,end:c,stops:d},m=element.rawBBox(),v=m.topLeft(),_=m.getSize();return m={left:v.x,top:v.y,width:_.width,height:_.height},e.gradient(f,m),!0}}function $e(element,e,t){qe(element.fill())&&qe(element.stroke())?Ge(element,e,0,!0)||e.fillStroke():qe(element.fill())?Ge(element,e,0,!1)||e.fill():qe(element.stroke())?e.stroke():e.nop()}function Ye(element,e,t){var n=element.segments;if(0!==n.length&&!function(path,e){var t=path.segments;if(4==t.length&&path.options.closed){for(var a=[],i=0;i<t.length;++i){if(t[i].controlIn())return!1;a[i]=t[i].anchor()}if(a[0].y==a[1].y&&a[1].x==a[2].x&&a[2].y==a[3].y&&a[3].x==a[0].x||a[0].x==a[1].x&&a[1].y==a[2].y&&a[2].x==a[3].x&&a[3].y==a[0].y)return e.rect(a[0].x,a[0].y,a[2].x-a[0].x,a[2].y-a[0].y),!0}}(element,e)){for(var r,i=0;i<n.length;++i){var o=n[i],l=o.anchor();if(r){var c=r.controlOut(),h=o.controlIn();c&&h?e.bezier(c.x,c.y,h.x,h.y,l.x,l.y):e.lineTo(l.x,l.y)}else e.moveTo(l.x,l.y);r=o}element.options.closed&&e.close()}}function Ke(element,e,t){Ye(element,e),$e(element,e)}function Qe(element,e,t){for(var n=element.paths,i=0;i<n.length;++i)Ye(n[i],e);$e(element,e)}function Xe(element,e,t){var g=element.geometry();e.circle(g.center.x,g.center.y,g.radius),$e(element,e)}function Je(element,e,t){var n=element.geometry().curvePoints();e.moveTo(n[0].x,n[0].y);for(var i=1;i<n.length;)e.bezier(n[i].x,n[i++].y,n[i].x,n[i++].y,n[i].x,n[i++].y);$e(element,e)}function Ze(element,e){var t,style=Ae(element.options.font),n=element._position;element.fill()&&element.stroke()?t=Be.fillAndStroke:element.fill()?t=Be.fill:element.stroke()&&(t=Be.stroke),e.transform(1,0,0,-1,n.x,n.y+style.fontSize),e.beginText(),e.setFont(Ie(style),style.fontSize),e.setTextRenderingMode(t),e.showText(element.content(),element._pdfRect?element._pdfRect.width():null),e.endText()}function et(element,e,t){element._pdfLink&&e.addLink(element._pdfLink.url,element._pdfLink);for(var n=element.children,i=0;i<n.length;++i)je(n[i],e,t)}function tt(element,e){var t=element.src();if(t){var rect=element.rect(),n=rect.getOrigin(),r=rect.getSize();e.transform(r.width,0,0,-r.height,n.x,n.y+r.height),e.drawImage(t)}}function it(element,e,t){var n=element.geometry();e.rect(n.origin.x,n.origin.y,n.size.width,n.size.height),$e(element,e)}function nt(t){var n=e.parseColor(t,!0);return n?n.toRGB():null}e.deepExtend(e.pdf,{Document:W,BinaryStream:f,defineFont:function e(t,n){if(1==arguments.length)for(var i in t)J(t,i)&&e(i,t[i]);else switch(t=t.toLowerCase(),Me[t]=n,t){case"dejavu sans":Me["sans-serif"]=n;break;case"dejavu sans|bold":Me["sans-serif|bold"]=n;break;case"dejavu sans|italic":Me["sans-serif|italic"]=n;break;case"dejavu sans|bold|italic":Me["sans-serif|bold|italic"]=n;break;case"dejavu serif":Me.serif=n;break;case"dejavu serif|bold":Me["serif|bold"]=n;break;case"dejavu serif|italic":Me["serif|italic"]=n;break;case"dejavu serif|bold|italic":Me["serif|bold|italic"]=n;break;case"dejavu mono":Me.monospace=n;break;case"dejavu mono|bold":Me["monospace|bold"]=n;break;case"dejavu mono|italic":Me["monospace|italic"]=n;break;case"dejavu mono|bold|italic":Me["monospace|bold|italic"]=n}},parseFontDef:Ae,getFontURL:Ie,loadFonts:Y,loadImages:K,getPaperOptions:V,clearImageCache:G,TEXT_RENDERING_MODE:ze,exportPDF:function(e,t){var n=l.createPromise();for(var i in t)"margin"==i&&e.options.pdf&&e.options.pdf._ignoreMargin||e.options.set("pdf."+i,t[i]);return Ve(e,n.resolve),n},exportPDFToBlob:function(e,t){var r=l.createPromise();for(var i in t)"margin"==i&&e.options.pdf&&e.options.pdf._ignoreMargin||e.options.set("pdf."+i,t[i]);return window.Blob&&!n.safari?We(e,r.resolve):Ve(e,r.resolve),r},saveAs:function(t,r,o,l){window.Blob&&!n.safari?We(t,(function(t){e.saveAs({dataURI:t,fileName:r}),l&&l(t)})):Ve(t,(function(t){e.saveAs({dataURI:t,fileName:r,proxyURL:o}),l&&l(t)}))},toDataURL:Ve,toBlob:We,render:Oe}),e.drawing.exportPDF=e.pdf.exportPDF,e.drawing.pdf=e.pdf}(kendo),kendo})?r.apply(t,o):r)||(e.exports=l)},1477:function(e,t){e.exports=n(296)},1478:function(e,t){e.exports=n(7)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1292)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1062:function(e,t){e.exports=n(5)},1292:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n._outerWidth,o=n._outerHeight,l=n.getOffset,c=n.ui.Widget;function h(t,n){t=e(t),n?t.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"):t.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")}var d=c.extend({init:function(element,t){var d,f=this,m=n.guid()+"-reorderable";c.fn.init.call(f,element,t),element=f.element.addClass("k-reorderable"),t=f.options,f.draggable=d=t.draggable||new n.ui.Draggable(element,{group:m,autoScroll:!0,filter:t.filter,hint:t.hint}),f.reorderDropCue=e('<div class="k-reorder-cue"></div></div>'),element.find(d.options.filter).kendoDropTarget({group:d.options.group,dragenter:function(e){if(f._draggable){var n,c=this.element,d=!f._dropTargetAllowed(c)||f._isLastDraggable();if(h(e.draggable.hint,d),!d){var m=(n=l(c)).left;t.inSameContainer&&!t.inSameContainer({source:c,target:f._draggable,sourceIndex:f._index(c),targetIndex:f._index(f._draggable)})?f._dropTarget=c:f._index(c)>f._index(f._draggable)&&(m+=r(c)),f.reorderDropCue.css({height:o(c),top:n.top,left:m}).appendTo(document.body)}}},dragleave:function(e){h(e.draggable.hint,!0),f.reorderDropCue.remove(),f._dropTarget=null},drop:function(){if(f._dropTarget=null,f._draggable){var e=this.element,t=f._draggable;f._dropTargetAllowed(e)&&!f._isLastDraggable()&&f.trigger("change",{element:f._draggable,target:e,oldIndex:f._index(t),newIndex:f._index(e),position:l(f.reorderDropCue).left>l(e).left?"after":"before"})}}}),d.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){f.reorderDropCue.remove(),f._draggable=null,f._elements=null},dragend:function(){f.reorderDropCue.remove(),f._draggable=null,f._elements=null},dragstart:function(e){f._draggable=e.currentTarget,f._elements=f.element.find(f.draggable.options.filter)},drag:function(e){if(f._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-i-cancel")){var t=l(f._dropTarget).left,n=r(f._dropTarget);e.pageX>t+n/2?f.reorderDropCue.css({left:t+n}):f.reorderDropCue.css({left:t})}}})},options:{name:"Reorderable",filter:"*"},events:["change"],_isLastDraggable:function(){var e,t=this.options.inSameContainer,n=this._draggable[0],r=this._elements.get(),o=!1;if(!t)return!1;for(;!o&&r.length>0;)o=n!==(e=r.pop())&&t({source:n,target:e,sourceIndex:this._index(n),targetIndex:this._index(e)});return!o},_dropTargetAllowed:function(e){var t=this.options.inSameContainer,n=this.options.dragOverContainers,r=this._draggable;return r[0]!==e[0]&&(!t||!n||!!t({source:r,target:e,sourceIndex:this._index(r),targetIndex:this._index(e)})||n(this._index(r),this._index(e)))},_index:function(element){return this._elements.index(element)},destroy:function(){c.fn.destroy.call(this),this.element.find(this.draggable.options.filter).each((function(){var t=e(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()})),this.draggable&&(this.draggable.destroy(),this.draggable.element=this.draggable=null),this.elements=this.reorderDropCue=this._elements=this._draggable=null}});n.ui.plugin(d)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1043)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1039:function(e,t){e.exports=n(4)},1043:function(e,t,n){var r,o,l;n(3),o=[n(1039),n(1044),n(1045)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=e.proxy,l=e.extend,c=e.grep,map=e.map,h=e.inArray,d="k-state-selected",f="select",m="kendoPopup",v=".kendoColumnMenu",_=r.Widget;function w(text){return e.trim(text).replace(/&nbsp;/gi,"")}function y(e){for(var t=[],n=0;n<e.length;n++)e[n].columns?t=t.concat(y(e[n].columns)):t.push(e[n]);return t}var x=_.extend({init:function(element,t){var link;_.fn.init.call(this,element,t),element=this.element,t=this.options,this.owner=t.owner,this.dataSource=t.dataSource,this.field=element.attr(n.attr("field")),this.title=element.attr(n.attr("title")),(link=element.find(".k-header-column-menu"))[0]||(link=element.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#" title="'+t.messages.settings+'" aria-label="'+t.messages.settings+'"><span class="k-icon k-i-more-vertical"></span></a>').find(".k-header-column-menu")),this.link=link.attr("tabindex",-1).on("click"+v,o(this._click,this)),this.wrapper=e('<div class="k-column-menu"/>'),this._refreshHandler=o(this.refresh,this),this.dataSource.bind("change",this._refreshHandler)},_init:function(){var e=this;e.pane=e.options.pane,e.pane&&(e._isMobile=!0),e._isMobile?e._createMobileMenu():e._createMenu(),e.owner._muteAngularRebind((function(){e._angularItems("compile")})),e._sort(),e._columns(),e._filter(),e._lockColumns(),e.trigger("init",{field:e.field,container:e.wrapper})},events:["init","open","sort","filtering"],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",column:"Column",columns:"Columns",columnVisibility:"Column Visibility",clear:"Clear",cancel:"Cancel",done:"Done",settings:"Edit Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var e=this,t=e.options;e.wrapper.html(n.template(template)({uid:n.guid(),ns:n.ns,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns})),e.popup=e.wrapper[m]({anchor:e.link,open:o(e._open,e),activate:o(e._activate,e),deactivate:o(e._deactivate,e),close:function(){e.menu._closing=!0,e.options.closeCallback&&e.options.closeCallback(e.element)}}).data(m),e.menu=e.wrapper.children().kendoMenu({orientation:"vertical",closeOnClick:!1,open:function(){e._updateMenuItems()}}).data("kendoMenu")},_deactivate:function(){this.menu._closing=!1},_createMobileMenu:function(){var e=this,t=e.options,html=n.template(k)({ns:n.ns,field:e.field,title:e.title||e.field,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns});e.view=e.pane.append(html),e.view.state={columns:{}},e.wrapper=e.view.element.find(".k-column-menu"),e.menu=new C(e.wrapper.children(),{pane:e.pane,columnMenu:e}),e.menu.element.on("transitionend"+v,(function(e){e.stopPropagation()}));var r=e.view.wrapper&&e.view.wrapper[0]?e.view.wrapper:e.view.element;r.on("click",".k-header-done",(function(t){t.preventDefault(),e.menu._applyChanges(),e.menu._cancelChanges(!1),e.close()})),r.on("click",".k-header-cancel",(function(t){t.preventDefault(),e.menu._cancelChanges(!0),e.close()})),e.view.bind("showStart",(function(){var view=e.view||{columns:{}};e.options.lockedColumns&&e._updateLockedColumns(),view.element.find(".k-sort-asc.k-state-selected").length?view.state.initialSort="asc":view.element.find(".k-sort-desc.k-state-selected").length&&(view.state.initialSort="desc")}))},_angularItems:function(t){var r=this;r.angular(t,(function(){return{elements:r.wrapper.find(".k-columns-item input["+n.attr("field")+"]").map((function(){return e(this).closest("li")})),data:map(r._ownerColumns(),(function(col){return{column:col._originalObject}}))}}))},destroy:function(){this._angularItems("cleanup"),_.fn.destroy.call(this),this.filterMenu&&this.filterMenu.destroy(),this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler),this.options.columns&&this.owner&&(this._updateColumnsMenuHandler&&(this.owner.unbind("columnShow",this._updateColumnsMenuHandler),this.owner.unbind("columnHide",this._updateColumnsMenuHandler)),this._updateColumnsLockedStateHandler&&(this.owner.unbind("columnLock",this._updateColumnsLockedStateHandler),this.owner.unbind("columnUnlock",this._updateColumnsLockedStateHandler))),this.menu&&(this.menu.element.off(v),this.menu.destroy()),this.wrapper.off(v),this.popup&&this.popup.destroy(),this.view&&this.view.purge(),this.link.off(v),this.owner=null,this.wrapper=null,this.element=null},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+v))},_click:function(e){e.preventDefault(),e.stopPropagation();var t=this.options;t.filter&&this.element.is(!t.filter)||(this.popup||this.pane?this._updateMenuItems():this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_updateMenuItems:function(){this._setMenuItemsVisibility(),this._reorderMenuItems()},_setMenuItemsVisibility:function(){this._eachRenderedMenuItem((function(e,t,n){!1===t.matchesMedia?n.hide():n.show()}))},_reorderMenuItems:function(){this._eachRenderedMenuItem((function(e,t,n,r){n[0]&&n.index()!==e&&function(e,element,t){e>0?element.insertAfter(t.children().eq(e-1)):t.prepend(element)}(e,n,r)}))},_eachRenderedMenuItem:function(t){for(var r,o,l,h,d,f,m,v=c(y(this.owner.columns),(function(col){var e=!0,title=w(col.title||"");return!1!==col.menu&&(col.field||title.length)||(e=!1),e})).map((function(col){return{field:col.field,title:col.title,matchesMedia:col.matchesMedia}})),_=this._isMobile&&this.view?e(this.view.element).find(".k-columns-item").children("ul"):e(this.wrapper).find(".k-menu-group").first(),x=function(t,n,r){return t.find(n).filter((function(){return k(v[r],e(this).text())}))},k=function(e,text){return C(e,text)},C=function(e,t){return e.title?t===e.title:t===e.field},S=function(e){return c(v,(function(col){return JSON.stringify(v[e])==JSON.stringify(col)}))},i=0;i<v.length;i++)d=v[i],o=S(i),l=e.inArray(d,o),r=x(_,"span",i),r=this._isMobile?r.next():r,h=d.field?d.field:d.title,t(i,d,r=r.find((f="field",m=h,"["+n.attr(f)+"='"+(m||"").replace(/'/g,'"')+"']")).closest("li").eq(l),_)},_open:function(){var t=this;e(".k-column-menu").not(t.wrapper).each((function(){e(this).data(m).close()})),t.popup.element.on("keydown"+v,(function(e){e.keyCode==n.keys.ESC&&t.close()})),t.options.lockedColumns&&t._updateLockedColumns()},_activate:function(){this.menu.element.focus(),this.trigger("open",{field:this.field,container:this.wrapper})},_ownerColumns:function(){var e=y(this.owner.columns),t=c(e,(function(col){var e=!0,title=w(col.title||"");return!1!==col.menu&&(col.field||title.length)||(e=!1),e}));return map(t,(function(col){return{originalField:col.field,field:col.field||col.title,title:col.title||col.field,hidden:col.hidden,matchesMedia:col.matchesMedia,index:h(col,e),locked:!!col.locked,_originalObject:col}}))},_sort:function(){var t=this;t.options.sortable&&(t.refresh(),t.menu.bind(f,(function(n){var r,o=e(n.item);o.hasClass("k-sort-asc")?r="asc":o.hasClass("k-sort-desc")&&(r="desc"),r&&(o.parent().find(".k-sort-"+("asc"==r?"desc":"asc")).removeClass(d),t._sortDataSource(o,r),t._isMobile||t.close())})))},_sortDataSource:function(e,t){var n,r,o=this.options.sortable,l=null===o.compare?void 0:o.compare,c=this.dataSource,h=c.sort()||[],f=e.hasClass(d)&&o&&!1!==o.allowUnsort;if(t=f?void 0:t,!this.trigger("sort",{sort:{field:this.field,dir:t,compare:l}})){if(f?e.removeClass(d):e.addClass(d),"multiple"===o.mode){for(n=0,r=h.length;n<r;n++)if(h[n].field===this.field){h.splice(n,1);break}h.push({field:this.field,dir:t,compare:l})}else h=[{field:this.field,dir:t,compare:l}];c.sort(h)}},_columns:function(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t._updateColumnsMenuHandler=o(t._updateColumnsMenu,t),t.owner.bind(["columnHide","columnShow"],t._updateColumnsMenuHandler),t._updateColumnsLockedStateHandler=o(t._updateColumnsLockedState,t),t.owner.bind(["columnUnlock","columnLock"],t._updateColumnsLockedStateHandler),t.menu.bind(f,(function(n){var r,o=e(n.item),l=c(y(t.owner.columns),(function(col){var e=!0,title=w(col.title||"");return!1!==col.menu&&(col.field||title.length)||(e=!1),e}));t._isMobile&&n.preventDefault(),o.parent().closest("li.k-columns-item")[0]&&(o.find(":checkbox").attr("disabled")||(!0===(r=l[o.index()]).hidden?t.owner.showColumn(r):t.owner.hideColumn(r)))})))},_updateColumnsMenu:function(){var e,t,r,o,l,h=n.attr("field"),d=n.attr("locked"),f=c(y(this.owner.columns),(function(col){var e=!0,title=w(col.title||"");return!1!==col.menu&&(col.field||title.length)||(e=!1),e})),m=c(this._ownerColumns(),(function(e){return!e.hidden&&!1!==e.matchesMedia})),v=c(m,(function(e){return e.originalField})),_=c(v,(function(col){return!0===col.locked})).length,x=c(v,(function(col){return!0!==col.locked})).length,k=c(this.owner.columns,(function(col){return!1===col.menu})),C=c(k,(function(col){return col.hidden}));this.wrapper.find("[role='menuitemcheckbox']").attr("aria-checked",!1);var S,T=this.wrapper.find(".k-columns-item input["+h+"]").prop("disabled",!1).prop("checked",!1);for(e=0,t=T.length;e<t;e++)l="true"===(r=T.eq(e)).attr(d),S=r.data("kendoSwitch"),o=!f[e].hidden&&!1!==f[e].matchesMedia,r.prop("checked",o),S&&(S.enable(!0),S.check(o)),r.closest("[role='menuitemcheckbox']").attr("aria-checked",o),o&&(1==_&&l&&(r.prop("disabled",!0),S&&S.enable(!1)),0!==k.length&&k.length!==C.length||1!=x||l||(r.prop("disabled",!0),S&&S.enable(!1)))},_updateColumnsLockedState:function(){var e,t,r,o,l=n.attr("field"),c=n.attr("locked"),h=function(e,t){var n,r,o,l={};for(n=0,r=e.length;n<r;n++)l[(o=e[n])[t]]=o;return l}(this._ownerColumns(),"field"),d=this.wrapper.find(".k-columns-item input[type=checkbox]");for(e=0,t=d.length;e<t;e++)(o=h[(r=d.eq(e)).attr(l)])&&r.attr(c,o.locked);this._updateColumnsMenu()},_filter:function(){var t=this,n="kendoFilterMenu",r=t.options;!1!==r.filterable&&(r.filterable.multi&&(n="kendoFilterMultiCheck",r.filterable.dataSource&&(r.filterable.checkSource=r.filterable.dataSource,delete r.filterable.dataSource)),t.filterMenu=t.wrapper.find(".k-filterable")[n](l(!0,{},{appendToElement:!0,dataSource:r.dataSource,values:r.values,field:t.field,title:t.title,change:function(e){t.trigger("filtering",{filter:e.filter,field:e.field})&&e.preventDefault()}},r.filterable)).data(n),t._isMobile&&t.menu.bind(f,(function(n){e(n.item).hasClass("k-filter-item")&&t.pane.navigate(t.filterMenu.view,t.options.animations.left)})))},_lockColumns:function(){var t=this;t.menu.bind(f,(function(n){var r=e(n.item);r.hasClass("k-lock")?(t.owner.lockColumn(t.field),t._isMobile||t.close()):r.hasClass("k-unlock")&&(t.owner.unlockColumn(t.field),t._isMobile||t.close())}))},_updateLockedColumns:function(){var e=this.field,t=this.owner.columns,n=c(t,(function(t){return t.field==e||t.title==e}))[0];if(n){var r=!0===n.locked,o=c(t,(function(e){return!e.hidden&&(e.locked&&r||!e.locked&&!r)})).length,l=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),h=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");(r||1==o)&&l.addClass("k-state-disabled"),r&&1!=o||h.addClass("k-state-disabled"),this._updateColumnsLockedState()}},refresh:function(){var e,t,n,r=this.options.dataSource.sort()||[],o=this.field;for(this.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(d),t=0,n=r.length;t<n;t++)o==(e=r[t]).field&&this.wrapper.find(".k-sort-"+e.dir).addClass(d);this.link[this._filterExist(this.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(e){var filter,t=!1;if(e){for(var n=0,r=(e=e.filters).length;n<r;n++)(filter=e[n]).field==this.field?t=!0:filter.filters&&(t=t||this._filterExist(filter));return t}}}),template='<ul id="#=uid#">#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator" role="presentation"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li role="menuitemcheckbox" aria-checked="false" #=columns[idx].matchesMedia === false ? "style=\'display:none;\'" : ""#><input type="checkbox" title="#=columns[idx].title#" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(filterable){#<li class="k-item k-filter-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',k='<div data-#=ns#role="view" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>${messages.settings}<a href="\\#" class="k-header-done k-link" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-list-title">#=messages.column#: ${title}</span><ul>#if(sortable){#<li id="#=kendo.guid()#" class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span><span class="k-item-title">${messages.sortAscending}</span></span></li><li id="#=kendo.guid()#" class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span><span class="k-item-title">${messages.sortDescending}</span></span></li>#}##if(lockedColumns){#<li id="#=kendo.guid()#" class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span><span class="k-item-title">${messages.lock}</span></span></li><li id="#=kendo.guid()#" class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span><span class="k-item-title">${messages.unlock}</span></span></li>#}##if(filterable){#<li id="#=kendo.guid()#" class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-icon k-i-filter"></span><span class="k-item-title">${messages.filter}</span></span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-list-title">${messages.columnVisibility}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li id="#=kendo.guid()#" class="k-item"><span class="k-item-title">#=columns[idx].title#</span><input type="checkbox" title="#=columns[idx].title#"  data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/></li>#}#</ul></li>#}#<li class="k-item k-clear-wrap"><span class="k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">#=messages.clear#</span></li></ul></div></div>',C=_.extend({init:function(element,e){_.fn.init.call(this,element,e),this._createCheckBoxes(),this.element.on("click"+v,"li.k-item:not(.k-separator):not(.k-state-disabled):not(:has(.k-switch))","_click")},events:[f],_click:function(t){if(e(t.target).is("[type=checkbox]")||t.preventDefault(),!e(t.target).hasClass("k-clear"))return e(t.target).hasClass("k-filterable")?(this._cancelChanges(!0),void this.trigger(f,{item:t.currentTarget})):void this._updateSelectedItems(t.currentTarget);this._cancelChanges(!0)},_updateSelectedItems:function(t){var n,r,o,l=e(t),c=this.options.columnMenu.view.state||{columns:{}},h=l.prop("id");l.hasClass("k-filter-item")||(c[h]?c[h]=!1:c[h]=!0,(l.hasClass("k-sort-asc")||l.hasClass("k-sort-desc"))&&(l.hasClass("k-sort-asc")?(n="asc",r=this.element.find(".k-sort-desc")):(n="desc",r=this.element.find(".k-sort-asc")),o=r.prop("id"),n!==c.initialSort||l.hasClass("k-state-selected")||(c[h]=!1),c[o]&&(c[o]=!1),r.removeClass(d)),l.hasClass(d)?l.removeClass(d):l.addClass(d))},_cancelChanges:function(e){var menu=this.options.columnMenu,view=menu.view,t=(view.state||{columns:{}}).columns;if(this.element.find("."+d).removeClass(d),menu.refresh(),e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&!0===t[r]){var o=view.element.find("#"+r);n.push(o[0])}for(var i=n.length-1;i>=0;i--)this.trigger(f,{item:n[i]});menu.options.lockedColumns&&menu._updateLockedColumns()}this.options.columnMenu.view.state={columns:{}}},_applyChanges:function(){var view=this.options.columnMenu.view,e=view.state||{columns:{}};for(var t in e)if(e.hasOwnProperty(t)&&"initialSort"!==t&&"columns"!==t&&!0===e[t]){var n=view.element.find("#"+t);n.hasClass(d)?n.removeClass(d):n.addClass(d),this.trigger(f,{item:n[0]})}},_createCheckBoxes:function(){var e=this;e.element.find(".k-columns-item").find("[type='checkbox']").kendoSwitch({messages:{checked:"",unchecked:""},change:function(t){var n=t.sender.element.closest(".k-item"),r=e.options.columnMenu.view.state||{columns:{}},o=n.prop("id");r.columns[o]?r.columns[o]=!1:r.columns[o]=!0,e.trigger(f,{item:n})}})},_destroyCheckBoxes:function(){for(var e,t=this.element.find(".k-columns-item").find("[type='checkbox']"),i=0;i<t.length;i++)(e=t.eq(i).data("kendoSwitch"))&&e.destroy()},close:function(){this.options.pane.navigate("")},destroy:function(){_.fn.destroy.call(this),this.element.off(v),this._destroyCheckBoxes()}});r.plugin(x)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1044:function(e,t){e.exports=n(131)},1045:function(e,t){e.exports=n(92)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1215)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1062:function(e,t){e.exports=n(5)},1215:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=n._outerWidth,l=n.attr,c=e.extend,h=e.each,d=e.proxy,f=!1,m=".kendoGroupable",v=n.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-i-sort-${(data.dir || "asc") == "asc" ? "asc-sm" : "desc-sm"}" title="(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})"></span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-bare"><span class="k-icon k-i-close"></span></a></div>',{useWithBlock:!1}),_=function(t){var title=t.attr(n.attr("title"));return title&&(title=n.htmlEncode(title)),e('<div class="k-header k-group-clue k-drag-clue" />').html(title||t.attr(n.attr("field"))).prepend('<span class="k-icon k-drag-status k-i-cancel" />')},w=e('<div class="k-grouping-dropclue"/>'),y=r.extend({init:function(element,t){var h,v,y=this,x=n.guid(),k=d(y._intializePositions,y),C=y._dropCuePositions=[];r.fn.init.call(y,element,t),f=n.support.isRtl(element),v=f?"right":"left",y.draggable=h=y.options.draggable||new n.ui.Draggable(y.element,{filter:y.options.draggableElements,hint:_,group:x}),y.groupContainer=e(y.options.groupContainer,y.element).kendoDropTarget({group:h.options.group,dragenter:function(e){y._canDrag(e.draggable.currentTarget)&&(e.draggable.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus"),w.css(v,0).appendTo(y.groupContainer))},dragleave:function(e){e.draggable.hint.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"),w.remove()},drop:function(t){var r,o=t.draggable.currentTarget,l=o.attr(n.attr("field")),title=o.attr(n.attr("title")),h=y.indicator(l),d=y._dropCuePositions,m=d[d.length-1],v=c({},y.options.sort,o.data("group-sort")),_=v.dir;(o.hasClass("k-group-indicator")||y._canDrag(o))&&(m?(r=y._dropCuePosition(n.getOffset(w).left+parseInt(m.element.css("marginLeft"),10)*(f?-1:1)+parseInt(m.element.css("marginRight"),10)))&&y._canDrop(e(h),r.element,r.left)&&(r.before?r.element.before(h||y.buildIndicator(l,title,_)):r.element.after(h||y.buildIndicator(l,title,_)),y._setIndicatorSortOptions(l,v),y._change()):(y.groupContainer.empty(),y.groupContainer.append(y.buildIndicator(l,title,_)),y._setIndicatorSortOptions(l,v),y._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:_,group:h.options.group,dragcancel:d(y._dragCancel,y),dragstart:function(e){var element=e.currentTarget,t=parseInt(element.css("marginLeft"),10),n=element.position(),r=f?n.left-t:n.left+o(element);k(),w.css("left",r).appendTo(y.groupContainer),this.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")},dragend:function(){y._dragEnd(this)},drag:d(y._drag,y)}).on("click"+m,".k-button",(function(t){t.preventDefault(),y._removeIndicator(e(this).parent())})).on("click"+m,".k-link",(function(t){var n=e(this).parent(),r="asc"===n.attr(l("dir"))?"desc":"asc";n.attr(l("dir"),r),y._change(),t.preventDefault()})),h.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){y._dragEnd(this)},dragcancel:d(y._dragCancel,y),dragstart:function(e){var element;y.options.allowDrag||y._canDrag(e.currentTarget)?(k(),C.length&&(element=C[C.length-1].element,parseInt(element.css("marginRight"),10),element.position().left,o(element))):e.preventDefault()},drag:d(y._drag,y)}),y.dataSource=y.options.dataSource,y.dataSource&&y._refreshHandler?y.dataSource.unbind("change",y._refreshHandler):y._refreshHandler=d(y.refresh,y),y.dataSource&&(y.dataSource.bind("change",y._refreshHandler),y.refresh())},refresh:function(){var t,n=this,r=n.dataSource.group()||[],o=l("field"),d=l("title");n.groupContainer&&(n.groupContainer.empty(),h(r,(function(r,l){var h=l.field,f=l.dir,element=n.element.find(n.options.filter).filter((function(){return e(this).attr(o)===h}));t=n.buildIndicator(h,element.attr(d),f),n.groupContainer.append(t),n._setIndicatorSortOptions(h,c({},n.options.sort,{dir:f,compare:l.compare}))}))),n._invalidateGroupContainer()},destroy:function(){r.fn.destroy.call(this),this.groupContainer.off(m),this.groupContainer.data("kendoDropTarget")&&this.groupContainer.data("kendoDropTarget").destroy(),this.groupContainer.data("kendoDraggable")&&this.groupContainer.data("kendoDraggable").destroy(),this.options.draggable||this.draggable.destroy(),this.dataSource&&this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=null),this.groupContainer=this.element=this.draggable=null},events:["change"],options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"},sort:{dir:"asc",compare:null}},indicator:function(t){var r=e(".k-group-indicator",this.groupContainer);return e.grep(r,(function(r){return e(r).attr(n.attr("field"))===t}))[0]},buildIndicator:function(e,title,t){return v({ns:n.ns,field:e.replace(/"/g,"'"),title:title,dir:t||(this.options.sort||{}).dir||"asc"})},_setIndicatorSortOptions:function(t,n){e(this.indicator(t)).data("group-sort",n)},aggregates:function(){var t,r,o;return this.element.find(this.options.filter).map((function(){var l=e(this),c=l.attr(n.attr("aggregates")),h=l.attr(n.attr("field"));if(c&&""!==c)for(t=c.split(","),c=[],r=0,o=t.length;r<o;r++)c.push({field:h,aggregate:t[r]});return c})).toArray()},descriptors:function(){var t,r=this,o=e(".k-group-indicator",r.groupContainer),l=r.aggregates();return e.map(o,(function(o){o=e(o),t=o.attr(n.attr("field"));var c=r.options.sort||{},h=o.data("group-sort")||{};return{field:t,dir:o.attr(n.attr("dir")),aggregates:l||[],compare:h.compare||c.compare}}))},_removeIndicator:function(e){e.off(),e.removeData(),e.remove(),this._invalidateGroupContainer(),this._change()},_change:function(){if(this.dataSource){var e=this.descriptors();if(this.trigger("change",{groups:e}))return void this.refresh();this.dataSource.group(e)}},_dropCuePosition:function(t){var n=this._dropCuePositions;if(w.is(":visible")&&0!==n.length){t=Math.ceil(t);var r=n[n.length-1],l=r.left,c=r.right,h=parseInt(r.element.css("marginLeft"),10),d=parseInt(r.element.css("marginRight"),10);return t>=c&&!f||t<l&&f?t={left:r.element.position().left+(f?-h:o(r.element)+d),element:r.element,before:!1}:(t=e.grep(n,(function(e){return e.left<=t&&t<=e.right||f&&t>e.right}))[0])&&(t={left:f?t.element.position().left+o(t.element)+d:t.element.position().left-h,element:t.element,before:!0}),t}},_drag:function(e){var t=this._dropCuePosition(e.x.location);t&&w.css({left:t.left,right:"auto"})},_canDrag:function(element){var e=element.attr(n.attr("field"));return"false"!=element.attr(n.attr("groupable"))&&e&&(element.hasClass("k-group-indicator")||!this.indicator(e))},_canDrop:function(source,e,t){var n=source.next();return source[0]!==e[0]&&(!n[0]||e[0]!==n[0]||!f&&t>n.position().left||f&&t<n.position().left)},_dragEnd:function(t){var r=t.currentTarget.attr(n.attr("field")),o=this.indicator(r);t!==this.options.draggable&&!t.dropped&&o&&this._removeIndicator(e(o)),this._dragCancel()},_dragCancel:function(){w.remove(),this._dropCuePositions=[]},_intializePositions:function(){var t,r=e(".k-group-indicator",this.groupContainer);this._dropCuePositions=e.map(r,(function(r){return r=e(r),t=n.getOffset(r).left,{left:parseInt(t,10),right:parseInt(t+o(r),10),element:r}}))},_invalidateGroupContainer:function(){var e=this.groupContainer;e&&e.is(":empty")&&e.html(this.options.messages.empty)}});n.ui.plugin(y)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(995),e.exports=n(995)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},5:function(e,t){e.exports=n(3)},19:function(e,t){e.exports=n(0)},995:function(e,t,n){var r,o,l;n(3),o=[n(19),n(5),n(996)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=t.excel.ExcelExporter,r=e.extend;t.excel.TemplateService.register({compile:t.template}),t.ExcelExporter=t.Class.extend({init:function(e){this.options=e;var n=e.dataSource;if(n instanceof t.data.DataSource){n.filter()||(n.options.filter=void 0),this.dataSource=new n.constructor(r({},n.options,{page:e.allPages?0:n.page(),filter:n.filter(),pageSize:e.allPages?n.total():n.pageSize()||n.total(),sort:n.sort(),group:n.group(),aggregate:n.aggregate()}));var data=n.data();if(data.length>0){if(e.hierarchy)for(var i=0;i<data.length;i++)!1!==data[i].expanded&&void 0!==data[i].expanded||(data[i].expanded=!0);this.dataSource._data=data;var o=this.dataSource.transport;n._isServerGrouped()&&o.options&&o.options.data&&(o.options.data=null)}}else this.dataSource=t.data.DataSource.create(n)},_hierarchy:function(){var e=this.options.hierarchy,t=this.dataSource;if(e&&t.level){e={itemLevel:function(e){return t.level(e)}};for(var n,view=t.view(),r=0,o=0;o<view.length;o++)(n=t.level(view[o]))>r&&(r=n);e.depth=r+1}else e=!1;return{hierarchy:e}},workbook:function(){return e.Deferred(e.proxy((function(t){this.dataSource.fetch().then(e.proxy((function(){var e=new n(r({},this.options,this._hierarchy(),{data:this.dataSource.view(),groups:this.dataSource.group(),aggregates:this.dataSource.aggregates()})).workbook();t.resolve(e,this.dataSource.view())}),this))}),this)).promise()}})}(kendo.jQuery,kendo),kendo})?r.apply(t,o):r)||(e.exports=l)},996:function(e,t){e.exports=n(301)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1271)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1059:function(e,t){e.exports=n(66)},1271:function(e,t,n){var r,o,l;n(3),o=[n(1059)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.roleSelector,o=n.ui,l=o.Widget,c=n.ViewEngine,h=n.View,d=e.extend,f=n.support.mobileOS,m=f.ios&&!f.appMode&&f.flatVersion>=700,v="k-pane",_="k-pane-wrapper",w="k-collapsible-pane",y="k-vertical",x=l.extend({init:function(element,e){var t=this;l.fn.init.call(t,element,e),e=t.options,(element=t.element).addClass(v),t.options.collapsible&&element.addClass(w),this.history=[],this.historyCallback=function(e,n,r){var o=t.transition;return t.transition=null,m&&r&&(o="none"),t.viewEngine.showView(e,o,n)},this._historyNavigate=function(e){if("#:back"===e){if(1===t.history.length)return;t.history.pop(),e=t.history[t.history.length-1]}else e instanceof h&&(e=""),t.history.push(e);t.historyCallback(e,n.parseQueryStringParams(e))},this._historyReplace=function(e){var r=n.parseQueryStringParams(e);t.history[t.history.length-1]=e,t.historyCallback(e,r)},t.viewEngine=new c(d({},{container:element,transition:e.transition,modelScope:e.modelScope,rootNeeded:!e.initial,serverNavigation:e.serverNavigation,remoteViewURLPrefix:e.root||"",layout:e.layout,$angular:e.$angular,showStart:function(){t.closeActiveDialogs()},after:function(){},viewShow:function(e){t.trigger("viewShow",e)},loadStart:function(){},loadComplete:function(){},sameViewRequested:function(){t.trigger("sameViewRequested")},viewTypeDetermined:function(e){e.remote&&t.options.serverNavigation||t.trigger("navigate",{url:e.url})}},this.options.viewEngine)),this._setPortraitWidth(),n.onResize((function(){t._setPortraitWidth()}))},closeActiveDialogs:function(){this.element.find(r("actionsheet popover modalview")).filter(":visible").each((function(){n.widgetInstance(e(this),o).close()}))},navigateToInitial:function(){var e=this.options.initial;return e&&this.navigate(e),e},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window},events:["navigate","viewShow","sameViewRequested"],append:function(html){return this.viewEngine.append(html)},destroy:function(){l.fn.destroy.call(this),this.viewEngine&&this.viewEngine.destroy()},navigate:function(e,t){e instanceof h&&(e=e.id),this.transition=t,this._historyNavigate(e)},replace:function(e,t){e instanceof h&&(e=e.id),this.transition=t,this._historyReplace(e)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var e,t=this.options.portraitWidth;t&&(e=n.mobile.application.element.is("."+y)?t:"auto",this.element.css("width",e))}});x.wrap=function(element,e){element.is(r("view"))||(element=element.wrap("<div data-"+n.ns+'role="view" data-stretch="true"></div>').parent());var t=element.wrap('<div class="'+_+' k-widget"><div></div></div>').parent(),o=new x(t,e);return o.navigate(""),o},n.Pane=x}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1288)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1004:function(e,t){e.exports=n(25)},1016:function(e,t){e.exports=n(3)},1288:function(e,t,n){var r,o,l;n(3),o=[n(1004),n(1016)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.Class,l=r.Widget,c=n.data.DataSource,h=n._outerWidth,d=n._outerHeight,f={}.toString,m=function(e){return e},map=e.map,v=e.extend,_=n.isFunction,w="Measures",y="<div/>",x=".kendoPivotGrid",k="<span>#: data.member.caption || data.member.name #</span>";function C(e){var n="string"==typeof e?[{name:e}]:e,r="[object Array]"===f.call(n)?n:n!==t?[n]:[];return map(r,(function(e){return"string"==typeof e?{name:e}:{name:e.name,type:e.type}}))}function S(e){var n="string"==typeof e?[{name:[e],expand:!1}]:e,r="[object Array]"===f.call(n)?n:n!==t?[n]:[];return map(r,(function(e){return"string"==typeof e?{name:[e],expand:!1}:{name:"[object Array]"===f.call(e.name)?e.name.slice():[e.name],expand:e.expand}}))}function T(e){return-1!==e.indexOf(" ")&&(e='["'+e+'"]'),e}function D(t){var r={};t.length&&function e(t,r,o,l){var c,h,d,f;if(o||(o=r),l||(l=0),(f=o.members[l])&&!f.measure){if(h=(d=f.children).length,o===r?t[n.stringify([f.name])]=!!h:h&&(t[n.stringify(ye(o,l))]=!0),h)for(c=0;c<h;c++)e(t,r,d[c],l);e(t,r,o,l+1)}}(r,t[0]);var o=[];for(var l in r)o.push({name:e.parseJSON(l),expand:r[l]});return o}function E(e,t,n){(function(e,t){var n=(t.tuples||[])[0];if(n&&e.length<n.members.length)for(var r=n.members,o=0;o<r.length;o++)if(!r[o].measure){for(var l=!1,c=0;c<e.length;c++)if(0===te(e[c]).indexOf(r[o].hierarchy)){l=!0;break}l||e.push({name:[r[o].name],expand:!1})}})(t,e=e||{}),n.length>1&&t.push({name:w,measure:!0,children:S(n)});var r={members:t};if(e.tuples){var o=j(e.tuples,r);o.tuple&&(t=function(e){for(var t=[],n=e.members,r=0;r<n.length;r++)n[r].measure||t.push({name:[n[r].name],expand:n[r].children.length>0});return t}(o.tuple))}return t}function A(e){var t=n.getter(e.field,!0);return function(n,r){return e.aggregate(t(n.dataItem),r,n)}}function I(e){return"number"==typeof e&&!isNaN(e)}function M(e){return e&&e.getTime}var R={sum:function(e,t){var n=t.accumulator;return I(n)?I(e)&&(n+=e):n=e,n},count:function(e,t){return(t.accumulator||0)+1},average:{aggregate:function(e,n){var r=n.accumulator;return n.count===t&&(n.count=0),I(r)?I(e)&&(r+=e):r=e,I(e)&&n.count++,r},result:function(e){var t=e.accumulator;return I(t)&&(t/=e.count),t}},max:function(e,t){var n=t.accumulator;return I(n)||M(n)||(n=e),n<e&&(I(e)||M(e))&&(n=e),n},min:function(e,t){var n=t.accumulator;return I(n)||M(n)||(n=e),n>e&&(I(e)||M(e))&&(n=e),n}},F=o.extend({init:function(e){this.options=v({},this.options,e),this.dimensions=this._normalizeDescriptors("field",this.options.dimensions),this.measures=this._normalizeDescriptors("name",this.options.measures)},_normalizeDescriptors:function(e,t){t=t||{};var n,r={};if("[object Array]"===f.call(t)){for(var o=0,l=t.length;o<l;o++)"string"==typeof(n=t[o])?r[n]={}:n[e]&&(r[n[e]]=n);t=r}return t},_rootTuples:function(e,n){var r,o,l,c,h=n.length||1,d=this.dimensions||[],f=0,m=e.length,v=[],_=[];if(m||n.length){for(f=0;f<h;f++){for(r={members:[]},c=0;c<m;c++)l=(o=e[c]).split("&"),r.members[r.members.length]={children:[],caption:(d[o]||{}).caption||"All",name:o,levelName:o,levelNum:"0",hasChildren:!0,parentName:l.length>1?l[0]:t,hierarchy:o};h>1&&(r.members[r.members.length]={children:[],caption:n[f].caption,name:n[f].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:!1,parentName:t,hierarchy:"MEASURES"}),v[v.length]=r}_.push("__row_total__")}return{keys:_,tuples:v}},_expandedTuples:function(map,e,n){var r,o,l,c,h,d,f,m,v,_,w,y=n.length||1,x=this.dimensions||[],k=[],C=[];for(l in map){for(c=map[l],h=k[(f=this._findExpandedMember(e,c.uniquePath)).index]||[],d=C[f.index]||[],m=f.member.names,r=0;r<y;r++){for(o={members:[]},w=0;w<m.length;w++)w===f.member.expandedIdx?(o.members[o.members.length]={children:[],caption:c.value,name:c.name,hasChildren:!1,levelNum:1,levelName:c.parentName+c.name,parentName:c.parentName,hierarchy:c.parentName+c.name},0===r&&d.push(ye(o,w).join(""))):(v=(_=m[w]).split("&"),o.members[o.members.length]={children:[],caption:(x[_]||{}).caption||"All",name:_,levelName:_,levelNum:"0",hasChildren:!0,parentName:v.length>1?v[0]:t,hierarchy:_});y>1&&(o.members[o.members.length]={children:[],caption:n[r].caption,name:n[r].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:!0,parentName:t,hierarchy:"MEASURES"}),h[h.length]=o}k[f.index]=h,C[f.index]=d}return{keys:C,tuples:k}},_findExpandedMember:function(e,t){for(var n=0;n<e.length;n++)if(e[n].uniquePath===t)return{member:e[n],index:n}},_asTuples:function(map,e,t){t=t||[];var n=this._rootTuples(e.root,t),r=this._expandedTuples(map,e.expanded,t);return{keys:[].concat.apply(n.keys,r.keys),tuples:[].concat.apply(n.tuples,r.tuples)}},_measuresInfo:function(e,t){for(var n,r,o=0,l=e&&e.length,c=[],h={},d={},f=this.measures||{};o<l;o++)n=f[r=e[o].descriptor.name]||{},c.push(r),n.result&&(h[r]=n.result),n.format&&(d[r]=n.format);return{names:c,formats:d,resultFuncs:h,rowAxis:t}},_toDataArray:function(map,e,t,n){var r,o,i,l,c,h,d,f,m,v,_=[],w=1,y=[],x=t.length||1,k=n.length||1;for(e.rowAxis?w=(y=e.names).length:v=e.names,i=0;i<x;i++)for(d=map[t[i]||"__row_total__"],h=0;h<w;h++)for(e.rowAxis&&(v=[y[h]]),l=0;l<k;l++)for(m=n[l]||"__row_total__",f=d.items[m],r="__row_total__"===m?d.aggregates:f?f.aggregates:{},c=0;c<v.length;c++)o=v[c],this._addData(_,r[o],e.formats[o],e.resultFuncs[o]);return _},_addData:function(e,t,r,o){var l,c="";t&&(t=o?o(t):t.accumulator,c=r?n.format(r,t):t),e[l=e.length]={ordinal:l,value:t||"",fmtValue:c}},_matchDescriptors:function(e,n,r){for(var o,l,c,h,d=n.names,f=n.expandedIdx;f>0;)if((o=d[--f].split("&")).length>1&&(l=o[0],c=o[1],(h=(h=r[l](e))!==t&&null!==h?h.toString():h)!=c))return!1;return!0},_calculateAggregate:function(e,t,n){for(var r,o,l={},c=0;c<e.length;c++)o=e[c].descriptor.name,(r=n.aggregates[o]||{}).accumulator=e[c].aggregator(t,r),l[o]=r;return l},_processColumns:function(e,n,r,o,l,c,h,d){for(var f,m,v,_,w,y,x,path,k=l.dataItem,C=0;C<n.length;C++)m=n[C],this._matchDescriptors(k,m,r)&&(path=m.names.slice(0,m.expandedIdx).join(""),x=y=m.names[m.expandedIdx],v=o[w=path+(y=y+"&"+(f=(f=r[y](k))!==t&&null!==f?f.toString():f))]||{index:h.columnIndex,parentName:x,name:y,uniquePath:path+x,value:f},_=c.items[w]||{aggregates:{}},c.items[w]={index:v.index,aggregates:this._calculateAggregate(e,l,_)},d&&(o[w]||h.columnIndex++,o[w]=v))},_measureAggregators:function(e){var t,n,r,o,l,c,h=e.measures||[],d=this.measures||{},f=[];if(h.length){for(r=0,o=h.length;r<o;r++)if(l=null,n=d[(t=h[r]).name]){if("string"==typeof(c=n.aggregate)){if(!(l=R[c.toLowerCase()]))throw new Error("There is no such aggregate function");n.aggregate=l.aggregate||l,n.result=l.result}f.push({descriptor:t,caption:n.caption,result:n.result,aggregator:A(n)})}}else f.push({descriptor:{name:"default"},caption:"default",aggregator:function(){return 1}});return f},_buildGetters:function(e){for(var t,r,o={},l=0;l<e.length;l++)(t=(r=e[l]).split("&")).length>1?o[t[0]]=n.getter(t[0],!0):o[r]=n.getter(T(r),!0);return o},_parseDescriptors:function(e){for(var t=re(e),n=ie(t.root),r=t.expanded,o=[],l=0;l<r.length;l++)o.push(ne(r[l].name,n));return{root:n,expanded:o}},_filter:function(data,filter){if(!filter)return data;for(var e,t=0,r=filter.filters;t<r.length;t++)"in"===(e=r[t]).operator&&(r[t]=this._normalizeFilter(e));return new n.data.Query(data).filter(filter).data},_normalizeFilter:function(filter){var e=filter.value.split(","),t=[];if(!e.length)return e;for(var n=0;n<e.length;n++)t.push({field:filter.field,operator:"eq",value:e[n]});return{logic:"or",filters:t}},process:function(data,e){data=data||[],e=e||{},data=this._filter(data,e.filter);var n=e.measures||[],r="rows"===e.measuresAxis,o=e.columns||[],l=e.rows||[];!o.length&&l.length&&(!n.length||n.length&&r)&&(o=l,l=[],r=!1),o.length||l.length||(r=!1),!o.length&&n.length&&(o=S(e.measures)),o=this._parseDescriptors(o),l=this._parseDescriptors(l);var c,h,d,f,m,v,_,w,path,y,x,k,C,T={},D={},E={},A={columnIndex:0},I=this._measureAggregators(e),M=this._buildGetters(o.root),R=this._buildGetters(l.root),F=!1,P=o.expanded,z=l.expanded,B=0!==z.length,L=data.length,H=0;if(o.root.length||l.root.length)for(F=!0,H=0;H<L;H++)for(d={dataItem:h=data[H],index:H},_=T.__row_total__||{items:{},aggregates:{}},this._processColumns(I,P,M,D,d,_,A,!B),_.aggregates=this._calculateAggregate(I,d,_),T.__row_total__=_,f=0;f<z.length;f++)m=z[f],this._matchDescriptors(h,m,R)?(path=m.names.slice(0,m.expandedIdx).join(""),y=v=m.names[m.expandedIdx],E[w=path+(v=v+"&"+(c=(c=R[v](h))!==t?c.toString():c))]={uniquePath:path+y,parentName:y,name:v,value:c},x=T[w]||{items:{},aggregates:{}},this._processColumns(I,P,M,D,d,x,A,!0),x.aggregates=this._calculateAggregate(I,d,x),T[w]=x):this._processColumns(I,P,M,D,d,{items:{},aggregates:{}},A,!0);return F&&L?(!(I.length>1)||e.columns&&e.columns.length||(o={root:[],expanded:[]}),k=this._asTuples(D,o,r?[]:I),C=this._asTuples(E,l,r?I:[]),D=k.tuples,E=C.tuples,T=this._toDataArray(T,this._measuresInfo(I,r),C.keys,k.keys)):T=D=E=[],{axes:{columns:{tuples:D},rows:{tuples:E}},data:T}}}),P=o.extend({init:function(e,t){this.transport=t,this.options=t.options||{},this.transport.discover||_(e.discover)&&(this.discover=e.discover)},read:function(e){return this.transport.read(e)},update:function(e){return this.transport.update(e)},create:function(e){return this.transport.create(e)},destroy:function(e){return this.transport.destroy(e)},discover:function(e){if(this.transport.discover)return this.transport.discover(e);e.success({})},catalog:function(n){var r=this.options||{};if(n===t)return(r.connection||{}).catalog;var o=r.connection||{};o.catalog=n,this.options.connection=o,e.extend(this.transport.options,{connection:o})},cube:function(e){var n=this.options||{};if(e===t)return(n.connection||{}).cube;var r=n.connection||{};r.cube=e,this.options.connection=r,v(!0,this.transport.options,{connection:r})}}),z=c.extend({init:function(t){var n,r=((t||{}).schema||{}).cube,o="columns",l={axes:m,cubes:m,catalogs:m,measures:m,dimensions:m,hierarchies:m,levels:m,members:m};r&&(l=e.extend(l,this._cubeSchema(r)),this.cubeBuilder=new F(r)),c.fn.init.call(this,v(!0,{},{schema:l},t)),this.transport=new P(this.options.transport||{},this.transport),this._columns=S(this.options.columns),this._rows=S(this.options.rows),n=this.options.measures||[],"[object Object]"===f.call(n)&&(o=n.axis||"columns",n=n.values||[]),this._measures=C(n),this._measuresAxis=o,this._skipNormalize=0,this._axes={}},_cubeSchema:function(t){return{dimensions:function(){var e=[],n=t.dimensions;for(var r in n)e.push({name:r,caption:n[r].caption||r,uniqueName:r,defaultHierarchy:r,type:1});return t.measures&&e.push({name:w,caption:w,uniqueName:w,type:2}),e},hierarchies:function(){return[]},measures:function(){var e=[],n=t.measures;for(var r in n)e.push({name:r,caption:r,uniqueName:r,aggregator:r});return e},members:e.proxy((function(e,r){var o,l,c=r.levelUniqueName||r.memberUniqueName,h=this.options.schema.data,d=_(h)?h:n.getter(h,!0),data=this.options.data&&d(this.options.data)||this._rawData||[],f=[],m=0,v={};if(c&&(c=c.split(".")[0]),!r.treeOp)return f.push({caption:t.dimensions[c].caption||c,childrenCardinality:"1",dimensionUniqueName:c,hierarchyUniqueName:c,levelUniqueName:c,name:c,uniqueName:c}),f;for(o=n.getter(T(c),!0);m<data.length;m++)!(l=o(data[m]))&&0!==l||v[l]||(v[l]=!0,f.push({caption:l,childrenCardinality:"0",dimensionUniqueName:c,hierarchyUniqueName:c,levelUniqueName:c,name:l,uniqueName:l}));return f}),this)}},options:{serverSorting:!0,serverPaging:!0,serverFiltering:!0,serverGrouping:!0,serverAggregates:!0},catalog:function(e){if(e===t)return this.transport.catalog();this.transport.catalog(e),this._mergeState({}),this._axes={},this.data([])},cube:function(e){if(e===t)return this.transport.cube();this.transport.cube(e),this._axes={},this._mergeState({}),this.data([])},axes:function(){return this._axes},columns:function(e){if(e===t)return this._columns;this._skipNormalize+=1,this._clearAxesData=!0,this._columns=S(e),this.query({columns:e,rows:this.rowsAxisDescriptors(),measures:this.measures(),sort:this.sort(),filter:this.filter()})},rows:function(e){if(e===t)return this._rows;this._skipNormalize+=1,this._clearAxesData=!0,this._rows=S(e),this.query({columns:this.columnsAxisDescriptors(),rows:e,measures:this.measures(),sort:this.sort(),filter:this.filter()})},measures:function(e){if(e===t)return this._measures;this._skipNormalize+=1,this._clearAxesData=!0,this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:C(e),sort:this.sort(),filter:this.filter()})},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(path,e){var t="columns"===e?"columns":"rows",n="columns"===e?"rows":"columns",r=S(path),o=te(r[r.length-1]);this._lastExpanded=t,r=E(this.axes()[t],r,this.measures());for(var l=0;l<r.length;l++)if(te(r[l])===o){if(r[l].expand)return;r[l].expand=!0}else r[l].expand=!1;var c={};c[t]=r,c[n]=this._descriptorsForAxis(n),this._query(c)},_descriptorsForAxis:function(e){var t=this.axes(),n=this[e]()||[];return t&&t[e]&&t[e].tuples&&t[e].tuples[0]&&(n=D(t[e].tuples||[])),n},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(data,e){this._view=data,(e=e||{}).items=e.items||this._view,this.trigger("change",e)},_query:function(e){return e||(this._skipNormalize+=1,this._clearAxesData=!0),this.query(v({},{page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),aggregate:this.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},e))},query:function(t){var n=this._mergeState(t);return this._data.length&&this.cubeBuilder?(this._params(n),this._updateLocalData(this._pristineData),e.Deferred().resolve().promise()):this.read(n)},_mergeState:function(e){return(e=c.fn._mergeState.call(this,e))!==t&&(this._measures=C(e.measures),e.columns?e.columns=S(e.columns):e.columns||(this._columns=[]),e.rows?e.rows=S(e.rows):e.rows||(this._rows=[])),e},filter:function(e){if(e===t)return this._filter;this._skipNormalize+=1,this._clearAxesData=!0,this._query({filter:e,page:1})},expandColumn:function(path){this._expandPath(path,"columns")},expandRow:function(path){this._expandPath(path,"rows")},success:function(data){var e;this.cubeBuilder&&(e=(this.reader.data(data)||[]).slice(0)),c.fn.success.call(this,data),e&&(this._pristineData=e)},_processResult:function(data,e){if(this.cubeBuilder){var t=this.cubeBuilder.process(data,this._requestData);data=t.data,e=t.axes}var n,r,o,l,c,h,d=this.columns(),f=this.rows(),m=e.columns&&e.columns.tuples;d.length||!f.length||!m||!this._rowMeasures().length&&this.measures().length||(e={columns:{},rows:e.columns}),d.length||f.length||"rows"!==this.measuresAxis()||!m||(e={columns:{},rows:e.columns}),this._axes={columns:O(this._axes.columns),rows:O(this._axes.rows)},e={columns:O(e.columns),rows:O(e.rows)},n=this._normalizeTuples(e.columns.tuples,this._axes.columns.tuples,d,this._columnMeasures()),r=this._normalizeTuples(e.rows.tuples,this._axes.rows.tuples,f,this._rowMeasures()),this._skipNormalize>0&&(this._skipNormalize-=1),this.cubeBuilder||(data=this._normalizeData({columnsLength:e.columns.tuples.length,rowsLength:e.rows.tuples.length,columnIndexes:n,rowIndexes:r,data:data})),"rows"==this._lastExpanded?(o=e.columns.tuples,c=this._columnMeasures(),(l=L(e.columns,this._axes.columns,c))&&(h="columns",e.columns=l,function(e,t,n,r,data){var o,l,c,h=e.length,d=N(t,r),f=r.length||1;for(l=0;l<n;l++)for(o=0;o<h;o++)c=H(e[o],t)*f,c+=o%f,data[l*h+o].ordinal=l*d+c}(o,l.tuples,e.rows.tuples.length,c,data),this.cubeBuilder||(data=this._normalizeData({columnsLength:N(e.columns.tuples,c),rowsLength:e.rows.tuples.length,data:data})))):"columns"==this._lastExpanded&&(o=e.rows.tuples,c=this._rowMeasures(),(l=L(e.rows,this._axes.rows,c))&&(h="rows",e.rows=l,function(e,t,n,r,data){var o,l,c,h=e.length,d=r.length||1;for(l=0;l<h;l++)for(c=H(e[l],t),c*=d,c+=l%d,o=0;o<n;o++)data[l*n+o].ordinal=c*n+o}(o,l.tuples,e.columns.tuples.length,c,data),this.cubeBuilder||(data=this._normalizeData({columnsLength:N(e.rows.tuples,c),rowsLength:e.columns.tuples.length,data:data})))),this._lastExpanded=null;var v=this._mergeAxes(e,data,h);return this._axes=v.axes,v.data},_readData:function(data){var e=this.reader.axes(data),t=this.reader.data(data);return this.cubeBuilder&&(this._rawData=t),this._processResult(t,e)},_createTuple:function(e,t,n){var r,o,l,c,h,d,caption,f,m=e.members,v=m.length,_={members:[]},w=0;for(t&&(v-=1);w<v;w++)f=m[w],o=Number(f.levelNum),l=f.name,c=f.parentName,caption=f.caption||l,h=f.hasChildren,d=f.hierarchy,r=f.levelName,n&&(caption="All",0===o?c=f.name:o-=1,h=!0,l=d=r=c),_.members.push({name:l,children:[],caption:caption,levelName:r,levelNum:o.toString(),hasChildren:h,hierarchy:d,parentName:n?"":c});return t&&_.members.push({name:t.name,children:[]}),_},_hasRoot:function(e,source,t){if(source.length)return j(source,e).tuple;for(var n,r,o,l=e.members,c=!0,h=0,d=l.length;h<d;h++)if(n=l[h],o=Number(n.levelNum)||0,r=t[h],!(0===o||r&&n.name===te(r))){c=!1;break}return c},_mergeAxes:function(e,data,t){var n,r,o=this._columnMeasures(),l=this._rowMeasures(),c=this.axes(),h=N(c.rows.tuples,l),d=e.rows.tuples.length,f=N(c.columns.tuples,o),m=e.columns.tuples.length;"columns"==t?(m=f,r=e.columns.tuples):data=function(e,data){if(!e||!e.length)return data;var t,n,r,o,l=[],c=Q(e),h=c.length,d=Math.max(data.length/h,1);for(n=0;n<d;n++)for(r=h*n,t=0;t<h;t++)o=c[t]+r,l[r+t]=data[o]||{value:"",fmtValue:"",ordinal:o};return l}(r=K(e.columns.tuples,o),data);var v=W(c.columns.tuples,r,o);"rows"==t?(d=N(e.rows.tuples,l),r=e.rows.tuples):data=function(e,data){if(!e||!e.length)return data;var t,n,r,o,l,c=[],h=Q(e),d=h.length,f=Math.max(data.length/d,1);for(t=0;t<d;t++)for(r=f*t,o=f*h[t],n=0;n<f;n++)l=parseInt(o+n,10),c[parseInt(r+n,10)]=data[l]||{value:"",fmtValue:"",ordinal:l};return c}(r=K(e.rows.tuples,l),data);var _=W(c.rows.tuples,r,l);if(c.columns.tuples=v.tuples,c.rows.tuples=_.tuples,f!==N(c.columns.tuples,o)){n=v.index+V(v.parsedRoot,v.memberIndex,o);var w=f+m;data=this._mergeColumnData(data,n,d,m,w)}else h!==N(c.rows.tuples,l)&&(n=_.index+V(_.parsedRoot,_.memberIndex,l),data=this._mergeRowData(data,n,d,m));return 0===c.columns.tuples.length&&0===c.rows.tuples.length&&(data=[]),{axes:c,data:data}},_mergeColumnData:function(e,t,n,r,o){var l,c,h,data=this.data().toJSON(),d=0,f=Math.max(this._columnMeasures().length,1);for(n=Math.max(n,1),data.length>0&&(d=f,o-=f),l=0;l<n;l++)c=t+l*o,(h=e.splice(0,r)).splice(0,d),[].splice.apply(data,[c,0].concat(h));return data},_mergeRowData:function(e,t,n,r){var o,l,c,data=this.data().toJSON(),h=Math.max(this._rowMeasures().length,1);for(r=Math.max(r,1),data.length>0&&(n-=h,e.splice(0,r*h)),o=0;o<n;o++)c=e.splice(0,r),l=t*r+o*r,[].splice.apply(data,[l,0].concat(c));return data},_columnMeasures:function(){var e=this.measures(),t=[];return"columns"===this.measuresAxis()&&(0===this.columns().length?t=e:e.length>1&&(t=e)),t},_rowMeasures:function(){var e=this.measures(),t=[];return"rows"===this.measuresAxis()&&(0===this.rows().length?t=e:e.length>1&&(t=e)),t},_updateLocalData:function(data,e){this.cubeBuilder&&(e&&(this._requestData=e),data=this._processResult(data)),this._data=this._observe(data),this._ranges=[],this._addRange(this._data),this._total=this._data.length,this._pristineTotal=this._total,this._process(this._data)},data:function(e){if(e===t)return this._data;this._pristineData=e.slice(0),this._updateLocalData(e,{columns:this.columns(),rows:this.rows(),measures:this.measures()})},_normalizeTuples:function(e,source,t,n){var r,o,l,c=n.length||1,h=0,d=[],f={},m=0;if(e.length){if(this._skipNormalize<=0&&!this._hasRoot(e[0],source,t)){for(this._skipNormalize=0;h<c;h++)d.push(this._createTuple(e[0],n[h],!0)),f[h]=h;e.splice.apply(e,[0,e.length].concat(d).concat(e)),h=c}if(n.length)for(l=r=e[h],o=r.members.length-1;r;){if(m>=c&&(m=0),r.members[o].name!==n[m].name&&(e.splice(h,0,this._createTuple(r,n[m])),f[h]=h),m+=1,r=e[h+=1],c>m&&(!r||xe(l,o-1)!==xe(r,o-1))){for(;m<c;m++)e.splice(h,0,this._createTuple(l,n[m])),f[h]=h,h+=1;r=e[h]}l=r}return f}},_addMissingDataItems:function(e,n){for(;n.rowIndexes[parseInt(e.length/n.columnsLength,10)]!==t;)for(var r=0;r<n.columnsLength;r++)e=B(e);for(;n.columnIndexes[e.length%n.columnsLength]!==t;)e=B(e);return e},_normalizeOrdinals:function(e,t,n){var r=n.lastOrdinal;if(!t)return B(e);if(t.ordinal-r>1)for(r+=1;r<t.ordinal&&e.length<n.length;)e=this._addMissingDataItems(B(e),n),r+=1;return t.ordinal=e.length,e[e.length]=t,e},_normalizeData:function(e){var t,n,r,data=e.data,o=0,l=[];if(e.lastOrdinal=0,e.columnIndexes=e.columnIndexes||{},e.rowIndexes=e.rowIndexes||{},e.columnsLength=e.columnsLength||1,e.rowsLength=e.rowsLength||1,e.length=e.columnsLength*e.rowsLength,r=e.length,data.length===r)return data;for(;l.length<r;)(t=data[o++])&&(n=t.ordinal),l=this._normalizeOrdinals(this._addMissingDataItems(l,e),t,e),e.lastOrdinal=n;return l},discover:function(t,n){var r=this,o=r.transport;return e.Deferred((function(e){o.discover(v({success:function(t){t=r.reader.parse(t),r._handleCustomErrors(t)||(n&&(t=n(t)),e.resolve(t))},error:function(t,n,o){e.reject(t),r.error(t,n,o)}},t))})).promise().done((function(){r.trigger("schemaChange")}))},schemaMeasures:function(){var e=this;return e.discover({data:{command:"schemaMeasures",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},(function(t){return e.reader.measures(t)}))},schemaKPIs:function(){var e=this;return e.discover({data:{command:"schemaKPIs",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},(function(t){return e.reader.kpis(t)}))},schemaDimensions:function(){var e=this;return e.discover({data:{command:"schemaDimensions",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},(function(t){return e.reader.dimensions(t)}))},schemaHierarchies:function(e){var t=this;return t.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),dimensionUniqueName:e}}},(function(e){return t.reader.hierarchies(e)}))},schemaLevels:function(e){var t=this;return t.discover({data:{command:"schemaLevels",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),hierarchyUniqueName:e}}},(function(e){return t.reader.levels(e)}))},schemaCubes:function(){var e=this;return e.discover({data:{command:"schemaCubes",restrictions:{catalogName:e.transport.catalog()}}},(function(t){return e.reader.cubes(t)}))},schemaCatalogs:function(){var e=this;return e.discover({data:{command:"schemaCatalogs"}},(function(t){return e.reader.catalogs(t)}))},schemaMembers:function(e){var t=this,n=function(e){return function(n){return t.reader.members(n,e)}}(e);return t.discover({data:{command:"schemaMembers",restrictions:v({catalogName:t.transport.catalog(),cubeName:t.transport.cube()},e)}},n)},_params:function(data){this._clearAxesData&&(this._axes={},this._data=this._observe([]),this._clearAxesData=!1,this.trigger("stateReset"));var e=c.fn._params.call(this,data);return e=v({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},e),this.cubeBuilder&&(this._requestData=e),e}});function B(e){return e[e.length]={value:"",fmtValue:"",ordinal:e.length},e}function L(e,t,n){if(e.tuples.length<N(t.tuples,n))return t}function H(e,t){return j(t,e).index}function N(e,t){if(!e.length)return 0;for(var n=e.slice(),r=n.shift(),o=1;r;)r.members?[].push.apply(n,r.members):r.children&&(r.measure||(o+=r.children.length),[].push.apply(n,r.children)),r=n.shift();return t.length&&(o*=t.length),o}function O(e){return e||(e={tuples:[]}),e.tuples||(e.tuples=[]),e}function V(e,t,n){if(!e)return 0;for(var r=Math.max(n.length,1),o=e.members.slice(0,t),l=o.shift(),c=r;l;)l.name===w?c+=r-1:l.children?[].push.apply(o,l.children):(c++,[].push.apply(o,l.members)),l=o.shift();return c}function W(e,source,t){if(!source[0])return{parsedRoot:null,tuples:e,memberIndex:0,index:0};var n=j(e,source[0]);if(!n.tuple)return{parsedRoot:null,tuples:source,memberIndex:0,index:0};var r=n.tuple.members,o=source[0].members,l=-1;if(r.length!==o.length)return{parsedRoot:null,tuples:source,memberIndex:0,index:0};for(var c=0,h=r.length;c<h;c++)!r[c].measure&&o[c].children[0]&&(-1==l&&o[c].children.length&&(l=c),r[c].children=o[c].children);return t=Math.max(t.length,1),{parsedRoot:n.tuple,index:n.index*t,memberIndex:l,tuples:e}}function U(e,t){var n,r,o=!0;for(e=e.members,t=t.members,n=0,r=e.length;n<r;n++)e[n].measure||t[n].measure||(o=o&&te(e[n])===te(t[n]));return o}function j(e,t){var n,r,o,l,c,h,d,f=0;for(n=0,r=e.length;n<r;n++){if(U(o=e[n],t))return{tuple:o,index:f};for(f++,c=0,h=o.members.length;c<h;c++)if(!(d=o.members[c]).measure&&(f+=(l=j(d.children,t)).index,l.tuple))return{tuple:l.tuple,index:f}}return{index:f}}function G(e,map){var t,i,n,path="";for(i=0,n=e.length;i<n;i++)map[path+=(t=e[i]).name]||(map[path]=t)}function $(e,map){var i,t,n,r,o=e.members,path="",l="";for(i=0,t=o.length;i<t;i++){if(n=o[i],r){if(map[path+n.name]){r=map[path+=n.name];continue}return map[path+n.parentName]?map[path+n.parentName]:map[l+n.parentName]?map[l+n.parentName]:map[l]}if(path+=n.name,!(r=map[n.parentName])&&!(r=map[path]))return null;r&&(l+=r.name)}return r}function Y(n,r){if(!(r<0)){var o={name:w,measure:!0,children:[e.extend({members:[],dataIndex:n.dataIndex},n.members[r])]};n.members.splice(r,1,o),n.dataIndex=t}}function K(e,t){if(e.length<1)return[];for(var n=[],map={},r=function(e,t){if(0===t.length)return-1;for(var n=t[0],r=e.members,o=0,l=r.length;o<l;o++)if(r[o].name==n.name)return o}(e[0],t),i=0;i<e.length;i++){var o=e[i];o.dataIndex=i,Y(o,r);var l=$(o,map);l?r<0||!l.measure?l.children.push(o):l.children.push(o.members[r].children[0]):n.push(o),G(o.members,map)}return n}function Q(e){for(var n,r,o,l,c,h=[],d=(e=e.slice()).shift();d;){for(d.dataIndex!==t&&h.push(d.dataIndex),o=0,n=0,r=d.members.length;n<r;n++)l=(c=d.members[n]).children,c.measure?[].splice.apply(e,[0,0].concat(l)):[].splice.apply(e,[o,0].concat(l)),o+=l.length;d=e.shift()}return h}function X(e){var t=e.split(".");return t.length>2?t[0]+"."+t[1]:e}function J(e,t){var n,r=e.length-1,o=e[r];return(n=function(e,t){for(var n=0,r=e.length;n<r;n++)if(0===t.indexOf(e[n].field))return e[n];return null}(t,o))&&n.dir?o="ORDER("+o+".Children,"+n.field+".CurrentMember.MEMBER_CAPTION,"+n.dir+")":o+=".Children",e[r]=o,e}function Z(e,t){var n=e.slice(0);return t.length>1&&n.push("{"+ee(t).join(",")+"}"),function e(t){var n,r="CROSSJOIN({";return t.length>2?(n=t.pop(),r+=e(t)):(r+=t.shift(),n=t.pop()),r+="},{",r+=n,r+="})"}(n)}function ee(e){for(var n,r=0,o=e.length,l=[];r<o;r++)n=e[r],l.push(n.name!==t?n.name:n);return l}function te(e){return e=e.name||e,"[object Array]"===f.call(e)&&(e=e[e.length-1]),e}function ie(e){for(var t=e.length,n=[],r=0;r<t;r++)n.push(e[r].name[0]);return n}function ne(e,t){var n,r,o,l=0,c=e.length,h=t.length;for(t=t.slice(0);l<c;l++)for(n=e[l],o=0;o<h;o++)if(r=X(t[o]),-1!==n.indexOf(r)){t[o]=n;break}return{names:t,expandedIdx:o,uniquePath:t.slice(0,o+1).join("")}}function re(e){for(var t,n,r,o,l,c,h=[],d=[],m=[],v=0,_=e.length;v<_;v++)if(o=(t=e[v]).name,c=!1,"[object Array]"!==f.call(o)&&(t.name=o=[o]),o.length>1)d.push(t);else{for(l=X(o[0]),n=0,r=m.length;n<r;n++)if(0===m[n].name[0].indexOf(l)){c=!0;break}c||m.push(t),t.expand&&h.push(t)}return{root:m,expanded:h=h.concat(d)}}function oe(e,t,n){var r,o="",l=re(e=e||[]),c=ie(l.root),h=[],d=(l=l.expanded).length,f=0,m=[];if(c.length>1||t.length>1){for(h.push(Z(c,t));f<d;f++)m=ne(r=J(l[f].name,n),c).names,h.push(Z(m,t));o+=h.join(",")}else{for(;f<d;f++)r=J(l[f].name,n),m.push(r[0]);o+=c.concat(m).join(",")}return o}z.create=function(e){var t=(e=e&&e.push?{data:e}:e)||{},data=t.data;if(t.data=data,!(t instanceof z)&&t instanceof n.data.DataSource)throw new Error("Incorrect DataSource type. Only PivotDataSource instances are supported");return t instanceof z?t:new z(t)};var se={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}")',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"'};function ae(e){var t="",r=e.value,o=e.field,l=e.operator;return"in"==l?(t+="{",t+=r,t+="}"):(t+="neq"==l||"doesnotcontain"==l?"-":"",t+="Filter(",t+=o+".MEMBERS",t+=n.format(se[l],o,r),t+=")"),t}function le(e,t,n){var r="";if(t){var o;for(var l in r+="<"+e+">",t)o=t[l],n&&(l=l.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),r+="<"+l+">"+o+"</"+l+">";r+="</"+e+">"}else r+="<"+e+"/>";return r}var ce={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"},he={read:function(e){var t='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';t+="SELECT NON EMPTY {";var n=e.columns||[],r=e.rows||[],o=e.measures||[],l="rows"===e.measuresAxis,c=e.sort||[];return!n.length&&r.length&&(!o.length||o.length&&l)&&(n=r,r=[],l=!1),n.length||r.length||(l=!1),n.length?t+=oe(n,l?[]:o,c):o.length&&!l&&(t+=ee(o).join(",")),t+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(r.length||l&&o.length>1)&&(t+=", NON EMPTY {",r.length?t+=oe(r,l?o:[],c):t+=ee(o).join(","),t+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),e.filter?(t+=" FROM ",t+="(",t+=function(filter,e){var t,n,r="",o=filter.filters,l=o.length;for(n=l-1;n>=0;n--)t="SELECT (",t+=ae(o[n]),t+=") ON 0",r=n==l-1?t+=" FROM ["+e+"]":t+" FROM ( "+r+" )";return r}(e.filter,e.connection.cube),t+=")"):t+=" FROM ["+e.connection.cube+"]",1==o.length&&n.length&&(t+=" WHERE ("+ee(o).join(",")+")"),(t+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>").replace(/\&/g,"&amp;")},discover:function(t){var n='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return n+="<RequestType>"+(ce[(t=t||{}).command]||t.command)+"</RequestType>",n+="<Restrictions>"+le("RestrictionList",t.restrictions,!0)+"</Restrictions>",t.connection&&t.connection.catalog&&(t.properties=e.extend({},{Catalog:t.connection.catalog},t.properties)),n+="<Properties>"+le("PropertyList",t.properties)+"</Properties>",n+="</Discover></Body></Envelope>"}},de=n.data.RemoteTransport.extend({init:function(e){var t=e;e=this.options=v(!0,{},this.options,e),n.data.RemoteTransport.call(this,e),_(t.discover)?this.discover=t.discover:"string"==typeof t.discover?this.options.discover={url:t.discover}:t.discover||(this.options.discover=this.options.read)},setup:function(t,r){return t.data=t.data||{},e.extend(!0,t.data,{connection:this.options.connection}),n.data.RemoteTransport.fn.setup.call(this,t,r)},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function(e,t){return he[t](e,t)}},discover:function(t){return e.ajax(this.setup(t,"discover"))}});function ue(object){return null==object?[]:"[object Array]"!==f.call(object)?[object]:object}function pe(e){for(var t={tuples:[]},r=ue(n.getter("Tuples.Tuple",!0)(e)),o=n.getter("Caption['#text']"),l=n.getter("UName['#text']"),c=n.getter("LName['#text']"),h=n.getter("LNum['#text']"),d=n.getter("CHILDREN_CARDINALITY['#text']",!0),f=n.getter("['@Hierarchy']"),m=n.getter("PARENT_UNIQUE_NAME['#text']",!0),v=0;v<r.length;v++){for(var _=[],w=ue(r[v].Member),y=0;y<w.length;y++)_.push({children:[],caption:o(w[y]),name:l(w[y]),levelName:c(w[y]),levelNum:h(w[y]),hasChildren:parseInt(d(w[y]),10)>0,parentName:m(w[y]),hierarchy:f(w[y])});t.tuples.push({members:_})}return t}var fe={cubes:{name:n.getter("CUBE_NAME['#text']",!0),caption:n.getter("CUBE_CAPTION['#text']",!0),description:n.getter("DESCRIPTION['#text']",!0),type:n.getter("CUBE_TYPE['#text']",!0)},catalogs:{name:n.getter("CATALOG_NAME['#text']",!0),description:n.getter("DESCRIPTION['#text']",!0)},measures:{name:n.getter("MEASURE_NAME['#text']",!0),caption:n.getter("MEASURE_CAPTION['#text']",!0),uniqueName:n.getter("MEASURE_UNIQUE_NAME['#text']",!0),description:n.getter("DESCRIPTION['#text']",!0),aggregator:n.getter("MEASURE_AGGREGATOR['#text']",!0),groupName:n.getter("MEASUREGROUP_NAME['#text']",!0),displayFolder:n.getter("MEASURE_DISPLAY_FOLDER['#text']",!0),defaultFormat:n.getter("DEFAULT_FORMAT_STRING['#text']",!0)},kpis:{name:n.getter("KPI_NAME['#text']",!0),caption:n.getter("KPI_CAPTION['#text']",!0),value:n.getter("KPI_VALUE['#text']",!0),goal:n.getter("KPI_GOAL['#text']",!0),status:n.getter("KPI_STATUS['#text']",!0),trend:n.getter("KPI_TREND['#text']",!0),statusGraphic:n.getter("KPI_STATUS_GRAPHIC['#text']",!0),trendGraphic:n.getter("KPI_TREND_GRAPHIC['#text']",!0),description:n.getter("KPI_DESCRIPTION['#text']",!0),groupName:n.getter("MEASUREGROUP_NAME['#text']",!0)},dimensions:{name:n.getter("DIMENSION_NAME['#text']",!0),caption:n.getter("DIMENSION_CAPTION['#text']",!0),description:n.getter("DESCRIPTION['#text']",!0),uniqueName:n.getter("DIMENSION_UNIQUE_NAME['#text']",!0),defaultHierarchy:n.getter("DEFAULT_HIERARCHY['#text']",!0),type:n.getter("DIMENSION_TYPE['#text']",!0)},hierarchies:{name:n.getter("HIERARCHY_NAME['#text']",!0),caption:n.getter("HIERARCHY_CAPTION['#text']",!0),description:n.getter("DESCRIPTION['#text']",!0),uniqueName:n.getter("HIERARCHY_UNIQUE_NAME['#text']",!0),dimensionUniqueName:n.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:n.getter("HIERARCHY_DISPLAY_FOLDER['#text']",!0),origin:n.getter("HIERARCHY_ORIGIN['#text']",!0),defaultMember:n.getter("DEFAULT_MEMBER['#text']",!0)},levels:{name:n.getter("LEVEL_NAME['#text']",!0),caption:n.getter("LEVEL_CAPTION['#text']",!0),description:n.getter("DESCRIPTION['#text']",!0),uniqueName:n.getter("LEVEL_UNIQUE_NAME['#text']",!0),dimensionUniqueName:n.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:n.getter("LEVEL_DISPLAY_FOLDER['#text']",!0),orderingProperty:n.getter("LEVEL_ORDERING_PROPERTY['#text']",!0),origin:n.getter("LEVEL_ORIGIN['#text']",!0),hierarchyUniqueName:n.getter("HIERARCHY_UNIQUE_NAME['#text']",!0)},members:{name:n.getter("MEMBER_NAME['#text']",!0),caption:n.getter("MEMBER_CAPTION['#text']",!0),uniqueName:n.getter("MEMBER_UNIQUE_NAME['#text']",!0),dimensionUniqueName:n.getter("DIMENSION_UNIQUE_NAME['#text']",!0),hierarchyUniqueName:n.getter("HIERARCHY_UNIQUE_NAME['#text']",!0),levelUniqueName:n.getter("LEVEL_UNIQUE_NAME['#text']",!0),childrenCardinality:n.getter("CHILDREN_CARDINALITY['#text']",!0)}},ge=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"],me=n.data.XmlDataReader.extend({init:function(e){n.data.XmlDataReader.call(this,e),this._extend(e)},_extend:function(e){for(var t,option,n=0,r=ge.length;n<r;n++)(option=e[t=ge[n]])&&option!==m&&(this[t]=option)},parse:function(e){var t=n.data.XmlDataReader.fn.parse(e.replace(/<(\/?)(\w|-)+:/g,"<$1"));return n.getter("['Envelope']['Body']",!0)(t)},errors:function(e){var t=n.getter("['Fault']",!0)(e);return t?[{faultstring:n.getter("faultstring['#text']",!0)(t),faultcode:n.getter("faultcode['#text']",!0)(t)}]:null},axes:function(e){e=n.getter('ExecuteResponse["return"].root',!0)(e);for(var t,r=ue(n.getter("Axes.Axis",!0)(e)),o={columns:{},rows:{}},l=0;l<r.length;l++)"sliceraxis"!==(t=r[l])["@name"].toLowerCase()&&(o.columns.tuples?o.rows=pe(t):o.columns=pe(t));return o},data:function(e){e=n.getter('ExecuteResponse["return"].root',!0)(e);for(var t=ue(n.getter("CellData.Cell",!0)(e)),r=[],o=n.getter("['@CellOrdinal']"),l=n.getter("Value['#text']"),c=n.getter("FmtValue['#text']"),h=0;h<t.length;h++)r.push({value:l(t[h]),fmtValue:c(t[h]),ordinal:parseInt(o(t[h]),10)});return r},_mapSchema:function(e,t){e=n.getter('DiscoverResponse["return"].root',!0)(e);for(var r=ue(n.getter("row",!0)(e)),o=[],l=0;l<r.length;l++){var c={};for(var h in t)c[h]=t[h](r[l]);o.push(c)}return o},measures:function(e){return this._mapSchema(e,fe.measures)},kpis:function(e){return this._mapSchema(e,fe.kpis)},hierarchies:function(e){return this._mapSchema(e,fe.hierarchies)},levels:function(e){return this._mapSchema(e,fe.levels)},dimensions:function(e){return this._mapSchema(e,fe.dimensions)},cubes:function(e){return this._mapSchema(e,fe.cubes)},catalogs:function(e){return this._mapSchema(e,fe.catalogs)},members:function(e){return this._mapSchema(e,fe.members)}});v(!0,n.data,{PivotDataSource:z,XmlaTransport:de,XmlaDataReader:me,PivotCubeBuilder:F,transports:{xmla:de},readers:{xmla:me}});var ve=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++)e[r].field!==t&&n.push(e[r]);return n};n.ui.PivotSettingTarget=l.extend({init:function(element,t){var o=this;l.fn.init.call(o,element,t),o.element.addClass("k-pivot-setting"),o.dataSource=n.data.PivotDataSource.create(t.dataSource),o._refreshHandler=e.proxy(o.refresh,o),o.dataSource.first("change",o._refreshHandler),t.template||(o.options.template="<div data-"+n.ns+'name="${data.name || data}">${data.name || data}'+(o.options.enabled?'<a class="k-button k-button-icon k-bare"><span class="k-icon k-i-close k-setting-delete"></span></a>':"")+"</div>"),o.template=n.template(o.options.template),o.emptyTemplate=n.template(o.options.emptyTemplate),o._sortable(),o.element.on("click"+x,".k-button,.k-item",(function(t){var r=e(t.target),l=r.closest("["+n.attr("name")+"]").attr(n.attr("name"));l&&(r.hasClass("k-i-close")?o.remove(l):o.options.sortable&&r[0]===t.currentTarget&&o.sort({field:l,dir:r.find(".k-i-sort-asc-sm")[0]?"desc":"asc"}))})),(t.filterable||t.sortable)&&(o.fieldMenu=new r.PivotFieldMenu(o.element,{messages:o.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:t.filterable,sortable:t.sortable,dataSource:o.dataSource})),o.refresh()},options:{name:"PivotSettingTarget",template:null,filterable:!1,sortable:!1,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:!0,messages:{empty:"Drop Fields Here"}},setDataSource:function(e){this.dataSource.unbind("change",this._refreshHandler),this.dataSource=this.options.dataSource=e,this.fieldMenu&&this.fieldMenu.setDataSource(e),e.first("change",this._refreshHandler),this.refresh()},_sortable:function(){var e=this;e.options.enabled&&(this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,hint:e.options.hint,filter:">*:not(.k-empty)",cursor:"move",start:function(e){e.item.focus().blur()},change:function(t){var r=t.item.attr(n.attr("name"));"receive"==t.action?e.add(r):"remove"==t.action?e.remove(r):"sort"==t.action&&e.move(r,t.newIndex)}}).data("kendoSortable"))},_indexOf:function(e,t){var n,r,o=-1;for(n=0,r=t.length;n<r;n++)if(te(t[n])===e){o=n;break}return o},_isKPI:function(data){return"kpi"===data.type||data.measure},validate:function(data){var e=2==data.type||"aggregator"in data||this._isKPI(data);if(e)return"measures"===this.options.setting;if("measures"===this.options.setting)return e;var t=this.dataSource[this.options.setting](),n=data.defaultHierarchy||data.uniqueName;return!(this._indexOf(n,t)>-1||(t=this.dataSource["columns"===this.options.setting?"rows":"columns"](),this._indexOf(n,t)>-1))},add:function(t){var i,n,r=this.dataSource[this.options.setting]();for(i=0,n=(t=e.isArray(t)?t.slice(0):[t]).length;i<n;i++)-1!==this._indexOf(t[i],r)&&(t.splice(i,1),i-=1,n-=1);t.length&&(r=r.concat(t),this.dataSource[this.options.setting](r))},move:function(e,t){var n=this.dataSource[this.options.setting](),r=this._indexOf(e,n);r>-1&&(e=n.splice(r,1)[0],n.splice(t,0,e),this.dataSource[this.options.setting](n))},remove:function(e){var t=this.dataSource[this.options.setting](),n=this._indexOf(e,t),r=this.dataSource.sort(),filter=this.dataSource.filter();n>-1&&(filter&&(filter.filters=ve(filter.filters,e),this.dataSource._filter.filters=filter.filters,filter.filters.length||(this.dataSource._filter=null)),r&&(r=ve(r,e),this.dataSource._sort=r),t.splice(n,1),this.dataSource[this.options.setting](t))},sort:function(e){var t=this.options.sortable,n=(!0===t||t.allowUnsort)&&"asc"===e.dir,r=this.dataSource.sort()||[],o=ve(r,e.field);n&&r.length!==o.length&&(e=null),e&&o.push(e),this.dataSource.sort(o)},refresh:function(){var e,html="",n=this.dataSource[this.options.setting](),r=n.length,o=0;if(r)for(;o<r;o++)e=(e=n[o]).name===t?{name:e}:e,html+=this.template(v({sortIcon:this._sortIcon(e.name)},e));else html=this.emptyTemplate(this.options.messages.empty);this.element.html(html)},destroy:function(){l.fn.destroy.call(this),this.dataSource.unbind("change",this._refreshHandler),this.element.off(x),this.sortable&&this.sortable.destroy(),this.fieldMenu&&this.fieldMenu.destroy(),this.element=null,this._refreshHandler=null},_sortIcon:function(e){var t=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].field===t)return e[n];return null}(this.dataSource.sort(),te(e)),n="";return t&&(n="k-i-sort-"+t.dir),n}});var _e=l.extend({init:function(element,r){var o,c,h=this;l.fn.init.call(h,element,r),h._dataSource(),h._bindConfigurator(),h._wrapper(),h._createLayout(),h._columnBuilder=o=new ke,h._rowBuilder=c=new Ce,h._contentBuilder=new Se,h._templates(),h.columnsHeader.add(h.rowsHeader).on("click","span.k-icon",(function(){var r,button=e(this),l=o,d="expandColumn",path=button.attr(n.attr("path")),f={axis:"columns",path:e.parseJSON(path)};button.parent().is("td")&&(l=c,d="expandRow",f.axis="rows");var m=button.hasClass("k-i-collapse"),v=l.metadata[path],_=v.expanded===t;r=m?"collapseMember":"expandMember",f.childrenLoaded=v.maxChildren>v.children,h.trigger(r,f)||(l.metadata[path].expanded=!m,button.toggleClass("k-i-collapse",!m).toggleClass("k-i-expand",m),!m&&_?h.dataSource[d](f.path):h.refresh())})),h._scrollable(),h.options.autoBind&&h.dataSource.fetch(),n.notify(h)},events:["dataBinding","dataBound","expandMember","collapseMember"],options:{name:"PivotGrid",autoBind:!0,reorderable:!0,filterable:!1,sortable:!1,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function(){var e=this.options.columnHeaderTemplate,t=this.options.rowHeaderTemplate,r=this.options.dataCellTemplate,o=this.options.kpiStatusTemplate,l=this.options.kpiTrendTemplate;this._columnBuilder.template=n.template(e||k,{useWithBlock:!!e}),this._contentBuilder.dataTemplate=n.template(r||'#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',{useWithBlock:!!r}),this._contentBuilder.kpiStatusTemplate=n.template(o||'<span class="k-icon k-i-kpi-status-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "deny" : "hold"#" title="#:data.dataItem.value#"></span>',{useWithBlock:!!o}),this._contentBuilder.kpiTrendTemplate=n.template(l||'<span class="k-icon k-i-kpi-trend-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#" title="#:data.dataItem.value#"></span>',{useWithBlock:!!l}),this._rowBuilder.template=n.template(t||k,{useWithBlock:!!t})},_bindConfigurator:function(){var t=this.options.configurator;t&&e(t).kendoPivotConfigurator("setDataSource",this.dataSource)},cellInfoByElement:function(element){return element=e(element),this.cellInfo(element.index(),element.parent("tr").index())},cellInfo:function(e,t){var n,r=this._contentBuilder,o=r.columnIndexes[e||0],l=r.rowIndexes[t||0];return o&&l?(n=l.index*r.rowLength+o.index,{columnTuple:o.tuple,rowTuple:l.tuple,measure:o.measure||l.measure,dataItem:this.dataSource.view()[n]}):null},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.measuresTarget&&this.measuresTarget.setDataSource(e),this.rowsTarget&&this.rowsTarget.setDataSource(e),this.columnsTarget&&this.columnsTarget.setDataSource(e),this._bindConfigurator(),this.options.autoBind&&e.fetch()},setOptions:function(e){l.fn.setOptions.call(this,e),this._templates()},destroy:function(){l.fn.destroy.call(this),clearTimeout(this._headerReflowTimeout)},_dataSource:function(){var t=this.options.dataSource;t=e.isArray(t)?{data:t}:t,this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("stateReset",this._stateResetHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=e.proxy(this.refresh,this),this._progressHandler=e.proxy(this._requestStart,this),this._stateResetHandler=e.proxy(this._stateReset,this),this._errorHandler=e.proxy(this._error,this)),this.dataSource=n.data.PivotDataSource.create(t).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("stateReset",this._stateResetHandler).bind("error",this._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_stateReset:function(){this._columnBuilder.reset(),this._rowBuilder.reset()},_wrapper:function(){var e=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot"),e&&this.wrapper.css("height",e)},_measureFields:function(){this.measureFields=e(y).addClass("k-pivot-toolbar k-header k-settings-measures"),this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_createSettingTarget:function(element,t){var template='<span tabindex="0" class="k-button" data-'+n.ns+'name="${data.name}">${data.name}',r=t.sortable,o="";return r&&(o+="#if (data.sortIcon) {#",o+='<span class="k-icon ${data.sortIcon}-sm"></span>',o+="#}#"),(t.filterable||r)&&(o+='<span class="k-icon k-i-more-vertical k-setting-fieldmenu"></span>'),this.options.reorderable&&(o+='<span class="k-icon k-i-close k-setting-delete"></span>'),o&&(template+='<span class="k-field-actions">'+o+"</span>"),template+="</span>",new n.ui.PivotSettingTarget(element,e.extend({template:template,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},t))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}}),this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}})},_createLayout:function(){var t=e('<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>'),r=t.find(".k-pivot-rowheaders"),o=t.find(".k-pivot-table"),l=e(y).addClass("k-grid k-widget");this._measureFields(),this.columnFields=e(y).addClass("k-pivot-toolbar k-header k-settings-columns"),this.rowFields=e(y).addClass("k-pivot-toolbar k-header k-settings-rows"),this.columnsHeader=e('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />'),this.columnsHeader.parent().css("padding-right",n.support.scrollbar()),this.rowsHeader=e('<div class="k-grid k-widget k-alt"/>'),this.content=e('<div class="k-grid-content" />'),r.append(this.measureFields),r.append(this.rowFields),r.append(this.rowsHeader),l.append(this.columnsHeader.parent()),l.append(this.content),o.append(this.columnFields),o.append(l),this.wrapper.append(t),this.columnsHeaderTree=new n.dom.Tree(this.columnsHeader[0]),this.rowsHeaderTree=new n.dom.Tree(this.rowsHeader[0]),this.contentTree=new n.dom.Tree(this.content[0]),this._initSettingTargets()},_progress:function(e){n.ui.progress(this.wrapper,e)},_resize:function(){this.content[0].firstChild&&(this._setSectionsWidth(),this._setSectionsHeight(),this._setContentWidth(),this._setContentHeight(),this._columnHeaderReflow())},_columnHeaderReflow:function(){var e=this.columnsHeader.children("table");n.support.browser.mozilla&&(clearTimeout(this._headerReflowTimeout),e.css("table-layout","auto"),this._headerReflowTimeout=setTimeout((function(){e.css("table-layout","")})))},_setSectionsWidth:function(){var e,t=this.rowsHeader,n=t.parent(".k-pivot-rowheaders").width("auto");e=Math.max(h(this.measureFields),h(this.rowFields)),e=Math.max(t.children("table").width(),e),n.width(e)},_setSectionsHeight:function(){var e=this.measureFields.height("auto").height(),t=this.columnFields.height("auto").height(),n=this.rowFields.height("auto").innerHeight(),r=this.columnsHeader.height("auto").innerHeight(),o=n-this.rowFields.height(),l=t>e?t:e,c=r>n?r:n;this.measureFields.height(l),this.columnFields.height(l),this.rowFields.height(c-o),this.columnsHeader.height(c)},_setContentWidth:function(){var e=this.content.find("table"),t=this.columnsHeader.children("table"),n=e.children("colgroup").children().length*this.options.columnWidth,r=Math.ceil(n/this.content.width()*100);r<100&&(r=100),e.add(t).css("width",r+"%"),this._resetColspan(t)},_setContentHeight:function(){var content=this.content,e=this.rowsHeader,t=this.wrapper.innerHeight(),r=n.support.scrollbar(),o=content[0].offsetHeight===content[0].clientHeight,l=this.options.height;if(this.wrapper.is(":visible")){if(!t||!l)return o&&(r=0),content.height("auto"),void e.height(content.height()-r);t-=d(this.columnFields),(t-=d(this.columnsHeader.parent()))<=2*r&&(t=2*r+1,o||(t+=r)),content.height(t),o&&(r=0),e.height(t-r)}},_resetColspan:function(e){var n=this,r=e.children("tbody").children(":first").children(":first");n._colspan===t&&(n._colspan=r.attr("colspan")),r.attr("colspan",1),clearTimeout(n._layoutTimeout),n._layoutTimeout=setTimeout((function(){r.attr("colspan",n._colspan),n._colspan=t}))},_axisMeasures:function(e){var t=[],n=this.dataSource,r=n.measures(),o=r.length>1||r[0]&&r[0].type;return n.measuresAxis()===e&&(0===n[e]().length||o)&&(t=r),t},items:function(){return[]},refresh:function(){var e,t,r=this,o=r.dataSource,l=o.axes(),c=(l.columns||{}).tuples||[],h=(l.rows||{}).tuples||[],d=r._columnBuilder,f=r._rowBuilder;if(!r.trigger("dataBinding",{action:"rebind"})){if(d.measures=r._axisMeasures("columns"),f.measures=r._axisMeasures("rows"),r.columnsHeaderTree.render(d.build(c)),r.rowsHeaderTree.render(f.build(h)),e={indexes:d._indexes,measures:d.measures,metadata:d.metadata},t={indexes:f._indexes,measures:f.measures,metadata:f.metadata},r.contentTree.render(r._contentBuilder.build(o.view(),e,t)),r._resize(),r.touchScroller)r.touchScroller.contentResized();else{var m=n.touchScroller(r.content);m&&m.movable&&(r.touchScroller=m,m.movable.bind("change",(function(e){r.columnsHeader.scrollLeft(-e.sender.x),r.rowsHeader.scrollTop(-e.sender.y)})))}r._progress(!1),r.trigger("dataBound")}},_scrollable:function(){var t=this.columnsHeader,n=this.rowsHeader;this.content.scroll((function(){t.scrollLeft(this.scrollLeft),n.scrollTop(this.scrollTop)})),n.bind("DOMMouseScroll"+x+" mousewheel"+x,e.proxy(this._wheelScroll,this))},_wheelScroll:function(t){if(!t.ctrlKey){var r=n.wheelDeltaY(t),o=this.content.scrollTop();r&&(t.preventDefault(),e(t.currentTarget).one("wheel"+x,!1),this.rowsHeader.scrollTop(o+-r),this.content.scrollTop(o+-r))}}}),element=n.dom.element,be=n.dom.html,we=function(e,t){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:e,parentMember:0!==t}},ye=function(e,t){for(var path=[],n=0;n<=t;n++)path.push(e.members[n].name);return path},xe=function(e,t){for(var n="",r=0;r<=t;r++)n+=e.members[r].name;return n},ke=o.extend({init:function(){this.measures=1,this.metadata={}},build:function(e){var tbody=this._tbody(e),colgroup=this._colGroup();return[element("table",null,[colgroup,tbody])]},reset:function(){this.metadata={}},_colGroup:function(){for(var e=this._rowLength(),t=[],n=0;n<e;n++)t.push(element("col",null));return element("colgroup",null,t)},_tbody:function(e){var t=e[0];return this.map={},this.rows=[],this.rootTuple=t,this._indexes=[],t?(this._buildRows(t,0),this._normalize()):this.rows.push(element("tr",null,[element("th",null,[be("&nbsp;")])])),element("tbody",null,this.rows)},_normalize:function(){for(var e,t,n,r,o,l=this.rows,c=l.length,h=0;h<c;h++)if(1!==(e=l[h]).rowSpan)for(n=0,t=(r=e.children).length;n<t;n++)(o=r[n]).tupleAll&&(o.attr.rowSpan=e.rowSpan)},_rowIndex:function(e){for(var t=this.rows,n=t.length,r=0;r<n&&t[r]!==e;r++);return r},_rowLength:function(){var e=this.rows[0]?this.rows[0].children:[],t=e.length,n=0,r=0;if(t)for(;r<t;r++)n+=e[r].attr.colSpan||1;return n||(n=this.measures),n},_row:function(e,t,n){var r,o,l=this.rootTuple.members[t].name,c=e.members[t].levelNum,h=l+c,map=this.map,d=map[h];return d?(d.notFirst=!1,d.parentMember&&d.parentMember===n||(d.parentMember=n,d.collapsed=0,d.colSpan=0)):((d=element("tr",null,[])).parentMember=n,d.collapsed=0,d.colSpan=0,d.rowSpan=1,map[h]=d,(r=map[l+(Number(c)-1)])&&((o=r.children)[1]&&-1===o[1].attr.className.indexOf("k-alt")?d.notFirst=!0:d.notFirst=r.notFirst),this.rows.splice(this._rowIndex(r)+1,0,d)),d},_measures:function(e,t,n){var r,map=this.map,o=map.measureRow;o||(o=element("tr",null,[]),map.measureRow=o,this.rows.push(o));for(var l=0,c=e.length;l<c;l++)r=e[l],o.children.push(this._cell(n||"",[this._content(r,t)],r));return c},_content:function(e,t){return be(this.template({member:e,tuple:t}))},_cell:function(e,t,n){var r=element("th",{className:"k-header"+e},t);return r.value=n.caption||n.name,r},_buildRows:function(e,t,r){var o,l,c,h,d,f,m,path,v,_,w=e.members,y=w[t],x=w[t+1],k=[],C=0,S=0,T=0;if(!y.measure){if(path=n.stringify(ye(e,t)),o=this._row(e,t,r),h=(c=y.children).length,(v=this.metadata[path])||(this.metadata[path]=v=we(Number(y.levelNum),t),v.rootLevelNum=Number(this.rootTuple.members[t].levelNum)),this._indexes.push({path:path,tuple:e}),y.hasChildren&&(!1===v.expanded&&(S=v.maxChildren,o.collapsed+=S,v.children=0,h=0),(m={className:"k-icon "+(h?"k-i-collapse":"k-i-expand")})[n.attr("path")]=path,k.push(element("span",m))),k.push(this._content(y,e)),d=this._cell(o.notFirst?" k-first":"",k,y),o.children.push(d),o.colSpan+=1,h){for(f=this._cell(" k-alt",[this._content(y,e)],y),o.children.push(f);C<h;C++)l=this._buildRows(c[C],t,y);_=l.colSpan,S=l.collapsed,d.attr.colSpan=_,v.children=_,v.members=1,o.colSpan+=_,o.collapsed+=S,o.rowSpan=l.rowSpan+1,x&&(x.measure?_=this._measures(x.children,e," k-alt"):(_=(l=this._buildRows(e,t+1)).colSpan,o.collapsed+=l.collapsed,T=l.collapsed),f.attr.colSpan=_,_-=1,v.members+=_,o.colSpan+=_)}else x&&(x.measure?_=this._measures(x.children,e):(_=(l=this._buildRows(e,t+1)).colSpan,o.collapsed+=l.collapsed,T=l.collapsed),v.members=_,_>1&&(d.attr.colSpan=_,o.colSpan+=_-1));return v.maxMembers<v.members+T&&(v.maxMembers=v.members+T),c=v.children+S,v.maxChildren<c&&(v.maxChildren=c),(f||d).tupleAll=!0,o}this._measures(y.children,e)}}),Ce=o.extend({init:function(){this.metadata={}},build:function(e){var tbody=this._tbody(e),colgroup=this._colGroup();return[element("table",null,[colgroup,tbody])]},reset:function(){this.metadata={}},_rowLength:function(){for(var e=this.rows[0].children,t=0,n=0,r=e[n];r;)t+=r.attr.colSpan||1,r=e[++n];return t},_colGroup:function(){for(var e=this._rowLength(),t=[],n=0;n<e;n++)t.push(element("col",null));return element("colgroup",null,t)},_tbody:function(e){var t=e[0];return this.rootTuple=t,this.rows=[],this.map={},this._indexes=[],t?(this._buildRows(t,0),this._normalize()):this.rows.push(element("tr",null,[element("td",null,[be("&nbsp;")])])),element("tbody",null,this.rows)},_normalize:function(){for(var e,t,n,r,o=this.rows,l=o.length,c=0,h=this.rootTuple.members,d=h[0].name,f=h.length,m=0,map=this.map;c<l;c++)for(e=o[c],m=0;m<f;m++)n=this[h[m].name],(t=e.colSpan["dim"+m])&&t.colSpan<n&&(t.attr.colSpan=n-t.colSpan+1);e=map[d],r=map[d+"all"],e&&(e.children[0].attr.className="k-first"),r&&(r.children[0].attr.className+=" k-first")},_row:function(e){var t=element("tr",null,e);return t.rowSpan=1,t.colSpan={},this.rows.push(t),t},_content:function(e,t){return be(this.template({member:e,tuple:t}))},_cell:function(e,t,n){var r=element("td",{className:e},t);return r.value=n.caption||n.name,r},_buildRows:function(e,t){var path,r,o,l,c,h,d,f,m,map=this.map,v=e.members,_=v[t],w=v[t+1],y=_.children,x=y.length,k=Number(_.levelNum),C=this.rootTuple.members[t].name,S=ye(e,t-1).join(""),T=Number(this.rootTuple.members[t].levelNum),D=S+(T===k?"":_.parentName||""),E=map[D+"all"]||map[D],A=k+1,I=[];if(!E||E.hasChild?E=this._row():E.hasChild=!0,_.measure){for(d=E.allCell?"k-grid-footer":"",E.children.push(this._cell(d,[this._content(y[0],e)],y[0])),E.rowSpan=x,m=1;m<x;m++)this._row([this._cell(d,[this._content(y[m],e)],y[m])]);return E}if(map[S+_.name]=E,path=n.stringify(ye(e,t)),(h=this.metadata[path])||(this.metadata[path]=h=we(k,t),h.rootLevelNum=T),this._indexes.push({path:path,tuple:e}),_.hasChildren&&(!1===h.expanded&&(x=0,h.children=0),(f={className:"k-icon "+(x?"k-i-collapse":"k-i-expand")})[n.attr("path")]=path,I.push(element("span",f))),I.push(this._content(_,e)),d=E.allCell&&!x?"k-grid-footer":"",(r=this._cell(d,I,_)).colSpan=A,E.children.push(r),E.colSpan["dim"+t]=r,(!this[C]||this[C]<A)&&(this[C]=A),x){for(E.allCell=!1,E.hasChild=!1,m=0;m<x;m++)E!==(l=this._buildRows(y[m],t))&&(E.rowSpan+=l.rowSpan);E.rowSpan>1&&(r.attr.rowSpan=E.rowSpan),h.children=E.rowSpan,(o=this._cell("k-grid-footer",[this._content(_,e)],_)).colSpan=A,(c=this._row([o])).colSpan["dim"+t]=o,c.allCell=!0,map[S+_.name+"all"]=c,w&&(l=this._buildRows(e,t+1),o.attr.rowSpan=l.rowSpan),E.rowSpan+=c.rowSpan,h.members=c.rowSpan}else w&&(E.hasChild=!1,this._buildRows(e,t+1),(o||r).attr.rowSpan=E.rowSpan,h.members=E.rowSpan);return h.maxChildren<h.children&&(h.maxChildren=h.children),h.maxMembers<h.members&&(h.maxMembers=h.members),E}}),Se=o.extend({init:function(){this.columnAxis={},this.rowAxis={}},build:function(data,e,n){var r=e.indexes[0],o=e.metadata[r?r.path:t];this.columnAxis=e,this.rowAxis=n,this.data=data,this.rowLength=o?o.maxChildren+o.maxMembers:e.measures.length||1,this.rowLength||(this.rowLength=1);var tbody=this._tbody(),colgroup=this._colGroup();return[element("table",null,[colgroup,tbody])]},_colGroup:function(){var e=this.columnAxis.measures.length||1,t=[],n=0;for(this.rows[0]&&(e=this.rows[0].children.length);n<e;n++)t.push(element("col",null));return element("colgroup",null,t)},_tbody:function(){return this.rows=[],this.data[0]?(this.columnIndexes=this._indexes(this.columnAxis,this.rowLength),this.rowIndexes=this._indexes(this.rowAxis,Math.ceil(this.data.length/this.rowLength)),this._buildRows()):this.rows.push(element("tr",null,[element("td",null,[be("&nbsp;")])])),element("tbody",null,this.rows)},_indexes:function(e,n){var r,o,l,c,h,d=[],f=e.indexes,m=e.metadata,v=e.measures,_=v.length||1,w=0,y=0,x=0,k=f.length;if(!k){for(l=0;l<_;l++)d[l]={index:l,measure:v[l],tuple:null};return d}for(;x<k;x++){if(h=0,(c=(o=m[(r=f[x]).path]).children+o.members)&&(c-=_),!1===o.expanded&&o.children!==o.maxChildren&&(h=o.maxChildren),o.parentMember&&o.levelNum===o.rootLevelNum&&(c=-1),c>-1){for(l=0;l<_;l++)o.children,d[c+y+l]={children:c,index:w,measure:v[l],tuple:r.tuple},w+=1;for(;d[y]!==t;)y+=1}if(y===n)break;w+=h}return d},_buildRows:function(){for(var e=this.rowIndexes,t=e.length,n=0;n<t;n++){var r=e[n];r&&this.rows.push(this._buildRow(r))}},_buildRow:function(e){for(var n,r,o,l,c,h,d,f=e.index*this.rowLength,m=this.columnIndexes,v=m.length,_=[],w=0;w<v;w++)(n=m[w])!==t&&(c={},n.children&&(c.className="k-alt"),l="",h=this.data[f+n.index],d=n.measure||e.measure,r={columnTuple:n.tuple,rowTuple:e.tuple,measure:d,dataItem:h},""!==h.value&&d&&d.type&&("status"===d.type?l=this.kpiStatusTemplate(r):"trend"===d.type&&(l=this.kpiTrendTemplate(r))),l||(l=this.dataTemplate(r)),(o=element("td",c,[be(l)])).value=h.value,_.push(o));return c={},e.children&&(c.className="k-grid-footer"),element("tr",c,_)}});r.plugin(_e),n.PivotExcelExporter=n.Class.extend({init:function(e){this.options=e,this.widget=e.widget,this.dataSource=this.widget.dataSource},_columns:function(){var e,t=this.widget.columnsHeaderTree.children[0],n=this.widget.rowsHeaderTree.children[0],r=t.children[0].children.length,o=n.children[0].children.length,l=this.widget.options.columnWidth,c=[];if(o&&this.dataSource.data()[0])for(e=0;e<o;e++)c.push({autoWidth:!0});for(e=0;e<r;e++)c.push({autoWidth:!1,width:l});return c},_cells:function(e,t,n){for(var r,o,l,c,h,d=[],i=0,f=e.length;i<f;i++){for(o=[],r=(l=e[i].children).length,c=0;c<r;c++)h=l[c],o.push({background:"#7a7a7a",color:"#fff",value:h.value,colSpan:h.attr.colSpan||1,rowSpan:h.attr.rowSpan||1});n&&n(o,i),d.push({cells:o,type:t})}return d},_rows:function(){var e=this.widget.columnsHeaderTree.children[0],t=this.widget.rowsHeaderTree.children[0],n=e.children[0].children.length,r=t.children[0].children.length,o=e.children[1].children,l=t.children[1].children,c=this.widget.contentTree.children[0].children[1].children,h=this._cells(o,"header");r&&h[0].cells.splice(0,0,{background:"#7a7a7a",color:"#fff",value:"",colSpan:r,rowSpan:o.length});var d=this._cells(l,"data",(function(e,t){for(var r,o,l=0,h=c[t].children;l<n;l++)r=h[l],o=Number(r.value),isNaN(o)&&(o=r.value),e.push({background:"#dfdfdf",color:"#333",value:o,colSpan:1,rowSpan:1})}));return h.concat(d)},_freezePane:function(){var e=this.widget.columnsHeaderTree.children[0];return{colSplit:this.widget.rowsHeaderTree.children[0].children[0].children.length,rowSplit:e.children[1].children.length}},workbook:function(){var t;return this.dataSource.view()[0]?(t=e.Deferred()).resolve():t=this.dataSource.fetch(),t.then(e.proxy((function(){return{sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:null}]}}),this))}});var Te={extend:function(t){t.events.push("excelExport"),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function(){var t=this.options.excel||{};new n.PivotExcelExporter({widget:this}).workbook().then(e.proxy((function(e){this.trigger("excelExport",{workbook:e})||new n.ooxml.Workbook(e).toDataURLAsync().then((function(r){n.saveAs({dataURI:r,fileName:e.fileName||t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy})}))}),this))}};n.PivotExcelMixin=Te,n.ooxml&&n.ooxml.Workbook&&Te.extend(_e.prototype),n.PDFMixin&&(n.PDFMixin.extend(_e.prototype),_e.fn._drawPDF=function(){return this._drawPDFShadow({width:this.wrapper.width()},{avoidLinks:this.options.pdf.avoidLinks})})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1306)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1301:function(e,t){e.exports=n(50)},1306:function(e,t,n){var r,o,l;n(3),o=[n(1301)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.support.browser,l=n.date.setTime,c=r.SchedulerView,h=n._outerWidth,d=n._outerHeight,f=e.extend,m=e.proxy,v=n.date.getDate,_=n.date.MS_PER_MINUTE,w=n.date.MS_PER_DAY,y=n.date.getMilliseconds,x=".kendoMultiDayView",k=n.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),C=n.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),S=n.template("#var dateString = isMobile ? kendo.toString(date,'ddd')[0] : kendo.toString(date,'ddd M/dd'); #<span class='k-link k-nav-day'>#=dateString#</span>");function T(e){var t=new Date(1980,1,1,0,0,0);return l(t,y(e)),t}function D(e,t,n){return e>=t&&e<=n}function E(e,t,n,r){return r=r?e<=n:e<n,e>t&&r}function A(e,t,element,r){var o=e._continuousEvents,l=o[o.length-1],c=v(t.start.startDate()).getTime();if(r&&l&&v(l.start.startDate()).getTime()==c){for(var h=o.length-1;h>-1&&!(o[h].isAllDay||v(o[h].start.startDate()).getTime()<c);h--);o.splice(h+1,0,{element:element,isAllDay:!0,uid:element.attr(n.attr("uid")),start:t.start,end:t.end})}else o.push({element:element,isAllDay:r,uid:element.attr(n.attr("uid")),start:t.start,end:t.end})}var I=c.extend({init:function(element,e){c.fn.init.call(this,element,e),this.title=this.options.title||this.options.name,this._workDays=function(e){var t=[],n=e.workWeekStart%7,r=Math.abs(e.workWeekEnd%7);for(t.push(n);r!=n;)n>6?n-=7:n++,t.push(n);return t}(this.options),this._templates(),this._editable(),this.calculateDateRange(),this._groups(),this._currentTime(!0)},_currentTimeMarkerUpdater:function(){this._updateCurrentTimeMarker(new Date)},_updateCurrentTimeMarker:function(t){var r,l,c,f,m=this.options,v="<div class='k-current-time'></div>";if(!1===m.currentTimeMarker.useLocalTimezone){var _=m.dataSource.options.schema.timezone;if(m.dataSource&&_){var w=n.timezone.offset(t,_);t=n.timezone.convert(t,t.getTimezoneOffset(),w)}}r=this.times.find(".k-current-time"),l=this.content.find(".k-current-time");var y=m.group&&"horizontal"!=m.group.orientation?this.groups.length:1,x=this.times.find("tr:first th:first"),k=this.times.find("tr:first th:last"),C=this.content[0].scrollWidth;(o.msie||o.edge)&&(C-=1),f=this._isRtl?x.position().left+d(x)-d(k):k.position().left;for(var S=0;S<y;S++){var T=this.groups[S];if(!T)return;var D=n.date.toUtcTime(t),E=T.timeSlotRanges(D,D+1);if(0===E.length)return;if(E[0].collection.slotByStartDate(t)){var A=r[S]?r.eq(S):e(v).prependTo(this.times),I=Math.round(E[0].innerRect(t,new Date(t.getTime()+1),!1).top),M={};this._isRtl?(M.right=f,A.addClass("k-current-time-arrow-left")):(M.left=f,A.addClass("k-current-time-arrow-right")),c||(c=.8666*h(A)/2),M.top=I-c,A.css(M),(l[S]?l.eq(S):e(v).prependTo(this.content)).css({top:I,height:"1px",right:0,width:C,left:0})}}},_currentTime:function(e){var t=this.options.currentTimeMarker;!1!==t&&void 0!==t.updateInterval&&(this._currentTimeMarkerUpdater(),e&&(this._currentTimeUpdateTimer=setInterval(m(this._currentTimeMarkerUpdater,this),t.updateInterval)))},_updateResizeHint:function(e,t,r,o){var l,h,d,f,m=e.isMultiDay(),v=this.groups[t].ranges(r,o,m,e.isAllDay);this._removeResizeHint();for(var _=0;_<v.length;_++){var w=v[_],y=w.startSlot();if(this._isGroupedByDate()&&m)for(var x=y.index;x<=w.end.index;x++){var slot=w.collection._slots[x];l=slot.offsetWidth,h=slot.clientHeight,d=slot.offsetTop,f=c.fn._createResizeHint.call(this,slot.offsetLeft,d,l,h),this._resizeHint=this._resizeHint.add(f)}else{if(l=y.offsetWidth,h=y.clientHeight,d=y.offsetTop,m)l=w.innerWidth();else{var rect=w.outerRect(r,o,this.options.snap);d=rect.top,h=rect.bottom-rect.top}f=c.fn._createResizeHint.call(this,y.offsetLeft,d,l,h),this._resizeHint=this._resizeHint.add(f)}}var k="t",C=this.content;m&&(k="M/dd",(C=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div")).length||(C=this.content)),this._resizeHint.appendTo(C),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(n.toString(n.timezone.toLocalDate(r),k)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(n.toString(n.timezone.toLocalDate(o),k))},_updateMoveHint:function(t,r,o){var l=t.isMultiDay(),c=this.groups[r],h=n.date.toUtcTime(t.start)+o,d=h+t.duration(),f=c.ranges(h,d,l,t.isAllDay);h=n.timezone.toLocalDate(h),d=n.timezone.toLocalDate(d),this._removeMoveHint(t.uid),!l&&(0===y(d)||y(d)<y(this.startTime()))&&f.length>1&&f.pop();for(var m=e(),v=0;v<f.length;v++){var _,w=f[v],x=w.start,k={left:x.offsetLeft+2,top:x.offsetTop};if(this._isGroupedByDate()&&l)for(var C=x.index;C<=w.end.index;C++){var slot=w.collection._slots[C];k.left=this._isRtl?.1*slot.clientWidth+slot.offsetLeft+2:slot.offsetLeft+2,k.height=slot.offsetHeight,k.width=.9*slot.clientWidth-4,_=this._createEventElement(t.clone({start:h,end:d}),!l),t.inverseColor&&_.addClass("k-event-inverse"),this._appendMoveHint(_,k),m=m.add(_)}else{if(this._isRtl&&(k.left=.1*x.clientWidth+x.offsetLeft+2),l)k.width=w.innerWidth()-4;else{var rect=w.outerRect(h,d,this.options.snap);k.top=rect.top,k.height=rect.bottom-rect.top,k.width=.9*x.clientWidth-4}_=this._createEventElement(t.clone({start:h,end:d}),!l),t.inverseColor&&_.addClass("k-event-inverse"),this._appendMoveHint(_,k),m=m.add(_)}}var content=this.content;l&&((content=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div")).length||(content=this.content)),m.appendTo(content)},_appendMoveHint:function(e,t){e.addClass("k-event-drag-hint"),e.css(t),this._moveHint=this._moveHint.add(e)},_slotByPosition:function(e,t){var slot,n,r;for(this._isVerticallyGrouped()?(n=this.content.offset(),t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft):n=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset(),n&&(e-=n.left,t-=n.top),e=Math.ceil(e),t=Math.ceil(t),r=0;r<this.groups.length;r++)if(slot=this.groups[r].daySlotByPosition(e,t,this._isGroupedByDate()))return slot;for(n&&(e+=n.left,t+=n.top),e-=(n=this.content.offset()).left,t-=n.top,this._isVerticallyGrouped()||(t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft),e=Math.ceil(e),t=Math.ceil(t),r=0;r<this.groups.length;r++)if(slot=this.groups[r].timeSlotByPosition(e,t))return slot;return null},_groupCount:function(){var e=this.groupedResources,t=this._isGroupedByDate();return e.length?"vertical"===this._groupOrientation()?t?this._columnCountForLevel(e.length-1):this._rowCountForLevel(e.length-1):t?this._columnCountForLevel(e.length)/this._columnCountForLevel(0):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1},_columnCountInResourceView:function(){var e=this.groupedResources,t=this._isGroupedByDate();return!e.length||this._isVerticallyGrouped()?t?this._rowCountForLevel(0):this._columnCountForLevel(0):t?this._columnCountForLevel(0):this._columnOffsetForResource(e.length)},_timeSlotGroups:function(e,t){var n,time,r,o,l=this._timeSlotInterval(),c=e,h=this._isGroupedByDate(),d=this.content.find("tr:not(.k-scheduler-header-all-day)");d.attr("role","row");var f=d.length;this._isVerticallyGrouped()&&(h&&(c=t),f=Math.floor(f/c));for(var m=0;m<c;m++){var v=0,_=0;for(this._isVerticallyGrouped()?v=m:_=m,r=v*f;r<(v+1)*f;){var w=d[r].children;r%f==0&&(time=y(new Date(+this.startTime())));var x=0;if(h)if(this._isVerticallyGrouped())for(o=0;o<e;o++)n=this.groups[o],this._addTimeSlotGroup(n,w,o,time,l,m);else for(n=this.groups[m],o=_;o<e*t;o+=e)this._addTimeSlotGroup(n,w,o,time,l,x),x++;else for(n=this.groups[m],o=_*t;o<(_+1)*t;o++)this._addTimeSlotGroup(n,w,o,time,l,x),x++;time+=l,r++}}},_addTimeSlotGroup:function(e,t,n,time,r,o){var l=t[n],c=e.getTimeSlotCollection(o),h=this._dates[o];if(h&&l){var d=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate())+time,f=d+r;l.setAttribute("role","gridcell"),l.setAttribute("aria-selected",!1),c.addTimeSlot(l,d,f)}},_addDaySlotGroup:function(e,t,r,o,l){var c=t[r],h=this._dates[l];if(h){var d=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate());c.setAttribute("role","gridcell"),c.setAttribute("aria-selected",!1),e.addDaySlot(c,d,d+n.date.MS_PER_DAY)}},_daySlotGroups:function(e,t){var n,r,o=e,l=this._isGroupedByDate();this._isVerticallyGrouped()?(l&&(o=t),n=this.element.find(".k-scheduler-header-all-day")):n=this.element.find(".k-scheduler-header-all-day tr"),n.attr("role","row");for(var c=0;c<o;c++){var h,d=0;this._isVerticallyGrouped()&&(d=c);var f=n[d].children,m=0;this._isVerticallyGrouped()||(m=c);var v=0;if(l)if(this._isVerticallyGrouped())for(r=0;r<e;r++)h=this.groups[r].getDaySlotCollection(0),this._addDaySlotGroup(h,f,r,t,c);else for(h=this.groups[c].getDaySlotCollection(0),r=m;r<e*t;r+=e)this._addDaySlotGroup(h,f,r,t,v),v++;else for(h=this.groups[c].getDaySlotCollection(0),r=m*t;r<(m+1)*t;r++)this._addDaySlotGroup(h,f,r,t,v),v++}},_groups:function(){var e=this._groupCount(),t=this._columnCountInResourceView();this.groups=[];for(var r=0;r<e;r++){for(var view=this._addResourceView(r),o=0;o<t;o++)this._dates[o]&&view.addTimeSlotCollection(this._dates[o],n.date.addDays(this._dates[o],1));this.options.allDaySlot&&view.addDaySlotCollection(this._dates[0],n.date.addDays(this._dates[this._dates.length-1],1))}this._timeSlotGroups(e,t),this.options.allDaySlot&&this._daySlotGroups(e,t)},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",selectedMobileDateFormat:"{0:MMM} {0:dd} - {1:dd}",allDaySlot:!0,showWorkHours:!1,title:"",startTime:n.date.today(),endTime:n.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"<span class='k-time-text'>#=kendo.toString(date, 'h:mm')#</span> <span class='k-time-period'>#=kendo.toString(date, 'tt')#</span>",minorTimeHeaderTemplate:"&\\#8203;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:k,allDayEventTemplate:C,dateHeaderTemplate:S,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:!0}},events:["remove","add","edit"],_templates:function(){var e=this.options,t=f({},n.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,'<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-non-recurrence"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-reload"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-60-up"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-60-down"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>'),this.allDayEventTemplate=this._eventTmpl(e.allDayEventTemplate,'<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-60-left"></span>#}## if(data.isException()) {#<span class="k-icon k-i-non-recurrence"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-reload"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-60-right"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>'),this.majorTimeHeaderTemplate=n.template(e.majorTimeHeaderTemplate,t),this.minorTimeHeaderTemplate=n.template(e.minorTimeHeaderTemplate,t),this.dateHeaderTemplate=n.template(e.dateHeaderTemplate,t),this.slotTemplate=n.template(e.slotTemplate,t),this.allDaySlotTemplate=n.template(e.allDaySlotTemplate,t),this.groupHeaderTemplate=n.template(e.groupHeaderTemplate,t)},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+x,".k-event a:has(.k-i-close)",(function(r){t.trigger("remove",{uid:e(this).closest(".k-event").attr(n.attr("uid"))}),r.preventDefault()})),!1!==t.options.editable.create&&t.element.on("dblclick"+x,".k-scheduler-content > table td",(function(n){if(!e(this).parent().hasClass("k-scheduler-header-all-day")){var slot=t._slotByPosition(n.pageX,n.pageY);if(slot){var r=t._resourceBySlot(slot);t.trigger("add",{eventInfo:f({start:slot.startDate(),end:slot.endDate()},r)})}n.preventDefault()}})).on("dblclick"+x,".k-scheduler-header-all-day td",(function(e){var slot=t._slotByPosition(e.pageX,e.pageY);if(slot){var r=t._resourceBySlot(slot);t.trigger("add",{eventInfo:f({},{isAllDay:!0,start:n.date.getDate(slot.startDate()),end:n.date.getDate(slot.startDate())},r)})}e.preventDefault()})),!1!==t.options.editable.update&&t.element.on("dblclick"+x,".k-event",(function(r){t.trigger("edit",{uid:e(this).closest(".k-event").attr(n.attr("uid"))}),r.preventDefault()}))},_touchEditable:function(){var t=this,r=0;n.support.mobileOS.android&&(r=5),!1!==t.options.editable.create&&(t._addUserEvents=new n.UserEvents(t.element,{threshold:r,filter:".k-scheduler-content td",useClickAsTap:!n.support.browser.edge,tap:function(n){if(!t._scrolling&&!e(n.target).parent().hasClass("k-scheduler-header-all-day")){var r=void 0!==n.x.location?n.x.location:n.x,o=void 0!==n.y.location?n.y.location:n.y,slot=t._slotByPosition(r,o);if(slot){var l=t._resourceBySlot(slot);t.trigger("add",{eventInfo:f({start:slot.startDate(),end:slot.endDate()},l)})}n.preventDefault()}}}),t._allDayUserEvents=new n.UserEvents(t.element,{threshold:r,useClickAsTap:!n.support.browser.edge,filter:".k-scheduler-header-all-day td",tap:function(e){if(!t._scrolling){var r=void 0!==e.x.location?e.x.location:e.x,o=void 0!==e.y.location?e.y.location:e.y,slot=t._slotByPosition(r,o);if(slot){var l=t._resourceBySlot(slot);t.trigger("add",{eventInfo:f({},{isAllDay:!0,start:n.date.getDate(slot.startDate()),end:n.date.getDate(slot.startDate())},l)})}e.preventDefault()}}})),!1!==t.options.editable.update&&(t._editUserEvents=new n.UserEvents(t.element,{threshold:r,useClickAsTap:!n.support.browser.edge,filter:".k-event",tap:function(r){if(!t._scrolling){var o=e(r.target).closest(".k-event");e(r.touch.initialTouch).hasClass("k-i-close")?t.trigger("remove",{uid:o.attr(n.attr("uid"))}):o.hasClass("k-event-active")||t.trigger("edit",{uid:o.attr(n.attr("uid"))}),r.preventDefault()}}}))},_layout:function(e){for(var t=[],r=[],o=this.options,l=this,c=l._isGroupedByDate(),h=0;h<e.length;h++){var d={};d.text=l.dateHeaderTemplate({date:e[h],isMobile:l._isMobile()}),n.date.isToday(e[h])&&(d.className="k-today"),t.push(d)}var f=this.groupedResources;return o.allDaySlot&&r.push({text:o.messages.allDay,allDay:!0,cellContent:function(t){var n=t;return t=f.length&&"vertical"!==l._groupOrientation()?t%e.length:t,l.allDaySlotTemplate({date:e[t],resources:function(){return l._resourceBySlot({groupIndex:n})}})}}),this._forTimeRange(this.startTime(),this.endTime(),(function(e,t,n,o){var c={text:(t?l.majorTimeHeaderTemplate:l.minorTimeHeaderTemplate)({date:e}),className:o?"k-slot-cell":""};r.push(c)})),f.length&&("vertical"===this._groupOrientation()?c?(r=this._createDateLayout(t,r),t=this._createColumnsLayout(f,null,this.groupHeaderTemplate)):r=this._createRowsLayout(f,r,this.groupHeaderTemplate):t=c?this._createColumnsLayout(f,t,this.groupHeaderTemplate,t):this._createColumnsLayout(f,t,this.groupHeaderTemplate)),{columns:t,rows:r}},_footer:function(){var t=this.options;if(!1!==t.footer){var html='<div class="k-header k-scheduler-footer">',r=t.footer.command;this._isMobile()&&(html+='<span class="k-state-default k-scheduler-today"><a href="#" class="k-link">',html+=t.messages.today+"</a></span>"),r&&"workDay"===r?this._isMobile()?(html+='<span class="k-state-default k-scheduler-fullday"><a href="#" class="k-link">',html+=(t.showWorkHours?t.messages.showFullDay:t.messages.showWorkDay)+"</a></span>"):(html+='<ul class="k-reset k-header">',html+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',html+=(t.showWorkHours?t.messages.showFullDay:t.messages.showWorkDay)+"</a></li>",html+="</ul>"):html+="&nbsp;",html+="</div>",this.footer=e(html).appendTo(this.element);var o=this;this.footer.on("click"+x,".k-scheduler-fullday",(function(e){e.preventDefault(),o.trigger("navigate",{view:o.name||t.name,date:t.date,isWorkDay:!t.showWorkHours})})),this.footer.on("click"+x,".k-scheduler-today",(function(e){e.preventDefault();var r,l=o.options.timezone,c=new Date;if(l){var h=n.timezone.offset(c,l);r=n.timezone.convert(c,c.getTimezoneOffset(),h)}else r=c;o.trigger("navigate",{view:o.name||t.name,action:"today",date:r})}))}},_forTimeRange:function(e,t,n,r){e=T(e),t=T(t);var o,c,h=y(e),d=y(t),f=this.options.minorTickCount,m=this.options.majorTick*_,v=m/f||1,x=new Date(+e),k=x.getDate(),C=0,html="";for(c=w/v,h!=d&&(h>d&&(d+=w),c=(d-h)/v),c=Math.round(c);C<c;C++){var S=C%(m/v);html+=n(x,0===S,S<f-1,S===f-1),l(x,v,!1)}return d&&(o=y(x),k<x.getDate()&&(o+=w),o>d&&(x=new Date(+t))),r&&(html+=r(x)),html},_content:function(e){var t,n=this,r=n.options,o=n.startTime(),l=this.endTime(),c=1,h=1,d=e.length,html="",f=this.groupedResources,m=this.allDaySlotTemplate,v=!1,_=n._isGroupedByDate(),w=0;f.length&&((v="vertical"===n._groupOrientation())?(h=this._rowCountForLevel(this.rowLevels.length-2),_&&(c=this._columnCountForLevel(this.columnLevels.length-1)),r.allDaySlot&&(t=function(t){var r='<tr class="k-scheduler-header-all-day">',o=_?0:t,l=function(){return n._resourceBySlot({groupIndex:o})};if(_)for(;o<c;o++)r+="<td>"+m({date:e[w],resources:l})+"</td>";else for(var h=0;h<e.length;h++)r+="<td>"+m({date:e[h],resources:l})+"</td>";return r+"</tr>"})):c=_?this._columnCountForLevel(this.columnLevels.length-1)/this._columnCountForLevel(0):this._columnCountForLevel(this.columnLevels.length-2)),html+="<tbody>";for(var y=function(t,r,o){var l,h,content="",f=0;if(content="<tr"+(o?' class="k-middle-row"':"")+">",_)for(l=0,h=d;l<h;l++){for(f=0;f<c;f++){var m=l;v&&(m=w),content=n._addCellsToContent(content,e,t,m,f,x)}if(v)break}else for(;f<c;f++)for(l=0,h=d;l<h;l++)content=n._addCellsToContent(content,e,t,l,f,x);return content+="</tr>"},x=0;x<h;x++)html+=t?t(x):"",html+=this._forTimeRange(o,l,y),v&&w++;html+="</tbody>",this.content.find("table").append(html)},_addCellsToContent:function(content,e,t,r,o,l){var c,h,d=this,f="",m=this.slotTemplate,v="vertical"===this._groupOrientation();return n.date.isToday(e[r])&&(f+="k-today"),(n.date.getMilliseconds(t)<n.date.getMilliseconds(this.options.workDayStart)||n.date.getMilliseconds(t)>=n.date.getMilliseconds(this.options.workDayEnd)||!this._isWorkDay(e[r]))&&(f+=" k-nonwork-hour"),content+="<td"+(""!==f?' class="'+f+'"':"")+">",c=n.date.getDate(e[r]),n.date.setTime(c,n.date.getMilliseconds(t)),content+=m({date:c,resources:(h=v&&!d._isGroupedByDate()?l:o,function(){return d._resourceBySlot({groupIndex:h})})}),content+="</td>"},_isWorkDay:function(e){for(var t=e.getDay(),n=this._workDays,i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},_render:function(t){var n=this;t=t||[],this._dates=t,this._startDate=t[0],this._endDate=t[t.length-1||0],this.createLayout(this._layout(t)),this._content(t),this._footer(),this.refreshLayout();var r=this.element.find(".k-scheduler-header-all-day td");r.length&&(this._allDayHeaderHeight=r.first()[0].clientHeight),n.element.on("click"+x,".k-nav-day",(function(t){var th=e(t.currentTarget).closest("th"),r=th.offset(),o=0,l=d(th);n._isGroupedByDate()&&(n._isVerticallyGrouped()?(o=h(n.times),l=0):l=d(n.datesHeader));var slot=n._slotByPosition(r.left+o,r.top+l);n.trigger("navigate",{view:"day",date:slot.startDate()})}))},startTime:function(){var e=this.options;return e.showWorkHours?e.workDayStart:e.startTime},endTime:function(){var e=this.options;return e.showWorkHours?e.workDayEnd:e.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(e){var time=y(this.endTime())||w;return e&&(time=0),new Date(this._endDate.getTime()+time)},nextDate:function(){return n.date.nextDay(this.endDate())},previousDate:function(){return n.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){this._currentTimeUpdateTimer&&clearInterval(this._currentTimeUpdateTimer),this.datesHeader&&this.datesHeader.off(x),this.element&&this.element.off(x),this.footer&&this.footer.remove(),c.fn.destroy.call(this),this._isMobile()&&this.options.editable&&(!1!==this.options.editable.create&&(this._addUserEvents.destroy(),this._allDayUserEvents.destroy()),!1!==this.options.editable.update&&this._editUserEvents.destroy())},inRange:function(e){var t=c.fn.inRange.call(this,e);if(e.isAllDay)return t;var r=y(this.startTime()),o=y(this.endTime())||n.date.MS_PER_DAY,l=y(e.start),h=y(e.end)||n.date.MS_PER_DAY;return t&&r<=l&&h<=o},selectionByElement:function(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_timeSlotInterval:function(){var e=this.options;return e.majorTick/e.minorTickCount*_},_timeSlotIndex:function(e){var t=this.options;return(y(e)-y(this.startTime()))/(t.majorTick/t.minorTickCount*_)},_slotIndex:function(e,t){return t?this._dateSlotIndex(e):this._timeSlotIndex(e)},_dateSlotIndex:function(e,t){var r,o,l=this._dates||[];for(r=0,o=l.length;r<o;r++)if(D(e,n.date.getDate(l[r]),new Date(n.date.getDate(l[r]).getTime()+w-(t?0:1))))return 1*r;return-1},_positionAllDayEvent:function(element,t){var n=t.innerWidth(),r=t.start.index,o=t.end.index,l=c.collidingEvents(t.events(),r,o),h=this._headerColumnCount||0,d=r!==o?5:4,f=this._allDayHeaderHeight,m=t.startSlot();element.css({left:m.offsetLeft+2,width:n-d}),t.addEvent({slotIndex:r,start:r,end:o,element:element}),l.push({slotIndex:r,start:r,end:o,element:element});var v=c.createRows(l);v.length&&v.length>h&&(this._headerColumnCount=v.length);for(var _=t.start.offsetTop,w=0,y=v.length;w<y;w++)for(var x=v[w].events,k=0,C=x.length;k<C;k++)e(x[k].element).css({top:_+w*f})},_arrangeColumns:function(element,e,t,n){var r=n.start;element={element:element,slotIndex:r.index,start:e,end:e+t};var o,l,h=r.clientWidth,d=.1*h,f=n.events(),m=c.collidingEvents(f,element.start,element.end);n.addEvent(element),m.push(element);for(var v=(h-d)/(o=c.createColumns(m)).length,_=0,w=o.length;_<w;_++)for(var y=0,x=(l=o[_].events).length;y<x;y++){var k=v-4;l[y].element[0].style.width=(k>0?k:v)+"px",l[y].element[0].style.left=(this._isRtl?d:0)+r.offsetLeft+_*v+2+"px"}},_positionEvent:function(e,element,t){var n=e._startTime||e.start,r=e._endTime||e.end,rect=t.innerRect(n,r,!1),o=rect.bottom-rect.top-2;o<0&&(o=0),element.css({top:rect.top,height:o}),this._arrangeColumns(element,rect.top,element[0].clientHeight,t)},_createEventElement:function(t,r,head,o){var l,template=r?this.eventTemplate:this.allDayEventTemplate,c=this.options,h=c.editable,d=this._isMobile(),m=h&&!1!==h.destroy&&!d,_=h&&!1!==h.resize,x=v(this.startDate()),k=v(this.endDate()),C=y(this.startTime()),S=y(this.endTime()),T=t._time("start"),E=t._time("end");C>=S&&(S=y(new Date(this.endTime().getTime()+w-1))),r||t.isAllDay||(k=new Date(k.getTime()+w));var A=t.start,I=t.end;t.isAllDay&&(I=v(t.end)),!D(v(A),x,k)&&!D(I,x,k)||r&&T<C&&E>S?l=!0:v(A)<x||r&&T<C?o=!0:(I>k&&!r||r&&E>S)&&(head=!0);var M=this.eventResources(t);t._startTime&&T!==n.date.getMilliseconds(t.start)&&(A=new Date(T),A=n.timezone.apply(A,"Etc/UTC")),t._endTime&&E!==n.date.getMilliseconds(t.end)&&(I=new Date(E),I=n.timezone.apply(I,"Etc/UTC"));var data=f({},{ns:n.ns,resizable:_,showDelete:m,middle:l,head:head,tail:o,singleDay:1==this._dates.length,resources:M,inverseColor:!1,messages:c.messages},t,{start:A,end:I}),element=e(template(data));return this.angular("compile",(function(){return{elements:element,data:[{dataItem:data}]}})),element},_isInTimeSlot:function(e){var t=this.startTime(),r=this.endTime(),o=e._startTime||e.start,c=e._endTime||e.end;if(y(r)===y(n.date.getDate(r))&&(r=n.date.getDate(r),l(r,w-1)),e._date("end")>e._date("start")&&(c=+e._date("end")+(w-1)),c=e._endTime?c-e._date("end"):y(new Date(c)),o=e._startTime?o-e._date("start"):y(new Date(o)),r=y(r),(t=y(t))===o&&o===c)return!0;var h=o!==r;return E(o,t,r,h)||E(c,t,r,h)||E(t,o,c)||E(r,o,c)},_isInDateSlot:function(e){var t=this.groups[0],r=t.firstSlot().start,o=t.lastSlot().end-1,l=n.date.toUtcTime(e.start),c=n.date.toUtcTime(e.end);return(D(l,r,o)||D(c,r,o)||D(r,l,c)||D(o,l,c))&&(!D(c,r,r)||D(c,l,l)||e.isAllDay)},_updateAllDayHeaderHeight:function(e){if(this._height!==e){this._height=e;var t=this.element.find(".k-scheduler-header-all-day td");if(t.length){t.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(e);for(var n=0;n<this.groups.length;n++)this.groups[n].refresh()}}},_renderEvents:function(e,t){var n,r,o,l=this.datesHeader.find(".k-scheduler-header-wrap > div"),c=this._isGroupedByDate();for(r=0,o=e.length;r<o;r++)if(n=e[r],this._isInDateSlot(n)){var element,h,d,f,m,v,_=n.isAllDay||n.duration()>=w,y=_&&!this._isVerticallyGrouped()?l:this.content;if(_){if(this.options.allDaySlot&&((v=this.groups[t])._continuousEvents||(v._continuousEvents=[]),(h=v.slotRanges(n)).length)){var x=(d=h[0]).start.index,k=d.end.index;if(c&&x!==k){f=d.start.start,m=d.end.end;for(var C=new Date(f),S=new Date(f),i=d.start.index;i<=d.end.index;i++){element=this._createEventElement(n,!_,i!==k,i!==x);var T=v.daySlotRanges(C,S,!0)[0];S.setDate(S.getDate()+1),C.setDate(C.getDate()+1),this._positionAllDayEvent(element,T),A(v,T,element,!0),element.appendTo(y),this._inverseEventColor(element)}}else element=this._createEventElement(n,!_),this._positionAllDayEvent(element,h[0]),A(v,h[0],element,!0),element.appendTo(y),this._inverseEventColor(element)}}else if(this._isInTimeSlot(n)){(v=this.groups[t])._continuousEvents||(v._continuousEvents=[]);for(var D=(h=v.slotRanges(n)).length,E=0;E<D;E++){d=h[E],f=n.start,m=n.end,D>1&&(0===E?m=d.end.endDate():E==D-1?f=d.start.startDate():(f=d.start.startDate(),m=d.end.endDate()));var I=n.clone({start:f,end:m,_startTime:n._startTime,_endTime:n.endTime});if(this._isInTimeSlot(I)){var head=d.head;(element=this._createEventElement(n,!_,head,d.tail)).appendTo(y),this._inverseEventColor(element),this._positionEvent(I,element,d),A(v,d,element,!1)}}}}},render:function(t){this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),t=new n.data.Query(t).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var r=[];this._eventsByResource(t,this.groupedResources,r);var o=e.map(this._dates,(function(t){return Math.max.apply(null,e.map(r,(function(n){return e.grep(n,(function(e){return e.isMultiDay()&&D(t,v(e.start),v(e.end))})).length})))})),l=Math.max.apply(null,o);this._updateAllDayHeaderHeight((l+1)*this._allDayHeaderHeight);for(var c=0;c<r.length;c++)this._renderEvents(r[c],c);this.refreshLayout(),this._currentTime(!1),this.trigger("activate")},_eventsByResource:function(e,t,r){var o=t[0];if(o)for(var view=o.dataSource.view(),l=0;l<view.length;l++){var h=this._resourceValue(o,view[l]),d=new n.data.Query(e).filter({field:o.field,operator:c.groupEqFilter(h)}).toArray();t.length>1?this._eventsByResource(d,t.slice(1),r):r.push(d)}else r.push(e)},_columnOffsetForResource:function(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1)},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},_updateDirection:function(e,t,n,r,o){var l=e.isAllDay,c=t[0].start,h=t[t.length-1].end;n&&(o?l||c.index!==h.index||c.collectionIndex!==h.collectionIndex||(e.backward=r):(l&&c.index===h.index||!l&&c.collectionIndex===h.collectionIndex)&&(e.backward=r))},_changeViewPeriod:function(e,t,n){if(!n){var r,o,c,h=t?this.previousDate():this.nextDate(),d=e.start,f=e.end,m=this._isGroupedByDate()&&this._isVerticallyGrouped(),v=this.groups[e.groupIndex],_=t?v._timeSlotCollections:v._getCollections(v.daySlotCollectionCount()),x=_[_.length-1]._slots,k=t||v.daySlotCollectionCount()?x.length-1:0;if(o=new Date(h),c=new Date(h),this._isInRange(o,c))return!1;if(e.start=o,e.end=c,m){var C=new Date(x[k].startDate()),S=new Date(x[k].endDate());r=y(S)?y(S):w,l(e.start,y(C)),l(e.end,r),v.daySlotCollectionCount()&&(e.isAllDay=!e.isAllDay)}else r=e.isAllDay||!y(f)?w:y(f),l(e.start,y(d)),l(e.end,r);return this._isVerticallyGrouped()||(e.groupIndex=t?this.groups.length-1:0),e.events=[],!0}}});f(!0,r,{MultiDayView:I,DayView:I.extend({options:{name:"DayView",title:"Day",selectedMobileDateFormat:"{0:MMM d}"},name:"day"}),WeekView:I.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"week",calculateDateRange:function(){var e,t=this.options.date,r=n.date.dayOfWeek(t,this.calendarInfo().firstDay,-1),o=[];for(e=0;e<7;e++)o.push(r),r=n.date.nextDay(r);this._render(o)}}),WorkWeekView:I.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"workWeek",nextDate:function(){var e=n.date.dayOfWeek(n.date.nextDay(this.startDate()),this.calendarInfo().firstDay,1);return n.date.addDays(e,this._workDays[0])},previousDate:function(){var e=n.date.dayOfWeek(this.startDate(),this.calendarInfo().firstDay,-1),t=this._workDays;return n.date.addDays(e,t[t.length-1]-7)},calculateDateRange:function(){for(var e=this.options.date,t=n.date.dayOfWeek,r=t(e,this.calendarInfo().firstDay,-1),o=t(r,this.options.workWeekStart,1),l=t(o,this.options.workWeekEnd,1),c=[];o<=l;)c.push(o),o=n.date.nextDay(o);this._render(c)}})})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1308)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1011:function(e,t){e.exports=n(13)},1123:function(e,t){e.exports=n(32)},1140:function(e,t){e.exports=n(33)},1308:function(e,t,n){var r,o,l;n(3),o=[n(1011),n(1123),n(1140)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.timezone,o=n.Class,l=n.ui,c=l.Widget,h=l.DropDownList,d=n.date,f=d.setTime,m=d.setDayOfWeek,v=d.adjustDST,_=d.firstDayOfMonth,w=d.getMilliseconds,y=[0,31,60,91,121,152,182,213,244,274,305,335,366],x=[0,31,59,90,120,151,181,212,243,273,304,334,365],k=[31,28,31,30,31,30,31,31,30,31,30,31],C={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},S={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},T=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],D=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],E=D.length,A="yyyyMMddTHHmmssZ",I={months:function(e,t,n){var r=n.months,o=Y(r,e.getMonth()+1),l=!1;return null!==o&&(o.length?e.setMonth(o[0]-1,1):e.setFullYear(e.getFullYear()+1,r[0]-1,1),l=!0),l},monthDays:function(e,t,n){for(var r,o,l,c=!1,h=e.getHours(),d=function(e){return e<0&&(e=r+e+1),e};e<=t;){if(o=e.getMonth(),r=X(e),null===(l=Y(n.monthDays,e.getDate(),d)))return c;if(c=!0,l.length){if(e.setMonth(o,l.sort(Z)[0]),v(e,h),o===e.getMonth())break}else e.setMonth(o+1,1)}return c},yearDays:function(e,t,n){for(var r,o,l=!1,c=e.getHours(),h=function(e){return e<0&&(e=r+e),e};e<t;){if(r=J(e)?366:365,null===(o=Y(n.yearDays,O(e),h)))return l;if(l=!0,r=e.getFullYear(),o.length){e.setFullYear(r,0,o.sort(Z)[0]),v(e,c);break}e.setFullYear(r+1,0,1)}return l},weeks:function(e,t,n){for(var r,o,l,c=n.weekStart,h=!1,d=e.getHours(),f=function(e){return e<0&&(e=53+e),e};e<t;){if(null===(o=Y(n.weeks,V(e,c),f)))return h;if(h=!0,r=e.getFullYear(),o.length){l=7*o.sort(Z)[0]-1,e.setFullYear(r,0,l),m(e,c,-1),v(e,d);break}e.setFullYear(r+1,0,1)}return h},weekDays:function(e,t,n){var r,o,l=n.weekDays,c=n.weekStart,h=function(e,t,n){for(var r,o,l,c,h=U(t.getDay(),n),d=e.length,f=[],m=0;m<d;m++)if(o=e[m],c=W(t,n),null!==(r=j(t,o,n)))if(c<r)f.push(o);else if(c===r)if(l=U(o.day,n),h<l)f.push(o);else if(h===l)return null;return f}(l,e,c),d=e.getHours();if(null===h)return!1;if((r=h[0])||(r=l[0],m(e,c)),o=r.day,r.offset)for(;e<=t&&!$(e,r,c);)W(e,c)===G(e,c)?(e.setMonth(e.getMonth()+1,1),v(e,d)):(e.setDate(e.getDate()+7),v(e,d),m(e,c,-1));return e.getDay()!==o&&m(e,o),!0},hours:function(e,t,n){var r=n.hours,o=n._startTime,l=o.getHours(),c=Y(r,l),h=!1;return null!==c&&(h=!0,e.setHours(l),v(e,l),c.length?(c=c[0],e.setHours(c)):(c=e.getHours(),e.setDate(e.getDate()+1),v(e,c),c=r[0],e.setHours(c),v(e,c)),n.minutes&&e.setMinutes(0),o.setHours(c,e.getMinutes())),h},minutes:function(e,t,n){var r=n.minutes,o=Y(r,e.getMinutes()),l=n._startTime.getHours(),c=!1;return null!==o&&(c=!0,o.length?o=o[0]:(l+=1,o=r[0]),n.seconds&&e.setSeconds(0),e.setHours(l,o),v(e,l%=24),n._startTime.setHours(l,o,e.getSeconds())),c},seconds:function(e,t,n){var r=n.seconds,o=n._startTime.getHours(),l=Y(r,e.getSeconds()),c=e.getMinutes(),h=!1;return null!==l&&(h=!0,l.length?e.setSeconds(l[0]):(c+=1,e.setMinutes(c,r[0]),c>59&&(c%=60,o=(o+1)%24)),n._startTime.setHours(o,c,e.getSeconds())),h}},M=o.extend({next:function(e,t){var n,r,o=t._startTime,l=o.getDate();if(t.seconds)r=e.getSeconds()+1,e.setSeconds(r),o.setSeconds(r),o.setDate(l);else{if(!t.minutes)return!1;n=e.getMinutes()+1,e.setMinutes(n),o.setMinutes(n),o.setDate(l)}return!0},normalize:function(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t))},limit:function(e,n,r){for(var o,l,c,h,d,f=r.interval;e<=n;){for(c=l=t,d=e.getDate(),h=0;h<E;h++){if(r[o=D[h]]){if(c=I[o](e,n,r),l!==t&&c)break;l=c}c&&this.normalize({date:e,rule:r,day:d,idx:h})}if((1===f||!this.interval(r,e))&&h===E)break}},interval:function(e,t){var n,r,o=new Date(e._startPeriod),l=new Date(t),c=t.getHours(),h=e.weekStart,f=e.interval,m=e.freq,_=!1,w=0,y=0,x=1;return"hourly"===m?(n=l.getTimezoneOffset()-o.getTimezoneOffset(),r=e._startTime.getHours(),l=l.getTime(),c!==r&&(l+=(r-c)*d.MS_PER_HOUR),l-=o,n&&(l-=n*d.MS_PER_MINUTE),0!==(w=N(n=Math.floor(l/d.MS_PER_HOUR),f))&&(this._hour(t,e,w),_=!0)):"daily"===m?(d.setTime(l,-o,!0),0!==(w=N(n=Math.round(l/d.MS_PER_DAY),f))&&(this._date(t,e,w),_=!0)):"weekly"===m?(w=this._getNumberOfWeeksBetweenDates(o,t),U(t.getDay(),h)<U(o.getDay(),h)&&(w+=1),0!==(w=N(w,f))&&(d.setDayOfWeek(t,e.weekStart,-1),t.setDate(t.getDate()+7*w),v(t,c),_=!0)):"monthly"===m?(n=t.getFullYear()-o.getFullYear(),0!==(w=N(n=t.getMonth()-o.getMonth()+12*n,f))&&(x=e._hasRuleValue?1:t.getDate(),t.setFullYear(t.getFullYear(),t.getMonth()+w,x),v(t,c),_=!0)):"yearly"===m&&(w=N(n=t.getFullYear()-o.getFullYear(),f),e.months||(y=t.getMonth()),e.yearDays||e.monthDays||e.weekDays||(x=t.getDate()),0!==w&&(t.setFullYear(t.getFullYear()+w,y,x),v(t,c),_=!0)),_},_getNumberOfWeeksBetweenDates:function(e,t){var n=(t-e)/6048e5,r=Math.floor(n);return n-r>.99&&(r=Math.round(n)),r},_hour:function(e,t,n){var r=t._startTime,o=r.getHours();n&&(o+=n),e.setHours(o),o%=24,r.setHours(o),v(e,o)},_date:function(e,t,n){var r=e.getHours();e.setDate(e.getDate()+n),v(e,r)||this._hour(e,t)}}),R=M.extend({next:function(e,t){M.fn.next(e,t)||this._hour(e,t,1)},normalize:function(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t))}}),F=M.extend({next:function(e,t){M.fn.next(e,t)||this[t.hours?"_hour":"_date"](e,t,1)}}),P=F.extend({setup:function(e,t){e.weekDays||(e.weekDays=[{day:t.getDay(),offset:0}])}}),z=M.extend({next:function(e,t){var n,r;if(!M.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(n=e.getDate(),r=e.getHours(),e.setMonth(e.getMonth()+1),v(e,r);e.getDate()!==n;)e.setDate(n),v(e,r);this._hour(e,t)}},normalize:function(e){var t=e.rule,n=e.date,r=n.getHours();0!==e.idx||t.monthDays||t.weekDays?M.fn.normalize(e):(n.setDate(e.day),v(n,r))},setup:function(e,t,n){e.monthDays||e.weekDays||n.setDate(t.getDate())}}),B=z.extend({next:function(e,t){var n,r=e.getHours();if(!M.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(n=e.getDate(),e.setMonth(e.getMonth()+1),v(e,r);e.getDate()!==n;)e.setDate(n),v(e,r);this._hour(e,t)}else e.setFullYear(e.getFullYear()+1),v(e,r),this._hour(e,t)},setup:function(){}}),L={hourly:new R,daily:new F,weekly:new P,monthly:new z,yearly:new B},H="click";function N(e,t){var n;return 0!==e&&e<t?n=t-e:(n=e%t)&&(n=t-n),n}function O(e){var t=e.getMonth();return(J(e)?y[t]:x[t])+e.getDate()}function V(e,n){var r,o;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),v(e,0),r=e.getFullYear(),n!==t?(m(e,n,-1),e.setDate(e.getDate()+4)):e.setDate(e.getDate()+(4-(e.getDay()||7))),v(e,0),o=Math.floor((e.getTime()-new Date(r,0,1,-6))/864e5),1+Math.floor(o/7)}function W(e,t){var n=7-(_(e).getDay()+7-(t||7))||7;return n<0&&(n+=7),Math.ceil((e.getDate()-n)/7)+1}function U(e,t){return e+(e<t?7:0)}function j(e,t,n){var r=t.offset;if(!r)return W(e,n);var o=new Date(e.getFullYear(),e.getMonth()+1,0),l=W(o,n),c=U(t.day,n),h=c<U(new Date(e.getFullYear(),e.getMonth(),1).getDay(),n),d=c>U(o.getDay(),n);return r<0?r=l+(r+1-(d?1:0)):h&&(r+=1),l-=d?1:0,r<(h?1:0)||r>l?null:r}function G(e,t){return W(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function $(e,t,n){return W(e,n)===j(e,t,n)}function Y(e,t,n){for(var r,o=0,l=e.length,c=[];o<l;o++){if(r=e[o],n&&(r=n(r)),t===r)return null;t<r&&c.push(r)}return c}function K(e,t){for(var n,r=0,o=e.length;r<o;r++){if(n=parseInt(e[r],10),isNaN(n)||n<t.start||n>t.end||0===n&&t.start<0)return null;e[r]=n}return e.sort(Z)}function Q(e){for(var n,r,o,l=0,c=e.length;l<c;l++){if(r=(n=e[l]).length,o=n.substring(r-2).toUpperCase(),(o=S[o])===t)return null;e[l]={offset:parseInt(n.substring(0,r-2),10)||0,day:o}}return e}function X(e){var t=e.getMonth();return 1===t?1===new Date(e.getFullYear(),1,29).getMonth()?29:28:k[t]}function J(e){return(e=e.getFullYear())%4==0&&e%100!=0||e%400==0}function Z(a,b){return a-b}function ee(e,t){var n,r,o=0,l=[];if(e)for(n=(e=e.split(-1!==e.indexOf(";")?";":",")).length;o<n;o++)(r=ae(e[o],t))&&l.push(r);return l}function te(t,n,r){for(var o=e.isArray(t)?t:ee(t,r),l=n.getTime()-n.getMilliseconds(),c=0,h=o.length;c<h;c++)if(o[c].getTime()===l)return!0;return!1}function ie(e,t){var r,o,l=0,c=[].concat(e);for(r=c.length;l<r;l++)o=c[l],o=n.timezone.convert(o,t||o.getTimezoneOffset(),"Etc/UTC"),c[l]=n.toString(o,A);return c.join(",")}function ne(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),11,31);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth()+1,0);break;case"weekly":m(n,t.weekStart,-1),n.setDate(n.getDate()+6)}return t.hours&&n.setHours(23),t.minutes&&n.setMinutes(59),t.seconds&&n.setSeconds(59),n}function re(e,t,n){for(var r,o,l=e.length,c=[],h=0,d=n.length;h<d;h++)(r=n[h])<0?r=l+r:r-=1,(o=e[r])&&o.start>=t&&c.push(o);return c}function oe(e,t,n){for(var r,o=[],l=0;l<e.length;l++)te(t,(r=e[l]).start,n)||o.push(r);return o}function se(e,t){return t?n.timezone.offset(e,t):e.getTimezoneOffset()}function ae(e,t){return(e=n.parseDate(e,T))&&t&&(e=r.apply(e,t)),e}function le(e,t){for(var n,r,o,l,c,h,d=e.split(";"),f=0,m=d.length;f<m;f++)if(r=(n=d[f].split(":"))[0],o=n[1],-1!==r.indexOf("TZID")&&(l=r.substring(r.indexOf("TZID")).split("=")[1]),o)for(c=0,h=(o=o.split(",")).length;c<h;c++)o[c]=ae(o[c],l||t);if(o)return{value:o,tzid:l}}function ce(r,o){var l,c,h,d,f,m,v,_,w={},y=0,x=!1;if(!r)return null;for((m=r.split("\n"))[1]||-1===r.indexOf("DTSTART")&&-1===r.indexOf("DTEND")&&-1===r.indexOf("EXDATE")||(m=r.split(" ")),y=0,h=m.length;y<h;y++)-1!==(f=e.trim(m[y])).indexOf("DTSTART")?w.start=le(f,o):-1!==f.indexOf("DTEND")?w.end=le(f,o):-1!==f.indexOf("EXDATE")?w.exdates=le(f,o):-1!==f.indexOf("RRULE")?d=f.substring(6):e.trim(f)&&(d=f);for(y=0,h=(d=d.split(";")).length;y<h;y++)switch(l=d[y].split("="),c=e.trim(l[1]).split(","),e.trim(l[0]).toUpperCase()){case"FREQ":w.freq=c[0].toLowerCase();break;case"UNTIL":w.until=ae(c[0],o);break;case"COUNT":w.count=parseInt(c[0],10);break;case"INTERVAL":w.interval=parseInt(c[0],10);break;case"BYSECOND":w.seconds=K(c,{start:0,end:60}),x=!0;break;case"BYMINUTE":w.minutes=K(c,{start:0,end:59}),x=!0;break;case"BYHOUR":w.hours=K(c,{start:0,end:23}),x=!0;break;case"BYMONTHDAY":w.monthDays=K(c,{start:-31,end:31}),x=!0;break;case"BYYEARDAY":w.yearDays=K(c,{start:-366,end:366}),x=!0;break;case"BYMONTH":w.months=K(c,{start:1,end:12}),x=!0;break;case"BYDAY":w.weekDays=_=Q(c),x=!0;break;case"BYWEEKNO":w.weeks=K(c,{start:-53,end:53}),x=!0;break;case"BYSETPOS":w.positions=K(c,{start:-366,end:366});break;case"WKST":w.weekStart=v=S[c[0]]}return w.freq===t||w.count!==t&&w.until?null:(w.interval||(w.interval=1),v===t&&(w.weekStart=v=n.culture().calendar.firstDay),_&&(w.weekDays=_.sort((function(a,b){var e=a.day,t=b.day;return e<v&&(e+=7),t<v&&(t+=7),e-t}))),w.positions&&!x&&(w.positions=null),w._hasRuleValue=x,w)}function he(e,t){for(var o,l=e.value,c=e.tzid||"",h=l.length,d=0;d<h;d++)o=l[d],o=r.convert(o,c||t||o.getTimezoneOffset(),"Etc/UTC"),l[d]=n.toString(o,"yyyyMMddTHHmmssZ");return c&&(c=";TZID="+c),c+":"+l.join(",")+" "}function de(e,o){var l=e.weekStart,c="FREQ="+e.freq.toUpperCase(),h=e.exdates||"",d=e.start||"",f=e.end||"",m=e.until;return e.interval>1&&(c+=";INTERVAL="+e.interval),e.count&&(c+=";COUNT="+e.count),m&&(m=r.convert(m,o||m.getTimezoneOffset(),"Etc/UTC"),c+=";UNTIL="+n.toString(m,"yyyyMMddTHHmmssZ")),e.months&&(c+=";BYMONTH="+e.months),e.weeks&&(c+=";BYWEEKNO="+e.weeks),e.yearDays&&(c+=";BYYEARDAY="+e.yearDays),e.monthDays&&(c+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(c+=";BYDAY="+function(e){for(var t,n,r=0,o=e.length,l=[];r<o;r++)"string"==typeof(t=e[r])?n=t:(n=""+C[t.day],t.offset&&(n=t.offset+n)),l.push(n);return l.toString()}(e.weekDays)),e.hours&&(c+=";BYHOUR="+e.hours),e.minutes&&(c+=";BYMINUTE="+e.minutes),e.seconds&&(c+=";BYSECOND="+e.seconds),e.positions&&(c+=";BYSETPOS="+e.positions),l!==t&&(c+=";WKST="+C[l]),d&&(d="DTSTART"+he(d,o)),f&&(f="DTEND"+he(f,o)),h&&(h="EXDATE"+he(h,o)),(d||f||h)&&(c=d+f+h+"RRULE:"+c),c}n.recurrence={rule:{parse:ce,serialize:de},expand:function(e,n,r,o){var l,c,h,v,_,y,x,k,C,S,T,D,E,A,I,M,R,F,P,z,B,H,N,O,V,W,U,j,G,$=ce(e.recurrenceRule,o),Y=[];if(!$)return[e];for(z=(P=$.positions)?0:1,C=$.start,S=$.end,(C||S)&&(e=e.clone({start:C?new Date(C.value[0]):t,end:S?new Date(S.value[0]):t})),I=(M=e.start).getTime(),A=w(M),!(E=ee(e.recurrenceException,o))[0]&&$.exdates&&(E=$.exdates.value,e.set("recurrenceException",ie(E,o))),k=n=new Date(n),r=new Date(r),D=$.freq,F=L[D],R=$.count,$.until&&$.until<r&&(r=new Date($.until)),T="yearly"===D||"monthly"===D||"weekly"===D,n<I||R||$.interval>1||T||("daily"===D||"hourly"===D)&&!$.seconds?n=new Date(I):(v=n.getHours(),_=n.getMinutes(),y=n.getSeconds(),$.hours||(v=M.getHours()),$.minutes||(_=M.getMinutes()),$.seconds||(y=M.getSeconds()),n.setHours(v,_,y,M.getMilliseconds())),$._startPeriod=new Date(n),P&&(n=function(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),0,1);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth(),1);break;case"weekly":m(n,t.weekStart,-1)}return t.hours&&n.setHours(0),t.minutes&&n.setMinutes(0),t.seconds&&n.setSeconds(0),n}(n,$),r=ne(r,$),w(r)-w(n)<0&&(v=n.getHours(),r.setHours(v,n.getMinutes(),n.getSeconds(),n.getMilliseconds()),d.adjustDST(r,v)),$._startPeriod=new Date(n),$._endPeriod=ne(n,$)),x=e.duration(),$._startTime=l=d.toInvariantTime(n),F.setup&&F.setup($,M,n),F.limit(n,r,$);n<=r;){if(h=new Date(n),f(h,x),(n>=k||h>k)&&!te(E,n,o)||P)if(c=(l=d.toUtcTime(d.getDate(n))+w($._startTime))+x,I!==n.getTime()||A!==w($._startTime)){if(!e.isAllDay){var K=e.startTimezone||e.endTimezone,Q=e.endTimezone||e.startTimezone;if(o&&K||!o&&!K){var X=se(n,o)-se(e.start,o),J=se(h,o)-se(e.end,o),Z=se(n,K)-se(e.start,K),ae=se(h,Q)-se(e.end,Q);if(X!==Z){var le=6e4*(X-Z);H=new Date(n.getTime()-le),O=l-le}if(J!==ae){var he=6e4*(J-ae);N=new Date(h.getTime()-he),V=c-he}}}Y.push(e.toOccurrence({start:H||new Date(n),end:N||h,_startTime:O||l,_endTime:V||c})),H=N=O=V=null}else e._startTime=l,e._endTime=c,Y.push(e);if(P){if(F.next(n,$),F.limit(n,r,$),n>$._endPeriod&&(B=oe(B=re(Y.slice(z),M,P),E,o),Y=Y.slice(0,z).concat(B),$._endPeriod=ne(n,$),z=Y.length),R&&R===z)break}else{if(R&&R===z)break;z+=1;var de=(U=void 0,j=void 0,G=void 0,U=(W=n).getTimezoneOffset(),j=new Date(W.getTime()-36e5),G=j.getTimezoneOffset(),U<G);F.next(n,$),de&&"hourly"!==$.freq&&d.toInvariantTime(e.start).getTime()!==d.toInvariantTime(n).getTime()&&($._startTime=l=new Date(n.getTime()-36e5)),F.limit(n,r,$)}}return Y},dayInYear:O,weekInYear:V,weekInMonth:W,numberOfWeeks:G,isException:te,toExceptionString:ie};var ue=function(e){for(var t=n.culture().calendar.days.namesShort,r=t.length,o="",l=0,c=[];l<r;l++)c.push(l);for(t=t.slice(e).concat(t.slice(0,e)),c=c.slice(e).concat(c.slice(0,e)),l=0;l<r;l++)o+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+c[l]+'" /> '+t[l]+"</label>";return o},pe=function(e){for(var t=n.culture().calendar.days.names,r=t.length,o="",l=0,c=[];l<r;l++)c.push(l);for(t=t.slice(e).concat(t.slice(0,e)),c=c.slice(e).concat(c.slice(0,e)),l=0;l<r;l++)o+='<li class="k-item"><label class="k-label">',o+='<span class="k-item-title">'+t[l]+"</span>",o+='<input class="k-recur-weekday-checkbox k-check" type="checkbox" value="'+c[l]+'" />',o+="</label></li>";return o},fe=n.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" title="#:messages.interval#"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" title="#:messages.day#" />#:messages.day#</label><input class="k-recur-monthday" title="#:messages.day#" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" title="#:messages.repeatOn#" /><input class="k-recur-weekday-offset" title="#:messages.repeatOn#" /><input class="k-recur-weekday" title="#:messages.day#" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" title="#:messages.repeatOn#" /><input class="k-recur-month" title="#:messages.repeatOn#" /><input class="k-recur-monthday" title="#:messages.day#" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" title="#:messages.repeatOn#" /><input class="k-recur-weekday-offset" title="#:messages.repeatOn#" /><input class="k-recur-weekday" title="#:messages.day#"  />#:messages.of#<input class="k-recur-month" title="#:messages.of#"/></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" title="#:end.occurrence#" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" title="#:end.on#" /></li></ul></div># } #'),ge=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],me=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],ve=[{day:0,offset:0},{day:6,offset:0}],_e=c.extend({init:function(element,e){var t,r=e&&e.frequencies;c.fn.init.call(this,element,e),this.wrapper=this.element,(e=this.options).start=t=e.start||d.today(),r&&(e.frequencies=r),"string"==typeof t&&(e.start=n.parseDate(t,"yyyyMMddTHHmmss")),null===e.firstWeekDay&&(e.firstWeekDay=n.culture().calendar.firstDay),this._namespace="."+e.name},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{recurrenceEditorTitle:"Recurrence editor",frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function(){t.interval=this.value(),e._trigger()}})},_weekDayRule:function(e){var t=(this._weekDay.element||this._weekDay).val(),n=Number((this._weekDayOffset.element||this._weekDayOffset).val()),r=null,o=null;e||("day"===t?(r=ge,o=n):"weekday"===t?(r=me,o=n):"weekend"===t?(r=ve,o=n):r=[{offset:n,day:Number(t)}]),this._value.weekDays=r,this._value.positions=o},_weekDayView:function(){var e,t,n,r,o=this._value.weekDays,l=this._value.positions,c=this._weekDayOffset;o&&(n=o.length,l&&(7===n?(t="day",e=l):5===n?(t="weekday",e=l):2===n&&(t="weekend",e=l)),t||(t=(o=o[0]).day,e=o.offset||""),c[r=c.value?"value":"val"](e),this._weekDay[r](t))},_initWeekDay:function(){var data,t=this,r=t.options.messages.weekdays,o=t.options.messages.offsetPositions,l=t._container.find(".k-recur-weekday"),c=function(){t._weekDayRule(),t._trigger()};l[0]&&(t._weekDayOffset=new h(t._container.find(".k-recur-weekday-offset"),{change:c,dataTextField:"text",dataValueField:"value",dataSource:[{text:o.first,value:"1"},{text:o.second,value:"2"},{text:o.third,value:"3"},{text:o.fourth,value:"4"},{text:o.last,value:"-1"}]}),data=[{text:r.day,value:"day"},{text:r.weekday,value:"weekday"},{text:r.weekend,value:"weekend"}],t._weekDay=new h(l,{value:t.options.start.getDay(),change:c,dataTextField:"text",dataValueField:"value",dataSource:data.concat(e.map(n.culture().calendar.days.names,(function(e,t){return{text:e,value:t}})))}),t._weekDayView())},_initWeekDays:function(){var t=this,n=t._value,r=t._container.find(".k-recur-weekday-checkbox");if(r[0]&&(r.on(H+t._namespace,(function(){n.weekDays=e.map(r.filter(":checked"),(function(e){return{day:Number(e.value),offset:0}})),t.options.mobile||t._trigger()})),n.weekDays))for(var o,l,i=0,c=r.length,h=n.weekDays.length;i<c;i++)for(l=r[i],o=0;o<h;o++)l.value==n.weekDays[o].day&&(l.checked=!0)},_initMonthDay:function(){var e=this,t=e._value,r=e._container.find(".k-recur-monthday");r[0]&&(e._monthDay=new n.ui.NumericTextBox(r,{spinners:e.options.spinners,min:1,max:31,decimals:0,format:"#",value:t.monthDays?t.monthDays[0]:e.options.start.getDate(),change:function(){var n=this.value();t.monthDays=n?[n]:n,e._trigger()}}))},_initCount:function(){var e=this,input=e._container.find(".k-recur-count"),t=e._value;e._count=input.kendoNumericTextBox({spinners:e.options.spinners,value:t.count||1,decimals:0,format:"#",min:1,change:function(){t.count=this.value(),e._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var e=this,input=e._container.find(".k-recur-until"),t=e.options.start,n=e._value,r=n.until;e._until=input.kendoDatePicker({min:r&&r<t?r:t,value:r||new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59),change:function(){var t=this.value();n.until=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59),e._trigger()}}).data("kendoDatePicker")},_trigger:function(){this.options.mobile||this.trigger("change")}}),be=_e.extend({init:function(element,e){_e.fn.init.call(this,element,e),this._initFrequency(),this._initContainer(),this.value(this.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){this._frequency.destroy(),this._container.find("input[type=radio],input[type=checkbox]").off(H+this._namespace),n.destroy(this._container),_e.fn.destroy.call(this)},value:function(e){var n,r=this.options.timezone;if(e===t)return this._value.freq?de(this._value,r):"";this._value=ce(e,r)||{},(n=this._value.freq)?this._frequency.value(n):this._frequency.select(0),this._initView(this._frequency.value())},_initContainer:function(){var element=this.element,t=e('<div class="k-recur-view" />'),n=element.parent(".k-edit-field");n[0]?t.insertAfter(n):element.append(t),this._container=t},_initFrequency:function(){var t,n=this,r=n.options,o=r.frequencies,l=r.messages.frequencies,c=e("<input />").attr({title:r.messages.recurrenceEditorTitle});(t=(o=e.map(o,(function(e){return{text:l[e],value:e}})))[0])&&"never"===t.value&&(t.value=""),n.element.append(c),n._frequency=new h(c,{dataTextField:"text",dataValueField:"value",dataSource:o,change:function(){n._value={},n._initView(n._frequency.value()),n.trigger("change")}})},_initView:function(e){var t=this._value,r=this.options,data={frequency:e||"never",weekDayCheckBoxes:ue,firstWeekDay:r.firstWeekDay,messages:r.messages[e],end:r.messages.end};n.destroy(this._container),this._container.html(fe(data)),e?(t.freq=e,"weekly"!==e||t.weekDays||(t.weekDays=[{day:r.start.getDay(),offset:0}]),this._initInterval(),this._initWeekDays(),this._initMonthDay(),this._initWeekDay(),this._initMonth(),this._initCount(),this._initUntil(),this._period(),this._end()):this._value={}},_initMonth:function(){var t,r=this,o=r._value,l=o.months||[r.options.start.getMonth()+1],c=r._container.find(".k-recur-month");c[0]&&(t={change:function(){o.months=[Number(this.value())],r.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:e.map(n.culture().calendar.months.names,(function(e,t){return{text:e,value:t+1}}))},r._month1=new h(c[0],t),r._month2=new h(c[1],t),l&&(l=l[0],r._month1.value(l),r._month2.value(l)))},_end:function(){var e,t=this,n=t._value,r=t._container,o=t._namespace,l=function(e){t._toggleEnd(e.currentTarget.value),t.trigger("change")};t._buttonNever=r.find(".k-recur-end-never").on(H+o,l),t._buttonCount=r.find(".k-recur-end-count").on(H+o,l),t._buttonUntil=r.find(".k-recur-end-until").on(H+o,l),n.count?e="count":n.until&&(e="until"),t._toggleEnd(e)},_period:function(){var e=this,t=e._value,n="monthly"===t.freq,r=n?e._toggleMonthDay:e._toggleYear,o=".k-recur-"+(n?"month":"year")+"-radio",l=e._container.find(o);(n||"yearly"===t.freq)&&(l.on(H+e._namespace,(function(t){r.call(e,t.currentTarget.value),e.trigger("change")})),e._buttonMonthDay=l.eq(0),e._buttonWeekDay=l.eq(1),r.call(e,t.weekDays?"weekday":"monthday"))},_toggleEnd:function(e){var t,n,r,o;"count"===e?(this._buttonCount.prop("checked",!0),r=!0,o=!1,t=this._count.value(),n=null):"until"===e?(this._buttonUntil.prop("checked",!0),r=!1,o=!0,t=null,n=this._until.value()):(this._buttonNever.prop("checked",!0),r=o=!1,t=n=null),this._count&&this._count.enable(r),this._until&&this._until.enable(o),this._value.count=t,this._value.until=n},_toggleMonthDay:function(e){var t,n=!1,r=!0,o=!1;"monthday"===e?(this._buttonMonthDay.prop("checked",!0),t=[this._monthDay.value()],n=!0,r=!1,o=!0):(this._buttonWeekDay.prop("checked",!0),t=null),this._weekDay.enable(r),this._weekDayOffset.enable(r),this._monthDay.enable(n),this._value.monthDays=t,this._weekDayRule(o)},_toggleYear:function(e){var t,n=!1,r=!0;"monthday"===e?(n=!0,r=!1,t=this._month1.value()):t=this._month2.value(),this._month1.enable(n),this._month2.enable(r),this._value.months=[t],this._toggleMonthDay(e)}});l.plugin(be);var we=n.template('<div data-role="content"><ul><li class="k-item"><label class="k-label"><span class="k-item-title">#:headerTitle#</span><div class="k-recur-pattern"></div></label></li><li class="k-item k-recur-view"></li></ul></div>'),ye=n.template('# if (frequency !== "never") { #<label class="k-label"><span class="k-item-title">#:messages.repeatEvery#</span><div class="k-recur-editor-wrap"><input class="k-recur-interval" type="number" pattern="\\\\d*"/># if (messages.interval.length) { #<label class="k-recur-editor-text">#:messages.interval#</label># } #</div></label># } ## if (frequency === "weekly") { #<ul class="k-recur-items-wrap"><li class="k-item k-no-click"><label class="k-label"><span class="k-item-title">#:messages.repeatOn#</span></label></li>#=weekDayCheckBoxes(firstWeekDay)#</ul># } else if (frequency === "monthly") { #<ul class="k-recur-items-wrap"><li class="k-item"><label class="k-label"><span class="k-item-title">#:messages.repeatBy#</span><div class="k-repeat-rule"></div></label></li><li class="k-monthday-view k-item" style="display:none"><label class="k-label"><span class="k-item-title">#:messages.day#</span><div><input class="k-recur-monthday" type="number" title="#:messages.day#" pattern="\\\\d*"/></div></label></li><li class="k-weekday-view k-item" style="display:none"><ul class="k-recur-items-wrap"><li class="k-item"><label class="k-label"><span class="k-item-title">#:messages.every#</span><div><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div></label></li><li class="k-item"><label class="k-label"><span class="k-item-title">#:messages.day#</span><div><select class="k-recur-weekday" title="#:messages.day#"></select></div></label></li></ul></li></ul># } else if (frequency === "yearly") { #<ul class="k-recur-items-wrap"><li class="k-item"><label class="k-label"><span class="k-item-title">#:messages.repeatBy#</span><div class="k-repeat-rule"></div></label></li><li class="k-monthday-view k-item" style="display:none"><label class="k-label"><span class="k-item-title">#:messages.day#</span><div><input class="k-recur-monthday" type="number" title="#:messages.day#" pattern="\\\\d*"/></div></label></li><li class="k-weekday-view k-item" style="display:none"><ul class="k-recur-items-wrap"><li class="k-item"><label class="k-label"><span class="k-item-title">#:messages.every#</span><div><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div></label></li><li class="k-item"><label class="k-label"><span class="k-item-title">#:messages.day#</span><div><select class="k-recur-weekday" title="#:messages.day#"></select></div></label></li></ul></li><li class="k-item"><label class="k-label"><span class="k-item-title">#:messages.month#</span><div><select class="k-recur-month" title="#:messages.month#"></select></div></label></li></ul># } #'),xe=n.template('# if (endPattern === "count") { #<label class="k-label"><span class="k-item-title">#:messages.after#</span><div><input class="k-recur-count" type="number" pattern="\\\\d*" /></div></label># } else if (endPattern === "until") { #<label class="k-label"><span class="k-item-title">#:messages.on#</span><div><input type="date" class="k-recur-until" /></div></label># } #'),ke=n.template('<select class="k-scheduler-select">#for (var i = 0, length = dataSource.length; i < length; i++) {#<option value="#=dataSource[i].value#" #= value === dataSource[i].value  ? "selected" : "" #>#:dataSource[i].text#</option>#}#</select>'),Ce=_e.extend({init:function(element,e){_e.fn.init.call(this,element,e),e=this.options,this._optionTemplate=n.template('<option value="#:value#">#:text#</option>'),this.value(e.value),this._pane=e.pane||this.wrapper.closest("[data-role=pane]").data("kendoPane"),this._initRepeatButton(),this._initParentRepeatEnd(),this._defaultValue=this._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(e){var n=this.options.timezone;if(e===t)return this._value.freq?de(this._value,n):"";this._value=ce(e,n)||{}},destroy:function(){this._destroyView(),n.destroy(this._endFields),this.element.off(H+this._namespace),_e.fn.destroy.call(this)},_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").val(e._value.interval||1).on("change"+e._namespace,(function(n){t.interval=n.target.value,e._trigger()}))},_initRepeatButton:function(){var t=this,n=t.options.messages.frequencies[this._value.freq||"never"];t._chevronButton=e('<span class="k-icon k-i-arrow-chevron-right"></span>'),t._repeatValue=e('<span class="">'+n+"</span>"),t.element.append(t._repeatValue).append(t._chevronButton),t.element.parents("li.k-item").on(H+t._namespace,(function(e){e.preventDefault(),t._createView("repeat"),t._pane.navigate(t._view,t.options.animations.left)}))},_endLiItem:function(){return'<li class="k-item"><label class="k-label"><span class="k-item-title">'+this.options.messages.end.mobileLabel+"</span><label></li>"},_initParentRepeatEnd:function(){var t=this,n=e(t._endLiItem()).insertAfter(t.element.parents("li.k-item")),r=e('<div class="k-scheduler-recur-end-wrap"><span class="k-scheduler-recur-end"></span></div>').appendTo(n.find(".k-label"));n.on(H+t._namespace,(function(e){e.preventDefault(),t._navigateToView("repeat")})),t._endParentLabelField=n.toggle(!!t._value.freq),t._endParentEndButton=r.find(".k-scheduler-recur-end").text(t._endText())},_initRepeatEnd:function(){var t=this,n=e(t._endLiItem()).insertAfter(t._container),r=e('<div class="k-scheduler-recur-end-wrap"><span class="k-scheduler-recur-end"></span><span class="k-icon k-i-arrow-chevron-right"></span></div>').appendTo(n.find(".k-label"));n.on(H+t._namespace,(function(e){e.preventDefault(),t._navigateToView("end")})),t._endLabelField=n.toggleClass("k-state-disabled",!t._value.freq),t._endButton=r.find(".k-scheduler-recur-end").text(t._endText())},_navigateToView:function(e){this._createView(e),this._pane.navigate(this._view,this.options.animations.left)},_endText:function(){var e=this._value,t=this.options.messages.end,text=t.never;return e.count?text=n.format("{0} {1}",t.after,e.count):e.until&&(text=n.format("{0} {1:d}",t.on,e.until)),text},_initFrequency:function(){var t=this,r=t.options.messages.frequencies,html=ke({dataSource:e.map(this.options.frequencies,(function(e){return{text:r[e],value:"never"!==e?e:""}})),value:t._value.freq||"",ns:n.ns});t._view.element.find(".k-recur-pattern").append(html),t._view.element.find(".k-scheduler-select").on("change"+t._namespace,(function(e){var n=e.target.value;t._value={freq:n},t._initRepeatView(!0)}))},_initEndNavigation:function(){var e=this,t=e.options.messages.end.patterns,r=e._value,o="";r.count?o="count":r.until&&(o="until");var html=ke({dataSource:[{text:t.never,value:""},{text:t.after,value:"count"},{text:t.on,value:"until"}],value:o,ns:n.ns});e._view.element.find(".k-recur-pattern").append(html),e._view.element.find(".k-scheduler-select").on("change"+e._namespace,(function(t){var o=t.target.value,l=null,c=null;e._initEndView(o),e._count.length?(l=e._count.val(),c=null):e._until.length&&(l=null,c=e._until.val?n.parseDate(e._until.val(),"yyyy-MM-dd"):e._until.value()),r.count=l,r.until=c}))},_createView:function(t){var n=this,r=n.options.messages,o=r["repeat"===t?"repeatTitle":"endTitle"],html='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-header-cancel k-scheduler-cancel k-link" title="'+r.cancel+'"aria-label="'+r.cancel+'"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+r.headerTitle+'<a href="#" class="k-header-done k-scheduler-update k-link" title="'+r.update+'" aria-label="'+r.update+'"><span class="k-icon k-i-check"></span></a></div>',l=n._pane.view().id;n._view=n._pane.append(html+we({headerTitle:o})),n._view.element.on(H+n._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",(function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass("k-scheduler-update")?(n.trigger("change"),n._defaultValue=e.extend({},n._value)):n._value=n._defaultValue;var o=n._value.freq;n._endParentEndButton.text(n._endText()),n._endParentLabelField.toggle(!!o&&"never"!==o),n._endButton.text(n._endText()),n._repeatValue.text(r.frequencies[o||"never"]),n._pane.one("viewShow",(function(){n._destroyView()})),n._pane.navigate(l,n.options.animations.right)})),n._container=n._view.element.find(".k-recur-view"),"repeat"===t?(n._initFrequency(),n._initRepeatView(!0),n._initRepeatEnd()):(n._initEndNavigation(),n._initEndView())},_destroyView:function(){this._view&&(this._view.destroy(),this._view.element.remove(),this._container=null),this._view=null},_initRepeatView:function(e){var t=this._value.freq||"never",data={frequency:t,weekDayCheckBoxes:e?pe:ue,firstWeekDay:this.options.firstWeekDay,messages:this.options.messages[t]},html=ye(data),r=this._container=this._container||this._pane.view().content.find("li.k-recur-view"),o=this._value;if(this._endLabelField&&this._endLabelField.toggleClass("k-state-disabled","never"===t),n.destroy(r),r.html(html),!html)return this._value={},void r.hide();r.show(),"weekly"!==t||o.weekDays||(o.weekDays=[{day:this.options.start.getDay(),offset:0}]),this._initInterval(),this._initMonthDay(),this._initWeekDays(),this._initWeekDay(),this._initMonth(),this._period()},_initMonthDay:function(){var e=this,t=e._value;(e._monthDay=e._container.find(".k-recur-monthday")).attr({min:1,max:31}).val(t.monthDays?t.monthDays[0]:e.options.start.getDate()).on("change"+e._namespace,(function(n){t.count=n.target.value,e._trigger()}))},_initCount:function(){var e=this,input=e._count=e._container.find(".k-recur-count"),t=e._value;input.val(t.count||1).on("change"+e._namespace,(function(n){t.count=n.target.value,e._trigger()}))},_initEndView:function(e){var r=this._value;e===t&&(r.count?e="count":r.until&&(e="until"));var data={endPattern:e,messages:this.options.messages.end};n.destroy(this._container),this._container.html(xe(data)),this._initCount(),this._initUntil()},_initWeekDay:function(){var data,t=this,r=t.options.messages.weekdays,o=t.options.messages.offsetPositions,l=t._container.find(".k-recur-weekday"),c=function(){t._weekDayRule(),t.trigger("change")};l[0]&&(t._weekDayOffset=t._container.find(".k-recur-weekday-offset").html(t._options([{text:o.first,value:"1"},{text:o.second,value:"2"},{text:o.third,value:"3"},{text:o.fourth,value:"4"},{text:o.last,value:"-1"}])).change(c),data=(data=[{text:r.day,value:"day"},{text:r.weekday,value:"weekday"},{text:r.weekend,value:"weekend"}]).concat(e.map(n.culture().calendar.days.names,(function(e,t){return{text:e,value:t}}))),t._weekDay=l.html(t._options(data)).change(c).val(t.options.start.getDay()),t._weekDayView())},_initMonth:function(){var t=this._value,r=this.options.start,o=t.months||[r.getMonth()+1],l=this._container.find(".k-recur-month"),c=n.culture().calendar.months.names;if(l[0]){var data=e.map(c,(function(e,t){return{text:e,value:t+1}}));l.html(this._options(data)).change((function(){t.months=[Number(this.value)]})),this._monthSelect=l,o&&l.val(o[0])}},_period:function(){var e=this,t=e._value,r=e._container,o=e.options.messages[t.freq],l=r.find(".k-repeat-rule"),c=r.find(".k-weekday-view"),h=r.find(".k-monthday-view");if(l[0]){var d=t.weekDays?"weekday":"monthday",html=ke({value:d,dataSource:[{text:o.dayOfMonth,value:"monthday"},{text:o.dayOfWeek,value:"weekday"}],ns:n.ns}),f=function(n){var r=e._weekDay.val(),o=e._weekDayOffset.val(),l=e._monthDay.val(),d=e._monthSelect?e._monthSelect.val():null;"monthday"===n?(t.weekDays=null,t.monthDays=l?[l]:l,t.months=d?[Number(d)]:d,c.hide(),h.show()):(t.monthDays=null,t.months=d?[Number(d)]:d,t.weekDays=[{offset:Number(o),day:Number(r)}],c.show(),h.hide())};l.append(html),l.find(".k-scheduler-select").on("change"+e._namespace,(function(e){f(e.target.value)})),f(d)}},_initUntil:function(){var input=this._container.find(".k-recur-until"),e=this.options.start,t=this._value,r=t.until,o=r&&r<e?r:e;n.support.input.date?this._until=input.attr("min",n.toString(o,"yyyy-MM-dd")).val(n.toString(r||e,"yyyy-MM-dd")).on("change",(function(){t.until=n.parseDate(this.value,"yyyy-MM-dd")})):this._until=input.kendoDatePicker({min:o,value:r||e,change:function(){t.until=this.value()}}).data("kendoDatePicker")},_options:function(data,e){var t=0,html="",n=data.length,template=this._optionTemplate;for(e&&(html+=template({value:"",text:e}));t<n;t++)html+=template(data[t]);return html}});l.plugin(Ce)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1305)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1301:function(e,t){e.exports=n(50)},1305:function(e,t,n){var r,o,l;n(3),o=[n(1301)],void 0===(l="function"==typeof(r=function(){return function(e){var t=window.kendo,n=t.ui,r=".kendoAgendaView",o=t.Class.extend({init:function(view){this._view=view},_getColumns:function(e,t){return e.concat(t)},_getGroupsInDay:function(){return[]},_getSumOfItemsForDate:function(){return 0},_renderTaskGroupsCells:function(e,t,n,r){var view=this._view;0===n&&0===r&&t.length&&view._renderTaskGroupsCells(e,t)},_renderDateCell:function(e,n,r,o,l,c){var view=this._view,h=view._isMobile();e.push(t.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',r.length,view._dateTemplate({date:o,isMobile:h}),l!=c.length-1||n.length?"":" k-last",n.length?"":" k-first"))},_renderDates:function(){},_getParents:function(e){return e.splice(0)},_getGroupsByDate:function(){},_renderTaskGroups:function(table,e,t){var view=this._view;table.append(view._renderTaskGroups(e,t))}}),l=t.Class.extend({init:function(view){this._view=view},_getColumns:function(e,t){if(this._view._isMobile())return e.concat(t);var n=t.slice(0,1),r=t.slice(1);return n.concat(e).concat(r)},_compareDateGroups:function(e,t,n){return e[n].text==t[n].text&&(0===n||this._compareDateGroups(e,t,n-1))},_getGroupsInDay:function(e,t){for(var n=[],r=null,o=0;o<e.length;o++)for(var l=0;l<e[o].items.length;l++){var c=0;if(0===n.length)for(;c<t[o].length;c++)n.push([1]);else for(;c<t[o].length;c++)if(this._compareDateGroups(t[o],r,c))n[c][n[c].length-1]++;else{for(var h=n[c][n[c].length-1]-1,i=0;i<h;i++)n[c].push(0);n[c].push(1)}r=t[o]}return n},_getSumOfItemsForDate:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].items.length;return t},_renderTaskGroupsCells:function(e,n,r,o,l,c,h,d){var view=this._view,f=view._isMobile();if(f)0===r&&0===o&&n.length&&view._renderTaskGroupsCells(e,n);else{0===r&&0===o&&e.push(t.format('<td class="k-scheduler-datecolumn k-first" rowspan="{0}">{1}</td>',c,view._dateTemplate({date:h,isMobile:f})));for(var m=0;m<n[r].length;m++)l[m][d]&&e.push(t.format('<td class="k-scheduler-groupcolumn" rowspan="{0}">{1}</td>',l[m][d],view._groupTemplate({value:n[r][m].text,isMobile:f}),n[r][m].className))}},_renderDateCell:function(){},_renderDates:function(table){for(var view=this._view,e=view._groupsByDate.sort((function(a,b){return a.array[0].value.getTime()-b.array[0].value.getTime()})),i=0;i<e.length;i++)table.append(view._renderTaskGroups(e[i].array,e[i].groups))},_getParents:function(e){return e.slice(0)},_getGroupsByDate:function(e,t,n){var view=this._view;if(e[t].items)for(var r=0;r<e[t].items.length;r++){for(var o=e[t].items[r].value,l=!1,i=0;i<view._groupsByDate.length;i++)view._groupsByDate[i].array[0].value.getTime()===o.getTime()&&(l=!0,view._groupsByDate[i].array.push(e[t].items[r]),view._groupsByDate[i].groups.push(n));l||view._groupsByDate.push({array:[e[t].items[r]],groups:[n]})}},_renderTaskGroups:function(){}});function c(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].items.length;return t}function h(e,n){return e.valuePrimitive&&(n=t.getter(e.dataValueField)(n)),n}function d(e){for(var t=[].concat(e),n=t.shift(),r=[],o=[].push;n;)n.groups?o.apply(t,n.groups):n.items?o.apply(t,n.items):o.call(r,n),n=t.shift();return r}t.ui.scheduler.AgendaGroupedView=o,t.ui.scheduler.AgendaGroupedByDateView=l,n.AgendaView=n.SchedulerView.extend({init:function(element,o){n.SchedulerView.fn.init.call(this,element,o),this._groupedView=this._getGroupedView(),(o=this.options).editable&&(o.editable=e.extend({delete:!0},o.editable,{create:!1,update:!1},{messages:o.messages})),this.title=o.title,this._eventTemplate=this._eventTmpl(o.eventTemplate,'<div class="k-task" title="#:(data.title || "").replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-non-recurrence"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-reload"></span># } #<span class="k-scheduler-task-text">{0}</span>#if (showDelete) {#<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>#}#</div>'),this._dateTemplate=t.template(o.eventDateTemplate),this._groupTemplate=t.template(o.eventGroupTemplate),this._timeTemplate=t.template(o.eventTimeTemplate),this.element.on("mouseenter"+r,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+r,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+r,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-i-close)","_remove"),this._renderLayout(o.date)},name:"agenda",_getGroupedView:function(){return this._isGroupedByDate()?new t.ui.scheduler.AgendaGroupedByDateView(this):new t.ui.scheduler.AgendaGroupedView(this)},_mouseenter:function(t){e(t.currentTarget).addClass("k-state-hover")},_mouseleave:function(t){e(t.currentTarget).removeClass("k-state-hover")},_remove:function(n){n.preventDefault(),this.trigger("remove",{uid:e(n.currentTarget).closest(".k-task").attr(t.attr("uid"))})},nextDate:function(){return t.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return t.date.previousDay(this.startDate())},_renderLayout:function(e){this._startDate=e,this._endDate=t.date.addDays(e,7),this.createLayout(this._layout()),this._footer(),this.table.addClass("k-scheduler-agenda")},_layout:function(){var e=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];this._isMobile()||e.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"});var t=this.groupedResources;if(t.length){for(var n=[],r=0;r<t.length;r++)n.push({text:"",className:"k-scheduler-groupcolumn"});e=this._groupedView._getColumns(n,e)}return{columns:e}},_tasks:function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r],l=o.start,c=o.isAllDay?t.date.getDate(o.end):o.end,h=Math.ceil((c-t.date.getDate(l))/t.date.MS_PER_DAY);o.isAllDay&&(h+=1);var d=o.clone();if(d.startDate=t.date.getDate(l),d.startDate>=this.startDate()&&n.push(d),h>1){d.end=t.date.nextDay(l),d.head=!0;for(var f=1;f<h;f++)l=d.end,(d=o.clone()).start=d.startDate=t.date.getDate(l),d.end=t.date.nextDay(l),f==h-1?(d.end=new Date(d.start.getFullYear(),d.start.getMonth(),d.start.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()),d.tail=!0):(d.isAllDay=!0,d.middle=!0),(t.date.getDate(d.end)<=this.endDate()&&d.start>=this.startDate()||t.date.getDate(d.start).getTime()==this.endDate().getTime())&&n.push(d)}}return new t.data.Query(n).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(e,n){for(var r=[],o=this.options.editable,l=o&&!1!==o.destroy&&!this._isMobile(),c=this._isMobile(),h=this._groupedView._getSumOfItemsForDate(e),d=this._groupedView._getGroupsInDay(e,n),f=0,m=0;m<e.length;m++)for(var v=e[m].value,_=e[m].items,w=t.date.isToday(v),y=0;y<_.length;y++){var x=_[y],k=[],C=c?[]:k;this._groupedView._renderTaskGroupsCells(C,n,m,y,d,h,v,f),f++,0===y&&(c?(C.push(t.format('<td class="k-scheduler-datecolumn {1}" colspan="2">{0}</td>',this._dateTemplate({date:v,isMobile:c}),this.groupedResources.length?"":"k-first")),r.push('<tr role="row" aria-selected="false"'+(w?' class="k-today">':">")+C.join("")+"</tr>")):this._groupedView._renderDateCell(k,n,_,v,m,e)),x.head?x.format="{0:t}":x.tail?x.format="{1:t}":x.format="{0:t}-{1:t}",x.resources=this.eventResources(x),k.push(t.format('<td class="k-scheduler-timecolumn {4}"><div>{0}{1}{2}</div></td><td>{3}</td>',x.tail||x.middle?'<span class="k-icon k-i-arrow-60-left"></span>':"",this._timeTemplate(x.clone({start:x._startTime||x.start,end:x.endTime||x.end})),x.head||x.middle?'<span class="k-icon k-i-arrow-60-right"></span>':"",this._eventTemplate(x.clone({showDelete:l,messages:this.options.messages})),!this.groupedResources.length&&c?"k-first":"")),r.push('<tr role="row" aria-selected="false"'+(w?' class="k-today">':">")+k.join("")+"</tr>")}return r.join("")},_renderTaskGroupsCells:function(e,n){for(var r=this._isMobile(),o=0;o<n.length;o++)e.push(t.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',n[o].rowSpan,this._groupTemplate({value:n[o].text,isMobile:r}),n[o].className))},render:function(e){var table=this.content.find("table").empty(),t=[];if(e.length>0){var n=this.groupedResources;n.length?(t=this._createGroupConfiguration(e,n,null),this._groupsByDate=[],this._renderGroups(t,table,[]),this._groupedView._renderDates(table)):(t=this._tasks(e),table.append(this._renderTaskGroups(t,[])))}var r=this._eventsList=function(e){for(var t,n=0,r=e.length,o=[];n<r;n++)(t=e[n]).groups?(t=d(t.groups),o=o.concat(t)):o=o.concat(d(t.items));return o}(t);this._angularItems(table,r),this.refreshLayout(),this.trigger("activate")},_angularItems:function(table,e){this.angular("compile",(function(){var data=[];return{elements:e.map((function(e){return data.push({dataItem:e}),table.find(".k-task["+t.attr("uid")+"="+e.uid+"]")})),data:data}}))},_renderGroups:function(e,table,t){for(var n=0,r=e.length;n<r;n++){var o=this._groupedView._getParents(t);o.push(e[n]),this._groupedView._getGroupsByDate(e,n,o),e[n].groups?this._renderGroups(e[n].groups,table,o):this._groupedView._renderTaskGroups(table,e[n].items,o)}},_createGroupConfiguration:function(e,r,o){for(var l=r[0],d=[],data=l.dataSource.view(),f=this._isMobile(),m=0;m<data.length;m++){var v=h(l,data[m]),_=new t.data.Query(e).filter({field:l.field,operator:n.SchedulerView.groupEqFilter(v)}).toArray();if(_.length){var w=this._tasks(_),y=o?"":" k-first";m===data.length-1&&(!o||o.className.indexOf("k-last")>-1)&&(y+=" k-last");var x={text:t.getter(l.dataTextField)(data[m]),value:v,rowSpan:0,className:y};if(r.length>1)x.groups=this._createGroupConfiguration(_,r.slice(1),x),o&&(o.rowSpan+=x.rowSpan);else{x.items=w;var span=c(x.items);f&&(span+=x.items.length),x.rowSpan=span,o&&(o.rowSpan+=span)}d.push(x)}}return d},selectionByElement:function(t){var n,r;if(!(t=e(t)).hasClass("k-scheduler-datecolumn")&&this._eventsList.length){if(t.is(".k-task")&&(t=t.closest("td")),this._isMobile()){var o=t.parent();n=o.parent().children().filter((function(){return e(this).children(":not(.k-scheduler-datecolumn)").length})).index(o)}else n=t.parent().index();return{index:n,start:(r=this._eventsList[n]).start,end:r.end,isAllDay:r.isAllDay,uid:r.uid}}},select:function(e){this.clearSelection();var t=this.table.find(".k-task").eq(e.index).closest("tr").addClass("k-state-selected").attr("aria-selected",!0)[0];this.current(t)},move:function(e,n){var r=!1,o=e.index;if(n==t.keys.UP?(o--,r=!0):n==t.keys.DOWN&&(o++,r=!0),r){var l=this._eventsList[o];l&&(e.start=l.start,e.end=l.end,e.isAllDay=l.isAllDay,e.events=[l.uid],e.index=o)}return r},moveToEvent:function(){return!1},constrainSelection:function(e){var t=this._eventsList[0];t&&(e.start=t.start,e.end=t.end,e.isAllDay=t.isAllDay,e.events=[t.uid],e.index=0)},isInRange:function(){return!0},destroy:function(){this.element&&this.element.off(r),n.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",selectedMobileDateFormat:"{0: MMM} {0:dd} - {1:dd}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'# if (!isMobile) { #<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span># } else { #<div class="k-scheduler-datecolumn-wrap"><span class="k-mobile-scheduler-agendadate"><span class="k-mobile-scheduler-agendaday">#=kendo.toString(date, "dd")#</span>&nbsp<span class="k-mobile-scheduler-agendamonth">#=kendo.toString(date, "MMMM")#</span></span><span class="k-mobile-scheduler-agendaweekday">#=kendo.toString(date, "dddd")#</span></div># } #',eventGroupTemplate:'# if (!isMobile) { #<strong class="k-scheduler-adgendagroup">#=value#</strong># } else { #<span class="k-scheduler-group-text">#=value#</span># } #',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1307)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1301:function(e,t){e.exports=n(50)},1307:function(e,t,n){var r,o,l;n(3),o=[n(1301)],void 0===(l="function"==typeof(r=function(){return function(e){var t=window.kendo,n=t.ui,r=n.SchedulerView,o=".kendoMonthView",l=e.extend,c=t.date.getDate,h=t.date.MS_PER_DAY,d=t.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),f=t.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),m=t.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>'),v=t.Class.extend({init:function(view){this._view=view},_verticalRowCountForLevel:function(e){return this._view._rowCountForLevel(e)},_horizontalGroupCountForLevel:function(e){return this._view._columnCountForLevel(e)},_getCalendarRowsLength:function(e,t){return t/e},_createRows:function(e,t,n,r){for(var view=this._view,o=view._isVerticallyGrouped(),html="",l=0;l<n;l++)html+=view._createRow(e,t,7,o?r:l);return html},_adjustStartDate:function(e){return t.date.addDays(e,7)},_getContent:function(content,e,t){return content({date:e,resources:t})},_getTimeSlotByPosition:function(e,t,n){return this._view.groups[n].daySlotByPosition(e,t)},_nextSlotStartDate:function(e){return t.date.nextDay(e)},_createRowsLayout:function(e,t,n){return this._view._createRowsLayout(e,t,n)},_createVerticalColumnsLayout:function(e,t,n,r){return r},_createColumnsLayout:function(e,t,n){return this._view._createColumnsLayout(e,t,n)},_verticalGroupCount:function(e){return this._view._rowCountForLevel(e)},_horizontalGroupCount:function(e){var view=this._view;return view._columnCountForLevel(e)/view._columnOffsetForResource(e)},_positionEvent:function(e,t,n,r,o,l,c){var view=this._view,h=view._isMobile();r>1&&(0===c?l=n.end.endDate():c==r-1?o=n.start.startDate():(o=n.start.startDate(),l=n.end.endDate()));var d=e.clone({start:o,end:l,head:n.head,tail:n.tail});h?view._positionMobileEvent(n,view._createEventElement(d),t):view._positionEvent(n,view._createEventElement(d),t)},_addDaySlotCollections:function(e,n,r){for(var view=this._view,o=0;o<e;o++){var l=0,c=0;view._isVerticallyGrouped()&&(c=o);for(var h=6*c;h<6*(c+1);h++){var d=view.groups[o].addDaySlotCollection(t.date.addDays(r,l),t.date.addDays(r,l+7)),f=n[h],m=f.children,v=0;f.setAttribute("role","row"),view._isVerticallyGrouped()||(v=o);for(var _=7*v;_<7*(v+1);_++){var w=m[_];view.addDaySlot(d,w,r,l),l++}}}},_changePeriodGroupIndex:function(e){var view=this._view;return e?view.groups.length-1:0},_createResizeHint:function(e){var view=this._view,t=e.startSlot().offsetLeft,n=e.start.offsetTop,o=e.innerWidth(),l=e.start.clientHeight-2,c=r.fn._createResizeHint.call(view,t,n,o,l);view._appendResizeHint(c)},_createMoveHint:function(e,t){var view=this._view,n=e.startSlot(),r=e.endSlot(),o=view._createEventElement(t.clone({head:e.head,tail:e.tail}));o.css({left:n.offsetLeft+2,top:n.offsetTop+n.firstChildHeight,height:view.options.eventHeight,width:e.innerWidth()-(n.index!==r.index?5:4)}),o.addClass("k-event-drag-hint"),t.inverseColor&&o.addClass("k-event-inverse"),view._appendMoveHint(o)}}),_=t.Class.extend({init:function(view){this._view=view},_verticalRowCountForLevel:function(){return 1},_horizontalGroupCountForLevel:function(e){return this._view._columnCountForLevel(e+1)/7},_createRows:function(e,n,r){var view=this._view,html="",o=0;if(view._isVerticallyGrouped()){for(var l=new Date(e),c=view._groupCount();o<6;o++)html+=view._createRow(l,n,c,o),l=t.date.addDays(l,7);e=t.date.nextDay(e)}else{for(;o<7;o++)html+=view._createRow(e,n,r,o),e=t.date.nextDay(e);e=t.date.addDays(e,7)}return html},_adjustStartDate:function(e,n){return this._view._isVerticallyGrouped()?n?t.date.addDays(e,36):t.date.nextDay(e):t.date.addDays(e,7)},_getContent:function(content,e,t,n){return 0===n?content({date:e,resources:t}):""},_getTimeSlotByPosition:function(e,t,n){return this._view.groups[n].daySlotByPosition(e,t,!0)},_nextSlotStartDate:function(e){return e},_getCalendarRowsLength:function(){return this._view._isVerticallyGrouped()?7:6},_createRowsLayout:function(e,t,n,r){return this._view._createDateLayout(r,null,!1)},_createVerticalColumnsLayout:function(e,n,r){for(var view=this._view,o=e[0],l=[],data=o.dataSource.view(),c=0;c<6*data.length;c++){var h={text:r({text:t.htmlEncode(t.getter(o.dataTextField)(data[c%data.length])),color:t.getter(o.dataColorField)(data[c%data.length]),field:o.field,title:o.title,name:o.name,value:t.getter(o.dataValueField)(data[c%data.length])}),className:"k-slot-cell"};h.columns=view._createColumnsLayout(e.slice(1),null,r),l.push(h)}return l},_createColumnsLayout:function(e,t,n,r){return this._view._createColumnsLayout(e,t,n,r,!0)},_verticalGroupCount:function(e){return this._view._columnCountForLevel(e)/6},_horizontalGroupCount:function(e){return this._view._columnCountForLevel(e)/7},_positionEvent:function(e,t,n,r,o,l){for(var view=this._view,c=n.start.index,h=n.end.index,d=view._isMobile(),i=n.start.index;i<=n.end.index;i++){var f=n.collection._slots[i],m=t.daySlotRanges(f.start,f.start,!0)[0],v=e.clone({start:i===c?o:f.startDate(),end:i===h?l:f.endDate(),head:i!==h||n.head,tail:i!==c||n.tail});d?view._positionMobileEvent(m,view._createEventElement(v),t):view._positionEvent(m,view._createEventElement(v),t)}},_addDaySlotCollections:function(e,n,r){for(var view=this._view,o=view._isVerticallyGrouped(),l=0;l<7;l++)for(var c=0;c<6;c++){var h=0,d=n[o?l:c],f=d.children,m=0;d.setAttribute("role","row"),view._isVerticallyGrouped()||(m=l);for(var v=m*e;v<(m+1)*e;v++){var _,w=7*c+l,y=f[o?v+c*e:v],x=o?v:h,k=view.groups[x];_=0===l?k.addDaySlotCollection(t.date.addDays(r,w),t.date.addDays(r,w+7)):k._daySlotCollections[c],view.addDaySlot(_,y,r,w),h++}}},_changePeriodGroupIndex:function(e,t,n){var view=this._view;return t&&view._isVerticallyGrouped()?e?view.groups.length-1:0:n},_createResizeHint:function(e){var t,n,o,l,c,view=this._view;if(view._isVerticallyGrouped())t=e.startSlot().offsetLeft,n=e.start.offsetTop,o=e.startSlot().offsetWidth,l=e.endSlot().offsetTop+e.startSlot().offsetHeight-e.startSlot().offsetTop-2,c=r.fn._createResizeHint.call(view,t,n,o,l),view._appendResizeHint(c);else for(var h=e.startSlot().index;h<=e.endSlot().index;h++){var slot=e.collection._slots[h];t=slot.offsetLeft,n=slot.offsetTop,o=slot.offsetWidth,l=slot.offsetHeight-2,c=r.fn._createResizeHint.call(view,t,n,o,l),view._appendResizeHint(c)}},_createMoveHint:function(e,t){for(var view=this._view,n=e.startSlot(),r=e.endSlot(),o=n.index;o<=r.index;o++){var slot=e.collection._slots[o],l=view._createEventElement(t.clone({head:e.head,tail:e.tail}));l.css({left:slot.offsetLeft,top:slot.offsetTop+slot.firstChildHeight,height:view.options.eventHeight,width:slot.offsetWidth-2}),l.addClass("k-event-drag-hint"),t.inverseColor&&l.addClass("k-event-inverse"),view._appendMoveHint(l)}}});function w(e,t,n){var r;return(r=e)>=t&&r<=n}t.ui.scheduler.MonthGroupedView=v,t.ui.scheduler.MonthGroupedByDateView=_,n.MonthView=r.extend({init:function(element,e){r.fn.init.call(this,element,e),this._groupedView=this._getGroupedView(),this.title=this.options.title,this._templates(),this._editable(),this._renderLayout(this.options.date),this._groups()},name:"month",_getGroupedView:function(){return this._isGroupedByDate()?new t.ui.scheduler.MonthGroupedByDateView(this):new t.ui.scheduler.MonthGroupedView(this)},_updateDirection:function(e,t,n,r,o){if(n){var l=t[0].start,c=t[t.length-1].end,h=l.index===c.index,d=l.collectionIndex===c.collectionIndex;(o?h&&d||d:h&&d)&&(e.backward=r)}},_changeDate:function(e,slot,t){var n,r,o=this.groups[e.groupIndex];if(t){if(n=o._getCollections(o.daySlotCollectionCount()),(r=slot.collectionIndex-1)>=0)return n[r]._slots[n[r]._slots.length-1]}else if((n=o._getCollections(o.daySlotCollectionCount()))[r=slot.collectionIndex+1]&&n[r]._slots[0])return n[r]._slots[0]},_getNextHorizontalRange:function(e,t,n){var r=this._isVerticallyGrouped();return n.startSlot=e[t](n.startSlot,r),n.endSlot=e[t](n.endSlot,r),n},_getNextVerticalRange:function(e,t,n,r){var o=this._isVerticallyGrouped()&&this._isGroupedByDate();return n.startSlot=e[t](n.startSlot,r,o),n.endSlot=e[t](n.endSlot,r,o),n},_changeViewPeriod:function(e,n,r){var o,l,c=r?7:1;return n&&(c*=-1),o=t.date.addDays(e.start,c),l=t.date.addDays(e.end,c),!this._isInRange(o,l)&&(e.start=o,e.end=l,(!r||r&&this._isVerticallyGrouped())&&(e.groupIndex=this._groupedView._changePeriodGroupIndex(n,r,e.groupIndex)),e.events=[],!0)},_continuousSlot:function(e,t,n){var r=e.backward?0:t.length-1;return this.groups[e.groupIndex].continuousSlot(t[r].start,n)},_changeGroupContinuously:function(e,t,n,r){if(!n){var o=e.groupIndex,l=this.groups.length-1,c=this._isVerticallyGrouped(),h=this.groups[o];!t&&c?(t=h[r?"lastSlot":"firstSlot"](),o+=r?-1:1):t&&!c&&(o=r?l:0),(o<0||o>l)&&(o=r?l:0,t=null),e.groupIndex=o}return t},_normalizeHorizontalSelection:function(e,t,n){return n?t[0].start:t[t.length-1].end},_normalizeVerticalSelection:function(e,t){return e.backward?t[0].start:t[t.length-1].end},_templates:function(){var e=this.options,n=l({},t.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,'<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-60-left"></span>#}## if(data.isException()) {#<span class="k-icon k-i-non-recurrence"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-reload"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-60-right"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>'),this.dayTemplate=t.template(e.dayTemplate,n),this.groupHeaderTemplate=t.template(e.groupHeaderTemplate,n)},dateForTitle:function(){return t.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitle:function(){return t.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},mobileDateForTitle:function(){return t.format(this.options.selectedMobileDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return t.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return t.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(n){var r=this;this._firstDayOfMonth=t.date.firstDayOfMonth(n),this._lastDayOfMonth=t.date.lastDayOfMonth(n),this._startDate=function(e,n){for(var r=n.firstDay,o=new Date(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());o.getDay()!=r;)t.date.setTime(o,-1*h);return o}(n,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this.refreshLayout(),this.content.on("click"+o,".k-nav-day,.k-more-events",(function(t){var n=e(t.currentTarget).offset(),slot=r._slotByPosition(n.left,n.top);t.preventDefault(),r.trigger("navigate",{view:"day",date:slot.startDate()})})),this._footer()},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var n=this;n.element.on("click"+o,".k-scheduler-monthview .k-event a:has(.k-i-close)",(function(r){n.trigger("remove",{uid:e(this).closest(".k-event").attr(t.attr("uid"))}),r.preventDefault()})),!1!==n.options.editable.create&&n.element.on("dblclick"+o,".k-scheduler-monthview .k-scheduler-content td",(function(t){var r=e(t.currentTarget).offset(),slot=n._slotByPosition(r.left,r.top);if(slot){var o=n._resourceBySlot(slot);n.trigger("add",{eventInfo:l({isAllDay:!0,start:slot.startDate(),end:slot.startDate()},o)})}t.preventDefault()})),!1!==n.options.editable.update&&n.element.on("dblclick"+o,".k-scheduler-monthview .k-event",(function(r){n.trigger("edit",{uid:e(this).closest(".k-event").attr(t.attr("uid"))}),r.preventDefault()}))},_touchEditable:function(){var n=this,r=0;t.support.mobileOS.android&&(r=5),!1!==n.options.editable.create&&(n._addUserEvents=new t.UserEvents(n.element,{threshold:r,useClickAsTap:!t.support.browser.edge,filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(t){if(!n._scrolling){var r=e(t.target).offset(),slot=n._slotByPosition(r.left,r.top);if(slot){var o=n._resourceBySlot(slot);n.trigger("add",{eventInfo:l({isAllDay:!0,start:slot.startDate(),end:slot.startDate()},o)})}t.preventDefault()}}}))},selectionByElement:function(t){var n=e(t).offset();return this._slotByPosition(n.left,n.top)},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},_content:function(){var html="<tbody>",e=1,t=this._groupedView,n=this.groupedResources;n.length&&this._isVerticallyGrouped()&&(e=t._verticalRowCountForLevel(n.length-1));for(var r=0;r<e;r++)html+=this._createCalendar(r);html+="</tbody>",this.content.find("table").html(html)},_createCalendar:function(e){var n=this.startDate(),r=[n],html="",o=1,l=this._isVerticallyGrouped(),c=this._groupedView,h=this.groupedResources;h.length&&(l||(o=c._horizontalGroupCountForLevel(h.length-1))),this._slotIndices={};for(var d=c._getCalendarRowsLength(7,42),f=0;f<d;f++){html+="<tr>",r.push(n);var m=7*f;html+=c._createRows(n,m,o,e),n=c._adjustStartDate(n,f===d-1),html+="</tr>"}return this._weekStartDates=r,this._endDate=t.date.previousDay(n),html},_createRow:function(e,n,r,o){for(var l=this,h=l._firstDayOfMonth,d=l._lastDayOfMonth,content=l.dayTemplate,f="",html="",m=this._groupedView,v=function(){return l._resourceBySlot({groupIndex:o})},_=0;_<r;_++)f="",t.date.isToday(e)&&(f+="k-today"),t.date.isInDateRange(e,h,d)||(f+=" k-other-month"),html+="<td ",""!==f&&(html+='class="'+f+'"'),html+=">",html+=m._getContent(content,e,v,_),html+="</td>",l._slotIndices[c(e).getTime()]=n+_,e=m._nextSlotStartDate(e);return html},_layout:function(){var t,n=this.calendarInfo(),r=function(e,t){return e.slice(t).concat(e.slice(0,t))}(this._isMobile()?n.days.namesShort.map((function(e){return e[0]})):n.days.names,n.firstDay),o=e.map(r,(function(e){return{text:e}})),l=this.groupedResources,c=this._groupedView;if(l.length)if(this._isVerticallyGrouped()){for(var h=[],d=0;d<6;d++)h.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});t=c._createRowsLayout(l,h,this.groupHeaderTemplate,o),o=c._createVerticalColumnsLayout(l,h,this.groupHeaderTemplate,o)}else o=c._createColumnsLayout(l,o,this.groupHeaderTemplate,o);return{columns:o,rows:t}},_createEventElement:function(n){var r=this.options,o=r.editable,l=this._isMobile();n.showDelete=o&&!1!==o.destroy&&!l,n.resizable=o&&!1!==o.resize&&!l,n.ns=t.ns,n.resources=this.eventResources(n),n.inverseColor=!1,n.messages=r.messages||{destroy:"Delete"};var element=e(this.eventTemplate(n));return this.angular("compile",(function(){return{elements:element,data:[{dataItem:n}]}})),element},_isInDateSlot:function(e){var n=this.groups[0],r=n.firstSlot().start,o=n.lastSlot().end-1,l=t.date.toUtcTime(e.start),c=t.date.toUtcTime(e.end);return(w(l,r,o)||w(c,r,o)||w(r,l,c)||w(o,l,c))&&(!w(c,r,r)||w(c,l,l)||e.isAllDay)},_slotIndex:function(e){return this._slotIndices[c(e).getTime()]},_positionMobileEvent:function(n,element,o){var l=n.start;n.start.offsetLeft>n.end.offsetLeft&&(l=n.end);var c=n.start.index,h=c,d=r.collidingEvents(n.events(),c,h);d.push({element:element,start:c,end:h});var f=r.createRows(d),slot=n.collection.at(c),m=slot.container;m||(m=e(t.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',l.offsetTop+l.firstChildTop+l.firstChildHeight+"px",l.offsetLeft+"px",l.offsetWidth+"px")),slot.container=m,this.content[0].appendChild(m[0])),f.length<=3&&(n.addEvent({element:element,start:c,end:h,groupIndex:l.groupIndex}),o._continuousEvents.push({element:element,uid:element.attr(t.attr("uid")),start:n.start,end:n.end}),m[0].appendChild(element[0]))},_positionEvent:function(n,element,o){var l=this.options.eventHeight,c=n.start;n.start.offsetLeft>n.end.offsetLeft&&(c=n.end);var h=n.start.index,d=n.end.index,f=c.eventCount,v=r.collidingEvents(n.events(),h,d),_=h!==d?5:4;v.push({element:element,start:h,end:d});for(var w=r.createRows(v),y=0,x=Math.min(w.length,f);y<x;y++)for(var k=w[y].events,C=c.offsetTop+c.firstChildTop+c.firstChildHeight+y*l+3*y+"px",S=0,T=k.length;S<T;S++)k[S].element[0].style.top=C;if(w.length>f)for(var D=h;D<=d;D++){var slot=n.collection.at(D);slot.more||(slot.more=e(m({ns:t.ns,start:D,end:D,width:slot.clientWidth-2,left:slot.offsetLeft+2,top:slot.offsetTop+slot.firstChildTop+slot.firstChildHeight+f*l+3*f})),this.content[0].appendChild(slot.more[0]))}else n.addEvent({element:element,start:h,end:d,groupIndex:c.groupIndex}),element[0].style.width=n.innerWidth()-_+"px",element[0].style.left=c.offsetLeft+2+"px",element[0].style.height=l+"px",o._continuousEvents.push({element:element,uid:element.attr(t.attr("uid")),start:n.start,end:n.end}),element.appendTo(this.content),this._inverseEventColor(element)},_slotByPosition:function(e,t){var n=this.content.offset();e-=n.left,t-=n.top,t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft,e=Math.ceil(e),t=Math.ceil(t);for(var r=0;r<this.groups.length;r++){var slot=this._groupedView._getTimeSlotByPosition(e,t,r);if(slot)return slot}return null},_appendResizeHint:function(e){e.appendTo(this.content),this._resizeHint=this._resizeHint.add(e)},_updateResizeHint:function(e,n,r,o){this._removeResizeHint();for(var l=this.groups[n].ranges(r,o,!0,e.isAllDay),c=0;c<l.length;c++)this._groupedView._createResizeHint(l[c]);this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(t.toString(t.timezone.toLocalDate(r),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(t.toString(t.timezone.toLocalDate(o),"M/dd"))},_updateMoveHint:function(e,n,r){var o=t.date.toUtcTime(e.start)+r,l=o+e.duration(),c=this.groups[n].ranges(o,l,!0,e.isAllDay);this._removeMoveHint(e.uid);for(var h=0;h<c.length;h++)this._groupedView._createMoveHint(c[h],e)},_appendMoveHint:function(e){e.appendTo(this.content),this._moveHint=this._moveHint.add(e)},_groups:function(){var e=this._groupCount(),t=this.content[0].getElementsByTagName("tr"),n=this.startDate();this.groups=[];for(var r=0;r<e;r++)this._addResourceView(r);this._groupedView._addDaySlotCollections(e,t,n)},addDaySlot:function(e,n,r,o){var l=n.clientHeight,c=n.children.length?n.children[0].offsetHeight+3:0,h=t.date.addDays(r,o),d=t.date.MS_PER_DAY;r.getHours()!==h.getHours()&&(d+=(r.getHours()-h.getHours())*t.date.MS_PER_HOUR),d+=h=t.date.toUtcTime(h);var f=Math.floor((l-c-this.options.moreButtonHeight)/(this.options.eventHeight+3));n.setAttribute("role","gridcell"),n.setAttribute("aria-selected",!1),e.addDaySlot(n,h,d,f)},render:function(e){this.content.children(".k-event,.k-more-events,.k-events-container").remove(),this._groups(),e=new t.data.Query(e).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var n=this.groupedResources;n.length?this._renderGroups(e,n,0,1):this._renderEvents(e,0),this.refreshLayout(),this.trigger("activate")},_renderEvents:function(e,n){var r,o,l,c,h,d;for(o=0,l=e.length;o<l;o++)if(r=e[o],this._isInDateSlot(r)){var f=this.groups[n],m=this._groupedView._view._isMobile();f._continuousEvents||(f._continuousEvents=[]);var v=f.slotRanges(r,!0),_=v.length;if(m){h=(c=v[0]).start.start,d=c.end.end;for(var w=new Date(c.start.start),y=v[v.length-1].end.end,x=new Date(w),k=new Date(d);w.getTime()<=y&&r.end>=t.timezone.toLocalDate(w)&&r.start<=t.timezone.toLocalDate(y);){var C=f.daySlotRanges(x.getTime(),k.getTime(),!0)[0];k.setDate(k.getDate()+1),x.setDate(x.getDate()+1),C&&(C.head=null,C.middle=null,C.tail=null,this._groupedView._positionEvent(r,f,C,1,h,d,0)),w=t.date.addDays(w,1)}}else for(var S=0;S<_;S++)c=v[S],h=r.start,d=r.end,this._groupedView._positionEvent(r,f,c,_,h,d,S)}},_renderGroups:function(e,n,o,l){var c=n[0];if(c)for(var view=c.dataSource.view(),h=0;h<view.length;h++){var d=this._resourceValue(c,view[h]),f=new t.data.Query(e).filter({field:c.field,operator:r.groupEqFilter(d)}).toArray();n.length>1?o=this._renderGroups(f,n.slice(1),o++,l+1):this._renderEvents(f,o++)}return o},_groupCount:function(){var e=this.groupedResources,t=this._groupedView;return e.length?this._isVerticallyGrouped()?t._verticalGroupCount(e.length-1):t._horizontalGroupCount(e.length):1},_columnOffsetForResource:function(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1)},destroy:function(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(o),this.element&&this.element.off(o),r.fn.destroy.call(this),this._isMobile()&&this.options.editable&&!1!==this.options.editable.create&&this._addUserEvents.destroy()},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:!0,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",selectedMobileDateFormat:"{0:MMMM}",groupHeaderTemplate:"#=text#",dayTemplate:d,eventTemplate:f}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(938),e.exports=n(938)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},938:function(e,t,n){var r,o,l;n(3),o=[n(939)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.Class,o=n.ui.editor,l=o.Dom,template=n.template,c=o.RangeUtils,h=["ul","ol","tbody","thead","table"],d=function(t){return e(t).is("body,.k-editor")},f=function(e){return e.getAttribute&&"false"==e.getAttribute("contenteditable")},m=function(e){return l.closestBy(e,f,d)},v=function(e){return!!m(e.commonAncestorContainer)||!(!m(e.startContainer)&&!m(e.endContainer)||0!==c.editableTextNodes(e).length)},_=function(e){for(var t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=e||10;i>0;--i)t+=n.charAt(Math.round(Math.random()*(n.length-1)));return t},w=function(e){var t=e?e.options:void 0;t&&t.finder&&t.finder._initOptions({immutables:!0})},y=r.extend({init:function(t){this.editor=t,this.serializedImmutables={},this.options=e.extend({},t&&t.options&&t.options.immutables);var n=t.toolbar.tools;w(n.justifyLeft),w(n.justifyCenter),w(n.justifyRight),w(n.justifyFull)},serialize:function(e){var t,n=this._toHtml(e);return-1===n.indexOf("k-immutable")?(t=this.randomId(),n=n.replace(/>/,' k-immutable="'+t+'">')):t=n.match(/k-immutable\s*=\s*['"](.*)['"]/)[1],this.serializedImmutables[t]=e,n},_toHtml:function(e){var t,n=this.options.serialization;switch(typeof n){case"string":return template(n)(e);case"function":return n(e);default:return"<"+(t=l.name(e))+"></"+t+">"}},deserialize:function(t){var r=this,o=this.options.deserialization;e("[k-immutable]",t).each((function(){var t=this.getAttribute("k-immutable"),l=r.serializedImmutables[t];n.isFunction(o)&&o(this,l),e(this).replaceWith(l)})),r.serializedImmutables={}},randomId:function(e){return _(e)},keydown:function(e,t){var r,o,l=(r=e.keyCode,o=n.keys,r===o.BACKSPACE||r==o.DELETE);if(l&&this._cancelDeleting(e,t)||!l&&this._cancelTyping(e,t))return e.preventDefault(),!0},_cancelTyping:function(e,t){var n=this.editor.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&v(t)},_cancelDeleting:function(e,t){var r=n.keys,o=e.keyCode===r.BACKSPACE,del=e.keyCode==r.DELETE;if(!o&&!del)return!1;var c=!1;if(t.collapsed){if(v(t))return!0;var d=this.nextImmutable(t,del);if(d&&o){var f=l.closest(t.commonAncestorContainer,"li");if(f){var m=l.closest(d,"li");if(m&&m!==f)return c}}if(d&&!l.tableCell(d)){if(l.parentOfType(d,h)===l.parentOfType(t.commonAncestorContainer,h)){for(;d&&1==d.parentNode.childNodes.length;)d=d.parentNode;if(l.tableCell(d))return c;this._removeImmutable(d,t)}c=!0}}return c},nextImmutable:function(e,t){var n=e.commonAncestorContainer;if(l.isBom(n)||t&&c.isEndOf(e,n)||!t&&c.isStartOf(e,n)){var r=this._nextNode(n,t);if(r&&l.isBlock(r)&&!m(r))for(;r&&r.children&&r.children[t?0:r.children.length-1];)r=r.children[t?0:r.children.length-1];return m(r)}},_removeImmutable:function(e,t){var n=this.editor,r=new o.RestorePoint(t,n.body);l.remove(e),o._finishUpdate(n,r)},_nextNode:function(e,t){for(var n,r=t?"nextSibling":"previousSibling",o=e;o&&!n;)(n=o[r])&&l.isDataNode(n)&&/^\s|[\ufeff]$/.test(n.nodeValue)&&(n=(o=n)[r]),n||(o=o.parentNode);return n}});y.immutable=f,y.immutableParent=m,y.expandImmutablesIn=function(e){var t=m(e.startContainer),n=m(e.endContainer);(t||n)&&(t&&e.setStartBefore(t),n&&e.setEndAfter(n))},y.immutablesContext=v,y.toolsToBeUpdated=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],y.removeImmutables=function(t){var n,r,o,c={empty:!0};return e(t).find("[contenteditable='false']").each((function(i,t){n=l.name(t),r=_(),o="<"+n+" k-immutable='"+r+"'></"+n+">",c[r]={node:t,style:e(t).attr("style")},c.empty=!1,e(t).replaceWith(o)})),c},y.restoreImmutables=function(t,n){var r,o;e(t).find("[k-immutable]").each((function(i,t){r=t.getAttribute("k-immutable"),o=n[r],e(t).replaceWith(o.node),o.style!=e(o.node).attr("style")&&e(o.node).removeAttr("style").attr("style",o.style)}))},o.Immutables=y}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},939:function(e,t){e.exports=n(139)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(934),e.exports=n(934)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},934:function(e,t,n){var r,o,l;n(3),o=[n(935)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.ui.DropDownList,o=n.ui.editor.Dom,l=r.extend({init:function(element,t){var o=this;r.fn.init.call(o,element,t),n.support.mobileOS.ios&&(this._initSelectOverlay(),this.bind("dataBound",e.proxy(this._initSelectOverlay,this))),o.text(o.options.title),o.element.attr("title",o.options.title),o.wrapper.attr("title",o.options.title),o.bind("open",(function(){if(o.options.autoSize){var e,t=o.list;t.css({whiteSpace:"nowrap",width:"auto"}),(e=t.width())>0?e+=20:e=o._listWidth,t.css("width",e+n.support.scrollbar()),o._listWidth=e}}))},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){for(var t,r=this,o=r.value(),view=this.dataSource.view(),html="",l=n.htmlEncode,i=0;i<view.length;i++)html+="<option value='"+l((t=view[i]).value)+"'",t.value==o&&(html+=" selected"),html+=">"+l(t.text)+"</option>";var select=e("<select class='k-select-overlay'>"+html+"</select>"),c=e(this.element).closest(".k-widget");c.next(".k-select-overlay").remove(),select.insertAfter(c),select.on("change",(function(){r.value(this.value),r.trigger("change")}))},value:function(e){var t=r.fn.value.call(this,e);if(void 0===e)return t;r.fn.value.call(this)||this.text(this.options.title)},decorate:function(body){var i,t,n,style,r=this.dataSource,l=r.data();for(body&&this.list.css("background-color",o.getEffectiveBackground(e(body))),i=0;i<l.length;i++)t=l[i].tag||"span",n=l[i].className,style=(style=o.inlineStyle(body,t,{className:n})).replace(/"/g,"'"),l[i].style=style+";display:inline-block";r.trigger("change")}});n.ui.plugin(l),n.ui.editor.SelectBox=l}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},935:function(e,t){e.exports=n(204)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(986),e.exports=n(986)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},986:function(e,t,n){var r,o,l;n(3),o=[n(987)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.ui.editor,o=r.Dom,l=e.extend,c="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),h=/"/g,d=/<br[^>]*>/i,f=/^\d+(\.\d*)?(px)?$/i,m=/<p>(?:&nbsp;)?<\/p>/i,v=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,_=/^sizzle-\d+/i,w=/^k-script-/i,y=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,br='<br class="k-br">',div=document.createElement("div");div.innerHTML=" <hr>";var x=3===div.firstChild.nodeType;div=null;var k=e.isFunction,C="td",S={toEditableHtml:function(html){return(html||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,(function(e){return e.replace(y,"")})).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,br+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+br)},_toEditableImmutables:function(body){for(var t=r.Immutables.immutable,n=o.emptyTextNode,l=body.firstChild,c=body.lastChild;n(l);)l=l.nextSibling;for(;n(c);)c=c.previousSibling;l&&t(l)&&e(br).prependTo(body),c&&t(c)&&e(br).appendTo(body)},_fillEmptyElements:function(body){e(body).find("p,td").each((function(){var p=e(this);if(/^\s*$/g.test(p.text())&&!p.find("img,input").length){for(var t=this;t.firstChild&&3!=t.firstChild.nodeType;)t=t.firstChild;1!=t.nodeType||o.empty[o.name(t)]||(o.is(t,"td")?t.innerHTML=n.ui.editor.emptyTableCellContent:t.innerHTML=n.ui.editor.emptyElementContent)}}))},_removeSystemElements:function(body){e(".k-paste-container",body).remove()},_resetOrderedLists:function(e){var i,ol,t,n=e.getElementsByTagName("ol");for(i=0;i<n.length;i++)t=(ol=n[i]).getAttribute("start"),ol.setAttribute("start",1),t?ol.setAttribute("start",t):ol.removeAttribute(t)},_preventScriptExecution:function(t){e(t).find("*").each((function(){var e,i,t,n,r=this.attributes,o=[];for(i=0,t=r.length;i<t;i++)n=(e=r[i]).nodeName,e.specified&&/^on/i.test(n)&&(this.setAttribute("k-script-"+n,e.value),o.push(n));for(i=0,t=o.length;i<t;i++)this.removeAttribute(o[i])}))},htmlToDom:function(html,t,r){var l=n.support.browser,c=l.msie,h=c&&l.version<9,d=r||{},f=d.immutables;return html=S.toEditableHtml(html),h&&(html=(html=(html="<br/>"+html).replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,'originalhref="$1"')).replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,'originalsrc="$1"')),k(d.custom)&&(html=d.custom(html)||html),t.innerHTML=html,f&&f.deserialize(t),h?(o.remove(t.firstChild),e(t).find("k\\:script,script,link,img,a").each((function(){this.originalhref&&(this.setAttribute("href",this.originalhref),this.removeAttribute("originalhref")),this.originalsrc&&(this.setAttribute("src",this.originalsrc),this.removeAttribute("originalsrc"))}))):c&&(o.normalize(t),S._resetOrderedLists(t)),S._preventScriptExecution(t),S._fillEmptyElements(t),S._removeSystemElements(t),S._toEditableImmutables(t),e("table",t).addClass("k-table"),t},domToXhtml:function(l,y){var k=[],S=y&&y.immutables;function T(t){return e.grep(t,(function(e){return"style"!=e.name}))}function D(e,t){k.push("<"+t),M(e),k.push(">")}var E={iframe:{start:function(e){D(e,"iframe")},end:function(){k.push("</iframe>")}},"k:script":{start:function(e){D(e,"script")},end:function(){k.push("<\/script>")},skipEncoding:!0},span:{semantic:!0,start:function(t){var style=t.style,n=T(I(t));n.length&&(k.push("<span"),M(t,n),k.push(">")),"underline"==style.textDecoration&&k.push("<u>");var r=[];if(style.color&&r.push('color="'+o.toHex(style.color)+'"'),style.fontFamily&&r.push('face="'+style.fontFamily+'"'),style.fontSize){var l=e.inArray(style.fontSize,c);r.push('size="'+l+'"')}r.length&&k.push("<font "+r.join(" ")+">")},end:function(e){var style=e.style;(style.color||style.fontFamily||style.fontSize)&&k.push("</font>"),"underline"==style.textDecoration&&k.push("</u>"),T(I(e)).length&&k.push("</span>")}},strong:{semantic:!0,start:function(e){D(e,"b")},end:function(){k.push("</b>")}},em:{semantic:!0,start:function(e){D(e,"i")},end:function(){k.push("</i>")}},b:{semantic:!1,start:function(e){D(e,"strong")},end:function(){k.push("</strong>")}},i:{semantic:!1,start:function(e){D(e,"em")},end:function(){k.push("</em>")}},u:{semantic:!1,start:function(t){k.push("<span");var n=I(t),style=e(n).filter((function(i,e){return"style"==e.name}))[0],r={nodeName:"style",value:"text-decoration:underline;"};style&&(r.value=style.value,/text-decoration/i.test(r.value)||(r.value="text-decoration:underline;"+r.value),n.splice(e.inArray(style,n),1)),n.push(r),M(t,n),k.push(">")},end:function(){k.push("</span>")}},font:{semantic:!1,start:function(e){k.push('<span style="');var t=e.getAttribute("color"),n=c[e.getAttribute("size")],r=e.getAttribute("face");t&&(k.push("color:"),k.push(o.toHex(t)),k.push(";")),r&&(k.push("font-family:"),k.push(r),k.push(";")),n&&(k.push("font-size:"),k.push(n),k.push(";")),k.push('">')},end:function(){k.push("</span>")}}};function A(t){var i,n=function(t){var n,r,l,c=e.trim,d=c(t),f=[];for(v.lastIndex=0;n=v.exec(d);)r=c(n[1].toLowerCase()),l=c(n[2]),"font-size-adjust"!=r&&"font-stretch"!=r&&(r.indexOf("color")>=0?l=o.toHex(l):r.indexOf("font")>=0?l=l.replace(h,"'"):/\burl\(/g.test(l)&&(l=l.replace(h,"")),f.push({property:r,value:l}));return f}(t);for(i=0;i<n.length;i++)k.push(n[i].property),k.push(":"),k.push(n[i].value),k.push(";")}function I(e){var t,i,n,r,l,c,h=[],d=e.attributes;for(i=0,n=d.length;i<n;i++)r=(t=d[i]).nodeName,l=t.value,c=t.specified,"value"==r&&"value"in e&&e.value?c=!0:"type"==r&&"text"==l?c=!0:"class"!=r||l?_.test(r)?c=!1:"complete"==r?c=!1:"altHtml"==r?c=!1:"start"==r&&o.is(e,"ul")?c=!1:"start"==r&&o.is(e,"ol")&&"1"==l?c=!1:r.indexOf("_moz")>=0?c=!1:w.test(r)?c=!!y.scripts:"data-role"==r&&"resizable"==l&&(o.is(e,"tr")||o.is(e,"td"))&&(c=!1):c=!1,c&&h.push(t);return h}function M(r,l){var i,c,h,d,m;if(l=l||I(r),o.is(r,"img")){var v=r.style.width,_=r.style.height,y=e(r);v&&f.test(v)&&(y.attr("width",parseInt(v,10)),o.unstyle(r,{width:t})),_&&f.test(_)&&(y.attr("height",parseInt(_,10)),o.unstyle(r,{height:t}))}if(l.length)for(i=0,c=l.length;i<c;i++)d=(h=l[i]).nodeName,m=h.value,"class"==d&&"k-table"==m||(d=d.replace(w,""),k.push(" "),k.push(d),k.push('="'),"style"==d?A(m||r.style.cssText):"src"==d||"href"==d?k.push(n.htmlEncode(r.getAttribute(d,2))):k.push(o.fillAttrs[d]?d:m),k.push('"'))}function R(e,t,n){for(var r=e.firstChild;r;r=r.nextSibling)F(r,t,n)}function text(e){return e.nodeValue.replace(/\ufeff/g,"")}function F(t,n,l){var c,h,d,f,m,v,_=t.nodeType;if(S&&r.Immutables.immutable(t))k.push(S.serialize(t));else if(1==_){if(c=o.name(t),(v=e(t)).hasClass("k-table-resize-handle-wrapper")||v.hasClass("k-column-resize-handle-wrapper")||v.hasClass("k-row-resize-handle-wrapper"))return;if(!c||o.insignificant(t))return;if(!y.scripts&&("script"==c||"k:script"==c))return;if((h=E[c])&&(void 0===h.semantic||y.semantic^h.semantic))return h.start(t),R(t,!1,h.skipEncoding),void h.end(t);k.push("<"),k.push(c),M(t),o.empty[c]?k.push(" />"):(k.push(">"),R(t,n||o.is(t,"pre")),k.push("</"),k.push(c),k.push(">"))}else if(3==_){if(function(e){if(o.isBom(e)){do{if(e=e.parentNode,o.is(e,C)&&1===e.childNodes.length)return!0;if(1!==e.childNodes.length)return!1}while(!o.isBlock(e));return!0}return!1}(t))return void k.push("&nbsp;");f=text(t),!n&&x&&(d=t.parentNode,(m=t.previousSibling)||(m=(o.isInline(d)?d:t).previousSibling),m&&""!==m.innerHTML&&!o.isBlock(m)||(f=f.replace(/^[\r\n\v\f\t ]+/,"")),f=f.replace(/ +/," ")),k.push(l?f:o.encode(f,y))}else 4==_?(k.push("<![CDATA["),k.push(t.data),k.push("]]>")):8==_&&(t.data.indexOf("[CDATA[")<0?(k.push("\x3c!--"),k.push(t.data),k.push("--\x3e")):(k.push("<!"),k.push(t.data),k.push(">")))}function P(){e.isFunction(y.custom)&&(k=y.custom(k)||k)}return E.script=E["k:script"],void 0===(y=y||{}).semantic&&(y.semantic=!0),function(e){var t=e.childNodes.length;return t&&3==e.firstChild.nodeType&&(1==t||2==t&&o.insignificant(e.lastChild))}(l)?(k=o.encode(text(l.firstChild).replace(/[\r\n\v\f\t ]+/," "),y),P(),k):(R(l),k=k.join(""),P(),""===k.replace(d,"").replace(m,"")?"":k)}};l(r,{Serializer:S})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},987:function(e,t){e.exports=n(140)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(967)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},957:function(e,t){e.exports=n(142)},967:function(e,t,n){var r,o,l;n(3),o=[n(957)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.Class,o=e.extend,l=e.proxy,c=n.ui.editor,h=c.Dom,d=c.RangeUtils,f=c.EditorUtils,m=c.Command,v=c.Tool,_=c.ToolTemplate,w=c.InlineFormatter,y=c.InlineFormatFinder,x=d.textNodes,k=d.editableTextNodes,C=c.EditorUtils.registerTool,S=n.keys,T=/^\w*:\/\//,D=/[\w\/\$\-_\*\?]/i,E=r.extend({findSuitable:function(e){return h.parentOfType(e,["a"])}}),A=r.extend({init:function(){this.finder=new E},apply:function(e,t){var n,r,o,a,l,c=this.immutables?k(e):x(e);if(t.innerText){r=d.documentFromRange(e),n=d.getMarkers(e),e.deleteContents(),a=h.create(r,"a",t),e.insertNode(a),l=a.parentNode,"a"==h.name(l)&&h.insertAfter(a,l),h.emptyNode(l)&&h.remove(l);for(var f=a,i=0;i<n.length;i++)h.insertAfter(n[i],f),f=n[i];n.length&&(h.insertBefore(r.createTextNode("\ufeff"),n[1]||n[0]),h.insertAfter(r.createTextNode("\ufeff"),n[1]||n[0]),e.setStartBefore(n[0]),e.setEndAfter(n[n.length-1]))}else(o=new w([{tags:["a"]}],t)).finder=this.finder,o.apply(c)}}),I=m.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var n=t.immutables()?k(e):x(e);new w([{tags:["a"]}]).remove(n)}},this.options=e,m.fn.init.call(this,e)}}),M=m.extend({init:function(e){this.options=e,m.fn.init.call(this,e),this.formatter=new A,e.url?this.exec=function(){this.formatter.immutables=void 0,this.formatter.apply(e.range,{href:e.url,innerText:e.text||e.url,target:e.target})}:(this.attributes=null,this.async=!0)},_dialogTemplate:function(){return n.template("<div class=\"k-editor-dialog k-popup-edit-form\"><div class=\"k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div></div>")({messages:this.editor.options.messages})},exec:function(){var t=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0),this.formatter.immutables=this.immutables();var n=x(this._range),a=n.length?this.formatter.finder.findSuitable(n[0]):null,img=n.length&&"img"==h.name(n[0]),dialog=this.createDialog(this._dialogTemplate(),{title:t.createLink,close:l(this._close,this),visible:!1});a&&(this._range.selectNodeContents(a),n=x(this._range)),this._initialText=this.linkText(n),dialog.find(".k-dialog-insert").click(l(this._apply,this)).end().find(".k-dialog-close").click(l(this._close,this)).end().find(".k-edit-field input").keydown(l(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(a)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(a?a.title:"").end().find("#k-editor-link-target").attr("checked",!!a&&"_blank"==a.target).end().find(".k-editor-link-text-row").toggle(!img),this._dialog=dialog.data("kendoWindow").center().open(),e("#k-editor-link-url",dialog).focus().select()},_keydown:function(e){var t=n.keys;e.keyCode==t.ENTER?this._apply(e):e.keyCode==t.ESC&&this._close(e)},_apply:function(t){var title,text,n,element=this._dialog.element,r=e("#k-editor-link-url",element).val(),o=e("#k-editor-link-text",element);r&&"http://"!=r&&(r.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(r)&&(r="mailto:"+r),this.attributes={href:r},(title=e("#k-editor-link-title",element).val())&&(this.attributes.title=title),o.is(":visible")&&((text=o.val())||this._initialText?text&&text!==this._initialText&&(this.attributes.innerText=h.stripBom(text)):this.attributes.innerText=r),n=e("#k-editor-link-target",element).is(":checked"),this.attributes.target=n?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._dialog.destroy(),h.windowFromDocument(d.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute("href",2):"http://"},linkText:function(e){var i,text="";for(i=0;i<e.length;i++)text+=e[i].nodeValue;return h.stripBom(text||"")},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),R=m.extend({init:function(e){m.fn.init.call(this,e),this.formatter=new A},exec:function(){var e=this.detectLink();if(e){var t=this.getRange(),r=new n.ui.editor.Marker,o=t.cloneRange();o.setStart(e.start.node,e.start.offset),o.setEnd(e.end.node,e.end.offset),t=this.lockRange(),r.add(o),this.formatter.apply(o,{href:this._ensureWebProtocol(e.text)}),r.remove(o),this.releaseRange(t)}},detectLink:function(){var e=this.getRange(),t=e.startContainer,n=e.startOffset;!t.previousSibling&&(h.isBom(t)&&!t.nextSibling||!n&&h.isDataNode(t))&&(t=t.parentNode,n=0);var r=new H({node:t,offset:n,cancelAtNode:function(e){return e&&"a"===h.name(e)}});return new P(r).detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){return this._hasProtocolPrefix(e)?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return T.test(e)},_prefixWithWebProtocol:function(e){return"http://"+e}}),F=v.extend({init:function(t){this.options=t,this.finder=new y([{tags:["a"]}]),v.fn.init.call(this,e.extend(t,{command:I}))},initialize:function(e,t){v.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}}),P=r.extend({init:function(e){this.traverser=e,this.start=B(),this.end=B(),this.text=""},detectLink:function(){var t=this.traverser.node,n=this.traverser.offset;if(h.isDataNode(t)){var text=t.data.substring(0,n);if(/\s{2}$/.test(h.stripBom(text)))return}else if(0===n){var p=h.closestEditableOfType(t,h.blockElements);p&&p.previousSibling&&this.traverser.init({node:p.previousSibling})}if(this.traverser.traverse(e.proxy(this._detectEnd,this)),!this.end.blank()&&(this.traverser=this.traverser.clone(this.end),this.traverser.traverse(e.proxy(this._detectStart,this)),!this._isLinkDetected())){var r=this.traverser.extendOptions(this.start);new N(r).traverse(e.proxy(this._skipStartPuntuation,this)),this._isLinkDetected()||(this.start=B())}return this.start.blank()?null:{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return T.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(text,e){var i=z(text,D);if(i>-1)return this.end.node=e,this.end.offset=i+1,!1},_detectStart:function(text,e){var i=z(text,/\s/),t=i+1;if(this.text=text.substring(t)+this.text,this.start.node=e,this.start.offset=t,i>-1)return!1},_skipStartPuntuation:function(text,e,t){var n,i=(n=/\w/.exec(text))?n.index:-1,r=i;if(-1===i&&(r=text.length),this.text=this.text.substring(r),this.start.node=e,this.start.offset=r+(0|t),i>-1)return!1}});function z(e,t){for(var i=e.length;i--&&!t.test(e[i]););return i}var B=function(){return{node:null,offset:null,blank:function(){return null===this.node&&null===this.offset}}},L=r.extend({init:function(t){this.node=t.node,this.offset=void 0===t.offset?h.isDataNode(this.node)&&this.node.length||0:t.offset,this.cancelAtNode=t.cancelAtNode||this.cancelAtNode||e.noop},traverse:function(e){e&&(this.cancel=!1,this._traverse(e,this.node,this.offset))},_traverse:function(e,t,n){if(t&&!this.cancel){if(3!==t.nodeType){var r=this.edgeNode(t);return this.cancel=this.cancel||this.cancelAtNode(r),this._traverse(e,r)}var text=t.data;void 0!==n&&(text=this.subText(text,n)),this.cancel=!1===e(text,t,n);var o=this.next(t);if(!o)for(var l=t.parentNode;!o&&h.isInline(l);)o=this.next(l),l=l.parentNode;this.cancel=this.cancel||this.cancelAtNode(o),this._traverse(e,o)}},extendOptions:function(t){return e.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},t||{})},edgeNode:function(e){},next:function(e){},subText:function(text,e){}}),H=L.extend({subText:function(text,e){return text.substring(0,e)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){var t=this.extendOptions(e);return new H(t)}}),N=L.extend({subText:function(text,e){return text.substring(e)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){var t=this.extendOptions(e);return new N(t)}});o(n.ui.editor,{LinkFormatFinder:E,LinkFormatter:A,UnlinkCommand:I,LinkCommand:M,AutoLinkCommand:R,UnlinkTool:F,DomTextLinkDetection:P,LeftDomTextTraverser:H,RightDomTextTraverser:N}),C("createLink",new v({key:"K",ctrl:!0,command:M,template:new _({template:f.buttonTemplate,title:"Create Link"})})),C("unlink",new F({key:"K",ctrl:!0,shift:!0,template:new _({template:f.buttonTemplate,title:"Remove Link"})})),C("autoLink",new v({key:[S.ENTER,S.SPACEBAR],keyPressCommand:!0,command:R}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(964)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},946:function(e,t){e.exports=n(27)},964:function(e,t,n){var r,o,l;n(3),o=[n(946)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo.ui.editor,n=t.Command,r=t.GenericCommand,o=t.EditorUtils,l=o.registerTool,c=t.Tool,h=t.ToolTemplate,d=t.RestorePoint,f=e.extend,m=n.extend({init:function(e){n.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor,t=this.options,n=t.range,body=e.body,o=new d(n,body),html=t.html||t.value||"";e.selectRange(n),e.clipboard.paste(html,t),t.postProcess&&t.postProcess(e,e.getRange());var l=new r(o,new d(e.getRange(),body));l.editor=e,e.undoRedoStack.push(l),e.focus()}}),v=c.extend({initialize:function(e,n){var r=n.editor,o=this.options,l=o.items?o.items:r.options.insertHtml;this._selectBox=new t.SelectBox(e,{dataSource:l,dataTextField:"text",dataValueField:"value",change:function(){c.exec(r,"insertHtml",this.value())},title:r.options.messages.insertHtml,highlightFirst:!1}),e.attr("title",n.title),this._selectBox.wrapper.attr("title",n.title)},command:function(e){return new m(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}});f(t,{InsertHtmlCommand:m,InsertHtmlTool:v}),l("insertHtml",new v({template:new h({template:o.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(970)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},962:function(e,t){e.exports=n(70)},970:function(e,t,n){var r,o,l;n(3),o=[n(962),n(971)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=e.extend,o=e.proxy,l=n.ui.editor,c=l.Dom,h=l.EditorUtils,d=l.RangeUtils,f=l.Command,m="kendoEditor",v=l.Tool,_=l.ToolTemplate,w=l.InsertHtmlCommand,y=l.BlockFormatFinder,x=l.EditorUtils.registerTool,k=n.getTouches,template=n.template,C=new y([{tags:["table"]}]),S=w.extend({init:function(t){var n=e.extend({postProcess:this.postProcess,skipCleaners:!0},t||{});w.fn.init.call(this,n)},_tableHtml:function(e,t){e=e||1,t=t||1;var n=template("<td style='width:#=width#%;'>#=content#</td>")({width:100/t,content:l.emptyTableCellContent}),r=100/e;return"<table class='k-table' data-last>"+new Array(e+1).join("<tr style='height:"+r+"%;'>"+new Array(t+1).join(n)+"</tr>")+"</table>"},postProcess:function(t,n){var r=e("table[data-last]",t.document).removeAttr("data-last");n.setStart(r.find("td")[0],0),n.collapse(!0),t.selectRange(n)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),w.fn.exec.call(this)}}),T=v.extend({initialize:function(t,n){v.fn.initialize.call(this,t,n);var r=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:o(this._open,this),activate:o(this._activate,this),close:o(this._close,this)}).data("kendoPopup");t.click(o(this._toggle,this)).keydown(o(this._keydown,this));var c=this._editor=n.editor;this._popup=r;var d=new l.TableWizardTool({template:new _({template:h.tableWizardButtonTemplate,title:c.options.messages.tableWizard}),command:l.TableWizardCommand,insertNewTable:!0});x("tableWizardInsert",d);var f=e("<div class='k-editor-toolbar'>"+d.options.template.getHtml()+"</div>");f.appendTo(r.element),c.toolbar&&c.toolbar.attachToolsEvents(f)},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass("k-state-active")},_close:function(){this._popup.options.anchor.removeClass("k-state-active")},_keydown:function(e){var t=n.keys,r=e.keyCode;r==t.DOWN&&e.altKey?this._popup.open():r==t.ESC&&this._popup.close()},_toggle:function(t){e(t.target).closest(".k-tool").hasClass("k-state-disabled")||this.popup().toggle()},update:function(e){var t=this.popup();t.wrapper&&"block"==t.wrapper.css("display")&&t.close(),e.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),D=T.extend({init:function(t){this.cols=8,this.rows=6,T.fn.init.call(this,e.extend(t,{command:S,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}))},_activate:function(){var t,r,o=this,element=o._popup.element,l=element.find(".k-ct-cell"),c=l.eq(0),h=l.eq(l.length-1),d=n.getOffset(c),f=n.getOffset(h),v=o.cols,_=o.rows;function w(n){var o=e(window);return{row:Math.floor((n.clientY+o.scrollTop()-d.top)/r)+1,col:Math.floor((n.clientX+o.scrollLeft()-d.left)/t)+1}}element.find("*").addBack().attr("unselectable","on"),f.left+=h[0].offsetWidth,f.top+=h[0].offsetHeight,t=(f.left-d.left)/v,r=(f.top-d.top)/_,element.autoApplyNS(m).on("mousemove",".k-ct-cell",(function(e){o._setTableSize(w(e))})).on("mouseleave",".k-ct-cell",(function(){o._setTableSize()})).on("down",".k-ct-cell",(function(e){e.preventDefault();var t=k(e)[0];o._exec(w(t.location))}))},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(t){var element=this._popup.element,r=element.find(".k-status"),o=element.find(".k-ct-cell"),l=this.cols,c=this._editor.options.messages;this._valid(t)?(r.text(n.format(c.createTableHint,t.row,t.col)),o.each((function(i){e(this).toggleClass("k-state-selected",i%l<t.col&&i/l<t.row)}))):(r.text(c.createTable),o.removeClass("k-state-selected"))},_keydown:function(e){if(T.fn._keydown.call(this,e),this._popup.visible()){var t=n.keys,r=e.keyCode,o=this._popup.element.find(".k-ct-cell"),l=Math.max(o.filter(".k-state-selected").last().index(),0),c=Math.floor(l/this.cols),h=l%this.cols,d=!1;r!=t.DOWN||e.altKey?r==t.UP?(d=!0,c--):r==t.RIGHT?(d=!0,h++):r==t.LEFT&&(d=!0,h--):(d=!0,c++);var f={row:Math.max(1,Math.min(this.rows,c+1)),col:Math.max(1,Math.min(this.cols,h+1))};r==t.ENTER?this._exec(f):this._setTableSize(f),d&&(e.preventDefault(),e.stopImmediatePropagation())}},_open:function(){var e=this._editor.options.messages;T.fn._open.call(this),this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass("k-state-selected")},_close:function(){T.fn._close.call(this),this.popup().element.off("."+m)}}),E=f.extend({_clearColIndexAtrr:function(table){c.clearTableMappings(table,"col-index")},_mapColIndices:function(table){c.reMapTableColumns(table,"col-index")},_findRowSpanCell:function(table,t,n){for(var r,o,i=t;i>=0;i--)if(r=table.rows[i],(o=e(r).find("[col-index="+n+"]")).length)return o},_resetTableResizing:function(e){e._destroyResizings(),e._initializeColumnResizing(),e._initializeRowResizing(),e._initializeTableResizing()},_findNextTdInRow:function(e,t){for(var td,n=e.find("td:last-child"),r=parseInt(n.attr("col-index"),10)+n.prop("colSpan")-1,i=t;i<=r;i++)if((td=e.find("[col-index="+i+"]")).length)return td}}),A=E.extend({exec:function(){var t,n,r,o,h,d,f=this.lockRange(!0),td=c.closest(f.endContainer,["td","th"]),table=c.closest(td,"table"),m=this.options.position||"after";if(!(!table||this.immutables()&&l.Immutables.immutableParent(td))){this._mapColIndices(table),n=td.parentNode,d=c.findNodeIndex(n,!0),td.rowSpan>1&&"after"===m&&(n=table.rows[d+td.rowSpan-1]),t=table.rows[0].cells.length,r=table.rows[0].cells[t-1],t=parseInt(r.getAttribute("col-index"),10)+r.colSpan-1,h=n.cloneNode(!0),e(h).empty();for(var i=0;i<=t;i+=o.prop("colSpan"))(o=e(n).find("[col-index="+i+"]")).length?o.prop("rowSpan")>1&&"after"===m&&o?o.attr("rowspan",o.prop("rowSpan")+1):this._appendCell(h,o):(d=c.findNodeIndex(n,!0),(o=this._findRowSpanCell(table,d,i)).closest("tr").index()+o.prop("rowSpan")-1===d&&"after"===m?this._appendCell(h,o):o.attr("rowspan",o.prop("rowSpan")+1));"before"==m?c.insertBefore(h,n):c.insertAfter(h,n),this._clearColIndexAtrr(table),this.releaseRange(f),this._resetTableResizing(this.editor)}},_appendCell:function(e,t){var n;(n=t.clone()).html(l.emptyTableCellContent),n.removeAttr("rowspan"),n.appendTo(e)}}),I=E.extend({exec:function(){var e,i,t,n,r=this.lockRange(!0),td=c.closest(r.endContainer,["td","th"]),table=c.closest(td,"table"),o=table&&table.rows,h=this.options.position||"after";if(!(!td||this.immutables()&&l.Immutables.immutableParent(td))){for(this._mapColIndices(table),e=parseInt(td.getAttribute("col-index"),10),td.colSpan>1&&"after"===h&&(td.setAttribute("col-index",e+td.colSpan-1),e=e+td.colSpan-1),i=0;i<o.length;i++)(t=this._processForColSpan(o[i],e,h,td))&&((n=t.cloneNode()).innerHTML=l.emptyTableCellContent,n.removeAttribute("colspan"),"before"==h?c.insertBefore(n,t):c.insertAfter(n,t),this._resizeCells(n,t));this._clearColIndexAtrr(table),this.releaseRange(r),this._resetTableResizing(this.editor)}},_processForColSpan:function(t,n,r,o){var l,c,h=n-1;if((l=e(t).find("[col-index="+n+"]")[0])&&l.colSpan>1&&"after"===r&&l!==o)l.colSpan+=1;else{if(l)return l;for(;h>=0&&!((l=e(t).find("[col-index="+h+"]")[0])&&l.colSpan>1);h--);if(l){if((c=parseInt(l.getAttribute("col-index"),10)+l.colSpan-1)===n&&"after"===r)return l;n<=c&&l.setAttribute("colspan",l.colSpan+1)}}},_resizeCells:function(e,t){var n,r,o,l=e.style.width;l&&(n=parseFloat(l),r=l.slice(n.toString().length),o=n/2+r,e.style.width=o,t.style.width=o)}}),M=E.extend({exec:function(){var t,n=this.lockRange(),r=d.mapAll(n,(function(t){return e(t).closest("tr")[0]})),td=c.closest(n.endContainer,["td","th"]),o=r[0],h=td?td.rowSpan:1,f=e(r[0]).index(),table=c.closest(o,"table");if(!(!table||this.immutables()&&l.Immutables.immutableParent(o))){for(var m=0;m<h;m++)r.indexOf(table.rows[f+m])<0&&r.push(table.rows[f+m]);if(table.rows.length<=r.length)(t=c.next(table))&&!c.insignificant(t)||(t=c.prev(table)),c.remove(table),this._resetTableResizing(this.editor);else{this._mapColIndices(table);for(var i=0;i<r.length;i++)o=r[i],c.removeTextSiblings(o),t=(t=c.next(o)||c.prev(o)).cells[0],this._handleRowSpanCells(table,o),c.remove(o);this._clearColIndexAtrr(table)}t&&(n.setStart(t,0),n.collapse(!0),this.editor.selectRange(n)),this._resetTableResizing(this.editor)}},_handleRowSpanCells:function(table,t){var n,r,o,l,h=c.findNodeIndex(t,!0),d=table.rows[0],f=d.cells[d.cells.length-1],m=parseInt(f.getAttribute("col-index"),10)+f.colSpan-1;for(n=0;n<=m;n+=r.prop("colSpan"))(r=e(t).find("[col-index="+n+"]")).length&&r.prop("rowSpan")>1&&(l=table.rows[h+1],(o=e(l).find("[col-index="+(n+1)+"]")).length?o.before(r):e(l).append(r),this._reduceRowSpan(r)),r.length||(r=this._findRowSpanCell(table,h,n),this._reduceRowSpan(r))},_reduceRowSpan:function(td){var e=td.prop("rowSpan")-1;e<=1?td.removeAttr("rowspan"):td.attr("rowspan",e)}}),R=E.extend({exec:function(){var t,i,n,r,o=this.lockRange(),td=c.closest(o.endContainer,["td","th"]),table=c.closest(td,"table"),h=table&&table.rows,d=c.findNodeIndex(td,!0),f=h&&h[0].cells.length;if(!(!td||this.immutables()&&l.Immutables.immutableParent(td))){if(1==f||td.colSpan==f)(t=c.next(table))&&!c.insignificant(t)||(t=c.prev(table)),c.remove(table),this._resetTableResizing(this.editor);else{for(c.removeTextSiblings(td),t=c.next(td)||c.prev(td),this._mapColIndices(table),d=parseInt(td.getAttribute("col-index"),10),r=0;r<td.colSpan;r++)for(i=0;i<h.length;i+=n.prop("rowSpan")||1)(n=e(h[i]).find("[col-index="+(d+r)+"]")).length&&n.prop("colSpan")<=1?n.remove():this._handleColSpanCells(h[i],d+r);this._clearColIndexAtrr(table)}t&&(o.setStart(t,0),o.collapse(!0),this.editor.selectRange(o)),this._resetTableResizing(this.editor)}},_handleColSpanCells:function(t,n){var r=e(t).find("[col-index="+n+"]");if(r.length&&r.prop("colSpan")>1){var o=r.clone(!0);return r.after(o),this._reduceColSpan(o),o.attr("col-index",parseInt(r.attr("col-index"),10)+1),void r.remove()}for(var i=n;i>=0;i--)if((r=e(t).find("[col-index="+i+"]")).length)return this._reduceColSpan(r),void r.attr("col-index",parseInt(r.attr("col-index"),10)+1)},_reduceColSpan:function(td){var e=td.prop("colSpan")-1;e<=1?td.removeAttr("colspan"):td.attr("colspan",e)}}),F=E.extend({exec:function(){var table,t,n,r,o=this.lockRange(),td=c.closest(o.endContainer,["td","th"]);if(td&&(table=c.closest(td,"table"),t=td.parentNode,n=c.findNodeIndex(td,!0),t.children[n+1],!this.immutables()||!l.Immutables.immutableParent(td))){if(this._mapColIndices(table),n=parseInt(e(td).attr("col-index"),10),!(r=e(t).find("[col-index="+(n+1+this._getColspan(td)-1)+"]").get(0))||r.rowSpan!==td.rowSpan)return this._clearColIndexAtrr(table),void this.releaseRange(o);e(td).prop("colspan",this._getColspan(td)+this._getColspan(r)).append(c.emptyNode(r)?"":"<br/>"+r.innerHTML),e(td).width(td.offsetWidth),e(r).remove(),this._clearColIndexAtrr(table),this.releaseRange(o),this._resetTableResizing(this.editor)}},_getColspan:function(td){return parseInt(td.getAttribute("colspan"),10)||1}}),P=E.extend({exec:function(){var tr,table,t,n,r,o,h=this.lockRange(),td=c.closest(h.endContainer,["td","th"]);if(td&&(tr=c.closest(td,"tr"),table=c.closest(td,"table"),t=c.findNodeIndex(td,!0),n=c.findNodeIndex(tr,!0),(r=table.rows[n+this._getRowspan(td)])&&r.children[t],!this.immutables()||!l.Immutables.immutableParent(td))){if(this._mapColIndices(table),t=e(td).attr("col-index"),!(o=e(r).find("[col-index="+t+"]").get(0))||o.colSpan!==td.colSpan)return this._clearColIndexAtrr(table),void this.releaseRange(h);e(td).prop("rowspan",this._getRowspan(td)+this._getRowspan(o)).append(c.emptyNode(o)?"":"<br/>"+o.innerHTML),e(o).remove(),this._clearColIndexAtrr(table),this.releaseRange(h)}},_getRowspan:function(td){return parseInt(td.getAttribute("rowspan"),10)||1}}),z=E.extend({exec:function(){var t=this.lockRange(),n=this.options.type,r="row"===n?"colspan":"rowspan",td=c.closest(t.endContainer,["td","th"]),table=c.closest(td,"table"),o=c.createEmptyNode(this.editor.document,td.nodeName.toLowerCase());!td||this.immutables()&&l.Immutables.immutableParent(td)||(this._mapColIndices(table),"row"===n&&e(td).is("["+r+"]")?this._splitCellHorizontally(td,table,r,o):"column"===n&&e(td).is("["+r+"]")&&this._splitCellVertically(td,table,r,o),e(td).prop(r.toLowerCase())<=1&&e(td).removeAttr(r),this._clearColIndexAtrr(table),this.releaseRange(t))},_getRowspanValue:function(td){return parseInt(td.getAttribute("rowspan"),10)},_getColspanValue:function(td){return parseInt(td.getAttribute("colspan"),10)},_splitCellHorizontally:function(td,table,t,n){var r=td.rowSpan,o=td.colSpan,l=e(n),c=Math.floor(o/2);c>1&&l.attr("colspan",c),r>1&&l.attr("rowspan",r),e(td).prop(t,o-c).after(l),e(td).width(td.offsetWidth),l.width(l[0].offsetWidth)},_splitCellVertically:function(td,table,t,n){var tr=c.closest(td,"tr"),r=parseInt(e(td).attr("col-index"),10),o=c.findNodeIndex(tr,!0),l=td.rowSpan,h=td.colSpan,d=Math.floor(l/2),f=e(table).find("tr").eq(o+l-d),m=this._findNextTdInRow(f,r+h),v=e(n);d>1&&v.attr("rowspan",d),h>1&&v.attr("colspan",h),m&&m.length?m.before(v):f.append(v),e(td).prop(t,l-d)}}),B=v.extend({command:function(e){var t={row:{insert:A,delete:M,merge:F,split:z},column:{insert:I,delete:R,merge:P,split:z}};return(e=r(e,this.options)).action=e.action||"insert",new t[e.type][e.action](e)},initialize:function(e,t){v.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){var n=!C.isFormatted(t);e.toggleClass("k-state-disabled",n)}});r(n.ui.editor,{PopupTool:T,TableCommand:S,InsertTableTool:D,TableModificationTool:B,InsertRowCommand:A,InsertColumnCommand:I,DeleteRowCommand:M,DeleteColumnCommand:R,MergeCellsHorizontallyCommand:F,MergeCellsVerticallyCommand:P,SplitCellCommand:z}),x("createTable",new D({template:new _({template:h.buttonTemplate,popup:!0,title:"Create table"})})),x("addColumnLeft",new B({type:"column",position:"before",template:new _({template:h.buttonTemplate,title:"Add column on the left"})})),x("addColumnRight",new B({type:"column",template:new _({template:h.buttonTemplate,title:"Add column on the right"})})),x("addRowAbove",new B({type:"row",position:"before",template:new _({template:h.buttonTemplate,title:"Add row above"})})),x("addRowBelow",new B({type:"row",template:new _({template:h.buttonTemplate,title:"Add row below"})})),x("deleteRow",new B({type:"row",action:"delete",template:new _({template:h.buttonTemplate,title:"Delete row"})})),x("deleteColumn",new B({type:"column",action:"delete",template:new _({template:h.buttonTemplate,title:"Delete column"})})),x("mergeCellsHorizontally",new B({type:"row",action:"merge",template:new _({template:h.buttonTemplate,title:"Merge Cell Right"})})),x("mergeCellsVertically",new B({type:"column",action:"merge",template:new _({template:h.buttonTemplate,title:"Merge Cell Down"})})),x("splitCellHorizontally",new B({type:"row",action:"split",template:new _({template:h.buttonTemplate,title:"Split Cell"})})),x("splitCellVertically",new B({type:"column",action:"split",template:new _({template:h.buttonTemplate,title:"Split Cell"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},971:function(e,t){e.exports=n(206)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(981)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},948:function(e,t){e.exports=n(23)},976:function(e,t){e.exports=n(71)},981:function(e,t,n){var r,o,l;n(3),o=[n(948),n(982),n(976)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=e.jQuery,r=n.extend,o=n.noop,l=n.proxy,c=e.ui.editor,h=e.Class,d=h.extend({init:function(element,e){this.options=r({},this.options,e),this.options.tags=n.isArray(this.options.tags)?this.options.tags:[this.options.tags],n(element).is("table")&&(this.element=element,this._attachEventHandlers())},destroy:function(){var e=this.options.eventNamespace;this.element&&(n(this.element).off(e),this.element=null),n(this.options.rootElement).off("keydown"+e),this._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:!1,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var e=this.options;n(this.element).on("mousemove"+e.eventNamespace,e.tags.join(","),l(this.detectElementBorderHovering,this))},resizingInProgress:function(){var e=this._resizable;return!!e&&!!e.resizing},resize:o,detectElementBorderHovering:function(e){var t=this.options.handle,r=n(e.currentTarget),o=this.resizeHandle,l=t.dataAttribute;this.resizingInProgress()||(!r.is(":last-child")&&this.elementBorderHovered(r,e)?o?o.data(l)&&o.data(l)!==r[0]&&this.showResizeHandle(r,e):this.showResizeHandle(r,e):o&&this._destroyResizeHandle())},elementBorderHovered:o,showResizeHandle:function(e,t){0===t.buttons&&(this._initResizeHandle(),this.setResizeHandlePosition(e),this.setResizeHandleDimensions(),this.setResizeHandleDataAttributes(e[0]),this._attachResizeHandleEventHandlers(),this._initResizable(e),this._hideResizeMarker(),this.resizeHandle.show())},_initResizeHandle:function(){var e=this.options;this._destroyResizeHandle(),this.resizeHandle=n(e.handle.template).appendTo(e.rootElement)},setResizeHandlePosition:o,setResizeHandleDimensions:o,setResizeHandleDataAttributes:function(e){this.resizeHandle.data(this.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this.options,t=e.eventNamespace,n=e.handle.classNames.marker,r=this.resizeHandle;this.resizeHandle.on("mousedown"+t,(function(){r.find("."+n).show()})).on("mouseup"+t,(function(){r.find("."+n).hide()}))},_hideResizeMarker:function(){this.resizeHandle.find("."+this.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){this.resizeHandle&&(this._destroyResizable(),this.resizeHandle.off(this.options.eventNamespace).remove(),this.resizeHandle=null)},_initResizable:function(t){this.resizeHandle&&(this._destroyResizable(),this._resizable=new e.ui.Resizable(t,{draggableElement:this.resizeHandle[0],start:l(this.onResizeStart,this),resize:l(this.onResize,this),resizeend:l(this.onResizeEnd,this)}))},_destroyResizable:function(){this._resizable&&(this._resizable.destroy(),this._resizable=null)},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:o,onResizeEnd:function(e){this.resize(e),this._destroyResizeHandle(),this._enableKeyboard()},_enableKeyboard:function(){var e=this.options;n(e.rootElement).off("keydown"+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;n(e.rootElement).on("keydown"+e.eventNamespace,(function(e){e.preventDefault()}))},_forceResizing:function(e){var t=this._resizable;t&&t.userEvents&&t.userEvents._end(e)}}),f=h.extend({create:function(e,t){var r=this,o=t.name,l=t.eventNamespace;n(e.body).on("mouseenter"+l,"table",(function(n){var table=n.currentTarget,l=e[o];n.stopPropagation(),l?l.element===table||l.resizingInProgress()||(r._destroyResizing(e,t),r._initResizing(e,table,t)):r._initResizing(e,table,t)})).on("mouseleave"+l,"table",(function(l){var c,h=e[o];l.stopPropagation(),!h||h.resizingInProgress()||h.resizeHandle||(c=n(h.element).parents("table")[0])&&(r._destroyResizing(e,t),r._initResizing(e,c,t))})).on("mouseleave"+l,(function(){var n=e[o];n&&!n.resizingInProgress()&&r._destroyResizing(e,t)})).on("mouseup"+l,(function(l){var c,h=e[o];h&&h.resizingInProgress()&&(c=n(l.target).parents("table")[0])&&(h._forceResizing(l),r._destroyResizing(e,t),r._initResizing(e,c,t))}))},dispose:function(e,t){n(e.body).off(t.eventNamespace)},_initResizing:function(t,n,r){var o=r.name,l=r.type;t[o]=new l(n,{rtl:e.support.isRtl(t.element),rootElement:t.body})},_destroyResizing:function(e,t){var n=t.name;e[n]&&(e[n].destroy(),e[n]=null)}});f.current=new f,d.create=function(e,t){f.current.create(e,t)},d.dispose=function(e,t){f.current.dispose(e,t)},r(c,{TableElementResizing:d})}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},982:function(e,t){e.exports=n(41)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(983)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},869:function(e,t){e.exports=n(5)},948:function(e,t){e.exports=n(23)},976:function(e,t){e.exports=n(71)},983:function(e,t,n){var r,o,l;n(3),o=[n(948),n(869),n(976)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=e.jQuery,r=n.extend,o=n.noop,l=n.proxy,c=e.ui.editor,h=e.Class,d=e.ui.Draggable,f=e.Observable,m=c.ResizingUtils.getScrollBarWidth,v=e._outerWidth,_=e._outerHeight,w=".kendoEditorTableResizeHandle",y=f.extend({init:function(e){f.fn.init.call(this),this.options=r({},this.options,e),this.element=n(this.options.template).appendTo(this.options.appendTo)[0],this._attachEventHandlers(),this._addStyles(),this._initDraggable(),this._initPositioningStrategy(),this._initDraggingStrategy(),n(this.element).data("table",this.options.resizableElement)},destroy:function(){n(this.element).off(w).remove(),this.element=null,this._destroyDraggable(),this.unbind()},options:{appendTo:null,direction:"southeast",resizableElement:null,rtl:!1,template:"<div class='k-table-resize-handle-wrapper' unselectable='on' contenteditable='false'><div class='k-table-resize-handle'></div></div>"},events:["dragStart","drag","dragEnd","mouseover","mouseout"],show:function(){this._setPosition()},_setPosition:function(){var e=this._positioningStrategy.getPosition();n(this.element).css({top:e.top,left:e.left,position:"absolute"})},_attachEventHandlers:function(){n(this.element).on("mouseover"+w,l(this._onMouseOver,this)).on("mouseout"+w,l(this._onMouseOut,this))},_onMouseOver:function(){this.trigger("mouseover")},_onMouseOut:function(){this.trigger("mouseout")},_addStyles:function(){n(this.element).children(".k-table-resize-handle").addClass("k-resize-"+this.options.direction)},_initPositioningStrategy:function(){var e=this.options;this._positioningStrategy=C.create({name:e.direction,handle:this.element,resizableElement:e.resizableElement,rootElement:e.rootElement,rtl:e.rtl})},_initDraggable:function(){var element=this.element;!this._draggable&&element&&(this._draggable=new d(element,{dragstart:l(this._onDragStart,this),drag:l(this._onDrag,this),dragend:l(this._onDragEnd,this)}))},_onDragStart:function(){this.trigger("dragStart")},_onDrag:function(e){this.trigger("drag",this._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta}))},_onDragEnd:function(){this.trigger("dragEnd")},_destroyDraggable:function(){this._draggable&&(this._draggable.destroy(),this._draggable=null)},_initDraggingStrategy:function(){this._draggingStrategy=P.create({name:this.options.direction})}}),x=h.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t,n,i,r=this._items,o=r.length,l=e.name?e.name.toLowerCase():"";for(i=0;i<o;i++)if((n=r[i]).name.toLowerCase()===l){t=n;break}if(t)return new t.type(e)}}),k=x.extend({});k.current=new k;var C=h.extend({init:function(e){this.options=r({},this.options,e)},options:{handle:null,offset:"halfInside",resizableElement:null,rootElement:null,rtl:!1},getPosition:function(){var e=this.calculatePosition(),t=this.applyHandleOffset(e);return this.applyScrollOffset(t)},calculatePosition:o,applyHandleOffset:function(e){var t=this.options,r=n(t.handle);return"halfInside"===t.offset?{top:e.top-_(r)/2,left:e.left-v(r)/2}:e},applyScrollOffset:function(e){var t=this.options,r=n(t.rootElement),o=t.rtl?m(r[0]):0;return r.is("body")?e:{top:e.top+(r.scrollTop()||0),left:e.left+(r.scrollLeft()||0)-o}}});C.create=function(e){return k.current.create(e)};var S=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position();return{top:t.top+_(e)/2,left:t.left+v(e)}}});k.current.register("east",S);var T=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position();return{top:t.top,left:t.left+v(e)/2}}});k.current.register("north",T);var D=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position();return{top:t.top,left:t.left+v(e)}}});k.current.register("northeast",D);var E=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement).position();return{top:e.top,left:e.left}}});k.current.register("northwest",E);var A=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position();return{top:t.top+_(e),left:t.left+v(e)/2}}});k.current.register("south",A);var I=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position();return{top:t.top+_(e),left:t.left+v(e)}}});k.current.register("southeast",I);var M=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position();return{top:t.top+_(e),left:t.left}}});k.current.register("southwest",M);var R=C.extend({calculatePosition:function(){var e=n(this.options.resizableElement),t=e.position();return{top:t.top+_(e)/2,left:t.left}}});k.current.register("west",R);var F=x.extend({});F.current=new F;var P=h.extend({init:function(e){this.options=r({},this.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options,n=t.deltaX.adjustment*t.deltaX.modifier,r=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*n,deltaY:e.deltaY*r,initialDeltaX:e.initialDeltaX*n,initialDeltaY:e.initialDeltaY*r}}});P.create=function(e){return F.current.create(e)};var z=P.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}}),B=z.extend({options:{deltaX:{modifier:1}}});F.current.register("east",B);var L=z.extend({options:{deltaX:{modifier:-1}}});F.current.register("west",L);var H=P.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}}),N=H.extend({options:{deltaY:{modifier:-1}}});F.current.register("north",N);var O=H.extend({options:{deltaY:{modifier:1}}});F.current.register("south",O);var V=P.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}}),W=V.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}});F.current.register("northeast",W);var U=V.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}});F.current.register("northwest",U);var j=V.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}});F.current.register("southeast",j);var G=V.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}});F.current.register("southwest",G),r(c,{TableResizeHandle:y})}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(988)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},988:function(e,t,n){var r,o,l;n(3),o=[n(989)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.ui.editor,o=r.EditorUtils,l=r.RangeUtils,c=r.Dom,h=o.registerTool,d=r.ToolTemplate,f=r.Command,m=new r.BlockFormatFinder([{tags:["table"]}]),v=new r.BlockFormatFinder([{tags:["td","th"]}]),_=/([a-z]+|%)$/i,w=f.extend({exec:function(){var t=this,o=t.editor,l=t.range=t.lockRange(),c=t._sourceTable=t.options.insertNewTable?void 0:t._selectedTable(l),h=t._selectedTableCells=c?t._selectedCells(l):void 0,d={visible:!1,messages:o.options.messages,closeCallback:e.proxy(t.onDialogClose,t),table:t.parseTable(c,h),dialogOptions:o.options.dialogOptions,isRtl:n.support.isRtl(o.wrapper)};new r.TableWizardDialog(d).open()},onDialogClose:function(data){this.releaseRange(this.range),data&&(this.options.insertNewTable?this.insertTable(this.createNewTable(data)):this.updateTable(data,this._sourceTable,this._selectedTableCells))},releaseRange:function(e){var t=this.editor.document;c.windowFromDocument(t).focus(),f.fn.releaseRange.call(this,e)},insertTable:function(table){var e=this.range;e.insertNode(table),e.collapse(!0),this.editor.selectRange(e),this._ensureFocusableAfterTable(table)},_ensureFocusableAfterTable:function(table){for(var t=e(table).parent().contents(),n=t.length-1,r=t.get(n);null!==r.nodeValue&&(" "===r.nodeValue||""===r.nodeValue);)n-=1,r=t.get(n);r===table&&c.insertAfter(c.createEmptyNode(this.editor.document,"p"),table)},updateTable:function(data,table,t){for(var n=this,r=e(table.rows).toArray(),o=data.tableProperties,l=o.rows,h=o.columns,d=function(e){return e[e.length-1]};t.length>1;)t.pop();var f,m,v=t.length?d(t).parentNode:d(r);if(n._deleteTableRows(r,r.length-l),r.length<l){var _=e(v).index(),w=v.cells.length,y=l-r.length;for(m=v.parentNode;y;)f=m.insertRow(_+1),n._insertCells(w-f.cells.length,f),y--}if(r[0].cells.length>h&&e(r).each((function(i,e){for(;e.cells.length>h;)e.deleteCell(-1)})),r[0].cells.length<h){var x=e(d(t)||d(v.cells)).index();e(r).each((function(i,e){n._insertCells(h-e.cells.length,e,x+1)}))}n._updateTableProperties(table,o);var k=data.cellProperties;t[0]&&c.attr(t[0],{id:k.id||null}),(k.selectAllCells?e(r).children():e(t)).each((function(i,e){n._updateCellProperties(e,k)})),n._updateCaption(table,o),o.cellsWithHeaders=o.cellsWithHeaders||!1,n.cellsWithHeadersAssociated(table)!=o.cellsWithHeaders&&n.associateCellsWithHeader(table,o.cellsWithHeaders)},_isHeadingRow:function(e){return c.is(e.parentNode,"thead")||c.is(e.cells[0],"th")},associateCellsWithHeader:function(table,t){var n,r,o,l=(new Date).getTime(),c=[],h=table.rows[0].cells.length,d=function(n,r){e(r)[t?"attr":"removeAttr"]("id",c[n])},f=function(n,r){e(r)[t?"attr":"removeAttr"]("headers",c[n])},m=this._isHeadingRow;e(table.rows).each((function(t,v){if(m(v))for(n=t,r=table.rows[++n],(o=r&&!m(r))&&(function(){for(var i=0;i<h;i++)c[i]="table"+ ++l}(),e(v.cells).each(d));o;)e(r.cells).each(f),r=table.rows[++n],o=r&&!m(r)}))},cellsWithHeadersAssociated:function(table){var t=e(table.rows).children(),n=this._isHeadingRow,r=[];return t.each((function(e,t){t.id&&n(t.parentNode)&&r.push(t.id)})),!!t.filter((function(t,o){var l=o.getAttribute("headers");return l&&!n(o.parentNode)&&e.inArray(l,r)>-1})).length},_insertCells:function(e,t,n){n=isNaN(n)?-1:n;for(var i=0;i<e;i++)t.insertCell(n).innerHTML="&nbsp;"},_deleteTableRows:function(e,t){for(var n,r,i=0;i<t;i++)(r=(n=e.pop()).parentNode).removeChild(n),r.rows.length||c.remove(r)},createNewTable:function(data){var e=this.editor.document,t=data.tableProperties,n=data.cellProperties,r=n.selectAllCells,table=c.create(e,"table");this._updateTableProperties(table,t),this._updateCaption(table,t);for(var o,tbody=table.createTBody(),l=0;l<t.rows;l++){o=tbody.insertRow();for(var h,d=0;d<t.columns;d++)(h=o.insertCell()).innerHTML="&nbsp;",0===l&&0===d&&n.id&&(h.id=n.id),this._updateCellProperties(h,r||0===l&&0===d?n:{})}return t.cellsWithHeaders&&this.associateCellsWithHeader(table,t.cellsWithHeaders),table},_updateTableProperties:function(table,data){var style=this._getStylesData(data);c.attr(table,{cellSpacing:data.cellSpacing||null,cellPadding:data.cellPadding||null,className:data.className||null,id:data.id||null,summary:data.summary||null,style:style||null}),e(table).addClass("k-table")},_updateCellProperties:function(e,data){var style=this._getStylesData(data);style.padding=data.cellPadding||null,style.margin=data.cellMargin||null,c.attr(e,{style:style||null,className:data.className||null})},_updateCaption:function(table,data){if(table.caption&&!data.captionContent)table.deleteCaption();else if(data.captionContent){var caption=table.createCaption();caption.innerHTML=data.captionContent;var e=this._getAlignmentData(data.captionAlignment);c.attr(caption,{style:{textAlign:e.textAlign,verticalAlign:e.verticalAlign}})}},_getStylesData:function(data){var e=this._getAlignmentData(data.alignment),t="wrapText"in data?data.wrapText?"":"nowrap":null;return{width:data.width?data.width+data.widthUnit:null,height:data.height?data.height+data.heightUnit:null,textAlign:e.textAlign,verticalAlign:e.verticalAlign,backgroundColor:data.bgColor||"",borderWidth:data.borderWidth,borderStyle:data.borderStyle,borderColor:data.borderColor||"",borderCollapse:data.collapseBorders?"collapse":null,whiteSpace:t}},_getAlignmentData:function(e){var t="",n=t;if(e)if(-1!=e.indexOf(" ")){var r=e.split(" ");t=r[0],n=r[1]}else t=e;return{textAlign:t,verticalAlign:n}},parseTable:function(table,t){if(!table)return{tableProperties:{},selectedCells:[]};var n=table.style,r=table.rows,caption=table.caption,o=e(caption?caption.cloneNode(!0):void 0);o.find(".k-marker").remove();var l=table.className;l=(l=(l=l.replace(/^k-table\s|\sk-table$/,"")).replace(/\sk-table\s/," ")).replace(/^k-table$/,"");var c=this._getAlignment(table,!0),h=caption?this._getAlignment(caption):void 0,d=this.cellsWithHeadersAssociated(table),f={tableProperties:{width:n.width||table.width?parseFloat(n.width||table.width):null,height:n.height||table.height?parseFloat(n.height||table.height):null,columns:r[0]?r[0].children.length:0,rows:r.length,widthUnit:this._getUnit(n.width),heightUnit:this._getUnit(n.height),cellSpacing:table.cellSpacing,cellPadding:table.cellPadding,alignment:c.textAlign,bgColor:n.backgroundColor||table.bgColor,className:l,id:table.id,borderWidth:n.borderWidth||table.border,borderColor:n.borderColor,borderStyle:n.borderStyle||"",collapseBorders:!!n.borderCollapse,summary:table.summary,captionContent:caption?o.html():"",captionAlignment:caption&&h.textAlign?h.textAlign+" "+h.verticalAlign:"",cellsWithHeaders:d},selectedCells:[]};return f.rows=this.parseTableRows(r,t,f),f},parseTableRows:function(t,n,r){for(var o,l,c,h,data=[],i=0;i<t.length;i++){o={cells:[]},l=t[i].cells,data.push(o);for(var d=0;d<l.length;d++)c=l[d],h=this.parseCell(c),-1!=e.inArray(c,n)&&r.selectedCells.push(h),o.cells.push(h)}return data},parseCell:function(e){var t=e.style,n=this._getAlignment(e);return n=n.textAlign?n.textAlign+" "+n.verticalAlign:"",{width:t.width||e.width?parseFloat(t.width||e.width):null,height:t.height||e.height?parseFloat(t.height||e.height):null,widthUnit:this._getUnit(t.width),heightUnit:this._getUnit(t.height),cellMargin:t.margin,cellPadding:t.padding,alignment:n,bgColor:t.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:t.borderWidth||e.border,borderColor:t.borderColor,borderStyle:t.borderStyle,wrapText:"nowrap"!=t.whiteSpace}},_getAlignment:function(element,e){var style=element.style,t=style.textAlign||element.align||"";if(e)return{textAlign:t};var n=style.verticalAlign||element.vAlign||"";return t&&n?{textAlign:t,verticalAlign:n}:!t&&n?{textAlign:"left",verticalAlign:n}:t&&!n?{textAlign:t,verticalAlign:"top"}:{textAlign:"",verticalAlign:""}},_getUnit:function(e){var t=(e||"").match(_);return t?t[0]:"px"},_selectedTable:function(e){var t=c.filterBy(l.nodes(e),c.htmlIndentSpace,!0);return m.findSuitable(t)[0]},_selectedCells:function(e){var t=c.filterBy(l.nodes(e),c.htmlIndentSpace,!0);return v.findSuitable(t)}}),y=r.Tool.extend({command:function(e){return e.insertNewTable=this.options.insertNewTable,new w(e)}}),x=y.extend({update:function(e,t){var n=!m.isFormatted(t);e.toggleClass("k-state-disabled",n)}});n.ui.editor.TableWizardTool=y,n.ui.editor.TableWizardCommand=w,h("tableWizard",new x({command:w,insertNewTable:!1,template:new d({template:o.buttonTemplate,title:"Table Wizard"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},989:function(e,t){e.exports=n(207)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1560),e.exports=n(1560)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},937:function(e,t){e.exports=n(51)},1560:function(e,t,n){var r,o,l;n(3),o=[n(19),n(937)],void 0===(l="function"==typeof(r=function(){"use strict";var e=String.fromCharCode,t={amp:38,lt:60,gt:62,quot:34,apos:39,nbsp:160};function n(e){for(var t=[],i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t}function r(e,code){code>65535?(code-=65536,e.push(code>>>10&1023|55296,56320|1023&code)):e.push(code)}var o=n("<![CDATA["),l=n("]]>"),c=n("--\x3e"),h=n("!--"),d=n("/>"),f=n("</"),m=n("?>"),v=n("?"),_=n("<"),w=n(">"),y=n(";"),x=n("="),k=n("&"),C=n('"'),S=n("'"),T=n("#"),D=n("x"),E=n("X"),A={};function I(data,n){var I=0,M=[],object={is:function(e){for(var i=M.length,t=e.length;--i>=0&&--t>=0;)if(M[i].$tag!=e[t]&&"*"!=e[t])return!1;return t<0?M[M.length-1]:null},exit:function(){throw A},stack:M};function R(body){var code=data[I++];240&code^240?224&code^224?192&code^192?body.push(code):r(body,(31&code)<<6|63&data[I++]):r(body,(15&code)<<12|(63&data[I++])<<6|63&data[I++]):r(body,(3&code)<<18|(63&data[I++])<<12|(63&data[I++])<<6|63&data[I++])}function F(e){throw new Error(e+", at "+I)}function P(e){for(var a=[];I<data.length&&e(data[I]);)a.push(data[I++]);return a}function z(t){return e.apply(0,P(t))}function B(){P(N)}function L(a){for(var e=I,i=0;i<a.length;++i)if(data[I++]!=a[i])return I=e,!1;return a}function H(code){L(code)||F("Expecting "+code.join(", "))}function N(code){return 9==code||10==code||13==code||32==code}function O(code){return code>=48&&code<=57}function V(code){return code>=48&&code<=57||(code|=32)>=97&&code<=102}function W(code){return 58==code||95==code||(code|=32)>=97&&code<=122}function U(code){return 45==code||O(code)||W(code)}function j(){var t,n;L(v)?(Q("decl",G(),K()),H(m)):L(h)?function(){for(var body=[];I<data.length;){if(L(c))return Q("comment",e.apply(0,body));R(body)}}():(n=K(t=G()),M.push(n),L(d)?Q("enter",t,n,!0):(H(w),Q("enter",t,n),function(t){for(var body=[];I<data.length;){if(L(f))return body.length&&Q("text",e.apply(0,body));if(L(o))for(;I<data.length&&!L(l);)R(body);else L(_)?(body.length&&Q("text",e.apply(0,body)),j(),body=[]):L(k)?Y(body):R(body)}F("Unclosed tag "+t)}(t),t!=G()&&F("Bad closing tag"),Q("leave",t,n),B(),H(w)),M.pop())}function G(){return W(data[I])||F("Expecting XML name"),z(U)}function $(){var t=L(C)||L(S);t||F("Expecting string");for(var body=[];I<data.length;){if(L(t))return e.apply(0,body);L(k)?Y(body):R(body)}F("Unfinished string")}function Y(body){var code;if(L(T))code=L(D)||L(E)?parseInt(z(V),16):parseInt(z(O),10),isNaN(code)&&F("Bad numeric entity");else{var e=G();void 0===(code=t[e])&&F("Unknown entity "+e)}r(body,code),H(y)}function K(e){for(var map={$tag:e};I<data.length;){B();var code=data[I];if(63==code||62==code||47==code)break;map[G()]=(H(x),$())}return map}function Q(e,t,r,o){var l=n&&n[e];l&&l.call(object,t,r,o)}var X=[];for(R(X),65279!=X[0]&&(I=0);I<data.length;)B(),H(_),j(),B()}kendo.util.parseXML=function(){try{return I.apply(this,arguments)}catch(e){if(e!==A)throw e}}})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1548),e.exports=n(1548)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1548:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1549)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e._outerWidth,r=e.ui.Widget.extend({init:function(element,t){var n=r.classNames;e.ui.Widget.call(this,element,t),(element=this.element).addClass(n.sheetsBarWrapper),this._openDialog=t.openDialog,this._tree=new e.dom.Tree(element[0]),this._tree.render([this._addButton(),this._createSheetsWrapper([])]),this._toggleScrollEvents(!0),this._createSortable(),this._sortable.bind("start",this._onSheetReorderStart.bind(this)),this._sortable.bind("end",this._onSheetReorderEnd.bind(this)),element.on("click","."+n.sheetsBarRemove,this._onSheetRemove.bind(this)),element.on("click","li",this._onSheetSelect.bind(this)),element.on("dblclick","li."+n.sheetsBarActive,this._createEditor.bind(this)),element.on("click","."+n.sheetsBarAdd,this._onAddSelect.bind(this))},options:{name:"SheetsBar",scrollable:{distance:200}},events:["select","reorder","rename"],_createEditor:function(){this._editor||(this._renderSheets(this._sheets,this._selectedIndex,!0),this._editor=this.element.find(e.format("input{0}{1}",".",r.classNames.sheetsBarEditor)).focus().on("keydown",this._onEditorKeydown.bind(this)).on("blur",this._onEditorBlur.bind(this)))},_destroyEditor:function(e){var t=e?null:this._editor.val();this._editor.off(),this._editor=null,this._renderSheets(this._sheets,this._selectedIndex,!1),this._onSheetRename(t)},renderSheets:function(e,t){!e||t<0||this._renderSheets(e,t,!1)},_renderSheets:function(t,o,l){var c,h,d=r.classNames;if(this._isRtl=e.support.isRtl(this.element),this._sheets=t,this._selectedIndex=o,this._renderHtml(l,!0),this._scrollableAllowed()){var f=this._sheetsWrapper(),m=f.children("."+d.sheetsBarPrev),v=f.children("."+d.sheetsBarNext),_=this.element.find("."+d.sheetsBarAdd),w=n(_)+_.position().left+2,y=n(m)+2,x=this._sheetsGroup();if(m.css({left:w}),f.addClass(d.sheetsBarScrollable+" "+d.sheetsBarSheetsWrapper),x.css({marginLeft:w}),c=f[0].offsetWidth,(h=x[0].scrollWidth)+w>c){var k=Math.ceil(e.parseFloat(v.css("right")));this._scrollableModeActive||(this._nowScrollingSheets=!1,this._scrollableModeActive=!0),x.css({marginLeft:y+w,marginRight:n(v)+k+2})}else this._scrollableModeActive&&h<=c?(this._scrollableModeActive=!1,x.css({marginLeft:w,marginRight:""})):x.css({marginLeft:w});this._toggleScrollButtons()}},_toggleScrollButtons:function(e){var ul=this._sheetsGroup(),t=this._sheetsWrapper(),n=ul.scrollLeft(),o=t.find("."+r.classNames.sheetsBarPrev),l=t.find("."+r.classNames.sheetsBarNext);!1===e?(o.toggle(!1),l.toggle(!1)):(o.toggle(this._isRtl?n<ul[0].scrollWidth-ul[0].offsetWidth-1:0!==n),l.toggle(this._isRtl?0!==n:n<ul[0].scrollWidth-ul[0].offsetWidth-1))},_toggleScrollEvents:function(e){var t,n,o=this,l=r.classNames,c=o.options,h=o._sheetsWrapper();t=h.children("."+l.sheetsBarPrev),n=h.children("."+l.sheetsBarNext),e?(t.on("mousedown",(function(){o._nowScrollingSheets=!0,o._scrollSheetsByDelta(c.scrollable.distance*(o._isRtl?1:-1))})),n.on("mousedown",(function(){o._nowScrollingSheets=!0,o._scrollSheetsByDelta(c.scrollable.distance*(o._isRtl?-1:1))})),t.add(n).on("mouseup",(function(){o._nowScrollingSheets=!1}))):(t.off(),n.off())},_renderHtml:function(t,n){var o,l=[],c=e.dom,element=c.element,h=this._sheets,d=this._selectedIndex,f=r.classNames;for(o=0;o<h.length;o++){var m=h[o],v=o===d,_={className:f.sheetsBarKItem+" "},w=[];if(_.className+=v?f.sheetsBarKActive+" "+f.sheetsBarActive:f.sheetsBarInactive,v&&t)w.push(element("input",{type:"text",value:m.name(),className:f.sheetsBarKTextbox+" "+f.sheetsBarEditor,maxlength:50},[]));else if(w.push(element("span",{className:f.sheetsBarKLink,title:m.name()},[c.text(m.name())])),h.length>1){var y=element("span",{className:f.sheetsBarKIcon+" "+f.sheetsBarKFontIcon+" "+f.sheetsBarKIconX},[]);w.push(element("span",{className:f.sheetsBarKLink+" "+f.sheetsBarRemove},[y]))}l.push(element("li",_,w))}this._tree.render([this._addButton(),this._createSheetsWrapper(l,n)])},_createSheetsWrapper:function(t,n){var element=e.dom.element,o=r.classNames,l=[element("ul",{className:o.sheetsBarKReset},t)],c=o.sheetsBarKButton+" "+o.sheetsBarKButtonBare+" ";return l.push(element("span",{className:c+o.sheetsBarPrev},[element("span",{className:o.sheetsBarKIcon+" "+o.sheetsBarKArrowW},[])])),l.push(element("span",{className:c+o.sheetsBarNext},[element("span",{className:o.sheetsBarKIcon+" "+o.sheetsBarKArrowE},[])])),element("div",{className:o.sheetsBarItems},l)},_createSortable:function(){var n=r.classNames;this._sortable=new e.ui.Sortable(this.element,{filter:e.format("ul li.{0},ul li.{1}",n.sheetsBarActive,n.sheetsBarInactive),container:"."+n.sheetsBarItems,axis:"x",animation:!1,ignore:"input",end:function(){this.draggable.hint&&this.draggable.hint.remove()},hint:function(element){return t(element).clone().wrap("<div class='"+n.sheetsBarHintWrapper+"'><ul class='"+n.sheetsBarKResetItems+"'></ul></div>").closest("div")}})},_onEditorKeydown:function(e){this._editor&&(13===e.which&&this._destroyEditor(),27===e.which&&this._destroyEditor(!0))},_onEditorBlur:function(){this._editor&&this._destroyEditor()},_onSheetReorderEnd:function(e){e.preventDefault(),this.trigger("reorder",{oldIndex:e.oldIndex,newIndex:e.newIndex})},_onSheetReorderStart:function(e){this._editor&&e.preventDefault()},_onSheetRemove:function(e){var n=t(e.target).closest("li").text();this._editor&&this._destroyEditor();var r=function(e){e.sender.isConfirmed()&&this.trigger("remove",{name:n,confirmation:!0})}.bind(this);this._openDialog("confirmation",{close:r})},_onSheetSelect:function(e){var n=t(e.target).text();!t(e.target).is("."+r.classNames.sheetsBarEditor)&&n?(this._editor&&this._destroyEditor(),this._scrollSheetsToItem(t(e.target).closest("li")),this.trigger("select",{name:n,isAddButton:!1})):e.preventDefault()},_onSheetRename:function(e){this._sheets[this._selectedIndex].name()!==e&&null!==e&&this.trigger("rename",{name:e,sheetIndex:this._selectedIndex})},_onAddSelect:function(){this.trigger("select",{isAddButton:!0})},_addButton:function(){var element=e.dom.element,t=r.classNames;return element("a",{className:t.sheetsBarAdd+" "+t.sheetsBarKButton},[element("span",{className:t.sheetsBarKIcon+" "+t.sheetsBarKFontIcon+" "+t.sheetsBarKIconPlus},[])])},destroy:function(){this._sortable.destroy()},_scrollableAllowed:function(){var e=this.options;return e.scrollable&&!isNaN(e.scrollable.distance)},_scrollSheetsToItem:function(e){var t=this;if(t._scrollableModeActive){var r,o=t._sheetsGroup(),l=o.scrollLeft(),c=n(e),h=t._isRtl?e.position().left:e.position().left-o.children().first().position().left,d=o[0].offsetWidth,f=Math.ceil(parseFloat(o.css("padding-left")));t._isRtl?h<0?r=l+h-(d-l)-f:h+c>d&&(r=l+h-c+2*f):l+d<h+c?r=h+c-d+2*f:l>h&&(r=h-f),o.finish().animate({scrollLeft:r},"fast","linear",(function(){t._toggleScrollButtons()}))}},_sheetsGroup:function(){return this._sheetsWrapper().children("ul")},_sheetsWrapper:function(){return this.element.find("."+r.classNames.sheetsBarItems)},_scrollSheetsByDelta:function(e){var t=this,n=t._sheetsGroup(),r=n.scrollLeft();n.finish().animate({scrollLeft:r+e},"fast","linear",(function(){t._nowScrollingSheets?t._scrollSheetsByDelta(e):t._toggleScrollButtons()}))}});e.spreadsheet.SheetsBar=r,t.extend(!0,r,{classNames:{sheetsBarWrapper:"k-widget k-header",sheetsBarSheetsWrapper:"k-tabstrip k-floatwrap k-tabstrip-bottom",sheetsBarActive:"k-spreadsheet-sheets-bar-active",sheetsBarInactive:"k-spreadsheet-sheets-bar-inactive",sheetsBarAdd:"k-spreadsheet-sheets-bar-add",sheetsBarRemove:"k-spreadsheet-sheets-remove",sheetsBarItems:"k-spreadsheet-sheets-items",sheetsBarEditor:"k-spreadsheet-sheets-editor",sheetsBarScrollable:"k-tabstrip-scrollable",sheetsBarNext:"k-tabstrip-next",sheetsBarPrev:"k-tabstrip-prev",sheetsBarKItem:"k-item k-state-default",sheetsBarKActive:"k-state-active k-state-tab-on-top",sheetsBarKTextbox:"k-textbox",sheetsBarKLink:"k-link",sheetsBarKIcon:"k-icon",sheetsBarKFontIcon:"k-icon",sheetsBarKButton:"k-button k-button-icon",sheetsBarKButtonBare:"k-bare",sheetsBarKArrowW:"k-i-arrow-60-left",sheetsBarKArrowE:"k-i-arrow-60-right",sheetsBarKReset:"k-reset k-tabstrip-items",sheetsBarKIconX:"k-i-close",sheetsBarKSprite:"k-sprite",sheetsBarKIconPlus:"k-i-plus",sheetsBarHintWrapper:"k-widget k-tabstrip k-tabstrip-bottom k-spreadsheet-sheets-items-hint",sheetsBarKResetItems:"k-reset k-tabstrip-items"}})}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},1549:function(e,t){e.exports=n(133)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1517),e.exports=n(1517)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},923:function(e,t){e.exports=n(38)},1517:function(e,t,n){var r,o,l;n(3),o=[n(19),n(923),n(1518),n(1519)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e=kendo.jQuery,t=kendo.util.parseXML,n=kendo.spreadsheet.calc.parseReference,r={greaterThanOrEqual:"greaterThanOrEqualTo",lessThanOrEqual:"lessThanOrEqualTo"},o=null,l=["sheetData","row","c"],c=["cols","col"],h=["definedNames","definedName"],d=["sheetData","row","c","f"],f=["mergeCells","mergeCell"],m=["sheetViews","sheetView","pane"],v=["sheetData","row"],_=["sheetViews","sheetView","selection"],w=["sheets","sheet"],y=["sheetData","row","c","is"],x=["t"],k=["si"],C=["sheetData","row","c","v"],S=["bookViews","workbookView"],T=["sheetViews","sheetView"],D=["hyperlinks","hyperlink"],E=["dataValidations","dataValidation"],A=["dataValidations","dataValidation","formula1"],I=["dataValidations","dataValidation","formula2"],M=["x14:dataValidations","x14:dataValidation"],R=["x14:dataValidations","x14:dataValidation","xm:sqref"],F=["x14:dataValidations","x14:dataValidation","x14:formula1","xm:f"],P=["x14:dataValidations","x14:dataValidation","x14:formula2","xm:f"],z=["commentList","comment"],B=["authors","author"],L=["t"],H={none:0,thin:1,medium:2,dashed:1,dotted:1,thick:3,double:3,hair:1,mediumDashed:2,dashDot:1,mediumDashDot:2,dashDotDot:1,mediumDashDotDot:2,slantDashDot:1},N={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"mm-dd-yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@"},O=["borders","border"],V=["fills","fill"],W=["fonts","font"],U=["cellXfs","xf"],j=["cellStyleXfs","xf"],G=["numFmts","numFmt"],$=[pe("FF000000"),pe("FFFFFFFF"),pe("FFFF0000"),pe("FF00FF00"),pe("FF0000FF"),pe("FFFFFF00"),pe("FFFF00FF"),pe("FF00FFFF"),pe("FF000000"),pe("FFFFFFFF"),pe("FFFF0000"),pe("FF00FF00"),pe("FF0000FF"),pe("FFFFFF00"),pe("FFFF00FF"),pe("FF00FFFF"),pe("FF800000"),pe("FF008000"),pe("FF000080"),pe("FF808000"),pe("FF800080"),pe("FF008080"),pe("FFC0C0C0"),pe("FF808080"),pe("FF9999FF"),pe("FF993366"),pe("FFFFFFCC"),pe("FFCCFFFF"),pe("FF660066"),pe("FFFF8080"),pe("FF0066CC"),pe("FFCCCCFF"),pe("FF000080"),pe("FFFF00FF"),pe("FFFFFF00"),pe("FF00FFFF"),pe("FF800080"),pe("FF800000"),pe("FF008080"),pe("FF0000FF"),pe("FF00CCFF"),pe("FFCCFFFF"),pe("FFCCFFCC"),pe("FFFFFF99"),pe("FF99CCFF"),pe("FFFF99CC"),pe("FFCC99FF"),pe("FFFFCC99"),pe("FF3366FF"),pe("FF33CCCC"),pe("FF99CC00"),pe("FFFFCC00"),pe("FFFF9900"),pe("FFFF6600"),pe("FF666699"),pe("FF969696"),pe("FF003366"),pe("FF339966"),pe("FF003300"),pe("FF333300"),pe("FF993300"),pe("FF993366"),pe("FF333399"),pe("FF333333"),pe("FF000000"),pe("FFFFFFFF")],Y=["a:clrScheme","*","a:srgbClr"],K=["a:clrScheme","*","a:sysClr"];kendo.spreadsheet.readExcel=function(e,t,n){var r=new FileReader;r.onload=function(e){X(new JSZip(e.target.result),t,n)},r.readAsArrayBuffer(e)},kendo.spreadsheet._readSheet=te,kendo.spreadsheet._readStrings=ae,kendo.spreadsheet._readStyles=ce,kendo.spreadsheet._readTheme=he,kendo.spreadsheet._readWorkbook=X}function Q(e){return/^\//.test(e)?e=e.substr(1):/^xl\//.test(e)||(e="xl/"+e),e}function X(t,r,progress){o=r.excelImportErrors=[];var l=ae(t),c=le(t,"_rels/workbook.xml"),d=he(t,c.byType.theme[0]),f=ce(t,d),m=[],_=0;se(t,"xl/workbook.xml",{enter:function(e,o){if(this.is(w)){var h=o["r:id"],d=c.byId[h],y=o.name,x=function(e,t){var r={rows:0,cols:0};return se(e,Q(t),{enter:function(e,t){if("dimension"==e){var o=n(t.ref);o.bottomRight&&(r.cols=o.bottomRight.col+1,r.rows=o.bottomRight.row+1)}else"sheetFormatPr"===e?(t.defaultColWidth&&(r.columnWidth=Z(parseFloat(t.defaultColWidth))),t.defaultRowHeight&&(r.rowHeight=ee(parseFloat(t.defaultRowHeight)))):this.is(v)&&this.exit()}}),r}(t,d);r.options.columnWidth=x.columnWidth||r.options.columnWidth,r.options.rowHeight=x.rowHeight||r.options.rowHeight,m.push({workbook:r,zip:t,strings:l,styles:f,file:d,options:{name:y,rows:Math.max(r.options.rows||0,x.rows),columns:Math.max(r.options.columns||0,x.cols),columnWidth:x.columnWidth,rowHeight:x.rowHeight}})}else this.is(S)&&o.activeTab&&(_=de(o.activeTab))},text:function(text){var e=this.is(h);if(e&&!ue(e.function)&&!ue(e.vbProcedure)){var t=e.localSheetId,n=null;null!=t&&(n=m[t].options.name);var o=e.name;"_xlnm._FilterDatabase"!=o&&(n&&(o="'"+n.replace(/\'/g,"\\'")+"'!"+o),re(n,null,(function(){r.defineName(o,text,ue(e.hidden))}),"reading user-defined name: "+o))}}});var y=new e.Deferred;y.progress((function(e){progress&&progress.notify(e)})).then((function(){var e=r.sheets();!function(e){for(var i=0;i<e.length;i++)e[i].suspendChanges(!1).triggerChange({recalc:!0})}(e),r.activeSheet(e[_]),progress&&progress.resolve()})),function(t,n,progress){for(var r=(new e.Deferred).resolve(),i=0;i<t.length;i++)!function(e,i){r=r.then((function(){var r=n.insertSheet(e.options);r.suspendChanges(!0);var o=J(r,e),l={sheet:r,progress:i/(t.length-1)};return o.then((function(){progress.notify(l)})),o}))}(t[i],i);r.then((function(){progress.resolve()}))}(m,r,y)}function J(t,n){var r=new e.Deferred;return setTimeout((function(){te(n.zip,n.file,t,n.strings,n.styles),r.resolve()}),0),r}function Z(e){return(256*e+Math.floor(128/7))/256*7}function ee(e){return e*(4/3)}function te(e,t,h,w,x){var k,S,H,N,O,V,W,U,j,G,$,Y,K,X,J={},te=h._columns._count,ae=null,ce=le(e,t.replace(/worksheets\//,"worksheets/_rels/")),he=[];function pe(){h.range(j).filter(he),j=null}o=h._workbook.excelImportErrors,se(e,t=Q(t),{enter:function(e,t,r){var o;if(this.is(d))r&&"shared"==t.t&&null!=t.si&&(N=h.range(J[t.si])._get("formula"));else if(this.is(l)){H=null,N=null,k=t.r,O=null,null==k&&((k=n(ae)).col++,k=k.toString()),ae=k,S=t.t;var w=t.s;null!=w&&oe(h,k,x,w)}else if(this.is(f))h.range(t.ref).merge();else if(this.is(c)){var y,C=de(t.min)-1,E=Math.min(te,de(t.max))-1;if(t.width&&0!==(y=Z(parseFloat(t.width)))&&h._columns.values.value(C,E,y),"1"===t.hidden||0===y)for(var A=C;A<=E;A++)h.hideColumn(A);null!=t.style&&oe(h,new kendo.spreadsheet.RangeRef(new kendo.spreadsheet.CellRef(-1/0,C),new kendo.spreadsheet.CellRef(1/0,E)),x,t.style)}else if(this.is(v)){var I,M=de(t.r)-1;t.ht&&0!==(I=ee(parseFloat(t.ht)))&&h._rows.values.value(M,M,I),"1"!==t.hidden&&0!==I||h.hideRow(M)}else if(this.is(_)){if(t.activeCell){var R=n(t.activeCell);h.select(R,!0)}}else if(this.is(m))"frozen"==t.state&&(t.xSplit&&h.frozenColumns(de(t.xSplit)),t.ySplit&&h.frozenRows(de(t.ySplit)));else if(this.is(T))h.showGridLines(ue(t.showGridLines,!0));else if(this.is(D)){var F=t["r:id"],P=ce.byId[F];P&&h.range(t.ref).link(P)}else this.is(["autoFilter"])?(j=t.ref,r&&pe()):j&&(this.is(["filterColumn"])?G=parseInt(t.colId,10):this.is(["customFilters"])?($=ue(t.and)?"and":"or",Y=[]):this.is(["customFilter"])?(o=function(e,t){var n={equal:"eq",notEqual:"ne",greaterThan:"gt",greaterThanOrEqual:"gte",lessThan:"lt",lessThanOrEqual:"lte"}[e];return t=ne(t),n&&"number"==typeof t?{operator:n,value:t}:"notEqual"!=e&&e||"string"!=typeof t?void 0:{operator:e?"doesnotmatch":"matches",value:t}}(t.operator,t.val))&&Y.push({operator:o.operator,value:o.value}):this.is(["dynamicFilter"])?he.push({column:G,filter:new kendo.spreadsheet.DynamicFilter({type:ie(t.type)})}):this.is(["top10"])?he.push({column:G,filter:new kendo.spreadsheet.TopFilter({value:ne(t.val),type:function(e,t){return e&&t?"topPercent":t?"topNumber":e?"bottomPercent":"bottomNumber"}(ue(t.percent),ue(t.top))})}):this.is(["filters"])?(K=ue(t.blank),X=[]):this.is(["filter"])&&X.push(ne(t.val)))},leave:function(e,t){if(this.is(d))N||"shared"!=t.t||null==t.si||(N=h.range(J[t.si])._get("formula"));else if(this.is(l)){if(null!=N)re(h,O||k,(function(){h.range(O||k).formula(N,V)}),"parsing formula")&&h.range(O||k).value(N).background("#ffaaaa");else if(null!=H){var n=h.range(k);n._get("formula")||(S&&"n"!=S?"s"==S?H=w[de(H)]:"b"==S?H="1"===H:"d"==S&&(H=kendo.parseDate(H)):H=parseFloat(H),null!=H&&n.value(H))}}else this.is(E)||this.is(M)?function(){var e=kendo.spreadsheet.calc.parseSqref(t.sqref),n=t.type.toLowerCase(),o=t.operator;/^(?:whole|decimal)$/.test(n)?n="number":"list"==n&&(o="list"),!o&&/^(?:number|date)$/.test(n)&&(o="between"),e.forEach((function(e){re(h,e,(function(){h.range(e).validation({type:ue(t.showErrorMessage,!0)?"reject":"warning",from:W,to:U,dataType:n,comparerType:r[o]||o,allowNulls:ue(t.allowBlank),showButton:ue(t.showDropDown)||"date"==n||"list"==n,messageTemplate:t.error,titleTemplate:t.errorTitle})}),"parsing validation")}))}():"cols"==e?h._columns._refresh():"sheetData"==e?h._rows._refresh():"autoFilter"==e?pe():j&&("customFilters"==e?he.push({column:G,filter:new kendo.spreadsheet.CustomFilter({logic:$,criteria:Y})}):"filters"==e&&he.push({column:G,filter:new kendo.spreadsheet.ValueFilter({values:X,blanks:K})}))},text:function(text){var e;this.is(C)||this.is(y)?H=text:(e=this.is(d))?(N=text,(V="array"==e.t)?O=e.ref:"shared"==e.t&&(J[e.si]=k)):this.is(A)||this.is(F)?W=text:this.is(I)||this.is(P)?U=text:this.is(R)&&(this.stack[this.stack.length-2].sqref=text)}}),ce.byType.comments&&function(e,t,n){var r,o,l=[];se(e,t,{enter:function(e,t){this.is(z)?o={author:l[t.authorId],ref:t.ref,text:""}:this.is(B)&&(r="")},leave:function(){this.is(z)?n.range(o.ref).comment(o.text):this.is(B)&&l.push(r)},text:function(text){this.is(L)?o.text+=text:this.is(B)&&(r+=text)}})}(e,fe(t,ce.byType.comments[0]),h),ce.byType.drawing&&function(e,t,n){var r,o,l,c,h=["xdr:twoCellAnchor"],d=["xdr:ext"],f=["xdr:oneCellAnchor"],m=["xdr:from"],v=["xdr:to"],_=["xdr:row"],w=["xdr:col"],y=["xdr:rowOff"],x=["xdr:colOff"],k=["xdr:blipFill","a:blip"],C=t.replace(/drawings\//,"drawings/_rels/"),S=le(e,C);S.byType.image&&Object.keys(S.byId).forEach((function(r){var o,img=fe(t,S.byId[r]),l=function(e){var t=/\.([^.]+)$/.exec(e);if(t&&t[1])return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif"}[t[1].toLowerCase()]}(img);if(l){var data=e.files[img].asArrayBuffer(),c=(o=/[^/]+$/.exec(img))&&o[0],h=!c||kendo.support.browser.msie||kendo.support.browser.edge?new window.Blob([data],{type:l}):new window.File([data],c,{type:l});S.byId[r]=n._workbook.addImage(h)}})),se(e,t,{enter:function(e,t){if(this.is(h)||this.is(f))r={};else if(this.is(m)||this.is(v))o={};else if(this.is(k)){var n=t["r:embed"];r.image=S.byId[n]}else this.is(d)&&(l=ge(parseFloat(t.cx)),c=ge(parseFloat(t.cy)))},leave:function(){if(this.is(m))r.topLeftCell=new kendo.spreadsheet.CellRef(o.row,o.col),r.offsetX=ge(o.colOffset),r.offsetY=ge(o.rowOffset);else if(this.is(v))r.brCell=new kendo.spreadsheet.CellRef(o.row,o.col),r.brX=ge(o.colOffset),r.brY=ge(o.rowOffset);else if(this.is(h)){var e=n._columns.sum(0,r.topLeftCell.col-1)+r.offsetX,t=n._rows.sum(0,r.topLeftCell.row-1)+r.offsetY,d=n._columns.sum(0,r.brCell.col-1)+r.brX,_=n._rows.sum(0,r.brCell.row-1)+r.brY;n.addDrawing({topLeftCell:r.topLeftCell,offsetX:r.offsetX,offsetY:r.offsetY,width:null!=l?l:d-e,height:null!=c?c:_-t,image:r.image,opacity:1})}else this.is(f)&&n.addDrawing({topLeftCell:r.topLeftCell,offsetX:r.offsetX,offsetY:r.offsetY,width:l,height:c,image:r.image,opacity:1})},text:function(text){this.is(_)?o.row=parseFloat(text):this.is(w)?o.col=parseFloat(text):this.is(y)?o.rowOffset=parseFloat(text):this.is(x)&&(o.colOffset=parseFloat(text))}})}(e,fe(t,ce.byType.drawing[0]),h)}function ie(e){return{Q1:"quarter1",Q2:"quarter2",Q3:"quarter3",Q4:"quarter4",M1:"january",M2:"february",M3:"march",M4:"april",M5:"may",M6:"june",M7:"july",M8:"august",M9:"september",M10:"october",M11:"november",M12:"december"}[e.toUpperCase()]||e}function ne(e){var t=parseFloat(e);return isNaN(t)||t!=e?e:t}function re(e,t,n,r){try{return n(),!1}catch(n){var l={context:r,error:String(n)};return e&&(l.sheet=e.name()),t&&(l.location=String(t)),o.push(l),!0}}function oe(e,t,n,r){var base,o,l=e.range(t),c=n.inlineStyles[r];function h(e,t){var n=c[e];if(null!=n&&!n)return!1;if(o=c[t],base&&null==o){if(null!=(n=base[e])&&!n)return!1;o=base[t]}return null!=o}c.xfId&&(base=n.namedStyles[c.xfId]),h("applyBorder","borderId")&&function(b){function e(e,t){var n=b[e];if(n){var r=H[n.style];if(0!==r){var o=n.color;null==o&&(o="#000"),l._property(t,{size:r,color:o})}}}e("left","borderLeft"),e("top","borderTop"),e("right","borderRight"),e("bottom","borderBottom")}(n.borders[o]),h("applyFont","fontId")&&function(e){l.fontFamily(e.name),e.size&&l._property("fontSize",4*e.size/3),e.bold&&l.bold(!0),e.italic&&l.italic(!0),e.underline&&l.underline(!0),e.color&&l.color(e.color)}(n.fonts[o]),h("applyAlignment","textAlign")&&l.textAlign(o),h("applyAlignment","verticalAlign")&&l.verticalAlign(o),h("applyAlignment","indent")&&l.indent(o),h("applyAlignment","wrapText")&&l._property("wrap",o),h("applyFill","fillId")&&function(e){"solid"==e.type&&l.background(e.color)}(n.fills[o]),h("applyNumberFormat","numFmtId")&&function(e){var t="string"==typeof e?e:e.formatCode;null==t||/^general$/i.test(t)||(t=t.replace(/^\[\$-[0-9]+\]/,""),l.format(t))}(n.numFmts[o]||N[o])}function se(e,n,r){var o=e.files[n];o&&t(o.asUint8Array(),r)}function ae(e){var t=[],n=null;return se(e,"xl/sharedStrings.xml",{leave:function(){this.is(k)&&(t.push(n),n=null)},text:function(text){this.is(x)&&(null==n&&(n=""),n+=text)}}),t}function le(e,t){var map={byId:{},byType:{theme:[]}};return se(e,Q(t)+".rels",{enter:function(e,t){if("Relationship"==e){map.byId[t.Id]=t.Target;var n=t.Type.match(/\w+$/)[0],r=map.byType[n]||[];r.push(t.Target),map.byType[n]=r}}}),map}function ce(e,t){var n={fonts:[],numFmts:{},fills:[],borders:[],namedStyles:[],inlineStyles:[]},r=null,o=null,l=null,c=null;function h(e){var t={borderId:de(e.borderId),fillId:de(e.fillId),fontId:de(e.fontId),numFmtId:de(e.numFmtId),pivotButton:ue(e.pivotButton),quotePrefix:ue(e.quotePrefix),xfId:de(e.xfId)};function n(n){null!=e[n]&&(t[n]=ue(e[n]))}return n("applyAlignment"),n("applyBorder"),n("applyFill"),n("applyFont"),n("applyNumberFormat"),n("applyProtection"),t}function d(e){if(e.rgb)return pe(e.rgb);if(e.indexed)return $[de(e.indexed)];if(e.theme){var n=t.colorScheme[de(e.theme)];if(!n)return $[0];var r=kendo.parseColor(n);if(e.tint){r=r.toHSL();var o=parseFloat(e.tint);r.l=o<0?r.l*(1+o):r.l*(1-o)+(100-100*(1-o))}return r.toCssRgba()}}return se(e,"xl/styles.xml",{enter:function(e,t,f){if(this.is(G))n.numFmts[t.numFmtId]=t;else if(this.is(W))n.fonts.push(r={}),f&&(r=null);else if(r)"sz"==e?r.size=parseFloat(t.val):"name"==e?r.name=t.val:"b"==e?r.bold=ue(t.val,!0):"i"==e?r.italic=ue(t.val,!0):"u"==e?r.underline=null==t.val||"single"==t.val:"color"==e&&(r.color=d(t));else if(this.is(V))n.fills.push(o={}),f&&(o=null);else if(o)"patternFill"==e?o.type=t.patternType:"fgColor"==e&&"solid"===o.type?o.color=d(t):"bgColor"==e&&"solid"!==o.type&&(o.color=d(t));else if(this.is(O))n.borders.push(l={}),f&&(l=null);else if(l){if(/^(?:left|top|right|bottom)$/.test(e)&&(l[e]={style:t.style||"none"}),"color"==e){var m=this.stack[this.stack.length-2].$tag;l[m].color=d(t)}}else this.is(j)?(c=h(t),n.namedStyles.push(c),f&&(c=null)):this.is(U)?(c=h(t),n.inlineStyles.push(c),f&&(c=null)):c&&"alignment"==e&&(/^(?:left|center|right|justify)$/.test(t.horizontal)&&(c.textAlign=t.horizontal),/^(?:top|center|bottom)$/.test(t.vertical)&&(c.verticalAlign=t.vertical),null!=t.wrapText&&(c.wrapText=ue(t.wrapText)),null!=t.indent&&(c.indent=de(t.indent)))},leave:function(e){this.is(W)?r=null:this.is(V)?o=null:this.is(O)?l=null:"xf"==e&&(c=null)}}),n}function he(e,t){var n=[],r={colorScheme:n},o=Q(t);function l(e,a,b){var t=e[a];e[a]=e[b],e[b]=t}return e.files[o]&&(se(e,o,{enter:function(e,t){this.is(K)?n.push(pe("window"==t.val?"FFFFFFFF":"FF000000")):this.is(Y)&&n.push(pe("FF"+t.val))}}),n.length>3&&(l(n,0,1),l(n,2,3))),r}function de(e){return null==e?null:parseInt(e,10)}function ue(e,t){return null==e?t:"true"==e||!0===e||1==e}function pe(e){var t=/^([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);return"rgba("+parseInt(t[2],16)+", "+parseInt(t[3],16)+", "+parseInt(t[4],16)+", "+parseInt(t[1],16)/255+")"}function fe(base,e){for(base=base.split(/\/+/),e=e.split(/\/+/),base.pop();e.length;){var t=e.shift();if(""===t)base=[];else{if("."===t)continue;".."===t?base.pop():base.push(t)}}return base.join("/")}function ge(e){return e/9525}})?r.apply(t,o):r)||(e.exports=l)},1518:function(e,t){e.exports=n(211)},1519:function(e,t){e.exports=n(145)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1532),e.exports=n(1532)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1519:function(e,t){e.exports=n(145)},1532:function(e,t,n){var r,o,l;n(3),o=[n(1519),n(1533),n(1534)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e=kendo.util,t=kendo.spreadsheet.calc,n=kendo.dom,r=/^\[(black|green|white|blue|magenta|yellow|cyan|red)\]/i,o=/^\[(<=|>=|<>|<|>|=)(-?[0-9.]+)\]/,l=m({cond:"text",body:[{type:"text"}]}),c=e.memoize((function(e){var code=f(e).map(m);return code.push(l),code="'use strict'; return function(value, culture){ if (!culture) culture = kendo.culture(); var output = '', type = null, result = { body: [] }; "+(code=code.join("\n"))+"; return result; };",new Function("runtime",code)(d)})),h=e.memoize((function(e){for(var section,t=f(e),n=!1,r=!1,i=0;i<t.length;++i){section=t[i];for(var o=0;o<section.body.length;++o)/^(?:date|time|ampm)$/.test(section.body[o].type)&&(n=!0,"ampm"==section.body[o].type&&(r=!0));if(n)break}return n?section.body.map((function(e){if("digit"==e.type)return e.sep?e.format.charAt(0)+","+e.format.substr(1):e.format;if("exp"==e.type)return e.ch+e.sign;if("date"==e.type||"time"==e.type){var t=e.part;return"date"==e.type&&/^m/.test(t)?t="M":"time"==e.type&&/^h/.test(t)&&(r||(t=t.toUpperCase())),function(e,t){return t.fraction&&(e+=v("",Math.max(t.fraction,3),"f")),e}(v("",e.format,t),e)}return"ampm"==e.type?"tt":"str"==e.type?e.value:"space"==e.type?" ":"dec"==e.type?".":"percent"==e.type?"%":"comma"==e.type?",":""})).join(""):null})),d={unpackDate:t.runtime.unpackDate,unpackTime:t.runtime.unpackTime,date:function(e,t,n,r){switch(n){case"d":switch(r){case 1:return t.date;case 2:return v(t.date,2,"0");case 3:return e.calendars.standard.days.namesAbbr[t.day];case 4:return e.calendars.standard.days.names[t.day]}break;case"m":switch(r){case 1:return t.month+1;case 2:return v(t.month+1,2,"0");case 3:return e.calendars.standard.months.namesAbbr[t.month];case 4:return e.calendars.standard.months.names[t.month];case 5:return e.calendars.standard.months.names[t.month].charAt(0)}break;case"y":switch(r){case 2:return t.year%100;case 4:return t.year}}return"##"},time:function(e,t,n,r,o){var l,c;switch(t){case"h":l=v(r?e.hours%12||12:e.hours,n,"0"),o&&(c=(e.minutes+(e.seconds+e.milliseconds/1e3)/60)/60);break;case"m":l=v(e.minutes,n,"0"),o&&(c=(e.seconds+e.milliseconds/1e3)/60);break;case"s":l=v(e.seconds,n,"0"),o&&(c=e.milliseconds/1e3)}return c&&(l+=d.toFixed(c,o).replace(/^0+/,"")),l},eltime:function(e,t,n,r){var o,l;switch(t){case"h":o=24*e;break;case"m":o=24*e*60;break;case"s":o=24*e*60*60}return r&&(l=o-(0|o)),o=v(0|o,n,"0"),l&&(o+=d.toFixed(l,r).replace(/^0+/,"")),o},fill:function(e){return e},formatInt:function(e,t,n,r,o){t=d.toFixed(t,r).replace(/\..*$/,"");var l=n[n.length-1];r>0&&"0"!=l[n.length-1]&&("0"===t?t="":"-0"===t&&(t="-"));var c,h=!1,f=t.length-1,m=[],v=0;function _(t,n){o&&v&&v%3==0&&/^[0-9]$/.test(t)&&(c=e.numberFormat[","]+c),n&&"-"===t&&(h=!0,t="0"),c=t+c,v++}for(var w=n.length;--w>=0;){var y=n[w];c="";for(var x=y.length;--x>=0;){var k=y.charAt(x);f<0?"0"==k?_("0"):"?"==k&&_(" "):("0"==t&&"?"==k?_(" "):"0"==k?_(t.charAt(f),!0):_(t.charAt(f)),f--)}if(0===w)for(;f>=0;)_(t.charAt(f--));m.unshift(c)}return h&&(m[0]="-"+m[0]),m},formatDec:function(e,t,n){var r=(e=d.toFixed(e,n)).indexOf(".");e=r>=0?e.substr(r+1).replace(/0+$/,""):"";for(var o=0,l=[],c=0;c<t.length;++c){for(var h=t[c],f="",m=0;m<h.length;++m){var v=h.charAt(m);o<e.length?f+=e.charAt(o++):"0"==v?f+="0":"?"==v&&(f+=" ")}l.push(f)}return l},toFixed:function(e,t){return function e(n,r){if(!isFinite(n))return"#NUM!";if(n<0)return"-"+e(-n);if(0===t)return String(Math.round(n));if(n===Math.round(n)&&!/e/i.test(String(n)))return n.toFixed(t);var o=function(e){var t,n,r,o=String(e).toLowerCase(),l=o.indexOf(".");if(l<0?(l=o.indexOf("e"))<0?(t=o,n=""):(t=o.substr(0,l),n=o.substr(l)):(t=o.substr(0,l),n=o.substr(l+1)),r=/(\d*)e([-+]?\d+)/.exec(n)){var c=parseInt(r[2],10);c>=0?(n=function(e,t,n){for(e+="";e.length<t;)e+=n;return e}(r[1],c,"0"),t+=n.substr(0,c),n=n.substr(c)):(t=v(t,-c,"0"),n=t.substr(c)+r[1],t=t.substr(0,t.length+c))}return{intpart:t||"0",decpart:n}}(n),l=o.intpart,c=o.decpart;if(c.length<=t){for(;c.length<t;)c+="0";return l+"."+c}if(r)return l+"."+c.substr(0,t);var h=Math.pow(10,t);return e(Math.round(n*h)/h,!0)}(Number(e.toFixed(14)))}};kendo.spreadsheet.formatting={compile:c,parse:f,format:function(e,t,r){var o=c(t)(e,r),span=n.element("span");span.__dataType=o.type;var a=o.body;o.color&&(span.attr.style={color:o.color});for(var i=0;i<a.length;++i){var l=a[i];"string"==typeof l?span.children.push(n.text(l)):"space"==l.type&&span.children.push(n.element("span",{style:{visibility:"hidden"}},[n.text(l.value)]))}return span},text:function(e,t,n){return text(c(t)(e,n))},textAndColor:function(e,t,n){var r=c(t)(e,n);return{text:text(r),color:r.color,type:r.type}},type:function(e,t){return c(t)(e).type},adjustDecimals:function(e,t){var n,r=f(e);return n=t,r.forEach((function(e){var t=n;if("text"!=e.cond){for(var body=e.body,r=!1,i=body.length;0!==t&&--i>=0;){var o=body[i];if("digit"==o.type){if(o.decimal){if(r=!0,t>0)o.format+=v("",t,"0");else if(t<0){var l=o.format.length;o.format=o.format.substr(0,l+t),t+=l-o.format.length}if(0===o.format.length)for(body.splice(i,1);--i>=0;){if("digit"==(o=body[i]).type&&o.decimal){++i;break}if("dec"==o.type){body.splice(i,1);break}}}if(t>0)break}}!r&&t>0&&body.splice(i+1,0,{type:"dec"},{type:"digit",sep:!1,decimal:!0,format:v("",t,"0")})}})),function(e){return e.map((function(e){var t="";return e.color&&(t+="["+e.color+"]"),e.cond&&"text"!=e.cond&&"num"!=e.cond&&(t+="["+e.cond.op+e.cond.value+"]"),t+=e.body.map(n).join("")})).join(";");function t(e,t){return t.fraction&&(e+="."+v("",t.fraction,"0")),e}function n(e){return"digit"==e.type?e.sep?e.format.charAt(0)+","+e.format.substr(1):e.format:"exp"==e.type?e.ch+e.sign:"date"==e.type||"time"==e.type?t(v("",e.format,e.part),e):"eltime"==e.type?t("["+v("",e.format,e.part)+"]",e):"ampm"==e.type?e.am+"/"+e.pm:"str"==e.type?JSON.stringify(e.value):"text"==e.type?"@":"space"==e.type?"_"+e.value:"fill"==e.type?"*"+e.value:"dec"==e.type?".":"percent"==e.type?"%":"comma"==e.type?",":void 0}}(r)},makeDateFormat:h}}function f(input){input=t.InputStream(input);for(var e,n=[],l=!1;!input.eof();){var c=v();n.push(c),c.cond&&(l=!0)}return l||(1==n.length?n[0].cond="num":2==n.length?(n[0].cond={op:">=",value:0},n[1].cond={op:"<",value:0}):n.length>=3&&(n[0].cond={op:">",value:0},n[1].cond={op:"<",value:0},n[2].cond={op:"=",value:0},n.length>3&&(n[3].cond="text",n=n.slice(0,4)))),n;function h(){var e=input.skip(r);if(e)return e[1].toLowerCase()}function d(){for(var e,t=[],n=null;!input.eof()&&(e=m());)"date"==e.type?n&&/^(el)?time$/.test(n.type)&&"h"==n.part&&"m"==e.part&&e.format<3&&(e.type="time"):/^(el)?time$/.test(e.type)&&"s"==e.part&&n&&"date"==n.type&&"m"==n.part&&n.format<3&&(n.type="time"),/^(?:str|space|fill)$/.test(e.type)||(n=e),t.push(e);return t}function f(e){if("date"!=e.type||"m"==e.part&&e.format<3){var t=input.skip(/^\.(0+)/);t&&(e.fraction=t[1].length,"date"==e.type&&(e.type="time"))}return e}function m(){var t,n;if(n=input.skip(/^([#0?]+)(?:,([#0?]+))+/))return{type:"digit",sep:!0,format:n[1]+n[2],decimal:e};if(n=input.skip(/^[#0?]+/))return{type:"digit",sep:!1,format:n[0],decimal:e};if(n=input.skip(/^(e)([+-])/i))return{type:"exp",ch:n[1],sign:n[2]};if(n=input.skip(/^(d{1,4}|m{1,5}|yyyy|yy)/i))return f({type:"date",part:(n=n[1].toLowerCase()).charAt(0),format:n.length});if(n=input.skip(/^(hh?|ss?)/i))return f({type:"time",part:(n=n[1].toLowerCase()).charAt(0),format:n.length});if(n=input.skip(/^\[(hh?|mm?|ss?)\]/i))return f({type:"eltime",part:(n=n[1].toLowerCase()).charAt(0),format:n.length});if(n=input.skip(/^(a[.]?m[.]?\/p[.]?m[.]?|a\/p)/i))return{type:"ampm",am:(n=n[1].split("/"))[0],pm:n[1]};switch(t=input.next()){case";":return null;case"\\":return{type:"str",value:input.next()};case'"':return{type:"str",value:input.readEscaped(t)};case"@":return{type:"text"};case"_":return{type:"space",value:input.next()};case"*":return{type:"fill",value:input.next()};case".":return input.lookingAt(/^\s*[#0?]/)?(e=!0,{type:"dec"}):{type:"str",value:"."};case"%":return{type:"percent"};case",":return{type:"comma"}}return{type:"str",value:t}}function v(){e=!1;var t=h(),n=function(){var e=input.skip(o);if(e){var t=parseFloat(e[2]);if(!isNaN(t))return{op:e[1],value:t,custom:!0}}}();return!t&&n&&(t=h()),{color:t,cond:n,body:d()}}}function m(e){var t,n,input=(t=e.body,n=0,{next:function(){return t[n++]},eof:function(){return n>=t.length},ahead:function(e,r){if(n+e<=t.length){var o=r.apply(null,t.slice(n,n+e));return o&&(n+=e),o}},restart:function(){n=0}}),r=!1,o=!1,l=!1,c=0,h=/[\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/,d=0,code="var intPart, decPart, isNegative, date, time; ",f=!1,m=0,v=[],_=[],w=e.cond,y="";function x(a,b){("digit"==a.type&&"comma"==b.type||"comma"==a.type&&a.hidden&&"comma"==b.type)&&(b.hidden=!0,d++)}for("text"==w?y="if (typeof value == 'string' || value instanceof kendo.spreadsheet.CalcError) { ":"num"==w?y="if (typeof value == 'number') { ":w&&(y="if (typeof value == 'number' && value "+("="==w.op?"==":w.op)+" "+w.value+") { ",w.custom||(code+="value = Math.abs(value); ")),e.color&&(code+="result.color = "+JSON.stringify(e.color)+"; ");!input.eof();)input.ahead(2,x),"percent"==(k=input.next()).type?c++:"digit"==k.type?k.decimal?(m+=k.format.length,_.push(k.format)):(v.push(k.format),k.sep&&(f=!0)):"time"==k.type?o=!0:"date"==k.type?r=!0:"ampm"==k.type&&(l=o=!0);for(c>0&&(code+="value *= "+Math.pow(100,c)+"; "),d>0&&(code+="value /= "+Math.pow(1e3,d)+"; "),v.length&&(code+="intPart = runtime.formatInt(culture, value, "+JSON.stringify(v)+", "+m+", "+f+"); ",code+="isNegative = parseInt(intPart[0]) < 0;"),_.length&&(code+="decPart = runtime.formatDec(value, "+JSON.stringify(_)+", "+m+"); "),(v.length||_.length)&&(code+="type = 'number'; "),r&&(code+="date = runtime.unpackDate(value); "),o&&(code+="time = runtime.unpackTime(value); "),(r||o)&&(code+="type = 'date'; "),(c>0||d>0||v.length||_.length||r||o)&&(y||(y="if (typeof value == 'number') { ")),input.restart(),code+="var matchedCurrency = false;";!input.eof();){var k;"dec"==(k=input.next()).type?code+="output += culture.numberFormat['.']; ":"comma"!=k.type||k.hidden?"percent"==k.type?(code+="type = 'percent'; ",code+="output += culture.numberFormat.percent.symbol; "):"str"==k.type?(h.test(k.value)&&(code+="type = 'currency'; ",code+="if (isNegative) { output += '-'; matchedCurrency = true; }"),code+="output += "+JSON.stringify(k.value)+"; "):"text"==k.type?(code+="type = 'text'; ",code+="output += value; "):"space"==k.type?(code+="if (output) result.body.push(output); ",code+="output = ''; ",code+="result.body.push({ type: 'space', value: "+JSON.stringify(k.value)+" }); "):"fill"==k.type?code+="output += runtime.fill("+JSON.stringify(k.value)+"); ":"digit"==k.type?(code+="if (isNegative && intPart[0] && matchedCurrency) {intPart[0] = intPart[0].replace('-', '');}",code+="output += "+(k.decimal?"decPart":"intPart")+".shift(); "):"date"==k.type?code+="output += runtime.date(culture, date, "+JSON.stringify(k.part)+", "+k.format+"); ":"time"==k.type?code+="output += runtime.time(time, "+JSON.stringify(k.part)+", "+k.format+", "+l+", "+k.fraction+"); ":"eltime"==k.type?code+="output += runtime.eltime(value, "+JSON.stringify(k.part)+", "+k.format+", "+k.fraction+"); ":"ampm"==k.type&&(code+="output += time.hours < 12 ? "+JSON.stringify(k.am)+" : "+JSON.stringify(k.pm)+"; "):code+="output += ','; "}return code+="if (output) result.body.push(output); ",code+="result.type = type; ",code+="return result; ",y&&(code=y+code+"}"),code}function v(e,t,n){for(e+="";e.length<t;)e=n+e;return e}function text(e){for(var a=e.body,text="",i=0;i<a.length;++i){var t=a[i];"string"==typeof t?text+=t:"space"==t.type&&(text+=" ")}return text}})?r.apply(t,o):r)||(e.exports=l)},1533:function(e,t){e.exports=n(25)},1534:function(e,t){e.exports=n(51)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(866)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},859:function(e,t){e.exports=n(7)},862:function(e,t){e.exports=n(0)},866:function(e,t,n){var r,o,l;n(3),o=[n(862),n(859)],void 0===(l="function"==typeof(r=function(){!function(e){window.kendo.dataviz=window.kendo.dataviz||{};var t=kendo.drawing,n=t.util,r=t.Path,o=t.Group,l=kendo.Class,c=kendo.geometry,h=c.Rect,d=c.Circle,f=c.transform,m=c.Segment,v=kendo.dataviz,_=kendo.deepExtend,w=kendo.isFunction,y=kendo.getter,x="bottom",k="center",C=3,S=10,T=/\{\d+:?/,D="left",E=Number.MAX_VALUE,A=-Number.MAX_VALUE,I="right",M="string",R="top",F="#fff",P="x",z="y",B={ARC:"arc",AXIS_LABEL_CLICK:"axisLabelClick",BLACK:"#000",BOTTOM:x,CENTER:k,CIRCLE:"circle",COORD_PRECISION:C,CROSS:"cross",DATE:"date",DEFAULT_FONT:"12px sans-serif",DEFAULT_HEIGHT:400,DEFAULT_PRECISION:S,DEFAULT_WIDTH:600,END:"end",FORMAT_REGEX:T,HEIGHT:"height",HIGHLIGHT_ZINDEX:100,INSIDE:"inside",LEFT:D,MAX_VALUE:E,MIN_VALUE:A,NONE:"none",NOTE_CLICK:"noteClick",NOTE_HOVER:"noteHover",NOTE_LEAVE:"noteLeave",OBJECT:"object",OUTSIDE:"outside",RIGHT:I,START:"start",STRING:M,TOP:R,TRIANGLE:"triangle",VALUE:"value",WHITE:F,WIDTH:"width",X:P,Y:z};function L(e){return Array.isArray(e)}var H=/\s+/g;function N(path){var e=.5;path.options.stroke&&kendo.drawing.util.defined(path.options.stroke.width)&&path.options.stroke.width%2==0&&(e=0);for(var i=0;i<path.segments.length;i++)path.segments[i].anchor().round(0).translate(e,e);return path}function O(e,t){return-e.x*t.y+e.y*t.x<0}function V(e){return"number"==typeof e&&!isNaN(e)}function W(e){return typeof e===M}function U(e){return"object"==typeof e}function j(e){return V(e)?e+"px":e}var G=/width|height|top|left|bottom|right/i;function $(e){return G.test(e)}function Y(e,t){void 0===t&&(t=0);var n={top:0,right:0,bottom:0,left:0};return"number"==typeof e?n[R]=n[I]=n[x]=n[D]=e:(n[R]=e[R]||t,n[I]=e[I]||t,n[x]=e[x]||t,n[D]=e[D]||t),n}var K={format:function(e,t){return t},toString:function(e){return e},parseDate:function(e){return new Date(e)}},Q=l.extend({});Q.register=function(e){K=e},Object.defineProperties&&Object.defineProperties(Q,{implementation:{get:function(){return K}}});var X=/\{(\d+)(:[^\}]+)?\}/g,J=l.extend({init:function(e){this._intlService=e},auto:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.intl;return W(e)&&e.match(T)?r.format.apply(r,[e].concat(t)):r.toString(t[0],e)},localeAuto:function(e,t,n){var r=this.intl;return W(e)&&e.match(T)?e.replace(X,(function(e,o,l){var c=t[parseInt(o,10)];return r.toString(c,l?l.substring(1):"",n)})):r.toString(t[0],e,n)}});Object.defineProperties&&Object.defineProperties(J.fn,{intl:{get:function(){return this._intlService||Q.implementation},set:function(e){this._intlService=e}}});var Z,ee=l.extend({init:function(e,t){void 0===t&&(t={}),this._intlService=t.intlService,this.sender=t.sender||e,this.format=new J(t.intlService),this.chart=e,this.rtl=Boolean(t.rtl)},notify:function(e,t){this.chart&&this.chart.trigger(e,t)},isPannable:function(e){var t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e}});Object.defineProperties&&Object.defineProperties(ee.fn,{intl:{get:function(){return this._intlService||Q.implementation},set:function(e){this._intlService=e,this.format.intl=e}}});var te=l.extend({});te.register=function(e){Z=e},te.create=function(element,e){if(Z)return Z.create(element,e)};var ie={compile:function(template){return template}},ne=l.extend({});ne.register=function(e){ie=e},ne.compile=function(template){return ie.compile(template)};var re={ChartService:ee,DomEventsBuilder:te,FormatService:J,IntlService:Q,TemplateService:ne};function oe(e){var template;return void 0===e&&(e={}),e.template?e.template=template=ne.compile(e.template):w(e.content)&&(template=e.content),template}function se(e,t){for(var n=e.length,r=[],o=0;o<n;o++)t(e[o])&&r.push(e[o]);return r}var ae=function(){this._map={}};function le(e,t){if(t)return-1!==t.indexOf(e)}ae.prototype.get=function(e){return this._map[this._key(e)]},ae.prototype.set=function(e,t){this._map[this._key(e)]=t},ae.prototype._key=function(e){return e instanceof Date?e.getTime():e};var ce=l.extend({init:function(e,t){this.observer=e,this.handlerMap=_({},this.handlerMap,t)},trigger:function(e,t){var n,r=this.observer,o=this.handlerMap;return o[e]?n=this.callObserver(o[e],t):r.trigger&&(n=this.callObserver("trigger",e,t)),n},callObserver:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return this.observer[e].apply(this.observer,t)},requiresHandlers:function(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(var t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0}});function map(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var l=t(e[o]);kendo.drawing.util.defined(l)&&r.push(l)}return r}var he=kendo.drawing.util,de=he.append,ue=he.bindEvents,pe=he.defined,fe=he.deg,ge=he.elementOffset,me=he.elementSize,ve=he.eventElement,_e=he.eventCoordinates,be=he.last,we=he.limitValue,ye=he.objectKey,xe=he.rad,ke=he.round,Ce=he.unbindEvents,Se=he.valueOrDefault,Te=l.extend({});function De(e,t){var n=e.prototype;n.options?n.options=_({},n.options,t):n.options=t}function Ee(e){for(var t=E,n=A,r=0,o=e.length;r<o;r++){var l=e[r];null!==l&&isFinite(l)&&(t=Math.min(t,l),n=Math.max(n,l))}return{min:t===E?void 0:t,max:n===A?void 0:n}}function Ae(e,t){var n=ke(t-e,S-1);if(0===n){if(0===t)return.1;n=Math.abs(t)}var r=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),o=ke(n/r,S);return ke(r*(o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2),S)}Te.fetchFonts=function(e,t,n){void 0===n&&(n={depth:0}),!e||n.depth>5||!document.fonts||Object.keys(e).forEach((function(r){var o=e[r];"dataSource"!==r&&"$"!==r[0]&&o&&("font"===r?t.push(o):"object"==typeof o&&(n.depth++,Te.fetchFonts(o,t,n),n.depth--))}))},Te.loadFonts=function(e,t){var n=[];if(e.length>0&&document.fonts){try{n=e.map((function(e){return document.fonts.load(e)}))}catch(e){kendo.logToConsole(e)}Promise.all(n).then(t,t)}else t()},Te.preloadFonts=function(e,t){var n=[];Te.fetchFonts(e,n),Te.loadFonts(n,t)};var Ie=l.extend({init:function(e,t){this.x=e||0,this.y=t||0},clone:function(){return new Ie(this.x,this.y)},equals:function(e){return e&&this.x===e.x&&this.y===e.y},rotate:function(e,t){var n=xe(t),r=Math.cos(n),o=Math.sin(n),l=e.x,c=e.y,h=this.x,d=this.y;return this.x=ke(l+(h-l)*r+(d-c)*o,C),this.y=ke(c+(d-c)*r-(h-l)*o,C),this},multiply:function(a){return this.x*=a,this.y*=a,this},distanceTo:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}});Ie.onCircle=function(e,t,n){var r=xe(t);return new Ie(e.x-n*Math.cos(r),e.y-n*Math.sin(r))};var Me=l.extend({init:function(e,t,n,r){this.x1=e||0,this.y1=t||0,this.x2=n||0,this.y2=r||0},equals:function(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},move:function(e,t){var n=this.height(),r=this.width();return pe(e)&&(this.x1=e,this.x2=this.x1+r),pe(t)&&(this.y1=t,this.y2=this.y1+n),this},wrap:function(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this},wrapPoint:function(e){var t=L(e),n=t?e[0]:e.x,r=t?e[1]:e.y;return this.wrap(new Me(n,r,n,r)),this},snapTo:function(e,t){return t!==P&&t||(this.x1=e.x1,this.x2=e.x2),t!==z&&t||(this.y1=e.y1,this.y2=e.y2),this},alignTo:function(e,t){var n=this.height(),r=this.width(),o=t===R||t===x?z:P,l=o===z?n:r;if(t===k){var c=e.center(),h=this.center();this.x1+=c.x-h.x,this.y1+=c.y-h.y}else this[o+1]=t===R||t===D?e[o+1]-l:e[o+2];return this.x2=this.x1+r,this.y2=this.y1+n,this},shrink:function(e,t){return this.x2-=e,this.y2-=t,this},expand:function(e,t){return this.shrink(-e,-t),this},pad:function(e){var t=Y(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this},unpad:function(e){var t=Y(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)},clone:function(){return new Me(this.x1,this.y1,this.x2,this.y2)},center:function(){return new Ie(this.x1+this.width()/2,this.y1+this.height()/2)},containsPoint:function(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2},points:function(){return[new Ie(this.x1,this.y1),new Ie(this.x2,this.y1),new Ie(this.x2,this.y2),new Ie(this.x1,this.y2)]},getHash:function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},overlaps:function(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)},rotate:function(e){var t=this.width(),n=this.height(),r=this.center(),o=r.x,l=r.y,c=Re(0,0,o,l,e),h=Re(t,0,o,l,e),d=Re(t,n,o,l,e),f=Re(0,n,o,l,e);return t=Math.max(c.x,h.x,d.x,f.x)-Math.min(c.x,h.x,d.x,f.x),n=Math.max(c.y,h.y,d.y,f.y)-Math.min(c.y,h.y,d.y,f.y),this.x2=this.x1+t,this.y2=this.y1+n,this},toRect:function(){return new h([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return 0!==this.width()&&0!==this.height()},align:function(e,t,n){var r=t+1,o=t+2,l=t===P?"width":"height",c=this[l]();le(n,[D,R])?(this[r]=e[r],this[o]=this[r]+c):le(n,[I,x])?(this[o]=e[o],this[r]=this[o]-c):n===k&&(this[r]=e[r]+(e[l]()-c)/2,this[o]=this[r]+c)}});function Re(e,t,n,r,o){var l=xe(o);return new Ie(n+(e-n)*Math.cos(l)+(t-r)*Math.sin(l),r-(e-n)*Math.sin(l)+(t-r)*Math.cos(l))}var Fe=l.extend({init:function(e,t,n,r,o){this.center=e,this.innerRadius=t,this.radius=n,this.startAngle=r,this.angle=o},clone:function(){return new Fe(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},middle:function(){return this.startAngle+this.angle/2},setRadius:function(e,t){return t?this.innerRadius=e:this.radius=e,this},point:function(e,t){var n=xe(e),r=Math.cos(n),o=Math.sin(n),l=t?this.innerRadius:this.radius,c=ke(this.center.x-r*l,C),h=ke(this.center.y-o*l,C);return new Ie(c,h)},adjacentBox:function(e,t,n){var r=this.clone().expand(e),o=r.middle(),l=r.point(o),c=t/2,h=n/2,d=Math.sin(xe(o)),f=Math.cos(xe(o)),m=l.x-c,v=l.y-h;return Math.abs(d)<.9&&(m+=c*-f/Math.abs(f)),Math.abs(f)<.9&&(v+=h*-d/Math.abs(d)),new Me(m,v,m+t,v+n)},containsPoint:function(p){var e=this.center,t=this.innerRadius,n=this.radius,r=this.startAngle,o=this.startAngle+this.angle,l=p.x-e.x,c=p.y-e.y,h=new Ie(l,c),d=this.point(r),f=new Ie(d.x-e.x,d.y-e.y),m=this.point(o),v=new Ie(m.x-e.x,m.y-e.y),_=ke(l*l+c*c,C);return(f.equals(h)||O(f,h))&&!O(v,h)&&_>=t*t&&_<=n*n},getBBox:function(){var e,t=new Me(E,E,A,A),n=ke(this.startAngle%360),r=ke((n+this.angle)%360),o=this.innerRadius,l=[0,90,180,270,n,r].sort(Pe),c=l.indexOf(n),h=l.indexOf(r);e=n===r?l:c<h?l.slice(c,h+1):[].concat(l.slice(0,h+1),l.slice(c,l.length));for(var i=0;i<e.length;i++){var d=this.point(e[i]);t.wrapPoint(d),t.wrapPoint(d,o)}return o||t.wrapPoint(this.center),t},expand:function(e){return this.radius+=e,this}});function Pe(a,b){return a-b}var ze=Fe.extend({init:function(e,t,n,r){Fe.fn.init.call(this,e,0,t,n,r)},expand:function(e){return Fe.fn.expand.call(this,e)},clone:function(){return new ze(this.center,this.radius,this.startAngle,this.angle)},setRadius:function(e){return this.radius=e,this}}),Be=l.extend({createRing:function(e,t){var n=e.startAngle+180,o=e.angle+n;e.angle>0&&n===o&&(o+=.001);var l=new c.Point(e.center.x,e.center.y),h=Math.max(e.radius,0),d=Math.max(e.innerRadius,0),f=new c.Arc(l,{startAngle:n,endAngle:o,radiusX:h,radiusY:h}),path=r.fromArc(f,t).close();if(d){f.radiusX=f.radiusY=d;var m=f.pointAt(o);path.lineTo(m.x,m.y),path.arc(o,n,d,d,!0)}else path.lineTo(l.x,l.y);return path}});Be.current=new Be;var Le=l.extend({init:function(e){this.children=[],this.options=_({},this.options,this.initUserOptions(e))},initUserOptions:function(e){return e},reflow:function(e){for(var t,n=this.children,i=0;i<n.length;i++){var r=n[i];r.reflow(e),t=t?t.wrap(r.box):r.box.clone()}this.box=t||e},destroy:function(){var e=this.children;this.animation&&this.animation.destroy();for(var i=0;i<e.length;i++)e[i].destroy()},getRoot:function(){var e=this.parent;return e?e.getRoot():null},getSender:function(){var e=this.getService();if(e)return e.sender},getService:function(){for(var element=this;element;){if(element.chartService)return element.chartService;element=element.parent}},translateChildren:function(e,t){for(var n=this.children,r=n.length,i=0;i<r;i++)n[i].box.translate(e,t)},append:function(){for(var e=arguments,t=this,i=0;i<arguments.length;i++){var n=e[i];t.children.push(n),n.parent=t}},renderVisual:function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},addVisual:function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},renderChildren:function(){for(var e=this.children,t=e.length,i=0;i<t;i++)e[i].renderVisual()},createVisual:function(){this.visual=new o({zIndex:this.options.zIndex,visible:Se(this.options.visible,!0)})},createAnimation:function(){this.visual&&this.options.animation&&(this.animation=t.Animation.create(this.visual,this.options.animation))},appendVisual:function(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):pe(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)},clipRoot:function(){return this.parent?this.parent.clipRoot():this},stackRoot:function(){return this.parent?this.parent.stackRoot():this},stackVisual:function(e){var t,n=e.options.zIndex||0,r=this.visual.children,o=r.length;for(t=0;t<o;t++){var l=r[t];if(Se(l.options.zIndex,0)>n)break}this.visual.insert(t,e)},traverse:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++){var r=t[i];e(r),r.traverse&&r.traverse(e)}},closest:function(e){for(var element=this,t=!1;element&&!t;)(t=e(element))||(element=element.parent);if(t)return element},renderComplete:function(){},hasHighlight:function(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible)},toggleHighlight:function(t){var n=this,r=(this.options||{}).highlight||{},o=r.visual,l=this._highlight;if(!l){var c={fill:{color:F,opacity:.2},stroke:{color:F,width:1,opacity:.2}};if(o){if(!(l=this._highlight=o(e.extend(this.highlightVisualArgs(),{createVisual:function(){return n.createHighlight(c)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else l=this._highlight=this.createHighlight(c);pe(l.options.zIndex)||(l.options.zIndex=Se(r.zIndex,this.options.zIndex)),this.appendVisual(l)}l.visible(t)},createGradientOverlay:function(element,t,n){var o=new r(e.extend({stroke:{color:"none"},fill:this.createGradient(n),closed:element.options.closed},t));return o.segments.elements(element.segments.elements()),o},createGradient:function(e){if(this.parent)return this.parent.createGradient(e)}});Le.prototype.options={};var He=Le.extend({init:function(e){Le.fn.init.call(this,e),this.options.margin=Y(this.options.margin),this.options.padding=Y(this.options.padding)},reflow:function(e){var t,n=this,r=this.options,o=r.width,l=r.height,c=r.shrinkToFit,h=o&&l,d=r.margin,f=r.padding,m=r.border.width,v=function(){n.align(e,P,r.align),n.align(e,z,r.vAlign),n.paddingBox=t.clone().unpad(d).unpad(m)},_=e.clone();h&&(_.x2=_.x1+o,_.y2=_.y1+l),c&&_.unpad(d).unpad(m).unpad(f),Le.fn.reflow.call(this,_),t=h?this.box=new Me(0,0,o,l):this.box,c&&h?(v(),_=this.contentBox=this.paddingBox.clone().unpad(f)):(_=this.contentBox=t.clone(),t.pad(f).pad(m).pad(d),v()),this.translateChildren(t.x1-_.x1+d.left+m+f.left,t.y1-_.y1+d.top+m+f.top);for(var w=this.children,i=0;i<w.length;i++){var y=w[i];y.reflow(y.box)}},align:function(e,t,n){this.box.align(e,t,n)},hasBox:function(){var e=this.options;return e.border.width||e.background},createVisual:function(){Le.fn.createVisual.call(this),this.options.visible&&this.hasBox()&&this.visual.append(r.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStyle:function(){var e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:Se(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}}});De(He,{align:D,vAlign:R,margin:{},padding:{},border:{color:"#000",width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var Ne=He.extend({init:function(e,t){He.fn.init.call(this,e),this.pointData=t},getElement:function(){var e=this.options,n=this.paddingBox,o=e.type,l=e.rotation,c=n.center(),h=n.width()/2;if(!e.visible||!this.hasBox())return null;var element,style=this.visualStyle();return"circle"===o?element=new t.Circle(new d([ke(n.x1+h,C),ke(n.y1+n.height()/2,C)],h),style):"triangle"===o?element=r.fromPoints([[n.x1+h,n.y1],[n.x1,n.y2],[n.x2,n.y2]],style).close():"cross"===o?((element=new t.MultiPath(style)).moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),element.moveTo(n.x1,n.y2).lineTo(n.x2,n.y1)):element=r.fromRect(n.toRect(),style),l&&element.transform(f().rotate(-l,[c.x,c.y])),element.options.zIndex=e.zIndex,element},createElement:function(){var e=this,t=this.options.visual,n=this.pointData||{};return t?t({value:n.value,dataItem:n.dataItem,sender:this.getSender(),series:n.series,category:n.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()},visualOptions:function(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}},createVisual:function(){this.visual=this.createElement()}});De(Ne,{type:"circle",align:k,vAlign:k});var Oe={glass:{type:"linear",rotation:0,stops:[{offset:0,color:F,opacity:0},{offset:.25,color:F,opacity:.3},{offset:1,color:F,opacity:0}]},sharpBevel:{type:"radial",stops:[{offset:0,color:F,opacity:.55},{offset:.65,color:F,opacity:0},{offset:.95,color:F,opacity:.25}]},roundedBevel:{type:"radial",stops:[{offset:.33,color:F,opacity:.06},{offset:.83,color:F,opacity:.2},{offset:.95,color:F,opacity:0}]},roundedGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:F,opacity:0},{offset:.5,color:F,opacity:.3},{offset:.99,color:F,opacity:0}]},sharpGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:F,opacity:.2},{offset:.15,color:F,opacity:.15},{offset:.17,color:F,opacity:.35},{offset:.85,color:F,opacity:.05},{offset:.87,color:F,opacity:.15},{offset:.99,color:F,opacity:0}]},bubbleShadow:{type:"radial",center:[.5,.5],radius:.5}};function Ve(e,s){if(e.x1===s.x1&&e.y1===s.y1&&e.x2===s.x2&&e.y2===s.y2)return s;var a=Math.min(e.x1,s.x1),b=Math.max(e.x1,s.x1),t=Math.min(e.x2,s.x2),n=Math.max(e.x2,s.x2),r=Math.min(e.y1,s.y1),o=Math.max(e.y1,s.y1),g=Math.min(e.y2,s.y2),l=Math.max(e.y2,s.y2),c=[];return c[0]=new Me(b,r,t,o),c[1]=new Me(a,o,b,g),c[2]=new Me(t,o,n,g),c[3]=new Me(b,g,t,l),e.x1===a&&e.y1===r||s.x1===a&&s.y1===r?(c[4]=new Me(a,r,b,o),c[5]=new Me(t,g,n,l)):(c[4]=new Me(t,r,n,o),c[5]=new Me(a,g,b,l)),se(c,(function(e){return e.height()>0&&e.width()>0}))[0]}var We=Le.extend({init:function(e){Le.fn.init.call(this,e);var t=this.options;t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),this.gradients={}},reflow:function(){var e=this.options,t=this.children,n=new Me(0,0,e.width,e.height);this.box=n.unpad(e.margin);for(var i=0;i<t.length;i++)t[i].reflow(n),n=Ve(n,t[i].box)||new Me},createVisual:function(){this.visual=new o,this.createBackground()},createBackground:function(){var e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),o=r.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(o)},getRoot:function(){return this},createGradient:function(n){var r,o=this.gradients,l=ye(n),c=Oe[n.gradient];if(o[l])r=o[l];else{var h=e.extend({},c,n);"linear"===c.type?r=new t.LinearGradient(h):(n.innerRadius&&(h.stops=function(t){for(var n=t.stops,r=t.innerRadius/t.radius*100,o=n.length,l=[],i=0;i<o;i++){var c=e.extend({},n[i]);c.offset=(c.offset*(100-r)+r)/100,l.push(c)}return l}(h)),(r=new t.RadialGradient(h)).supportVML=!1!==c.supportVML),o[l]=r}return r},cleanGradients:function(){var e=this.gradients;for(var t in e)e[t]._observers=[]},size:function(){var e=this.options;return new Me(0,0,e.width,e.height)}});De(We,{width:600,height:400,background:F,border:{color:"#000",width:0},margin:Y(5),zIndex:-2});var Ue=Le.extend({init:function(e){Le.fn.init.call(this,e),this._initDirection()},_initDirection:function(){var e=this.options;e.vertical?(this.groupAxis=P,this.elementAxis=z,this.groupSizeField="width",this.elementSizeField="height",this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=z,this.elementAxis=P,this.groupSizeField="height",this.elementSizeField="width",this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)},reflow:function(e){this.box=e.clone(),this.reflowChildren()},reflowChildren:function(){var e=this.box,t=this.elementAxis,n=this.groupAxis,r=this.elementSizeField,o=this.groupSizeField,l=this.groupOptions(),c=l.groups,h=l.groupsSize,d=l.maxGroupElementsSize,f=c.length,m=e[n+1]+this.alignStart(h,e[o]());if(f){for(var v=m,_=0;_<f;_++){for(var w=c[_],y=w.groupElements,x=e[t+1],k=y.length,C=0;C<k;C++){var element=y[C],S=this.elementSize(element),T=v+this.alignStart(S[o],w.groupSize),D=new Me;D[n+1]=T,D[n+2]=T+S[o],D[t+1]=x,D[t+2]=x+S[r],element.reflow(D),x+=S[r]+this.elementSpacing}v+=w.groupSize+this.groupSpacing}e[n+1]=m,e[n+2]=m+h,e[t+2]=e[t+1]+d}},alignStart:function(e,t){var n=0,r=this.options.align;return r===I||r===x?n=t-e:r===k&&(n=(t-e)/2),n},groupOptions:function(){for(var e=this.box,t=this.children,n=this.elementSizeField,r=this.groupSizeField,o=this.elementSpacing,l=this.groupSpacing,c=ke(e[n]()),h=t.length,d=[],f=0,m=0,v=0,_=0,w=[],y=0;y<h;y++){var element=t[y];element.box||element.reflow(e);var x=this.elementSize(element);this.options.wrap&&ke(m+o+x[n])>c&&(d.push({groupElements:w,groupSize:f,groupElementsSize:m}),_=Math.max(_,m),v+=l+f,f=0,m=0,w=[]),f=Math.max(f,x[r]),m>0&&(m+=o),m+=x[n],w.push(element)}return d.push({groupElements:w,groupSize:f,groupElementsSize:m}),{groups:d,groupsSize:v+=f,maxGroupElementsSize:_=Math.max(_,m)}},elementSize:function(element){return{width:element.box.width(),height:element.box.height()}},createVisual:function(){}});De(Ue,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var je=t.Text,qe=Le.extend({init:function(content,e){Le.fn.init.call(this,e),this.content=content,this.reflow(new Me)},reflow:function(e){var t=this.options,r=t.size=n.measureText(this.content,{font:t.font});this.baseline=r.baseline,this.box=new Me(e.x1,e.y1,e.x1+r.width,e.y1+r.height)},createVisual:function(){var e=this.options,t=e.font,n=e.color,r=e.opacity,cursor=e.cursor;this.visual=new je(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:n,opacity:r},cursor:cursor})}});function Ge(rect){var e=rect.origin,t=rect.bottomRight();return new Me(e.x,e.y,t.x,t.y)}De(qe,{font:"12px sans-serif",color:"#000"});var $e=/\n/m,Ye=He.extend({init:function(content,e,data){He.fn.init.call(this,e),this.content=content,this.data=data,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new Me)},_initContainer:function(){var e=this.options,t=String(this.content).split($e),n=new Ue({vertical:!0,align:e.align,wrap:!1}),r=_({},e,{opacity:1,animation:null});this.container=n,this.append(n);for(var o=0;o<t.length;o++){var text=new qe(t[o].trim(),r);n.append(text)}},reflow:function(e){var t=this.options,n=t.visual;if(this.container.options.align=t.align,n&&!this._boxReflow){var r=e;r.hasSize()||(this._boxReflow=!0,this.reflow(r),this._boxReflow=!1,r=this.box);var o=this.visual=n(this.visualContext(r));o&&(r=Ge(o.clippedBBox()||new h),o.options.zIndex=t.zIndex),this.box=this.contentBox=this.paddingBox=r}else if(He.fn.reflow.call(this,e),t.rotation){var l=Y(t.margin),c=this.box.unpad(l);this.targetBox=e,this.normalBox=c.clone(),(c=this.rotate()).translate(l.left-l.right,l.top-l.bottom),this.rotatedBox=c.clone(),c.pad(l)}},createVisual:function(){var e=this.options;if(this.visual=new o({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){var t=r.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}},renderVisual:function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!pe(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else He.fn.renderVisual.call(this)},visualContext:function(t){var n=this,r={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return n._boxReflow=!0,n.reflow(t),n._boxReflow=!1,n.getDefaultVisual()}};return this.data&&e.extend(r,this.data),r},getDefaultVisual:function(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e},rotate:function(){var e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,P,e.align),this.align(this.targetBox,z,e.vAlign),this.box},rotationTransform:function(){var e=this.options.rotation;if(!e)return null;var t=this.normalBox.center(),n=t.x,r=t.y,o=this.rotatedBox.center();return f().translate(o.x-n,o.y-r).rotate(e,[n,r])}}),Ke=Le.extend({init:function(t){Le.fn.init.call(this,t),this.append(new Ye(this.options.text,e.extend({},this.options,{vAlign:this.options.position})))},reflow:function(e){Le.fn.reflow.call(this,e),this.box.snapTo(e,P)}});Ke.buildTitle=function(t,n,r){var title,o=t;return"string"==typeof t&&(o={text:t}),(o=e.extend({visible:!0},r,o))&&o.visible&&o.text&&(title=new Ke(o),n.append(title)),title},De(Ke,{color:"#000",position:R,align:k,margin:Y(5),padding:Y(5)});var Qe=Ye.extend({init:function(e,text,t,n,r){Ye.fn.init.call(this,text,r),this.text=text,this.value=e,this.index=t,this.dataItem=n,this.reflow(new Me)},visualContext:function(e){var t=Ye.fn.visualContext.call(this,e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t},click:function(e,t){e.trigger("axisLabelClick",{element:ve(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},rotate:function(){if(this.options.alignRotation!==k){var e=this.normalBox.toRect(),t=this.rotationTransform();this.box=Ge(e.bbox(t.matrix()))}else Ye.fn.rotate.call(this);return this.box},rotationTransform:function(){var e=this.options,t=e.rotation;if(!t)return null;if(e.alignRotation===k)return Ye.fn.rotationTransform.call(this);var n=f().rotate(t).matrix(),r=this.normalBox.toRect(),rect=this.targetBox.toRect(),o=e.rotationOrigin||R,l=o===R||o===x?P:z,c=o===R||o===x?z:P,d=o===R||o===D?rect.origin:rect.bottomRight(),m=r.topLeft().transformCopy(n),v=r.topRight().transformCopy(n),_=r.bottomRight().transformCopy(n),w=r.bottomLeft().transformCopy(n),y=h.fromPoints(m,v,_,w),C={};C[c]=rect.origin[c]-y.origin[c];var T,E,A=Math.abs(m[c]+C[c]-d[c]),I=Math.abs(v[c]+C[c]-d[c]);ke(A,S)===ke(I,S)?(T=m,E=v):I<A?(T=v,E=_):(T=m,E=w);var M=T[l]+(E[l]-T[l])/2;return C[l]=rect.center()[l]-M,f().translate(C.x,C.y).rotate(t)}});De(Qe,{_autoReflow:!1});var Xe=He.extend({init:function(e,t,n){He.fn.init.call(this,t),this.fields=e,this.chartService=n,this.render()},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var e=this,t=this.options;if(t.visible){var n,r,label=t.label,o=t.icon,l=new Me,c=function(){return e},h=o.size,text=this.fields.text;if(pe(label)&&label.visible){var d=oe(label);d?text=d(this.fields):label.format&&(text=this.chartService.format.auto(label.format,text)),label.color||(label.color="inside"===label.position?"#fff":o.background),this.label=new Ye(text,_({},label)),this.label.aliasFor=c,"inside"!==label.position||pe(h)||("circle"===o.type?h=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),r=this.label.box.height()),l.wrap(this.label.box))}o.width=n||h||7,o.height=r||h||7;var marker=new Ne(_({},o));marker.aliasFor=c,this.marker=marker,this.append(marker),this.label&&this.append(this.label),marker.reflow(new Me),this.wrapperBox=l.wrap(marker.box)}},reflow:function(e){var t,n,r,o=this.options,label=this.label,marker=this.marker,l=this.wrapperBox,c=e.center(),h=o.line.length,d=o.position;o.visible&&(le(d,[D,I])?d===D?(r=l.alignTo(e,d).translate(-h,e.center().y-l.center().y),o.line.visible&&(t=[e.x1,c.y],this.linePoints=[t,[r.x2,c.y]],n=r.clone().wrapPoint(t))):(r=l.alignTo(e,d).translate(h,e.center().y-l.center().y),o.line.visible&&(t=[e.x2,c.y],this.linePoints=[t,[r.x1,c.y]],n=r.clone().wrapPoint(t))):d===x?(r=l.alignTo(e,d).translate(e.center().x-l.center().x,h),o.line.visible&&(t=[c.x,e.y2],this.linePoints=[t,[c.x,r.y1]],n=r.clone().wrapPoint(t))):(r=l.alignTo(e,d).translate(e.center().x-l.center().x,-h),o.line.visible&&(t=[c.x,e.y1],this.linePoints=[t,[c.x,r.y2]],n=r.clone().wrapPoint(t))),marker&&marker.reflow(r),label&&(label.reflow(r),marker&&("outside"===o.label.position&&label.box.alignTo(marker.box,d),label.reflow(label.box))),this.contentBox=r,this.targetBox=e,this.box=n||r)},createVisual:function(){He.fn.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},renderVisual:function(){var t=this,n=this.options,r=n.visual;n.visible&&r?(this.visual=r(e.extend(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){t.createVisual(),t.renderChildren();var e=t.visual;return delete t.visual,e}})),this.addVisual()):He.fn.renderVisual.call(this)},createLine:function(){var e=this.options.line;if(this.linePoints){var path=r.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});N(path),this.visual.append(path)}},click:function(e,t){var n=this.eventArgs(t);e.trigger("noteClick",n)||t.preventDefault()},over:function(e,t){var n=this.eventArgs(t);e.trigger("noteHover",n)||t.preventDefault()},out:function(e,t){var n=this.eventArgs(t);e.trigger("noteLeave",n)},eventArgs:function(t){var n=this.options;return e.extend(this.fields,{element:ve(t),text:pe(n.label)?n.label.text:"",visual:this.visual})}});function Je(e,t){var n=e.tickX,o=e.tickY,l=e.position,c=new r({stroke:{width:t.width,color:t.color}});return e.vertical?c.moveTo(n,l).lineTo(n+t.size,l):c.moveTo(l,o).lineTo(l,o+t.size),N(c),c}function Ze(e,t){var n=e.lineStart,o=e.lineEnd,l=e.position,line=new r({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return e.vertical?line.moveTo(n,l).lineTo(o,l):line.moveTo(l,n).lineTo(l,o),N(line),line}De(Xe,{icon:{visible:!0,type:"circle"},label:{position:"inside",visible:!0,align:k,vAlign:k},line:{visible:!0},visible:!0,position:R,zIndex:2});var et=Le.extend({init:function(e,t){void 0===t&&(t=new ee),Le.fn.init.call(this,e),this.chartService=t,this.options.visible||(this.options=_({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=_({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.minorTickType},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=_({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.majorTickType},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()},initFields:function(){},labelsRange:function(){return{min:this.options.labels.skip,max:this.labelsCount()}},createLabels:function(){var e=this.options,t=e.vertical?I:k,n=_({},e.labels,{align:t,zIndex:e.zIndex}),r=Math.max(1,n.step);if(this.clearLabels(),n.visible){var o=this.labelsRange(),l=n.rotation;U(l)&&(n.alignRotation=l.align,n.rotation=l.angle),"auto"===n.rotation&&(n.rotation=0,e.autoRotateLabels=!0);for(var c=o.min;c<o.max;c+=r){var label=this.createAxisLabel(c,n);label&&(this.append(label),this.labels.push(label))}}},clearLabels:function(){this.children=se(this.children,(function(e){return!(e instanceof Qe)})),this.labels=[]},clearTitle:function(){var e=this;this.title&&(this.children=se(this.children,(function(t){return t!==e.title})),this.title=void 0)},clear:function(){this.clearLabels(),this.clearTitle()},lineBox:function(){var e=this.options,t=this.box,n=e.vertical,r=e.labels.mirror,o=r?t.x1:t.x2,l=r?t.y2:t.y1,c=e.line.width||0;return n?new Me(o,t.y1,o,t.y2-c):new Me(t.x1,l,t.x2-c,l)},createTitle:function(){var e=this.options,t=_({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){var title=new Ye(t.text,t);this.append(title),this.title=title}},createNotes:function(){var e=this.options,t=e.notes,n=t.data||[];this.notes=[];for(var i=0;i<n.length;i++){var r=_({},t,n[i]);r.value=this.parseNoteValue(r.value);var o=new Xe({value:r.value,text:r.label.text,dataItem:r},r,this.chartService);o.options.visible&&(pe(o.options.position)?e.vertical&&!le(o.options.position,[D,I])?o.options.position=e.reverse?D:I:e.vertical||le(o.options.position,[R,x])||(o.options.position=e.reverse?x:R):e.vertical?o.options.position=e.reverse?D:I:o.options.position=e.reverse?x:R,this.append(o),this.notes.push(o))}},parseNoteValue:function(e){return e},renderVisual:function(){Le.fn.renderVisual.call(this),this.createPlotBands()},createVisual:function(){Le.fn.createVisual.call(this),this.createBackground(),this.createLine()},gridLinesVisual:function(){var e=this._gridLines;return e||(e=this._gridLines=new o({zIndex:-2}),this.appendVisual(this._gridLines)),e},createTicks:function(e){var t=this.options,n=this.lineBox(),r=t.labels.mirror,o=t.majorTicks.visible?t.majorUnit:0,l={vertical:t.vertical};function c(t,o,c){var h=t.length,d=Math.max(1,o.step);if(o.visible)for(var i=o.skip;i<h;i+=d)pe(c)&&i%c==0||(l.tickX=r?n.x2:n.x2-o.size,l.tickY=r?n.y1-o.size:n.y1,l.position=t[i],e.append(Je(l,o)))}c(this.getMajorTickPositions(),t.majorTicks),c(this.getMinorTickPositions(),t.minorTicks,o/t.minorUnit)},createLine:function(){var e=this.options,line=e.line,t=this.lineBox();if(line.width>0&&line.visible){var path=new r({stroke:{width:line.width,color:line.color,dashType:line.dashType}});path.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),e._alignLines&&N(path);var n=this._lineGroup=new o;n.append(path),this.visual.append(n),this.createTicks(n)}},getActualTickSize:function(){var e=this.options,t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t},createBackground:function(){var e=this.options,t=this.box,n=e.background;n&&(this._backgroundPath=r.fromRect(t.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))},createPlotBands:function(){var e=this,t=this.options,n=t.plotBands||[],l=t.vertical,c=this.plotArea;if(0!==n.length){for(var d=this._plotbandGroup=new o({zIndex:-1}),f=se(this.pane.axes,(function(t){return t.options.vertical!==e.options.vertical}))[0],m=0;m<n.length;m++){var v=n[m],_=void 0,w=void 0;if(l?(_=(f||c.axisX).lineBox(),w=e.getSlot(v.from,v.to,!0)):(_=e.getSlot(v.from,v.to,!0),w=(f||c.axisY).lineBox()),0!==_.width()&&0!==w.height()){var y=new h([_.x1,w.y1],[_.width(),w.height()]),path=r.fromRect(y,{fill:{color:v.color,opacity:v.opacity},stroke:null});d.append(path)}}this.appendVisual(d)}},createGridLines:function(e){var t=this.options,n=t.minorGridLines,r=t.majorGridLines,o=t.minorUnit,l=t.vertical,c=e.options.line.visible,h=r.visible?t.majorUnit:0,d=e.lineBox(),f=d[l?"y1":"x1"],m={lineStart:d[l?"x1":"y1"],lineEnd:d[l?"x2":"y2"],vertical:l},v=[],_=this.gridLinesVisual();function w(e,t,n){var r=e.length,o=Math.max(1,t.step);if(t.visible)for(var i=t.skip;i<r;i+=o){var l=ke(e[i]);le(l,v)||i%n==0||c&&f===l||(m.position=l,_.append(Ze(m,t)),v.push(l))}}return w(this.getMajorTickPositions(),r),w(this.getMinorTickPositions(),n,h/o),_.children},reflow:function(e){for(var t=this.options,n=this.labels,title=this.title,r=t.vertical,o=n.length,l=r?"width":"height",c=title?title.box[l]():0,h=this.getActualTickSize()+t.margin+c,d=((this.getRoot()||{}).box||e)[l](),f=0,i=0;i<o;i++){var m=n[i].box[l]();m+h<=d&&(f=Math.max(f,m))}this.box=r?new Me(e.x1,e.y1,e.x1+f+h,e.y2):new Me(e.x1,e.y1,e.x2,e.y1+f+h),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},getLabelsTickPositions:function(){return this.getMajorTickPositions()},labelTickIndex:function(label){return label.index},arrangeLabels:function(){for(var e=this.options,t=this.labels,n=this.labelsBetweenTicks(),r=e.vertical,o=this.lineBox(),l=e.labels.mirror,c=this.getLabelsTickPositions(),h=this.getActualTickSize()+e.margin,d=0;d<t.length;d++){var label=t[d],f=this.labelTickIndex(label),m=r?label.box.height():label.box.width(),v=c[f]-m/2,_=void 0,w=void 0,y=void 0;if(r){n&&(v=(w=c[f])+((y=c[f+1])-w)/2-m/2);var k=o.x2;l?(k+=h,label.options.rotationOrigin=D):(k-=h+label.box.width(),label.options.rotationOrigin=I),_=label.box.move(k,v)}else{n?(w=c[f],y=c[f+1]):(w=v,y=v+m);var C=o.y1;l?(C-=h+label.box.height(),label.options.rotationOrigin=x):(C+=h,label.options.rotationOrigin=R),_=new Me(w,C,y,C+label.box.height())}label.reflow(_)}},autoRotateLabels:function(){if(this.options.autoRotateLabels&&!this.options.vertical){for(var e,t=this.getMajorTickPositions(),n=this.labels,r=0;r<n.length;r++){var o=Math.abs(t[r+1]-t[r]),l=n[r].box;if(l.width()>o){if(l.height()>o){e=-90;break}e=-45}}if(e){for(var c=0;c<n.length;c++)n[c].options.rotation=e,n[c].reflow(new Me);return!0}}},arrangeTitle:function(){var e=this.options,title=this.title,t=e.labels.mirror,n=e.vertical;title&&(n?(title.options.align=t?I:D,title.options.vAlign=title.options.position):(title.options.align=title.options.position,title.options.vAlign=t?R:x),title.reflow(this.box))},arrangeNotes:function(){for(var e=0;e<this.notes.length;e++){var t=this.notes[e],n=t.options.value,slot=void 0;pe(n)?(this.shouldRenderNote(n)?t.show():t.hide(),slot=this.noteSlot(n)):t.hide(),t.reflow(slot||this.lineBox())}},noteSlot:function(e){return this.getSlot(e)},alignTo:function(e){var t=e.lineBox(),n=this.options.vertical,r=n?z:P;this.box.snapTo(t,r),n?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[r+1]-=this.lineBox()[r+1]-t[r+1],this.box[r+2]-=this.lineBox()[r+2]-t[r+2]},axisLabelText:function(e,t,n){var r=oe(n),text=e;return r?text=r({value:e,dataItem:t,format:n.format,culture:n.culture}):n.format&&(text=this.chartService.format.localeAuto(n.format,[e],n.culture)),text},slot:function(e,t,n){var slot=this.getSlot(e,t,n);if(slot)return slot.toRect()},contentBox:function(){var e=this.box.clone(),t=this.labels;if(t.length){var n=this.options.vertical?z:P;if(this.chartService.isPannable(n)){var r=this.maxLabelOffset();e[n+1]-=r.start,e[n+2]+=r.end}else{t[0].options.visible&&e.wrap(t[0].box);var o=t[t.length-1];o.options.visible&&e.wrap(o.box)}}return e},maxLabelOffset:function(){for(var e=this.options,t=e.vertical,n=e.reverse,r=this.labelsBetweenTicks(),o=this.getLabelsTickPositions(),l=t?z:P,c=this.labels,h=n?1:0,d=n?0:1,f=0,m=0,v=0;v<c.length;v++){var label=c[v],_=this.labelTickIndex(label),w=void 0,y=void 0;r?(w=o[_+h],y=o[_+d]):w=y=o[_],f=Math.max(f,w-label.box[l+1]),m=Math.max(m,label.box[l+2]-y)}return{start:f,end:m}},limitRange:function(e,t,n,r,o){var l=this.options;if(e<n&&o<0&&(!pe(l.min)||l.min<=n)||r<t&&o>0&&(!pe(l.max)||r<=l.max))return null;if(t<n&&o>0||r<e&&o<0)return{min:e,max:t};var c=t-e,h=e,d=t;return e<n&&o<0?(h=we(e,n,r),d=we(e+c,n+c,r)):t>r&&o>0&&(d=we(t,n,r),h=we(t-c,n,r-c)),{min:h,max:d}},valueRange:function(){return{min:this.seriesMin,max:this.seriesMax}},labelsBetweenTicks:function(){return!this.options.justified},prepareUserOptions:function(){}});De(et,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:"#000",visible:!0},title:{visible:!0,position:k},majorTicks:{align:"outside",size:4,skip:0,step:1},minorTicks:{align:"outside",size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:"outside",minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:"#000",skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var tt="milliseconds",it="seconds",nt="minutes",ot="hours",st="days",at="weeks",lt="months",ct="years",ht=1e3,ut=60*ht,pt=60*ut,ft=24*pt,gt=7*ft,mt=31*ft,vt=365*ft,_t={years:vt,months:mt,weeks:gt,days:ft,hours:pt,minutes:ut,seconds:ht,milliseconds:1};function bt(a,b){return a.getTime()-b-(a.getTimezoneOffset()-b.getTimezoneOffset())*ut}function wt(e,t){return new Date(e.getTime()+t)}function yt(e){var t;return e instanceof Date?t=e:e&&(t=new Date(e)),t}function xt(e,t){void 0===t&&(t=0);var n=0,r=e.getDay();if(!isNaN(r))for(;r!==t;)0===r?r=6:r--,n++;return wt(e,-n*ft)}function kt(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function Ct(e,t,n,r){var o=e;if(e){var l=yt(e),c=l.getHours();n===ct?kt(o=new Date(l.getFullYear()+t,0,1),0):n===lt?kt(o=new Date(l.getFullYear(),l.getMonth()+t,1),c):n===at?kt(o=Ct(xt(l,r),7*t,st),c):n===st?kt(o=new Date(l.getFullYear(),l.getMonth(),l.getDate()+t),c):n===ot?o=function(e,t){var n=new Date(e);n.setMinutes(0,0,0);var r=(e.getTimezoneOffset()-n.getTimezoneOffset())*ut;return wt(n,r+t*pt)}(l,t):n===nt?(o=wt(l,t*ut)).getSeconds()>0&&o.setSeconds(0):n===it?o=wt(l,t*ht):n===tt&&(o=wt(l,t)),n!==tt&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function St(e,t,n){return Ct(yt(e),0,t,n)}function Tt(e,t,n){var r=yt(e);return r&&St(r,t,n).getTime()===r.getTime()?r:Ct(r,1,t,n)}function Dt(a,b){return a&&b?a.getTime()-b.getTime():-1}function Et(a,b){return a.getTime()-b}function At(e){if(L(e)){for(var t=[],n=0;n<e.length;n++)t.push(At(e[n]));return t}if(e)return yt(e).getTime()}function It(a,b){return a&&b?At(a)===At(b):a===b}function Mt(e,t,n){return bt(e,t)/_t[n]}function Rt(e,t,n,r){var o=yt(e),l=yt(t);return(n===lt?o.getMonth()-l.getMonth()+12*(o.getFullYear()-l.getFullYear())+Mt(o,new Date(o.getFullYear(),o.getMonth()),st)/new Date(o.getFullYear(),o.getMonth()+1,0).getDate():n===ct?o.getFullYear()-l.getFullYear()+Rt(o,new Date(o.getFullYear(),0),lt,1)/12:n===st||n===at?Mt(o,l,n):Et(o,t)/_t[n])/r}function Ft(a,b,e){return e===ct?b.getFullYear()-a.getFullYear():e===lt?12*Ft(a,b,ct)+b.getMonth()-a.getMonth():e===st?Math.floor(Et(b,a)/ft):Math.floor(Et(b,a)/_t[e])}function Pt(e,t){return W(t)&&e.parseDate(t)||yt(t)}function zt(e,t){if(L(t)){for(var n=[],r=0;r<t.length;r++)n.push(Pt(e,t[r]));return n}return Pt(e,t)}var Bt=et.extend({initFields:function(){this._ticks={}},categoriesHash:function(){return""},clone:function(){var t=new Bt(e.extend({},this.options),this.chartService);return t.createLabels(),t},initUserOptions:function(e){var t=e.categories||[],n=pe(e.min),r=pe(e.max);if(e.srcCategories=e.categories=t,(n||r)&&t.length){var o,l=n?Math.floor(e.min):0;o=r?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(l,o)}return e},rangeIndices:function(){var e=this.options,t=e.categories.length||1;return{min:V(e.min)?e.min%1:0,max:V(e.max)&&e.max%1!=0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0)}},totalRangeIndices:function(e){var t,n=this.options,r=V(n.min)?n.min:0;if(t=V(n.max)?n.max:V(n.min)?r+n.categories.length:this.totalRange().max||1,e){var o=this.totalRange();r=we(r,0,o.max),t=we(t,0,o.max)}return{min:r,max:t}},range:function(){var e=this.options;return{min:V(e.min)?e.min:0,max:V(e.max)?e.max:this.totalRange().max}},roundedRange:function(){return this.range()},totalRange:function(){var e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}},scaleOptions:function(){var e=this.rangeIndices(),t=e.min,n=e.max,r=this.lineBox();return{scale:(this.options.vertical?r.height():r.width())/(n-t||1)*(this.options.reverse?-1:1),box:r,min:t,max:n}},arrangeLabels:function(){et.fn.arrangeLabels.call(this),this.hideOutOfRangeLabels()},hideOutOfRangeLabels:function(){var e=this.box,t=this.labels;if(t.length){var n=this.options.vertical?z:P,r=e[n+1],o=e[n+2],l=t[0],c=be(t);(l.box[n+1]>o||l.box[n+2]<r)&&(l.options.visible=!1),(c.box[n+1]>o||c.box[n+2]<r)&&(c.options.visible=!1)}},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getLabelsTickPositions:function(){return this.getTicks().labelTicks},tickIndices:function(e){for(var t=this.rangeIndices(),n=t.min,r=t.max,o=Math.ceil(r),l=Math.floor(n),c=[];l<=o;)c.push(l),l+=e;return c},getTickPositions:function(e){for(var t=this.options,n=t.vertical,r=t.reverse,o=this.scaleOptions(),l=o.scale,c=o.box,h=o.min,d=c[(n?z:P)+(r?2:1)],f=this.tickIndices(e),m=[],v=0;v<f.length;v++)m.push(d+ke(l*(f[v]-h),C));return m},getTicks:function(){var e=this.options,t=this._ticks,n=this.rangeIndices(),r=this.lineBox(),o=r.getHash()+n.min+","+n.max+e.reverse+e.justified;if(t._hash!==o){var l=e.minorTicks.visible||e.minorGridLines.visible;t._hash=o,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,r),t.minorTicks=l?this.filterOutOfRangePositions(this.getTickPositions(.5),r):[]}return t},filterOutOfRangePositions:function(e,t){if(!e.length)return e;for(var n=this.options.vertical?z:P,r=function(e){return t[n+1]<=e&&e<=t[n+2]},o=e.length-1,l=0;!r(e[l])&&l<=o;)l++;for(var c=o;!r(e[c])&&c>=0;)c--;return e.slice(l,c+1)},getSlot:function(e,t,n){var r=this.options,o=r.reverse,l=r.justified,c=r.vertical,h=this.scaleOptions(),d=h.scale,f=h.box,m=h.min,v=c?z:P,_=f[v+(o?2:1)],w=f.clone(),y=!pe(t),x=Se(e,0),k=Se(t,x);k=Math.max(k-1,x);var C=_+(x-m)*d,S=_+((k=Math.max(x,k))+1-m)*d;return y&&l&&(S=C),n&&(C=we(C,f[v+1],f[v+2]),S=we(S,f[v+1],f[v+2])),w[v+1]=o?S:C,w[v+2]=o?C:S,w},limitSlot:function(slot){var e=this.options.vertical?z:P,t=this.lineBox(),n=slot.clone();return n[e+1]=we(slot[e+1],t[e+1],t[e+2]),n[e+2]=we(slot[e+2],t[e+1],t[e+2]),n},slot:function(e,t,n){var r=Math.floor(this.options.min||0),o=e,l=t;return"string"==typeof o?o=this.categoryIndex(o):V(o)&&(o-=r),"string"==typeof l?l=this.categoryIndex(l):V(l)&&(l-=r),et.fn.slot.call(this,o,l,n)},pointCategoryIndex:function(e){var t=this.options,n=t.reverse,r=t.justified,o=t.vertical?z:P,l=this.scaleOptions(),c=l.scale,h=l.box,d=l.min,f=l.max,m=n?f:d,v=h[o+1],_=h[o+2],w=e[o];if(w<v||w>_)return null;var y=m+(w-v)/c,x=y%1;return r?y=Math.round(y):0===x&&y>0&&y--,Math.floor(y)},getCategory:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]},categoryIndex:function(e){return this.totalIndex(e)-Math.floor(this.options.min||0)},categoryAt:function(e,t){var n=this.options;return(t?n.srcCategories:n.categories)[e]},categoriesCount:function(){return(this.options.categories||[]).length},translateRange:function(e){var t=this.options,n=this.lineBox(),r=t.vertical?n.height():n.width(),o=t.categories.length,l=ke(e/(r/o),S);return{min:l,max:o+l}},zoomRange:function(e){var t=this.totalRangeIndices(),n=this.totalRange(),r=n.min,o=n.max,l=we(t.min+e,r,o),c=we(t.max-e,r,o);if(c-l>0)return{min:l,max:c}},scaleRange:function(e){var t=this.options.categories.length,n=e*t;return{min:-n,max:t+n}},labelsCount:function(){var e=this.labelsRange();return e.max-e.min},labelsRange:function(){var e=this.options,t=e.justified,n=e.labels,r=this.totalRangeIndices(!0),o=r.min,l=r.max,c=Math.floor(o);return t?(o=Math.ceil(o),l=Math.floor(l)):(o=Math.floor(o),l=Math.ceil(l)),{min:(o>n.skip?n.skip+n.step*Math.ceil((o-n.skip)/n.step):n.skip)-c,max:(e.categories.length?l+(t?1:0):0)-c}},createAxisLabel:function(e,t){var n=this.options,r=n.dataItems?n.dataItems[e]:null,o=Se(n.categories[e],""),text=this.axisLabelText(o,r,t);return new Qe(o,text,e,r,t)},shouldRenderNote:function(e){var t=this.totalRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)},noteSlot:function(e){var t=this.options,n=e-Math.floor(t.min||0);return this.getSlot(n)},arrangeNotes:function(){et.fn.arrangeNotes.call(this),this.hideOutOfRangeNotes()},hideOutOfRangeNotes:function(){var e=this.notes,t=this.box;if(e&&e.length)for(var n=this.options.vertical?z:P,r=t[n+1],o=t[n+2],l=0;l<e.length;l++){var c=e[l];c.box&&(o<c.box[n+1]||c.box[n+2]<r)&&c.hide()}},pan:function(e){var t=this.totalRangeIndices(!0),n=this.scaleOptions().scale,r=ke(e/n,S),o=this.totalRange(),l=t.min+r,c=t.max+r;return this.limitRange(l,c,0,o.max,r)},pointsRange:function(e,t){var n=this.options,r=n.reverse,o=n.vertical?z:P,l=this.totalRangeIndices(!0),c=this.scaleOptions(),h=c.scale,d=c.box[o+(r?2:1)],f=e[o]-d,m=t[o]-d,v=l.min+f/h,_=l.min+m/h,w=Math.min(v,_),y=Math.max(v,_);if(y-w>=.01)return{min:w,max:y}},valueRange:function(){return this.range()},totalIndex:function(e){var t=this.options;return this._categoriesMap?this._categoriesMap.get(e):function(e,t){if(e instanceof Date){for(var n=t.length,r=0;r<n;r++)if(It(t[r],e))return r;return-1}return t.indexOf(e)}(e,t.srcCategories)},currentRangeIndices:function(){var e=this.options,t=0;return V(e.min)&&(t=Math.floor(e.min)),{min:t,max:V(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1}},mapCategories:function(){if(!this._categoriesMap)for(var e=this._categoriesMap=new ae,t=this.options.srcCategories,n=0;n<t.length;n++)e.set(t[n],n)},totalCount:function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}});De(Bt,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:"#000"},labels:{zIndex:1},justified:!1,_deferLabels:!0});var Lt=3e5,Ht={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Nt=.2,Ot="auto",Vt=[tt,it,nt,ot,st,at,lt,ct],Wt="fit";function Ut(e){var t=e._range;return t||((t=e._range=Ee(e)).min=yt(t.min),t.max=yt(t.max)),t}var jt=l.extend({init:function(e){this.options=e},displayIndices:function(){return{min:0,max:1}},displayRange:function(){return{}},total:function(){return{}},valueRange:function(){return{}},valueIndex:function(){return-1},values:function(){return[]},totalIndex:function(){return-1},valuesCount:function(){return 0},totalCount:function(){return 0},dateAt:function(){return null}}),qt=l.extend({init:function(e,t,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var r=n.roundToBaseUnit,o=n.justified;this.start=Ct(e,0,n.baseUnit,n.weekStartDay);var l=this.roundToTotalStep(t),c=!o&&It(t,l)&&!n.justifyEnd;this.end=this.roundToTotalStep(t,!o,c?1:0);var h=n.min||e;this.valueStart=this.roundToTotalStep(h),this.displayStart=r?this.valueStart:h;var d=n.max;d?(this.valueEnd=this.roundToTotalStep(d,!1,!o&&It(d,this.roundToTotalStep(d))?-1:0),this.displayEnd=r?this.roundToTotalStep(d,!o):n.max):(this.valueEnd=l,this.displayEnd=r||c?this.end:t),this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))},displayRange:function(){return{min:this.displayStart,max:this.displayEnd}},displayIndices:function(){if(!this._indices){var e=this.options,t=e.baseUnit,n=e.baseUnitStep,r=Rt(this.displayStart,this.valueStart,t,n),o=Rt(this.displayEnd,this.valueStart,t,n);this._indices={min:r,max:o}}return this._indices},total:function(){return{min:this.start,max:this.end}},totalCount:function(){return this.totalIndex(this.end)+(this.options.justified?1:0)},valueRange:function(){return{min:this.valueStart,max:this.valueEnd}},valueIndex:function(e){var t=this.options;return Math.floor(Rt(e,this.valueStart,t.baseUnit,t.baseUnitStep))},totalIndex:function(e){var t=this.options;return Math.floor(Rt(e,this.start,t.baseUnit,t.baseUnitStep))},dateIndex:function(e){var t=this.options;return Rt(e,this.valueStart,t.baseUnit,t.baseUnitStep)},valuesCount:function(){return this.valueIndex(this.valueEnd)+1},values:function(){var e=this._values;if(!e){var t=this.options,n=this.valueRange();this._values=e=[];for(var r=n.min;r<=n.max;)e.push(r),r=Ct(r,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e},dateAt:function(e,t){var n=this.options;return Ct(t?this.start:this.valueStart,n.baseUnitStep*e,n.baseUnit,n.weekStartDay)},roundToTotalStep:function(e,t,n){var r=this.options,o=r.baseUnit,l=r.baseUnitStep,c=r.weekStartDay,h=this.start,d=Rt(e,h,o,l),f=t?Math.ceil(d):Math.floor(d);return n&&(f+=n),Ct(h,f*l,o,c)}});function Gt(e,t,n){for(var r,o,l,c=Ut(e.categories),span=(e.max||c.max)-(e.min||c.min),h=e.autoBaseUnitSteps,d=e.maxDateGroups,f=e.baseUnit===Wt,m=t?Vt.indexOf(t):0,v=f?Vt[m++]:e.baseUnit,_=span/_t[v],w=_;!o||_>=d;){r=r||h[v].slice(0);do{l=r.shift()}while(l&&t===v&&l<n);if(l)_=w/(o=l);else{if(v===be(Vt)){o=Math.ceil(w/d);break}if(!f){_>d&&(o=Math.ceil(w/d));break}v=Vt[m++]||be(Vt),w=span/_t[v],r=null}}e.baseUnitStep=o,e.baseUnit=v}function $t(e){var t=(e.baseUnit||"").toLowerCase();return t!==Wt&&!le(t,Vt)&&function(e){for(var t,n,r=e.categories,o=pe(r)?r.length:0,l=E,c=0;c<o;c++){var h=r[c];if(h&&t){var d=bt(h,t);d>0&&(n=(l=Math.min(l,d))>=vt?ct:l>=mt-3*ft?lt:l>=gt?at:l>=ft?st:l>=pt?ot:l>=ut?nt:it)}t=h}e.baseUnit=n||st}(e),t!==Wt&&e.baseUnitStep!==Ot||Gt(e),e}var Yt=Bt.extend({clone:function(){var t=new Yt(e.extend({},this.options),this.chartService);return t.createLabels(),t},categoriesHash:function(){var e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e},initUserOptions:function(e){return e},initFields:function(){Bt.fn.initFields.call(this);var t=this.chartService,n=t.intl,r=this.options,o=r.categories||[];if(o._parsed||((o=zt(n,o))._parsed=!0),r=_({roundToBaseUnit:!0},r,{categories:o,min:Pt(n,r.min),max:Pt(n,r.max)}),t.panning&&t.isPannable(r.vertical?z:P)&&(r.roundToBaseUnit=!1),r.userSetBaseUnit=r.userSetBaseUnit||r.baseUnit,r.userSetBaseUnitStep=r.userSetBaseUnitStep||r.baseUnitStep,this.options=r,r.srcCategories=o,o.length>0){var l=Ut(o),c=r.maxDivisions;if(this.dataRange=new qt(l.min,l.max,$t(r)),c){var h=this.dataRange.displayRange(),d=e.extend({},r,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:h.min,max:h.max,maxDateGroups:c}),f=this.dataRange.options;Gt(d,f.baseUnit,f.baseUnitStep),this.divisionRange=new qt(l.min,l.max,d)}else this.divisionRange=this.dataRange}else r.baseUnit=r.baseUnit||st,this.dataRange=this.divisionRange=new jt(r)},tickIndices:function(e){var t=this.dataRange,n=this.divisionRange,r=n.valuesCount();if(!this.options.maxDivisions||!r)return Bt.fn.tickIndices.call(this,e);var o=[],l=n.values(),c=0;this.options.justified||(l=l.concat(n.dateAt(r)),c=.5);for(var h=0;h<l.length;h++)if(o.push(t.dateIndex(l[h])+c),1!==e&&h>=1){var d=o.length-1;o.splice(h,0,o[d-1]+(o[d]-o[d-1])*e)}return o},shouldRenderNote:function(e){var t=this.range(),n=this.options.categories||[];return Dt(e,t.min)>=0&&Dt(e,t.max)<=0&&n.length},parseNoteValue:function(e){return Pt(this.chartService.intl,e)},noteSlot:function(e){return this.getSlot(e)},translateRange:function(e){var t=this.options,n=t.baseUnit,r=t.weekStartDay,o=t.vertical,l=this.lineBox(),c=o?l.height():l.width(),h=this.range(),d=c/(h.max-h.min),f=ke(e/d,S);if(h.min&&h.max){var m=wt(t.min||h.min,f),v=wt(t.max||h.max,f);h={min:Ct(m,0,n,r),max:Ct(v,0,n,r)}}return h},scaleRange:function(e){var t=Math.abs(e),n=this.range(),r=n.min,o=n.max;if(r&&o){for(;t--;){var l=Et(r,o),c=Math.round(.1*l);e<0?(r=wt(r,c),o=wt(o,-c)):(r=wt(r,-c),o=wt(o,c))}n={min:r,max:o}}return n},labelsRange:function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},pan:function(e){if(this.isEmpty())return null;var t=this.options,n=this.lineBox(),r=t.vertical?n.height():n.width(),o=this.dataRange.displayRange(),l=o.min,c=o.max,h=this.dataRange.total(),d=ke(e/(r/(c-l)),S)*(t.reverse?-1:1),f=wt(l,d),m=wt(c,d),v=this.limitRange(At(f),At(m),At(h.min),At(h.max),d);return v?(v.min=yt(v.min),v.max=yt(v.max),v.baseUnit=t.baseUnit,v.baseUnitStep=t.baseUnitStep||1,v.userSetBaseUnit=t.userSetBaseUnit,v.userSetBaseUnitStep=t.userSetBaseUnitStep,v):void 0},pointsRange:function(e,t){if(this.isEmpty())return null;var n=Bt.fn.pointsRange.call(this,e,t),r=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),l=Et(r.max,r.min)/(o.max-o.min),c=this.options;return{min:wt(r.min,n.min*l),max:wt(r.min,n.max*l),baseUnit:c.userSetBaseUnit||c.baseUnit,baseUnitStep:c.userSetBaseUnitStep||c.baseUnitStep}},zoomRange:function(e){if(this.isEmpty())return null;var t=this.options,n=t.userSetBaseUnit===Wt,r=this.dataRange.total(),o=this.dataRange.displayRange(),l=o.min,c=o.max,h=this.dataRange.options,d=h.weekStartDay,f=h.baseUnit,m=h.baseUnitStep,v=Ct(l,e*m,f,d),_=Ct(c,-e*m,f,d);if(n){var w,y,x=t.autoBaseUnitSteps,k=t.maxDateGroups,C=be(x[f])*k*_t[f],S=Et(c,l),T=Et(_,v),D=Vt.indexOf(f);if(T<_t[f]&&f!==tt)f=Vt[D-1],v=wt(l,y=(S-(k-1)*(w=be(x[f]))*_t[f])/2),_=wt(c,-y);else if(T>C&&f!==ct){var E=0;do{D++,f=Vt[D],E=0,y=2*_t[f];do{w=x[f][E],E++}while(E<x[f].length&&y*w<S)}while(f!==ct&&y*w<S);(y=(y*w-S)/2)>0&&(v=wt(l,-y),_=wt(c,y),v=wt(v,we(_,r.min,r.max)-_),_=wt(_,we(v,r.min,r.max)-v))}}return v<r.min&&(v=r.min),_>r.max&&(_=r.max),v&&_&&Et(_,v)>0?{min:v,max:_,baseUnit:t.userSetBaseUnit||t.baseUnit,baseUnitStep:t.userSetBaseUnitStep||t.baseUnitStep}:void 0},range:function(){return this.dataRange.displayRange()},createAxisLabel:function(e,t){var n=this.options,r=n.dataItems&&!n.maxDivisions?n.dataItems[e]:null,o=this.divisionRange.dateAt(e),l=t.dateFormats[this.divisionRange.options.baseUnit];t.format=t.format||l;var text=this.axisLabelText(o,r,t);if(text)return new Qe(o,text,e,r,t)},categoryIndex:function(e){return this.dataRange.valueIndex(e)},slot:function(e,t,n){var r=this.dataRange,o=e,l=t;o instanceof Date&&(o=r.dateIndex(o)),l instanceof Date&&(l=r.dateIndex(l));var slot=this.getSlot(o,l,n);if(slot)return slot.toRect()},getSlot:function(a,b,e){var t=a,n=b;return"object"==typeof t&&(t=this.categoryIndex(t)),"object"==typeof n&&(n=this.categoryIndex(n)),Bt.fn.getSlot.call(this,t,n,e)},valueRange:function(){var e=Ut(this.options.srcCategories);return{min:yt(e.min),max:yt(e.max)}},categoryAt:function(e,t){return this.dataRange.dateAt(e,t)},categoriesCount:function(){return this.dataRange.valuesCount()},rangeIndices:function(){return this.dataRange.displayIndices()},labelsBetweenTicks:function(){return!this.divisionRange.options.justified},prepareUserOptions:function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},getCategory:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)},totalIndex:function(e){return this.dataRange.totalIndex(e)},currentRangeIndices:function(){var e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}},totalRange:function(){return this.dataRange.total()},totalCount:function(){return this.dataRange.totalCount()},isEmpty:function(){return!this.options.srcCategories.length},roundedRange:function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var t=this.options,n=Ut(t.srcCategories);return new qt(n.min,n.max,e.extend({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified})).displayRange()}});function Kt(e,t){return ke(Math.floor(e/t)*t,S)}function Qt(e,t){return ke(Math.ceil(e/t)*t,S)}function Xt(e){return Math.max(Math.min(e,Lt),-Lt)}De(Yt,{type:"date",labels:{dateFormats:Ht},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var Jt=Math.pow(10,1-S),Zt=et.extend({init:function(t,n,r,o){et.fn.init.call(this,e.extend({},r,{seriesMin:t,seriesMax:n}),o)},initUserOptions:function(e){var t=function(e,t,n){var r=n.narrowRange,o=function(e,t,n){if(!e&&!t)return 0;var r;if(e>=0&&t>=0){var o=e===t?0:e;if(!1===n||!n&&(t-o)/t>Nt)return 0;r=Math.max(0,o-(t-o)/2)}else r=e;return r}(e,t,r),l=function(e,t,n){if(!e&&!t)return 1;var r;if(e<=0&&t<=0){var o=e===t?0:t,l=Math.abs((o-e)/o);if(!1===n||!n&&l>Nt)return 0;r=Math.min(0,o-(e-o)/2)}else r=t;return r}(e,t,r),c=Ae(o,l),h={majorUnit:c};return!1!==n.roundToMajorUnit&&(o<0&&ei(o,c,1/3)&&(o-=c),l>0&&ei(l,c,1/3)&&(l+=c)),h.min=Kt(o,c),h.max=Qt(l,c),h}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function(e,t){return{min:pe(t.min)?Math.min(e.min,t.min):e.min,max:pe(t.max)?Math.max(e.max,t.max):e.max,majorUnit:e.majorUnit}}(t,e),function(e,t){var n,r,o=t;if(t){!function(e,t){for(var n=0;n<t.length;n++){var r=t[n];null===e[r]&&(e[r]=void 0)}}(t,["min","max"]),n=pe(t.min),r=pe(t.max);var l=n||r;l&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(e.min=Kt(e.min,t.majorUnit),e.max=Qt(e.max,t.majorUnit)):l&&(o=_(e,t),e.majorUnit=Ae(o.min,o.max))}e.minorUnit=(o.majorUnit||e.majorUnit)/5;var c=_(e,o);return c.min>=c.max&&(n&&!r?c.max=c.min+c.majorUnit:!n&&r&&(c.min=c.max-c.majorUnit)),c}(t,e)},initFields:function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},clone:function(){return new Zt(this.seriesMin,this.seriesMax,e.extend({},this.options),this.chartService)},startValue:function(){return 0},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){if(0===e)return 1;var t=this.options,n=t.max-t.min;return Math.floor(ke(n/e,C))+1},getTickPositions:function(e,t){var n=this.options,r=n.vertical,o=n.reverse,l=this.lineBox(),c=e*((r?l.height():l.width())/(n.max-n.min)),h=this.getDivisions(e),d=(r?-1:1)*(o?-1:1),f=[],m=l[(r?z:P)+(1===d?1:2)],v=0;t&&(v=t/e);for(var _=0;_<h;_++)_%v!=0&&f.push(ke(m,C)),m+=c*d;return f},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(a,b,e){void 0===e&&(e=!1);var t,n,r=this.options,o=r.vertical,l=r.reverse,c=o?z:P,h=this.lineBox(),d=h[c+(l?2:1)],f=(l?-1:1)*((o?h.height():h.width())/(r.max-r.min)),m=new Me(h.x1,h.y1,h.x1,h.y1),v=a,_=b;return pe(v)||(v=_||0),pe(_)||(_=v||0),e&&(v=Math.max(Math.min(v,r.max),r.min),_=Math.max(Math.min(_,r.max),r.min)),o?(t=r.max-Math.max(v,_),n=r.max-Math.min(v,_)):(t=Math.min(v,_)-r.min,n=Math.max(v,_)-r.min),m[c+1]=Xt(d+f*(l?n:t)),m[c+2]=Xt(d+f*(l?t:n)),m},getValue:function(e){var t=this.options,n=t.vertical,r=t.reverse,o=Number(t.max),l=Number(t.min),c=n?z:P,h=this.lineBox(),d=h[c+(r?2:1)],f=n?h.height():h.width(),m=(r?-1:1)*(e[c]-d),v=m*((o-l)/f);return m<0||m>f?null:ke(n?o-v:l+v,S)},translateRange:function(e){var t=this.options,n=t.vertical,r=t.reverse,o=t.max,l=t.min,c=this.lineBox(),h=n?c.height():c.width(),d=ke(e/(h/(o-l)),S);return!n&&!r||n&&r||(d=-d),{min:l+d,max:o+d,offset:d}},scaleRange:function(e){var t=this.options,n=-e*t.majorUnit;return{min:t.min-n,max:t.max+n}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n=this.options,r=ke(n.min+e*n.majorUnit,S),text=this.axisLabelText(r,null,t);return new Qe(r,text,e,null,t)},shouldRenderNote:function(e){var t=this.range();return t.min<=e&&e<=t.max},pan:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},pointsRange:function(e,t){var n=this.getValue(e),r=this.getValue(t),o=Math.min(n,r),l=Math.max(n,r);if(this.isValidRange(o,l))return{min:o,max:l}},zoomRange:function(e){var t=this.totalMin,n=this.totalMax,r=this.scaleRange(e),o=we(r.min,t,n),l=we(r.max,t,n);if(this.isValidRange(o,l))return{min:o,max:l}},isValidRange:function(e,t){return t-e>Jt}});function ei(e,t,n){var r=ke(Math.abs(e%t),S);return 0===r||r>t*(1-n)}De(Zt,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:"#000"},labels:{format:"#.####################"},zIndex:1});var ti=et.extend({init:function(e,t,n,r){var o=yt(e),l=yt(t),c=r.intl,h=n||{};h=function(e,t,n){var r,o,l=n.min||e,c=n.max||t,h=n.baseUnit||(c&&l?(r=bt(c,l),o=ot,r>=vt?o=ct:r>=mt?o=lt:r>=gt?o=at:r>=ft&&(o=st),o):ot),d=_t[h],f=St(At(l)-1,h)||yt(c),m=Tt(At(c)+1,h),v=(n.majorUnit?n.majorUnit:void 0)||Qt(Ae(f.getTime(),m.getTime()),d)/d,_=Ft(f,m,h),w=Qt(_,v)-_,head=Math.floor(w/2),y=w-head;return n.baseUnit||delete n.baseUnit,n.baseUnit=n.baseUnit||h,n.min=n.min||Ct(f,-head,h),n.max=n.max||Ct(m,y,h),n.minorUnit=n.minorUnit||v/5,n.majorUnit=v,n}(o,l,h=_(h||{},{min:Pt(c,h.min),max:Pt(c,h.max),axisCrossingValue:zt(c,h.axisCrossingValues||h.axisCrossingValue)})),et.fn.init.call(this,h,r),this.intlService=c,this.seriesMin=o,this.seriesMax=l,this.totalMin=At(St(At(o)-1,h.baseUnit)),this.totalMax=At(Tt(At(l)+1,h.baseUnit))},clone:function(){return new ti(this.seriesMin,this.seriesMax,e.extend({},this.options),this.chartService)},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Math.floor(Ft(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){for(var t=this.options,n=t.vertical,r=this.lineBox(),o=(n?-1:1)*(t.reverse?-1:1),l=r[(n?z:P)+(1===o?1:2)],c=this.getDivisions(e),h=Et(t.max,t.min),d=(n?r.height():r.width())/h,f=[l],i=1;i<c;i++){var m=l+Et(Ct(t.min,i*e,t.baseUnit),t.min)*d*o;f.push(ke(m,C))}return f},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(a,b,e){return Zt.prototype.getSlot.call(this,Pt(this.intlService,a),Pt(this.intlService,b),e)},getValue:function(e){var t=Zt.prototype.getValue.call(this,e);return null!==t?yt(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n=this.options,r=e*n.majorUnit,o=n.min;r>0&&(o=Ct(o,r,n.baseUnit));var l=t.dateFormats[n.baseUnit];t.format=t.format||l;var text=this.axisLabelText(o,null,t);return new Qe(o,text,e,null,t)},translateRange:function(e,t){var n=this.options,r=n.baseUnit,o=n.weekStartDay,l=this.lineBox(),c=n.vertical?l.height():l.width(),h=this.range(),d=c/Et(h.max,h.min),f=ke(e/d,S)*(n.reverse?-1:1),m=wt(n.min,f),v=wt(n.max,f);return t||(m=Ct(m,0,r,o),v=Ct(v,0,r,o)),{min:m,max:v,offset:f}},scaleRange:function(e){for(var t=this.options,n=t.min,r=t.max,o=Math.abs(e);o--;){var l=Et(n,r),c=Math.round(.1*l);e<0?(n=wt(n,c),r=wt(r,-c)):(n=wt(n,-c),r=wt(r,c))}return{min:n,max:r}},shouldRenderNote:function(e){var t=this.range();return Dt(e,t.min)>=0&&Dt(e,t.max)<=0},pan:function(e){var t=this.translateRange(e,!0),n=this.limitRange(At(t.min),At(t.max),this.totalMin,this.totalMax,t.offset);if(n)return{min:yt(n.min),max:yt(n.max)}},pointsRange:function(e,t){var n=this.getValue(e),r=this.getValue(t),o=Math.min(n,r),l=Math.max(n,r);return{min:yt(o),max:yt(l)}},zoomRange:function(e){var t=this.scaleRange(e);return{min:yt(we(At(t.min),this.totalMin,this.totalMax)),max:yt(we(At(t.max),this.totalMin,this.totalMax))}}});De(ti,{type:"date",majorGridLines:{visible:!0,width:1,color:"#000"},labels:{dateFormats:Ht}});var ii=et.extend({init:function(e,t,n,r){var o=_({majorUnit:10,min:e,max:t},n),base=o.majorUnit,l=function(e,base){var t=ke(ri(e,base),S)%1;return e<=0?base:0!==t&&(t<.3||t>.9)?Math.pow(base,ri(e,base)+.2):Math.pow(base,Math.ceil(ri(e,base)))}(t,base),c=function(e,t,n){var base=n.majorUnit,r=e;return e<=0?r=t<=1?Math.pow(base,-2):1:n.narrowRange||(r=Math.pow(base,Math.floor(ri(e,base)))),r}(e,t,o),h=function(e,t,n,r){var o=n.min,l=n.max;return pe(n.axisCrossingValue)&&n.axisCrossingValue<=0&&ni(),pe(r.max)?r.max<=0&&ni():l=t,pe(r.min)?r.min<=0&&ni():o=e,{min:o,max:l}}(c,l,o,n);o.max=h.max,o.min=h.min,o.minorUnit=n.minorUnit||ke(base-1,S),et.fn.init.call(this,o,r),this.totalMin=pe(n.min)?Math.min(c,n.min):c,this.totalMax=pe(n.max)?Math.max(l,n.max):l,this.logMin=ke(ri(h.min,base),S),this.logMax=ke(ri(h.max,base),S),this.seriesMin=e,this.seriesMax=t,this.createLabels()},clone:function(){return new ii(this.seriesMin,this.seriesMax,e.extend({},this.options),this.chartService)},startValue:function(){return this.options.min},getSlot:function(a,b,e){var t,n,r=this.options,o=this.logMin,l=this.logMax,c=r.reverse,h=r.vertical,base=r.majorUnit,d=h?z:P,f=this.lineBox(),m=f[d+(c?2:1)],v=(c?-1:1)*((h?f.height():f.width())/(l-o)),_=new Me(f.x1,f.y1,f.x1,f.y1),w=a,y=b;return pe(w)||(w=y||1),pe(y)||(y=w||1),w<=0||y<=0?null:(e&&(w=Math.max(Math.min(w,r.max),r.min),y=Math.max(Math.min(y,r.max),r.min)),w=ri(w,base),y=ri(y,base),h?(t=l-Math.max(w,y),n=l-Math.min(w,y)):(t=Math.min(w,y)-o,n=Math.max(w,y)-o),_[d+1]=Xt(m+v*(c?n:t)),_[d+2]=Xt(m+v*(c?t:n)),_)},getValue:function(e){var t=this.options,n=this.logMin,r=this.logMax,o=t.reverse,l=t.vertical,base=t.majorUnit,c=this.lineBox(),h=l===o?1:-1,d=1===h?1:2,f=l?c.height():c.width(),m=(r-n)/f,v=l?z:P,_=c[v+d],w=h*(e[v]-_);if(w<0||w>f)return null;var y=n+w*m;return ke(Math.pow(base,y),S)},range:function(){var e=this.options;return{min:e.min,max:e.max}},scaleRange:function(e){var base=this.options.majorUnit,t=-e;return{min:Math.pow(base,this.logMin-t),max:Math.pow(base,this.logMax+t)}},translateRange:function(e){var t=this.options,n=this.logMin,r=this.logMax,o=t.reverse,l=t.vertical,base=t.majorUnit,c=this.lineBox(),h=l?c.height():c.width(),d=ke(e/(h/(r-n)),S);return!l&&!o||l&&o||(d=-d),{min:Math.pow(base,n+d),max:Math.pow(base,r+d),offset:d}},labelsCount:function(){var e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1},getMajorTickPositions:function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),{step:1,skip:0}),e},createTicks:function(e){var t=this.options,n=t.majorTicks,r=t.minorTicks,o=t.vertical,l=t.labels.mirror,c=this.lineBox(),h={vertical:o};function d(t,n){h.tickX=l?c.x2:c.x2-n.size,h.tickY=l?c.y1-n.size:c.y1,h.position=t,e.append(Je(h,n))}return n.visible&&this.traverseMajorTicksPositions(d,n),r.visible&&this.traverseMinorTicksPositions(d,r),[]},createGridLines:function(e){var t=this.options,n=t.minorGridLines,r=t.majorGridLines,o=t.vertical,l=e.lineBox(),c={lineStart:l[o?"x1":"y1"],lineEnd:l[o?"x2":"y2"],vertical:o},h=[],d=this.gridLinesVisual();function f(e,t){le(e,h)||(c.position=e,d.append(Ze(c,t)),h.push(e))}return r.visible&&this.traverseMajorTicksPositions(f,r),n.visible&&this.traverseMinorTicksPositions(f,n),d.children},traverseMajorTicksPositions:function(e,t){for(var n=this._lineOptions(),r=n.lineStart,o=n.step,l=this.logMin,c=this.logMax,h=Math.ceil(l)+t.skip;h<=c;h+=t.step)e(ke(r+o*(h-l),S),t)},traverseMinorTicksPositions:function(e,t){for(var n=this.options,r=n.min,o=n.max,l=n.minorUnit,base=n.majorUnit,c=this._lineOptions(),h=c.lineStart,d=c.step,f=this.logMin,m=this.logMax,v=Math.floor(f);v<m;v++)for(var _=this._minorIntervalOptions(v),w=t.skip;w<l;w+=t.step){var y=_.value+w*_.minorStep;if(y>o)break;y>=r&&e(ke(h+d*(ri(y,base)-f),S),t)}},createAxisLabel:function(e,t){var n=Math.ceil(this.logMin+e),r=Math.pow(this.options.majorUnit,n),text=this.axisLabelText(r,null,t);return new Qe(r,text,e,null,t)},shouldRenderNote:function(e){var t=this.range();return t.min<=e&&e<=t.max},pan:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},pointsRange:function(e,t){var n=this.getValue(e),r=this.getValue(t);return{min:Math.min(n,r),max:Math.max(n,r)}},zoomRange:function(e){var t=this.options,n=this.totalMin,r=this.totalMax,o=this.scaleRange(e),l=we(o.min,n,r),c=we(o.max,n,r),base=t.majorUnit,h=c>l&&t.min&&t.max&&ke(ri(t.max,base)-ri(t.min,base),S)<1,d=!(t.min===n&&t.max===r)&&ke(ri(c,base)-ri(l,base),S)>=1;if(h||d)return{min:l,max:c}},_minorIntervalOptions:function(e){var t=this.options,n=t.minorUnit,base=t.majorUnit,r=Math.pow(base,e);return{value:r,minorStep:(Math.pow(base,e+1)-r)/n}},_lineOptions:function(){var e=this.options,t=e.reverse,n=e.vertical,r=n?z:P,o=this.lineBox(),l=n===t?1:-1,c=1===l?1:2;return{step:l*((n?o.height():o.width())/(this.logMax-this.logMin)),lineStart:o[r+c],lineBox:o}}});function ni(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function ri(e,t){return Math.log(e)/Math.log(t)}De(ii,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:"#000"},zIndex:1,_deferLabels:!0});var oi={createGridLines:function(e){var t,n,r=this.options,o=Math.abs(this.box.center().y-e.lineBox().y1),l=[],c=!1;return r.majorGridLines.visible&&(t=this.majorGridLineAngles(e),c=!0,l=this.renderMajorGridLines(t,o,r.majorGridLines)),r.minorGridLines.visible&&(n=this.minorGridLineAngles(e,c),de(l,this.renderMinorGridLines(n,o,r.minorGridLines,e,c))),l},renderMajorGridLines:function(e,t,n){return this.renderGridLines(e,t,n)},renderMinorGridLines:function(e,t,n,r,o){var l=this.radiusCallback&&this.radiusCallback(t,r,o);return this.renderGridLines(e,t,n,l)},renderGridLines:function(e,t,n,o){for(var style={stroke:{width:n.width,color:n.color,dashType:n.dashType}},l=this.box.center(),circle=new d([l.x,l.y],t),c=this.gridLinesVisual(),i=0;i<e.length;i++){var line=new r(style);o&&(circle.radius=o(e[i])),line.moveTo(circle.center).lineTo(circle.pointAt(e[i]+180)),c.append(line)}return c.children},gridLineAngles:function(e,t,n,r,o){var l=this,c=this.intervals(t,n,r,o),h=e.options,d=h.visible&&!1!==(h.line||{}).visible;return map(c,(function(e){var t=l.intervalAngle(e);if(!d||90!==t)return t}))}},si=Bt.extend({range:function(){return{min:0,max:this.options.categories.length}},reflow:function(e){this.box=e,this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){for(var e=this.labels,t=this.options.labels,n=t.skip||0,r=t.step||1,o=new Me,i=0;i<e.length;i++){e[i].reflow(o);var l=e[i].box;e[i].reflow(this.getSlot(n+i*r).adjacentBox(0,l.width(),l.height()))}},intervals:function(e,t,n,r){void 0===r&&(r=!1);for(var o=this.options,l=o.categories.length/e||1,c=360/l,h=n||1,d=[],f=0,i=t||0;i<l;i+=h)f=o.reverse?360-i*c:i*c,f=ke(f,C)%360,r&&le(f,r)||d.push(f);return d},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(e){return(360+e+this.options.startAngle)%360},majorAngles:function(){var e=this;return map(this.majorIntervals(),(function(t){return e.intervalAngle(t)}))},createLine:function(){return[]},majorGridLineAngles:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)},minorGridLineAngles:function(e,t){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,l=t?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(e,.5,r.skip,r.step,l)},radiusCallback:function(e,t,n){if("arc"!==t.options.type){var r=xe(360/(2*this.options.categories.length)),o=Math.cos(r)*e,l=this.majorAngles();return function(t){return!n&&le(t,l)?e:o}}},createPlotBands:function(){for(var e=this.options.plotBands||[],t=this._plotbandGroup=new o({zIndex:-1}),i=0;i<e.length;i++){var n=e[i],slot=this.plotBandSlot(n),r=this.getSlot(n.from),head=n.from-Math.floor(n.from);slot.startAngle+=head*r.angle;var l=Math.ceil(n.to)-n.to;slot.angle-=(l+head)*r.angle;var c=Be.current.createRing(slot,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}});t.append(c)}this.appendVisual(t)},plotBandSlot:function(e){return this.getSlot(e.from,e.to-1)},getSlot:function(e,t){var n=this.options,r=n.justified,o=this.box,l=this.majorAngles(),c=l.length,h=360/c,d=e;n.reverse&&!r&&(d=(d+1)%c);var f=l[d=we(Math.floor(d),0,c-1)];r&&(f-=h/2)<0&&(f+=360);var m=h*(we(Math.ceil(t||d),d,c-1)-d+1);return new Fe(o.center(),0,o.height()/2,f,m)},slot:function(e,t){var slot=this.getSlot(e,t),n=slot.startAngle+180,r=n+slot.angle;return new c.Arc([slot.center.x,slot.center.y],{startAngle:n,endAngle:r,radiusX:slot.radius,radiusY:slot.radius})},pointCategoryIndex:function(e){for(var t=this.options.categories.length,n=null,i=0;i<t;i++)if(this.getSlot(i).containsPoint(e)){n=i;break}return n}});De(si,{startAngle:90,labels:{margin:Y(10)},majorGridLines:{visible:!0},justified:!0}),_(si.prototype,oi);var ai=et.extend({init:function(e,t){et.fn.init.call(this,e,t);var n=this.options;n.minorUnit=n.minorUnit||n.majorUnit/2},getDivisions:function(e){return Zt.prototype.getDivisions.call(this,e)-1},reflow:function(e){this.box=e,this.reflowLabels()},reflowLabels:function(){for(var e=this.options,t=this.labels,n=this.options.labels,r=n.skip||0,o=n.step||1,l=new Me,c=this.intervals(e.majorUnit,r,o),i=0;i<t.length;i++){t[i].reflow(l);var h=t[i].box;t[i].reflow(this.getSlot(c[i]).adjacentBox(0,h.width(),h.height()))}},lineBox:function(){return this.box},intervals:function(e,t,n,r){void 0===r&&(r=!1);for(var o=this.options.min,l=this.getDivisions(e),c=[],h=n||1,i=t||0;i<l;i+=h){var d=(360+o+i*e)%360;r&&le(d,r)||c.push(d)}return c},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(i){return(540-i-this.options.startAngle)%360},createLine:function(){return[]},majorGridLineAngles:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)},minorGridLineAngles:function(e,t){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,l=t?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(e,n.minorUnit,r.skip,r.step,l)},plotBandSlot:function(e){return this.getSlot(e.from,e.to)},getSlot:function(a,b){var e=this.options,t=this.box,n=e.startAngle,r=we(a,e.min,e.max),o=we(b||r,r,e.max);if(e.reverse&&(r*=-1,o*=-1),(o=(540-o-n)%360)<(r=(540-r-n)%360)){var l=r;r=o,o=l}return new Fe(t.center(),0,t.height()/2,r,o-r)},slot:function(e,t){void 0===t&&(t=e);var n,r,o=this.options,l=360-o.startAngle,slot=this.getSlot(e,t),h=Math.min(e,t),d=Math.max(e,t);return o.reverse?(n=h,r=d):(n=360-d,r=360-h),n=(n+l)%360,r=(r+l)%360,new c.Arc([slot.center.x,slot.center.y],{startAngle:n,endAngle:r,radiusX:slot.radius,radiusY:slot.radius})},getValue:function(e){var t=this.options,n=this.box.center(),r=e.x-n.x,o=e.y-n.y,l=Math.round(fe(Math.atan2(o,r))),c=t.startAngle;return t.reverse||(l*=-1,c*=-1),(l+c+360)%360},valueRange:function(){return{min:0,max:2*Math.PI}}});De(ai,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:Y(10)},majorGridLines:{color:"#000",visible:!0,width:1},minorGridLines:{color:"#aaa"}}),_(ai.prototype,oi,{createPlotBands:si.prototype.createPlotBands,majorAngles:si.prototype.majorAngles,range:Zt.prototype.range,labelsCount:Zt.prototype.labelsCount,createAxisLabel:Zt.prototype.createAxisLabel});var ci={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var e=this.options,t=e.majorGridLines.type,n=e.plotBands;void 0===n&&(n=[]);for(var l=this.plotArea.polarAxis,c=l.majorAngles(),h=l.box.center(),d=this._plotbandGroup=new o({zIndex:-1}),i=0;i<n.length;i++){var f=n[i],m={fill:{color:f.color,opacity:f.opacity},stroke:{opacity:f.opacity}},slot=this.getSlot(f.from,f.to,!0),v=new Fe(h,h.y-slot.y2,h.y-slot.y1,0,360),_=void 0;_="arc"===t?Be.current.createRing(v,m):r.fromPoints(this.plotBandPoints(v,c),m).close(),d.append(_)}this.appendVisual(d)},plotBandPoints:function(e,t){for(var n=[],r=[],o=[e.center.x,e.center.y],l=new d(o,e.innerRadius),c=new d(o,e.radius),i=0;i<t.length;i++)n.push(l.pointAt(t[i]+180)),r.push(c.pointAt(t[i]+180));return n.reverse(),n.push(n[0]),r.push(r[0]),r.concat(n)},createGridLines:function(e){var t=this.options,n=this.radarMajorGridLinePositions(),r=e.majorAngles(),o=e.box.center(),l=[];if(t.majorGridLines.visible&&(l=this.renderGridLines(o,n,r,t.majorGridLines)),t.minorGridLines.visible){var c=this.radarMinorGridLinePositions();de(l,this.renderGridLines(o,c,r,t.minorGridLines))}return l},renderGridLines:function(e,n,o,l){var style={stroke:{width:l.width,color:l.color,dashType:l.dashType}},c=l.skip;void 0===c&&(c=0);var h=l.step;void 0===h&&(h=0);for(var f=this.gridLinesVisual(),m=c;m<n.length;m+=h){var v=e.y-n[m];if(v>0){var circle=new d([e.x,e.y],v);if("arc"===l.type)f.append(new t.Circle(circle,style));else{for(var line=new r(style),_=0;_<o.length;_++)line.lineTo(circle.pointAt(o[_]+180));line.close(),f.append(line)}}}return f.children},getValue:function(e){var t=this.lineBox(),n=this.plotArea.polarAxis,r=n.majorAngles(),o=n.box.center(),l=e.distanceTo(o),c=l;if("arc"!==this.options.majorGridLines.type&&r.length>1){var h=e.x-o.x,d=e.y-o.y,f=(fe(Math.atan2(d,h))+540)%360;r.sort((function(a,b){return hi(a,f)-hi(b,f)}));var m=90-hi(r[0],r[1])/2,v=180-hi(f,r[0])-m;c=l*(Math.sin(xe(v))/Math.sin(xe(m)))}return this.axisType().prototype.getValue.call(this,new Ie(t.x1,t.y2-c))}};function hi(a,b){return 180-Math.abs(Math.abs(a-b)-180)}var di=Zt.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var e=this.options,t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)},axisType:function(){return Zt}});_(di.prototype,ci);var ui=ii.extend({radarMajorGridLinePositions:function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),this.options.majorGridLines),e},radarMinorGridLinePositions:function(){var e=[];return this.traverseMinorTicksPositions((function(t){e.push(t)}),this.options.minorGridLines),e},axisType:function(){return ii}});_(ui.prototype,ci);var pi=l.extend({init:function(e){this.closed=e},process:function(e){var t=e.slice(0),n=[],r=this.closed,o=t.length;if(o>2&&(this.removeDuplicates(0,t),o=t.length),o<2||2===o&&t[0].equals(t[1]))return n;var l,c,h=t[0],d=t[1],f=t[2];for(n.push(new m(h));h.equals(t[o-1]);)r=!0,t.pop(),o--;if(2===o){var v=this.tangent(h,d,P,z);return be(n).controlOut(this.firstControlPoint(v,h,d,P,z)),n.push(new m(d,this.secondControlPoint(v,h,d,P,z))),n}if(r){h=t[o-1],d=t[0],f=t[1];var _=this.controlPoints(h,d,f);l=_[1],c=_[0]}else{var w=this.tangent(h,d,P,z);l=this.firstControlPoint(w,h,d,P,z)}for(var y=l,x=0;x<=o-3;x++)if(this.removeDuplicates(x,t),x+3<=(o=t.length)){h=t[x],d=t[x+1],f=t[x+2];var k=this.controlPoints(h,d,f);be(n).controlOut(y),y=k[1];var C=k[0];n.push(new m(d,C))}if(r){h=t[o-2],d=t[o-1],f=t[0];var S=this.controlPoints(h,d,f);be(n).controlOut(y),n.push(new m(d,S[0])),be(n).controlOut(S[1]),n.push(new m(f,c))}else{var T=this.tangent(d,f,P,z);be(n).controlOut(y),n.push(new m(f,this.secondControlPoint(T,d,f,P,z)))}return n},removeDuplicates:function(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)},invertAxis:function(e,t,n){var r=!1;if(e.x===t.x)r=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(r=!0);else{var o=this.lineFunction(e,t),l=this.calculateFunction(o,n.x);e.y<=t.y&&n.y<=l||t.y<=e.y&&n.y>=l||(r=!0)}return r},isLine:function(e,t,n){var r=this.lineFunction(e,t),o=this.calculateFunction(r,n.x);return e.x===t.x&&t.x===n.x||ke(o,1)===ke(n.y,1)},lineFunction:function(e,t){var a=(t.y-e.y)/(t.x-e.x);return[e.y-a*e.x,a]},controlPoints:function(e,t,n){var r,o=P,l=z,c=!1,h=!1;if(this.isLine(e,t,n))r=this.tangent(e,t,P,z);else{var d={x:this.isMonotonicByField(e,t,n,P),y:this.isMonotonicByField(e,t,n,z)};d.x&&d.y?(r=this.tangent(e,n,P,z),c=!0):(this.invertAxis(e,t,n)&&(o=z,l=P),d[o]?r=0:(r=.01*(n[l]<e[l]&&e[l]<=t[l]||e[l]<n[l]&&t[l]<=e[l]?fi((n[l]-e[l])*(t[o]-e[o])):-fi((n[o]-e[o])*(t[l]-e[l]))),h=!0))}var f=this.secondControlPoint(r,e,t,o,l);if(h){var m=o;o=l,l=m}var v=this.firstControlPoint(r,t,n,o,l);return c&&(this.restrictControlPoint(e,t,f,r),this.restrictControlPoint(t,n,v,r)),[f,v]},restrictControlPoint:function(e,t,n,r){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/r,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/r,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/r,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/r,n.y=e.y)},tangent:function(e,t,n,r){var o=t[n]-e[n],l=t[r]-e[r];return 0===o?0:l/o},isMonotonicByField:function(e,t,n,r){return n[r]>t[r]&&t[r]>e[r]||n[r]<t[r]&&t[r]<e[r]},firstControlPoint:function(e,t,n,r,o){var l=t[r],c=.333*(n[r]-l);return this.point(l+c,t[o]+c*e,r,o)},secondControlPoint:function(e,t,n,r,o){var l=t[r],c=n[r],h=.333*(c-l);return this.point(c-h,n[o]-h*e,r,o)},point:function(e,t,n,r){var o=new c.Point;return o[n]=e,o[r]=t,o},calculateFunction:function(e,t){for(var n=e.length,r=0,i=0;i<n;i++)r+=Math.pow(t,i)*e[i];return r}});function fi(e){return e<=0?-1:1}v.Gradients=Oe,kendo.deepExtend(kendo.dataviz,{constants:B,services:re,autoMajorUnit:Ae,Point:Ie,Box:Me,Ring:Fe,Sector:ze,ShapeBuilder:Be,ShapeElement:Ne,ChartElement:Le,BoxElement:He,RootElement:We,FloatElement:Ue,Text:qe,TextBox:Ye,Title:Ke,AxisLabel:Qe,Axis:et,Note:Xe,CategoryAxis:Bt,DateCategoryAxis:Yt,DateValueAxis:ti,NumericAxis:Zt,LogarithmicAxis:ii,PolarAxis:ai,RadarCategoryAxis:si,RadarNumericAxis:di,RadarLogarithmicAxis:ui,CurveProcessor:pi,rectToBox:Ge,addClass:function(element,e){for(var t=L(e)?e:[e],n=0;n<t.length;n++){var r=t[n];-1===element.className.indexOf(r)&&(element.className+=" "+r)}},removeClass:function(element,e){element&&element.className&&(element.className=element.className.replace(e,"").replace(H," "))},alignPathToPixel:N,clockwise:O,convertableToNumber:function(e){return V(e)||W(e)&&isFinite(e)},deepExtend:_,elementStyles:function(element,e){var t=W(e)?[e]:e;if(L(t)){for(var n={},style=window.getComputedStyle(element),r=0;r<t.length;r++){var o=t[r];n[o]=$(o)?parseFloat(style[o]):style[o]}return n}if(U(e))for(var l in e)element.style[l]=j(e[l])},getSpacing:Y,getTemplate:oe,getter:y,grep:se,hasClasses:function(element,e){if(element.className)for(var t=e.split(" "),n=0;n<t.length;n++)if(-1!==element.className.indexOf(t[n]))return!0},HashMap:ae,inArray:le,interpolateValue:function(e,t,progress){return kendo.drawing.util.round(e+(t-e)*progress,C)},InstanceObserver:ce,isArray:L,isFunction:w,isNumber:V,isObject:U,isString:W,map:map,mousewheelDelta:function(e){var t=0;return e.wheelDelta&&(t=(t=-e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t)),e.detail&&(t=kendo.drawing.util.round(e.detail/3)),t},FontLoader:Te,setDefaultOptions:De,sparseArrayLimits:Ee,styleValue:j,append:de,bindEvents:ue,Class:l,defined:pe,deg:fe,elementOffset:ge,elementSize:me,eventElement:ve,eventCoordinates:_e,last:be,limitValue:we,logToConsole:kendo.logToConsole,objectKey:ye,rad:xe,round:ke,unbindEvents:Ce,valueOrDefault:Se,absoluteDateDiff:bt,addDuration:Ct,addTicks:wt,ceilDate:Tt,dateComparer:Dt,dateDiff:Et,dateEquals:It,dateIndex:Rt,duration:Ft,floorDate:St,lteDateIndex:function(e,t){for(var n,r=0,o=t.length-1;r<=o;){var l=t[n=Math.floor((r+o)/2)];if(l<e)r=n+1;else{if(!(l>e)){for(;It(t[n-1],e);)n--;return n}o=n-1}}return t[n]<=e?n:n-1},startOfWeek:xt,toDate:yt,parseDate:Pt,parseDates:zt,toTime:At})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(916)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},857:function(e,t){e.exports=n(17)},916:function(e,t,n){var r,o,l;n(3),o=[n(857)],void 0===(l="function"==typeof(r=function(){!function(){window.kendo.dataviz=window.kendo.dataviz||{};var e="Arial, Helvetica, sans-serif",t="12px "+e,n="16px "+e,r=function(){return{icon:{border:{width:1}},label:{font:t,padding:3},line:{length:10,width:2},visible:!0}},o=function(e){return{visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:e.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:"transparent"},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:r(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}};kendo.deepExtend(kendo.dataviz,{chartBaseTheme:function(e){return void 0===e&&(e={}),{axisDefaults:{labels:{font:t},notes:r(),title:{font:n,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:o(e),title:{font:n},legend:{labels:{font:t}}}}})}()})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(861)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},857:function(e,t){e.exports=n(17)},859:function(e,t){e.exports=n(7)},861:function(e,t,n){var r,o,l;n(3),o=[n(862),n(863),n(859),n(857)],void 0===(l="function"==typeof(r=function(){!function(e){window.kendo.dataviz=window.kendo.dataviz||{};var t=kendo.dataviz,n=t.Class,r=t.isNumber,o=t.constants,l=o.MAX_VALUE,c=o.MIN_VALUE,h=o.VALUE,d=o.CENTER,f=o.TOP,m=o.BOTTOM,v=o.LEFT,_=o.WHITE,w=o.CIRCLE,y=o.X,x=o.Y,k=o.RIGHT,C=o.BLACK,S=o.DATE,T=o.DEFAULT_PRECISION,D=o.ARC,E=t.defined,A=t.getter,I=t.isArray,M=t.ChartElement,R=t.Point,F=t.Box,P=t.alignPathToPixel,z=t.setDefaultOptions,B=t.inArray,L=t.isFunction,H=t.valueOrDefault,N=t.isObject,O=t.deepExtend,V=t.last,W=t.eventElement,U=t.getTemplate,j=t.TextBox,G=t.ShapeElement,$=t.getSpacing,Y=t.CurveProcessor,K=t.append,Q=t.isString,X=t.parseDate,J=t.styleValue,Z=t.CategoryAxis,ee=t.BoxElement,te=t.round,ie=t.limitValue,ne=t.grep,re=t.elementStyles,oe=t.hasClasses,se=t.bindEvents,ae=t.services,le=t.unbindEvents,ce=kendo.support,he=kendo.drawing,de=he.Path,ue=he.Animation,pe=he.AnimationFactory,fe=he.Group,ge=kendo.Color,me=kendo.geometry,ve=me.Point,_e=me.transform,be=n.extend({init:function(e){this._axis=e,this.options=e.options},value:function(e){var t=this._axis;return t.getCategory?t.getCategory(e):t.getValue(e)},slot:function(e,t,n){return void 0===n&&(n=!0),this._axis.slot(e,t,n)},range:function(){return this._axis.range()},valueRange:function(){return this._axis.valueRange()}});function we(e,t){for(var n=0;n<t.length;n++)if(t[n].options.name===e)return t[n].prepareUserOptions(),new be(t[n])}var ye=kendo.Class.extend({init:function(e){this.visual=e.visual,this.chartsVisual=e.chartContainer.visual,this._pane=e},findAxisByName:function(e){return we(e,this._pane.axes)}}),xe=n.extend({init:function(e){this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}});function ke(e){for(var t=e.length,n=0,i=0;i<t;i++){var o=e[i];r(o)&&n++}return n}var Ce={min:function(e){for(var t=e.length,n=l,i=0;i<t;i++){var o=e[i];r(o)&&(n=Math.min(n,o))}return n===l?e[0]:n},max:function(e){for(var t=e.length,n=c,i=0;i<t;i++){var o=e[i];r(o)&&(n=Math.max(n,o))}return n===c?e[0]:n},sum:function(e){for(var t=e.length,n=0,i=0;i<t;i++){var o=e[i];r(o)&&(n+=o)}return n},sumOrNull:function(e){var t=null;return ke(e)&&(t=Ce.sum(e)),t},count:function(e){for(var t=e.length,n=0,i=0;i<t;i++){var r=e[i];null!==r&&E(r)&&n++}return n},avg:function(e){var t=ke(e),n=e[0];return t>0&&(n=Ce.sum(e)/t),n},first:function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];if(null!==n&&E(n))return n}return e[0]}};function Se(e,t){return null===t?t:A(e,!0)(t)}var Te=n.extend({init:function(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},register:function(e,t,n){void 0===t&&(t=[h]),void 0===n&&(n={});for(var i=0;i<e.length;i++){var r=e[i];this._valueFields[r]=t,this._otherFields[r]=n,this._nullValue[r]=this._makeValue(t,null),this._undefinedValue[r]=this._makeValue(t,void 0)}},canonicalFields:function(e){return this.valueFields(e).concat(this.otherFields(e))},valueFields:function(e){return this._valueFields[e.type]||[h]},otherFields:function(e){return this._otherFields[e.type]||[h]},bindPoint:function(e,t,n){var r,o,data=e.data,l=E(n)?n:data[t],c={valueFields:{value:l}},h=this.valueFields(e),d=this._otherFields[e.type];if(null===l)o=this._nullValue[e.type];else if(E(l)){if(Array.isArray(l)){var f=l.slice(h.length);o=this._bindFromArray(l,h),r=this._bindFromArray(f,d)}else if("object"==typeof l){var m=this.sourceFields(e,h),v=this.sourceFields(e,d);o=this._bindFromObject(l,h,m),r=this._bindFromObject(l,d,v)}}else o=this._undefinedValue[e.type];return E(o)&&(1===h.length?c.valueFields.value=o[h[0]]:c.valueFields=o),c.fields=r||{},c},_makeValue:function(e,t){for(var n={},r=e.length,i=0;i<r;i++)n[e[i]]=t;return n},_bindFromArray:function(e,t){var n={};if(t)for(var r=Math.min(t.length,e.length),i=0;i<r;i++)n[t[i]]=e[i];return n},_bindFromObject:function(object,e,t){void 0===t&&(t=e);var n={};if(e)for(var r=e.length,i=0;i<r;i++){var o=e[i],l=t[i];null!==l&&(n[o]=Se(l,object))}return n},sourceFields:function(e,t){var n=[];if(t)for(var r=t.length,i=0;i<r;i++){var o=t[i],l=o===h?"field":o+"Field";n.push(null!==e[l]?e[l]||o:null)}return n}});Te.current=new Te;var De=/percent(?:\w*)\((\d+)\)/,Ee=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Ae=n.extend({init:function(e,t,n){this.initGlobalRanges(e,t,n)},initGlobalRanges:function(e,t,n){var data=t.data,r=Ee.exec(e);if(r){this.valueGetter=this.createValueGetter(t,n);var o=this.getAverage(data),l=this.getStandardDeviation(data,o,!1),c=r[1]?parseFloat(r[1]):1,h={low:o.value-l*c,high:o.value+l*c};this.globalRange=function(){return h}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,n);var d=this.getStandardError(data,this.getAverage(data));this.globalRange=function(e){return{low:e-d,high:e+d}}}},createValueGetter:function(e,t){var n,data=e.data,l=Te.current,c=l.valueFields(e),h=E(data[0])?data[0]:{};if(I(h)){var d=t?c.indexOf(t):0;n=A("["+d+"]")}else if(r(h))n=A();else if(typeof h===o.OBJECT){var f=l.sourceFields(e,c);n=A(f[c.indexOf(t)])}return n},getErrorRange:function(e,t){var n,o,l;if(!E(t))return null;if(this.globalRange)return this.globalRange(e);if(I(t))n=e-t[0],o=e+t[1];else if(r(l=parseFloat(t)))n=e-l,o=e+l;else{if(!(l=De.exec(t)))throw new Error("Invalid ErrorBar value: "+t);var c=e*(parseFloat(l[1])/100);n=e-Math.abs(c),o=e+Math.abs(c)}return{low:n,high:o}},getStandardError:function(data,e){return this.getStandardDeviation(data,e,!0)/Math.sqrt(e.count)},getStandardDeviation:function(data,e,t){for(var n=data.length,o=t?e.count-1:e.count,l=0,c=0;c<n;c++){var h=this.valueGetter(data[c]);r(h)&&(l+=Math.pow(h-e.value,2))}return Math.sqrt(l/o)},getAverage:function(data){for(var e=data.length,t=0,n=0,o=0;o<e;o++){var l=this.valueGetter(data[o]);r(l)&&(t+=l,n++)}return{value:t/n,count:n}}}),Ie=ce.browser||{},Me="fadeIn",Re=Ie.msie?.001:0,Fe="zero",Pe="interpolate",ze="bar",Be="column",Le="line",He="pie",Ne="verticalLine",Oe=[ze,Be,"ohlc","candlestick","boxPlot","verticalBoxPlot","bullet","rangeColumn","rangeBar","waterfall","horizontalWaterfall"],Ve="category",We="DOMMouseScroll mousewheel",Ue={INITIAL_ANIMATION_DURATION:600,FADEIN:Me,LEGEND_ITEM_CLICK:"legendItemClick",LEGEND_ITEM_HOVER:"legendItemHover",LEGEND_ITEM_LEAVE:"legendItemLeave",SERIES_CLICK:"seriesClick",SERIES_HOVER:"seriesHover",SERIES_OVER:"seriesOver",SERIES_LEAVE:"seriesLeave",GLASS:"glass",BORDER_BRIGHTNESS:.8,TOOLTIP_OFFSET:5,START_SCALE:Re,ERROR_LOW_FIELD:"errorLow",ERROR_HIGH_FIELD:"errorHigh",X_ERROR_LOW_FIELD:"xErrorLow",X_ERROR_HIGH_FIELD:"xErrorHigh",Y_ERROR_LOW_FIELD:"yErrorLow",Y_ERROR_HIGH_FIELD:"yErrorHigh",LINE_MARKER_SIZE:8,INTERPOLATE:Pe,ZERO:Fe,SMOOTH:"smooth",STEP:"step",CATEGORY:Ve,FUNNEL:"funnel",BAR:ze,CANDLESTICK:"candlestick",PIE:He,COLUMN:Be,AREA:"area",VERTICAL_BULLET:"verticalBullet",BOX_PLOT:"boxPlot",OHLC:"ohlc",WATERFALL:"waterfall",LINE:Le,BULLET:"bullet",VERTICAL_LINE:Ne,VERTICAL_AREA:"verticalArea",RANGE_AREA:"rangeArea",VERTICAL_RANGE_AREA:"verticalRangeArea",RANGE_COLUMN:"rangeColumn",VERTICAL_BOX_PLOT:"verticalBoxPlot",RANGE_BAR:"rangeBar",HORIZONTAL_WATERFALL:"horizontalWaterfall",SCATTER:"scatter",SCATTER_LINE:"scatterLine",BUBBLE:"bubble",RADAR_AREA:"radarArea",RADAR_LINE:"radarLine",RADAR_COLUMN:"radarColumn",POLAR_LINE:"polarLine",POLAR_AREA:"polarArea",POLAR_SCATTER:"polarScatter",RENDER:"render",PLOT_AREA_CLICK:"plotAreaClick",PLOT_AREA_HOVER:"plotAreaHover",PLOT_AREA_LEAVE:"plotAreaLeave",LOGARITHMIC:"log",DRAG:"drag",DRAG_START:"dragStart",DRAG_END:"dragEnd",ZOOM_START:"zoomStart",ZOOM:"zoom",ZOOM_END:"zoomEnd",SELECT_START:"selectStart",SELECT:"select",SELECT_END:"selectEnd",PANE_RENDER:"paneRender",GAP:"gap",DONUT:"donut",INSIDE_END:"insideEnd",INSIDE_BASE:"insideBase",OUTSIDE_END:"outsideEnd",MOUSEWHEEL:We,MOUSEWHEEL_DELAY:150,SHOW_TOOLTIP:"showTooltip",HIDE_TOOLTIP:"hideTooltip",EQUALLY_SPACED_SERIES:Oe,ABOVE:"above",BELOW:"below"},je=M.extend({init:function(e,t,n,r,o,l){M.fn.init.call(this,l),this.low=e,this.high=t,this.isVertical=n,this.chart=r,this.series=o},reflow:function(e){var t,n=this.options.endCaps,r=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),l=e.center(),c=this.getCapsWidth(e,r),h=r?l.x:l.y,d=h-c,f=h+c;r?(t=[new R(l.x,o.y1),new R(l.x,o.y2)],n&&t.push(new R(d,o.y1),new R(f,o.y1),new R(d,o.y2),new R(f,o.y2)),this.box=new F(d,o.y1,f,o.y2)):(t=[new R(o.x1,l.y),new R(o.x2,l.y)],n&&t.push(new R(o.x1,d),new R(o.x1,f),new R(o.x2,d),new R(o.x2,f)),this.box=new F(o.x1,d,o.x2,f)),this.linePoints=t},getCapsWidth:function(e,t){var n=t?e.width():e.height();return Math.min(Math.floor(n/2),4)||4},createVisual:function(){var e=this,t=this.options,n=t.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:function(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t}}):this.createDefaultVisual()},createDefaultVisual:function(){var e=this.options,t=this.linePoints,n={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};M.fn.createVisual.call(this);for(var r=0;r<t.length;r+=2){var line=new de(n).moveTo(t[r].x,t[r].y).lineTo(t[r+1].x,t[r+1].y);P(line),this.visual.append(line)}}});z(je,{animation:{type:Me,delay:600},endCaps:!0,line:{width:2},zIndex:1});var qe=je.extend({getAxis:function(){return this.chart.seriesValueAxis(this.series)}}),Ge=5;function $e(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var o=n.defaults=n.defaults||{},l=n.depth=n.depth||0,c=!1;if(n.excluded=n.excluded||[],l>Ge)return null;for(var h in e)if(!B(h,n.excluded)&&e.hasOwnProperty(h)){var d=e[h];L(d)?(c=!0,r||(e[h]=H(d(t),o[h]))):N(d)&&(r||(n.defaults=o[h]),n.depth++,c=$e(d,t,n,r)||c,n.depth--)}return c}function Ye(e){for(var t=e.length,n=0,i=0;i<t;i++)n=Math.max(n,e[i].data.length);return n}var Ke=M.extend({init:function(e,t){M.fn.init.call(this,t),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(t.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},pointOptions:function(e,t){var n=this.seriesOptions[t];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[t]=n=O({},r,{vertical:!this.options.invertAxes},e)}return n},plotValue:function(e){if(!e)return 0;if(this.options.isStacked100&&r(e.value)){for(var t=e.categoryIx,n=this.categoryPoints[t],o=[],l=0,i=0;i<n.length;i++){var c=n[i];if(c){var h=e.series.stack,d=c.series.stack;if(h&&d&&h.group!==d.group)continue;r(c.value)&&(l+=Math.abs(c.value),o.push(Math.abs(c.value)))}}if(l>0)return e.value/l}return e.value},plotRange:function(e,n){void 0===n&&(n=0);var r=this.categoryPoints[e.categoryIx];if(this.options.isStacked){for(var l=this.plotValue(e),c=l>=0,h=n,d=!1,i=0;i<r.length;i++){var f=r[i];if(e===f)break;var m=e.series.stack,v=f.series.stack;if(m&&v){if(typeof m===o.STRING&&m!==v)continue;if(m.group&&m.group!==v.group)continue}var _=this.plotValue(f);(_>=0&&c||_<0&&!c)&&(h+=_,l+=_,d=!0,this.options.isStacked100&&(l=Math.min(l,1)))}return d&&(h-=n),[h,l]}var w=e.series,y=this.seriesValueAxis(w),x=this.categoryAxisCrossingValue(y);return[x,t.convertableToNumber(e.value)?e.value:x]},stackLimits:function(e,t){for(var n=l,r=c,i=0;i<this.categoryPoints.length;i++){var o=this.categoryPoints[i];if(o)for(var h=0;h<o.length;h++){var d=o[h];if(d&&(d.series.stack===t||d.series.axis===e)){var f=this.plotRange(d,0)[1];E(f)&&isFinite(f)&&(r=Math.max(r,f),n=Math.min(n,f))}}}return{min:n,max:r}},updateStackRange:function(){var e=this.options,n=e.isStacked,r=e.series,o={};if(n)for(var i=0;i<r.length;i++){var h=r[i],d=h.axis,f=d+h.stack,m=o[f];if(!m){m=this.stackLimits(d,h.stack);var v=this.errorTotals;v&&(v.negative.length&&(m.min=Math.min(m.min,t.sparseArrayLimits(v.negative).min)),v.positive.length&&(m.max=Math.max(m.max,t.sparseArrayLimits(v.positive).max))),m.min!==l||m.max!==c?o[f]=m:m=null}m&&(this.valueAxisRanges[d]=m)}},addErrorBar:function(e,data,t){var n,o=e.value,l=e.series,c=e.seriesIx,d=e.options.errorBars,f=data.fields.errorLow,m=data.fields.errorHigh;r(f)&&r(m)?n={low:f,high:m}:d&&E(d.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[c]=this.seriesErrorRanges[c]||new Ae(d.value,l,h),n=this.seriesErrorRanges[c].getErrorRange(o,d.value)),n&&(e.low=n.low,e.high=n.high,this.addPointErrorBar(e,t))},addPointErrorBar:function(e,t){var n=!this.options.invertAxes,r=e.options.errorBars,o=e.series,l=e.low,c=e.high;if(this.options.isStacked){var h=this.stackedErrorRange(e,t);l=h.low,c=h.high}else{var d={categoryIx:t,series:o};this.updateRange({value:l},d),this.updateRange({value:c},d)}var f=new qe(l,c,n,this,o,r);e.errorBars=[f],e.append(f)},stackedErrorRange:function(e,t){var n=this.plotRange(e,0)[1]-e.value,r=e.low+n,o=e.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},r<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,r)),o>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,o)),{low:r,high:o}},addValue:function(data,t){var n=t.categoryIx,r=t.series,o=t.seriesIx,l=this.categoryPoints[n];l||(this.categoryPoints[n]=l=[]);var c=this.seriesPoints[o];c||(this.seriesPoints[o]=c=[]);var h=this.createPoint(data,t);h&&(e.extend(h,t),h.owner=this,h.noteText=data.fields.noteText,E(h.dataItem)||(h.dataItem=r.data[n]),this.addErrorBar(h,data,n)),this.points.push(h),c.push(h),l.push(h),this.updateRange(data.valueFields,t)},evalPointOptions:function(e,t,n,r,o,l){var c={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},h=this._evalSeries[l];E(h)||(this._evalSeries[l]=h=$e(e,{},c,!0));var d=e;return h&&$e(d=O({},d),{value:t,category:n,index:r,series:o,dataItem:o.data[r]},c),d},updateRange:function(data,e){var t=e.series.axis,n=data.value,r=this.valueAxisRanges[t];isFinite(n)&&null!==n&&((r=this.valueAxisRanges[t]=r||{min:l,max:c}).min=Math.min(r.min,n),r.max=Math.max(r.max,n))},seriesValueAxis:function(e){var t=this.plotArea,n=e.axis,r=n?t.namedValueAxes[n]:t.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+n);return r},reflow:function(e){var t=this,n=this.categorySlots=[],r=this.points,o=this.categoryAxis,l=0;this.traverseDataPoints((function(data,e){var c=e.categoryIx,h=e.series,d=t.seriesValueAxis(h),f=r[l++],m=n[c];if(m||(n[c]=m=t.categorySlot(o,c,d)),f){var v=t.plotRange(f,d.startValue()),_=t.valueSlot(d,v);if(_){var w=t.pointSlot(m,_);f.aboveAxis=t.aboveAxis(f,d),f.stackValue=v[1],t.options.isStacked100&&(f.percentage=t.plotValue(f)),t.reflowPoint(f,w)}else f.visible=!1}})),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e},valueSlot:function(e,t){return e.getSlot(t[0],t[1],!this.options.clip)},limitPoints:function(){for(var e=this.categoryPoints,t=e[0].concat(V(e)),n=0;n<t.length;n++)t[n]&&this.limitPoint(t[n])},limitPoint:function(e){var t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)},aboveAxis:function(e,t){var n=this.categoryAxisCrossingValue(t),r=e.value;return t.options.reverse?r<n:r>=n},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,n=e.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[t.axisIndex||0]||0},reflowPoint:function(e,t){e.reflow(t)},reflowCategories:function(){},pointSlot:function(e,t){var n=this.options.invertAxes,r=n?t:e,o=n?e:t;return new F(r.x1,o.y1,r.x2,o.y2)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){for(var t=this.options.series,n=Ye(t),r=t.length,o=0;o<r;o++)this._outOfRangeCallback(t[o],"_outOfRangeMinPoint",o,e);for(var l=0;l<n;l++)for(var c=0;c<r;c++){var h=t[c],d=this.categoryAxis.categoryAt(l);e(this._bindPoint(h,c,l),{category:d,categoryIx:l,series:h,seriesIx:c})}for(var f=0;f<r;f++)this._outOfRangeCallback(t[f],"_outOfRangeMaxPoint",f,e)},_outOfRangeCallback:function(e,t,n,r){var o=e[t];if(o){var l=o.categoryIx;r(this._bindPoint(e,n,l,o.item),{category:o.category,categoryIx:l,series:e,seriesIx:n,dataItem:o.item})}},_bindPoint:function(e,t,n,r){this._bindCache||(this._bindCache=[]);var o=this._bindCache[t];o||(o=this._bindCache[t]=[]);var data=o[n];return data||(data=o[n]=Te.current.bindPoint(e,n,r)),data},formatPointValue:function(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)},pointValue:function(data){return data.valueFields.value}});z(Ke,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var Qe={click:function(e,t){return e.trigger("seriesClick",this.eventArgs(t))},hover:function(e,t){return e.trigger("seriesHover",this.eventArgs(t))},over:function(e,t){return e.trigger("seriesOver",this.eventArgs(t))},out:function(e,t){return e.trigger("seriesLeave",this.eventArgs(t))},eventArgs:function(e){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:W(e),originalEvent:e,point:this}}},Xe={createNote:function(){var e=this.options.notes,text=this.noteText||e.label.text;!1!==e.visible&&E(text)&&null!==text&&(this.note=new t.Note({value:this.value,text:text,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},Je=M.extend({init:function(e,t){M.fn.init.call(this),this.value=e,this.options=t,this.aboveAxis=H(this.options.aboveAxis,!0),this.tooltipTracking=!0},render:function(){var e=this.options,t=e.markers,n=e.labels;if(!this._rendered){if(this._rendered=!0,t.visible&&t.size&&(this.marker=this.createMarker(),this.append(this.marker)),n.visible){var r=U(n),o=this.pointData(),l=this.value;r?l=r(o):n.format&&(l=this.formatValue(n.format)),this.label=new j(l,O({align:d,vAlign:d,margin:{left:5,right:5},zIndex:H(n.zIndex,this.series.zIndex)},n),o),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}},markerBorder:function(){var e=this.options.markers,t=e.background,n=O({color:this.color},e.border);return E(n.color)||(n.color=new ge(t).brightness(.8).toHex()),n},createVisual:function(){},createMarker:function(){var e=this.options.markers;return new G({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,zIndex:H(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})},markerBox:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflow:function(e){var t=this.options,n=this.aboveAxis,r=t.vertical;this.render(),this.box=e;var o=e.clone();if(r?n?o.y1-=o.height():o.y2+=o.height():n?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(var i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(o);if(this.note){var l=this.markerBox();if(!t.markers.visible||!t.markers.size){var c=l.center();l=new F(c.x,c.y,c.x,c.y)}this.note.reflow(l)}},reflowLabel:function(e){var t=this.options,label=this.label,n=t.labels.position;label&&(n="below"===(n="above"===n?f:n)?m:n,label.reflow(e),label.box.alignTo(this.markerBox(),n),label.reflow(label.box))},createHighlight:function(){var e=this.options.highlight.markers,t=this.markerBorder().color,n=this.options.markers,r=n.size+(n.border.width||0)+(e.border.width||0),shadow=new G({type:n.type,width:r,height:r,rotation:n.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:H(e.border.opacity,1)},opacity:H(e.opacity,1)});return shadow.reflow(this._childBox),shadow.getElement()},highlightVisual:function(){return(this.marker||{}).visual},highlightVisualArgs:function(){var e,rect,marker=this.marker;if(marker)rect=marker.paddingBox.toRect(),e=marker.visual;else{var t=this.options.markers.size,n=t/2,r=this.box.center();rect=new me.Rect([r.x-n,r.y-n],[t,t])}return{options:this.options,rect:rect,visual:e}},tooltipAnchor:function(){var e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){var n,r,o=e.x2+5,l=v;return this.aboveAxis?(n=e.y1,r=m):(n=e.y2,r=f),{point:new R(o,n),align:{horizontal:l,vertical:r}}}},formatValue:function(e){return this.owner.formatPointValue(this,e)},overlapsBox:function(e){return this.markerBox().overlaps(e)},unclipElements:function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},pointData:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}});Je.prototype.defaults={vertical:!0,markers:{visible:!0,background:_,size:8,type:w,border:{width:2},opacity:1},labels:{visible:!1,position:"above",margin:$(3),padding:$(4),animation:{type:Me,delay:600}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:o.HIGHLIGHT_ZINDEX},errorBars:{line:{width:1}}},O(Je.prototype,Qe),O(Je.prototype,Xe);var Ze=M.extend({init:function(e,t,n){M.fn.init.call(this),this.linePoints=e,this.series=t,this.seriesIx=n},points:function(){return this.toGeometryPoints(this.linePoints)},toGeometryPoints:function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&!1!==e[i].visible&&t.push(e[i]._childBox.toRect().center());return t},createVisual:function(){var e=this,t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return e.segmentVisual(),e.visual}}),this.visual&&!E(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},segmentVisual:function(){var e=this.options,t=this.series,n=t.color,r=t._defaults;L(n)&&r&&(n=r.color);var line=de.fromPoints(this.points(),{stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&line.close(),this.visual=line},aliasFor:function(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)}});z(Ze,{closed:!1});var et={calculateStepPoints:function(e){for(var t=this.parent.plotArea.seriesCategoryAxis(this.series).options,n=t.justified,r=t.vertical,o=t.reverse,l=r?y:x,c=r?x:y,h=o?2:1,d=h,f=tt(e[0],l,h,c,d),m=[f],v=1;v<e.length;v++){var _=tt(e[v],l,h,c,d);if(f[l]!==_[l]){var w=new ve;w[l]=f[l],w[c]=_[c],m.push(w,_)}f=_}return n?f!==V(m)&&m.push(f):m.push(tt(V(e),l,h,c,o?1:2)),m}};function tt(e,t,n,r,o){var l=e.box,c=new ve;return c[t]=l[t+n],c[r]=l[r+o],c}var it=Ze.extend({points:function(){return this.calculateStepPoints(this.linePoints)}});O(it.prototype,et);var nt=Ze.extend({segmentVisual:function(){var e=this.series,t=e._defaults,n=e.color;L(n)&&t&&(n=t.color);var r=new Y(this.options.closed).process(this.points()),o=new de({stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});o.segments.push.apply(o.segments,r),this.visual=o}}),ot={renderSegments:function(){var e,t=this.options,n=this.seriesPoints,r=t.series,o=n.length;this._segments=[];for(var l=0;l<o;l++){for(var c=r[l],h=this.sortPoints(n[l]),d=h.length,f=[],m=0;m<d;m++){var v=h[m];v?f.push(v):this.seriesMissingValues(c)!==Pe&&(f.length>1&&(e=this.createSegment(f,c,l,e),this._addSegment(e)),f=[])}f.length>1&&(e=this.createSegment(f,c,l,e),this._addSegment(e))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(e){this._segments.push(e),e.parent=this},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues;return!t&&this.options.isStacked?Fe:t||Pe},getNearestPoint:function(e,t,n){for(var r,o=new R(e,t),c=this.seriesPoints[n],h=l,i=0;i<c.length;i++){var d=c[i];if(d&&E(d.value)&&null!==d.value&&!1!==d.visible){var f=d.box.center().distanceTo(o);f<h&&(r=d,h=f)}}return r}},st=ue.extend({setup:function(){this._setEnd(this.options.box.x1)},step:function(e){var n=this.options.box;this._setEnd(t.interpolateValue(n.x1,n.x2,e))},_setEnd:function(e){var element=this.element,t=element.segments,n=t[1].anchor(),r=t[2].anchor();element.suspend(),n.setX(e),element.resume(),r.setX(e)}});function at(e){for(var t=0;t<e.length;t++)if(E(e[t].zIndex))return!0}z(st,{duration:600}),pe.current.register("clip",st);var lt={createAnimation:function(){var e=this.getRoot();if(e&&!1!==(e.options||{}).transitions){var t=e.size(),n=de.fromRect(t.toRect());this.visual.clip(n),this.animation=new st(n,{box:t}),at(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(e){for(var t=this.animationPoints(),n=0;n<t.length;n++){var r=t[n];r&&r.visual&&E(r.visual.options.zIndex)&&r.visual.clip(e)}}},ct=Ke.extend({render:function(){Ke.fn.render.call(this),this.updateStackRange(),this.renderSegments()},pointType:function(){return Je},createPoint:function(data,e){var t=e.categoryIx,n=e.category,r=e.series,o=e.seriesIx,l=this.seriesMissingValues(r),c=data.valueFields.value;if(!E(c)||null===c){if(l!==Fe)return null;c=0}var h=this.pointOptions(r,o);h=this.evalPointOptions(h,c,n,t,r,o);var d=data.fields.color||r.color;L(r.color)&&(d=h.color);var f=new Je(c,h);return f.color=d,this.append(f),f},plotRange:function(e){var t=this.plotValue(e);if(this.options.isStacked)for(var n=e.categoryIx,r=this.categoryPoints[n],i=0;i<r.length;i++){var o=r[i];if(e===o)break;t+=this.plotValue(o),this.options.isStacked100&&(t=Math.min(t,1))}return[t,t]},createSegment:function(e,t,n){var style=t.style;return new("step"===style?it:"smooth"===style?nt:Ze)(e,t,n)},animationPoints:function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t.concat(this._segments)}});O(ct.prototype,ot,lt);var ht=Ze.extend({init:function(e,t,n,r,o){Ze.fn.init.call(this,e,t,n),this.prevSegment=r,this.stackPoints=o},createVisual:function(){var e=this.series,t=e._defaults,n=e.line||{},r=e.color;L(r)&&t&&(r=t.color),this.visual=new fe({zIndex:e.zIndex}),this.createFill({fill:{color:r,opacity:e.opacity},stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:O({color:r,opacity:e.opacity,lineCap:"butt"},n)})},strokeSegments:function(){var e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e},createStrokeSegments:function(){return this.segmentsFromPoints(this.points())},stackSegments:function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},createStackSegments:function(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()},segmentsFromPoints:function(e){return e.map((function(e){return new me.Segment(e)}))},createStroke:function(style){var e=new de(style);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},hasStackSegment:function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},createFill:function(style){var e=this.strokeSegments(),t=e.slice(0),n=this.hasStackSegment();if(n){var r=this.stackSegments();K(t,r)}var o=new de(style);o.segments.push.apply(o.segments,t),!n&&e.length>1&&this.fillToAxes(o),this.visual.append(o)},fillToAxes:function(e){var t=this.parent,n=t.options.invertAxes,r=t.seriesValueAxis(this.series),o=t.categoryAxisCrossingValue(r),l=r.getSlot(o,o,!0),c=this.strokeSegments(),h=c[0].anchor(),d=V(c).anchor(),f=n?l.x1:l.y1;n?e.lineTo(f,d.y).lineTo(f,h.y):e.lineTo(d.x,f).lineTo(h.x,f)}}),ut=ht.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},createStackSegments:function(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()}});O(ut.prototype,et);var pt=ht.extend({createStrokeSegments:function(){var e=new Y(this.options.closed),t=this.points();return e.process(t)},createStackSegments:function(){for(var e=this.strokeSegments(),t=[],n=e.length-1;n>=0;n--){var r=e[n];t.push(new me.Segment(r.anchor(),r.controlOut(),r.controlIn()))}return t}}),ft=ct.extend({createSegment:function(e,t,n,r){var o,l,c=this.options.isStacked,style=(t.line||{}).style;return c&&n>0&&r&&("gap"!==this.seriesMissingValues(t)?(l=r.linePoints,o=r):l=this._gapStackPoints(e,n,style)),new("step"===style?ut:"smooth"===style?pt:ht)(e,t,n,o,l)},reflow:function(e){ct.fn.reflow.call(this,e);var t=this._stackPoints;if(t)for(var n=0;n<t.length;n++){var r=t[n],o=this.categoryAxis.getSlot(r.categoryIx);r.reflow(o)}},_gapStackPoints:function(e,t,style){var n=this.seriesPoints,r=e[0].categoryIx,o=e.length;r<0&&(r=0,o--);var l=r+o,c=this.seriesOptions[0]._outOfRangeMinPoint?1:0,h=[];this._stackPoints=this._stackPoints||[];for(var d=r;d<l;d++){var f=d+c,m=t,v=void 0;do{v=n[--m][f]}while(m>0&&!v);if(v)"step"!==style&&d>r&&!n[m][f-1]&&h.push(this._previousSegmentPoint(d,f,f-1,m)),h.push(v),"step"!==style&&d+1<l&&!n[m][f+1]&&h.push(this._previousSegmentPoint(d,f,f+1,m));else{var _=this._createGapStackPoint(d);this._stackPoints.push(_),h.push(_)}}return h},_previousSegmentPoint:function(e,t,n,r){for(var o,l=this.seriesPoints,c=r;c>0&&!o;)o=l[--c][n];return o?o=l[c][t]:(o=this._createGapStackPoint(e),this._stackPoints.push(o)),o},_createGapStackPoint:function(e){var t=this.pointOptions({},0),n=new Je(0,t);return n.categoryIx=e,n.series={},n},seriesMissingValues:function(e){return e.missingValues||Fe}}),gt=n.extend({init:function(){this.axisRanges={}},update:function(e){var t=this.axisRanges;for(var n in e){var r=e[n],o=t[n];t[n]=o=o||{min:l,max:c},o.min=Math.min(o.min,r.min),o.max=Math.max(o.max,r.max)}},reset:function(e){this.axisRanges[e]=void 0},query:function(e){return this.axisRanges[e]}}),mt=M.extend({init:function(content,e,t){M.fn.init.call(this,e),this.textBox=new j(content,this.options,t),this.append(this.textBox)},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(e){var t=this.options,n=t.vertical,r=t.aboveAxis,text=this.children[0],o=text.options,l=text.box,c=text.options.padding,h=e;o.align=n?d:v,o.vAlign=n?f:d,"insideEnd"===t.position?n?(o.vAlign=f,!r&&l.height()<e.height()&&(o.vAlign=m)):o.align=r?k:v:t.position===d?(o.vAlign=d,o.align=d):"insideBase"===t.position?n?o.vAlign=r?m:f:o.align=r?v:k:"outsideEnd"===t.position&&(n?h=r?new F(e.x1,e.y1-l.height(),e.x2,e.y1):new F(e.x1,e.y2,e.x2,e.y2+l.height()):(o.align=d,h=r?new F(e.x2,e.y1,e.x2+l.width(),e.y2):new F(e.x1-l.width(),e.y1,e.x1,e.y2))),t.rotation||(n?c.left=c.right=(h.width()-text.contentBox.width())/2:c.top=c.bottom=(h.height()-text.contentBox.height())/2),text.reflow(h)},alignToClipBox:function(e){var t=this.options.vertical?x:y,n=t+"1",r=t+"2",text=this.children[0],o=this.parent.box;if(o[n]<e[n]||e[r]<o[r]){var l=text.paddingBox.clone();l[n]=Math.max(o[n],e[n]),l[r]=Math.min(o[r],e[r]),this.reflow(l)}}});function vt(e){var t=e.overlay;return t&&t.gradient&&"none"!==t.gradient}z(mt,{position:"outsideEnd",margin:$(3),padding:$(4),color:C,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:Me,delay:600},zIndex:2});var _t=M.extend({init:function(e,t){M.fn.init.call(this),this.options=t,this.color=t.color||_,this.aboveAxis=H(this.options.aboveAxis,!0),this.value=e},render:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},createLabel:function(){var e=this.options,t=e.labels;if(t.visible){var n,r=this.pointData(),o=U(t);n=o?o(r):this.formatValue(t.format),this.label=new mt(n,O({vertical:e.vertical},t),r),this.append(this.label)}},formatValue:function(e){return this.owner.formatPointValue(this,e)},reflow:function(e){this.render();var label=this.label;if(this.box=e,label&&(label.options.aboveAxis=this.aboveAxis,label.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(var i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(e)},createVisual:function(){var e=this,t=this.box,n=this.options,r=n.visual;if(!1!==this.visible)if(M.fn.createVisual.call(this),r){var o=this.rectVisual=r({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:t.toRect(),createVisual:function(){var t=new fe;return e.createRect(t),t},options:n});o&&this.visual.append(o)}else t.width()>0&&t.height()>0&&this.createRect(this.visual)},createRect:function(e){var t=this.options,n=t.border,r=E(n.opacity)?n.opacity:t.opacity,rect=this.box.toRect();rect.size.width=Math.round(rect.size.width);var path=this.rectVisual=de.fromRect(rect,{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:r,dashType:n.dashType}}),o=this.box.width(),l=this.box.height();if((t.vertical?o:l)>6&&(P(path),(o<1||l<1)&&(path.options.stroke.lineJoin="round")),e.append(path),vt(t)){var c=this.createGradientOverlay(path,{baseColor:this.color},O({end:t.vertical?void 0:[0,1]},t.overlay));e.append(c)}},createHighlight:function(style){var e=de.fromRect(this.box.toRect(),style);return P(e)},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},getBorderColor:function(){var e=this.color,t=this.options.border,n=t._brightness||.8,r=t.color;return E(r)||(r=new ge(e).brightness(n).toHex()),r},tooltipAnchor:function(){var e,t,n=this.options,r=this.box,o=this.aboveAxis,l=this.owner.pane.clipBox()||r,c=v,h=f;if(n.vertical)e=Math.min(r.x2,l.x2)+5,o?t=Math.max(r.y1,l.y1):(t=Math.min(r.y2,l.y2),h=m);else{var d=Math.max(r.x1,l.x1),_=Math.min(r.x2,l.x2);n.isStacked?(h=m,o?(c=k,e=_):e=d,t=Math.max(r.y1,l.y1)-5):(o?e=_+5:(e=d-5,c=k),t=Math.max(r.y1,l.y1))}return{point:new R(e,t),align:{horizontal:c,vertical:h}}},overlapsBox:function(e){return this.box.overlaps(e)},pointData:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}});function bt(e,t){e.forEach(t)}function wt(e,t){for(var n=e.length,r=n-1;r>=0;r--)t(e[r],r-n-1)}O(_t.prototype,Qe),O(_t.prototype,Xe),_t.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var yt=M.extend({init:function(e){M.fn.init.call(this,e),this.forEach=e.rtl?wt:bt},reflow:function(e){var t=this.options,n=t.vertical,r=t.gap,o=t.spacing,l=this.children,c=l.length,h=n?x:y,d=c+r+o*(c-1),f=(n?e.height():e.width())/d,m=e[h+1]+f*(r/2);this.forEach(l,(function(t,n){var r=(t.box||e).clone();r[h+1]=m,r[h+2]=m+f,t.reflow(r),n<c-1&&(m+=f*o),m+=f}))}});z(yt,{vertical:!1,gap:0,spacing:0});var xt=M.extend({reflow:function(e){for(var t=this.options.vertical?y:x,n=this.children,r=n.length,o=this.box=new F,i=0;i<r;i++){var l=n[i];if(!1!==l.visible){var c=l.box.clone();c.snapTo(e,t),0===i&&(o=this.box=c.clone()),l.reflow(c),o.wrap(c)}}}});z(xt,{vertical:!0});var kt=Ke.extend({render:function(){Ke.fn.render.call(this),this.updateStackRange()},pointType:function(){return _t},clusterType:function(){return yt},stackType:function(){return xt},stackLimits:function(e,t){return Ke.fn.stackLimits.call(this,e,t)},createPoint:function(data,e){var t=e.categoryIx,n=e.category,r=e.series,o=e.seriesIx,l=this.options,c=this.children,h=l.isStacked,d=this.pointValue(data),f=this.pointOptions(r,o),m=f.labels;h&&"outsideEnd"===m.position&&(m.position="insideEnd"),f.isStacked=h;var v=data.fields.color||r.color;d<0&&f.negativeColor&&(v=f.negativeColor),f=this.evalPointOptions(f,d,n,t,r,o),L(r.color)&&(v=f.color);var _=new(this.pointType())(d,f);_.color=v;var w=c[t];return w||(w=new(this.clusterType())({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(w)),h?this.getStackWrap(r,w).append(_):w.append(_),_},getStackWrap:function(e,t){var n,r=e.stack,l=r&&r.group||r,c=t.children;if(typeof l===o.STRING){for(var i=0;i<c.length;i++)if(c[i]._stackGroup===l){n=c[i];break}}else n=c[0];return n||((n=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=l,t.append(n)),n},categorySlot:function(e,t,n){var r=this.options,o=e.getSlot(t),l=n.startValue();if(r.isStacked){var c=n.getSlot(l,l,!0),h=r.invertAxes?y:x;o[h+1]=o[h+2]=c[h+1]}return o},reflowCategories:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++)t[i].reflow(e[i])},createAnimation:function(){this._setAnimationOptions(),Ke.fn.createAnimation.call(this),at(this.options.series)&&this._setChildrenAnimation()},_setChildrenAnimation:function(){for(var e=this.points,t=0;t<e.length;t++){var n=e[t],r=n.visual;r&&E(r.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}},_setAnimationOptions:function(){var e,t=this.options,n=t.animation||{};if(t.isStacked){var r=this.seriesValueAxis(t.series[0]);e=r.getSlot(r.startValue())}else e=this.categoryAxis.getSlot(0);n.origin=new ve(e.x1,e.y1),n.vertical=!t.invertAxes}});z(kt,{animation:{type:ze}});var Ct=M.extend({init:function(e,t){M.fn.init.call(this,t),this.value=e},reflow:function(e){var t=this.options,n=this.value,r=this.owner.seriesValueAxis(t),o=r.getSlot(n.open,n.close),l=r.getSlot(n.low,n.high);o.x1=l.x1=e.x1,o.x2=l.x2=e.x2,this.realBody=o;var c=l.center().x,h=[];h.push([[c,l.y1],[c,o.y1]]),h.push([[c,o.y2],[c,l.y2]]),this.lines=h,this.box=l.clone().wrap(o),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},reflowNote:function(){this.note&&this.note.reflow(this.box)},createVisual:function(){M.fn.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},mainVisual:function(e){var t=new fe;return this.createBody(t,e),this.createLines(t,e),t},createBody:function(e,t){var body=de.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&body.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:H(t.border.opacity,t.opacity)}),P(body),e.append(body),vt(t)&&e.append(this.createGradientOverlay(body,{baseColor:this.color},O({end:t.vertical?void 0:[0,1]},t.overlay)))},createLines:function(e,t){this.drawLines(e,t,this.lines,t.line)},drawLines:function(e,t,n,r){if(n)for(var o={stroke:{color:r.color||this.color,opacity:H(r.opacity,t.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}},i=0;i<n.length;i++){var line=de.fromPoints(n[i],o);P(line),e.append(line)}},getBorderColor:function(){var e=this.options.border,t=e.color;return E(t)||(t=new ge(this.color).brightness(e._brightness).toHex()),t},createOverlay:function(){var e=de.fromRect(this.box.toRect(),{fill:{color:_,opacity:0},stroke:null});this.visual.append(e)},createHighlight:function(){var e=this.options.highlight,t=this.color;this.color=e.color||this.color;var n=this.mainVisual(O({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,n},highlightVisual:function(){return this._mainVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},tooltipAnchor:function(){var e=this.box,t=this.owner.pane.clipBox()||e;return{point:new R(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:v,vertical:f}}},formatValue:function(e){return this.owner.formatPointValue(this,e)},overlapsBox:function(e){return this.box.overlaps(e)}});function St(e){return ke(e)===e.length}z(Ct,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),O(Ct.prototype,Qe),O(Ct.prototype,Xe);var Tt=Ke.extend({reflowCategories:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++)t[i].reflow(e[i])},addValue:function(data,e){var t,n=e.categoryIx,r=e.category,o=e.series,l=e.seriesIx,c=this.children,h=this.options,d=data.valueFields,f=St(this.splitValue(d)),m=o.data[n],v=this.categoryPoints[n];v||(this.categoryPoints[n]=v=[]),f&&(t=this.createPoint(data,e));var _=c[n];_||(_=new yt({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing,rtl:!h.invertAxes&&(this.chartService||{}).rtl}),this.append(_)),t&&(this.updateRange(d,e),_.append(t),t.categoryIx=n,t.category=r,t.series=o,t.seriesIx=l,t.owner=this,t.dataItem=m,t.noteText=data.fields.noteText),this.points.push(t),v.push(t)},pointType:function(){return Ct},createPoint:function(data,e){var t=e.categoryIx,n=e.category,r=e.series,o=e.seriesIx,l=this.pointType(),c=data.valueFields,h=O({},r),d=data.fields.color||r.color;h=this.evalPointOptions(h,c,n,t,r,o),"candlestick"===r.type&&c.open>c.close&&(d=data.fields.downColor||r.downColor||r.color),L(r.color)&&(d=h.color),h.vertical=!this.options.invertAxes;var f=new l(c,h);return f.color=d,f},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t){var n=t.series.axis,r=this.splitValue(e),o=this.valueAxisRanges[n];o=this.valueAxisRanges[n]=o||{min:l,max:c},o=this.valueAxisRanges[n]={min:Math.min.apply(Math,r.concat([o.min])),max:Math.max.apply(Math,r.concat([o.max]))}},formatPointValue:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.open,n.high,n.low,n.close,e.category)},animationPoints:function(){return this.points}});O(Tt.prototype,lt);var Dt=Ct.extend({init:function(e,t){Ct.fn.init.call(this,e,t),this.createNote()},reflow:function(e){var t,n,r=this.options,o=this.value,l=this.owner.seriesValueAxis(r);this.boxSlot=n=l.getSlot(o.q1,o.q3),this.realBody=n,this.reflowBoxSlot(e),this.whiskerSlot=t=l.getSlot(o.lower,o.upper),this.reflowWhiskerSlot(e);var c=l.getSlot(o.median);if(o.mean){var h=l.getSlot(o.mean);this.meanPoints=this.calcMeanPoints(e,h)}this.whiskerPoints=this.calcWhiskerPoints(n,t),this.medianPoints=this.calcMedianPoints(e,c),this.box=t.clone().wrap(n),this.reflowNote()},reflowBoxSlot:function(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2},reflowWhiskerSlot:function(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2},calcMeanPoints:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},calcWhiskerPoints:function(e,t){var n=t.center().x;return[[[n-5,t.y1],[n+5,t.y1],[n,t.y1],[n,e.y1]],[[n-5,t.y2],[n+5,t.y2],[n,t.y2],[n,e.y2]]]},calcMedianPoints:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},renderOutliers:function(e){for(var t=this.value,n=t.outliers||[],r=3*Math.abs(t.q3-t.q1),o=[],l=e.markers||{},i=0;i<n.length;i++){var c=n[i];l=c<t.q3+r&&c>t.q1-r?e.outliers:e.extremes;var h=O({},l.border);E(h.color)||(E(this.color)?h.color=this.color:h.color=new ge(l.background).brightness(.8).toHex());var d=new G({type:l.type,width:l.size,height:l.size,rotation:l.rotation,background:l.background,border:h,opacity:l.opacity});d.value=c,o.push(d)}return this.reflowOutliers(o),o},reflowOutliers:function(e){for(var t=this.owner.seriesValueAxis(this.options),n=this.box.center(),i=0;i<e.length;i++){var r=e[i].value,o=t.getSlot(r);this.options.vertical?o.move(n.x):o.move(void 0,n.y),this.box=this.box.wrap(o),e[i].reflow(o)}},mainVisual:function(e){for(var t=Ct.fn.mainVisual.call(this,e),n=this.renderOutliers(e),i=0;i<n.length;i++){var element=n[i].getElement();element&&t.append(element)}return t},createLines:function(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)},getBorderColor:function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:Ct.fn.getBorderColor.call(this)}});z(Dt,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:o.CROSS,background:_,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:w,background:_,border:{width:2,opacity:1},opacity:0}}),O(Dt.prototype,Qe);var Et=Dt.extend({reflowBoxSlot:function(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2},reflowWhiskerSlot:function(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2},calcMeanPoints:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]},calcWhiskerPoints:function(e,t){var n=t.center().y;return[[[t.x1,n-5],[t.x1,n+5],[t.x1,n],[e.x1,n]],[[t.x2,n-5],[t.x2,n+5],[t.x2,n],[e.x2,n]]]},calcMedianPoints:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}}),At=Tt.extend({addValue:function(data,e){var t,n=e.categoryIx,r=e.category,o=e.series,l=e.seriesIx,c=this.children,h=this.options,d=data.valueFields,f=St(this.splitValue(d)),m=o.data[n],v=this.categoryPoints[n];v||(this.categoryPoints[n]=v=[]),f&&(t=this.createPoint(data,e));var _=c[n];_||(_=new yt({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing,rtl:!h.invertAxes&&(this.chartService||{}).rtl}),this.append(_)),t&&(this.updateRange(d,e),_.append(t),t.categoryIx=n,t.category=r,t.series=o,t.seriesIx=l,t.owner=this,t.dataItem=m),this.points.push(t),v.push(t)},pointType:function(){return this.options.invertAxes?Et:Dt},splitValue:function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]},updateRange:function(e,t){var n=t.series.axis,r=this.valueAxisRanges[n],o=this.splitValue(e).concat(this.filterOutliers(e.outliers));E(e.mean)&&(o=o.concat(e.mean)),r=this.valueAxisRanges[n]=r||{min:l,max:c},r=this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}},formatPointValue:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)},filterOutliers:function(e){for(var t=(e||[]).length,n=[],i=0;i<t;i++){var r=e[i];E(r)&&null!==r&&n.push(r)}return n}}),It=je.extend({getAxis:function(){var e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x}});function Mt(e){return E(e)&&null!==e}var Rt=M.extend({init:function(e,t){M.fn.init.call(this,t),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()},_initFields:function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},render:function(){this.traverseDataPoints(this.addValue.bind(this))},addErrorBar:function(e,t,n){var o,l=e.value[t],c=t+"Value",h=t+"ErrorLow",d=t+"ErrorHigh",f=n.seriesIx,m=n.series,v=e.options.errorBars,_=n[h],w=n[d];r(l)&&(r(_)&&r(w)&&(o={low:_,high:w}),v&&E(v[c])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][f]=this.seriesErrorRanges[t][f]||new Ae(v[c],m,t),o=this.seriesErrorRanges[t][f].getErrorRange(l,v[c])),o&&this.addPointErrorBar(o,e,t))},addPointErrorBar:function(e,t,n){var r=e.low,o=e.high,l=t.series,c=t.options.errorBars,h=n===x,d={};t[n+"Low"]=r,t[n+"High"]=o,t.errorBars=t.errorBars||[];var f=new It(r,o,h,this,l,c);t.errorBars.push(f),t.append(f),d[n]=r,this.updateRange(d,l),d[n]=o,this.updateRange(d,l)},addValue:function(t,n){var r,o=t.x,l=t.y,c=n.seriesIx,h=this.options.series[c],d=this.seriesMissingValues(h),f=this.seriesPoints[c],m=t;Mt(o)&&Mt(l)||(m=this.createMissingValue(m,d)),m&&((r=this.createPoint(m,n))&&(e.extend(r,n),this.addErrorBar(r,y,n),this.addErrorBar(r,x,n)),this.updateRange(m,n.series)),this.points.push(r),f.push(r)},seriesMissingValues:function(e){return e.missingValues},createMissingValue:function(){},updateRange:function(e,t){var n=this.chartService.intl,r=t.xAxis,o=t.yAxis,h=e.x,d=e.y,f=this.xAxisRanges[r],m=this.yAxisRanges[o];Mt(h)&&(f=this.xAxisRanges[r]=f||{min:l,max:c},Q(h)&&(h=X(n,h)),f.min=Math.min(f.min,h),f.max=Math.max(f.max,h)),Mt(d)&&(m=this.yAxisRanges[o]=m||{min:l,max:c},Q(d)&&(d=X(n,d)),m.min=Math.min(m.min,d),m.max=Math.max(m.max,d))},evalPointOptions:function(e,t,n){var r=n.series,o=n.seriesIx,l={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},c=this._evalSeries[o];E(c)||(this._evalSeries[o]=c=$e(e,{},l,!0));var h=e;return c&&$e(h=O({},e),{value:t,series:r,dataItem:n.dataItem},l),h},pointType:function(){return Je},pointOptions:function(e,t){var n=this.seriesOptions[t];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[t]=n=O({},r,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n},createPoint:function(e,t){var n=t.series,r=this.pointOptions(n,t.seriesIx),o=t.color||n.color;r=this.evalPointOptions(r,e,t),L(n.color)&&(o=r.color);var l=new Je(e,r);return l.color=o,this.append(l),l},seriesAxes:function(e){var t=e.xAxis,n=e.yAxis,r=this.plotArea,o=t?r.namedXAxes[t]:r.axisX,l=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+t);if(!l)throw new Error("Unable to locate Y axis with name "+n);return{x:o,y:l}},reflow:function(e){var t=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints((function(e,l){var c=n[o++],h=t.seriesAxes(l.series),d=h.x.getSlot(e.x,e.x,r),f=h.y.getSlot(e.y,e.y,r);if(c)if(d&&f){var m=t.pointSlot(d,f);c.reflow(m)}else c.visible=!1})),this.box=e},pointSlot:function(e,t){return new F(e.x1,t.y1,e.x2,t.y2)},traverseDataPoints:function(e){for(var t=this.options.series,n=this.seriesPoints,r=0;r<t.length;r++){var o=t[r];n[r]||(n[r]=[]);for(var l=0;l<o.data.length;l++){var c=this._bindPoint(o,r,l),h=c.valueFields,d=c.fields;e(h,O({pointIx:l,series:o,seriesIx:r,dataItem:o.data[l],owner:this},d))}}},formatPointValue:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y)},animationPoints:function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t}});z(Rt,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),O(Rt.prototype,lt,{_bindPoint:Ke.prototype._bindPoint});var Ft=Je.extend({init:function(e,t){Je.fn.init.call(this,e,t),this.category=e.category},createHighlight:function(){var e=this.options.highlight,t=e.border,n=this.options.markers,r=this.box.center(),o=(n.size+n.border.width+t.width)/2,l=new fe,shadow=new he.Circle(new me.Circle([r.x,r.y+o/5+t.width/2],o+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),c=new he.Circle(new me.Circle([r.x,r.y],o),{stroke:{color:t.color||new ge(n.background).brightness(.8).toHex(),width:t.width,opacity:t.opacity},fill:{color:n.background,opacity:e.opacity}});return l.append(shadow,c),l}});Ft.prototype.defaults=O({},Ft.prototype.defaults,{labels:{position:d},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),Ft.prototype.defaults.highlight.zIndex=void 0;var Pt=Rt.extend({_initFields:function(){this._maxSize=c,Rt.fn._initFields.call(this)},addValue:function(e,t){null!==e.size&&(e.size>0||e.size<0&&t.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),Rt.fn.addValue.call(this,e,t)):(this.points.push(null),this.seriesPoints[t.seriesIx].push(null))},reflow:function(e){this.updateBubblesSize(e),Rt.fn.reflow.call(this,e)},pointType:function(){return Ft},createPoint:function(e,t){var n=t.series,r=n.data.length,o=t.pointIx*(600/r),l={delay:o,duration:600-o,type:"bubble"},c=t.color||n.color;e.size<0&&n.negativeValues.visible&&(c=H(n.negativeValues.color,c));var h=O({labels:{animation:{delay:o,duration:600-o}}},this.pointOptions(n,t.seriesIx),{markers:{type:w,border:n.border,opacity:n.opacity,animation:l}});h=this.evalPointOptions(h,e,t),L(n.color)&&(c=h.color),h.markers.background=c;var d=new Ft(e,h);return d.color=c,this.append(d),d},updateBubblesSize:function(e){for(var t=this.options.series,n=Math.min(e.width(),e.height()),r=0;r<t.length;r++)for(var o=t[r],l=this.seriesPoints[r],c=(o.minSize||Math.max(.02*n,10))/2,h=(o.maxSize||.2*n)/2,d=Math.PI*c*c,f=(Math.PI*h*h-d)/this._maxSize,m=0;m<l.length;m++){var v=l[m];if(v){var area=Math.abs(v.value.size)*f,_=Math.sqrt((d+area)/Math.PI),w=H(v.options.zIndex,0)+(1-_/h);O(v.options,{zIndex:w,markers:{size:2*_,zIndex:w},labels:{zIndex:w+1}})}}},formatPointValue:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.size,e.category)},createAnimation:function(){},createVisual:function(){}});z(Pt,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var zt=G.extend({});O(zt.prototype,Qe);var Bt=M.extend({init:function(e,t){M.fn.init.call(this,t),this.aboveAxis=this.options.aboveAxis,this.color=t.color||_,this.value=e},render:function(){var e=this.options;this._rendered||(this._rendered=!0,E(this.value.target)&&(this.target=new zt({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:f,align:k}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())},reflow:function(e){this.render();var t=this.options,n=this.target,r=this.owner,o=t.invertAxes,l=r.seriesValueAxis(this.options),c=r.categorySlot(r.categoryAxis,t.categoryIx,l),h=l.getSlot(this.value.target),d=o?h:c,f=o?c:h;if(n){var m=new F(d.x1,f.y1,d.x2,f.y2);n.options.height=o?m.height():t.target.line.width,n.options.width=o?t.target.line.width:m.width(),n.reflow(m)}this.note&&this.note.reflow(e),this.box=e},createVisual:function(){M.fn.createVisual.call(this);var e=this.options,body=de.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&body.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:H(e.border.opacity,e.opacity)}),this.bodyVisual=body,P(body),this.visual.append(body)},createAnimation:function(){this.bodyVisual&&(this.animation=ue.create(this.bodyVisual,this.options.animation))},createHighlight:function(style){return de.fromRect(this.box.toRect(),style)},highlightVisual:function(){return this.bodyVisual},highlightVisualArgs:function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},formatValue:function(e){return this.owner.formatPointValue(this,e)}});Bt.prototype.tooltipAnchor=_t.prototype.tooltipAnchor,z(Bt,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),O(Bt.prototype,Qe),O(Bt.prototype,Xe);var Lt=Ke.extend({init:function(e,t){!function(e){for(var t=e.series,i=0;i<t.length;i++){var n=t[i],data=n.data;!data||I(data[0])||N(data[0])||(n.data=[data])}}(t),Ke.fn.init.call(this,e,t)},reflowCategories:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++)t[i].reflow(e[i])},plotRange:function(e){var t=e.series,n=this.seriesValueAxis(t),r=this.categoryAxisCrossingValue(n);return[r,e.value.current||r]},createPoint:function(data,e){var t=e.categoryIx,n=e.category,r=e.series,o=e.seriesIx,l=this.options,c=this.children,h=data.valueFields,d=O({vertical:!l.invertAxes,overlay:r.overlay,categoryIx:t,invertAxes:l.invertAxes},r),f=data.fields.color||r.color;d=this.evalPointOptions(d,h,n,t,r,o),L(r.color)&&(f=d.color);var m=new Bt(h,d);m.color=f;var v=c[t];return v||(v=new yt({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(v)),v.append(m),m},updateRange:function(e,t){var n=e.current,r=e.target,o=t.series.axis,h=this.valueAxisRanges[o];E(n)&&!isNaN(n)&&E(r&&!isNaN(r))&&((h=this.valueAxisRanges[o]=h||{min:l,max:c}).min=Math.min(h.min,n,r),h.max=Math.max(h.max,n,r))},formatPointValue:function(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)},pointValue:function(data){return data.valueFields.current},aboveAxis:function(e){return e.value.current>0},createAnimation:function(){var e=this.points;this._setAnimationOptions();for(var t=0;t<e.length;t++){var n=e[t];n.options.animation=this.options.animation,n.createAnimation()}}});Lt.prototype._setAnimationOptions=kt.prototype._setAnimationOptions,z(Lt,{animation:{type:ze}});var Ht=n.extend({init:function(e,t){this.chartService=e,this.options=O({},this.options,t)},getStyle:function(e,t){var n=e.background,r=e.border.color;if(t){var o=t.color||t.options.color;n=H(n,o),r=H(r,o)}var l=$(e.padding||{},"auto");return{backgroundColor:n,borderColor:r,font:e.font,color:e.color,opacity:e.opacity,borderWidth:J(e.border.width),paddingTop:J(l.top),paddingBottom:J(l.bottom),paddingLeft:J(l.left),paddingRight:J(l.right)}},show:function(e,t,n){e.format=t.format;var style=this.getStyle(t,n);e.style=style,!E(t.color)&&new ge(style.backgroundColor).percBrightness()>180&&(e.className="k-chart-tooltip-inverse"),this.chartService.notify("showTooltip",e),this.visible=!0},hide:function(){this.chartService&&this.chartService.notify("hideTooltip"),this.visible=!1},destroy:function(){delete this.chartService}});z(Ht,{border:{width:1},opacity:1});var Nt=Ht.extend({init:function(e,t,n){Ht.fn.init.call(this,e,n),this.crosshair=t,this.formatService=e.format,this.initAxisName()},initAxisName:function(){var e,t=this.crosshair.axis;e=t.plotArea.categoryAxis?t.getCategory?"categoryAxis":"valueAxis":t.options.vertical?"yAxis":"xAxis",this.axisName=e},showAt:function(e){var t=this.crosshair.axis,n=this.options,r=t[n.stickyMode?"getCategory":"getValue"](e),o=r;n.format?o=this.formatService.auto(n.format,r):t.options.type===S&&(o=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],r)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},hide:function(){this.chartService.notify("hideTooltip",{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},getAnchor:function(){var e,t,n,r=this.crosshair,o=this.options,l=o.position,c=o.padding,h=!r.axis.options.vertical,_=r.line.bbox();return h?(e=d,l===m?(t=f,n=_.bottomLeft().translate(0,c)):(t=m,n=_.topLeft().translate(0,-c))):(t=d,l===v?(e=k,n=_.topLeft().translate(-c,0)):(e=v,n=_.topRight().translate(c,0))),{point:n,align:{horizontal:e,vertical:t}}}});z(Nt,{padding:10});var Ot=M.extend({init:function(e,t,n){M.fn.init.call(this,n),this.axis=t,this.stickyMode=t instanceof Z;var r=this.options.tooltip;r.visible&&(this.tooltip=new Nt(e,this,O({},r,{stickyMode:this.stickyMode})))},showAt:function(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)},hide:function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},moveLine:function(){var e,t=this.axis,n=this.point,r=t.options.vertical,o=this.getBox(),l=r?x:y,c=new ve(o.x1,o.y1);if(e=r?new ve(o.x2,o.y1):new ve(o.x1,o.y2),n)if(this.stickyMode){var slot=t.getSlot(t.pointCategoryIndex(n));c[l]=e[l]=slot.center()[l]}else c[l]=e[l]=n[l];this.box=o,this.line.moveTo(c).lineTo(e)},getBox:function(){for(var e,t=this.axis,n=t.pane.axes,r=n.length,o=t.options.vertical,l=t.lineBox().clone(),c=o?y:x,i=0;i<r;i++){var h=n[i];h.options.vertical!==o&&(e?e.wrap(h.lineBox()):e=h.lineBox().clone())}return l[c+1]=e[c+1],l[c+2]=e[c+2],l},createVisual:function(){M.fn.createVisual.call(this);var e=this.options;this.line=new de({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},destroy:function(){this.tooltip&&this.tooltip.destroy(),M.fn.destroy.call(this)}});z(Ot,{color:C,width:2,zIndex:-1,tooltip:{visible:!1}});var Vt=M.extend({init:function(e,t){M.fn.init.call(this,e),this.pane=t},shouldClip:function(){for(var e=this.children,t=e.length,i=0;i<t;i++)if(!0===e[i].options.clip)return!0;return!1},_clipBox:function(){return this.pane.chartsBox()},createVisual:function(){if(this.visual=new fe({zIndex:0}),this.shouldClip()){var e=(this.clipBox=this._clipBox()).toRect(),t=de.fromRect(e);P(t),this.visual.clip(t),this.unclipLabels()}},stackRoot:function(){return this},unclipLabels:function(){for(var e=this.children,t=this.clipBox,i=0;i<e.length;i++)for(var n=e[i].points||{},r=n.length,o=0;o<r;o++){var l=n[o];if(l&&!1!==l.visible&&l.overlapsBox&&l.overlapsBox(t))if(l.unclipElements)l.unclipElements();else{var label=l.label,c=l.note;label&&label.options.visible&&(label.alignToClipBox&&label.alignToClipBox(t),label.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}},destroy:function(){M.fn.destroy.call(this),delete this.parent}});Vt.prototype.isStackRoot=!0;var Wt=ee.extend({init:function(e){ee.fn.init.call(this,e),this.id="pane"+Ut++,this.createTitle(),this.content=new M,this.chartContainer=new Vt({},this),this.append(this.content),this.axes=[],this.charts=[]},createTitle:function(){var e=this.options.title;N(e)&&(e=O({},e,{align:e.position,position:f})),this.title=t.Title.buildTitle(e,this,Wt.prototype.options.title)},appendAxis:function(e){this.content.append(e),this.axes.push(e),e.pane=this},appendAxisAt:function(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this},appendChart:function(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this},empty:function(){var e=this.parent;if(e){for(var i=0;i<this.axes.length;i++)e.removeAxis(this.axes[i]);for(var t=0;t<this.charts.length;t++)e.removeChart(this.charts[t])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},reflow:function(e){var content;V(this.children)===this.content&&(content=this.children.pop()),ee.fn.reflow.call(this,e),content&&this.children.push(content),this.title&&(this.contentBox.y1+=this.title.box.height())},visualStyle:function(){var style=ee.fn.visualStyle.call(this);return style.zIndex=-10,style},renderComplete:function(){this.options.visible&&this.createGridLines()},stackRoot:function(){return this},clipRoot:function(){return this},createGridLines:function(){for(var e=this.axes,t=e.concat(this.parent.axes),n=[],r=[],i=0;i<e.length;i++)for(var o=e[i],l=o.options.vertical,c=l?n:r,h=0;h<t.length;h++)if(0===c.length){var d=t[h];l!==d.options.vertical&&K(c,o.createGridLines(d))}},refresh:function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},chartsBox:function(){for(var e=this.axes,t=e.length,n=new F,r=0;r<t;r++){var o=e[r],l=o.options.vertical?x:y,c=o.lineBox();n[l+1]=c[l+1],n[l+2]=c[l+2]}if(0===n.x2)for(var h=this.parent.axes,d=h.length,f=0;f<d;f++){var m=h[f];if(!m.options.vertical){var v=m.lineBox();n.x1=v.x1,n.x2=v.x2}}return n},clipBox:function(){return this.chartContainer.clipBox},notifyRender:function(){var e=this.getService();e&&e.notify("paneRender",{pane:new ye(this),index:this.paneIndex,name:this.options.name})}}),Ut=1;function jt(e,element){null!==element&&e.push(element)}function qt(e,t,n){var r=t.visible;if(E(r))return r;var o=e.pointVisibility;return o?o[n]:void 0}function Gt(e){for(var data=e.data,t=[],n=0,o=0,l=0;l<data.length;l++){var c=Te.current.bindPoint(e,l),h=c.valueFields.value;Q(h)&&(h=parseFloat(h)),r(h)?(c.visible=!1!==qt(e,c.fields,l),c.value=Math.abs(h),t.push(c),c.visible&&(n+=c.value),0!==h&&o++):t.push(null)}return{total:n,points:t,count:o}}function $t(a,b){return a&&b?a.toLowerCase()===b.toLowerCase():a===b}function Yt(e,t){for(var n=[],r=[].concat(t),o=0;o<e.length;o++){var l=e[o];B(l.type,r)&&n.push(l)}return n}function Kt(e,t,n){if(null===t)return t;var r="_date_"+e,o=t[r];return o||(o=X(n,A(e,!0)(t)),t[r]=o),o}function Qt(e,t){var n=e.type,r=t instanceof Date;return!n&&r||$t(n,S)}function Xt(e){return 1===e.length?e[0]:e}Wt.prototype.isStackRoot=!0,z(Wt,{zIndex:-1,shrinkToFit:!0,title:{align:v},visible:!0});var Jt=/area/i;function Zt(e,n){var r=Te.current.bindPoint(e,null,n).valueFields;for(var o in r)if(t.convertableToNumber(r[o]))return!0}function ei(e){var t,n,r=e.start,o=e.dir,l=e.min,c=e.max,h=e.getter,d=e.hasItem,f=e.series,m=r;do{d(m+=o)&&(t=Zt(f,(n=h(m)).item))}while(l<=m&&m<=c&&!t);if(t)return n}function ti(e,t,n,r,o){var l,c,h,d=t.min,f=t.max,m=d>0&&d<n,v=f+1<n;(m||v)&&(function(e){return e.missingValues?e.missingValues:Jt.test(e.type)||e.stack?Fe:Pe}(e)!==Pe?(m&&(l=r(d-1)),v&&(c=r(f+1))):(m&&(l=Zt(e,(h=r(d-1)).item)?h:ei({start:d,dir:-1,min:0,max:n-1,getter:r,hasItem:o,series:e})),v&&(c=Zt(e,(h=r(f+1)).item)?h:ei({start:f,dir:1,min:0,max:n-1,getter:r,hasItem:o,series:e}))),l&&(e._outOfRangeMinPoint=l),c&&(e._outOfRangeMaxPoint=c))}var ii=M.extend({init:function(e,t,n){M.fn.init.call(this,t),this.initFields(e,t),this.series=e,this.initSeries(),this.charts=[],this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=n,this.originalOptions=t,this.createPanes(),this.render(),this.createCrosshairs()},initFields:function(){},initSeries:function(){for(var e=this.series,i=0;i<e.length;i++)e[i].index=i},createPanes:function(){var e={title:{color:(this.options.title||{}).color}},t=[],n=this.options.panes||[],r=Math.max(n.length,1);function o(e,t){Q(e.title)&&(e.title={text:e.title}),e.title=O({},t.title,e.title)}for(var i=0;i<r;i++){var l=n[i]||{};o(l,e);var c=new Wt(l);c.paneIndex=i,t.push(c),this.append(c)}this.panes=t},createCrosshairs:function(e){void 0===e&&(e=this.panes);for(var i=0;i<e.length;i++)for(var t=e[i],n=0;n<t.axes.length;n++){var r=t.axes[n];if(r.options.crosshair&&r.options.crosshair.visible){var o=new Ot(this.chartService,r,r.options.crosshair);this.crosshairs.push(o),t.content.append(o)}}},removeCrosshairs:function(e){for(var t=this.crosshairs,n=e.axes,i=t.length-1;i>=0;i--)for(var r=0;r<n.length;r++)if(t[i].axis===n[r]){t.splice(i,1);break}},hideCrosshairs:function(){for(var e=this.crosshairs,t=0;t<e.length;t++)e[t].hide()},findPane:function(e){for(var t,n=this.panes,i=0;i<n.length;i++)if(n[i].options.name===e){t=n[i];break}return t||n[0]},findPointPane:function(e){for(var t,n=this.panes,i=0;i<n.length;i++)if(n[i].box.containsPoint(e)){t=n[i];break}return t},appendAxis:function(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this},removeAxis:function(e){for(var t=[],i=0;i<this.axes.length;i++){var n=this.axes[i];e!==n?t.push(n):n.destroy()}this.axes=t},appendChart:function(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)},removeChart:function(e){for(var t=[],i=0;i<this.charts.length;i++){var n=this.charts[i];n!==e?t.push(n):n.destroy()}this.charts=t},addToLegend:function(e){for(var t=e.length,legend=this.options.legend,n=legend.labels||{},r=legend.inactiveItems||{},o=r.labels||{},data=[],i=0;i<t;i++){var l=e[i],c=!1!==l.visible;if(!1!==l.visibleInLegend){var text=l.name,h=c?U(n):U(o)||U(n);h&&(text=h({text:Mt(text)?text:"",series:l}));var d=l._defaults,f=l.color;L(f)&&d&&(f=d.color);var m=void 0,v=void 0;c?(m={},v=f):(m={color:o.color,font:o.font},v=r.markers.color),Mt(text)&&""!==text&&data.push({text:text,labels:m,markerColor:v,series:l,active:c})}}K(legend.items,data)},groupAxes:function(e){for(var t=[],n=[],r=0;r<e.length;r++)for(var o=e[r].axes,l=0;l<o.length;l++){var c=o[l];c.options.vertical?n.push(c):t.push(c)}return{x:t,y:n,any:t.concat(n)}},groupSeriesByPane:function(){for(var e=this.series,t={},i=0;i<e.length;i++){var n=e[i],r=this.seriesPaneName(n);t[r]?t[r].push(n):t[r]=[n]}return t},filterVisibleSeries:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];!1!==n.visible&&t.push(n)}return t},reflow:function(e){var t=this.options.plotArea,n=this.panes,r=$(t.margin);this.box=e.clone().unpad(r),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)},redraw:function(e){var t=[].concat(e);this.initSeries();var n=this.getRoot();n&&n.cleanGradients();for(var i=0;i<t.length;i++)this.removeCrosshairs(t[i]),t[i].empty();this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(var r=0;r<t.length;r++)t[r].refresh()},axisCrossingValues:function(e,t){for(var n=e.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue),o=t.length-r.length,l=r[0]||0,i=0;i<o;i++)r.push(l);return r},alignAxisTo:function(e,t,n,r){var slot=e.getSlot(n,n,!0),o=e.options.reverse?2:1,l=t.getSlot(r,r,!0),c=t.options.reverse?2:1,h=e.box.translate(l[y+c]-slot[y+o],l[x+c]-slot[x+o]);e.pane!==t.pane&&h.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(h)},alignAxes:function(e,t){for(var n=e[0],r=t[0],l=this.axisCrossingValues(n,t),c=this.axisCrossingValues(r,e),h={},d={},_={},w={},i=0;i<t.length;i++){var y=t[i],x=y.pane,C=x.id,S=!1!==y.options.visible,T=ri(e,x)||n,D=l;T!==n&&(D=this.axisCrossingValues(T,t)),this.alignAxisTo(y,T,c[i],D[i]),y.options._overlap||(te(y.lineBox().x1)===te(T.lineBox().x1)&&(h[C]&&y.reflow(y.box.alignTo(h[C].box,v).translate(-y.options.margin,0)),S&&(h[C]=y)),te(y.lineBox().x2)===te(T.lineBox().x2)&&(y._mirrored||(y.options.labels.mirror=!y.options.labels.mirror,y._mirrored=!0),this.alignAxisTo(y,T,c[i],D[i]),d[C]&&y.reflow(y.box.alignTo(d[C].box,k).translate(y.options.margin,0)),S&&(d[C]=y)),0!==i&&r.pane===y.pane&&(y.alignTo(r),y.reflow(y.box)))}for(var E=0;E<e.length;E++){var A=e[E],I=A.pane,M=I.id,R=!1!==A.options.visible,F=ri(t,I)||r,P=c;F!==r&&(P=this.axisCrossingValues(F,e)),this.alignAxisTo(A,F,l[E],P[E]),A.options._overlap||(te(A.lineBox().y1)===te(F.lineBox().y1)&&(A._mirrored||(A.options.labels.mirror=!A.options.labels.mirror,A._mirrored=!0),this.alignAxisTo(A,F,l[E],P[E]),_[M]&&A.reflow(A.box.alignTo(_[M].box,f).translate(0,-A.options.margin)),R&&(_[M]=A)),te(A.lineBox().y2,o.COORD_PRECISION)===te(F.lineBox().y2,o.COORD_PRECISION)&&(w[M]&&A.reflow(A.box.alignTo(w[M].box,m).translate(0,A.options.margin)),R&&(w[M]=A)),0!==E&&(A.alignTo(n),A.reflow(A.box)))}},shrinkAxisWidth:function(e){for(var t=this.groupAxes(e).any,n=ni(t),r=0,i=0;i<e.length;i++){var o=e[i];o.axes.length>0&&(r=Math.max(r,n.width()-o.contentBox.width()))}if(0!==r)for(var l=0;l<t.length;l++){var c=t[l];c.options.vertical||c.reflow(c.box.shrink(r,0))}},shrinkAxisHeight:function(e){for(var t,i=0;i<e.length;i++){var n=e[i],r=n.axes,o=Math.max(0,ni(r).height()-n.contentBox.height());if(0!==o){for(var l=0;l<r.length;l++){var c=r[l];c.options.vertical&&c.reflow(c.box.shrink(0,o))}t=!0}}return t},fitAxes:function(e){for(var t=this.groupAxes(e).any,n=0,i=0;i<e.length;i++){var r=e[i],o=r.axes,l=r.contentBox;if(o.length>0){var c=ni(o),h=Math.max(l.y1-c.y1,l.y2-c.y2);n=Math.max(n,l.x1-c.x1);for(var d=0;d<o.length;d++){var f=o[d];f.reflow(f.box.translate(0,h))}}}for(var m=0;m<t.length;m++){var v=t[m];v.reflow(v.box.translate(n,0))}},reflowAxes:function(e){for(var t=this.groupAxes(e),i=0;i<e.length;i++)this.reflowPaneAxes(e[i]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))},autoRotateAxisLabels:function(e){for(var t,n=this.panes,r=oi(n),o=0;o<r.length;o++)r[o].autoRotateLabels()&&(t=!0);if(t){for(var l=0;l<n.length;l++)this.reflowPaneAxes(n[l]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(n))}},reflowPaneAxes:function(e){var t=e.axes,n=t.length;if(n>0)for(var i=0;i<n;i++)t[i].reflow(e.contentBox)},reflowCharts:function(e){for(var t=this.charts,n=t.length,r=this.box,i=0;i<n;i++){var o=t[i].pane;o&&!B(o,e)||t[i].reflow(r)}},reflowPanes:function(){for(var e=this.box,t=this.panes,n=t.length,r=e.height(),o=0,l=e.y1,i=0;i<n;i++){var c=t[i],h=c.options.height;if(c.options.width=e.width(),c.options.height){if(h.indexOf&&h.indexOf("%")){var d=parseInt(h,10)/100;c.options.height=d*e.height()}c.reflow(e.clone()),r-=c.options.height}else o++}for(var f=0;f<n;f++){var m=t[f];m.options.height||(m.options.height=r/o)}for(var v=0;v<n;v++){var _=t[v],w=e.clone().move(e.x1,l);_.reflow(w),l+=_.options.height}},backgroundBox:function(){for(var e,t=this.axes,n=t.length,i=0;i<n;i++)for(var r=t[i],o=0;o<n;o++){var l=t[o];if(r.options.vertical!==l.options.vertical){var c=r.lineBox().clone().wrap(l.lineBox());e=e?e.wrap(c):c}}return e||this.box},chartsBoxes:function(){for(var e=this.panes,t=[],n=0;n<e.length;n++)t.push(e[n].chartsBox());return t},addBackgroundPaths:function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)e.paths.push(de.fromRect(t[n].toRect()))},backgroundContainsPoint:function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)if(t[n].containsPoint(e))return!0},createVisual:function(){M.fn.createVisual.call(this);var e,t=this.options.plotArea,n=t.opacity,r=t.background,o=t.border;void 0===o&&(o={}),""!==(e=r)&&null!==e&&"none"!==e&&"transparent"!==e&&E(e)||(r=_,n=0);var l=this._bgVisual=new he.MultiPath({fill:{color:r,opacity:n},stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType},zIndex:-1});this.addBackgroundPaths(l),this.appendVisual(l)},pointsByCategoryIndex:function(e){var t=this.charts,n=[];if(null!==e)for(var i=0;i<t.length;i++)if("_navigator"!==t[i].pane.options.name){var r=t[i].categoryPoints[e];if(r&&r.length)for(var o=0;o<r.length;o++){var l=r[o];l&&E(l.value)&&null!==l.value&&n.push(l)}}return n},pointsBySeriesIndex:function(e){return this.filterPoints((function(t){return t.series.index===e}))},pointsBySeriesName:function(e){return this.filterPoints((function(t){return t.series.name===e}))},filterPoints:function(e){for(var t=this.charts,n=[],i=0;i<t.length;i++)for(var r=t[i].points,o=0;o<r.length;o++){var l=r[o];l&&!1!==l.visible&&e(l)&&n.push(l)}return n},findPoint:function(e){for(var t=this.charts,i=0;i<t.length;i++)for(var n=t[i].points,r=0;r<n.length;r++){var o=n[r];if(o&&!1!==o.visible&&e(o))return o}},paneByPoint:function(e){for(var t=this.panes,i=0;i<t.length;i++){var n=t[i];if(n.box.containsPoint(e))return n}},detachLabels:function(){var e=this.groupAxes(this.panes),t=e.x,n=e.y;this.detachAxisGroupLabels(n,t),this.detachAxisGroupLabels(t,n)},detachAxisGroupLabels:function(e,t){for(var n=0,i=0;i<e.length;i++){var r=e[i],o=r.pane,l=ri(t,o)||t[0],c=i+n,h=this.createLabelAxis(r,c,l);if(h){n++;var d=o.axes.indexOf(r)+n;o.appendAxisAt(h,d)}}},createLabelAxis:function(e,t,n){var r=e.options.labels,l=r.position,c=l!==o.END&&l!==o.START,h=r.visible;if(c||!1===h)return null;var d=this.groupAxes(this.panes),f=n.options.vertical?d.x:d.y,m=this.axisCrossingValues(n,f),v=l===o.END,_=n.range(),w=v?_.max:_.min;if(ie(m[t],_.min,_.max)-w==0)return null;m.splice(t+1,0,w),n.options.axisCrossingValues=m;var y=e.clone();return e.clear(),y.options.name=void 0,y.options.line.visible=!1,y.options.crosshair=void 0,y.options.notes=void 0,y.options.plotBands=void 0,y}});function ni(e){var t,n=e.length;if(n>0)for(var i=0;i<n;i++){var r=e[i].contentBox();t?t.wrap(r):t=r.clone()}return t||new F}function ri(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n&&n.pane===t)return n}}var oi=function(e){return e.reduce((function(e,t){return e.concat(t.axes)}),[])};z(ii,{series:[],plotArea:{margin:{}},background:"",border:{color:C,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var si={hover:function(e,t){this._dispatchEvent(e,t,"plotAreaHover")},click:function(e,t){this._dispatchEvent(e,t,"plotAreaClick")}},ai=n.extend({init:function(e,t,n){var r=t.canonicalFields(e),o=t.valueFields(e),l=t.sourceFields(e,r),c=this._seriesFields=[],h=n.query(e.type),d=e.aggregate||h;this._series=e,this._binder=t;for(var i=0;i<r.length;i++){var f=r[i],m=void 0;if(N(d))m=d[f];else{if(0!==i&&!B(f,o))break;m=d}m&&c.push({canonicalName:f,name:l[i],transform:L(m)?m:Ce[m]})}},aggregatePoints:function(e,t){var n=this._series,o=this._seriesFields,data=this._bindPoints(e||[]),l=data.dataItems[0],c={};if(l&&!r(l)&&!I(l)){var h=function(){};h.prototype=l,c=new h}for(var i=0;i<o.length;i++){var d=o[i],f=this._bindField(data.values,d.canonicalName),m=d.transform(f,n,data.dataItems,t);if(!(null===m||!N(m)||E(m.length)||m instanceof Date)){c=m;break}E(m)&&ci(d.name,c,m)}return c},_bindPoints:function(e){for(var t=this._binder,n=this._series,r=[],o=[],i=0;i<e.length;i++){var l=e[i];r.push(t.bindPoint(n,l)),o.push(n.data[l])}return{values:r,dataItems:o}},_bindField:function(data,e){for(var t=[],n=data.length,i=0;i<n;i++){var r=data[i],o=r.valueFields,l=void 0;l=E(o[e])?o[e]:r.fields[e],t.push(l)}return t}});function ci(e,t,n){var r=t,o=e;if(e.indexOf(".")>-1){for(var l=e.split(".");l.length>1;)o=l.shift(),E(r[o])||(r[o]={}),r=r[o];o=l.shift()}r[o]=n}var hi=n.extend({init:function(){this._defaults={}},register:function(e,t){for(var i=0;i<e.length;i++)this._defaults[e[i]]=t},query:function(e){return this._defaults[e]}});hi.current=new hi;var di=_t.extend({createLabel:function(){var e=this.options.labels,t=O({},e,e.from),n=O({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},_createLabel:function(e){var t,n=U(e),r=this.pointData();return t=n?n(r):this.formatValue(e.format),new mt(t,O({vertical:this.options.vertical},e),r)},reflow:function(e){this.render();var t=this.labelFrom,n=this.labelTo,r=this.value;this.box=e,t&&(t.options.aboveAxis=r.from>r.to,t.reflow(e)),n&&(n.options.aboveAxis=r.to>r.from,n.reflow(e)),this.note&&this.note.reflow(e)}});di.prototype.defaults=O({},di.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var ui=kt.extend({pointType:function(){return di},pointValue:function(data){return data.valueFields},formatPointValue:function(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)},plotRange:function(e){return e?[e.value.from,e.value.to]:0},updateRange:function(e,t){var n=t.series.axis,o=e.from,h=e.to,d=this.valueAxisRanges[n];null!==e&&r(o)&&r(h)&&((d=this.valueAxisRanges[n]=d||{min:l,max:c}).min=Math.min(d.min,o),d.max=Math.max(d.max,o),d.min=Math.min(d.min,h),d.max=Math.max(d.max,h))},aboveAxis:function(e){var t=e.value;return t.from<t.to}});ui.prototype.plotLimits=Ke.prototype.plotLimits;var pi=Je.extend({aliasFor:function(){return this.parent}}),fi=M.extend({init:function(e,t){M.fn.init.call(this),this.value=e,this.options=t,this.aboveAxis=H(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()},render:function(){if(!this._rendered){this._rendered=!0;var e=this.options,t=e.markers,n=e.labels,r=this.value,o=this.fromPoint=new pi(r,O({},this.options,{labels:n.from,markers:t.from})),l=this.toPoint=new pi(r,O({},this.options,{labels:n.to,markers:t.to}));this.copyFields(o),this.copyFields(l),this.append(o),this.append(l)}},reflow:function(e){this.render();var t=e.from,n=e.to;this.positionLabels(t,n),this.fromPoint.reflow(t),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},createHighlight:function(){var e=new fe;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e},highlightVisual:function(){return this.visual},highlightVisualArgs:function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},tooltipAnchor:function(){var e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){var t,n,r,o=this.box,l=o.center(),c=v;return this.options.vertical?(t=l.x,n=o.y1-5,r=m):(t=o.x2+5,n=l.y,r=d),{point:new R(t,n),align:{horizontal:c,vertical:r}}}},formatValue:function(e){return this.owner.formatPointValue(this,e)},overlapsBox:function(e){return this.box.overlaps(e)},unclipElements:function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},initLabelsFormat:function(){var t=this.options.labels;t.format||(t.from&&t.from.format||(t.from=e.extend({},t.from,{format:"{0}"})),t.to&&t.to.format||(t.to=e.extend({},t.to,{format:"{1}"})))},positionLabels:function(e,t){var n,r,o=this.options,l=o.labels,c=o.vertical;"auto"===l.position&&(c?t.y1<=e.y1?(r="above",n="below"):(r="below",n="above"):t.x1<=e.x1?(r=v,n=k):(r=k,n=v),l.from&&l.from.position||(this.fromPoint.options.labels.position=n),l.to&&l.to.position||(this.toPoint.options.labels.position=r))},copyFields:function(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner}});O(fi.prototype,Qe),O(fi.prototype,Xe),fi.prototype.defaults={markers:{visible:!1,background:_,size:8,type:w,border:{width:2},opacity:1},labels:{visible:!1,margin:$(3),padding:$(4),animation:{type:Me,delay:600},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:_,width:2}},zIndex:o.HIGHLIGHT_ZINDEX},tooltip:{format:"{0} - {1}"}};var gi=ht.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},stackSegments:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e},createStroke:function(style){var e=new de(style),t=new de(style);e.segments.push.apply(e.segments,this.strokeSegments()),t.segments.push.apply(t.segments,this.stackSegments()),this.visual.append(e),this.visual.append(t)},hasStackSegment:function(){return!0},fromPoints:function(){return this.linePoints.map((function(e){return e.fromPoint}))},toPoints:function(){return this.linePoints.map((function(e){return e.toPoint}))}}),mi=gi.extend({createStrokeSegments:function(){return this.createCurveSegments(this.toPoints())},stackSegments:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e},createCurveSegments:function(e){return(new Y).process(this.toGeometryPoints(e))}}),vi=gi.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},stackSegments:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),e}});O(vi.prototype,et);var _i=Ke.extend({render:function(){Ke.fn.render.call(this),this.renderSegments()},pointType:function(){return fi},createPoint:function(data,e){var t=e.categoryIx,n=e.category,r=e.series,o=e.seriesIx,l=data.valueFields;if(!Mt(l.from)&&!Mt(l.to)){if(this.seriesMissingValues(r)!==Fe)return null;l={from:0,to:0}}var c=this.pointOptions(r,o);c=this.evalPointOptions(c,l,n,t,r,o);var h=data.fields.color||r.color;L(r.color)&&(h=c.color);var d=new fi(l,c);return d.color=h,this.append(d),d},createSegment:function(e,t,n){var style=(t.line||{}).style;return new("smooth"===style?mi:"step"===style?vi:gi)(e,t,n)},plotRange:function(e,t){return e?[e.value.from,e.value.to]:[t,t]},valueSlot:function(e,t){var n=e.getSlot(t[0],t[0],!this.options.clip),r=e.getSlot(t[1],t[1],!this.options.clip);if(n&&r)return{from:n,to:r}},pointSlot:function(e,t){var n,r,o=t.from,l=t.to;return this.options.invertAxes?(n=new F(o.x1,e.y1,o.x2,e.y2),r=new F(l.x1,e.y1,l.x2,e.y2)):(n=new F(e.x1,o.y1,e.x2,o.y2),r=new F(e.x1,l.y1,e.x2,l.y2)),{from:n,to:r}},addValue:function(data,e){var t=data.valueFields;r(t.from)||(t.from=t.to),r(t.to)||(t.to=t.from),Ke.fn.addValue.call(this,data,e)},updateRange:function(e,t){if(null!==e&&r(e.from)&&r(e.to)){var n=t.series.axis,o=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:l,max:c},h=e.from,d=e.to;o.min=Math.min(o.min,h,d),o.max=Math.max(o.max,h,d)}},formatPointValue:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.from,n.to)},animationPoints:function(){for(var e=this.points,t=[],n=0;n<e.length;n++){var r=e[n];r&&(t.push((r.fromPoint||{}).marker),t.push((r.toPoint||{}).marker))}return t.concat(this._segments)}});O(_i.prototype,ot,lt);var bi=Ct.extend({reflow:function(e){var t=this.options,n=this.value,r=this.owner.seriesValueAxis(t),o=[],l=[],c=[],h=r.getSlot(n.low,n.high),d=r.getSlot(n.open,n.open),f=r.getSlot(n.close,n.close);d.x1=f.x1=h.x1=e.x1,d.x2=f.x2=h.x2=e.x2;var m=h.center().x;o.push([d.x1,d.y1]),o.push([m,d.y1]),l.push([m,f.y1]),l.push([f.x2,f.y1]),c.push([m,h.y1]),c.push([m,h.y2]),this.lines=[o,l,c],this.box=h.clone().wrap(d.clone().wrap(f)),this.reflowNote()},createBody:function(){}}),wi=Tt.extend({pointType:function(){return bi}}),yi=M.extend({init:function(e,t,n){M.fn.init.call(this),this.from=e,this.to=t,this.series=n},linePoints:function(){var e=this.from,t=this.from.box,n=this.to.box,r=[];if(e.isVertical){var o=e.aboveAxis?t.y1:t.y2;r.push([t.x1,o],[n.x2,o])}else{var l=e.aboveAxis?t.x2:t.x1;r.push([l,t.y1],[l,n.y2])}return r},createVisual:function(){M.fn.createVisual.call(this);var line=this.series.line||{},path=de.fromPoints(this.linePoints(),{stroke:{color:line.color,width:line.width,opacity:line.opacity,dashType:line.dashType}});P(path),this.visual.append(path)}});z(yi,{animation:{type:Me,delay:600}});var xi=kt.extend({render:function(){kt.fn.render.call(this),this.createSegments()},traverseDataPoints:function(e){for(var t=this.options.series,n=Ye(t),o=!this.options.invertAxes,l=0;l<t.length;l++)for(var c=t[l],h=0,d=0,f=0;f<n;f++){var data=Te.current.bindPoint(c,f),m=data.valueFields.value,summary=data.fields.summary,v=h,_=void 0;summary?"total"===summary.toLowerCase()?(data.valueFields.value=h,v=0,_=h):(data.valueFields.value=d,_=v-d,d=0):r(m)&&(d+=m,_=h+=m),e(data,{category:this.categoryAxis.categoryAt(f),categoryIx:f,series:c,seriesIx:l,total:h,runningTotal:d,from:v,to:_,isVertical:o})}},updateRange:function(e,t){kt.fn.updateRange.call(this,{value:t.to},t)},aboveAxis:function(e){return e.value>=0},plotRange:function(e){return[e.from,e.to]},createSegments:function(){for(var e=this.options.series,t=this.seriesPoints,n=this.segments=[],r=0;r<e.length;r++){var o=e[r],l=t[r];if(l)for(var c=void 0,h=0;h<l.length;h++){var d=l[h];if(d&&c){var f=new yi(c,d,o);n.push(f),this.append(f)}c=d}}}}),ki=["area","verticalArea","rangeArea","verticalRangeArea"],Ci=[Le,Ne].concat(ki),Si=ii.extend({initFields:function(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new gt,e.length>0){this.invertAxes=B(e[0].type,[ze,"bullet",Ne,"verticalArea","verticalRangeArea","rangeBar","horizontalWaterfall","verticalBoxPlot"]);for(var i=0;i<e.length;i++){var t=e[i].stack;if(t&&"100%"===t.type){this.stack100=!0;break}}}},render:function(e){void 0===e&&(e=this.panes),this.createCategoryAxes(e),this.aggregateCategories(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)},removeAxis:function(e){var t=e.options.name;ii.fn.removeAxis.call(this,e),e instanceof Z?delete this.namedCategoryAxes[t]:(this.valueAxisRangeTracker.reset(t),delete this.namedValueAxes[t]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis},createCharts:function(e){for(var t=this.groupSeriesByPane(),i=0;i<e.length;i++){var n=e[i],r=t[n.options.name||"default"]||[];this.addToLegend(r);var o=this.filterVisibleSeries(r);if(o)for(var l=this.groupSeriesByCategoryAxis(o),c=0;c<l.length;c++)this.createChartGroup(l[c],n)}},createChartGroup:function(e,t){this.createAreaChart(Yt(e,["area","verticalArea"]),t),this.createRangeAreaChart(Yt(e,["rangeArea","verticalRangeArea"]),t),this.createBarChart(Yt(e,[Be,ze]),t),this.createRangeBarChart(Yt(e,["rangeColumn","rangeBar"]),t),this.createBulletChart(Yt(e,["bullet","verticalBullet"]),t),this.createCandlestickChart(Yt(e,"candlestick"),t),this.createBoxPlotChart(Yt(e,["boxPlot","verticalBoxPlot"]),t),this.createOHLCChart(Yt(e,"ohlc"),t),this.createWaterfallChart(Yt(e,["waterfall","horizontalWaterfall"]),t),this.createLineChart(Yt(e,[Le,Ne]),t)},aggregateCategories:function(e){var t=this.srcSeries||this.series,n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var i=0;i<t.length;i++){var r=t[i],o=this.seriesCategoryAxis(r),l=this.findPane(o.options.pane);r=($t(o.options.type,S)||r.categoryField)&&B(l,e)?this.aggregateSeries(r,o):this.filterSeries(r,o),n.push(r)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=t,this.series=n},filterSeries:function(e,t){var n=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,n),!r(t.options.min)&&!r(t.options.max))return e;var o=t.currentRangeIndices(),l=B(e.type,Ci),c=O({},e);return c.data=(c.data||[]).slice(o.min,o.max+1),l&&ti(c,o,n,(function(n){return{item:e.data[n],category:t.categoryAt(n,!0),categoryIx:n-o.min}}),(function(t){return E(e.data[t])})),c},clearSeriesPointsCache:function(){this._seriesPointsCache={}},seriesSourcePoints:function(e,t){var n=e.index+";"+t.categoriesHash();if(this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];var r=t.options,o=r.srcCategories,l=$t(r.type,S),c=e.data,h=l?Kt:Se,d=[];l||t.mapCategories();for(var f=0;f<c.length;f++){var m=void 0;if(m=e.categoryField?h(e.categoryField,c[f],this.chartService.intl):o[f],E(m)&&null!==m){var v=t.totalIndex(m);d[v]=d[v]||{items:[],category:m},d[v].items.push(f)}}return this._currentPointsCache[n]=d,d},aggregateSeries:function(e,t){if(!e.data.length)return e;for(var n=this.seriesSourcePoints(e,t),r=O({},e),o=new ai(O({},e),Te.current,hi.current),data=r.data=[],l=t.options.dataItems||[],c=t.currentRangeIndices(),h=function(e){var r=e-c.min,l=n[e];if(l||(l=n[e]={}),l.categoryIx=r,!l.item){var h=t.categoryAt(e,!0);l.category=h,l.item=o.aggregatePoints(l.items,h)}return l},d=c.min;d<=c.max;d++){var f=h(d);data[f.categoryIx]=f.item,f.items&&f.items.length&&(l[f.categoryIx]=f.item)}return B(r.type,Ci)&&ti(r,c,t.totalCount(),h,(function(e){return n[e]})),t.options.dataItems=l,r},appendChart:function(e,t){var n=e.options.series,r=this.seriesCategoryAxis(n[0]),o=r.options.categories,l=Math.max(0,Ye(n)-o.length);if(l>0)for(o=r.options.categories=r.options.categories.slice(0);l--;)o.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),ii.fn.appendChart.call(this,e,t)},seriesPaneName:function(e){var t=this.options,n=e.axis,r=[].concat(t.valueAxis),o=ne(r,(function(a){return a.name===n}))[0],l=((t.panes||[{}])[0]||{}).name||"default";return(o||{}).pane||l},seriesCategoryAxis:function(e){var t=e.categoryAxis,n=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+t);return n},stackableChartOptions:function(e,t){var n=e.stack;return{isStacked:n,isStacked100:n&&"100%"===n.type,clip:t.options.clip}},groupSeriesByCategoryAxis:function(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r].categoryAxis||"$$default$$";n.hasOwnProperty(o)||(n[o]=!0,t.push(o))}for(var l=[],c=0;c<t.length;c++){var h=Di(e,t[c],c);0!==h.length&&l.push(h)}return l},createBarChart:function(t,n){if(0!==t.length){var r=t[0],o=new kt(this,e.extend({series:t,invertAxes:this.invertAxes,gap:r.gap,spacing:r.spacing},this.stackableChartOptions(r,n)));this.appendChart(o,n)}},createRangeBarChart:function(e,t){if(0!==e.length){var n=e[0],r=new ui(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,t)}},createBulletChart:function(e,t){if(0!==e.length){var n=e[0],r=new Lt(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:t.options.clip});this.appendChart(r,t)}},createLineChart:function(t,n){if(0!==t.length){var r=t[0],o=new ct(this,e.extend({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(r,n)));this.appendChart(o,n)}},createAreaChart:function(t,n){if(0!==t.length){var r=t[0],o=new ft(this,e.extend({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(r,n)));this.appendChart(o,n)}},createRangeAreaChart:function(e,t){if(0!==e.length){var n=new _i(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(n,t)}},createOHLCChart:function(e,t){if(0!==e.length){var n=e[0],r=new wi(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(r,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var n=e[0],r=new Tt(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(r,t)}},createBoxPlotChart:function(e,t){if(0!==e.length){var n=e[0],r=new At(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(r,t)}},createWaterfallChart:function(e,t){if(0!==e.length){var n=e[0],r=new xi(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,t)}},axisRequiresRounding:function(e,t){for(var n=Yt(this.series,Oe),r=0;r<this.series.length;r++){var o=this.series[r];if(B(o.type,ki)){var line=o.line;line&&"step"===line.style&&n.push(o)}}for(var l=0;l<n.length;l++){var c=n[l].categoryAxis||"";if(c===e||!c&&0===t)return!0}},aggregatedAxis:function(e,t){for(var n=this.series,r=0;r<n.length;r++){var o=n[r].categoryAxis||"";if((o===e||!o&&0===t)&&n[r].categoryField)return!0}},createCategoryAxesLabels:function(){for(var e=this.axes,i=0;i<e.length;i++)e[i]instanceof Z&&e[i].createLabels()},createCategoryAxes:function(e){for(var n=this.invertAxes,r=[].concat(this.options.categoryAxis),o=[],i=0;i<r.length;i++){var c=r[i],h=this.findPane(c.pane);if(B(h,e)){var d=c.name,f=c.categories;void 0===f&&(f=[]),c=O({vertical:n,reverse:!n&&this.chartService.rtl,axisCrossingValue:n?l:0},c),E(c.justified)||(c.justified=this.isJustified()),this.axisRequiresRounding(d,i)&&(c.justified=!1);var m=void 0;if(m=Qt(c,f[0])?new t.DateCategoryAxis(c,this.chartService):new Z(c,this.chartService),r[i].categories=m.options.srcCategories,d){if(this.namedCategoryAxes[d])throw new Error("Category axis with name "+d+" is already defined");this.namedCategoryAxes[d]=m}m.axisIndex=i,o.push(m),this.appendAxis(m)}}var v=this.categoryAxis||o[0];this.categoryAxis=v,n?this.axisY=v:this.axisX=v},isJustified:function(){for(var e=this.series,i=0;i<e.length;i++){var t=e[i];if(!B(t.type,ki))return!1}return!0},createValueAxes:function(e){var n=this.valueAxisRangeTracker,r=n.query(),o=[].concat(this.options.valueAxis),l=this.invertAxes,c={vertical:!l,reverse:l&&this.chartService.rtl},h=[];this.stack100&&(c.roundToMajorUnit=!1,c.labels={format:"P0"});for(var i=0;i<o.length;i++){var d=o[i],f=this.findPane(d.pane);if(B(f,e)){var m=d.name,v=$t(d.type,"log")?{min:.1,max:1}:{min:0,max:1},_=n.query(m)||r||v;0===i&&_&&r&&(_.min=Math.min(_.min,r.min),_.max=Math.max(_.max,r.max));var w=new($t(d.type,"log")?t.LogarithmicAxis:t.NumericAxis)(_.min,_.max,O({},c,d),this.chartService);if(m){if(this.namedValueAxes[m])throw new Error("Value axis with name "+m+" is already defined");this.namedValueAxes[m]=w}w.axisIndex=i,h.push(w),this.appendAxis(w)}}var y=this.valueAxis||h[0];this.valueAxis=y,l?this.axisX=y:this.axisY=y},_dispatchEvent:function(e,t,n){var r=e._eventCoordinates(t),o=new R(r.x,r.y),l=this.pointPane(o),c=[],h=[];if(l){for(var d=l.axes,i=0;i<d.length;i++){var f=d[i];f.getValue?jt(h,f.getValue(o)):jt(c,f.getCategory(o))}0===c.length&&jt(c,this.categoryAxis.getCategory(o)),c.length>0&&h.length>0&&e.trigger(n,{element:W(t),originalEvent:t,category:Xt(c),value:Xt(h)})}},pointPane:function(e){for(var t=this.panes,i=0;i<t.length;i++){var n=t[i];if(n.contentBox.containsPoint(e))return n}},updateAxisOptions:function(e,t){Ti(this.options,e,t),Ti(this.originalOptions,e,t)}});function Ti(e,t,n){var r=[].concat(t instanceof Z?e.categoryAxis:e.valueAxis);O(r[t.axisIndex],n)}function Di(e,t,n){return ne(e,(function(s){return 0===n&&!s.categoryAxis||s.categoryAxis===t}))}z(Si,{categoryAxis:{},valueAxis:{}}),O(Si.prototype,si);var Ei=n.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(e){var t=[].concat(e);this.hide();for(var i=0;i<t.length;i++){var n=t[i];n&&n.toggleHighlight&&n.hasHighlight()&&(this.togglePointHighlight(n,!0),this._points.push(n))}},togglePointHighlight:function(e,t){var n=(e.options.highlight||{}).toggle;if(n){var r={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:Ai,visual:e.highlightVisual(),show:t};n(r),r._defaultPrevented||e.toggleHighlight(t)}else e.toggleHighlight(t)},hide:function(){for(var e=this._points;e.length;)this.togglePointHighlight(e.pop(),!1)},isHighlighted:function(element){for(var e=this._points,i=0;i<e.length;i++)if(element===e[i])return!0;return!1}});function Ai(){this._defaultPrevented=!0}function Ii(e,t){var n=(t||"").toLowerCase(),r=e.event;return"none"===n&&!(r.ctrlKey||r.shiftKey||r.altKey)||r[n+"Key"]}function Mi(e){for(var t={},n=0;n<e.length;n++){var r=e[n];r.axis.options.name&&(t[r.axis.options.name]={min:r.range.min,max:r.range.max})}return t}var Ri=n.extend({init:function(e,t){this.plotArea=e,this.options=O({},this.options,t)},start:function(e){return this._active=Ii(e,this.options.key),this._active},move:function(e){if(this._active){var t=this.axisRanges=this._panAxes(e,y).concat(this._panAxes(e,x));if(t.length)return this.axisRanges=t,Mi(t)}},end:function(){var e=this._active;return this._active=!1,e},pan:function(){var e=this.plotArea,t=this.axisRanges;if(t.length){for(var n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},destroy:function(){delete this.plotArea},_panAxes:function(e,t){var n=this.plotArea,r=-e[t].delta,o=(this.options.lock||"").toLowerCase(),l=[];if(0!==r&&(o||"").toLowerCase()!==t)for(var c=n.axes,h=0;h<c.length;h++){var d=c[h];if(t===y&&!d.options.vertical||t===x&&d.options.vertical){var f=d.pan(r);f&&(f.limitRange=!0,l.push({axis:d,range:f}))}}return l}});Ri.prototype.options={key:"none",lock:"none"};var Fi=n.extend({init:function(e,t){this.chart=e,this.options=O({},this.options,t),this.createElement()},createElement:function(){var e=this._marquee=document.createElement("div");e.className="k-marquee";var t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)},removeElement:function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},setStyles:function(e){re(this._marquee,e)},start:function(e){if(Ii(e,this.options.key)){var t=this.chart,n=t._eventCoordinates(e),r=this._zoomPane=t._plotArea.paneByPoint(n),o=r?r.chartsBox().clone():null;if(r&&o){var l=this._elementOffset();return o.translate(l.left,l.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1},_elementOffset:function(){var e=this.chart.element,n=re(e,["paddingLeft","paddingTop"]),r=n.paddingLeft,o=n.paddingTop,l=t.elementOffset(e);return{left:r+l.left,top:o+l.top}},move:function(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))},end:function(e){if(this._zoomPane){var t=this._elementOffset(),n=this._selectionPosition(e);n.left-=t.left,n.top-=t.top;var r={x:n.left,y:n.top},o={x:n.left+n.width,y:n.top+n.height};return this._updateAxisRanges(r,o),this.removeElement(),delete this._zoomPane,Mi(this.axisRanges)}},zoom:function(){var e=this.axisRanges;if(e&&e.length){for(var t=this.chart._plotArea,n=0;n<e.length;n++){var r=e[n];t.updateAxisOptions(r.axis,r.range)}t.redraw(t.panes)}},destroy:function(){this.removeElement(),delete this._marquee,delete this.chart},_updateAxisRanges:function(e,t){for(var n=(this.options.lock||"").toLowerCase(),r=[],o=this._zoomPane.axes,l=0;l<o.length;l++){var c=o[l],h=c.options.vertical;if((n!==y||h)&&(n!==x||!h)){var d=c.pointsRange(e,t);d&&r.push({axis:c,range:d})}}this.axisRanges=r},_selectionPosition:function(e){var t=this._zoomPaneClipBox,n={x:e.x.startLocation,y:e.y.startLocation},r=e.x.location,o=e.y.location,l=(this.options.lock||"").toLowerCase(),c=Math.min(n.x,r),h=Math.min(n.y,o),d=Math.abs(n.x-r),f=Math.abs(n.y-o);return l===y&&(c=t.x1,d=t.width()),l===x&&(h=t.y1,f=t.height()),r>t.x2&&(d=t.x2-n.x),r<t.x1&&(d=n.x-t.x1),o>t.y2&&(f=t.y2-n.y),o<t.y1&&(f=n.y-t.y1),{left:Math.max(c,t.x1),top:Math.max(h,t.y1),width:d,height:f}}});Fi.prototype.options={key:"shift",lock:"none"};var Pi=n.extend({init:function(e,t){this.chart=e,this.options=O({},this.options,t)},updateRanges:function(e){for(var t=(this.options.lock||"").toLowerCase(),n=[],r=this.chart._plotArea.axes,o=0;o<r.length;o++){var l=r[o],c=l.options.vertical;if((t!==y||c)&&(t!==x||!c)){var h=l.zoomRange(-e);h&&n.push({axis:l,range:h})}}return this.axisRanges=n,Mi(n)},zoom:function(){var e=this.axisRanges;if(e&&e.length){for(var t=this.chart._plotArea,n=0;n<e.length;n++){var r=e[n];t.updateAxisOptions(r.axis,r.range)}t.redraw(t.panes)}},destroy:function(){delete this.chart}}),zi=M.extend({init:function(e,t){M.fn.init.call(this,e),this.chartService=t},render:function(){var e=this.children,t=this.options,n=t.vertical;this.visual=new he.Layout(null,{spacing:n?0:t.spacing,lineSpacing:n?t.spacing:0,orientation:n?"vertical":"horizontal",reverse:t.rtl,alignItems:n?"start":"center"});for(var r=0;r<e.length;r++){var o=e[r];o.reflow(new F),o.renderVisual()}},reflow:function(e){this.visual.rect(e.toRect()),this.visual.reflow();var n=this.visual.clippedBBox();this.box=n?t.rectToBox(n):new F},renderVisual:function(){this.addVisual()},createVisual:function(){}}),Bi=ee.extend({init:function(e){ee.fn.init.call(this,e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())},createContainer:function(){this.container=new t.FloatElement({vertical:!1,wrap:!1,align:d,spacing:this.options.spacing}),this.append(this.container)},createMarker:function(){this.container.append(new G(this.markerOptions()))},markerOptions:function(){var e=this.options,t=e.markerColor;return O({},e.markers,{background:t,border:{color:t}})},createLabel:function(){var e=this.options,t=O({},e.labels);this.container.append(new j(e.text,t))},renderComplete:function(){ee.fn.renderComplete.call(this);var cursor=this.options.cursor||{},e=this._itemOverlay=de.fromRect(this.container.box.toRect(),{fill:{color:_,opacity:0},stroke:null,cursor:cursor.style||cursor});this.appendVisual(e)},click:function(e,t){var n=this.eventArgs(t);!e.trigger("legendItemClick",n)&&t&&"contextmenu"===t.type&&t.preventDefault()},over:function(e,t){var n=this.eventArgs(t);return e.trigger("legendItemHover",n)||e._legendItemHover(n.seriesIndex,n.pointIndex),!0},out:function(e,t){e._unsetActivePoint(),e.trigger("legendItemLeave",this.eventArgs(t))},eventArgs:function(e){var t=this.options;return{element:W(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}},renderVisual:function(){var e=this,t=this.options,n=t.visual;n?(this.visual=n({active:t.active,series:t.series,sender:this.getSender(),pointIndex:t.pointIndex,options:{markers:this.markerOptions(),labels:t.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):ee.fn.renderVisual.call(this)}}),Li=M.extend({init:function(e,t){void 0===t&&(t={}),M.fn.init.call(this,e),this.chartService=t,B(this.options.position,[f,k,m,v,"custom"])||(this.options.position=k),this.createContainer(),this.createItems()},createContainer:function(){var e=this.options,t=e.position,n=e.align,r=t,o=d;"custom"===t?r=v:B(t,[f,m])?(r="start"===n?v:"end"===n?k:d,o=t):n&&("start"===n?o=f:"end"===n&&(o=m)),this.container=new ee({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:o,align:r,zIndex:e.zIndex,shrinkToFit:!0}),this.append(this.container)},createItems:function(){var e=this.getService(),t=this.options,n=this.isVertical(),r=new zi({vertical:n,spacing:t.spacing,rtl:e.rtl},e),o=t.items;t.reverse&&(o=o.slice(0).reverse());for(var l=o.length,i=0;i<l;i++){var c=o[i];r.append(new Bi(O({},{markers:t.markers,labels:t.labels,rtl:e.rtl},t.item,c)))}r.render(),this.container.append(r)},isVertical:function(){var e=this.options,t=e.orientation,n=e.position;return"custom"===n&&"horizontal"!==t||(E(t)?"horizontal"!==t:B(n,[v,k]))},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(e){var t=this.options,n=e.clone();this.hasItems()?"custom"===t.position?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n):this.box=n},containerReflow:function(e){var t=this.options,n=this.container,r=t.position,o=t.width,l=t.height,c=r===f||r===m?y:x,h=this.isVertical(),d=e.clone(),_=e.clone();r!==v&&r!==k||(_.y1=d.y1=0),h&&l?(_.y2=_.y1+l,_.align(d,x,n.options.vAlign)):!h&&o&&(_.x2=_.x1+o,_.align(d,y,n.options.align)),n.reflow(_);var w=(_=n.box).clone();(t.offsetX||t.offsetY)&&(_.translate(t.offsetX,t.offsetY),this.container.reflow(_)),w[c+1]=e[c+1],w[c+2]=e[c+2],this.box=w},containerCustomReflow:function(e){var t=this.options,n=this.container,r=t.offsetX,o=t.offsetY,l=t.width,c=t.height,h=this.isVertical(),d=e.clone();h&&c?d.y2=d.y1+c:!h&&l&&(d.x2=d.x1+l),n.reflow(d),d=n.box,n.reflow(new F(r,o,r+d.width(),o+d.height()))},renderVisual:function(){this.hasItems()&&M.fn.renderVisual.call(this)}});z(Li,{position:k,items:[],offsetX:0,offsetY:0,margin:$(5),padding:$(5),border:{color:C,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:v,vAlign:d}});var Hi=n.extend({init:function(){this._registry=[]},register:function(e,t){this._registry.push({type:e,seriesTypes:t})},create:function(e,t,n){for(var r,o=this._registry,l=o[0],c=0;c<o.length;c++){var h=o[c];if((r=Yt(e,h.seriesTypes)).length>0){l=h;break}}return new l.type(r,t,n)}});function Ni(e){var element=document.createElement("div");return e&&(element.className=e),element}function Oi(element){for(var e=element;e&&!oe(e,"k-handle");)e=e.parentNode;return e}Hi.current=new Hi;var Vi=n.extend({init:function(e,n,r,o){var l=e.element;this.options=O({},this.options,r),this.chart=e,this.observer=o,this.chartElement=l,this.categoryAxis=n,this._dateAxis=this.categoryAxis instanceof t.DateCategoryAxis,this.initOptions(),this.options.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())},onPane:function(e){return this.categoryAxis.pane===e},createElements:function(){var e=this.options,t=this.wrapper=Ni("k-selector");re(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});var n=this.selection=Ni("k-selection");this.leftMask=Ni("k-mask"),this.rightMask=Ni("k-mask"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(n),n.appendChild(Ni("k-selection-bg"));var r=this.leftHandle=Ni("k-handle k-left-handle"),o=this.rightHandle=Ni("k-handle k-right-handle");r.appendChild(Ni()),o.appendChild(Ni()),n.appendChild(r),n.appendChild(o),this.chartElement.appendChild(t);var l=re(n,["borderLeftWidth","borderRightWidth","height"]),c=re(r,"height").height,h=re(o,"height").height;e.selection={border:{left:l.borderLeftWidth,right:l.borderRightWidth}},re(r,{top:(l.height-c)/2}),re(o,{top:(l.height-h)/2}),t.style.cssText=t.style.cssText},bindEvents:function(){var e;!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),se(this.wrapper,((e={})[We]=this._mousewheelHandler,e))),this._domEvents=ae.DomEventsBuilder.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},initOptions:function(){var e=this.options,t=this.categoryAxis.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&O(e,{min:X(n,e.min),max:X(n,e.max),from:X(n,e.from),to:X(n,e.to)});var r=re(this.chartElement,["paddingLeft","paddingTop"]),o=r.paddingLeft,l=r.paddingTop;this.options=O({},{width:t.width(),height:t.height()+.1,padding:{left:o,top:l},offset:{left:t.x1+o,top:t.y1+l},from:e.min,to:e.max},e)},destroy:function(){var e;(this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper)&&(this._mousewheelHandler&&(le(this.wrapper,((e={})[We]=this._mousewheelHandler,e)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)},_rangeEventArgs:function(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}},_start:function(e){var t=this.options,n=W(e);if(!this._state&&n){this.chart._unsetActivePoint(),this._state={moveTarget:Oi(n)||n,startLocation:e.x?e.x.location:0,range:{from:this._index(t.from),to:this._index(t.to)}};var r=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger("selectStart",r)&&(this._state=null)}},_press:function(e){var n;(n=this._state?this._state.moveTarget:Oi(W(e)))&&t.addClass(n,"k-handle-active")},_move:function(e){if(this._state){var t=this._state,n=this.options,r=this.categoryAxis,o=t.range,l=t.moveTarget,c=r.options.reverse,h=this._index(n.from),d=this._index(n.to),f=this._index(n.min),m=this._index(n.max),v=t.startLocation-e.x.location,_=o.from,w=o.to,span=o.to-o.from,y=re(this.wrapper,"width").width/(r.categoriesCount()-1),x=Math.round(v/y)*(c?-1:1);if(l){var k=oe(l,"k-left-handle"),C=oe(l,"k-right-handle");oe(l,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(f,h-x),m-span),o.to=Math.min(o.from+span,m)):k&&!c||C&&c?(o.from=Math.min(Math.max(f,h-x),m-1),o.to=Math.max(o.from+1,o.to)):(k&&c||C&&!c)&&(o.to=Math.min(Math.max(f+1,d-x),m),o.from=Math.min(o.to-1,o.from)),o.from===_&&o.to===w||(this.move(o.from,o.to),this.trigger("select",this._rangeEventArgs(o)))}}},_end:function(){if(this._state){var e=this._state.moveTarget;e&&t.removeClass(e,"k-handle-active");var n=this._state.range;this.set(n.from,n.to),this.trigger("selectEnd",this._rangeEventArgs(n)),delete this._state}},_tap:function(e){var t=this.options,n=this.categoryAxis,r=this.chart._eventCoordinates(e),o=n.pointCategoryIndex(new R(r.x,n.box.y1)),l=this._index(t.from),c=this._index(t.to),h=this._index(t.min),d=this._index(t.max),span=c-l,f=l+span/2,m={},v=3===e.event.which,_=Math.round(f-o);this._state||v||(this.chart._unsetActivePoint(),n.options.justified||_--,m.from=Math.min(Math.max(h,l-_),d-span),m.to=Math.min(m.from+span,d),this._start(e),this._state&&(this._state.range=m,this.trigger("select",this._rangeEventArgs(m)),this._end()))},_mousewheel:function(e){var n=this,r=t.mousewheelDelta(e);if(this._start({target:this.selection}),this._state){var o=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(r)>1&&(r*=3),this.options.mousewheel.reverse&&(r*=-1),this.expand(r)&&this.trigger("select",{axis:this.categoryAxis.options,delta:r,originalEvent:e,from:this._value(o.from),to:this._value(o.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){n._end()}),150)}},_gesturestart:function(e){var t=this.options;this._state={range:{from:this._index(t.from),to:this._index(t.to)}};var n=this._rangeEventArgs(this._state.range);this.trigger("selectStart",n)?this._state=null:e.preventDefault()},_gestureend:function(){this._state&&(this.trigger("selectEnd",this._rangeEventArgs(this._state.range)),delete this._state)},_gesturechange:function(e){var t=this.chart,n=this._state,r=this.options,o=this.categoryAxis,l=n.range,c=t._toModelCoordinates(e.touches[0].x.location).x,h=t._toModelCoordinates(e.touches[1].x.location).x,d=Math.min(c,h),f=Math.max(c,h);e.preventDefault(),l.from=o.pointCategoryIndex(new R(d))||r.min,l.to=o.pointCategoryIndex(new R(f))||r.max,this.move(l.from,l.to),this.trigger("select",this._rangeEventArgs(l))},_index:function(e){var t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t},_value:function(e){var t=e;return this._dateAxis&&(t=this.categoryAxis.categoryAt(e))>this.options.max&&(t=this.options.max),t},_slot:function(e){var t=this.categoryAxis,n=this._index(e);return t.getSlot(n,n,!0)},move:function(e,t){var n=this.options,r=this.categoryAxis.options.reverse,o=n.offset,l=n.padding,c=n.selection.border,h=r?t:e,d=r?e:t,f="x"+(r?2:1),m=this._slot(h),v=te(m[f]-o.left+l.left);re(this.leftMask,{width:v}),re(this.selection,{left:v}),m=this._slot(d);var _=te(n.width-(m[f]-o.left+l.left));re(this.rightMask,{width:_});var w=n.width-_;w!==n.width&&(w+=c.right),re(this.rightMask,{left:w}),re(this.selection,{width:Math.max(n.width-(v+_)-c.right,0)})},set:function(e,t){var n=this.options,r=this._index(n.min),o=this._index(n.max),l=ie(this._index(e),r,o),c=ie(this._index(t),l+1,o);n.visible&&this.move(l,c),n.from=this._value(l),n.to=this._value(c)},expand:function(e){var t=this.options,n=this._index(t.min),r=this._index(t.max),o=t.mousewheel.zoom,l=this._index(t.from),c=this._index(t.to),h={from:l,to:c},d=O({},h);if(this._state&&(h=this._state.range),o!==k&&(h.from=ie(ie(l-e,0,c-1),n,r)),o!==v&&(h.to=ie(ie(c+e,h.from+1,r),n,r)),h.from!==d.from||h.to!==d.to)return this.set(h.from,h.to),!0},trigger:function(e,t){return(this.observer||this.chart).trigger(e,t)}});z(Vi,{visible:!0,mousewheel:{zoom:"both"},min:c,max:l});var Wi=Ht.extend({show:function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var t=O({},this.options,e.options.tooltip),n=e.tooltipAnchor();n?(this._current=e,Ht.fn.show.call(this,{point:e,anchor:n},t,e)):this.hide()}},hide:function(){delete this._current,Ht.fn.hide.call(this)}}),Ui=Ht.extend({init:function(e,t){Ht.fn.init.call(this,e.chartService,t),this.plotArea=e,this.formatService=e.chartService.format},showAt:function(e,t){var n=ne(e,(function(e){var t=e.series.tooltip;return!(t&&!1===t.visible)}));if(n.length>0){var r=n[0],slot=this.plotArea.categoryAxis.getSlot(r.categoryIx),o=t?this._slotAnchor(t,slot):this._defaultAnchor(r,slot);this.show({anchor:o,shared:!0,points:e,category:r.category,categoryText:this.formatService.auto(this.options.categoryFormat,r.category),series:this.plotArea.series},this.options)}},_slotAnchor:function(e,slot){return this.plotArea.categoryAxis.options.vertical||(e.x=slot.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}},_defaultAnchor:function(e,slot){var t=e.owner.pane.chartsBox(),n=this.plotArea.categoryAxis.options.vertical,r=t.center(),o=slot.center();return{point:n?new R(r.x,o.y):new R(o.x,r.y),align:{horizontal:"center",vertical:"center"}}}});z(Ui,{categoryFormat:"{0:d}"});var ji=ue.extend({setup:function(){var element=this.element,e=this.options;if(element.bbox()){this.origin=e.origin;var t=e.vertical?x:y,n=this.fromScale=new ve(1,1);n[t]=Re,element.transform(_e().scale(n.x,n.y))}else this.abort()},step:function(e){var n=t.interpolateValue(this.fromScale.x,1,e),r=t.interpolateValue(this.fromScale.y,1,e);this.element.transform(_e().scale(n,r,this.origin))},abort:function(){ue.fn.abort.call(this),this.element.transform(null)}});z(ji,{duration:600}),pe.current.register(ze,ji);var qi=ue.extend({setup:function(){var e=this.center=this.element.bbox().center();this.element.transform(_e().scale(Re,Re,e))},step:function(e){this.element.transform(_e().scale(e,e,this.center))}});z(qi,{easing:"easeOutElastic"}),pe.current.register("bubble",qi);var Gi=ue.extend({setup:function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},step:function(e){this.element.opacity(e*this.fadeTo)}});z(Gi,{duration:200,easing:"linear"}),pe.current.register(Me,Gi);var $i=ue.extend({setup:function(){this.element.transform(_e().scale(Re,Re,this.options.center))},step:function(e){this.element.transform(_e().scale(e,e,this.options.center))}});z($i,{easing:"easeOutElastic",duration:600}),pe.current.register(He,$i);var Yi=Rt.extend({render:function(){Rt.fn.render.call(this),this.renderSegments()},createSegment:function(e,t,n){return new("smooth"===t.style?nt:Ze)(e,t,n)},animationPoints:function(){return Rt.fn.animationPoints.call(this).concat(this._segments)},createMissingValue:function(e,t){if(t===Fe){var n={x:e.x,y:e.y};return Mt(n.x)||(n.x=0),Mt(n.y)||(n.y=0),n}}});O(Yi.prototype,ot);var Ki=ii.extend({initFields:function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new gt,this.yAxisRangeTracker=new gt},render:function(e){void 0===e&&(e=this.panes);for(var t=this.groupSeriesByPane(),i=0;i<e.length;i++){var n=e[i],r=t[n.options.name||"default"]||[];this.addToLegend(r);var o=this.filterVisibleSeries(r);o&&(this.createScatterChart(Yt(o,"scatter"),n),this.createScatterLineChart(Yt(o,"scatterLine"),n),this.createBubbleChart(Yt(o,"bubble"),n))}this.createAxes(e)},appendChart:function(e,t){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),ii.fn.appendChart.call(this,e,t)},removeAxis:function(e){var t=e.options.name;ii.fn.removeAxis.call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(t),delete this.namedYAxes[t]):(this.xAxisRangeTracker.reset(t),delete this.namedXAxes[t]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},seriesPaneName:function(e){var t=this.options,n=e.xAxis,r=[].concat(t.xAxis),o=ne(r,(function(a){return a.name===n}))[0],l=e.yAxis,c=[].concat(t.yAxis),h=ne(c,(function(a){return a.name===l}))[0],d=(t.panes||[{}])[0].name||"default";return(o||{}).pane||(h||{}).pane||d},createScatterChart:function(e,t){e.length>0&&this.appendChart(new Rt(this,{series:e,clip:t.options.clip}),t)},createScatterLineChart:function(e,t){e.length>0&&this.appendChart(new Yi(this,{series:e,clip:t.options.clip}),t)},createBubbleChart:function(e,t){e.length>0&&this.appendChart(new Pt(this,{series:e,clip:t.options.clip}),t)},createXYAxis:function(e,n,r){for(var o,l=e.name,c=n?this.namedYAxes:this.namedXAxes,h=n?this.yAxisRangeTracker:this.xAxisRangeTracker,d=O({reverse:!n&&this.chartService.rtl},e,{vertical:n}),f=$t(d.type,"log"),m=h.query(),v=f?{min:.1,max:1}:{min:0,max:1},_=h.query(l)||m||v,w=[d.min,d.max],y=this.series,x=0;x<y.length;x++){var k=y[x],C=k[n?"yAxis":"xAxis"];if(C===d.name||0===r&&!C){var T=Te.current.bindPoint(k,0).valueFields;w.push(T[n?"y":"x"]);break}}0===r&&m&&(_.min=Math.min(_.min,m.min),_.max=Math.max(_.max,m.max));for(var i=0;i<w.length;i++)if(w[i]instanceof Date){o=!0;break}var D=new($t(d.type,S)||!d.type&&o?t.DateValueAxis:f?t.LogarithmicAxis:t.NumericAxis)(_.min,_.max,d,this.chartService);if(D.axisIndex=r,l){if(c[l])throw new Error((n?"Y":"X")+" axis with name "+l+" is already defined");c[l]=D}return this.appendAxis(D),D},createAxes:function(e){for(var t=this.options,n=[].concat(t.xAxis),r=[],o=[].concat(t.yAxis),l=[],c=0;c<n.length;c++){var h=this.findPane(n[c].pane);B(h,e)&&r.push(this.createXYAxis(n[c],!1,c))}for(var d=0;d<o.length;d++){var f=this.findPane(o[d].pane);B(f,e)&&l.push(this.createXYAxis(o[d],!0,d))}this.axisX=this.axisX||r[0],this.axisY=this.axisY||l[0]},_dispatchEvent:function(e,t,n){for(var r=e._eventCoordinates(t),o=new R(r.x,r.y),l=this.axes,c=l.length,h=[],d=[],i=0;i<c;i++){var f=l[i],m=f.options.vertical?d:h,v=f.getValue(o);null!==v&&m.push(v)}h.length>0&&d.length>0&&e.trigger(n,{element:W(t),originalEvent:t,x:Xt(h),y:Xt(d)})},updateAxisOptions:function(e,t){var n=e.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(e);Qi(this.options,o,n,t),Qi(this.originalOptions,o,n,t)}});function Qi(e,t,n,r){var o=[].concat(n?e.yAxis:e.xAxis)[t];O(o,r)}z(Ki,{xAxis:{},yAxis:{}}),O(Ki.prototype,si);var Xi=M.extend({init:function(e,t,n){M.fn.init.call(this,n),this.value=e,this.sector=t},render:function(){var e=this.options.labels,t=this.owner.chartService,n=this.value;if(!this._rendered&&!1!==this.visible){this._rendered=!0;var r=U(e),o=this.pointData();if(r?n=r(o):e.format&&(n=t.format.auto(e.format,n)),e.visible&&(n||0===n)){if(e.position===d||"insideEnd"===e.position){if(!e.color){var l=new ge(this.options.color).percBrightness();e.color=l>180?C:_}e.background||(e.background=this.options.color)}else{var c=t.theme.seriesDefaults.labels;e.color=e.color||c.color,e.background=e.background||c.background}this.label=new j(n,O({},e,{align:d,vAlign:"",animation:{type:Me,delay:this.animationDelay}}),o),this.append(this.label)}}},reflow:function(e){this.render(),this.box=e,this.reflowLabel()},reflowLabel:function(){var e=this.options.labels,label=this.label,t=this.sector.clone(),n=e.distance,r=t.middle();if(label){var o,l=label.box.height(),c=label.box.width();if(e.position===d)t.radius=Math.abs((t.radius-l)/2)+l,o=t.point(r),label.reflow(new F(o.x,o.y-l/2,o.x,o.y));else if("insideEnd"===e.position)t.radius=t.radius-l/2,o=t.point(r),label.reflow(new F(o.x,o.y-l/2,o.x,o.y));else{var h;(o=t.clone().expand(n).point(r)).x>=t.center.x?(h=o.x+c,label.orientation=k):(h=o.x-c,label.orientation=v),label.reflow(new F(h,o.y-l,o.x,o.y))}}},createVisual:function(){var e=this,t=this.sector,n=this.options;if(M.fn.createVisual.call(this),this.value)if(n.visual){var r=(t.startAngle+180)%360,o=n.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new ve(t.center.x,t.center.y),radius:t.radius,innerRadius:t.innerRadius,startAngle:r,endAngle:r+t.angle,options:n,sender:this.getSender(),createVisual:function(){var t=new fe;return e.createSegmentVisual(t),t}});o&&this.visual.append(o)}else this.createSegmentVisual(this.visual)},createSegmentVisual:function(e){var t=this.sector,n=this.options,r=n.border||{},o=r.width>0?{stroke:{color:r.color,width:r.width,opacity:r.opacity,dashType:r.dashType}}:{},l=n.color,c={color:l,opacity:n.opacity},h=this.createSegment(t,O({fill:c,stroke:{opacity:n.opacity},zIndex:n.zIndex},o));e.append(h),vt(n)&&e.append(this.createGradientOverlay(h,{baseColor:l,fallbackFill:c},O({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},n.overlay)))},createSegment:function(e,n){return n.singleSegment?new he.Circle(new me.Circle(new ve(e.center.x,e.center.y),e.radius),n):t.ShapeBuilder.current.createRing(e,n)},createAnimation:function(){var e=this.options,t=this.sector.center;O(e,{animation:{center:[t.x,t.y],delay:this.animationDelay}}),M.fn.createAnimation.call(this)},createHighlight:function(e){var t=this.options.highlight||{},n=t.border||{};return this.createSegment(this.sector,O({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new ve(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}},tooltipAnchor:function(){var e,n,r,o,l=this.sector.clone().expand(5),c=l.middle();return{point:l.point(c),align:(e=c+180,n=t.rad(e),r=te(Math.sin(n),T),o=te(Math.cos(n),T),{horizontal:Math.abs(r)>Zi?d:o<0?k:v,vertical:Math.abs(r)<Ji?d:r<0?m:f})}},formatValue:function(e){return this.owner.formatPointValue(this,e)},pointData:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}),Ji=te(t.rad(30),T),Zi=te(t.rad(60),T);z(Xi,{color:_,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:o.DEFAULT_FONT,margin:$(.5),align:w,zIndex:1,position:"outsideEnd"},animation:{type:He},highlight:{visible:!0,border:{width:1}},visible:!0}),O(Xi.prototype,Qe);var en={createLegendItem:function(e,t,n){var r=this.options.legend||{},o=r.labels||{},l=r.inactiveItems||{},c=l.labels||{};if(n&&!1!==n.visibleInLegend){var h,d,f=!1!==n.visible,m=f?U(o):U(c)||U(o),text=n.category;m&&(text=m({text:text,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:e})),f?(h={},d=t.color):(h={color:c.color,font:c.font},d=(l.markers||{}).color),Mt(text)&&""!==text&&this.legendItems.push({active:f,pointIndex:n.index,text:text,series:n.series,markerColor:d,labels:h})}}},tn=M.extend({init:function(e,t){M.fn.init.call(this,t),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},traverseDataPoints:function(e){var n=this.options,r=this.plotArea.options.seriesColors;void 0===r&&(r=[]);for(var o=r.length,l=n.series,c=l.length,h=0;h<c;h++){var f=l[h],data=f.data,m=Gt(f),v=m.total,_=m.points,w=m.count,y=360/v,x=void 0;isFinite(y)||(x=360/w);var k=void 0;k=E(f.startAngle)?f.startAngle:n.startAngle,h!==c-1&&"outsideEnd"===f.labels.position&&(f.labels.position=d);for(var i=0;i<_.length;i++){var C=_[i];if(C){var S=C.fields,T=C.value,D=C.visible,A=0!==T?x||T*y:0,I=1!==data.length&&Boolean(S.explode);L(f.color)||(f.color=S.color||r[i%o]),e(C.valueFields.value,new t.Ring(null,0,0,k,A),{owner:this,category:E(S.category)?S.category:"",index:i,series:f,seriesIx:h,dataItem:data[i],percentage:0!==v?T/v:0,explode:I,visibleInLegend:S.visibleInLegend,visible:D,zIndex:c-h,animationDelay:this.animationDelay(i,h,c)}),!1!==D&&(k+=A)}}}},evalSegmentOptions:function(e,t,n){var r=n.series;$e(e,{value:t,series:r,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:r._defaults,excluded:["data","content","template","visual","toggle"]})},addValue:function(t,n,r){var o=O({},r.series,{index:r.index});if(this.evalSegmentOptions(o,t,r),this.createLegendItem(t,o,r),!1!==r.visible){var l=new Xi(t,n,o);e.extend(l,r),this.append(l),this.points.push(l)}},reflow:function(e){var t=this.options,n=this.points,r=this.seriesConfigs;void 0===r&&(r=[]);var o=n.length,l=e.clone(),c=Math.min(l.width(),l.height()),h=c/2,d=c-.85*c,f=new F(l.x1,l.y1,l.x1+c,l.y1+c),m=f.center(),v=l.center(),_=t.series.length,w=[],y=[],x=H(t.padding,d);x=x>h-5?h-5:x,f.translate(v.x-m.x,v.y-m.y);for(var C=h-x,S=new R(C+f.x1+x,C+f.y1+x),i=0;i<o;i++){var T=n[i],D=T.sector,E=T.seriesIx;if(D.radius=C,D.center=S,r.length){var A=r[E];D.innerRadius=A.innerRadius,D.radius=A.radius}E===_-1&&T.explode&&(D.center=D.clone().setRadius(.15*D.radius).point(D.middle())),T.reflow(f);var label=T.label;label&&"outsideEnd"===label.options.position&&E===_-1&&(label.orientation===k?y.push(label):w.push(label))}w.length>0&&(w.sort(this.labelComparator(!0)),this.leftLabelsReflow(w)),y.length>0&&(y.sort(this.labelComparator(!1)),this.rightLabelsReflow(y)),this.box=f},leftLabelsReflow:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},rightLabelsReflow:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},distanceBetweenLabels:function(e){var t=V(this.points),n=t.sector,r=e.length-1,o=n.radius+t.options.labels.distance,l=[],c=e[0].box,h=te(c.y1-(n.center.y-o-c.height()-c.height()/2));l.push(h);for(var i=0;i<r;i++){var d=e[i+1].box;c=e[i].box,h=te(d.y1-c.y2),l.push(h)}return h=te(n.center.y+o-e[r].box.y2-e[r].box.height()/2),l.push(h),l},distributeLabels:function(e,t){for(var n,r,o,l=e.length,i=0;i<l;i++)for(o=-e[i],n=r=i;o>0&&(n>=0||r<l);)o=this._takeDistance(e,i,--n,o),o=this._takeDistance(e,i,++r,o);this.reflowLabels(e,t)},_takeDistance:function(e,t,n,r){var o=r;if(e[n]>0){var l=Math.min(e[n],o);o-=l,e[n]-=l,e[t]+=l}return o},reflowLabels:function(e,t){var n,r=V(this.points),o=r.sector,l=r.options.labels,c=t.length,h=l.distance,d=o.center.y-(o.radius+h)-t[0].box.height();e[0]+=2;for(var i=0;i<c;i++){var label=t[i],f=label.box;d+=e[i],n=this.hAlignLabel(f.x2,o.clone().expand(h),d,d+f.height(),label.orientation===k),label.orientation===k?(l.align!==w&&(n=o.radius+o.center.x+h),label.reflow(new F(n+f.width(),d,n,d))):(l.align!==w&&(n=o.center.x-o.radius-h),label.reflow(new F(n-f.width(),d,n,d))),d+=f.height()}},createVisual:function(){var e=this.options.connectors,t=this.points,n=t.length;M.fn.createVisual.call(this),this._connectorLines=[];for(var i=0;i<n;i++){var r=t[i],o=r.sector,label=r.label,l=o.middle(),c=(r.options.connectors||{}).color||e.color;if(label){var h=new de({stroke:{color:c,width:e.width},animation:{type:Me,delay:r.animationDelay}});if("outsideEnd"===label.options.position){var d=label.box,f=o.center,m=o.point(l),v=new R(d.x1,d.center().y),_=void 0,w=void 0,y=void 0;m=o.clone().expand(e.padding).point(l),h.moveTo(m.x,m.y),label.orientation===k?(y=nn(f,m,v,w=new R(d.x1-e.padding,d.center().y)),v=new R(w.x-4,w.y),(y=y||v).x=Math.min(y.x,v.x),this.pointInCircle(y,o.center,o.radius+4)||y.x<o.center.x?(_=o.center.x+o.radius+4,r.options.labels.align!==Be?_<v.x?h.lineTo(_,m.y):h.lineTo(m.x+8,m.y):h.lineTo(_,m.y),h.lineTo(v.x,w.y)):(y.y=w.y,h.lineTo(y.x,y.y))):(y=nn(f,m,v,w=new R(d.x2+e.padding,d.center().y)),v=new R(w.x+4,w.y),(y=y||v).x=Math.max(y.x,v.x),this.pointInCircle(y,o.center,o.radius+4)||y.x>o.center.x?(_=o.center.x-o.radius-4,r.options.labels.align!==Be?_>v.x?h.lineTo(_,m.y):h.lineTo(m.x-8,m.y):h.lineTo(_,m.y),h.lineTo(v.x,w.y)):(y.y=w.y,h.lineTo(y.x,y.y))),h.lineTo(w.x,w.y),this._connectorLines.push(h),this.visual.append(h)}}}},labelComparator:function(e){var t=e?-1:1;return function(a,b){return((a.parent.sector.middle()+270)%360-(b.parent.sector.middle()+270)%360)*t}},hAlignLabel:function(e,t,n,r,o){var l=t.radius,c=t.center,h=c.x,d=c.y,f=Math.min(Math.abs(d-n),Math.abs(d-r));return f>l?e:h+Math.sqrt(l*l-f*f)*(o?1:-1)},pointInCircle:function(e,t,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},formatPointValue:function(e,t){return this.chartService.format.auto(t,e.value)},animationDelay:function(e){return 70*e}});function nn(e,t,n,r){var o,l=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),c=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0!==c){var h=l/c;o=new R(e.x+h*(t.x-e.x),e.y+h*(t.y-e.y))}return o}z(tn,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),O(tn.prototype,en);var rn=ii.extend({render:function(){this.createPieChart(this.series)},createPieChart:function(e){var t=e[0],n=new tn(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)},appendChart:function(e,t){ii.fn.appendChart.call(this,e,t),K(this.options.legend.items,e.legendItems)}}),on=Xi.extend({reflowLabel:function(){var e=this.options.labels,label=this.label,t=this.sector.clone(),n=t.middle();if(label){var r=label.box.height();if(e.position===d){t.radius-=(t.radius-t.innerRadius)/2;var o=t.point(n);label.reflow(new F(o.x,o.y-r/2,o.x,o.y))}else Xi.fn.reflowLabel.call(this)}},createSegment:function(e,n){return t.ShapeBuilder.current.createRing(e,n)}});z(on,{overlay:{gradient:"roundedGlass"},labels:{position:d},animation:{type:He}}),O(on.prototype,Qe);var sn=tn.extend({addValue:function(t,n,r){var o=O({},r.series,{index:r.index});if(this.evalSegmentOptions(o,t,r),this.createLegendItem(t,o,r),t&&!1!==r.visible){var l=new on(t,n,o);e.extend(l,r),this.append(l),this.points.push(l)}},reflow:function(e){for(var t,n=this.options,r=e.clone(),o=Math.min(r.width(),r.height()),l=o/2,c=o-.85*o,h=n.series,d=h.length,f=H(n.padding,c),m=l-(f=f>l-5?l-5:f),v=0,i=0;i<d;i++){var _=h[i];0===i&&E(_.holeSize)&&(t=_.holeSize,m-=_.holeSize),E(_.size)?m-=_.size:v++,E(_.margin)&&i!==d-1&&(m-=_.margin)}E(t)||(m-=t=(l-f)/(d+.75)*.75);var w,y=t,x=0;this.seriesConfigs=[];for(var k=0;k<d;k++){var C=h[k];w=(y+=x)+H(C.size,m/v),this.seriesConfigs.push({innerRadius:y,radius:w}),x=C.margin||0,y=w}tn.fn.reflow.call(this,e)},animationDelay:function(e,t,n){return 50*e+600*(t+1)/(n+1)}});z(sn,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var an=rn.extend({render:function(){this.createDonutChart(this.series)},createDonutChart:function(e){var t=e[0],n=new sn(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)}}),ln=ii.extend({initFields:function(){this.valueAxisRangeTracker=new gt},render:function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},alignAxes:function(){var e=this.valueAxis,t=e.range(),n=e.options.reverse?t.max:t.min,slot=e.getSlot(n),r=this.polarAxis.getSlot(0).center,o=e.box.translate(r.x-slot.x1,r.y-slot.y1);e.reflow(o)},createValueAxis:function(){var e,n,r=this.valueAxisRangeTracker,o=r.query(),l=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});"log"===l.type?(e=t.RadarLogarithmicAxis,n={min:.1,max:1}):(e=t.RadarNumericAxis,n={min:0,max:1});var c=r.query(name)||o||n;c&&o&&(c.min=Math.min(c.min,o.min),c.max=Math.max(c.max,o.max));var h=new e(c.min,c.max,l,this.chartService);this.valueAxis=h,this.appendAxis(h)},reflowAxes:function(){var e=this.options.plotArea,t=this.valueAxis,n=this.polarAxis,r=this.box,o=.15*Math.min(r.width(),r.height()),l=$(e.padding||{},o),c=r.clone().unpad(l),h=c.clone();h.y2=h.y1+Math.min(h.width(),h.height()),h.align(c,x,d);var f=h.clone().shrink(0,h.height()/2);n.reflow(h),t.reflow(f);var m=t.lineBox().height()-t.box.height();t.reflow(t.box.unpad({top:m})),this.axisBox=h,this.alignAxes(h)},backgroundBox:function(){return this.box},detachLabels:function(){}}),cn=Rt.extend({pointSlot:function(e,t){var n=e.center.y-t.y1,slot=R.onCircle(e.center,e.startAngle,n);return new F(slot.x,slot.y,slot.x,slot.y)}});z(cn,{clip:!1});var hn=Yi.extend({});hn.prototype.pointSlot=cn.prototype.pointSlot,z(hn,{clip:!1});var dn=pt.extend({fillToAxes:function(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)},_polarAxisCenter:function(){return this.parent.plotArea.polarAxis.box.center()},strokeSegments:function(){var e=this._strokeSegments;if(!e){var t=this._polarAxisCenter(),n=new Y(!1),r=this.points();r.push(t),(e=this._strokeSegments=n.process(r)).pop()}return e}}),un=ht.extend({fillToAxes:function(e){var t=this.parent.plotArea.polarAxis.box.center(),n=new me.Segment([t.x,t.y]);e.segments.unshift(n),e.segments.push(n)}}),pn=hn.extend({createSegment:function(e,t,n){return"smooth"===(t.line||{}).style?new dn(e,t,n):new un(e,t,n)},createMissingValue:function(e,t){var n;return Mt(e.x)&&t!==Pe&&(n={x:e.x,y:e.y},t===Fe&&(n.y=0)),n},seriesMissingValues:function(e){return e.missingValues||Fe},_hasMissingValuesGap:function(){for(var e=this.options.series,t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0},sortPoints:function(e){if(e.sort(fn),this._hasMissingValuesGap())for(var t=0;t<e.length;t++){var n=e[t];n&&(Mt(n.value.y)||"gap"!==this.seriesMissingValues(n.series)||delete e[t])}return e}});function fn(a,b){return a.value.x-b.value.x}var gn=ln.extend({createPolarAxis:function(){var e=new t.PolarAxis(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)},valueAxisOptions:function(e){return O(e,{majorGridLines:{type:D},minorGridLines:{type:D}},this.options.yAxis)},createValueAxis:function(){ln.fn.createValueAxis.call(this),this.axisY=this.valueAxis},appendChart:function(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),ii.prototype.appendChart.call(this,e,t)},createCharts:function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(Yt(e,["polarLine"]),t),this.createScatterChart(Yt(e,["polarScatter"]),t),this.createAreaChart(Yt(e,["polarArea"]),t)},createLineChart:function(e,t){if(0!==e.length){var n=new hn(this,{series:e});this.appendChart(n,t)}},createScatterChart:function(e,t){if(0!==e.length){var n=new cn(this,{series:e});this.appendChart(n,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=new pn(this,{series:e});this.appendChart(n,t)}},_dispatchEvent:function(e,t,n){var r=e._eventCoordinates(t),o=new R(r.x,r.y),l=this.axisX.getValue(o),c=this.axisY.getValue(o);null!==l&&null!==c&&e.trigger(n,{element:W(t),x:l,y:c})},createCrosshairs:function(){}});z(gn,{xAxis:{},yAxis:{}}),O(gn.prototype,si);var mn=ct.extend({pointSlot:function(e,t){var n=e.center.y-t.y1,slot=R.onCircle(e.center,e.middle(),n);return new F(slot.x,slot.y,slot.x,slot.y)},createSegment:function(e,t,n){var r=new("smooth"===t.style?nt:Ze)(e,t,n);return e.length===t.data.length&&(r.options.closed=!0),r}});z(mn,{clip:!1,limitPoints:!1});var vn=pt.extend({fillToAxes:function(){}}),_n=ht.extend({fillToAxes:function(){}}),bn=mn.extend({createSegment:function(e,t,n,r){var o,l,c,h=this.options.isStacked,style=(t.line||{}).style;return h&&n>0&&r&&(l=r.linePoints.slice(0),o=r),"smooth"===style?(c=new vn(e,t,n,o,l)).options.closed=!0:(e.push(e[0]),c=new _n(e,t,n,o,l)),c},seriesMissingValues:function(e){return e.missingValues||Fe}}),wn=on.extend({init:function(e,t){on.fn.init.call(this,e,null,t)}});z(wn,{overlay:{gradient:"none"},labels:{distance:10}});var yn=M.extend({init:function(e){M.fn.init.call(this,e),this.forEach=e.rtl?wt:bt},reflow:function(e){var t=this.options,n=this.children,r=t.gap,o=t.spacing,l=n.length,c=l+r+o*(l-1),h=e.angle/c,d=e.startAngle+h*(r/2);this.forEach(n,(function(t){var n=e.clone();n.startAngle=d,n.angle=h,t.sector&&(n.radius=t.sector.radius),t.reflow(n),t.sector=n,d+=h+h*o}))}});z(yn,{gap:1,spacing:0});var xn=M.extend({reflow:function(e){var t=this.options.reverse,n=this.children,r=n.length,o=t?r-1:0,l=t?-1:1;this.box=new F;for(var i=o;i>=0&&i<r;i+=l){var c=n[i].sector;c.startAngle=e.startAngle,c.angle=e.angle}}}),kn=kt.extend({pointType:function(){return wn},clusterType:function(){return yn},stackType:function(){return xn},categorySlot:function(e,t){return e.getSlot(t)},pointSlot:function(e,t){var slot=e.clone(),n=e.center.y;return slot.radius=n-t.y1,slot.innerRadius=n-t.y2,slot},reflowPoint:function(e,t){e.sector=t,e.reflow()},createAnimation:function(){this.options.animation.center=this.box.toRect().center(),kt.fn.createAnimation.call(this)}});kn.prototype.reflow=Ke.prototype.reflow,z(kn,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var Cn=ln.extend({createPolarAxis:function(){var e=new t.RadarCategoryAxis(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createCategoryAxesLabels()},valueAxisOptions:function(e){return this._hasBarCharts&&O(e,{majorGridLines:{type:D},minorGridLines:{type:D}}),this._isStacked100&&O(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),O(e,this.options.valueAxis)},aggregateCategories:function(){Si.prototype.aggregateCategories.call(this,this.panes)},createCategoryAxesLabels:function(){Si.prototype.createCategoryAxesLabels.call(this,this.panes)},filterSeries:function(e){return e},createCharts:function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(Yt(e,["radarArea"]),t),this.createLineChart(Yt(e,["radarLine"]),t),this.createBarChart(Yt(e,["radarColumn"]),t)},chartOptions:function(e){var t={series:e},n=e[0];if(n){var r=this.filterVisibleSeries(e),o=n.stack;t.isStacked=o&&r.length>1,t.isStacked100=o&&"100%"===o.type&&r.length>1,t.isStacked100&&(this._isStacked100=!0)}return t},createAreaChart:function(e,t){if(0!==e.length){var n=new bn(this,this.chartOptions(e));this.appendChart(n,t)}},createLineChart:function(e,t){if(0!==e.length){var n=new mn(this,this.chartOptions(e));this.appendChart(n,t)}},createBarChart:function(e,t){if(0!==e.length){var n=e[0],r=this.chartOptions(e);r.gap=n.gap,r.spacing=n.spacing;var o=new kn(this,r);this.appendChart(o,t),this._hasBarCharts=!0}},seriesCategoryAxis:function(){return this.categoryAxis},_dispatchEvent:function(e,t,n){var r=e._eventCoordinates(t),o=new R(r.x,r.y),l=this.categoryAxis.getCategory(o),c=this.valueAxis.getValue(o);null!==l&&null!==c&&e.trigger(n,{element:W(t),category:l,value:c})},createCrosshairs:function(){}});O(Cn.prototype,si,{appendChart:Si.prototype.appendChart,aggregateSeries:Si.prototype.aggregateSeries,seriesSourcePoints:Si.prototype.seriesSourcePoints}),z(Cn,{categoryAxis:{categories:[]},valueAxis:{}});var Sn=M.extend({init:function(e,t,n){M.fn.init.call(this,t),this.value=e,this.options.index=n.index},reflow:function(e){var t=this.points,label=this.children[0];this.box=new F(t[0].x,t[0].y,t[1].x,t[2].y),label&&label.reflow(new F(e.x1,t[0].y,e.x2,t[2].y))},createVisual:function(){var e,t=this,n=this.options;M.fn.createVisual.call(this),(e=n.visual?n.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:n,sender:this.getSender(),createVisual:function(){return t.createPath()}}):this.createPath())&&this.visual.append(e)},createPath:function(){var e=this.options,t=e.border;return de.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()},createHighlight:function(style){return de.fromPoints(this.points,style)},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var path=de.fromPoints(this.points).close();return{options:this.options,path:path}},tooltipAnchor:function(){var e=this.box;return{point:new R(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}},formatValue:function(e){return this.owner.formatPointValue(this,e)}});z(Sn,{color:_,border:{width:1}}),O(Sn.prototype,Qe);var Tn=M.extend({init:function(e,t){M.fn.init.call(this,t),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()},formatPointValue:function(e,t){return this.chartService.format.auto(t,e.value)},render:function(){var e=this.options,t=this.plotArea.options.seriesColors;void 0===t&&(t=[]);var n=e.series[0],data=n.data;if(data)for(var r=Gt(n),o=r.total,l=r.points,i=0;i<l.length;i++){var c=l[i];if(c){var h=c.fields;L(n.color)||(n.color=h.color||t[i%t.length]),h=O({index:i,owner:this,series:n,dataItem:data[i],percentage:c.value/o},h,{visible:c.visible});var d=c.valueFields.value,f=this.createSegment(d,h),label=this.createLabel(d,h);f&&label&&f.append(label)}}},evalSegmentOptions:function(e,t,n){var r=n.series;$e(e,{value:t,series:r,dataItem:n.dataItem,index:n.index},{defaults:r._defaults,excluded:["data","content","template","toggle","visual"]})},createSegment:function(t,n){var r=O({},n.series);if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),!1!==n.visible){var o=new Sn(t,r,n);return e.extend(o,n),this.append(o),this.points.push(o),o}},createLabel:function(e,t){var n=t.series,r=t.dataItem,o=O({},this.options.labels,n.labels),text=e;if(o.visible){var l=U(o),data={dataItem:r,value:e,percentage:t.percentage,category:t.category,series:n};if(l?text=l(data):o.format&&(text=this.plotArea.chartService.format.auto(o.format,text)),!o.color){var c=new ge(n.color).percBrightness();o.color=c>180?C:_,o.background||(o.background=n.color)}this.evalSegmentOptions(o,e,t);var h=new j(text,O({vAlign:o.position},o),data);return this.labels.push(h),h}},labelPadding:function(){for(var e=this.labels,t={left:0,right:0},i=0;i<e.length;i++){var n=e[i].options.align;if(n!==d){var r=e[i].box.width();n===v?t.left=Math.max(t.left,r):t.right=Math.max(t.right,r)}}return t},dynamicSlopeReflow:function(e,t,n){for(var r=this.options,o=this.points,l=o.length,c=o[0],h=c,d=0;d<o.length;d++)o[d].percentage>h.percentage&&(h=o[d]);for(var f=c.percentage/h.percentage*t,m=(t-f)/2,v=0,_=0;_<l;_++){var w=o[_].percentage,y=o[_+1],x=y?y.percentage:w,k=o[_].points=[],C=r.dynamicHeight?n*w:n/l,S=void 0;S=ie(S=w?(t-f*(x/w))/2:x?0:t/2,0,t),k.push(new ve(e.x1+m,e.y1+v)),k.push(new ve(e.x1+t-m,e.y1+v)),k.push(new ve(e.x1+t-S,e.y1+C+v)),k.push(new ve(e.x1+S,e.y1+C+v)),m=S,v+=C+r.segmentSpacing,f=ie(t-2*S,0,t)}},constantSlopeReflow:function(e,t,n){for(var r=this.options,o=this.points,l=o.length,c=r.neckRatio<=1,h=c?r.neckRatio*t:t,d=c?0:(t-t/r.neckRatio)/2,f=((c?t:t-2*d)-h)/2,m=0,v=0;v<l;v++){var _=o[v].points=[],w=o[v].percentage,y=r.dynamicHeight?f*w:f/l,x=r.dynamicHeight?n*w:n/l;_.push(new ve(e.x1+d,e.y1+m)),_.push(new ve(e.x1+t-d,e.y1+m)),_.push(new ve(e.x1+t-d-y,e.y1+x+m)),_.push(new ve(e.x1+d+y,e.y1+x+m)),d+=y,m+=x+r.segmentSpacing}},reflow:function(e){var t=this.points,n=t.length;if(n){var r=this.options,o=e.clone().unpad(this.labelPadding()),l=o.height()-r.segmentSpacing*(n-1),c=o.width();r.dynamicSlope?this.dynamicSlopeReflow(o,c,l):this.constantSlopeReflow(o,c,l);for(var h=0;h<n;h++)t[h].reflow(e)}}});z(Tn,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:d,position:d,zIndex:1}}),O(Tn.prototype,en);var Dn=ii.extend({render:function(){this.createFunnelChart(this.series)},createFunnelChart:function(e){var t=e[0],n=new Tn(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(n)},appendChart:function(e,t){ii.fn.appendChart.call(this,e,t),K(this.options.legend.items,e.legendItems)}}),En="color",An="first",In="max";Hi.current.register(Si,[ze,Be,Le,Ne,"area","verticalArea","candlestick","ohlc","bullet","verticalBullet","boxPlot","verticalBoxPlot","rangeColumn","rangeBar","waterfall","horizontalWaterfall","rangeArea","verticalRangeArea"]),Hi.current.register(Ki,["scatter","scatterLine","bubble"]),Hi.current.register(rn,[He]),Hi.current.register(an,["donut"]),Hi.current.register(Dn,["funnel"]),Hi.current.register(gn,["polarArea","polarLine","polarScatter"]),Hi.current.register(Cn,["radarArea","radarColumn","radarLine"]),Te.current.register([ze,Be,Le,Ne,"area","verticalArea"],[h],[Ve,En,"noteText","errorLow","errorHigh"]),Te.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],["from","to"],[Ve,En,"noteText"]),Te.current.register(["waterfall","horizontalWaterfall"],[h],[Ve,En,"noteText","summary"]),Te.current.register(["polarArea","polarLine","polarScatter"],[y,x],[En]),Te.current.register(["radarArea","radarColumn","radarLine"],[h],[En]),Te.current.register(["funnel"],[h],[Ve,En,"visibleInLegend","visible"]),hi.current.register([ze,Be,Le,Ne,"area","verticalArea","waterfall","horizontalWaterfall"],{value:In,color:An,noteText:An,errorLow:"min",errorHigh:In}),hi.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],{from:"min",to:In,color:An,noteText:An}),hi.current.register(["radarArea","radarColumn","radarLine"],{value:In,color:An}),Te.current.register(["scatter","scatterLine","bubble"],[y,x],[En,"noteText","xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Te.current.register(["bubble"],[y,x,"size"],[En,Ve,"noteText"]),Te.current.register(["candlestick","ohlc"],["open","high","low","close"],[Ve,En,"downColor","noteText"]),hi.current.register(["candlestick","ohlc"],{open:In,high:In,low:"min",close:In,color:An,downColor:An,noteText:An}),Te.current.register(["boxPlot","verticalBoxPlot"],["lower","q1","median","q3","upper","mean","outliers"],[Ve,En,"noteText"]),hi.current.register(["boxPlot","verticalBoxPlot"],{lower:In,q1:In,median:In,q3:In,upper:In,mean:In,outliers:An,color:An,noteText:An}),Te.current.register(["bullet","verticalBullet"],["current","target"],[Ve,En,"visibleInLegend","noteText"]),hi.current.register(["bullet","verticalBullet"],{current:In,target:In,color:An,noteText:An}),Te.current.register([He,"donut"],[h],[Ve,En,"explode","visibleInLegend","visible"]);var Mn=[Ve,h,y,x],Rn=n.extend({init:function(element,e,n,r){var o=this;void 0===r&&(r={}),this.observers=[],this.addObserver(r.observer),this.chartService=new ae.ChartService(this,r),this.chartService.theme=n,this._initElement(element);var l=O({},this.options,e);this._originalOptions=O({},l),this._theme=n,this._initTheme(l,n),this._initHandlers(),this._initSurface(),this.bindCategories(),t.FontLoader.preloadFonts(e,(function(){o.fontLoaded=!0,o._destroyed||(o.trigger("init"),o._redraw(),o._attachEvents())}))},_initElement:function(element){for(this._setElementClass(element),element.style.position="relative";element.firstChild;)element.removeChild(element.firstChild);this.element=element},_setElementClass:function(element){t.addClass(element,"k-chart")},_initTheme:function(t,n){for(var r=[],o=t.series||[],i=0;i<o.length;i++)r.push(e.extend({},o[i]));t.series=r,function(e){for(var t=Mn,n=0;n<t.length;n++){var r=t[n]+"Axes";e[r]&&(e[t[n]+"Axis"]=e[r],delete e[r])}}(t),this.applyDefaults(t,n),null===t.seriesColors&&delete t.seriesColors,this.options=O({},n,t),this.applySeriesColors()},getSize:function(){var e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}},resize:function(e){var t=this.getSize(),n=this._size;(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},_resize:function(){this._noTransitionsRedraw()},redraw:function(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){var t=this._model._plotArea,n=t.findPane(e);t.redraw(n)}else this._redraw()},getAxis:function(e){return we(e,this._plotArea.axes)},findAxisByName:function(e){return this.getAxis(e)},findPaneByName:function(e){for(var t=this._plotArea.panes,n=0;n<t.length;n++)if(t[n].options.name===e)return new ye(t[n])},findPaneByIndex:function(e){var t=this._plotArea.panes;if(t[e])return new ye(t[e])},plotArea:function(){return new xe(this._plotArea)},toggleHighlight:function(e,filter){var t,n,r,o=this._plotArea,l=(o.srcSeries||o.series||[])[0];L(filter)?t=o.filterPoints(filter):(N(filter)?(n=filter.series,r=filter.category):n=r=filter,t="donut"===l.type?Fn(o.pointsBySeriesName(n),r):l.type===He||"funnel"===l.type?Fn((o.charts[0]||{}).points,r):o.pointsBySeriesName(n)),t&&this.togglePointsHighlight(e,t)},togglePointsHighlight:function(e,t){for(var n=this._highlight,r=0;r<t.length;r++)n.togglePointHighlight(t[r],e)},showTooltip:function(filter){var e,t,n=this._sharedTooltip(),r=this._tooltip,o=this._plotArea;if(L(filter)?(e=o.findPoint(filter))&&n&&(t=e.categoryIx):n&&E(filter)&&(t=o.categoryAxis.categoryIndex(filter)),n){if(t>=0){var l=this._plotArea.pointsByCategoryIndex(t);r.showAt(l)}}else e&&r.show(e)},hideTooltip:function(){this._tooltip.hide()},_initSurface:function(){var e=this.surface,n=this._surfaceWrap(),r=this.options.chartArea;r.width&&t.elementSize(n,{width:r.width}),r.height&&t.elementSize(n,{height:r.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=he.Surface.create(n,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))},_surfaceWrap:function(){return this.element},_redraw:function(){var e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._model=e,this._plotArea=e._plotArea,e.renderVisual(),!1!==this.options.transitions&&e.traverse((function(element){element.animation&&element.animation.setup()})),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse((function(element){element.animation&&element.animation.play()})),this._tooltip=this._createTooltip(),this._highlight=new Ei,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),Hn(this._plotArea.panes),this._navState||this._cancelDomEvents()},exportVisual:function(e){var t;if(e&&(e.width||e.height||e.options)){var n=this.options,r=O({},e.options,{chartArea:{width:e.width,height:e.height}});Ln(this._originalOptions,r),this.options=O({},this._originalOptions,r),this._initTheme(this.options,this._theme),this.bindCategories();var o=this._getModel();o.renderVisual(),Hn(o._plotArea.panes),t=o.visual,this.options=n}else t=this.surface.exportVisual();return t},_sharedTooltip:function(){return this._plotArea instanceof Si&&this.options.tooltip.shared},_createPannable:function(){var e=this.options;!1!==e.pannable&&(this._pannable=new Ri(this._plotArea,e.pannable))},_createZoomSelection:function(){var e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new Fi(this,t))},_createMousewheelZoom:function(){var e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new Pi(this,t))},_toggleDragZoomEvents:function(){var e=this.options.pannable,t=this.options.zoomable,n=(t||{}).selection,r=(t||{}).mousewheel,o=!(e||!1!==t&&!1!==n||this.requiresHandlers(["dragStart","drag","dragEnd"])),l=(!1===t||!1===r)&&!this.requiresHandlers(["zoomStart","zoom","zoomEnd"]),element=this.element;this._dragZoomEnabled&&o&&l?(element.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||o&&l||(element.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!l)},_toggleDomEvents:function(e,t){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(e),n.toggleZoom&&n.toggleZoom(t))},_createTooltip:function(){var e=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(e):new Wi(this.chartService,e)},_createSharedTooltip:function(e){return new Ui(this._plotArea,e)},applyDefaults:function(e,t){!function(e,t){var n,r,o,l=(t||{}).axisDefaults||{};function c(e){var t=(e||{}).color||r.color,o=O({},l,l[n],r,r[n],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete o[n],o}for(var h=0;h<Mn.length;h++)n=Mn[h]+"Axis",r=e.axisDefaults||{},o=(o=[].concat(e[n])).map(c),e[n]=o.length>1?o:o[0]}(e,t),function(e,t){var n=e.series,r=n.length,o=e.seriesDefaults,l=O({},e.seriesDefaults),c=t?O({},t.seriesDefaults):{},h=O({},c);Pn(l),Pn(h);for(var i=0;i<r;i++){var d=n[i].type||e.seriesDefaults.type,f=O({data:[]},h,c[d],{tooltip:e.tooltip},l,o[d]);n[i]._defaults=f,n[i]=O({},f,n[i]),n[i].data=n[i].data||[]}}(e,t)},applySeriesColors:function(){for(var e=this.options,t=e.series,n=e.seriesColors||[],i=0;i<t.length;i++){var r=t[i],o=n[i%n.length],l=r._defaults;r.color=r.color||o,l&&(l.color=l.color||o)}},_getModel:function(){var e=this.options,n=this._createPlotArea(),r=new t.RootElement(this._modelOptions());return r.chart=this,r._plotArea=n,t.Title.buildTitle(e.title,r),e.legend.visible&&r.append(new Li(n.options.legend,this.chartService)),r.append(n),r.reflow(),r},_modelOptions:function(){var e=this.options,t=this.getSize();return O({transitions:e.transitions,width:t.width||o.DEFAULT_WIDTH,height:t.height||o.DEFAULT_HEIGHT},e.chartArea)},_createPlotArea:function(e){var t=this.options;return Hi.current.create(e?[]:t.series,t,this.chartService)},_setupSelection:function(){for(var e=this._plotArea.axes,t=this._selections=[],i=0;i<e.length;i++){var n=e[i],r=n.options;if(n instanceof Z&&r.select&&!r.vertical){var o=n.range(),l=new Vi(this,n,O({min:o.min,max:o.max},r.select));t.push(l)}}},_selectStart:function(e){return this.trigger("selectStart",e)},_select:function(e){return this.trigger("select",e)},_selectEnd:function(e){return this.trigger("selectEnd",e)},_initHandlers:function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=kendo.throttle(this._mousemove.bind(this),20)},addObserver:function(e){e&&this.observers.push(e)},removeObserver:function(e){var t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)},requiresHandlers:function(e){for(var t=this.observers,n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0},trigger:function(e,t){void 0===t&&(t={}),"showTooltip"===e&&(t.anchor.point=this._toDocumentCoordinates(t.anchor.point)),t.sender=this;for(var n=this.observers,r=!1,o=0;o<n.length;o++)n[o].trigger(e,t)&&(r=!0);return r},_attachEvents:function(){var e,t,element=this.element;this._touchAction=element.style.touchAction,se(element,((e={}).contextmenu=this._clickHandler,e[We]=this._mousewheelHandler,e.mouseleave=this._mouseleaveHandler,e)),this._shouldAttachMouseMove()&&se(element,((t={}).mousemove=this._mousemove,t)),this.domEvents=ae.DomEventsBuilder.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},_mouseleave:function(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger("plotAreaLeave"),this._plotArea.hovered=!1)},_cancelDomEvents:function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},_gesturestart:function(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this.surface.suspendTracking())},_gestureend:function(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger("zoomEnd",{}))},_gesturechange:function(e){var t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();var n=this._gestureDistance,r=-e.distance/n+1;if(Math.abs(r)>=.1){r=Math.round(10*r),this._gestureDistance=e.distance;var o={delta:r,axisRanges:zn(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger("zoomStart",o)||(this._zooming||(this._zooming=!0),(o.axisRanges=t.updateRanges(r))&&!this.trigger("zoom",o)&&t.zoom())}}},_mouseout:function(e){if(e.element){var element=this._drawingChartElement(e.element,e);element&&element.leave&&element.leave(this,e.originalEvent)}},_start:function(e){var t=this._eventCoordinates(e);!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(t)&&(this.requiresHandlers(["dragStart","drag","dragEnd"])&&this._startNavigation(e,t,"dragStart"),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger("zoomStart",{axisRanges:zn(this._plotArea.axes),originalEvent:e}))},_move:function(e){var t=this._navState,n=this._pannable;if(!this._stopChartHandlers(e)){if(n){var r=n.move(e);r&&!this.trigger("drag",{axisRanges:r,originalEvent:e})&&n.pan()}else if(t){for(var o={},l=t.axes,i=0;i<l.length;i++){var c=l[i];if(c.options.name){var h=c.options.vertical?e.y:e.x,d=h.startLocation-h.location;0!==d&&(o[c.options.name]=c.translateRange(d))}}t.axisRanges=o,this.trigger("drag",{axisRanges:o,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}},_end:function(e){if(!this._stopChartHandlers(e)){var t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger("dragEnd",{axisRanges:zn(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,"dragEnd"),this._zoomSelection){var n=this._zoomSelection.end(e);n&&!this.trigger("zoom",{axisRanges:n,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger("zoomEnd",{axisRanges:n,originalEvent:e}))}}},_stopChartHandlers:function(e){var t=this._selections||[];if(!t.length)return!1;var n=this._eventCoordinates(e),r=this._plotArea.paneByPoint(n);if(r)for(var o=0;o<t.length;o++)if(t[o].onPane(r))return!0},_mousewheel:function(e){var n=this,r=t.mousewheelDelta(e),o=this._mousewheelZoom,l=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(l))if(o){var c={delta:r,axisRanges:zn(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger("zoomStart",c)||(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),c.axisRanges=o.updateRanges(r),c.axisRanges&&!this.trigger("zoom",c)&&o.zoom(),this._mwTimeout=setTimeout((function(){n.trigger("zoomEnd",c),n._zooming=!1,n.surface&&n.surface.resumeTracking()}),150))}else{var h=this._navState;if(h||this._startNavigation(e,l,"zoomStart")||(h=this._navState),h){var d=h.totalDelta||r;h.totalDelta=d+r;for(var f=this._navState.axes,m={},i=0;i<f.length;i++){var v=f[i],_=v.options.name;_&&(m[_]=v.scaleRange(-d))}this.trigger("zoom",{delta:r,axisRanges:m,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){n._endNavigation(e,"zoomEnd")}),150)}}},_startNavigation:function(e,t,n){var r=this._model._plotArea,o=r.findPointPane(t),l=r.axes.slice(0);if(o){var c=zn(l);this.trigger(n,{axisRanges:c,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:c,pane:o,axes:l})}},_endNavigation:function(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)},_getChartElement:function(e,t){var element=this.surface.eventTarget(e);if(element)return this._drawingChartElement(element,e,t)},_drawingChartElement:function(element,e,t){for(var n,r=element;r&&!n;)n=r.chartElement,r=r.parent;if(n)return n.aliasFor&&(n=n.aliasFor(e,this._eventCoordinates(e))),t&&(n=n.closest(t))&&n.aliasFor&&(n=n.aliasFor()),n},_eventCoordinates:function(e){var n=t.eventCoordinates(e);return this._toModelCoordinates(n.x,n.y)},_elementPadding:function(){if(!this._padding){var e=re(this.element,["paddingLeft","paddingTop"]),t=e.paddingLeft,n=e.paddingTop;this._padding={top:n,left:t}}return this._padding},_toDocumentCoordinates:function(e){var n=this._elementPadding(),r=t.elementOffset(this.element);return{left:te(e.x+n.left+r.left),top:te(e.y+n.top+r.top)}},_toModelCoordinates:function(e,n){var element=this.element,r=t.elementOffset(element),o=this._elementPadding();return new R(e-r.left-o.left,n-r.top-o.top)},_tap:function(e){var t=this,n=this.surface.eventTarget(e),element=this._drawingChartElement(n,e),r=this._sharedTooltip();this._startHover(n,e)||r||this._unsetActivePoint(),r&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(element,e),this.handlingTap=!0,setTimeout((function(){t.handlingTap=!1}),0)},_click:function(e){var element=this._getChartElement(e);this._propagateClick(element,e)},_propagateClick:function(element,e){for(var t=element;t;)t.click&&t.click(this,e),t=t.parent},_startHover:function(element,e){if(this._suppressHover)return!1;var t=this._drawingChartElement(element,e,(function(element){return(element.hover||element.over)&&!(element instanceof ii)})),n=this._activePoint,r=this._hoveredPoint;return r&&r!==t&&(r.out(this,e),this._hoveredPoint=null),t&&r!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e)),t&&n!==t&&t.hover&&(this._activePoint=t,this._sharedTooltip()||t.hover(this,e)||(O({},this.options.tooltip,t.options.tooltip).visible&&this._tooltip.show(t),this._highlight.show(t))),t},_mouseover:function(e){var t,n=this._startHover(e.element,e.originalEvent);n&&n.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),se(document,((t={}).mousemove=this._mouseMoveTrackHandler,t)))},_mouseMoveTracking:function(e){var t,n=this.options,r=this._tooltip,o=this._highlight,l=this._activePoint,c=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(c)){if(l&&l.tooltipTracking&&l.series&&l.parent.getNearestPoint){var h=l.parent.getNearestPoint(c.x,c.y,l.seriesIx);h&&h!==l&&(this._activePoint=h,h.hover(this,e)||(O({},n.tooltip,h.options.tooltip).visible&&r.show(h),o.show(h)))}}else le(document,((t={}).mousemove=this._mouseMoveTrackHandler,t)),this._unsetActivePoint(),this._mouseMoveTrackHandler=null},_mousemove:function(e){var t=this._eventCoordinates(e),n=this._plotArea;if(this._trackCrosshairs(t),n.hover){var r=n.backgroundContainsPoint(t);r?(n.hovered=!0,this._plotArea.hover(this,e)):n.hovered&&!r&&(this.trigger("plotAreaLeave"),n.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(t,e)},_trackCrosshairs:function(e){for(var t=this._plotArea.crosshairs,i=0;i<t.length;i++){var n=t[i];n.box.containsPoint(e)?n.showAt(e):n.hide()}},_trackSharedTooltip:function(e,t,n){if(!this._suppressHover){var r=this.options.tooltip,o=this._plotArea,l=this._plotArea.categoryAxis,c=this._tooltip,h=this._highlight;if(o.backgroundContainsPoint(e)){var d=l.pointCategoryIndex(e);if(d!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var f=o.pointsByCategoryIndex(d),m=f.map((function(e){return e.eventArgs(t)})),v=m[0]||{};v.categoryPoints=m,f.length>0&&!this.trigger("seriesHover",v)?(r.visible&&c.showAt(f,e),h.show(f),this._sharedHighlight=!0):c.hide(),this._tooltipCategoryIx=d}else n&&this._sharedHighlight&&(h.hide(),c.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(h.hide(),c.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},hideElements:function(){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint()},_unsetActivePoint:function(){var e=this._tooltip,t=this._highlight;this._activePoint=null,this._hoveredPoint=null,e&&e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,t&&t.hide()},_deferRedraw:function(){this._redraw()},_clearRedrawTimeout:function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},bindCategories:function(){for(var e=this.options,t=[].concat(e.categoryAxis),n=0;n<t.length;n++){var r=t[n];!1!==r.autoBind&&this.bindCategoryAxisFromSeries(r,n)}},bindCategoryAxisFromSeries:function(e,n){for(var r,o=this.options.series,l=o.length,c=new t.HashMap,h=[],d=!1,f=0;f<l;f++){var s=o[f],m=s.categoryAxis===e.name||!s.categoryAxis&&0===n,data=s.data,v=data.length,_=s.categoryField&&m;if(d=_||d,_&&v>0)for(var w=(r=Qt(e,Se(s.categoryField,data[0])))?Kt:Se,y=0;y<v;y++){var x=data[y],k=w(s.categoryField,x,this.chartService.intl);!r&&c.get(k)||(h.push([k,x]),r||c.set(k,!0))}}if(h.length>0){r&&(h=function(e,n){void 0===n&&(n=t.dateComparer);for(var r=function(e,n){void 0===n&&(n=t.dateComparer);for(var i=1,r=e.length;i<r;i++)if(n(e[i],e[i-1])<0){e.sort(n);break}return e}(e,n),o=r.length,l=o>0?[r[0]]:[],i=1;i<o;i++)0!==n(r[i],V(l))&&l.push(r[i]);return l}(h,(function(a,b){return t.dateComparer(a[0],b[0])})));var C=function(e){for(var t=e.length,n=[],r=0;r<t;r++)for(var o=e[r],l=o.length,c=0;c<l;c++)n[c]=n[c]||[],n[c].push(o[c]);return n}(h);e.categories=C[0]}else d&&(e.categories=[])},_isBindable:function(e){for(var t=Te.current.valueFields(e),n=!0,i=0;i<t.length;i++){var r=t[i];if(r===h?r="field":r+="Field",!E(e[r])){n=!1;break}}return n},_noTransitionsRedraw:function(){var e,t=this.options;t.transitions&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)},_legendItemHover:function(e,t){var n,r=this._plotArea,o=this._highlight,l=(r.srcSeries||r.series)[e];n=B(l.type,[He,"donut","funnel"])?r.findPoint((function(n){return n.series.index===e&&n.index===t})):r.pointsBySeriesIndex(e),o.show(n)},_shouldAttachMouseMove:function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers(["plotAreaHover","plotAreaLeave"])},updateMouseMoveHandler:function(){var e,t;le(this.element,((e={}).mousemove=this._mousemove,e)),this._shouldAttachMouseMove()&&se(this.element,((t={}).mousemove=this._mousemove,t))},applyOptions:function(e,t){Ln(this._originalOptions,e),this._originalOptions=O(this._originalOptions,e),this.options=O({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},setOptions:function(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()},setDirection:function(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()},setIntlService:function(e){this.chartService.intl=e},noTransitionsRedraw:function(){this._noTransitionsRedraw()},destroy:function(){var e,t;this._destroyed=!0,le(this.element,((e={}).contextmenu=this._clickHandler,e[We]=this._mousewheelHandler,e.mousemove=this._mousemove,e.mouseleave=this._mouseleaveHandler,e)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&le(document,((t={}).mousemove=this._mouseMoveTrackHandler,t)),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},_destroySurface:function(){var e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)},_destroyView:function(){var e=this._model,t=this._selections;if(e&&(e.destroy(),this._model=null),t)for(;t.length>0;)t.shift().destroy();this._unsetActivePoint(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}});function Fn(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n].category===t)return[e[n]]}function Pn(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function zn(e){for(var t={},i=0;i<e.length;i++){var n=e[i],r=n.options.name;r&&(t[r]=n.range())}return t}var Bn=["data","categories"];function Ln(e,t){for(var n in t)if(!B(n,Bn)&&t.hasOwnProperty(n)){var r=t[n],o=e[n];if(E(o)){var l=null===r;l||!E(r)?(delete e[n],l&&delete t[n]):o&&N(r)&&N(o)&&Ln(o,r)}}}function Hn(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}z(Rn,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Be,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1}),kendo.deepExtend(kendo.dataviz,{constants:Ue,Aggregates:Ce,AreaChart:ft,AreaSegment:ht,AxisGroupRangeTracker:gt,Bar:_t,BarChart:kt,BarLabel:mt,BoxPlotChart:At,BoxPlot:Dt,BubbleChart:Pt,Bullet:Bt,BulletChart:Lt,CandlestickChart:Tt,Candlestick:Ct,CategoricalChart:Ke,CategoricalErrorBar:qe,CategoricalPlotArea:Si,Chart:Rn,ChartContainer:Vt,ClipAnimation:st,ClusterLayout:yt,Crosshair:Ot,CrosshairTooltip:Nt,DefaultAggregates:hi,DonutChart:sn,DonutPlotArea:an,DonutSegment:on,ErrorBarBase:je,ErrorRangeCalculator:Ae,Highlight:Ei,SharedTooltip:Ui,Legend:Li,LegendItem:Bi,LegendLayout:zi,LineChart:ct,LinePoint:Je,LineSegment:Ze,Pane:Wt,PieAnimation:$i,PieChart:tn,PieChartMixin:en,PiePlotArea:rn,PieSegment:Xi,PlotAreaBase:ii,PlotAreaEventsMixin:si,PlotAreaFactory:Hi,PointEventsMixin:Qe,RangeBar:di,RangeBarChart:ui,RangeAreaPoint:fi,RangeAreaChart:_i,ScatterChart:Rt,ScatterErrorBar:It,ScatterLineChart:Yi,Selection:Vi,SeriesAggregator:ai,SeriesBinder:Te,SplineSegment:nt,SplineAreaSegment:pt,StackWrap:xt,Tooltip:Wi,OHLCChart:wi,OHLCPoint:bi,WaterfallChart:xi,WaterfallSegment:yi,XYPlotArea:Ki,MousewheelZoom:Pi,ZoomSelection:Fi,Pannable:Ri,ChartAxis:be,ChartPane:ye,ChartPlotArea:xe,findAxisByName:we,anyHasZIndex:at,appendIfNotNull:jt,areNumbers:St,bindSegments:Gt,categoriesCount:Ye,countNumbers:ke,equalsIgnoreCase:$t,evalOptions:$e,filterSeriesByType:Yt,getDateField:Kt,getField:Se,hasGradientOverlay:vt,hasValue:Mt,isDateAxis:Qt,segmentVisible:qt,singleItemOrArray:Xt,createOutOfRangePoints:ti})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},862:function(e,t){e.exports=n(0)},863:function(e,t){e.exports=n(38)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(912)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},909:function(e,t){e.exports=n(146)},912:function(e,t,n){var r,o,l;n(3),o=[n(909)],void 0===(l="function"==typeof(r=function(){!function(){window.kendo.dataviz=window.kendo.dataviz||{};var e=kendo.dataviz,t=e.elementStyles,n=e.deepExtend,r=e.toTime,o=e.constants,l=e.Chart,c=kendo.drawing,h=c.Animation.extend({setup:function(){this._initialOpacity=parseFloat(t(this.element,"opacity").opacity)},step:function(n){t(this.element,{opacity:String(e.interpolateValue(this._initialOpacity,0,n))})},abort:function(){c.Animation.fn.abort.call(this),t(this.element,{display:"none",opacity:String(this._initialOpacity)})},cancel:function(){c.Animation.fn.abort.call(this),t(this.element,{opacity:String(this._initialOpacity)})}});function d(e,style){var div=document.createElement("div");return div.className=e,style&&(div.style.cssText=style),div}var f=e.Class.extend({init:function(e,r,o){this.options=n({},this.options,o),this.container=e,this.chartService=r;var l=t(e,["paddingLeft","paddingTop"]);this.chartPadding={top:l.paddingTop,left:l.paddingLeft},this.createElements(),e.appendChild(this.element)},createElements:function(){var element=this.element=d("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=d("k-tooltip k-chart-tooltip"),t=this.scroll=d("k-scroll");e.innerHTML="&nbsp;",element.appendChild(e),element.appendChild(t)},show:function(n,o,l){var element=this.element,c=this.options,h=this.scroll,d=this.tooltip,f=e.toDate(r(n)+r(o-n)/2),m=.4*l.width(),v=l.center().x-m,_=(l.center().x-v)/(c.max-c.min),w=f-c.min,text=this.chartService.intl.format(c.format,n,o),template=e.getTemplate(c);this.clearHideTimeout(),this._visible||(t(element,{visibility:"hidden",display:"block"}),this._visible=!0),template&&(text=template({from:n,to:o})),d.innerHTML=text,t(d,{left:l.center().x-d.offsetWidth/2,top:l.y1});var y=t(d,["marginTop","borderTopWidth","height"]);t(h,{width:m,left:v+w*_,top:l.y1+y.marginTop+y.borderTopWidth+y.height/2}),t(element,{visibility:"visible"})},clearHideTimeout:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},hide:function(){var e=this;this.clearHideTimeout(),this._hideTimeout=setTimeout((function(){e._visible=!1,e._hideAnimation=new h(e.element),e._hideAnimation.setup(),e._hideAnimation.play()}),this.options.hideDelay)},destroy:function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}});e.setDefaultOptions(f,{format:"{0:d} - {1:d}",hideDelay:500});var m={NAVIGATOR_AXIS:"_navigator",NAVIGATOR_PANE:"_navigator"},v=e.Class.extend({init:function(t){this.chart=t;var r,l=this.options=n({},this.options,t.options.navigator),select=l.select;select&&(select.from=this.parseDate(select.from),select.to=this.parseDate(select.to)),e.defined(l.hint.visible)||(l.hint.visible=l.visible),this.chartObserver=new e.InstanceObserver(this,((r={})[o.DRAG]="_drag",r[o.DRAG_END]="_dragEnd",r[o.ZOOM]="_zoom",r[o.ZOOM_END]="_zoomEnd",r)),t.addObserver(this.chartObserver)},parseDate:function(t){return e.parseDate(this.chart.chartService.intl,t)},clean:function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},destroy:function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},redraw:function(){this._redrawSelf(),this.initSelection()},initSelection:function(){var t,n=this.chart,r=this.options,o=this.mainAxis(),l=o.roundedRange(),c=l.min,h=l.max,d=r.select,m=d.from,v=d.to,w=d.mousewheel,y=(t=o,_.prototype=t,new _);0!==o.categoriesCount()&&(this.clean(),y.box=o.box,this.selection=new e.Selection(n,y,{min:c,max:h,from:m||c,to:v||h,mousewheel:e.valueOrDefault(w,{zoom:"left"}),visible:r.visible},new e.InstanceObserver(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),r.hint.visible&&(this.hint=new f(n.element,n.chartService,{min:c,max:h,template:e.getTemplate(r.hint),format:r.hint.format})))},setRange:function(){var e=this.chart._createPlotArea(!0).namedCategoryAxes._navigator.roundedRange(),t=e.min,r=e.max,select=this.options.select||{},o=select.from||t;o<t&&(o=t);var l=select.to||r;l>r&&(l=r),this.options.select=n({},select,{from:o,to:l}),this.filterAxes()},_redrawSelf:function(t){var n=this.chart._plotArea;n&&n.redraw(e.last(n.panes),t)},redrawSlaves:function(){var e=this.chart,t=e._plotArea,n=t.panes.slice(0,-1);t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(n)},_drag:function(t){var n,o=this.chart,l=this.selection,c=o._eventCoordinates(t.originalEvent),h=this.mainAxis(),d=h.roundedRange(),f=h.pane.box.containsPoint(c),m=o._plotArea.categoryAxis,v=t.axisRanges[m.options.name],select=this.options.select;if(v&&!f&&l){n=select.from&&select.to?r(select.to)-r(select.from):r(l.options.to)-r(l.options.from);var _=e.toDate(e.limitValue(r(v.min),d.min,r(d.max)-n)),w=e.toDate(e.limitValue(r(_)+n,r(d.min)+n,d.max));this.options.select={from:_,to:w},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),l.set(_,w),this.showHint(_,w)}},_dragEnd:function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},readSelection:function(){var e=this.selection.options,t=e.from,n=e.to,select=this.options.select;select.from=t,select.to=n},filterAxes:function(){var select=this.options.select;void 0===select&&(select={});for(var e=this.chart.options.categoryAxis,t=select.from,n=select.to,r=0;r<e.length;r++){var o=e[r];"_navigator"!==o.pane&&(o.min=t,o.max=n)}},filter:function(){var t=this.chart,select=this.options.select;if(t.requiresHandlers(["navigatorFilter"])){var r=this.mainAxis(),o={from:select.from,to:select.to};if("category"!==r.options.type){var l=new e.DateCategoryAxis(n({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[select.from,select.to]}),t.chartService).options;o.from=e.addDuration(l.min,-l.baseUnitStep,l.baseUnit),o.to=e.addDuration(l.max,l.baseUnitStep,l.baseUnit)}this.chart.trigger("navigatorFilter",o)}},_zoom:function(e){var t=this.chart._plotArea.categoryAxis,n=this.selection,r=this.options,select=r.select,o=r.liveDrag,l=this.mainAxis(),c=e.delta;if(n){var h=l.categoryIndex(n.options.from),d=l.categoryIndex(n.options.to);e.originalEvent.preventDefault(),Math.abs(c)>1&&(c*=3),d-h>1?(n.expand(c),this.readSelection()):(t.options.min=select.from,select.from=t.scaleRange(-e.delta).min),o&&(this.filterAxes(),this.redrawSlaves()),n.set(select.from,select.to),this.showHint(this.options.select.from,this.options.select.to)}},_zoomEnd:function(e){this._dragEnd(e)},showHint:function(e,t){var n=this.chart._plotArea;this.hint&&this.hint.show(e,t,n.backgroundBox())},_selectStart:function(e){return this.chart._selectStart(e)},_select:function(e){return this.showHint(e.from,e.to),this.chart._select(e)},_selectEnd:function(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)},mainAxis:function(){var e=this.chart._plotArea;if(e)return e.namedCategoryAxes._navigator},select:function(e,t){var select=this.options.select;return e&&t&&(select.from=this.parseDate(e),select.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:select.from,to:select.to}}});function _(){}v.setup=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e.__navi){e.__navi=!0;var r=n({},t.navigator,e.navigator),o=e.panes=[].concat(e.panes),l=n({},r.pane,{name:"_navigator"});r.visible||(l.visible=!1,l.height=.1),o.push(l),v.attachAxes(e,r),v.attachSeries(e,r,t)}},v.attachAxes=function(t,r){var l=r.series||[],c=t.categoryAxis=[].concat(t.categoryAxis),h=t.valueAxis=[].concat(t.valueAxis),d=0===e.filterSeriesByType(l,o.EQUALLY_SPACED_SERIES).length,base=n({type:"date",pane:"_navigator",roundToBaseUnit:!d,justified:d,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:r.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),f=r.categoryAxis;c.push(n({},base,{maxDateGroups:200},f,{name:"_navigator",title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),n({},base,f,{name:"_navigator_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),n({},base,f,{name:"_navigator_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),h.push(n({name:"_navigator",pane:"_navigator",majorGridLines:{visible:!1},visible:!1},r.valueAxis))},v.attachSeries=function(e,t,r){for(var o=e.series=e.series||[],l=[].concat(t.series||[]),c=r.seriesColors,h=t.seriesDefaults,d=0;d<l.length;d++)o.push(n({color:c[d%c.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},h,l[d],{axis:"_navigator",categoryAxis:"_navigator",autoBind:t.autoBindElements}))};var w=l.extend({applyDefaults:function(t,r){var c=e.elementSize(this.element).width||o.DEFAULT_WIDTH,h=r,d={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(c/28)}}};h&&(h=n({},h,d)),v.setup(t,h),l.fn.applyDefaults.call(this,t,h)},_setElementClass:function(element){e.addClass(element,"k-chart k-stockchart")},setOptions:function(e){this.destroyNavigator(),l.fn.setOptions.call(this,e)},noTransitionsRedraw:function(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e},_resize:function(){this.noTransitionsRedraw()},_redraw:function(){var e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()},_dirty:function(){var t=this.options,n=[].concat(t.series,t.navigator.series),r=e.grep(n,(function(s){return s&&s.visible})).length,o=this._seriesCount!==r;return this._seriesCount=r,o},_fullRedraw:function(){var e=this.navigator;e||(e=this.navigator=new v(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),l.fn._redraw.call(this),e.initSelection()},_trackSharedTooltip:function(e){var t=this._plotArea.paneByPoint(e);t&&"_navigator"===t.options.name?this._unsetActivePoint():l.fn._trackSharedTooltip.call(this,e)},bindCategories:function(){l.fn.bindCategories.call(this),this.copyNavigatorCategories()},copyNavigatorCategories:function(){for(var e,t=[].concat(this.options.categoryAxis),n=0;n<t.length;n++){var r=t[n];"_navigator"===r.name?e=r.categories:e&&"_navigator"===r.pane&&(r.categories=e)}},destroyNavigator:function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},destroy:function(){this.destroyNavigator(),l.fn.destroy.call(this)},_stopChartHandlers:function(e){var t=this._eventCoordinates(e),n=this._plotArea.paneByPoint(t);return l.fn._stopChartHandlers.call(this,e)||n&&"_navigator"===n.options.name}});e.setDefaultOptions(w,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}}),kendo.deepExtend(kendo.dataviz,{constants:m,Navigator:v,NavigatorHint:f,StockChart:w})}()})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(908)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},908:function(e,t,n){var r,o,l;n(3),o=[n(909)],void 0===(l="function"==typeof(r=function(){!function(){window.kendo.dataviz=window.kendo.dataviz||{};var e=kendo.dataviz,t=e.constants,n=e.Chart,r=e.elementSize,o=e.deepExtend,l=e.SharedTooltip.extend({_slotAnchor:function(t,slot){var n=this.plotArea.categoryAxis.options.vertical,r=n?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:n?new e.Point(this.plotArea.box.x2,slot.center().y):new e.Point(slot.center().x,-2),align:r}},_defaultAnchor:function(e,slot){return this._slotAnchor({},slot)}}),c=[t.BAR,t.BULLET];function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t[n]=r.style.display,r.style.display="none"}return t}function d(e,t){for(var n=0;n<e.length;n++)e[n].style.display=t[n]}function f(t){return e.isNumber(t)?[t]:t}var m=n.extend({_setElementClass:function(element){e.addClass(element,"k-sparkline")},_initElement:function(element){n.fn._initElement.call(this,element),this._initialWidth=Math.floor(r(element).width)},_resize:function(){var element=this.element,e=h(element.childNodes);this._initialWidth=Math.floor(r(element).width),d(element.childNodes,e),n.fn._resize.call(this)},_modelOptions:function(){var e=this.options,t=this._surfaceWrap(),n=h(t.childNodes),l=document.createElement("span");l.innerHTML="&nbsp;",t.appendChild(l);var c=o({width:this._autoWidth,height:r(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return r(t,{width:c.width,height:c.height}),t.removeChild(l),d(t.childNodes,n),this.surface&&this.surface.resize(),c},_surfaceWrap:function(){if(!this.stage){var e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage},_createPlotArea:function(e){var t=n.fn._createPlotArea.call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(t),t},_calculateWidth:function(n){for(var o=this.options,l=e.getSpacing(o.chartArea.margin),c=n.charts,h=this._surfaceWrap(),d=0,i=0;i<c.length;i++){var f=c[i],m=(f.options.series||[])[0];if(m){if(m.type===t.BAR)return 150;if(m.type===t.BULLET)return 150;if(m.type===t.PIE)return r(h).height;var v=f.categoryAxis;if(v){var _=v.categoriesCount()*(!f.options.isStacked&&e.inArray(m.type,[t.COLUMN,t.VERTICAL_BULLET])?f.seriesOptions.length:1);d=Math.max(d,_)}}}var w=d*o.pointWidth;return w>0&&(w+=l.left+l.right),w},_createSharedTooltip:function(e){return new l(this._plotArea,e)}});m.normalizeOptions=function(t){var n=f(t);return(n=e.isArray(n)?{seriesDefaults:{data:n}}:o({},n)).series||(n.series=[{data:f(n.data)}]),o(n,{seriesDefaults:{type:n.type}}),(e.inArray(n.series[0].type,c)||e.inArray(n.seriesDefaults.type,c))&&(n=o({},{categoryAxis:{crosshair:{visible:!1}}},n)),n},e.setDefaultOptions(m,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]}),kendo.deepExtend(kendo.dataviz,{Sparkline:m})}()})?r.apply(t,o):r)||(e.exports=l)},909:function(e,t){e.exports=n(146)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(887)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},859:function(e,t){e.exports=n(7)},887:function(e,t,n){var r,o,l;n(3),o=[n(888),n(859)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=Math,r=n.atan,o=n.exp,l=n.pow,c=n.sin,h=n.log,d=n.tan,f=window.kendo,m=f.Class,v=f.dataviz,_=f.deepExtend,g=f.geometry,w=g.Point,y=v.map.Location,x=f.drawing.util,k=x.rad,C=x.deg,S=x.limitValue,T=n.PI,D=T/2,E=T/4,A=T/180,I={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},M=m.extend({init:function(e){this._initOptions(e)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:I},forward:function(e,t){var n=this.options,r=n.datum.a,o=n.centralMeridian,l=S(e.lat,-this.MAX_LAT,this.MAX_LAT),c=t?S(e.lng,-this.MAX_LNG,this.MAX_LNG):e.lng,h=k(c-o)*r,d=this._projectLat(l);return new w(h,d)},_projectLat:function(e){var t=this.options.datum,n=t.e,r=t.a,o=k(e),f=d(E+o/2),m=n*c(o),p=l((1-m)/(1+m),n/2);return r*h(f*p)},inverse:function(e,t){var n=this.options,r=n.datum.a,o=n.centralMeridian,l=e.x/(A*r)+o,c=S(this._inverseY(e.y),-this.MAX_LAT,this.MAX_LAT);return t&&(l=S(l,-this.MAX_LNG,this.MAX_LNG)),new y(c,l)},_inverseY:function(e){var i,t=this.options.datum,h=t.a,d=t.e,f=d/2,m=o(-e/h),v=D-2*r(m);for(i=0;i<=this.INVERSE_ITERATIONS;i++){var _=d*c(v),p=l((1-_)/(1+_),f),w=D-2*r(m*p)-v;if(v+=w,n.abs(w)<=this.INVERSE_CONVERGENCE)break}return C(v)}}),R=M.extend({MAX_LAT:85.0511287798,_projectLat:function(e){var t=this.options.datum.a,n=k(e),r=d(E+n/2);return t*h(r)},_inverseY:function(e){var t=this.options.datum.a,n=o(-e/t);return C(D-2*r(n))}}),F=m.extend({forward:function(e){return new w(e.lng,e.lat)},inverse:function(e){return new y(e.y,e.x)}}),P=m.extend({init:function(){var e=this._proj=new R,t=this.c=2*T*e.options.datum.a;this._tm=g.transform().translate(.5,.5).scale(1/t,-1/t),this._itm=g.transform().scale(t,-t).translate(-.5,-.5)},toPoint:function(e,t,n){return this._proj.forward(e,n).transform(this._tm).scale(t||1)},toLocation:function(e,t,n){return e=e.clone().scale(1/(t||1)).transform(this._itm),this._proj.inverse(e,n)}});_(v,{map:{crs:{EPSG3395:m.extend({init:function(){this._proj=new M},toPoint:function(e){return this._proj.forward(e)},toLocation:function(e){return this._proj.inverse(e)}}),EPSG3857:P,EPSG4326:m.extend({init:function(){this._proj=new F},toPoint:function(e){return this._proj.forward(e)},toLocation:function(e){return this._proj.inverse(e)}})},datums:{WGS84:I},projections:{Equirectangular:F,Mercator:M,SphericalMercator:R}}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},888:function(e,t){e.exports=n(43)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(900)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},891:function(e,t){e.exports=n(43)},897:function(e,t){e.exports=n(99)},900:function(e,t,n){var r,o,l;n(3),o=[n(897),n(891)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo.jQuery.proxy,r=window.kendo,o=r.Class,l=r.data.DataSource,c=r.dataviz,h=r.deepExtend,g=r.geometry,d=r.drawing,f=d.Group,m=d.util.last,v=d.util.defined,map=c.map,_=map.Location,w=map.layers.Layer,y=w.extend({init:function(map,e){this._pan=n(this._pan,this),w.fn.init.call(this,map,e),this.surface=d.Surface.create(this.element,{width:map.scrollElement.width(),height:map.scrollElement.height()}),this._initRoot(),this.movable=new r.ui.Movable(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this._initDataSource()},options:{autoBind:!0},destroy:function(){w.fn.destroy.call(this),this.surface.destroy(),this.dataSource.unbind("change",this._dataChange)},setDataSource:function(e){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=r.data.DataSource.create(e),this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_reset:function(){w.fn._reset.call(this),this._translateSurface(),this._data&&this._load(this._data)},_initRoot:function(){this._root=new f,this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear(),this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var e=this.options.dataSource;this._dataChange=n(this._dataChange,this),this.dataSource=l.create(e).bind("change",this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(e){this._data=e.sender.view(),this._load(this._data)},_load:function(data){this._clearMarkers(),this._loader||(this._loader=new x(this.map,this.options.style,this));for(var e=new f,i=0;i<data.length;i++){var t=this._loader.parse(data[i]);t&&e.append(t)}this._root.clear(),this._root.append(e)},shapeCreated:function(e){var t=!1;if(e instanceof d.Circle&&(t=v(this._createMarker(e))),!t){var n={layer:this,shape:e};t=this.map.trigger("shapeCreated",n)}return t},featureCreated:function(e){e.layer=this,this.map.trigger("shapeFeatureCreated",e)},_createMarker:function(e){var marker=this.map.markers.bind({location:e.location},e.dataItem);return marker&&this._markers.push(marker),marker},_clearMarkers:function(){for(var i=0;i<this._markers.length;i++)this.map.markers.remove(this._markers[i]);this._markers=[]},_pan:function(){this._panning||(this._panning=!0,this.surface.suspendTracking())},_panEnd:function(e){w.fn._panEnd.call(this,e),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1},_translateSurface:function(){var map=this.map,e=map.locationToView(map.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))},_handler:function(e){var t=this;return function(n){if(n.element){var r={layer:t,shape:n.element,originalEvent:n.originalEvent};t.map.trigger(e,r)}}},_activate:function(){w.fn._activate.call(this),this.map.bind("pan",this._pan)},_deactivate:function(){w.fn._deactivate.call(this),this.map.unbind("pan",this._pan)}}),x=o.extend({init:function(e,t,n){this.observer=n,this.locator=e,this.style=t},parse:function(e){var t=new f,n=!0;return"Feature"===e.type?(n=!1,this._loadGeometryTo(t,e.geometry,e),this._featureCreated(t,e)):this._loadGeometryTo(t,e,e),n&&t.children.length<2&&(t=t.children[0]),t},_shapeCreated:function(e){var t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t},_featureCreated:function(e,t){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:e,dataItem:t,properties:t.properties})},_loadGeometryTo:function(e,t,n){var i,path,r=t.coordinates;switch(t.type){case"LineString":path=this._loadPolygon(e,[r],n),this._setLineFill(path);break;case"MultiLineString":for(i=0;i<r.length;i++)path=this._loadPolygon(e,[r[i]],n),this._setLineFill(path);break;case"Polygon":this._loadPolygon(e,r,n);break;case"MultiPolygon":for(i=0;i<r.length;i++)this._loadPolygon(e,r[i],n);break;case"Point":this._loadPoint(e,r,n);break;case"MultiPoint":for(i=0;i<r.length;i++)this._loadPoint(e,r[i],n)}},_setLineFill:function(path){var e=path.segments;(e.length<4||!e[0].anchor().equals(m(e).anchor()))&&(path.options.fill=null)},_loadShape:function(e,t){return this._shapeCreated(t)||e.append(t),t},_loadPolygon:function(e,t,n){var r=this._buildPolygon(t);return r.dataItem=n,this._loadShape(e,r)},_buildPolygon:function(e){for(var path=new(e.length>1?d.MultiPath:d.Path)(this.style),i=0;i<e.length;i++)for(var t=0;t<e[i].length;t++){var n=this.locator.locationToView(_.fromLngLat(e[i][t]));0===t?path.moveTo(n.x,n.y):path.lineTo(n.x,n.y)}return path},_loadPoint:function(e,t,n){var r=_.fromLngLat(t),o=this.locator.locationToView(r),circle=new g.Circle(o,10),l=new d.Circle(circle,this.style);return l.dataItem=n,l.location=r,this._loadShape(e,l)}});h(r.data,{schemas:{geojson:{type:"json",data:function(data){return"FeatureCollection"===data.type?data.features:"GeometryCollection"===data.type?data.geometries:data}}},transports:{geojson:{read:{dataType:"json"}}}}),h(c,{map:{layers:{shape:y,ShapeLayer:y},GeoJSONLoader:x}})}()})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(901)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},891:function(e,t){e.exports=n(43)},897:function(e,t){e.exports=n(99)},901:function(e,t,n){var r,o,l;n(3),o=[n(897),n(891)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=Math,r=e.proxy,o=window.kendo,l=o.Class,template=o.template,c=o.dataviz,h=o.deepExtend,d=o.geometry.Point,f=c.map.layers.Layer,m=o.util,v=m.renderSize,_=o.drawing.util,w=_.round,y=_.limitValue,x=f.extend({init:function(map,e){f.fn.init.call(this,map,e),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var t=this._viewType();this._view=new t(this.element,this.options)},destroy:function(){f.fn.destroy.call(this),this._view.destroy(),this._view=null},_beforeReset:function(){var map=this.map,e=map.locationToLayer(map.extent().nw).round();this._view.viewOrigin(e)},_reset:function(){f.fn._reset.call(this),this._updateView(),this._view.reset()},_viewType:function(){return k},_activate:function(){f.fn._activate.call(this),o.support.mobileOS||(this._pan||(this._pan=o.throttle(r(this._render,this),100)),this.map.bind("pan",this._pan))},_deactivate:function(){f.fn._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},_updateView:function(){var view=this._view,map=this.map,e=map.extent(),t={nw:map.locationToLayer(e.nw).round(),se:map.locationToLayer(e.se).round()};view.center(map.locationToLayer(map.center())),view.extent(t),view.zoom(map.zoom())},_resize:function(){this._render()},_panEnd:function(e){f.fn._panEnd.call(this,e),this._render()},_render:function(){this._updateView(),this._view.render()}}),k=l.extend({init:function(element,e){this.element=element,this._initOptions(e),this.pool=new S},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(e){this._center=e},extent:function(e){this._extent=e},viewOrigin:function(e){this._viewOrigin=e},zoom:function(e){this._zoom=e},pointToTileIndex:function(e){return new d(n.floor(e.x/this.options.tileSize),n.floor(e.y/this.options.tileSize))},tileCount:function(){var e=this.size(),t=this.pointToTileIndex(this._extent.nw),r=this._extent.nw,o=this.indexToPoint(t).translate(-r.x,-r.y);return{x:n.ceil((n.abs(o.x)+e.width)/this.options.tileSize),y:n.ceil((n.abs(o.y)+e.height)/this.options.tileSize)}},size:function(){var e=this._extent.nw,t=this._extent.se.clone().translate(-e.x,-e.y);return{width:t.x,height:t.y}},indexToPoint:function(e){var t=e.x,n=e.y;return new d(t*this.options.tileSize,n*this.options.tileSize)},subdomainText:function(){var e=this.options.subdomains;return e[this.subdomainIndex++%e.length]},destroy:function(){this.element.empty(),this.pool.empty()},reset:function(){this.pool.reset(),this.subdomainIndex=0,this.render()},render:function(){var e,t,n,r=this.tileCount(),o=this.pointToTileIndex(this._extent.nw);for(t=0;t<r.x;t++)for(n=0;n<r.y;n++)(e=this.createTile({x:o.x+t,y:o.y+n})).visible||e.show()},createTile:function(e){var t=this.tileOptions(e),n=this.pool.get(this._center,t);return 0===n.element.parent().length&&this.element.append(n.element),n},tileOptions:function(e){var t=this.wrapIndex(e),n=this.indexToPoint(e),r=this._viewOrigin,o=n.clone().translate(-r.x,-r.y);return{index:t,currentIndex:e,point:n,offset:T(o),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},wrapIndex:function(e){var t=n.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:y(e.y,0,t-1)}},wrapValue:function(e,t){var r=n.abs(e)%t;return e=e>=0?r:t-(0===r?t:r)}}),C=l.extend({init:function(e,t){this.id=e,this.visible=!0,this._initOptions(t),this.createElement(),this.show()},options:{urlTemplate:"",errorUrlTemplate:""},createElement:function(){this.element=e("<img style='position: absolute; display: block;' alt='' />").css({width:this.options.size,height:this.options.size}).on("error",r((function(e){this.errorUrl()?e.target.setAttribute("src",this.errorUrl()):e.target.removeAttribute("src")}),this))},show:function(){var element=this.element[0];element.style.top=v(this.options.offset.y),element.style.left=v(this.options.offset.x);var e=this.url();e&&element.setAttribute("src",e),element.style.visibility="visible",this.visible=!0},hide:function(){this.element[0].style.visibility="hidden",this.visible=!1},url:function(){return template(this.options.urlTemplate)(this.urlOptions())},errorUrl:function(){return template(this.options.errorUrlTemplate)(this.urlOptions())},urlOptions:function(){var e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}},destroy:function(){this.element&&(this.element.remove(),this.element=null)}}),S=l.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t)},empty:function(){for(var e=this._items,i=0;i<e.length;i++)e[i].destroy();this._items=[]},reset:function(){for(var e=this._items,i=0;i<e.length;i++)e[i].hide()},_create:function(e){for(var t,n=this._items,r=m.hashKey(e.point.toString()+e.offset.toString()+e.zoom+e.urlTemplate),i=0;i<n.length;i++)if(n[i].id===r){t=n[i];break}return t?t.show():(t=new C(r,e),this._items.push(t)),t},_remove:function(e){for(var t=this._items,n=-1,r=-1,i=0;i<t.length;i++){var o=t[i].options.point.distanceTo(e);o>n&&!t[i].visible&&(r=i,n=o)}-1!==r&&(t[r].destroy(),t.splice(r,1))}});function T(e){return new d(w(e.x),w(e.y))}h(c,{map:{layers:{tile:x,TileLayer:x,ImageTile:C,TilePool:S,TileView:k}}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(882)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},862:function(e,t){e.exports=n(0)},882:function(e,t,n){var r,o,l;n(3),o=[n(862)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.dataviz.diagram={},o=n.deepExtend,l=e.isArray,c={};o(c,{isNearZero:function(e){return Math.abs(e)<1e-6},isDefined:function(e){return void 0!==e},isUndefined:function(e){return null==e},isObject:function(e){return e===Object(e)},has:function(e,t){return Object.hasOwnProperty.call(e,t)},isString:function(e){return"[object String]"==Object.prototype.toString.call(e)},isBoolean:function(e){return"[object Boolean]"==Object.prototype.toString.call(e)},isType:function(e,t){return Object.prototype.toString.call(e)=="[object "+t+"]"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isEmpty:function(e){if(null===e)return!0;if(l(e)||c.isString(e))return 0===e.length;for(var t in e)if(c.has(e,t))return!1;return!0},simpleExtend:function(e,source){if(c.isObject(source))for(var t in source)e[t]=source[t]},initArray:function(e,t){for(var n=[],i=0;i<e;++i)n[i]=t;return n},serializePoints:function(e){for(var t=[],i=0;i<e.length;i++){var p=e[i];t.push(p.x+";"+p.y)}return t.join(";")},deserializePoints:function(s){var e=s.split(";"),t=[];if(e.length%2!=0)throw"Not an array of points.";for(var i=0;i<e.length;i+=2)t.push(new r.Point(parseInt(e[i],10),parseInt(e[i+1],10)));return t},randomInteger:function(e,t){return parseInt(Math.floor(Math.random()*t)+e,10)},DFT:function(e,t){if(t(e),e.childNodes)for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];this.DFT(n,t)}},getMatrixAngle:function(e){return null===e||0===e.d?0:180*Math.atan2(e.b,e.d)/Math.PI},getMatrixScaling:function(e){return[Math.sqrt(e.a*e.a+e.c*e.c),Math.sqrt(e.b*e.b+e.d*e.d)]}}),c.sign=function(e){return e?e<0?-1:1:0},c.findAngle=function(e,t){return 180*function(e,t){if(e==t)return 0;var n=t.x-e.x,r=e.y-t.y,o=Math.atan(n/r);return r>=0?n<0?o+2*Math.PI:o:o+Math.PI}(e,t)/Math.PI},c.forEach=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i,e)},c.any=function(e,t){for(var i=0;i<e.length;++i)if(t(e[i]))return e[i];return null},c.remove=function(e,t){for(var n;-1!==(n=c.indexOf(e,t));)e.splice(n,1);return e},c.contains=function(e,t){return-1!==c.indexOf(e,t)},c.indexOf=function(t,n){return e.inArray(n,t)},c.fold=function(e,t,n,r){for(var o=arguments.length>2,i=0;i<e.length;i++){var l=e[i];o?n=t.call(r,n,l,i,e):(n=l,o=!0)}if(!o)throw"Reduce of empty array with no initial value";return n},c.find=function(e,t,n){var r;return c.any(e,(function(e,o,l){return!!t.call(n,e,o,l)&&(r=e,!0)})),r},c.first=function(e,t,n){return 0===e.length?null:c.isUndefined(t)?e[0]:c.find(e,t,n)},c.insert=function(e,element,t){return e.splice(t,0,element),e},c.all=function(e,t,n){for(var r,o=!0,i=0;i<e.length&&(r=e[i],o=o&&t.call(n,r,i,e));i++);return o},c.clear=function(e){e.splice(0,e.length)},c.bisort=function(a,b,e){if(c.isUndefined(a))throw"First array is not specified.";if(c.isUndefined(b))throw"Second array is not specified.";if(a.length!=b.length)throw"The two arrays should have equal length";var i,t=[];for(i=0;i<a.length;i++)t.push({x:a[i],y:b[i]});for(c.isUndefined(e)?t.sort((function(e,t){return e.x-t.x})):t.sort((function(t,n){return e(t.x,n.x)})),c.clear(a),c.clear(b),i=0;i<t.length;i++)a.push(t[i].x),b.push(t[i].y)},c.addRange=function(e,t){e.push.apply(e,t)};var h=function(e){return-Math.cos(e*Math.PI)/2+.5},d=n.Class.extend({init:function(){this.adapters=[],this.target=0,this.tick=0,this.interval=20,this.duration=800,this.lastTime=null,this.handlers=[];var e=this;this.transition=h,this.timerDelegate=function(){e.onTimerEvent()}},addAdapter:function(a){this.adapters.push(a)},onComplete:function(e){this.handlers.push(e)},removeHandler:function(t){this.handlers=e.grep(this.handlers,(function(e){return e!==t}))},trigger:function(){var e=this;this.handlers&&c.forEach(this.handlers,(function(t){return t.call(null!==e.caller?e.caller:e)}))},onStep:function(){},seekTo:function(e){this.seekFromTo(this.tick,e)},seekFromTo:function(e,t){this.target=Math.max(0,Math.min(1,t)),this.tick=Math.max(0,Math.min(1,e)),this.lastTime=(new Date).getTime(),this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.interval))},stop:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.trigger())},play:function(e){0!==this.adapters.length&&(null!==e&&(this.caller=e),this.initState(),this.seekFromTo(0,1))},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(0!==this.adapters.length)for(var i=0;i<this.adapters.length;i++)this.adapters[i].initState()},propagate:function(){for(var e=this.transition(this.tick),i=0;i<this.adapters.length;i++)this.adapters[i].update(e)},onTimerEvent:function(){var e=(new Date).getTime(),t=e-this.lastTime;this.lastTime=e;var n=t/this.duration*(this.tick<this.target?1:-1);Math.abs(n)>=Math.abs(this.tick-this.target)?this.tick=this.target:this.tick+=n;try{this.propagate()}finally{this.onStep.call(this),this.target==this.tick&&this.stop()}}});n.deepExtend(r,{init:function(element){n.init(element,r.ui)},Utils:c,Range:function(e,t,n){if(void 0===e||void 0===t)return[];if(n&&c.sign(t-e)!=c.sign(n))throw"The sign of the increment should allow to reach the stop-value.";if(e=e||0,((t=t||e)-e)/(n=n||1)==1/0)throw"Infinite range defined.";var r,o=[],i=-1,l=function(e){for(var t=1;e*t%1;)t*=10;return t}(Math.abs(n));if(n*=l,(e*=l)>(t*=l)&&n>0&&(n=-n),n<0)for(;(r=e+n*++i)>=t;)o.push(r/l);else for(;(r=e+n*++i)<=t;)o.push(r/l);return o},Ticker:d})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(880)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},859:function(e,t){e.exports=n(7)},873:function(e,t){e.exports=n(148)},880:function(e,t,n){var r,o,l;n(3),o=[n(859),n(873)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.dataviz.diagram,o=n.Class,l=r.Group,c=r.Rect,h=r.Rectangle,d=r.Utils,f=d.isUndefined,m=r.Point,v=r.Circle,_=r.Ticker,w=n.deepExtend,y=n.ui.Movable,x=n.support.browser,k=n.drawing.util,C=k.defined,S=e.inArray,T=e.proxy,D={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},E=10,A={"-1":"source",1:"target"};r.Cursors=D;var I=n.Class.extend({init:function(e){this.layoutState=e,this.diagram=e.diagram},initState:function(){this.froms=[],this.tos=[],this.subjects=[],this.layoutState.nodeMap.forEach((function(e,t){var n=this.diagram.getShapeById(e);n&&(this.subjects.push(n),this.froms.push(n.bounds().topLeft()),this.tos.push(t.topLeft()))}),this)},update:function(e){if(!(this.subjects.length<=0))for(var i=0;i<this.subjects.length;i++)this.subjects[i].position(new m(this.froms[i].x+(this.tos[i].x-this.froms[i].x)*e,this.froms[i].y+(this.tos[i].y-this.froms[i].y)*e))}}),M=o.extend({init:function(e,t,animate){f(animate)?this.animate=!1:this.animate=animate,this._initialState=e,this._finalState=t,this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(e){var t=e.diagram;if(this.animate){e.linkMap.forEach((function(e,n){var r=t.getShapeById(e);r.visible(!1),r&&r.points(n)}));var n=new _;n.addAdapter(new I(e)),n.onComplete((function(){e.linkMap.forEach((function(e){t.getShapeById(e).visible(!0)}))})),n.play()}else e.nodeMap.forEach((function(e,n){var r=t.getShapeById(e);r&&r.position(n.topLeft())})),e.linkMap.forEach((function(e,n){var r=t.getShapeById(e);r&&r.points(n)}))}}),R=o.extend({init:function(e){this.units=[],this.title="Composite unit",void 0!==e&&this.units.push(e)},add:function(e){this.units.push(e)},undo:function(){for(var i=0;i<this.units.length;i++)this.units[i].undo()},redo:function(){for(var i=0;i<this.units.length;i++)this.units[i].redo()}}),F=o.extend({init:function(e,t,n){this.item=e,this._redoSource=t,this._redoTarget=n,C(t)&&(this._undoSource=e.source()),C(n)&&(this._undoTarget=e.target()),this.title="Connection Editing"},undo:function(){void 0!==this._undoSource&&this.item._updateConnector(this._undoSource,"source"),void 0!==this._undoTarget&&this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel()},redo:function(){void 0!==this._redoSource&&this.item._updateConnector(this._redoSource,"source"),void 0!==this._redoTarget&&this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel()}}),P=o.extend({init:function(e,t,n){this.item=e,this._undoSource=t,this._undoTarget=n,this._redoSource=e.source(),this._redoTarget=e.target(),this.title="Connection Editing"},undo:function(){this.item._updateConnector(this._undoSource,"source"),this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel()},redo:function(){this.item._updateConnector(this._redoSource,"source"),this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel()}}),z=o.extend({init:function(e){this.connection=e,this.diagram=e.diagram,this.targetConnector=e.targetConnector,this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,!1)},redo:function(){this.diagram.remove(this.connection,!1)}}),B=o.extend({init:function(e){this.shape=e,this.diagram=e.diagram,this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,!1),this.shape.select(!1)},redo:function(){this.shape.select(!1),this.diagram.remove(this.shape,!1)}}),L=o.extend({init:function(e,t,n){this.shapes=e,this.undoStates=t,this.title="Transformation",this.redoStates=[],this.adorner=n;for(var i=0;i<this.shapes.length;i++){var r=this.shapes[i];this.redoStates.push(r.bounds())}},undo:function(){for(var i=0;i<this.shapes.length;i++){var e=this.shapes[i];e.bounds(this.undoStates[i]),e.hasOwnProperty("layout")&&e.layout(e,this.redoStates[i],this.undoStates[i]),e.updateModel()}this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())},redo:function(){for(var i=0;i<this.shapes.length;i++){var e=this.shapes[i];e.bounds(this.redoStates[i]),e.hasOwnProperty("layout")&&e.layout(e,this.undoStates[i],this.redoStates[i]),e.updateModel()}this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())}}),H=o.extend({init:function(e,t){this.connection=e,this.diagram=t,this.title="New connection"},undo:function(){this.diagram.remove(this.connection,!1)},redo:function(){this.diagram._addConnection(this.connection,!1)}}),N=o.extend({init:function(e,t){this.shape=e,this.diagram=t,this.title="New shape"},undo:function(){this.diagram.deselect(),this.diagram.remove(this.shape,!1)},redo:function(){this.diagram._addShape(this.shape,!1)}}),O=o.extend({init:function(e,t,n){this.initial=e,this.finalPos=t,this.diagram=n,this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}}),V=o.extend({init:function(e,t,n){this.shapes=t,this.undoRotates=n,this.title="Rotation",this.redoRotates=[],this.redoAngle=e._angle,this.adorner=e,this.center=e._innerBounds.center();for(var i=0;i<this.shapes.length;i++){var r=this.shapes[i];this.redoRotates.push(r.rotate().angle)}},undo:function(){var i,e;for(i=0;i<this.shapes.length;i++)(e=this.shapes[i]).rotate(this.undoRotates[i],this.center,!1),e.hasOwnProperty("layout")&&e.layout(e),e.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())},redo:function(){var i,e;for(i=0;i<this.shapes.length;i++)(e=this.shapes[i]).rotate(this.redoRotates[i],this.center,!1),e.hasOwnProperty("layout")&&e.layout(e),e.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())}}),W=o.extend({init:function(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,!1)}}),U=o.extend({init:function(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,!1)}}),j=n.Observable.extend({init:function(e){n.Observable.fn.init.call(this,e),this.bind(this.events,e),this.stack=[],this.index=0,this.capacity=100},events:["undone","redone"],begin:function(){this.composite=new R},cancel:function(){this.composite=void 0},commit:function(e){this.composite.units.length>0&&this._restart(this.composite,e),this.composite=void 0},addCompositeItem:function(e){this.composite?this.composite.add(e):this.add(e)},add:function(e,t){this._restart(e,t)},pop:function(){this.index>0&&(this.stack.pop(),this.index--)},count:function(){return this.stack.length},undo:function(){this.index>0&&(this.index--,this.stack[this.index].undo(),this.trigger("undone"))},redo:function(){this.stack.length>0&&this.index<this.stack.length&&(this.stack[this.index].redo(),this.index++,this.trigger("redone"))},_restart:function(e,t){this.stack.splice(this.index,this.stack.length-this.index),this.stack.push(e),!1!==t?this.redo():this.index++,this.stack.length>this.capacity&&(this.stack.splice(0,this.stack.length-this.capacity),this.index=this.capacity)},clear:function(){this.stack=[],this.index=0}}),G=o.extend({init:function(e){this.toolService=e},start:function(){},move:function(){},end:function(){},tryActivate:function(){return!1},getCursor:function(){return D.arrow}}),$=G.extend({init:function(t){var r=n.support.mobileOS?.93:.9;G.fn.init.call(this,t);var o=this.toolService.diagram,canvas=o.canvas,l=o.scroller=this.scroller=e(o.scrollable).kendoMobileScroller({friction:r,velocityMultiplier:5,mousewheelScrolling:!1,zoom:!1,scroll:T(this._move,this)}).data("kendoMobileScroller");canvas.translate&&(this.movableCanvas=new y(canvas.element));var c=function(e,t,n){e.makeVirtual(),e.virtualSize(t||-2e4,n||2e4)};c(l.dimensions.x),c(l.dimensions.y),l.disable()},tryActivate:function(p,meta){var e=this.toolService,t=e.diagram.options.pannable,n=meta.ctrlKey;return C(t.key)&&(n=t.key&&"none"!=t.key?meta[t.key+"Key"]:de(meta)&&!C(e.hoveredItem)),!1!==t&&n&&!C(e.hoveredAdorner)&&!C(e._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(e){var t=this.toolService.diagram,canvas=t.canvas,n=new m(e.scrollLeft,e.scrollTop);canvas.translate?(t._storePan(n.times(-1)),this.movableCanvas.moveTo(n),canvas.translate(n.x,n.y)):n=n.plus(t._pan.times(-1)),t.trigger("pan",{pan:n})},end:function(){this.scroller.disable()},getCursor:function(){return D.move}}),Y=o.extend({init:function(e){this.toolService=e},tryActivate:function(){return!0},start:function(p,meta){var e=this.toolService,t=e.diagram,n=e.hoveredItem;n&&(e.selectSingle(n,meta),n.adorner&&(this.adorner=n.adorner,this.handle=this.adorner._hitTest(p))),this.handle||(this.handle=t._resizingAdorner._hitTest(p),this.handle&&(this.adorner=t._resizingAdorner)),this.adorner&&(this.adorner.isDragHandle(this.handle)&&t.trigger("dragStart",{shapes:this.adorner.shapes,connections:[]})?(e.startPoint=p,e.end(p)):this.adorner.start(p))},move:function(p){this.adorner&&(this.adorner.move(this.handle,p),this.adorner.isDragHandle(this.handle)&&this.toolService.diagram.trigger("drag",{shapes:this.adorner.shapes,connections:[]}))},end:function(){var e,t=this.toolService.diagram,n=this.adorner;n&&(n.isDragHandle(this.handle)&&t.trigger("dragEnd",{shapes:n.shapes,connections:[]})?n.cancel():(e=n.stop())&&t.undoRedoService.add(e,!1)),this.adorner=void 0,this.handle=void 0},getCursor:function(p){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(p):D.arrow}}),K=o.extend({init:function(e){this.toolService=e},tryActivate:function(p,meta){var e=this.toolService,t=e.diagram.options.selectable,n=t&&!1!==t.multiple;return n&&(n=t.key&&"none"!=t.key?meta[t.key+"Key"]:de(meta)),n&&!C(e.hoveredItem)&&!C(e.hoveredAdorner)},start:function(p){var e=this.toolService.diagram;e.deselect(),e.selector.start(p)},move:function(p){this.toolService.diagram.selector.move(p)},end:function(p,meta){var e=this.toolService.diagram,t=this.toolService.hoveredItem,rect=e.selector.bounds();t&&t.isSelected||meta.ctrlKey||e.deselect(),rect.isEmpty()||e.selectArea(rect),e.selector.end()},getCursor:function(){return D.arrow}}),Q=o.extend({init:function(e){this.toolService=e,this.type="ConnectionTool"},tryActivate:function(){return this.toolService._hoveredConnector},start:function(p,meta){var e=this.toolService,t=e.diagram,n=e._hoveredConnector,r=t._createConnection({},n._c,p);he(r)&&!t.trigger("dragStart",{shapes:[],connections:[r],connectionHandle:"target"})&&t._addConnection(r)?(e._connectionManipulation(r,n._c.shape,!0),e._removeHover(),e.selectSingle(e.activeConnection,meta),"touchmove"==meta.type&&(t._cachedTouchTarget=n.visual)):(r.source(null),e.end(p))},move:function(p){var e=this.toolService,t=e.activeConnection;return t.target(p),e.diagram.trigger("drag",{shapes:[],connections:[t],connectionHandle:"target"}),!0},end:function(p){var e,t=this.toolService,n=t.diagram,o=t.activeConnection,l=t.hoveredItem,c=t._hoveredConnector,h=n._cachedTouchTarget;o&&(e=c&&c._c!=o.sourceConnector?c._c:l&&l instanceof r.Shape?l.getConnector("Auto")||l.getConnector(p):p,o.target(e),n.trigger("dragEnd",{shapes:[],connections:[o],connectionHandle:"target"})?(n.remove(o,!1),n.undoRedoService.pop()):(o.updateModel(),n._syncConnectionChanges()),t._connectionManipulation(),h&&(n._connectorsAdorner.visual.remove(h),n._cachedTouchTarget=null))},getCursor:function(){return D.arrow}}),X=o.extend({init:function(e){this.toolService=e,this.type="ConnectionTool"},tryActivate:function(p,meta){var e=this.toolService,t=e.diagram.options.selectable,n=e.hoveredItem,r=!1!==t&&n&&n.path&&!(n.isSelected&&meta.ctrlKey);return r&&(this._c=n),r},start:function(p,meta){var e=this.toolService,t=this._c;e.selectSingle(t,meta);var n,r,o=t.adorner;o&&(n=o._hitTest(p),r=A[n]),he(t)&&o&&!e.diagram.trigger("dragStart",{shapes:[],connections:[t],connectionHandle:r})?(this.handle=n,this.handleName=r,o.start(p)):(e.startPoint=p,e.end(p))},move:function(p){var e=this._c.adorner;if(he(this._c)&&e)return e.move(this.handle,p),this.toolService.diagram.trigger("drag",{shapes:[],connections:[this._c],connectionHandle:this.handleName}),!0},end:function(p){var e=this._c,t=e.adorner,n=this.toolService.diagram;if(t&&he(e)){var r=t.stop(p);n.trigger("dragEnd",{shapes:[],connections:[e],connectionHandle:this.handleName})?r.undo():(n.undoRedoService.add(r,!1),e.updateModel(),n._syncConnectionChanges())}},getCursor:function(){return D.move}});function J(e,t){return t.charCodeAt(0)==e||t.toUpperCase().charCodeAt(0)==e}var Z=o.extend({init:function(e){this.diagram=e,this.tools=[new $(this),new X(this),new Q(this),new K(this),new Y(this)],this.activeTool=void 0},start:function(p,meta){return meta=w({},meta),this.activeTool&&this.activeTool.end(p,meta),this._updateHoveredItem(p),this._activateTool(p,meta),this.activeTool.start(p,meta),this._updateCursor(p),this.diagram.focus(),this.diagram.canvas.surface.suspendTracking(),this.startPoint=p,!0},move:function(p,meta){meta=w({},meta);var e=!0;return this.activeTool&&(e=this.activeTool.move(p,meta)),e&&this._updateHoveredItem(p),this._updateCursor(p),!0},end:function(p,meta){return meta=w({},meta),this.activeTool&&this.activeTool.end(p,meta),this.diagram.canvas.surface.resumeTracking(),this.activeTool=void 0,this._updateCursor(p),!0},keyDown:function(e,meta){var t=this.diagram;if(!(meta=w({ctrlKey:!1,metaKey:!1,altKey:!1},meta)).ctrlKey&&!meta.metaKey||meta.altKey){if(46===e||8===e){var n=this.diagram._triggerRemove(t.select());return n.length&&(this.diagram.remove(n,!0),this.diagram._syncChanges(),this.diagram._destroyToolBar()),!0}if(27===e)return this._discardNewConnection(),t.deselect(),t._destroyToolBar(),!0}else{if(J(e,"a"))return t.selectAll(),t._destroyToolBar(),!0;if(J(e,"z"))return t.undo(),t._destroyToolBar(),!0;if(J(e,"y"))return t.redo(),t._destroyToolBar(),!0;J(e,"c")?(t.copy(),t._destroyToolBar()):J(e,"x")?(t.cut(),t._destroyToolBar()):J(e,"v")?(t.paste(),t._destroyToolBar()):J(e,"l")?(t.layout(),t._destroyToolBar()):J(e,"d")&&(t._destroyToolBar(),t.copy(),t.paste())}},wheel:function(p,meta){var e=this.diagram,t=meta.delta,r=e.zoom(),o=e.options,l=o.zoomRate,c={point:p,meta:meta,zoom:r};if(!e.trigger("zoomStart",c))return t<0?r+=l:r-=l,r=n.dataviz.round(Math.max(o.zoomMin,Math.min(o.zoomMax,r)),2),c.zoom=r,e.zoom(r,c),e.trigger("zoomEnd",c),!0},setTool:function(e,t){e.toolService=this,this.tools[t]=e},selectSingle:function(e,meta){var t=this.diagram,n=t.options.selectable;if(n&&!e.isSelected&&!1!==e.options.selectable){var r=meta.ctrlKey&&!1!==n.multiple;t.select(e,{addToSelection:r})}},_discardNewConnection:function(){this.newConnection&&(this.diagram.remove(this.newConnection),this.newConnection=void 0)},_activateTool:function(p,meta){for(var i=0;i<this.tools.length;i++){var e=this.tools[i];if(e.tryActivate(p,meta)){this.activeTool=e;break}}},_updateCursor:function(p){var element=this.diagram.element,cursor=this.activeTool?this.activeTool.getCursor(p):this.hoveredAdorner?this.hoveredAdorner._getCursor(p):this.hoveredItem?this.hoveredItem._getCursor(p):D.arrow;element.css({cursor:cursor}),x.msie&&7==x.version&&(element[0].style.cssText=element[0].style.cssText)},_connectionManipulation:function(e,t,n){this.activeConnection=e,this.disabledShape=t,this.newConnection=n?this.activeConnection:void 0},_updateHoveredItem:function(p){var e=this._hitTest(p),t=this.diagram;e==this.hoveredItem||this.disabledShape&&e==this.disabledShape||(this.hoveredItem&&(t.trigger("mouseLeave",{item:this.hoveredItem}),this.hoveredItem._hover(!1)),e&&e.options.enable?(t.trigger("mouseEnter",{item:e}),this.hoveredItem=e,this.hoveredItem._hover(!0)):this.hoveredItem=void 0)},_removeHover:function(){this.hoveredItem&&(this.hoveredItem._hover(!1),this.hoveredItem=void 0)},_hitTest:function(e){var t,n,i,o=this.diagram;if(this._hoveredConnector&&(this._hoveredConnector._hover(!1),this._hoveredConnector=void 0),o._connectorsAdorner._visible&&(t=o._connectorsAdorner._hitTest(e)))return t;if(t=this.diagram._resizingAdorner._hitTest(e)){if(this.hoveredAdorner=o._resizingAdorner,0!==t.x||0!==t.y)return;t=void 0}else this.hoveredAdorner=void 0;if(!this.activeTool||"ConnectionTool"!==this.activeTool.type){var l=[];for(i=0;i<o._selectedItems.length;i++)(n=o._selectedItems[i])instanceof r.Connection&&l.push(n);t=this._hitTestItems(l,e)}return t||this._hitTestElements(e)},_hitTestElements:function(e){var t,n=this.diagram,r=this._hitTestItems(n.shapes,e),o=this._hitTestItems(n.connections,e);if((!this.activeTool||"ConnectionTool"!=this.activeTool.type)&&r&&o&&!function(e,t){for(var n,r,rect,o=0;o<e.connectors.length;o++)if(n=e.connectors[o],r=n.position(),(rect=new c(r.x,r.y)).inflate(E,E),rect.contains(t))return n}(r,e)){var l=n.mainLayer;t=S(r.visual,l.children)>S(o.visual,l.children)?r:o}return t||r||o},_hitTestItems:function(e,t){var i,n;for(i=e.length-1;i>=0;i--)if(n=e[i]._hitTest(t))return n}}),ee=n.Class.extend({init:function(){}}),te=ee.extend({init:function(e){ee.fn.init.call(this),this.connection=e},hitTest:function(p){return!!this.getBounds().inflate(E).contains(p)&&r.Geometry.distanceToPolyline(p,this.connection.allPoints())<E},getBounds:function(){for(var e=this.connection.allPoints(),s=e[0],t=e[e.length-1],n=Math.max(s.x,t.x),r=Math.min(s.x,t.x),o=Math.min(s.y,t.y),l=Math.max(s.y,t.y),i=1;i<e.length-1;++i)n=Math.max(n,e[i].x),r=Math.min(r,e[i].x),o=Math.min(o,e[i].y),l=Math.max(l,e[i].y);return new c(r,o,n-r,l-o)}}),ie=te.extend({init:function(e){te.fn.init.call(this),this.connection=e},route:function(){}}),ne=te.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function(e){te.fn.init.call(this),this.connection=e},routePoints:function(e,t,n,r){return n&&r?this._connectorPoints(e,t,n,r):this._floatingPoints(e,t,n)},route:function(){var e=this.connection._resolvedSourceConnector,t=this.connection._resolvedTargetConnector,n=this.connection.sourcePoint(),r=this.connection.targetPoint(),o=this.routePoints(n,r,e,t);this.connection.points(o)},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function(e,t){for(var n,r,o,l,c=e.position(),h=e.shape.bounds("rotated"),d={topLeft:h.topLeft(),bottomRight:h.bottomRight()},f=this._connectorSides,m=k.MAX_NUM,v=0;v<f.length;v++)o=(l=f[v]).axis,(n=Math.round(Math.abs(c[o]-d[l.boundsPoint][o])))<m?(m=n,r=l):n===m&&(c[o]-t[o])*l.secondarySign>(c[r.axis]-t[r.axis])*r.secondarySign&&(r=l);return r.name},_sameSideDistance:function(e){var t=e.shape.bounds("rotated");return Math.min(t.width,t.height)/this.SAME_SIDE_DISTANCE_RATIO},_connectorPoints:function(e,t,n,r){var o,l,c=this._connectorSide(n,t),h=this._connectorSide(r,e),d=t.x-e.x,f=t.y-e.y,v=this._sameSideDistance(n),_=[];return"Top"===c||"Bottom"==c?"Top"==h||"Bottom"==h?c==h?(l="Top"==c?Math.min(e.y,t.y)-v:Math.max(e.y,t.y)+v,_=[new m(e.x,l),new m(t.x,l)]):_=[new m(e.x,e.y+f/2),new m(t.x,e.y+f/2)]:_=[new m(e.x,t.y)]:"Left"==h||"Right"==h?c==h?(o="Left"==c?Math.min(e.x,t.x)-v:Math.max(e.x,t.x)+v,_=[new m(o,e.y),new m(o,t.y)]):_=[new m(e.x+d/2,e.y),new m(e.x+d/2,e.y+f)]:_=[new m(t.x,e.y)],_},_floatingPoints:function(e,t,n){for(var r,o,l=n?this._connectorSide(n,t):null,c=this._startHorizontal(e,t,l),h=[e,e,t,t],d=t.x-e.x,f=t.y-e.y,v=h.length,_=1;_<v-1;++_)c?_%2!=0?(r=d/(v/2),o=0):(r=0,o=f/((v-1)/2)):_%2!=0?(r=0,o=f/(v/2)):(r=d/((v-1)/2),o=0),h[_]=new m(h[_-1].x+r,h[_-1].y+o);return _--,h[v-2]=c&&_%2!=0||!c&&_%2==0?new m(h[v-1].x,h[v-2].y):new m(h[v-2].x,h[v-1].y),[h[1],h[2]]},_startHorizontal:function(e,t,n){return null!==n&&("Right"===n||"Left"===n)||Math.abs(e.x-t.x)>Math.abs(e.y-t.y)}}),re=o.extend({init:function(e,t){this.diagram=e,this.options=w({},this.options,t),this.visual=new l,this.diagram._adorners.push(this)},refresh:function(){}}),oe=re.extend({init:function(e,t){var n;this.connection=e,n=this.connection.diagram,this._ts=n.toolService,re.fn.init.call(this,n,t);var r=this.connection.sourcePoint(),o=this.connection.targetPoint();this.spVisual=new v(w(this.options.handles,{center:r})),this.epVisual=new v(w(this.options.handles,{center:o})),this.visual.append(this.spVisual),this.visual.append(this.epVisual)},options:{handles:{}},_getCursor:function(){return D.move},start:function(p){switch(this.handle=this._hitTest(p),this.startPoint=p,this._initialSource=this.connection.source(),this._initialTarget=this.connection.target(),this.handle){case-1:this.connection.targetConnector&&this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1:this.connection.sourceConnector&&this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}},move:function(e,p){switch(e){case-1:this.connection.source(p);break;case 1:this.connection.target(p);break;default:var t=p.minus(this.startPoint);this.startPoint=p,this.connection.sourceConnector||this.connection.source(this.connection.sourcePoint().plus(t)),this.connection.targetConnector||this.connection.target(this.connection.targetPoint().plus(t))}return this.refresh(),!0},stop:function(p){var e,t=this.diagram.toolService,n=t.hoveredItem;return e=t._hoveredConnector?t._hoveredConnector._c:n&&n instanceof r.Shape?n.getConnector("Auto")||n.getConnector(p):p,-1===this.handle?this.connection.source(e):1===this.handle&&this.connection.target(e),this.handle=void 0,this._ts._connectionManipulation(),new P(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(e){var t=this.connection.sourcePoint(),n=this.connection.targetPoint(),r=this.options.handles.width/2+E,o=this.options.handles.height/2+E,l=t.distanceTo(e),h=n.distanceTo(e),d=new c(t.x,t.y).inflate(r,o).contains(e),f=new c(n.x,n.y).inflate(r,o).contains(e),m=0;return d&&(!f||l<h)?m=-1:f&&(!d||h<l)&&(m=1),m},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())}),this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}}),se=re.extend({init:function(e,t){var n=this;re.fn.init.call(n,e,t),n._refreshHandler=function(e){e.item==n.shape&&n.refresh()}},show:function(e){var t,i,n;for(this._visible=!0,this.shape=e,this.diagram.bind("itemBoundsChange",this._refreshHandler),t=e.connectors.length,this.connectors=[],this._clearVisual(),i=0;i<t;i++)n=new ce(e.connectors[i]),this.connectors.push(n),this.visual.append(n.visual);this.visual.visible(!0),this.refresh()},_clearVisual:function(){this.diagram._cachedTouchTarget?this._keepCachedTouchTarget():this.visual.clear()},_keepCachedTouchTarget:function(){for(var e=this.visual.children,t=e.length,n=S(this.diagram._cachedTouchTarget,e),i=t-1;i>=0;i--)i!=n&&this.visual.remove(e[i])},destroy:function(){this.diagram.unbind("itemBoundsChange",this._refreshHandler),this.shape=void 0,this._visible=void 0,this.visual.visible(!1)},_hitTest:function(p){var e,i;for(i=0;i<this.connectors.length;i++)if((e=this.connectors[i])._hitTest(p)){e._hover(!0),this.diagram.toolService._hoveredConnector=e;break}},refresh:function(){if(this.shape){var t=this.shape.bounds();t=this.diagram.modelToLayer(t),this.visual.position(t.topLeft()),e.each(this.connectors,(function(){this.refresh()}))}}}),ae=re.extend({init:function(e,t){var n=this;re.fn.init.call(n,e,t),n._manipulating=!1,n.map=[],n.shapes=[],n._initSelection(),n._createHandles(),n.redraw(),n.diagram.bind("select",(function(e){n._initialize(e.selected)})),n._refreshHandler=function(){n._internalChange||(n.refreshBounds(),n.refresh())},n._rotatedHandler=function(){1==n.shapes.length&&(n._angle=n.shapes[0].rotate().angle),n._refreshHandler()},n.diagram.bind("itemBoundsChange",n._refreshHandler).bind("itemRotate",n._rotatedHandler),n.refreshBounds(),n.refresh()},options:{handles:{fill:{color:"#fff"},stroke:{color:"#282828"},height:7,width:7,hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:"transparent"}},offset:10},_initSelection:function(){var e=this.diagram.options.selectable,t=w({},this.options.selectable,e);this.rect=new h(t),this.visual.append(this.rect)},_resizable:function(){return this.options.editable&&!1!==this.options.editable.resize},_handleOptions:function(){return(this.options.editable.resize||{}).handles||this.options.handles},_createHandles:function(){var e,t,n,r;if(this._resizable())for(e=this._handleOptions(),r=-1;r<=1;r++)for(n=-1;n<=1;n++)0===r&&0===n||((t=new h(e)).drawingElement._hover=T(this._hover,this),this.map.push({x:r,y:n,visual:t}),this.visual.append(t))},bounds:function(e){if(!e)return this._bounds;this._innerBounds=e.clone(),this._bounds=this.diagram.modelToLayer(e).inflate(this.options.offset,this.options.offset)},_hitTest:function(p){var i,e,t,n,r=this.diagram.modelToLayer(p),o=this.map.length;if(this._angle&&(r=r.clone().rotate(this._bounds.center(),this._angle)),this._resizable())for(i=0;i<o;i++)if(n=this.map[i],e=new m(n.x,n.y),(t=this._getHandleBounds(e)).offset(this._bounds.x,this._bounds.y),t.contains(r))return e;if(this._bounds.contains(r))return new m(0,0)},_getHandleBounds:function(p){if(this._resizable()){var e=this._handleOptions(),t=e.width,n=e.height,r=new c(0,0,t,n);return p.x<0?r.x=-t/2:0===p.x?r.x=Math.floor(this._bounds.width/2)-t/2:p.x>0&&(r.x=this._bounds.width+1-t/2),p.y<0?r.y=-n/2:0===p.y?r.y=Math.floor(this._bounds.height/2)-n/2:p.y>0&&(r.y=this._bounds.height+1-n/2),r}},_getCursor:function(e){var t=this._hitTest(e);if(t&&t.x>=-1&&t.x<=1&&t.y>=-1&&t.y<=1&&this._resizable()){var n=this._angle;if(n&&(n=360-n,t.rotate(new m(0,0),n),t=new m(Math.round(t.x),Math.round(t.y))),-1==t.x&&-1==t.y)return"nw-resize";if(1==t.x&&1==t.y)return"se-resize";if(-1==t.x&&1==t.y)return"sw-resize";if(1==t.x&&-1==t.y)return"ne-resize";if(0===t.x&&-1==t.y)return"n-resize";if(0===t.x&&1==t.y)return"s-resize";if(1==t.x&&0===t.y)return"e-resize";if(-1==t.x&&0===t.y)return"w-resize"}return this._manipulating?D.move:D.select},_initialize:function(){var i,e,t=this.diagram.select();for(this.shapes=[],i=0;i<t.length;i++)(e=t[i])instanceof r.Shape&&(this.shapes.push(e),e._rotationOffset=new m);this._angle=1==this.shapes.length?this.shapes[0].rotate().angle:0,this._startAngle=this._angle,this._rotates(),this._positions(),this.refreshBounds(),this.refresh(),this.redraw()},_rotates:function(){var i,e;for(this.initialRotates=[],i=0;i<this.shapes.length;i++)e=this.shapes[i],this.initialRotates.push(e.rotate().angle)},_positions:function(){var i,e;for(this.initialStates=[],i=0;i<this.shapes.length;i++)e=this.shapes[i],this.initialStates.push(e.bounds())},_hover:function(e,element){if(this._resizable()){var t=this._handleOptions(),n=t.hover,r=t.stroke,o=t.fill;e&&d.isDefined(n.stroke)&&(r=w({},r,n.stroke)),e&&d.isDefined(n.fill)&&(o=n.fill),element.stroke(r.color,r.width,r.opacity),element.fill(o.color,o.opacity)}},start:function(p){this._sp=p,this._cp=p,this._lp=p,this._manipulating=!0,this._internalChange=!0,this.shapeStates=[];for(var i=0;i<this.shapes.length;i++){var e=this.shapes[i];this.shapeStates.push(e.bounds())}},redraw:function(){var i,e=this._resizable();for(i=0;i<this.map.length;i++)this.map[i].visual.visible(e)},angle:function(e){return C(e)&&(this._angle=e),this._angle},rotate:function(){var e=this._innerBounds.center(),t=this.angle();this._internalChange=!0;for(var i=0;i<this.shapes.length;i++){var n=this.shapes[i];t=(t+this.initialRotates[i]-this._startAngle)%360,n.rotate(t,e)}this.refresh()},move:function(e,p){var t,n,r,o,l,i,h,f,v,_,w,y=new m,x=new m,k=0;if(-2===e.y&&-1===e.x){for(o=this._innerBounds.center(),this._angle=this._truncateAngle(d.findAngle(o,p)),i=0;i<this.shapes.length;i++)l=this.shapes[i],h=(this._angle+this.initialRotates[i]-this._startAngle)%360,l.rotate(h,o),l.hasOwnProperty("layout")&&l.layout(l),this._rotating=!0;this.refresh()}else{if(this.shouldSnap()){var C=this._truncateDistance(p.minus(this._lp));if(0===C.x&&0===C.y)return void(this._cp=p);t=C,this._lp=new m(this._lp.x+C.x,this._lp.y+C.y)}else t=p.minus(this._cp);for(this.isDragHandle(e)?(x=y=t,n=!0):(this._angle&&t.rotate(new m(0,0),this._angle),-1==e.x?y.x=t.x:1==e.x&&(x.x=t.x),-1==e.y?y.y=t.y:1==e.y&&(x.y=t.y)),n||(v=function(e,t){var n;return-1==e.x&&-1==e.y?n=t.bottomRight():1==e.x&&1==e.y?n=t.topLeft():-1==e.x&&1==e.y?n=t.topRight():1==e.x&&-1==e.y?n=t.bottomLeft():0===e.x&&-1==e.y?n=t.bottom():0===e.x&&1==e.y?n=t.top():1==e.x&&0===e.y?n=t.left():-1==e.x&&0===e.y&&(n=t.right()),n}(e,this._innerBounds),_=(this._innerBounds.width+t.x*e.x)/this._innerBounds.width,w=(this._innerBounds.height+t.y*e.y)/this._innerBounds.height),i=0;i<this.shapes.length;i++){if(r=(l=this.shapes[i]).bounds(),n){if(!he(l))continue;f=this._displaceBounds(r,y,x,n)}else{(f=r.clone()).scale(_,w,v,this._innerBounds.center(),l.rotate().angle);var S=f.center();S.rotate(r.center(),-this._angle),f=new c(S.x-f.width/2,S.y-f.height/2,f.width,f.height)}if(f.width>=l.options.minWidth&&f.height>=l.options.minHeight){var T=r;l.bounds(f),l.hasOwnProperty("layout")&&l.layout(l,T,f),T.width===f.width&&T.height===f.height||l.rotate(l.rotate().angle),k+=1}}k&&(k==i?(f=this._displaceBounds(this._innerBounds,y,x,n),this.bounds(f)):this.refreshBounds(),this.refresh()),this._positions()}this._cp=p},isDragHandle:function(e){return 0===e.x&&0===e.y},cancel:function(){for(var e=this.shapes,t=this.shapeStates,n=0;n<e.length;n++)e[n].bounds(t[n]);this.refreshBounds(),this.refresh(),this._manipulating=void 0,this._internalChange=void 0,this._rotating=void 0},_truncatePositionToGuides:function(e){return this.diagram.ruler?this.diagram.ruler.truncatePositionToGuides(e):e},_truncateSizeToGuides:function(e){return this.diagram.ruler?this.diagram.ruler.truncateSizeToGuides(e):e},_truncateAngle:function(a){var e=this.snapOptions(),t=Math.max(e.angle||10,5);return e?Math.floor(a%360/t)*t:a%360},_truncateDistance:function(e){if(e instanceof r.Point)return new r.Point(this._truncateDistance(e.x),this._truncateDistance(e.y));var t=this.snapOptions()||{},n=Math.max(t.size||10,5);return t?Math.floor(e/n)*n:e},snapOptions:function(){return((this.diagram.options.editable||{}).drag||{}).snap||{}},shouldSnap:function(){var e=this.diagram.options.editable,t=(e||{}).drag,n=(t||{}).snap;return!1!==e&&!1!==t&&!1!==n},_displaceBounds:function(e,t,n,r){var o,l=e.topLeft().plus(t),br=e.bottomRight().plus(n),h=c.fromPoints(l,br);return r||((o=h.center()).rotate(e.center(),-this._angle),h=new c(o.x-h.width/2,o.y-h.height/2,h.width,h.height)),h},stop:function(){var e,i,t;if(this._cp!=this._sp)if(this._rotating)e=new V(this,this.shapes,this.initialRotates),this._rotating=!1;else if(this._diffStates()){if(this.diagram.ruler)for(i=0;i<this.shapes.length;i++){var n=(t=this.shapes[i]).bounds();n=this._truncateSizeToGuides(this._truncatePositionToGuides(n)),t.bounds(n),this.refreshBounds(),this.refresh()}for(i=0;i<this.shapes.length;i++)(t=this.shapes[i]).updateModel();e=new L(this.shapes,this.shapeStates,this),this.diagram._syncShapeChanges()}return this._manipulating=void 0,this._internalChange=void 0,this._rotating=void 0,e},_diffStates:function(){for(var e=this.shapes,t=this.shapeStates,n=0;n<e.length;n++)if(!e[n].bounds().equals(t[n]))return!0;return!1},refreshBounds:function(){var e=1==this.shapes.length?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,!0);this.bounds(e)},refresh:function(){var b,t,n=this;if(this.shapes.length>0){t=this.bounds(),this.visual.visible(!0),this.visual.position(t.topLeft()),e.each(this.map,(function(){b=n._getHandleBounds(new m(this.x,this.y)),this.visual.position(b.topLeft())})),this.visual.position(t.topLeft());var r=new m(t.width/2,t.height/2);if(this.visual.rotate(this._angle,r),this.rect.redraw({width:t.width,height:t.height}),this.rotationThumb){var o=this.options.editable.rotate.thumb;this._rotationThumbBounds=new c(t.center().x,t.y+o.y,0,0).inflate(o.width),this.rotationThumb.redraw({x:t.width/2-o.width/2})}}else this.visual.visible(!1)}}),le=o.extend({init:function(e){var t=e.options.selectable;this.options=w({},this.options,t),this.visual=new h(this.options),this.diagram=e},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:"transparent"}},start:function(p){this._sp=this._ep=p,this.refresh(),this.diagram._adorn(this,!0)},end:function(){this._sp=this._ep=void 0,this.diagram._adorn(this,!1)},bounds:function(e){return e&&(this._bounds=e),this._bounds},move:function(p){this._ep=p,this.refresh()},refresh:function(){if(this._sp){var e=c.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(c.fromPoints(this._sp,this._ep)),this.visual.position(e.topLeft()),this.visual.redraw({height:e.height+1,width:e.width+1})}}}),ce=o.extend({init:function(e){this.options=w({},e.options),this._c=e,this.visual=new v(this.options),this.refresh()},_hover:function(e){var t=this.options,n=t.hover,r=t.stroke,o=t.fill;e&&d.isDefined(n.stroke)&&(r=w({},r,n.stroke)),e&&d.isDefined(n.fill)&&(o=n.fill),this.visual.redraw({stroke:r,fill:o})},refresh:function(){var p=this._c.shape.diagram.modelToView(this._c.position()),e=p.minus(this._c.shape.bounds("transformed").topLeft()),t=new c(p.x,p.y,0,0);t.inflate(this.options.width/2,this.options.height/2),this._visualBounds=t,this.visual.redraw({center:new m(e.x,e.y)})},_hitTest:function(p){var e=this._c.shape.diagram.modelToView(p);return this._visualBounds.contains(e)}});function he(element){var e=element.options.editable;return e&&!1!==e.drag}function de(meta){return!1===meta.ctrlKey&&!1===meta.altKey&&!1===meta.shiftKey}w(r,{CompositeUnit:R,TransformUnit:L,PanUndoUnit:O,AddShapeUnit:N,AddConnectionUnit:H,DeleteShapeUnit:B,DeleteConnectionUnit:z,ConnectionEditAdorner:oe,ConnectionTool:Q,ConnectorVisual:ce,UndoRedoService:j,ResizingAdorner:ae,Selector:le,ToolService:Z,ConnectorsAdorner:se,LayoutUndoUnit:M,ConnectionEditUnit:F,ToFrontUnit:W,ToBackUnit:U,ConnectionRouterBase:ee,PolylineRouter:ie,CascadingRouter:ne,SelectionTool:K,ScrollerTool:$,PointerTool:Y,ConnectionEditTool:X,RotateUnit:V})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(876)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},876:function(e,t,n){var r,o,l;n(3),o=[n(877)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.dataviz.diagram,o=r.Graph,l=r.Node,c=r.Link,h=n.deepExtend,d=r.Size,f=r.Rect,m=r.Dictionary,v=r.Set,_=r.Graph,w=r.Utils,y=r.Point,x=Math.PI/180,k=w.contains,C=e.grep,S=n.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:!1,limitToView:!1,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:!1,ignoreContainers:!0,layoutContainerChildren:!1,ignoreInvisible:!0,animateTransitions:!1},init:function(){},gridLayoutComponents:function(e){if(!e)throw"No components supplied.";w.forEach(e,(function(e){e.calcBounds()})),e.sort((function(a,b){return b.bounds.width-a.bounds.width}));for(var i,t=this.options.grid.width,n=this.options.grid.componentSpacingX,r=this.options.grid.componentSpacingY,o=0,l=this.options.grid.offsetX,c=l,h=this.options.grid.offsetY,d=[],f=[];e.length>0;){c>=t&&(c=l,h+=o+r,o=0);var component=e.pop();for(this.moveToOffset(component,new y(c,h)),i=0;i<component.nodes.length;i++)f.push(component.nodes[i]);for(i=0;i<component.links.length;i++)d.push(component.links[i]);var m=component.bounds,v=m.height;(v<=0||isNaN(v))&&(v=0);var _=m.width;(_<=0||isNaN(_))&&(_=0),v>=o&&(o=v),c+=_+n}return{nodes:f,links:d}},moveToOffset:function(component,p){var i,e,t=component.bounds,n=p.x-t.x,r=p.y-t.y;for(i=0;i<component.nodes.length;i++){var o=component.nodes[i],l=o.bounds();0===l.width&&0===l.height&&0===l.x&&0===l.y&&(l=new f(0,0,0,0)),l.x+=n,l.y+=r,o.bounds(l)}for(i=0;i<component.links.length;i++){var link=component.links[i];if(link.points){var c=[],h=link.points;for(e=0;e<h.length;e++){var d=h[e];d.x+=n,d.y+=r,c.push(d)}link.points=c}}return this.currentHorizontalOffset+=t.width+this.options.grid.offsetX,new y(n,r)},transferOptions:function(e){this.options=n.deepExtend({},this.defaultOptions),w.isUndefined(e)||(this.options=n.deepExtend(this.options,e||{}))}}),T=n.Class.extend({init:function(e){this.nodeMap=new m,this.shapeMap=new m,this.nodes=[],this.edges=[],this.edgeMap=new m,this.finalNodes=[],this.finalLinks=[],this.ignoredConnections=[],this.ignoredShapes=[],this.hyperMap=new m,this.hyperTree=new o,this.finalGraph=null,this.diagram=e},convert:function(e){if(w.isUndefined(this.diagram))throw"No diagram to convert.";return this.options=n.deepExtend({ignoreInvisible:!0,ignoreContainers:!0,layoutContainerChildren:!1},e||{}),this.clear(),this._renormalizeShapes(),this._renormalizeConnections(),this.finalNodes=new m(this.nodes),this.finalLinks=new m(this.edges),this.finalGraph=new o,this.finalNodes.forEach((function(e){this.finalGraph.addNode(e)}),this),this.finalLinks.forEach((function(e){this.finalGraph.addExistingLink(e)}),this),this.finalGraph},mapConnection:function(e){return this.edgeMap.get(e.id)},mapShape:function(e){return this.nodeMap.get(e.id)},getEdge:function(a,b){return w.first(a.links,(function(link){return link.getComplement(a)===b}))},clear:function(){this.finalGraph=null,this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new _:null,this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new m:null,this.nodeMap=new m,this.shapeMap=new m,this.nodes=[],this.edges=[],this.edgeMap=new m,this.ignoredConnections=[],this.ignoredShapes=[],this.finalNodes=[],this.finalLinks=[]},listToRoot:function(e){var t=[],s=e.container;if(!s)return t;for(t.push(s);s.parentContainer;)s=s.parentContainer,t.push(s);return t.reverse(),t},firstNonIgnorableContainer:function(e){return e.isContainer&&!this._isIgnorableItem(e)?e:e.parentContainer?this.firstNonIgnorableContainer(e.parentContainer):null},isContainerConnection:function(a,b){return!(!a.isContainer||!this.isDescendantOf(a,b))||b.isContainer&&this.isDescendantOf(b,a)},isDescendantOf:function(e,a){if(!e.isContainer)throw"Expecting a container.";if(e===a)return!1;if(k(e.children,a))return!0;for(var t=[],i=0,n=e.children.length;i<n;i++){var r=e.children[i];r.isContainer&&this.isDescendantOf(r,a)&&t.push(r)}return t.length>0},isIgnorableItem:function(e){return this.options.ignoreInvisible?!(e.isCollapsed&&this._isVisible(e)||!e.isCollapsed&&this._isVisible(e)):e.isCollapsed&&!this._isTop(e)},isShapeMapped:function(e){return e.isCollapsed&&!this._isVisible(e)&&!this._isTop(e)},leastCommonAncestor:function(a,b){if(!a)throw"Parameter should not be null.";if(!b)throw"Parameter should not be null.";if(!this.hyperTree)throw"No hypertree available.";var e=this.listToRoot(a),t=this.listToRoot(b),n=null;if(w.isEmpty(e)||w.isEmpty(t))return this.hyperTree.root.data;for(var r=e[0],o=t[0],i=0;r===o&&(n=e[i],!(++i>=e.length||i>=t.length));)r=e[i],o=t[i];return n?C(this.hyperTree.nodes,(function(e){return e.data.container===n})):this.hyperTree.root.data},_isTop:function(e){return!e.parentContainer},_isVisible:function(e){return!!e.visible()&&(e.parentContainer?this._isVisible(e.parentContainer):e.visible())},_isCollapsed:function(e){return!(!e.isContainer||!e.isCollapsed)||e.parentContainer&&this._isCollapsed(e.parentContainer)},_renormalizeShapes:function(){if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";for(var i=0,e=this.diagram.shapes.length;i<e;i++){var t=this.diagram.shapes[i];if(this.options.ignoreInvisible&&!this._isVisible(t)||t.isContainer)this.ignoredShapes.push(t);else{var n=new l(t.id,t);n.isVirtual=!1,this.nodeMap.add(t.id,n),this.nodes.push(n)}}},_renormalizeConnections:function(){if(0!==this.diagram.connections.length)for(var i=0,e=this.diagram.connections.length;i<e;i++){var t=this.diagram.connections[i];if(this.isIgnorableItem(t))this.ignoredConnections.push(t);else{var source=t.sourceConnector?t.sourceConnector.shape:null,n=t.targetConnector?t.targetConnector.shape:null;if(source&&n)if(!k(this.ignoredShapes,source)||this.shapeMap.containsKey(source))if(!k(this.ignoredShapes,n)||this.shapeMap.containsKey(n)){this.shapeMap.containsKey(source)&&(source=this.shapeMap[source]),this.shapeMap.containsKey(n)&&(n=this.shapeMap[n]);var r=this.mapShape(source),o=this.mapShape(n);if(r===o||this.areConnectedAlready(r,o))this.ignoredConnections.push(t);else{if(null===r||null===o)throw"A shape was not mapped to a node.";if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";if(r.isVirtual||o.isVirtual)this.ignoredConnections.push(t);else{var l=new c(r,o,t.id,t);this.edgeMap.add(t.id,l),this.edges.push(l)}}}else this.ignoredConnections.push(t);else this.ignoredConnections.push(t);else this.ignoredConnections.push(t)}}},areConnectedAlready:function(e,t){return w.any(this.edges,(function(n){return n.source===e&&n.target===t||n.source===t&&n.target===e}))}}),D=S.extend({init:function(e){if(S.fn.init.call(this),w.isUndefined(e))throw"Diagram is not specified.";this.diagram=e},layout:function(e){this.transferOptions(e);var t=new T(this.diagram).convert(e);if(!t.isEmpty()){var n=t.getConnectedComponents();if(!w.isEmpty(n)){for(var i=0;i<n.length;i++){var component=n[i];this.layoutGraph(component,e)}var o=this.gridLayoutComponents(n);return new r.LayoutState(this.diagram,o)}}},layoutGraph:function(e,t){w.isDefined(t)&&this.transferOptions(t),this.graph=e;var n=9*this.options.nodeDistance;this.temperature=n;var r=this._expectedBounds();this.width=r.width,this.height=r.height;for(var o=0;o<this.options.iterations;o++)this.refineStage=o>=5*this.options.iterations/6,this.tick(),this.temperature=this.refineStage?n/30:n*(1-o/(2*this.options.iterations))},tick:function(){var i;for(i=0;i<this.graph.nodes.length;i++)this._repulsion(this.graph.nodes[i]);for(i=0;i<this.graph.links.length;i++)this._attraction(this.graph.links[i]);for(i=0;i<this.graph.nodes.length;i++){var e=this.graph.nodes[i],t=Math.sqrt(e.dx*e.dx+e.dy*e.dy);if(0===t)return;e.x+=Math.min(t,this.temperature)*e.dx/t,e.y+=Math.min(t,this.temperature)*e.dy/t,this.options.limitToView&&(e.x=Math.min(this.width,Math.max(e.width/2,e.x)),e.y=Math.min(this.height,Math.max(e.height/2,e.y)))}},_shake:function(e){var t=Math.random()*this.options.nodeDistance/4,n=2*Math.random()*Math.PI;e.x+=t*Math.cos(n),e.y-=t*Math.sin(n)},_InverseSquareForce:function(e,t,n){var r;if(this.refineStage){var o=t.x-n.x,l=t.y-n.y,c=t.width/2,h=t.height/2,d=n.width/2,f=n.height/2;r=Math.pow(o,2)/Math.pow(c+d+this.options.nodeDistance,2)+Math.pow(l,2)/Math.pow(h+f+this.options.nodeDistance,2)}else r=Math.pow(e,2)/Math.pow(this.options.nodeDistance,2);return 4*r/3},_SquareForce:function(e,t,n){return 1/this._InverseSquareForce(e,t,n)},_repulsion:function(e){e.dx=0,e.dy=0,w.forEach(this.graph.nodes,(function(t){if(t!==e){for(;e.x===t.x&&e.y===t.y;)this._shake(t);var n=e.x-t.x,r=e.y-t.y,o=Math.sqrt(n*n+r*r),l=2*this._SquareForce(o,e,t);e.dx+=n/o*l,e.dy+=r/o*l}}),this)},_attraction:function(link){var e=link.target,s=link.source;if(s!==e){for(;s.x===e.x&&s.y===e.y;)this._shake(e);var t=s.x-e.x,n=s.y-e.y,r=Math.sqrt(t*t+n*n),a=5*this._InverseSquareForce(r,s,e),o=t/r*a,l=n/r*a;e.dx+=o,e.dy+=l,s.dx-=o,s.dy-=l}},_expectedBounds:function(){var e,t=this.graph.nodes.length;if(0===t)return e;var n=(e=w.fold(this.graph.nodes,(function(s,e){var area=e.width*e.height;return area>0?s+=Math.sqrt(area):0}),0,this))/t*Math.ceil(Math.sqrt(t));return{width:n*Math.sqrt(1.5)*4,height:n/Math.sqrt(1.5)*4}}}),E=n.Class.extend({init:function(e){this.center=null,this.options=e},layout:function(e,t){if(this.graph=e,this.graph.nodes&&0!==this.graph.nodes.length){if(!k(this.graph.nodes,t))throw"The given root is not in the graph.";this.center=t,this.graph.cacheRelationships(),this.layoutSwitch()}},layoutLeft:function(e){this.setChildrenDirection(this.center,"Left",!1),this.setChildrenLayout(this.center,"Default",!1);var t,i,n,r=0,o=0;for(i=0;i<e.length;i++){(n=e[i]).TreeDirection="Left";var s=this.measure(n,d.Empty);o=Math.max(o,s.Width),r+=s.height+this.options.verticalSeparation}r-=this.options.verticalSeparation;var l=this.center.x-this.options.horizontalSeparation;for(t=this.center.y+(this.center.height-r)/2,i=0;i<e.length;i++){n=e[i];var p=new y(l-n.Size.width,t);this.arrange(n,p),t+=n.Size.height+this.options.verticalSeparation}},layoutRight:function(e){this.setChildrenDirection(this.center,"Right",!1),this.setChildrenLayout(this.center,"Default",!1);var t,i,n,r=0,o=0;for(i=0;i<e.length;i++){(n=e[i]).TreeDirection="Right";var s=this.measure(n,d.Empty);o=Math.max(o,s.Width),r+=s.height+this.options.verticalSeparation}r-=this.options.verticalSeparation;var l=this.center.x+this.options.horizontalSeparation+this.center.width;for(t=this.center.y+(this.center.height-r)/2,i=0;i<e.length;i++){n=e[i];var p=new y(l,t);this.arrange(n,p),t+=n.Size.height+this.options.verticalSeparation}},layoutUp:function(e){this.setChildrenDirection(this.center,"Up",!1),this.setChildrenLayout(this.center,"Default",!1);var t,n,i,r=0;for(i=0;i<e.length;i++)(n=e[i]).TreeDirection="Up",r+=this.measure(n,d.Empty).width+this.options.horizontalSeparation;r-=this.options.horizontalSeparation;var o=this.center.x+this.center.width/2-r/2;for(i=0;i<e.length;i++){n=e[i],t=this.center.y-this.options.verticalSeparation-n.Size.height;var p=new y(o,t);this.arrange(n,p),o+=n.Size.width+this.options.horizontalSeparation}},layoutDown:function(e){var t,i;this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1);var n,r=0;for(i=0;i<e.length;i++)(t=e[i]).treeDirection="Down",r+=this.measure(t,d.Empty).width+this.options.horizontalSeparation;r-=this.options.horizontalSeparation;var o=this.center.x+this.center.width/2-r/2;for(n=this.center.y+this.options.verticalSeparation+this.center.height,i=0;i<e.length;i++){t=e[i];var p=new y(o,n);this.arrange(t,p),o+=t.Size.width+this.options.horizontalSeparation}},layoutRadialTree:function(){this.setChildrenDirection(this.center,"Radial",!1),this.setChildrenLayout(this.center,"Default",!1),this.previousRoot=null;var e=this.options.startRadialAngle*x,t=this.options.endRadialAngle*x;if(t<=e)throw"Final angle should not be less than the start angle.";this.maxDepth=0,this.origin=new y(this.center.x,this.center.y),this.calculateAngularWidth(this.center,0),this.maxDepth>0&&this.radialLayout(this.center,this.options.radialFirstLevelSeparation,e,t),this.center.Angle=t-e},tipOverTree:function(e,t){w.isUndefined(t)&&(t=0),this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),this.setChildrenLayout(this.center,"Underneath",!1,t);var n,r,i,o=0;for(i=0;i<e.length;i++)(r=e[i]).TreeDirection="Down",o+=this.measure(r,d.Empty).width+this.options.horizontalSeparation;o-=this.options.horizontalSeparation,o-=e[e.length-1].width,o+=e[e.length-1].associatedShape.bounds().width;var l=this.center.x+this.center.width/2-o/2;for(n=this.center.y+this.options.verticalSeparation+this.center.height,i=0;i<e.length;i++){r=e[i];var p=new y(l,n);this.arrange(r,p),l+=r.Size.width+this.options.horizontalSeparation}},calculateAngularWidth:function(e,t){t>this.maxDepth&&(this.maxDepth=t);var n=0,r=0===t?0:Math.sqrt(2e6)/t;if(e.children.length>0){for(var i=0,o=e.children.length;i<o;i++){var l=e.children[i];n+=this.calculateAngularWidth(l,t+1)}n=Math.max(r,n)}else n=r;return e.sectorAngle=n,n},sortChildren:function(e){var i,t=0;if(e.parents.length>1)throw"Node is not part of a tree.";var p=e.parents[0];if(p){var n=new y(p.x,p.y),r=new y(e.x,e.y);t=this.normalizeAngle(Math.atan2(n.y-r.y,n.x-r.x))}var o=e.children.length;if(0===o)return null;var l=[],c=[];for(i=0;i<o;++i){var h=e.children[i],d=new y(h.x,h.y);c[i]=i,l[i]=this.normalizeAngle(-t+Math.atan2(d.y-d.y,d.x-d.x))}w.bisort(l,c);var col=[],f=e.children;for(i=0;i<o;++i)col.push(f[c[i]]);return col},normalizeAngle:function(e){for(;e>2*Math.PI;)e-=2*Math.PI;for(;e<0;)e+=2*Math.PI;return e},radialLayout:function(e,t,n,r){for(var o=r-n,l=o/2,c=e.sectorAngle,h=0,d=this.sortChildren(e),i=0,f=d.length;i<f;i++){var m=d[i],v=m,_=v.sectorAngle/c;m.children.length>0&&this.radialLayout(m,t+this.options.radialSeparation,n+h*o,n+(h+_)*o),this.setPolarLocation(m,t,n+h*o+_*l),v.angle=_*o,h+=_}},setPolarLocation:function(e,t,n){e.x=this.origin.x+t*Math.cos(n),e.y=this.origin.y+t*Math.sin(n),e.BoundingRectangle=new f(e.x,e.y,e.width,e.height)},setChildrenDirection:function(e,t,n){var r=e.treeDirection;this.graph.depthFirstTraversal(e,(function(e){e.treeDirection=t})),n||(e.treeDirection=r)},setChildrenLayout:function(e,t,n,r){w.isUndefined(r)&&(r=0);var o=e.childrenLayout;r>0?(this.graph.assignLevels(e),this.graph.depthFirstTraversal(e,(function(s){s.level>=r+1&&(s.childrenLayout=t)}))):(this.graph.depthFirstTraversal(e,(function(s){s.childrenLayout=t})),n||(e.childrenLayout=o))},measure:function(e,t){var s,n=0,r=0,o=new d(0,0);if(!e)throw"";var b=e.associatedShape.bounds(),l=b.width,c=b.height;if(1!==e.parents.length)throw"Node not in a spanning tree.";var h=e.parents[0];if("Undefined"===e.treeDirection&&(e.treeDirection=h.treeDirection),w.isEmpty(e.children))o=new d(Math.abs(l)<1e-6?50:l,Math.abs(c)<1e-6?25:c);else if(1===e.children.length){switch(e.treeDirection){case"Radial":s=this.measure(e.children[0],t),n=l+this.options.radialSeparation*Math.cos(e.AngleToParent)+s.width,r=c+Math.abs(this.options.radialSeparation*Math.sin(e.AngleToParent))+s.height;break;case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":n=l+(s=this.measure(e.children[0],t)).width+this.options.underneathHorizontalOffset,r=c+this.options.underneathVerticalTopOffset+s.height;break;case"Default":s=this.measure(e.children[0],t),n=l+this.options.horizontalSeparation+s.width,r=Math.max(c,s.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":s=this.measure(e.children[0],t),n=Math.max(l,s.width+this.options.underneathHorizontalOffset),r=c+this.options.underneathVerticalTopOffset+s.height;break;case"Default":s=this.measure(e.children[0],t),r=c+this.options.verticalSeparation+s.height,n=Math.max(l,s.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}o=new d(n,r)}else{var i,f;switch(e.treeDirection){case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(n=l,r=c+this.options.underneathVerticalTopOffset,i=0;i<e.children.length;i++)f=e.children[i],s=this.measure(f,t),n=Math.max(n,s.width+this.options.underneathHorizontalOffset),r+=s.height+this.options.underneathVerticalSeparation;r-=this.options.underneathVerticalSeparation;break;case"Default":for(n=l,r=0,i=0;i<e.children.length;i++)f=e.children[i],s=this.measure(f,t),n=Math.max(n,l+this.options.horizontalSeparation+s.width),r+=s.height+this.options.verticalSeparation;r-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(n=l,r=c+this.options.underneathVerticalTopOffset,i=0;i<e.children.length;i++)f=e.children[i],s=this.measure(f,t),n=Math.max(n,s.width+this.options.underneathHorizontalOffset),r+=s.height+this.options.underneathVerticalSeparation;r-=this.options.underneathVerticalSeparation;break;case"Default":for(n=0,r=0,i=0;i<e.children.length;i++)f=e.children[i],n+=(s=this.measure(f,t)).width+this.options.horizontalSeparation,r=Math.max(r,s.height+this.options.verticalSeparation+c);n-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}o=new d(n,r)}return e.SectorAngle=Math.sqrt(n*n/4+r*r/4),e.Size=o,o},arrange:function(e,p){var i,t,n,r,o,l,c,b=e.associatedShape.bounds(),h=b.width,d=b.height;if(w.isEmpty(e.children))e.x=p.x,e.y=p.y,e.BoundingRectangle=new f(p.x,p.y,h,d);else switch(e.treeDirection){case"Left":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(c=p,e.x=c.x,e.y=c.y,e.BoundingRectangle=new f(e.x,e.y,e.width,e.height),l=p.y+d+this.options.underneathVerticalTopOffset,i=0;i<n.children.length;i++)n=n.children[i],o=c.x-n.associatedShape.width-this.options.underneathHorizontalOffset,t=new y(o,l),this.arrange(n,t),l+=n.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(c=new y(p.x+e.Size.width-h,p.y+(e.Size.height-d)/2),e.x=c.x,e.y=c.y,e.BoundingRectangle=new f(e.x,e.y,e.width,e.height),o=c.x-this.options.horizontalSeparation,l=p.y,i=0;i<e.children.length;i++)n=e.children[i],t=new y(o-n.Size.width,l),this.arrange(n,t),l+=n.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(c=p,e.x=c.x,e.y=c.y,e.BoundingRectangle=new f(e.x,e.y,e.width,e.height),o=p.x+h+this.options.underneathHorizontalOffset,l=p.y+d+this.options.underneathVerticalTopOffset,i=0;i<e.children.length;i++)n=e.children[i],t=new y(o,l),this.arrange(n,t),l+=n.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(c=new y(p.x,p.y+(e.Size.height-d)/2),e.x=c.x,e.y=c.y,e.BoundingRectangle=new f(e.x,e.y,e.width,e.height),o=p.x+h+this.options.horizontalSeparation,l=p.y,i=0;i<e.children.length;i++)n=e.children[i],t=new y(o,l),this.arrange(n,t),l+=n.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Up":if(c=new y(p.x+(e.Size.width-h)/2,p.y+e.Size.height-d),e.x=c.x,e.y=c.y,e.BoundingRectangle=new f(e.x,e.y,e.width,e.height),Math.abs(c.x-p.x)<1e-6){for(r=0,i=0;i<e.children.length;i++)r+=e.children[i].Size.width+this.options.horizontalSeparation;r-=this.options.horizontalSeparation,o=p.x+(h-r)/2}else o=p.x;for(i=0;i<e.children.length;i++)n=e.children[i],l=c.y-this.options.verticalSeparation-n.Size.height,t=new y(o,l),this.arrange(n,t),o+=n.Size.width+this.options.horizontalSeparation;break;case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(c=p,e.x=c.x,e.y=c.y,e.BoundingRectangle=new f(e.x,e.y,e.width,e.height),o=p.x+this.options.underneathHorizontalOffset,l=p.y+d+this.options.underneathVerticalTopOffset,i=0;i<e.children.length;i++)n=e.children[i],t=new y(o,l),this.arrange(n,t),l+=n.Size.height+this.options.underneathVerticalSeparation;break;case"Default":if(c=new y(p.x+(e.Size.width-h)/2,p.y),e.x=c.x,e.y=c.y,e.BoundingRectangle=new f(e.x,e.y,e.width,e.height),Math.abs(c.x-p.x)<1e-6){for(r=0,i=0;i<e.children.length;i++)r+=e.children[i].Size.width+this.options.horizontalSeparation;r-=this.options.horizontalSeparation,o=p.x+(h-r)/2}else o=p.x;for(i=0;i<e.children.length;i++)n=e.children[i],l=c.y+this.options.verticalSeparation+d,t=new y(o,l),this.arrange(n,t),o+=n.Size.width+this.options.horizontalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}},layoutSwitch:function(){if(this.center&&!w.isEmpty(this.center.children)){var e,t,n,r,o=this.options.subtype;w.isUndefined(o)&&(o="Down");var l=this.center.children;switch(o.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":e=this.center.children,1===this.center.children.length?this.layoutRight(e):(r=l.length/2,t=C(this.center.children,(function(e){return w.indexOf(l,e)<r})),n=C(this.center.children,(function(e){return w.indexOf(l,e)>=r})),this.layoutLeft(t),this.layoutRight(n));break;case"mindmapvertical":e=this.center.children,1===this.center.children.length?this.layoutDown(e):(r=l.length/2,t=C(this.center.children,(function(e){return w.indexOf(l,e)<r})),n=C(this.center.children,(function(e){return w.indexOf(l,e)>=r})),this.layoutUp(t),this.layoutDown(n));break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(this.options.tipOverTreeStartLevel<0)throw"The tip-over level should be a positive integer.";this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel)}}}}),A=S.extend({init:function(e){if(S.fn.init.call(this),w.isUndefined(e))throw"No diagram specified.";this.diagram=e},layout:function(e){this.transferOptions(e);var t=new T(this.diagram);this.graph=t.convert();var n=this.layoutComponents();return new r.LayoutState(this.diagram,n)},layoutComponents:function(){if(!this.graph.isEmpty()){var e=this.graph.getConnectedComponents();if(!w.isEmpty(e)){for(var t=new E(this.options),n=[],i=0;i<e.length;i++){var component=e[i],r=this.getTree(component);if(!r)throw"Failed to find a spanning tree for the component.";var o=r.root,l=r.tree;t.layout(l,o),n.push(l)}return this.gridLayoutComponents(n)}}},getTree:function(e){var t=null;if(this.options.roots&&this.options.roots.length>0)for(var i=0,n=e.nodes.length;i<n;i++)for(var r=e.nodes[i],o=0;o<this.options.roots.length;o++)if(this.options.roots[o]===r.associatedShape){t=r;break}if(!t&&!(t=e.root()))throw"Unable to find a root for the tree.";return this.getTreeForRoot(e,t)},getTreeForRoot:function(e,t){var n=e.getSpanningTree(t);return w.isUndefined(n)||n.isEmpty()?null:{tree:n,root:n.root}}}),I=S.extend({init:function(e){if(S.fn.init.call(this),w.isUndefined(e))throw"Diagram is not specified.";this.diagram=e},layout:function(e){this.transferOptions(e);var t=new T(this.diagram).convert(e);if(!t.isEmpty()){var n=t.getConnectedComponents();if(!w.isEmpty(n)){for(var i=0;i<n.length;i++){var component=n[i];this.layoutGraph(component,e)}var o=this.gridLayoutComponents(n);return new r.LayoutState(this.diagram,o)}}},_initRuntimeProperties:function(){for(var e=0;e<this.graph.nodes.length;e++){var t=this.graph.nodes[e];t.layer=-1,t.downstreamLinkCount=0,t.upstreamLinkCount=0,t.isVirtual=!1,t.uBaryCenter=0,t.dBaryCenter=0,t.upstreamPriority=0,t.downstreamPriority=0,t.gridPosition=0}},_prepare:function(e){var i,t,link,n,r,o,l=[],c=new m,h=0;for(w.forEach(e.nodes,(function(e){0===e.incoming.length&&(c.set(e,0),l.push(e))}));l.length>0;)for(r=l.shift(),i=0;i<r.outgoing.length;i++)o=(link=r.outgoing[i]).target,n=c.containsKey(o)?Math.max(c.get(r)+1,c.get(o)):c.get(r)+1,c.set(o,n),n>h&&(h=n),k(l,o)||l.push(o);var d,f=c.keys();f.sort((function(e,t){var n=c.get(e),r=c.get(t);return w.sign(r-n)}));for(var v=0;v<f.length;++v){var _=f[v],y=Number.MAX_VALUE;if(0!==_.outgoing.length){for(t=0;t<_.outgoing.length;++t)link=_.outgoing[t],y=Math.min(y,c.get(link.target));y>1&&c.set(_,y-1)}}for(this.layers=[],i=0;i<h+1;i++)(d=[]).linksTo={},this.layers.push(d);for(c.forEach((function(e,t){e.layer=t,this.layers[t].push(e)}),this),t=0;t<this.layers.length;t++)for(d=this.layers[t],i=0;i<d.length;i++)d[i].gridPosition=i},layoutGraph:function(e,t){if(w.isUndefined(e))throw"No graph given or graph analysis of the diagram failed.";w.isDefined(t)&&this.transferOptions(t),this.graph=e,e.setItemIndices();var n=e.makeAcyclic();this._initRuntimeProperties(),this._prepare(e,t),this._dummify(),this._optimizeCrossings(),this._swapPairs(),this.arrangeNodes(),this._moveThingsAround(),this._dedummify(),w.forEach(n,(function(e){e.points&&e.points.reverse()}))},setMinDist:function(e,t,n){var r=e.layer,i=e.layerIndex;this.minDistances[r][i]=n},getMinDist:function(e,t){for(var n=0,r=e.layerIndex,o=t.layerIndex,l=e.layer,c=Math.min(r,o),h=Math.max(r,o),d=c;d<h;++d)n+=this.minDistances[l][d];return n},placeLeftToRight:function(e){for(var t,n,r=new m,o=0;o<this.layers.length;++o){var l=e[o];if(l){for(t=0;t<l.length;t++)n=l[t],r.containsKey(n)||this.placeLeft(n,r,o);var c=Number.POSITIVE_INFINITY;for(t=0;t<l.length;t++){n=l[t];var h=this.rightSibling(n);h&&this.nodeLeftClass.get(h)!==o&&(c=Math.min(c,r.get(h)-r.get(n)-this.getMinDist(n,h)))}if(c===Number.POSITIVE_INFINITY){var d=[];for(t=0;t<l.length;t++){n=l[t];var f=[];w.addRange(f,this.upNodes.get(n)),w.addRange(f,this.downNodes.get(n));for(var v=0;v<f.length;v++){var _=f[v];this.nodeLeftClass.get(_)<o&&d.push(r.get(_)-r.get(n))}}d.sort(),c=0===d.length?0:d.length%2==1?d[this.intDiv(d.length,2)]:(d[this.intDiv(d.length,2)-1]+d[this.intDiv(d.length,2)])/2}for(t=0;t<l.length;t++)n=l[t],r.set(n,r.get(n)+c)}}return r},placeRightToLeft:function(e){for(var t,n,r=new m,o=0;o<this.layers.length;++o){var l=e[o];if(l){for(t=0;t<l.length;t++)n=l[t],r.containsKey(n)||this.placeRight(n,r,o);var c=Number.NEGATIVE_INFINITY;for(t=0;t<l.length;t++){n=l[t];var h=this.leftSibling(n);h&&this.nodeRightClass.get(h)!==o&&(c=Math.max(c,r.get(h)-r.get(n)+this.getMinDist(h,n)))}if(c===Number.NEGATIVE_INFINITY){var d=[];for(t=0;t<l.length;t++){n=l[t];var f=[];w.addRange(f,this.upNodes.get(n)),w.addRange(f,this.downNodes.get(n));for(var v=0;v<f.length;v++){var _=f[v];this.nodeRightClass.get(_)<o&&d.push(r.get(n)-r.get(_))}}d.sort(),c=0===d.length?0:d.length%2==1?d[this.intDiv(d.length,2)]:(d[this.intDiv(d.length,2)-1]+d[this.intDiv(d.length,2)])/2}for(t=0;t<l.length;t++)n=l[t],r.set(n,r.get(n)+c)}}return r},_getLeftWing:function(){var e={value:null},t=this.computeClasses(e,1);return this.nodeLeftClass=e.value,t},_getRightWing:function(){var e={value:null},t=this.computeClasses(e,-1);return this.nodeRightClass=e.value,t},computeClasses:function(e,t){for(var n=0,r=e.value=new m,o=0;o<this.layers.length;++o){n=o;for(var l=this.layers[o],c=1===t?0:l.length-1;0<=c&&c<l.length;c+=t){var h=l[c];if(r.containsKey(h))n=r.get(h);else if(r.set(h,n),h.isVirtual)for(var d=this._nodesInLink(h),f=0;f<d.length;f++){var v=d[f];r.set(v,n)}}}for(var _=[],i=0;i<this.layers.length;i++)_.push(null);return r.forEach((function(e,t){null===_[t]&&(_[t]=[]),_[t].push(e)})),_},_isVerticalLayout:function(){return"up"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()||"vertical"===this.options.subtype.toLowerCase()},_isHorizontalLayout:function(){return"right"===this.options.subtype.toLowerCase()||"left"===this.options.subtype.toLowerCase()||"horizontal"===this.options.subtype.toLowerCase()},_isIncreasingLayout:function(){return"right"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()},_moveThingsAround:function(){var i,e,t,n,r,o;for(e=0;e<this.layers.length;++e)(n=this.layers[e]).sort(this._gridPositionComparer);for(this.minDistances=[],e=0;e<this.layers.length;++e)for(n=this.layers[e],this.minDistances[e]=[],r=0;r<n.length;++r)(t=n[r]).layerIndex=r,this.minDistances[e][r]=this.options.nodeDistance,r<n.length-1&&(this._isVerticalLayout()?this.minDistances[e][r]+=(t.width+n[r+1].width)/2:this.minDistances[e][r]+=(t.height+n[r+1].height)/2);for(this.downNodes=new m,this.upNodes=new m,w.forEach(this.graph.nodes,(function(e){this.downNodes.set(e,[]),this.upNodes.set(e,[])}),this),w.forEach(this.graph.links,(function(link){var e=link.source,t=link.target,n=null,r=null;e.layer>t.layer?(n=link.source,r=link.target):(r=link.source,n=link.target),this.downNodes.get(r).push(n),this.upNodes.get(n).push(r)}),this),this.downNodes.forEachValue((function(e){e.sort(this._gridPositionComparer)}),this),this.upNodes.forEachValue((function(e){e.sort(this._gridPositionComparer)}),this),e=0;e<this.layers.length-1;++e)for(n=this.layers[e],o=0;o<n.length-1;o++){var l=n[o];if(l.isVirtual){var c=this.downNodes.get(l)[0];if(c.isVirtual)for(r=o+1;r<n.length;++r)if((t=n[r]).isVirtual){var h=this.downNodes.get(t)[0];if(h.isVirtual&&c.gridPosition>h.gridPosition){var d=c.gridPosition;c.gridPosition=h.gridPosition,h.gridPosition=d;var f=c.layerIndex,v=h.layerIndex;this.layers[e+1][f]=h,this.layers[e+1][v]=c,c.layerIndex=v,h.layerIndex=f}}}}var _=this._getLeftWing(),y=this._getRightWing(),x=this.placeLeftToRight(_),k=this.placeRightToLeft(y),C=new m;w.forEach(this.graph.nodes,(function(e){C.set(e,(x.get(e)+k.get(e))/2)}));var S=new m,T=new m;for(e=0;e<this.layers.length;++e){n=this.layers[e];var D=-1;for(r=0;r<n.length;++r)t=n[r],S.set(t,0),T.set(t,!1),t.isVirtual&&(-1===D?D=r:D===r-1?D=r:(S.set(n[D],0),C.get(t)-C.get(n[D])===this.getMinDist(n[D],t)?T.set(n[D],!0):T.set(n[D],!1),D=r))}w.forEach([1,-1],(function(e){for(var t=1===e?0:this.layers.length-1;0<=t&&t<this.layers.length;t+=e){var n=this.layers[t],r=this._firstVirtualNode(n),o=null,l=null;if(-1!==r)for(o=n[r],l=[],i=0;i<r;i++)l.push(n[i]);else o=null,l=n;if(l.length>0){for(this._sequencer(C,null,o,e,l),i=0;i<l.length-1;++i)this.setMinDist(l[i],l[i+1],C.get(l[i+1])-C.get(l[i]));o&&this.setMinDist(l[l.length-1],o,C.get(o)-C.get(l[l.length-1]))}for(;o;){var c=this.nextVirtualNode(n,o);if(c){if(S.get(o)===e){r=o.layerIndex;var h=c.layerIndex;for(l=[],i=r+1;i<h;i++)l.push(n[i]);l.length>0&&this._sequencer(C,o,c,e,l),T.set(o,!0)}}else{for(r=o.layerIndex,l=[],i=r+1;i<n.length;i++)l.push(n[i]);if(l.length>0){for(this._sequencer(C,o,null,e,l),i=0;i<l.length-1;++i)this.setMinDist(l[i],l[i+1],C.get(l[i+1])-C.get(l[i]));this.setMinDist(o,l[0],C.get(l[0])-C.get(o))}}o=c}this.adjustDirections(t,e,S,T)}}),this);var E,A,I=this._isIncreasingLayout()?0:this.layers.length-1,M=this._isIncreasingLayout()?1:-1,R=0;function F(e,t){for(var n=Number.MIN_VALUE,r=0;r<e.length;++r){var o=e[r];n=t._isVerticalLayout()?Math.max(n,o.height):Math.max(n,o.width)}return n}for(i=I;E=i,(A=this)._isIncreasingLayout()?E<A.layers.length:E>=0;i+=M){var P=F(n=this.layers[i],this);for(r=0;r<n.length;++r)t=n[r],this._isVerticalLayout()?(t.x=C.get(t),t.y=R+P/2):(t.x=R+P/2,t.y=C.get(t));R+=this.options.layerSeparation+P}},adjustDirections:function(e,t,n,r){if(!(e+t<0||e+t>=this.layers.length))for(var o=null,l=null,c=this.layers[e+t],h=0;h<c.length;++h){var d=c[h];if(d.isVirtual){var f=this.getNeighborOnLayer(d,e);if(f.isVirtual){if(o){for(var p=r.get(l),m=this.layers[e],v=l.layerIndex,_=f.layerIndex,i=v+1;i<_;++i)m[i].isVirtual&&(p=p&&r.get(m[i]));if(p){n.set(o,t);for(var w=o.layerIndex,y=d.layerIndex,x=w+1;x<y;++x)c[x].isVirtual&&n.set(c[x],t)}}o=d,l=f}}}},getNeighborOnLayer:function(e,t){var n=this.upNodes.get(e)[0];return n.layer===t?n:(n=this.downNodes.get(e)[0]).layer===t?n:null},_sequencer:function(e,t,n,r,o){if(1===o.length&&this._sequenceSingle(e,t,n,r,o[0]),o.length>1){var l=o.length,c=this.intDiv(l,2);this._sequencer(e,t,n,r,o.slice(0,c)),this._sequencer(e,t,n,r,o.slice(c)),this.combineSequences(e,t,n,r,o)}},_sequenceSingle:function(e,t,n,r,o){var l=-1===r?this.downNodes.get(o):this.upNodes.get(o),c=l.length;0!==c&&(c%2==1?e.set(o,e.get(l[this.intDiv(c,2)])):e.set(o,(e.get(l[this.intDiv(c,2)-1])+e.get(l[this.intDiv(c,2)]))/2),t&&e.set(o,Math.max(e.get(o),e.get(t)+this.getMinDist(t,o))),n&&e.set(o,Math.min(e.get(o),e.get(n)-this.getMinDist(o,n))))},combineSequences:function(e,t,n,r,o){var i,l,c,h,d,f,m=o.length,v=this.intDiv(m,2),_=[];for(i=0;i<v;++i){for(l=0,h=-1===r?this.downNodes.get(o[i]):this.upNodes.get(o[i]),c=0;c<h.length;++c)d=h[c],e.get(d)>=e.get(o[i])?l++:(l--,_.push({k:e.get(d)+this.getMinDist(o[i],o[v-1]),v:2}));_.push({k:e.get(o[i])+this.getMinDist(o[i],o[v-1]),v:l})}t&&_.push({k:e.get(t)+this.getMinDist(t,o[v-1]),v:Number.MAX_VALUE}),_.sort(this._positionDescendingComparer);var w=[];for(i=v;i<m;++i){for(l=0,h=-1===r?this.downNodes.get(o[i]):this.upNodes.get(o[i]),c=0;c<h.length;++c)d=h[c],e.get(d)<=e.get(o[i])?l++:(l--,w.push({k:e.get(d)-this.getMinDist(o[i],o[v]),v:2}));w.push({k:e.get(o[i])-this.getMinDist(o[i],o[v]),v:l})}n&&w.push({k:e.get(n)-this.getMinDist(n,o[v]),v:Number.MAX_VALUE}),w.sort(this._positionAscendingComparer);for(var y=0,x=0,k=this.getMinDist(o[v-1],o[v]);e.get(o[v])-e.get(o[v-1])<k;)if(y<x){if(0===_.length){e.set(o[v-1],e.get(o[v])-k);break}y+=(f=_.shift()).v,e.set(o[v-1],f.k),e.set(o[v-1],Math.max(e.get(o[v-1]),e.get(o[v])-k))}else{if(0===w.length){e.set(o[v],e.get(o[v-1])+k);break}x+=(f=w.shift()).v,e.set(o[v],f.k),e.set(o[v],Math.min(e.get(o[v]),e.get(o[v-1])+k))}for(i=v-2;i>=0;i--)e.set(o[i],Math.min(e.get(o[i]),e.get(o[v-1])-this.getMinDist(o[i],o[v-1])));for(i=v+1;i<m;i++)e.set(o[i],Math.max(e.get(o[i]),e.get(o[v])+this.getMinDist(o[i],o[v])))},placeLeft:function(e,t,n){var r=Number.NEGATIVE_INFINITY;w.forEach(this._getComposite(e),(function(e){var o=this.leftSibling(e);o&&this.nodeLeftClass.get(o)===this.nodeLeftClass.get(e)&&(t.containsKey(o)||this.placeLeft(o,t,n),r=Math.max(r,t.get(o)+this.getMinDist(o,e)))}),this),r===Number.NEGATIVE_INFINITY&&(r=0),w.forEach(this._getComposite(e),(function(e){t.set(e,r)}))},placeRight:function(e,t,n){var r=Number.POSITIVE_INFINITY;w.forEach(this._getComposite(e),(function(e){var o=this.rightSibling(e);o&&this.nodeRightClass.get(o)===this.nodeRightClass.get(e)&&(t.containsKey(o)||this.placeRight(o,t,n),r=Math.min(r,t.get(o)-this.getMinDist(e,o)))}),this),r===Number.POSITIVE_INFINITY&&(r=0),w.forEach(this._getComposite(e),(function(e){t.set(e,r)}))},leftSibling:function(e){var t=this.layers[e.layer],n=e.layerIndex;return 0===n?null:t[n-1]},rightSibling:function(e){var t=this.layers[e.layer],n=e.layerIndex;return n===t.length-1?null:t[n+1]},_getComposite:function(e){return e.isVirtual?this._nodesInLink(e):[e]},arrangeNodes:function(){var i,e,t,n,r;for(e=0;e<this.layers.length;e++)for(n=this.layers[e],t=0;t<n.length;t++)(r=n[t]).upstreamPriority=r.upstreamLinkCount,r.downstreamPriority=r.downstreamLinkCount;for(var o=0;o<2;o++){for(i=this.layers.length-1;i>=1;i--)this.layoutLayer(!1,i);for(i=0;i<this.layers.length-1;i++)this.layoutLayer(!0,i)}var l=Number.MAX_VALUE;for(e=0;e<this.layers.length;e++)for(n=this.layers[e],t=0;t<n.length;t++)r=n[t],l=Math.min(l,r.gridPosition);if(l<0)for(e=0;e<this.layers.length;e++)for(n=this.layers[e],t=0;t<n.length;t++)(r=n[t]).gridPosition=r.gridPosition-l},layoutLayer:function(e,t){var n,r;r=e?this.layers[n=t+1]:this.layers[n=t-1];for(var o=[],l=0;l<r.length;l++)o.push(r[l]);o.sort((function(e,t){var n=(e.upstreamPriority+e.downstreamPriority)/2,r=(t.upstreamPriority+t.downstreamPriority)/2;return Math.abs(n-r)<1e-4?0:n<r?1:-1})),w.forEach(o,(function(e){var t=e.gridPosition,n=this.calcBaryCenter(e),o=(e.upstreamPriority+e.downstreamPriority)/2;if(!(Math.abs(t-n)<1e-4||Math.abs(t-n)<.2501))if(t<n)for(;t<n&&this.moveRight(e,r,o);)t=e.gridPosition;else for(;t>n&&this.moveLeft(e,r,o);)t=e.gridPosition}),this),n>0&&this.calcDownData(n-1),n<this.layers.length-1&&this.calcUpData(n+1)},moveRight:function(e,t,n){var r=w.indexOf(t,e);if(r===t.length-1)return e.gridPosition=e.gridPosition+.5,!0;var o=t[r+1],l=(o.upstreamPriority+o.downstreamPriority)/2;return o.gridPosition>e.gridPosition+1?(e.gridPosition=e.gridPosition+.5,!0):!(l>n||Math.abs(l-n)<1e-4||!this.moveRight(o,t,n)||(e.gridPosition=e.gridPosition+.5,0))},moveLeft:function(e,t,n){var r=w.indexOf(t,e);if(0===r)return e.gridPosition=e.gridPosition-.5,!0;var o=t[r-1],l=(o.upstreamPriority+o.downstreamPriority)/2;return o.gridPosition<e.gridPosition-1?(e.gridPosition=e.gridPosition-.5,!0):!(l>n||Math.abs(l-n)<1e-4||!this.moveLeft(o,t,n)||(e.gridPosition=e.gridPosition-.5,0))},mapVirtualNode:function(e,link){this.nodeToLinkMap.set(e,link),this.linkToNodeMap.containsKey(link)||this.linkToNodeMap.set(link,[]),this.linkToNodeMap.get(link).push(e)},_nodesInLink:function(e){return this.linkToNodeMap.get(this.nodeToLinkMap.get(e))},_dummify:function(){this.linkToNodeMap=new m,this.nodeToLinkMap=new m;var e,t,n,r,o,h,i,d,f=this.graph.links.slice(0),v=this.layers,_=function(e,t,link){v[e].linksTo[t]=v[e].linksTo[t]||[],v[e].linksTo[t].push(link)};for(d=0;d<f.length;d++){var link=f[d],y=link.source,x=link.target,k=y.layer,C=x.layer,S=y.gridPosition,T=x.gridPosition,D=(T-S)/Math.abs(C-k),p=y;if(k-C>1){for(i=k-1;i>C;i--){for((n=new l).x=y.x,n.y=y.y,n.width=y.width/100,n.height=y.height/100,(t=(i-C)*D+S)>(e=v[i]).length&&(t=e.length),S>=v[k].length-1&&T>=v[C].length-1?t=e.length:0===S&&0===T&&(t=0),n.layer=i,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,w.insert(e,n,t),o=t+1;o<e.length;o++)(r=e[o]).gridPosition=r.gridPosition+1;(h=new c(p,n)).depthOfDumminess=0,_(i-1,i,h),p=n,this.graph._addNode(n),this.graph.addLink(h),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,link)}_(C-1,C,h),link.changeSource(p),link.depthOfDumminess=k-C-1}else if(k-C<-1){for(i=k+1;i<C;i++){for((n=new l).x=y.x,n.y=y.y,n.width=y.width/100,n.height=y.height/100,(t=(i-k)*D+S)>(e=v[i]).length&&(t=e.length),S>=v[k].length-1&&T>=v[C].length-1?t=e.length:0===S&&0===T&&(t=0),n.layer=i,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,t&=t,w.insert(e,n,t),o=t+1;o<e.length;o++)(r=e[o]).gridPosition=r.gridPosition+1;(h=new c(p,n)).depthOfDumminess=0,_(i-1,i,h),p=n,this.graph._addNode(n),this.graph.addLink(h),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,link)}_(C-1,C,link),link.changeSource(p),link.depthOfDumminess=C-k-1}else _(k,C,link)}},_dedummify:function(){for(var e=!0;e;){e=!1;for(var t=0;t<this.graph.links.length;t++){var link=this.graph.links[t];if(link.depthOfDumminess){var n=[];n.unshift({x:link.target.x,y:link.target.y}),n.unshift({x:link.source.x,y:link.source.y});for(var r=link,o=link.depthOfDumminess,l=0;l<o;l++){var c=r.source.incoming[0];n.unshift({x:c.source.x,y:c.source.y}),r=c}link.changeSource(r.source),link.depthOfDumminess=0,n.length>2?(n.splice(0,1),n.splice(n.length-1),link.points=n):link.points=[],e=!0;break}}}},_optimizeCrossings:function(){for(var i,e=-1,t=0;0!==e&&!(t++>3);){for(e=0,i=this.layers.length-1;i>=1;i--)e+=this.optimizeLayerCrossings(!1,i);for(i=0;i<this.layers.length-1;i++)e+=this.optimizeLayerCrossings(!0,i)}},calcUpData:function(e){if(0!==e){var i,t,link,n=this.layers[e],r=new v,o=this.layers[e-1];for(i=0;i<o.length;i++)r.add(o[i]);for(i=0;i<n.length;i++){var l=n[i],c=0,h=0;for(t=0;t<l.incoming.length;t++)link=l.incoming[t],r.contains(link.source)&&(h++,c+=link.source.gridPosition);for(t=0;t<l.outgoing.length;t++)link=l.outgoing[t],r.contains(link.target)&&(h++,c+=link.target.gridPosition);h>0?(l.uBaryCenter=c/h,l.upstreamLinkCount=h):(l.uBaryCenter=i,l.upstreamLinkCount=0)}}},calcDownData:function(e){if(e!==this.layers.length-1){var i,t,link,n=this.layers[e],r=new v,o=this.layers[e+1];for(i=0;i<o.length;i++)r.add(o[i]);for(i=0;i<n.length;i++){var l=n[i],c=0,h=0;for(t=0;t<l.incoming.length;t++)link=l.incoming[t],r.contains(link.source)&&(h++,c+=link.source.gridPosition);for(t=0;t<l.outgoing.length;t++)link=l.outgoing[t],r.contains(link.target)&&(h++,c+=link.target.gridPosition);h>0?(l.dBaryCenter=c/h,l.downstreamLinkCount=h):(l.dBaryCenter=i,l.downstreamLinkCount=0)}}},optimizeLayerCrossings:function(e,t){var n,r,o=(r=e?this.layers[n=t+1]:this.layers[n=t-1]).slice(0);e?this.calcUpData(n):this.calcDownData(n);var l=this;r.sort((function(e,t){var n=l.calcBaryCenter(e),r=l.calcBaryCenter(t);if(Math.abs(n-r)<1e-4)return e.degree()===t.degree()?l.compareByIndex(e,t):e.degree()<t.degree()?1:-1;var o=1e3*(r-n);return o>0?-1:o<0?1:l.compareByIndex(e,t)}));var i,c=0;for(i=0;i<r.length;i++)r[i]!==o[i]&&c++;if(c>0){var h=0;for(i=0;i<r.length;i++)r[i].gridPosition=h++}return c},_swapPairs:function(){for(var e=this.options.layeredIterations,t=0;!(t++>e);)for(var n=t%4<=1,r=t%4==1,o=n?0:this.layers.length-1;n?o<=this.layers.length-1:o>=0;o+=n?1:-1){for(var l=this.layers[o],c=!1,h=!0,d=0,f=0;f<l.length-1;f++){var m=0,v=0,_=0;if(h?(0!==o&&(m=this.countLinksCrossingBetweenTwoLayers(o-1,o)),o!==this.layers.length-1&&(v=this.countLinksCrossingBetweenTwoLayers(o,o+1)),n?m*=2:v*=2,_=m+v):_=d,0!==_){var w=l[f],y=l[f+1],x=w.gridPosition,k=y.gridPosition;l[f]=y,l[f+1]=w,w.gridPosition=k,y.gridPosition=x,m=0,0!==o&&(m=this.countLinksCrossingBetweenTwoLayers(o-1,o)),v=0,o!==this.layers.length-1&&(v=this.countLinksCrossingBetweenTwoLayers(o,o+1)),n?m*=2:v*=2;var C=m+v;(r?C>=_:C>_)?(w=l[f],y=l[f+1],x=w.gridPosition,k=y.gridPosition,l[f]=y,l[f+1]=w,w.gridPosition=k,y.gridPosition=x,d=_,h=!1):(c=!0,h=!0)}}c&&(o!==this.layers.length-1&&this.calcUpData(o+1),0!==o&&this.calcDownData(o-1))}},countLinksCrossingBetweenTwoLayers:function(e,t){var n,r,o,l,c,h,d,f,m=this.layers[e].linksTo[t],v=0,_=m.length;for(d=0;d<_;d++)for(n=m[d],f=d+1;f<_;f++){r=m[f],n.target.layer===t?(o=n.source,l=n.target):(o=n.target,l=n.source),r.target.layer===t?(c=r.source,h=r.target):(c=r.target,h=r.source);var w=o.gridPosition,y=l.gridPosition;(w-c.gridPosition)*(y-h.gridPosition)<0&&v++}return v},calcBaryCenter:function(e){var t=e.upstreamLinkCount,n=e.downstreamLinkCount,r=e.uBaryCenter,o=e.dBaryCenter;return t>0&&n>0?(r+o)/2:t>0?r:n>0?o:0},_gridPositionComparer:function(e,t){return e.gridPosition<t.gridPosition?-1:e.gridPosition>t.gridPosition?1:0},_positionAscendingComparer:function(e,t){return e.k<t.k?-1:e.k>t.k?1:0},_positionDescendingComparer:function(e,t){return e.k<t.k?1:e.k>t.k?-1:0},_firstVirtualNode:function(e){for(var t=0;t<e.length;t++)if(e[t].isVirtual)return t;return-1},compareByIndex:function(e,t){var n=e.index,r=t.index;return n<r?1:n>r?-1:0},intDiv:function(e,t){return(e-e%t)/t},nextVirtualNode:function(e,t){for(var i=t.layerIndex+1;i<e.length;++i)if(e[i].isVirtual)return e[i];return null}}),M=n.Class.extend({init:function(e,t){if(w.isUndefined(e))throw"No diagram given";this.diagram=e,this.nodeMap=new m,this.linkMap=new m,this.capture(t||e)},capture:function(e){var t,n,o,i,l,link,c;if(e instanceof r.Graph){for(i=0;i<e.nodes.length;i++)o=(t=e.nodes[i]).associatedShape,this.nodeMap.set(o.visual.id,new f(t.x,t.y,t.width,t.height));for(i=0;i<e.links.length;i++)l=(link=e.links[i]).associatedConnection,this.linkMap.set(l.visual.id,link.points())}else if(e instanceof Array)for(n=e,i=0;i<n.length;i++)(o=(t=n[i]).associatedShape)&&this.nodeMap.set(o.visual.id,new f(t.x,t.y,t.width,t.height));else if(e.hasOwnProperty("links")&&e.hasOwnProperty("nodes")){for(n=e.nodes,c=e.links,i=0;i<n.length;i++)(o=(t=n[i]).associatedShape)&&this.nodeMap.set(o.visual.id,new f(t.x,t.y,t.width,t.height));for(i=0;i<c.length;i++)(l=(link=c[i]).associatedConnection)&&this.linkMap.set(l.visual.id,link.points)}else{var h=this.diagram.shapes,d=this.diagram.connections;for(i=0;i<h.length;i++)o=h[i],this.nodeMap.set(o.visual.id,o.bounds());for(i=0;i<d.length;i++)l=d[i],this.linkMap.set(l.visual.id,l.points())}}});h(r,{init:function(element){n.init(element,r.ui)},SpringLayout:D,TreeLayout:A,GraphAdapter:T,LayeredLayout:I,LayoutBase:S,LayoutState:M})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},877:function(e,t){e.exports=n(147)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1255)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1039:function(e,t){e.exports=n(4)},1233:function(e,t){e.exports=n(100)},1255:function(e,t,n){var r,o,l;n(3),o=[n(1039),n(1233)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget,l={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},c={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},h={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},d={up:"down",down:"up",left:"right",right:"left"},f=o.extend({init:function(element,t){var r,d,f=this,m=element.closest(".km-modalview-wrapper"),v=element.closest(".km-root").children(".km-pane").first(),_=m[0]?m:v;t.viewport?v=t.viewport:v[0]||(v=window),t.container?_=t.container:_[0]||(_=document.body),r={viewport:v,copyAnchorStyles:!1,autosize:!0,open:function(){f.overlay.show()},activate:e.proxy(f._activate,f),deactivate:function(){f.overlay.hide(),f._apiCall||f.trigger("hide"),f._apiCall=!1}},o.fn.init.call(f,element,t),element=f.element,t=f.options,element.wrap('<div class="km-popup-wrapper" />').addClass("km-popup").show(),d=f.options.direction.match(/left|right/)?"horizontal":"vertical",f.dimensions=h[d],f.wrapper=element.parent().css({width:t.width,height:t.height}).addClass("km-popup-wrapper km-"+t.direction).hide(),f.arrow=e('<div class="km-popup-arrow" />').prependTo(f.wrapper).hide(),f.overlay=e('<div class="km-popup-overlay" />').appendTo(_).hide(),r.appendTo=f.overlay,t.className&&f.overlay.addClass(t.className),f.popup=new n.ui.Popup(f.wrapper,e.extend(!0,r,c,l[t.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:["hide"],show:function(t){this.popup.options.anchor=e(t),this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){o.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var t=this.options.direction,n=this.dimensions,r=n.offset,o=this.popup,l=o.options.anchor,c=e(l).offset(),h=e(o.element).offset(),f=o.flipped?d[t]:t,m=2*this.arrow[n.size](),v=this.element[n.size]()-this.arrow[n.size](),_=e(l)[n.size](),w=c[r]-h[r]+_/2;w<m&&(w=m),w>v&&(w=v),this.wrapper.removeClass("km-up km-down km-left km-right").addClass("km-"+f),this.arrow.css(r,w).show()}}),m=o.extend({init:function(element,t){var l,c=this;c.initialOpen=!1,o.fn.init.call(c,element,t),l=e.extend({className:"km-popover-root",hide:function(){c.trigger("close")}},this.options.popup),c.popup=new f(c.element,l),c.popup.overlay.on("move",(function(e){e.target==c.popup.overlay[0]&&e.preventDefault()})),c.pane=new r.Pane(c.element,e.extend(this.options.pane,{$angular:this.options.$angular})),n.notify(c,r)},options:{name:"PopOver",popup:{},pane:{}},events:["open","close"],open:function(e){this.popup.show(e),this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigateToInitial()||this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(e){this.open(e),this.trigger("open",{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){o.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),n.destroy(this.element)}});r.plugin(f),r.plugin(m)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1251)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1251:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget,l=e.map(n.eventMap,(function(e){return e})).join(" ").split(" "),c=o.extend({init:function(t,n){var element=e('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');o.fn.init.call(this,element,n),this.container=t,this.captureEvents=!1,this._attachCapture(),element.append(this.options.loading).hide().appendTo(t)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var e=this;clearTimeout(e._loading),!1!==e.options.loading&&(e.captureEvents=!0,e._loading=setTimeout((function(){e.element.show()}),e.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(e){this.options.loading=e,this.element.find(">h1").html(e)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){var e=this;function t(t){e.captureEvents&&t.preventDefault()}e.captureEvents=!1;for(var i=0;i<l.length;i++)e.container[0].addEventListener(l[i],t,!0)}});r.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1246)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1041:function(e,t){e.exports=n(8)},1246:function(e,t,n){var r,o,l;n(3),o=[n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget,l=n.support.mobileOS,c=l.android&&l.flatVersion>=300;function h(t,n,r){e(n.target).closest(".km-button,.km-detail").toggleClass("km-state-active",r),c&&t.deactivateTimeoutID&&(clearTimeout(t.deactivateTimeoutID),t.deactivateTimeoutID=0)}function d(t){return e('<span class="km-badge">'+t+"</span>")}var f=o.extend({init:function(element,e){var t=this;o.fn.init.call(t,element,e);var r="up"===t.options.clickOn;t._wrap(),t._style(),r||t.element.attr("data-navigate-on-press",!0),t.options.enable=t.options.enable&&!t.element.attr("disabled"),t.enable(t.options.enable),t._userEvents=new n.UserEvents(t.element,{allowSelection:!r,fastTap:!0,press:function(e){t._activate(e)},release:function(e){h(t,e,!1),r||e.event.stopPropagation()}}),t._userEvents.bind(r?"tap":"press",(function(e){t._release(e)})),c&&t.element.on("move",(function(e){t._timeoutDeactivate(e)}))},destroy:function(){o.fn.destroy.call(this),this._userEvents.destroy()},events:["click"],options:{name:"Button",icon:"",style:"",badge:"",clickOn:"up",enable:!0},badge:function(e){var t=this.badgeElement=this.badgeElement||d(e).appendTo(this.element);return e||0===e?(t.html(e),this):!1===e?(t.empty().remove(),this.badgeElement=!1,this):t.html()},enable:function(e){var element=this.element;void 0===e&&(e=!0),this.options.enable=e,e?element.removeAttr("disabled"):element.attr("disabled","disabled"),element.toggleClass("km-state-disabled",!e)},_timeoutDeactivate:function(e){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(h,500,this,e,!1))},_activate:function(e){var t=document.activeElement,n=t?t.nodeName:"";this.options.enable&&(h(this,e,!0),"INPUT"!=n&&"TEXTAREA"!=n||t.blur())},_release:function(t){t.which>1||(this.options.enable?this.trigger("click",{target:e(t.target),button:this.element})&&t.preventDefault():t.preventDefault())},_style:function(){var t,style=this.options.style,element=this.element;style&&(t=style.split(" "),e.each(t,(function(){element.addClass("km-"+this)})))},_wrap:function(){var t=this.options.icon,n=this.options.badge,r='<span class="km-icon km-'+t,element=this.element.addClass("km-button"),span=element.children("span:not(.km-icon)").addClass("km-text"),image=element.find("img").addClass("km-image");!span[0]&&element.html()&&(span=element.wrapInner('<span class="km-text" />').children("span.km-text")),!image[0]&&t&&(span[0]||(r+=" km-notext"),this.iconElement=element.prepend(e(r+'" />'))),(n||0===n)&&(this.badgeElement=d(n).appendTo(element))}}),m=f.extend({options:{name:"BackButton",style:"back"},init:function(element,e){f.fn.init.call(this,element,e),void 0===this.element.attr("href")&&this.element.attr("href","#:back")}}),v=f.extend({options:{name:"DetailButton",style:""},init:function(element,e){f.fn.init.call(this,element,e)},_style:function(){var style=this.options.style+" detail",element=this.element;if(style){var t=style.split(" ");e.each(t,(function(){element.addClass("km-"+this)}))}},_wrap:function(){var t=this.options.icon,n='<span class="km-icon km-'+t,element=this.element,span=element.children("span");!element.find("img").addClass("km-image")[0]&&t&&(span[0]||(n+=" km-notext"),element.prepend(e(n+'" />')))}});r.plugin(f),r.plugin(m),r.plugin(v)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(429),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"kendo-button",mixins:[l.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(435),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"kendo-buttongroup",mixins:[l.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"kendo-buttongroup-button",render:function(e){return e("li",this.$slots.default)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(437),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"kendo-toolbar",mixins:[l.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(441),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"kendo-scheduler",mixins:[l.default]}},function(e,t,n){"use strict";t.a=function(e,t){return t=t||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),u.push([t,n]),i[t]=i[t]?i[t]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(l,t.headers[l]);s.send(t.body||null)}))}},,function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?m((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function c(e,source,t){return e.concat(source).map((function(element){return l(element,t)}))}function h(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(symbol){return e.propertyIsEnumerable(symbol)})):[]}(e))}function d(object,e){try{return e in object}catch(e){return!1}}function f(e,source,t){var n={};return t.isMergeableObject(e)&&h(e).forEach((function(r){n[r]=l(e[r],t)})),h(source).forEach((function(r){(function(e,t){return d(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(d(e,r)&&t.isMergeableObject(source[r])?n[r]=function(e,t){if(!t.customMerge)return m;var n=t.customMerge(e);return"function"==typeof n?n:m}(r,t)(e[r],source[r],t):n[r]=l(source[r],t))})),n}function m(e,source,t){(t=t||{}).arrayMerge=t.arrayMerge||c,t.isMergeableObject=t.isMergeableObject||r,t.cloneUnlessOtherwiseSpecified=l;var n=Array.isArray(source);return n===Array.isArray(e)?n?t.arrayMerge(e,source,t):f(e,source,t):l(source,t)}m.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return m(e,n,t)}),{})};var v=m;e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupButton=t.KendoButtonGroupButton=t.ButtonsInstaller=t.KendoButtonsInstaller=t.ToolBarItem=t.KendoToolBarItem=t.ToolBar=t.KendoToolBar=t.ButtonGroup=t.KendoButtonGroup=t.Button=t.KendoButton=void 0;var r=f(n(230)),o=f(n(231)),l=f(n(232)),c=f(n(233)),h=f(n(150)),d=f(n(440));function f(e){return e&&e.__esModule?e:{default:e}}t.KendoButton=r.default,t.Button=r.default,t.KendoButtonGroup=o.default,t.ButtonGroup=o.default,t.KendoToolBar=c.default,t.ToolBar=c.default,t.KendoToolBarItem=h.default,t.ToolBarItem=h.default,t.KendoButtonsInstaller=d.default,t.ButtonsInstaller=d.default,t.KendoButtonGroupButton=l.default,t.ButtonGroupButton=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SchedulerInstaller=t.KendoSchedulerInstaller=t.SchedulerView=t.KendoSchedulerView=t.SchedulerResource=t.KendoSchedulerResource=t.Scheduler=t.KendoScheduler=void 0;var r=h(n(234)),o=h(n(151)),l=h(n(152)),c=h(n(452));function h(e){return e&&e.__esModule?e:{default:e}}t.KendoScheduler=r.default,t.Scheduler=r.default,t.KendoSchedulerResource=o.default,t.SchedulerResource=o.default,t.KendoSchedulerView=l.default,t.SchedulerView=l.default,t.KendoSchedulerInstaller=c.default,t.SchedulerInstaller=c.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1380)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1003:function(e,t){e.exports=n(7)},1004:function(e,t){e.exports=n(25)},1007:function(e,t){e.exports=n(0)},1010:function(e,t){e.exports=n(39)},1011:function(e,t){e.exports=n(13)},1012:function(e,t){e.exports=n(294)},1013:function(e,t){e.exports=n(182)},1014:function(e,t){e.exports=n(91)},1016:function(e,t){e.exports=n(3)},1024:function(e,t){e.exports=n(49)},1025:function(e,t){e.exports=n(19)},1026:function(e,t){e.exports=n(64)},1031:function(e,t){e.exports=n(40)},1039:function(e,t){e.exports=n(4)},1040:function(e,t){e.exports=n(122)},1041:function(e,t){e.exports=n(8)},1042:function(e,t){e.exports=n(183)},1045:function(e,t){e.exports=n(92)},1050:function(e,t){e.exports=n(88)},1051:function(e,t){e.exports=n(89)},1056:function(e,t){e.exports=n(65)},1057:function(e,t){e.exports=n(20)},1058:function(e,t){e.exports=n(93)},1059:function(e,t){e.exports=n(66)},1060:function(e,t){e.exports=n(123)},1061:function(e,t){e.exports=n(26)},1062:function(e,t){e.exports=n(5)},1074:function(e,t){e.exports=n(124)},1119:function(e,t){e.exports=n(94)},1120:function(e,t){e.exports=n(125)},1122:function(e,t){e.exports=n(184)},1123:function(e,t){e.exports=n(32)},1125:function(e,t){e.exports=n(185)},1140:function(e,t){e.exports=n(33)},1143:function(e,t){e.exports=n(41)},1144:function(e,t){e.exports=n(21)},1145:function(e,t){e.exports=n(67)},1146:function(e,t){e.exports=n(126)},1184:function(e,t){e.exports=n(128)},1185:function(e,t){e.exports=n(129)},1187:function(e,t){e.exports=n(186)},1189:function(e,t){e.exports=n(187)},1193:function(e,t){e.exports=n(188)},1194:function(e,t){e.exports=n(189)},1195:function(e,t){e.exports=n(190)},1199:function(e,t){e.exports=n(95)},1200:function(e,t){e.exports=n(96)},1201:function(e,t){e.exports=n(42)},1204:function(e,t){e.exports=n(192)},1205:function(e,t){e.exports=n(193)},1206:function(e,t){e.exports=n(194)},1207:function(e,t){e.exports=n(132)},1208:function(e,t){e.exports=n(133)},1209:function(e,t){e.exports=n(134)},1210:function(e,t){e.exports=n(135)},1212:function(e,t){e.exports=n(136)},1213:function(e,t){e.exports=n(97)},1214:function(e,t){e.exports=n(137)},1217:function(e,t){e.exports=n(127)},1223:function(e,t){e.exports=n(69)},1286:function(e,t){e.exports=n(197)},1287:function(e,t){e.exports=n(90)},1299:function(e,t){e.exports=n(198)},1300:function(e,t){e.exports=n(199)},1301:function(e,t){e.exports=n(50)},1302:function(e,t){e.exports=n(200)},1303:function(e,t){e.exports=n(201)},1364:function(e,t){e.exports=n(121)},1368:function(e,t){e.exports=n(303)},1369:function(e,t){e.exports=n(304)},1370:function(e,t){e.exports=n(305)},1371:function(e,t){e.exports=n(306)},1372:function(e,t){e.exports=n(307)},1373:function(e,t){e.exports=n(138)},1374:function(e,t){e.exports=n(308)},1380:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1058),n(1059),n(1057),n(1004),n(1050),n(1051),n(1016),n(1209),n(1210),n(1060),n(1061),n(1003),n(1014),n(1041),n(1062),n(1025),n(1206),n(1204),n(1143),n(1208),n(1031),n(1381),n(1042),n(1187),n(1214),n(1207),n(1039),n(1368),n(1056),n(1024),n(1119),n(1123),n(1120),n(1382),n(1122),n(1189),n(1011),n(1012),n(1010),n(1013),n(1383),n(1145),n(1205),n(1199),n(1195),n(1184),n(1369),n(1217),n(1146),n(1384),n(1140),n(1370),n(1385),n(1045),n(1201),n(1386),n(1387),n(1388),n(1371),n(1212),n(1372),n(1373),n(1125),n(1223),n(1200),n(1389),n(1364),n(1287),n(1390),n(1040),n(1374),n(1185),n(1213),n(1144),n(1026),n(1301),n(1299),n(1302),n(1303),n(1300),n(1391),n(1193),n(1194),n(1392),n(1393),n(1394),n(1286),n(1395),n(1396),n(1397),n(1398),n(1399),n(1074)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1381:function(e,t){e.exports=n(309)},1382:function(e,t){e.exports=n(313)},1383:function(e,t){e.exports=n(314)},1384:function(e,t){e.exports=n(315)},1385:function(e,t){e.exports=n(334)},1386:function(e,t){e.exports=n(335)},1387:function(e,t){e.exports=n(336)},1388:function(e,t){e.exports=n(337)},1389:function(e,t){e.exports=n(338)},1390:function(e,t){e.exports=n(339)},1391:function(e,t){e.exports=n(340)},1392:function(e,t){e.exports=n(342)},1393:function(e,t){e.exports=n(343)},1394:function(e,t){e.exports=n(344)},1395:function(e,t){e.exports=n(345)},1396:function(e,t){e.exports=n(377)},1397:function(e,t){e.exports=n(378)},1398:function(e,t){e.exports=n(380)},1399:function(e,t){e.exports=n(390)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(925),e.exports=n(925)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},920:function(e,t){e.exports=n(86)},925:function(e,t,n){var r,o,l;n(3),o=[n(920),n(926)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.drawing,r=n.Surface,o=t.ui.Widget,l=t.deepExtend,c=e.proxy;t.support.svg=r.support.svg,t.support.canvas=r.support.canvas;var h=o.extend({init:function(element,e){o.fn.init.call(this,element,{}),this.options=l({},this.options,e),this._instance=r.create(this.element[0],e),this._instance.translate&&(this.translate=d),this._triggerInstanceHandler=c(this._triggerInstanceEvent,this),this._bindHandler("click"),this._bindHandler("mouseenter"),this._bindHandler("mouseleave"),this._bindHandler("mousemove"),this._enableTracking()},options:{name:"Surface",tooltip:{}},events:["click","mouseenter","mouseleave","mousemove","resize","tooltipOpen","tooltipClose"],_triggerInstanceEvent:function(e){this.trigger(e.type,e)},_bindHandler:function(e){this._instance.bind(e,this._triggerInstanceHandler)},draw:function(element){this._instance.draw(element)},clear:function(){this._instance&&this._instance.clear(),this.hideTooltip()},destroy:function(){this._instance&&(this._instance.destroy(),delete this._instance),this._tooltip&&(this._tooltip.destroy(),delete this._tooltip),o.fn.destroy.call(this)},exportVisual:function(){return this._instance.exportVisual()},eventTarget:function(e){return this._instance.eventTarget(e)},showTooltip:function(e,t){this._tooltip&&this._tooltip.show(e,t)},hideTooltip:function(){this._tooltip&&this._tooltip.hide()},suspendTracking:function(){this._instance.suspendTracking(),this.hideTooltip()},resumeTracking:function(){this._instance.resumeTracking()},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(e){this.element.css({width:e.width,height:e.height}),this._size=e,this._instance.currentSize(e),this._resize()},_resize:function(){this._instance.currentSize(this._size),this._instance._resize()},_enableTracking:function(){t.ui.Popup&&(this._tooltip=new n.SurfaceTooltip(this,this.options.tooltip||{}))}});function d(e){this._instance.translate(e)}t.ui.plugin(h),h.create=function(element,e){return new h(element,e)},t.drawing.Surface=h}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},926:function(e,t){e.exports=n(181)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(919),e.exports=n(919)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},919:function(e,t,n){var r,o,l;n(3),o=[n(920)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo.drawing,n=t.drawDOM;t.drawDOM=function(element,t){return n(e(element)[0],t)},t.drawDOM.drawText=n.drawText,t.drawDOM.getFontFaces=n.getFontFaces}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},920:function(e,t){e.exports=n(86)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1137)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1039:function(e,t){e.exports=n(4)},1137:function(e,t,n){var r,o,l;n(3),o=[n(1138),n(1039)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=r._dropdowntree,c=n.data.ObservableArray,h=n.data.ObservableObject,d=e.extend,f=n._activeElement,m=".kendoDropDownTree",v=n.keys,_=n.support,w=_.browser,y=n._outerWidth,x="k-state-focused",k="mouseenter"+m+" mouseleave"+m,C=/"/g,S=e.proxy,T=n.ui.Widget.extend({init:function(element,t){this.ns=m,n.ui.Widget.fn.init.call(this,element,t),this._selection=this._getSelection(),this._focusInputHandler=e.proxy(this._focusInput,this),this._initial=this.element.val(),this._values=[];var r=this.options.value;if(null!==r&&r.length||(this._noInitialValue=!0),this._isNullorUndefined(r)||(this._valueMethodCalled=!0,this._values=e.isArray(r)?r.slice(0):[r]),this._inputTemplate(),this._accessors(),this._setTreeViewOptions(this.options),this._dataSource(),this._selection._initWrapper(),this._placeholder(!0),this._tabindex(),this.wrapper.data("tabindex",this.wrapper.attr("tabindex")),this.tree=e("<div/>").attr({tabIndex:-1,"aria-hidden":!0}),this.list=e("<div class='k-list-container'/>").append(this.tree),this._header(),this._noData(),this._footer(),this._reset(),this._popup(),this.popup.one("open",S(this._popupOpen,this)),this._clearButton(),this._filterHeader(),this._treeview(),this._renderFooter(),this._checkAll(),this._enable(),this._toggleCloseVisibility(),!this.options.autoBind){var text=t.text||"";this._isNullorUndefined(t.value)?text?this._textAccessor(text):t.placeholder&&this._placeholder(!0):this._preselect(t.value)}e(this.element).parents("fieldset").is(":disabled")&&this.enable(!1),this._valueMethodCalled=!1,n.notify(this)},_preselect:function(data,e){this._selection._preselect(data,e)},_setTreeViewOptions:function(t){var n={autoBind:t.autoBind,checkboxes:t.checkboxes,dataImageUrlField:t.dataImageUrlField,dataSpriteCssClassField:t.dataSpriteCssClassField,dataTextField:t.dataTextField,dataUrlField:t.dataUrlField,loadOnDemand:t.loadOnDemand};this.options.treeview=e.extend({},n,this.options.treeview),t.template&&(this.options.treeview.template=t.template)},_dataSource:function(){var t=this.options.dataSource;this.dataSource=n.data.HierarchicalDataSource.create(t),t&&e.extend(this.options.treeview,{dataSource:this.dataSource})},_popupOpen:function(){var e=this.popup;e.wrapper=n.wrap(e.element)},_getSelection:function(){return this._isMultipleSelection()?new r.DropDownTree.MultipleSelection(this):new r.DropDownTree.SingleSelection(this)},setDataSource:function(e){this._isDataSourceSet=!0,this._tags&&(this._noInitialValue=!0,this.setValue([]),this._tags.empty(),this.span.show(),this._multipleTags.empty()),this.dataSource=e,this.treeview.setDataSource(e),this._isDataSourceSet=!1},_isMultipleSelection:function(){return this.options&&(this.options.treeview.checkboxes||this.options.checkboxes)},options:{name:"DropDownTree",animation:{},autoBind:!0,autoClose:!0,autoWidth:!1,clearButton:!0,dataTextField:"",dataValueField:"",dataImageUrlField:"",dataSpriteCssClassField:"",dataUrlField:"",delay:500,enabled:!0,enforceMinLength:!1,filter:"none",height:200,ignoreCase:!0,index:0,loadOnDemand:!1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found."},minLength:1,checkboxes:!1,noDataTemplate:!0,placeholder:"",checkAll:!1,checkAllTemplate:"Check all",tagMode:"multiple",template:null,text:null,treeview:{},valuePrimitive:!1,footerTemplate:"",headerTemplate:"",value:null,valueTemplate:null,popup:null},events:["open","close","dataBound","change","select","filtering"],focus:function(){this.wrapper.focus()},dataItem:function(e){return this.treeview.dataItem(e)},readonly:function(e){this._editable({readonly:void 0===e||e,disable:!1}),this._toggleCloseVisibility()},enable:function(e){this._editable({readonly:!1,disable:!(e=void 0===e||e)}),this._toggleCloseVisibility()},toggle:function(e){this._toggle(e)},open:function(){var e=this.popup;this.options.autoBind||this.dataSource.data().length||(this.treeview._progress(!0),this._isFilterEnabled()?this._search():this.dataSource.fetch()),!e.visible()&&this._allowOpening()&&(this._isMultipleSelection()&&e.element.addClass("k-multiple-selection"),e.element.addClass("k-popup-dropdowntree"),e.one("activate",this._focusInputHandler),e._hovered=!0,e.open())},close:function(){this.popup.close()},search:function(t){var filter,n=this.options;if(clearTimeout(this._typingTimeout),!n.enforceMinLength&&!t.length||t.length>=n.minLength){if(filter=this._getFilter(t),this.trigger("filtering",{filter:filter})||e.isArray(this.options.dataTextField))return;this._filtering=!0,this.treeview.dataSource.filter(filter)}},_getFilter:function(e){return{field:this.options.dataTextField,operator:this.options.filter,value:e,ignoreCase:this.options.ignoreCase}},refresh:function(){var data=this.treeview.dataSource.flatView();this._renderFooter(),this._renderNoData(),this.filterInput&&this.checkAll&&this.checkAll.toggle(!this.filterInput.val().length),this.tree.toggle(!!data.length),e(this.noData).toggle(!data.length)},setOptions:function(e){o.fn.setOptions.call(this,e),this._setTreeViewOptions(e),this._dataSource(),this.options.treeview&&this.treeview.setOptions(this.options.treeview),e.height&&this.tree&&this.tree.css("max-height",e.height),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData(),this.span&&(this._isMultipleSelection()||this.span.hasClass("k-readonly"))&&this._placeholder(!0),this._inputTemplate(),this._accessors(),this._filterHeader(),this._checkAll(),this._enable(),e&&(e.enable||e.enabled)&&this.enable(!0),this._clearButton()},destroy:function(){n.ui.Widget.fn.destroy.call(this),this.treeview&&this.treeview.destroy(),this.popup.destroy(),this.wrapper.off(m),this._clear.off(m),this._inputWrapper.off(m),this.filterInput&&this.filterInput.off(m),this.tagList&&this.tagList.off(m),n.unbind(this.tagList),this.options.checkAll&&this.checkAll&&this.checkAll.off(m),this._form&&this._form.off("reset",this._resetHandler)},setValue:function(t){t=e.isArray(t)||t instanceof c?t.slice(0):[t],this._values=t},items:function(){return this.treeview.items()},value:function(e){var t=this;if(e)if(t.filterInput&&t.dataSource._filter)t._filtering=!0,t.dataSource.filter({});else if(!t.dataSource.data().length||!t.treeview.dataSource.data().length)return void t.dataSource.fetch((function(){t.options.loadOnDemand?t._selection._setValue(e):t.one("allNodesAreLoaded",(function(){t._selection._setValue(e)}))}));return t._selection._setValue(e)},text:function(text){var e,t=this.options.ignoreCase;if(void 0===(text=null===text?"":text)||this._isMultipleSelection())return this._textAccessor();"string"==typeof text?(e=t?text:text.toLowerCase(),this._selectItemByText(e),this._textAccessor(e)):this._textAccessor(text)},_header:function(){var header=e(this.header),template=this.options.headerTemplate;if(this._angularElement(header,"cleanup"),n.destroy(header),header.remove(),template){var t="function"!=typeof template?n.template(template):template;header=e(t({})),this.header=header[0]?header:null,this.list.prepend(header),this._angularElement(this.header,"compile")}else this.header=null},_noData:function(){var t=e(this.noData),template=!0===this.options.noDataTemplate?this.options.messages.noData:this.options.noDataTemplate;this.angular("cleanup",(function(){return{elements:t}})),n.destroy(t),t.remove(),template?(this.noData=e('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof template?n.template(template):template):this.noData=null},_renderNoData:function(){var e=this.noData;e&&(this._angularElement(e,"cleanup"),e.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(e,"compile"))},_footer:function(){var footer=e(this.footer),template=this.options.footerTemplate;this._angularElement(footer,"cleanup"),n.destroy(footer),footer.remove(),template?(this.footer=e('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof template?n.template(template):template):this.footer=null},_renderFooter:function(){var footer=this.footer;footer&&(this._angularElement(footer,"cleanup"),footer.html(this.footerTemplate({instance:this})),this._angularElement(footer,"compile"))},_enable:function(){var e=this.options,t=this.element.is("[disabled]");void 0!==e.enable&&(e.enabled=e.enable),!e.enabled||t?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_adjustListWidth:function(){var e,t,n=this.list,r=n[0].style.width,o=this.wrapper;if(n.data("width")||!r)return e=window.getComputedStyle?window.getComputedStyle(o[0],null):0,t=parseFloat(e&&e.width)||y(o),e&&w.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),r="border-box"!==n.css("box-sizing")?t-(y(n)-n.width()):t,n.css({fontFamily:o.css("font-family"),width:this.options.autoWidth?"auto":r,minWidth:r,whiteSpace:this.options.autoWidth?"nowrap":"normal"}).data("width",r),!0},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(t._initial)}))},t._form=form.on("reset",t._resetHandler))},_popup:function(){this.popup=new r.Popup(this.list,d({},this.options.popup,{anchor:this.wrapper,open:S(this._openHandler,this),close:S(this._closeHandler,this),animation:this.options.animation,isRtl:_.isRtl(this.wrapper),autosize:this.options.autoWidth}))},_angularElement:function(element,e){element&&this.angular(e,(function(){return{elements:element}}))},_allowOpening:function(){return this.options.noDataTemplate||this.treeview.dataSource.flatView().length},_placeholder:function(e){this.span&&this.span.toggleClass("k-readonly",e).text(e?this.options.placeholder:"")},_currentValue:function(e){var t=this._value(e);return t||0===t||(t=e),t},_checkValue:function(t){var n="",r=-1,o=this.value(),l="multiple"===this.options.tagMode;if((t||0===t)&&(t.level&&(t._level=t.level()),n=this._currentValue(t),r=o.indexOf(n)),t.checked){if(e.grep(this._tags,(function(e){return e.uid===t._tagUid})).length)return;var c=new h(t.toJSON());t._tagUid=c.uid,this._tags.push(c),1===this._tags.length&&(this.span.hide(),l||this._multipleTags.push(c)),-1===r&&(o.push(n),this.setValue(o))}else{var d=this._tags.find((function(e){return e.uid===t._tagUid})),f=this._tags.indexOf(d);if(-1===f)return void this._treeViewCheckAllCheck(t);this._tags.splice(f,1),0===this._tags.length&&(this.span.show(),l||this._multipleTags.splice(0,1)),-1!==r&&(o.splice(r,1),this.setValue(o))}this._treeViewCheckAllCheck(t),this._preventChangeTrigger||this._valueMethodCalled||this._noInitialValue||this.trigger("change"),this.options.autoClose&&this.popup.visible()&&(this.close(),this.wrapper.focus()),this.popup.position(),this._toggleCloseVisibility(),this._updateSelectedOptions()},_updateSelectedOptions:function(){if("select"===this.element[0].tagName.toLowerCase()){var e=this._tags,t="",n=null,r=null;if(e.length)for(var o=0;o<e.length;o++)n=e[o],r=this._value(n),t+=this._option(r,this._text(n),!0);this.element.html(t)}},_option:function(e,t,r){var option="<option";return void 0!==e&&(-1!==(e+="").indexOf('"')&&(e=e.replace(C,"&quot;")),option+=' value="'+e+'"'),r&&(option+=" selected"),option+=">",void 0!==t&&(option+=n.htmlEncode(t)),option+"</option>"},_selectValue:function(e){var t="",text="";(e||0===e)&&(e.level&&(e._level=e.level()),text=this._text(e)||e,t=this._currentValue(e)),null===t&&(t=""),this.setValue(t),this._textAccessor(text,e),this._accessor(t),this._preventChangeTrigger||this._valueMethodCalled||this.trigger("change"),this._valueMethodCalled=!1,this.options.autoClose&&this.popup.visible()&&(this.close(),this.wrapper.focus()),this.popup.position(),this._toggleCloseVisibility()},_clearClick:function(e){e.stopPropagation(),this._clearTextAndValue()},_clearTextAndValue:function(){this.setValue([]),this._clearInput(),this._clearText(),this._selection._clearValue(),this.popup.position(),this._toggleCloseVisibility()},_clearText:function(){this.options.placeholder?this._placeholder(!0):this.span&&this.span.html("")},_inputTemplate:function(){var template=this.options.valueTemplate;template=template?n.template(template):e.proxy(n.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=template},_assignInstance:function(text,e){var t=this.options.dataTextField,n={};return t?(D(n,t.split("."),text),D(n,this.options.dataValueField.split("."),e),n=new h(n)):n=text,n},_textAccessor:function(text,t){var n=this.valueTemplate,span=this.span;if(void 0===text)return span.text();span.removeClass("k-readonly"),!t&&(e.isPlainObject(text)||text instanceof h)&&(t=text),t||(t=this._assignInstance(text,this._accessor()));var r=function(){return{elements:span.get(),data:[{dataItem:t}]}};this.angular("cleanup",r);try{span.html(n(t))}catch(e){span&&span.html("")}this.angular("compile",r)},_accessors:function(){var element=this.element,t=this.options,r=n.getter,o=element.attr(n.attr("text-field")),l=element.attr(n.attr("value-field")),c=function(t){if(e.isArray(t)){var n=t.length,o=e.map(t,(function(e){return function(t){return t[e]}}));return function(e){var t=e._level;if(t||0===t)return o[Math.min(t,n-1)](e)}}return r(t)};!t.dataTextField&&o&&(t.dataTextField=o),!t.dataValueField&&l&&(t.dataValueField=l),t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value",this._text=c(t.dataTextField),this._value=c(t.dataValueField)},_accessor:function(e,t){return this._accessorInput(e,t)},_accessorInput:function(e){var element=this.element[0];if(void 0===e)return element.value;null===e&&(e=""),element.value=e},_clearInput:function(){this.element[0].value=""},_clearButton:function(){var t=this.options.messages.clear;this._clear||(this._clear=e('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+t+'"></span>').attr({role:"button",tabIndex:-1})),this.options.clearButton?(this._clear.insertAfter(this.span),this.wrapper.addClass("k-dropdowntree-clearable")):this.options.clearButton||this._clear.remove()},_toggleCloseVisibility:function(){var e=this.element.attr("readonly"),t=this.value()&&!this._isMultipleSelection()||this.value().length,n=this.element.val()&&this.element.val()!==this.options.placeholder;e||!t&&!n?this._hideClear():this._showClear()},_showClear:function(){this._clear&&this._clear.removeClass("k-hidden")},_hideClear:function(){this._clear&&this._clear.addClass("k-hidden")},_openHandler:function(e){this._adjustListWidth(),this.trigger("open")?e.preventDefault():(this.wrapper.attr("aria-expanded",!0),this.tree.attr("aria-hidden",!1).attr("role","tree"))},_closeHandler:function(e){this.trigger("close")?e.preventDefault():(this.wrapper.attr("aria-expanded",!1),this.tree.attr("aria-hidden",!0))},_treeview:function(){var e=this;e.options.height&&e.tree.css("max-height",e.options.height),e.tree.attr("id",n.guid()),e.treeview=new l(e.tree,d({},e.options.treeview),e),e.dataSource=e.treeview.dataSource,e.treeview.bind("select",(function(t){e.trigger("select",t)}))},_treeViewDataBound:function(e){if(e.node&&this._prev&&this._prev.length&&e.sender.expand(e.node),this._filtering)return e.node||(this._filtering=!1),void(this._isMultipleSelection()||this._deselectItem(e));if(this.treeview||(this.treeview=e.sender),e.node){var t=e.sender.dataItem(e.node);if(t){var n=t.children.data();this._checkLoadedItems(n)}}else{var r=e.sender.dataSource.data();this._checkLoadedItems(r),this._noInitialValue&&(this._noInitialValue=!1)}this.trigger("dataBound",e)},_deselectItem:function(e){var t=[];if(e.node){var n=e.sender.dataItem(e.node);n&&(t=n.children.data())}else t=e.sender.dataSource.data();for(var i=0;i<t.length;i++)t[i].selected&&!this._valueComparer(t[i],this.value())&&t[i].set("selected",!1)},_checkLoadedItems:function(e){var t=this.value();if(e)for(var n=0;n<e.length;n++)this._selection._checkLoadedItem(e[n],t)},_treeViewCheckAllCheck:function(e){this.options.checkAll&&this.checkAll&&(this._getAllChecked(),e.checked?this._checkCheckAll():this._uncheckCheckAll())},_checkCheckAll:function(){var e=this.checkAll.find(".k-checkbox");this._allItemsAreChecked?e.prop("checked",!0).prop("indeterminate",!1):e.prop("indeterminate",!0)},_uncheckCheckAll:function(){var e=this.checkAll.find(".k-checkbox");this._allItemsAreUnchecked?e.prop("checked",!1).prop("indeterminate",!1):e.prop("indeterminate",!0)},_filterHeader:function(){this.filterInput&&(this.filterInput.off(m).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(this._disableCheckChildren(),this.filterInput=e('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.filterInput.on("input",S(this._filterChange,this)),e('<span class="k-list-filter" />').insertBefore(this.tree).append(this.filterInput.add('<span class="k-icon k-i-zoom"></span>')))},_filterChange:function(){this.filterInput&&this._search()},_disableCheckChildren:function(){this._isMultipleSelection()&&this.options.treeview.checkboxes&&this.options.treeview.checkboxes.checkChildren&&(this.options.treeview.checkboxes.checkChildren=!1)},_checkAll:function(){this.checkAll&&(this.checkAll.find(".k-checkbox-label, .k-checkbox").off(m),this.checkAll.remove(),this.checkAll=null),this._isMultipleSelection()&&this.options.checkAll&&(this.checkAll=e('<div class="k-check-all"><input type="checkbox" class="k-checkbox"/><span class="k-checkbox-label">Check All</span></div>').insertBefore(this.tree),this.checkAll.find(".k-checkbox-label").html(n.template(this.options.checkAllTemplate)({instance:this})),this.checkAll.find(".k-checkbox-label").on("click"+m,S(this._clickCheckAll,this)),this.checkAll.find(".k-checkbox").on("change"+m,S(this._changeCheckAll,this)).on("keydown"+m,S(this._keydownCheckAll,this)),this._disabledCheckedItems=[],this._disabledUnCheckedItems=[],this._getAllChecked(),this._allItemsAreUnchecked||this._checkCheckAll())},_changeCheckAll:function(){var e=this.checkAll.find(".k-checkbox").prop("checked");w.msie||w.edge||this._updateCheckAll(e)},_updateCheckAll:function(e){var t=this.checkAll.find(".k-checkbox");this._toggleCheckAllItems(e),t.prop("checked",e),this._disabledCheckedItems.length&&this._disabledUnCheckedItems.length?t.prop("indeterminate",!0):this._disabledCheckedItems.length?t.prop("indeterminate",!e):this._disabledUnCheckedItems.length?t.prop("indeterminate",e):t.prop("indeterminate",!1),this._disabledCheckedItems=[],this._disabledUnCheckedItems=[]},_keydownCheckAll:function(e){var t=e.keyCode;if(e.altKey&&t===v.UP||t===v.ESC)return this.close(),this.wrapper.focus(),void e.preventDefault();t===v.UP&&(this.filterInput?this.filterInput.focus():this.wrapper.focus(),e.preventDefault()),t===v.DOWN&&(this.tree&&this.tree.is(":visible")&&this.tree.focus(),e.preventDefault()),t===v.SPACEBAR&&(w.msie||w.edge)&&(this._clickCheckAll(),e.preventDefault())},_clickCheckAll:function(){var e=this.checkAll.find(".k-checkbox"),t=e.prop("checked");this._updateCheckAll(!t),e.focus()},_dfs:function(e,t,n){for(var r=0;r<e.length&&this[t](e[r],n);r++)this._traverceChildren(e[r],t,n)},_uncheckItemByUid:function(e){this._dfs(this.dataSource.data(),"_uncheckItemEqualsUid",e)},_uncheckItemEqualsUid:function(e,t){return!1===e.enabled||e._tagUid!=t||(e.set("checked",!1),!1)},_selectItemByText:function(text){this._dfs(this.dataSource.data(),"_itemEqualsText",text)},_itemEqualsText:function(e,text){return!1===e.enabled||this._text(e)!==text||(this.treeview.select(this.treeview.findByUid(e.uid)),this._selectValue(e),!1)},_selectItemByValue:function(e){this._dfs(this.dataSource.data(),"_itemEqualsValue",e)},_itemEqualsValue:function(e,t){return!1===e.enabled||!this._valueComparer(e,t)||(this.treeview.select(this.treeview.findByUid(e.uid)),!1)},_checkItemByValue:function(e){for(var t=this.treeview.dataItems(),n=0;n<e.length;n++)this._dfs(t,"_checkItemEqualsValue",e[n])},_checkItemEqualsValue:function(e,t){return!1===e.enabled||!this._valueComparer(e,t)||(e.set("checked",!0),!1)},_valueComparer:function(e,t){var n,r=this._value(e);if(!this._isNullorUndefined(r)){if(this._isNullorUndefined(t))return!1;var o=this._value(t);return o?r==o:r==t}return!!(n=this._text(e))&&(this._text(t)?n==this._text(t):n==t)},_isNullorUndefined:function(e){return null==e},_getAllChecked:function(){return this._allCheckedItems=[],this._allItemsAreChecked=!0,this._allItemsAreUnchecked=!0,this._dfs(this.dataSource.data(),"_getAllCheckedItems"),this._allCheckedItems},_getAllCheckedItems:function(e){return this._allItemsAreChecked&&(this._allItemsAreChecked=e.checked),this._allItemsAreUnchecked&&(this._allItemsAreUnchecked=!e.checked),e.checked&&this._allCheckedItems.push(e),!0},_traverceChildren:function(e,t,n){var r=e[e._childrenOptions&&e._childrenOptions.schema?e._childrenOptions.schema.data:null]||e.items||e.children;r&&this._dfs(r,t,n)},_toggleCheckAllItems:function(e){this._dfs(this.dataSource.data(),"_checkAllCheckItem",e)},_checkAllCheckItem:function(e,t){return!1===e.enabled?e.checked?this._disabledCheckedItems.push(e):this._disabledUnCheckedItems.push(e):e.set("checked",t),!0},_isFilterEnabled:function(){var filter=this.options.filter;return filter&&"none"!==filter},_editable:function(t){var n=this,element=n.element,r=t.disable,o=t.readonly,l=n.wrapper.add(n.filterInput).off(m),c=n._inputWrapper.off(k);n._isMultipleSelection()&&n.tagList.off("click"+m),o||r?r?(l.removeAttr("tabindex"),c.addClass("k-state-disabled")):(l.attr("tabindex",l.data("tabindex")),c.removeClass("k-state-disabled"),l.on("focusin"+m,S(n._focusinHandler,n)).on("focusout"+m,S(n._focusoutHandler,n))):(element.removeAttr("disabled").removeAttr("readonly"),c.removeClass("k-state-disabled").on(k,n._toggleHover),n._clear.on("click"+m,S(n._clearClick,n)),l.attr("tabindex",l.data("tabindex")).attr("aria-disabled",!1).on("keydown"+m,S(n._keydown,n)).on("focusin"+m,S(n._focusinHandler,n)).on("focusout"+m,S(n._focusoutHandler,n)),n.wrapper.on("click"+m,S(n._wrapperClick,n)),this._isMultipleSelection()&&(n.tagList.on("click"+m,"li.k-button",(function(t){e(t.currentTarget).addClass(x)})),n.tagList.on("click"+m,".k-select",(function(e){n._removeTagClick(e)})))),element.attr("disabled",r).attr("readonly",o),l.attr("aria-disabled",r)},_focusinHandler:function(){this._inputWrapper.addClass(x),this._prevent=!1},_focusoutHandler:function(){this._isMultipleSelection()&&this.tagList.find("."+x).removeClass(x),this._prevent||(this._inputWrapper.removeClass(x),this._prevent=!0,this.element.blur())},_toggle:function(e){this[(e=void 0!==e?e:!this.popup.visible())?"open":"close"]()},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_focusInput:function(){this.filterInput?this.filterInput.focus():this.checkAll?this.checkAll.find(".k-checkbox").focus():this.tree.is(":visible")&&this.tree.focus()},_keydown:function(e){var t,n,r,o,l=e.keyCode,c=e.altKey,h=this.popup.visible();if(this.filterInput&&(t=this.filterInput[0]===f()),this.wrapper&&(n=this.wrapper[0]===f()),n){if(l===v.ESC)return this._clearTextAndValue(),void e.preventDefault();if(this._isMultipleSelection()){if(l===v.LEFT)return this._focusPrevTag(),void e.preventDefault();if(l===v.RIGHT)return this._focusNextTag(),void e.preventDefault();if(l===v.HOME)return this._focusFirstTag(),void e.preventDefault();if(l===v.END)return this._focusLastTag(),void e.preventDefault();if(l===v.DELETE)return(r=this.tagList.find("."+x).first()).length&&(o=this._tags[r.index()],this._removeTag(o)),void e.preventDefault();if(l===v.BACKSPACE)return(r=this.tagList.find("."+x).first()).length?(o=this._tags[r.index()],this._removeTag(o)):(r=this._focusLastTag()).length&&(o=this._tags[r.index()],this._removeTag(o)),void e.preventDefault()}}if(t&&(l===v.ESC&&this._clearFilter(),l!==v.UP||c||(this.wrapper.focus(),e.preventDefault()),w.msie&&w.version<10&&(l!==v.BACKSPACE&&l!==v.DELETE||this._search())),c&&l===v.UP||l===v.ESC)return this.wrapper.focus(),this.close(),void e.preventDefault();l===v.ENTER&&this._typingTimeout&&this.filterInput&&h?e.preventDefault():(l!==v.SPACEBAR||t||(this._toggle(!h),e.preventDefault()),c&&l===v.DOWN&&!h&&(this.open(),e.preventDefault()),l===v.DOWN&&h&&(this.filterInput&&!t?this.filterInput.focus():this.checkAll&&this.checkAll.is(":visible")?this.checkAll.find("input").focus():this.tree.is(":visible")&&this.tree.focus(),e.preventDefault()))},_focusPrevTag:function(){var e=this.tagList.find("."+x);if(e.length){var t=this.wrapper.attr("aria-activedescendant");e.first().removeClass(x).removeAttr("id").prev().addClass(x).attr("id",t),this.wrapper.attr("aria-activedescendant",t)}else this._focusLastTag()},_focusNextTag:function(){var e=this.tagList.find("."+x);if(e.length){var t=this.wrapper.attr("aria-activedescendant");e.first().removeClass(x).removeAttr("id").next().addClass(x).attr("id",t),this.wrapper.attr("aria-activedescendant",t)}else this._focusFirstTag()},_focusFirstTag:function(){var e=this.wrapper.attr("aria-activedescendant");this._clearDisabledTag();var t=this.tagList.children("li").first().addClass(x).attr("id",e);return this.wrapper.attr("aria-activedescendant",e),t},_focusLastTag:function(){var e=this.wrapper.attr("aria-activedescendant");this._clearDisabledTag();var t=this.tagList.children("li").last().addClass(x).attr("id",e);return this.wrapper.attr("aria-activedescendant",e),t},_clearDisabledTag:function(){this.tagList.find("."+x).removeClass(x).removeAttr("id")},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){var t=e.filterInput.val();e._prev!==t&&(e._prev=t,e.search(t)),e._typingTimeout=null}),e.options.delay)},_clearFilter:function(){this.filterInput.val().length&&(this.filterInput.val(""),this._prev="",this._filtering=!0,this.treeview.dataSource.filter({}))},_removeTagClick:function(t){t.stopPropagation();var n=this._tags[e(t.currentTarget.parentElement).index()];this._removeTag(n)},_removeTag:function(e){if(e){var t=e.uid;this._uncheckItemByUid(t)}}});function D(e,t,n){for(var r,o=0,l=t.length-1;o<l;++o)(r=t[o])in e||(e[r]={}),e=e[r];e[t[l]]=n}r.plugin(T);var E=n.Class.extend({init:function(view){this._dropdowntree=view},_initWrapper:function(){this._wrapper(),this._span()},_preselect:function(data){this._dropdowntree._selectValue(data)},_wrapper:function(){var e,t=this._dropdowntree,element=t.element,n=element[0];(e=element.parent()).is("span.k-widget")||((e=element.wrap("<span />").parent())[0].style.cssText=n.style.cssText,e[0].title=n.title),t._focused=t.wrapper=e.addClass("k-widget k-dropdowntree").addClass(n.className).css("display","").attr({accesskey:element.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),element.hide().removeAttr("accesskey")},_span:function(){var span,t=this._dropdowntree,n=t.wrapper;(span=n.find("span.k-input"))[0]||(n.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(t.element),span=n.find("span.k-input")),t.span=span,t._inputWrapper=e(n[0].firstChild),t._arrow=n.find(".k-select"),t._arrowIcon=t._arrow.find(".k-icon")},_setValue:function(e){var t,n=this._dropdowntree;return null==e?null==(e="object"==typeof(t=n._values.slice()[0])?t:n._accessor()||t)?"":e:(n._valueMethodCalled=!0,0===e.length?(n._clearTextAndValue(),void(n._valueMethodCalled=!1)):(n._selectItemByValue(e),void n._toggleCloseVisibility()))},_clearValue:function(){var e=this._dropdowntree,t=e.treeview.select();e.treeview.dataItem(t)&&(e.treeview.dataItem(t).set("selected",!1),e._valueMethodCalled||e.trigger("change"))},_checkLoadedItem:function(e,t){var n=this._dropdowntree;n._isNullorUndefined(t)||""===t?!t&&e.selected&&n.treeview.select(n.treeview.findByUid(e.uid)):n._valueComparer(e,t)?(n._preventChangeTrigger=!0,e.set("selected",!0),n._preventChangeTrigger=!1):e.selected&&n.treeview.select(n.treeview.findByUid(e.uid))}}),A=n.Class.extend({init:function(view){this._dropdowntree=view},_initWrapper:function(){var t=this._dropdowntree;this._tagTemplate(),t.element.attr("multiple","multiple").hide(),this._wrapper(),t._tags=new c([]),t._multipleTags=new c([]),this._tagList(),t.span=e('<span unselectable="on" class="k-input">&nbsp;</span>').insertAfter(t.tagList),t._inputWrapper=e(t.wrapper[0].firstChild)},_preselect:function(data,t){var r=this._dropdowntree,o=t||r.options.value;e.isArray(data)||data instanceof n.data.ObservableArray||(data=[data]),(e.isPlainObject(data[0])||data[0]instanceof n.data.ObservableObject||!r.options.dataValueField)&&(r.dataSource.data(data),r.value(o))},_tagTemplate:function(){var e=this._dropdowntree,t=e.options,r=t.valueTemplate,o="multiple"===t.tagMode,l=t.messages.singleTag;r=r?n.template(r):e.valueTemplate,e.valueTemplate=function(data){return o?'<li class="k-button '+(!1===data.enabled?"k-state-disabled":"")+'" unselectable="on" role="option" '+(!1===data.enabled?'aria-disabled="true"':"")+'><span unselectable="on">'+r(data)+'</span><span title="'+e.options.messages.deleteTag+'" aria-label="'+e.options.messages.deleteTag+'" class="k-select"><span class="k-icon k-i-close"></span></span></li>':'<li class="k-button" unselectable="on" role="option"><span unselectable="on" data-bind="text: tags.length"></span><span unselectable="on">&nbsp;'+l+"</span></li>"}},_wrapper:function(){var t=this._dropdowntree,element=t.element,r=element.parent("span.k-dropdowntree");r[0]||((r=element.wrap('<div class="k-widget k-dropdowntree" unselectable="on" />').parent())[0].style.cssText=element[0].style.cssText,r[0].title=element[0].title,e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(element)),t.wrapper=r.addClass(element[0].className).css("display","").attr({role:"listbox","aria-activedescendant":n.guid(),"aria-haspopup":!0,"aria-expanded":!1}),t._innerWrapper=e(r[0].firstChild)},_tagList:function(){var t=this._dropdowntree,r=t._innerWrapper.children("ul");if(!r[0]){var o="multiple"===t.options.tagMode;r=e('<ul role="listbox" unselectable="on" data-template="tagTemplate" data-bind="source: '+(o?"tags":"multipleTag")+'" class="k-reset"/>').appendTo(t._innerWrapper)}t.tagList=r,t.tagList.attr("id",n.guid()+"_tagList"),t.wrapper.attr("aria-owns",t.tagList.attr("id"));var l=n.observable({multipleTag:t._multipleTags,tags:t._tags,tagTemplate:t.valueTemplate});n.bind(t.tagList,l),t.tagList.attr("data-stop",!0)},_setValue:function(e){var t=this._dropdowntree,n=t._values;if(null==e)return t._values.slice();t.setValue(e),t._valueMethodCalled=!0,e.length?(this._removeValues(n,e),t._checkItemByValue(e)):t._clearTextAndValue(),t._valueMethodCalled=!1,t._toggleCloseVisibility()},_removeValues:function(e,t){for(var n=this._dropdowntree,r=this._getNewValues(e,t),o=0;o<r.length;o++)for(var l=0;l<n._tags.length;l++)n._valueComparer(n._tags[l],r[o])&&n._uncheckItemByUid(n._tags[l].uid)},_getNewValues:function(e,t){for(var n=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&n.push(e[r]);return n},_clearValue:function(){for(var e=this._dropdowntree,t=e._tags.slice(),n=0;n<t.length;n++){var r=t[n].uid;e._preventChangeTrigger=!0,e._uncheckItemByUid(r)}t.length&&(e._preventChangeTrigger=!1,e._valueMethodCalled||e.trigger("change"))},_checkLoadedItem:function(e,t){var n=this._dropdowntree;n._noInitialValue&&e.checked?n._checkValue(e):!t.length&&!this._isDataSourceSet||-1===(-1!==t.indexOf(n._currentValue(e))||t.indexOf(e))||this._findTag(n._currentValue(e))||(e.checked?n._checkValue(e):(n._preventChangeTrigger=!0,e.set("checked",!0),n._preventChangeTrigger=!1))},_findTag:function(e){var t=this._dropdowntree;return t._tags.find((function(n){return t._valueComparer(n,e)}))}});n.ui.DropDownTree.SingleSelection=E,n.ui.DropDownTree.MultipleSelection=A}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1138:function(e,t){e.exports=n(295)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(930),e.exports=n(930)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},930:function(e,t,n){var r,o,l;n(3),o=[n(931)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,filter,r=window.kendo,o=r.ui,l=r.keys,c="k-state-disabled",h=e.proxy,d=o.TreeView;filter=".k-group",n=function(e){var t=e.children(".k-animation-container");return t.length||(t=e),t.children(filter)};var f=d.extend({init:function(element,e,t){this.dropdowntree=t,this._nodesToLoad=0,d.fn.init.call(this,element,e),this.dropdowntree._isMultipleSelection()&&this.wrapper.on("click.kendoTreeView",".k-in.k-state-selected",h(this._clickSelectedItem,this))},_checkOnSelect:function(e){if(!e.isDefaultPrevented()){var t=this.dataItem(e.node);t.set("checked",!t.checked)}},_setCheckedValue:function(e,t){e.set("checked",t)},_click:function(e){this.dropdowntree._isMultipleSelection()&&this.one("select",this._checkOnSelect),d.fn._click.call(this,e)},_clickSelectedItem:function(t){var n=e(t.currentTarget);this.one("select",this._checkOnSelect),this._trigger("select",n)||this.dataItem(n).set("selected",!1)},defaultrefresh:function(e){var i,t=e.node,n=e.action,r=e.items,o=this.wrapper,l=this.options,c=l.loadOnDemand,h=l.checkboxes&&l.checkboxes.checkChildren;if(!this._skip){if(e.field){if(!r[0]||!r[0].level)return;return this._updateNodes(r,e.field)}if(t&&(o=this.findByUid(t.uid),this._progress(o,!1)),h&&"remove"!=n){var d=!1;for(i=0;i<r.length;i++)if("checked"in r[i]){d=!0;break}if(!d&&t&&t.checked)for(i=0;i<r.length;i++)r[i].checked=!0}if("add"==n?this._appendItems(e.index,r,o):"remove"==n?this._remove(this.findByUid(r[0].uid),!1):"itemchange"==n?this._updateNodes(r):"itemloaded"==n?(this._nodesToLoad--,this._refreshChildren(o,r,e.index)):this._refreshRoot(r),"remove"!=n)for(i=0;i<r.length;i++)c&&!r[i].expanded||(r[i].hasChildren&&this._nodesToLoad++,r[i].load());0===this._nodesToLoad&&this.dropdowntree.trigger("allNodesAreLoaded"),this.trigger("dataBound",{node:t?o:void 0}),this.dropdowntree._treeViewDataBound({node:t?o:void 0,sender:this}),this.options.checkboxes.checkChildren&&this.updateIndeterminate()}},_previousVisible:function(e){var t,r;if(!e.length||e.prev().length)for(r=e.length?e.prev():this.root.children().last();this._expanded(r)&&(t=n(r).children().last()).length;)r=t;else(r=this.parent(e)||e).length||(this.dropdowntree.checkAll&&this.dropdowntree.checkAll.is(":visible")?this.dropdowntree.checkAll.find(".k-checkbox").focus():this.dropdowntree.filterInput?this.dropdowntree.filterInput.focus():this.dropdowntree.wrapper.focus());return r},_keydown:function(t){var n,o=t.keyCode,h=this.current(),d=this._expanded(h),f=h.find(".k-checkbox-wrapper:first :checkbox"),m=r.support.isRtl(this.element);t.target==t.currentTarget&&(!m&&o==l.RIGHT||m&&o==l.LEFT?d?n=this._nextVisible(h):h.find(".k-in:first").hasClass(c)||this.expand(h):!m&&o==l.LEFT||m&&o==l.RIGHT?d&&!h.find(".k-in:first").hasClass(c)?this.collapse(h):(n=this.parent(h),this._enabled(n)||(n=void 0)):o==l.DOWN?n=this._nextVisible(h):o!=l.UP||t.altKey?o==l.HOME?n=this._nextVisible(e()):o==l.END?n=this._previousVisible(e()):o!=l.ENTER||h.find(".k-in:first").hasClass(c)?o==l.SPACEBAR&&f.length&&!h.find(".k-in:first").hasClass(c)?(f.prop("checked",!f.prop("checked")).data("indeterminate",!1).prop("indeterminate",!1),this._checkboxChange({target:f}),n=h):(t.altKey&&o===l.UP||o===l.ESC)&&this._closePopup():h.find(".k-in:first").hasClass("k-state-selected")||this._trigger("select",h)||this.select(h):n=this._previousVisible(h),n&&(t.preventDefault(),h[0]!=n[0]&&(this._trigger("navigate",n),this.current(n))))},_closePopup:function(){this.dropdowntree.close(),this.dropdowntree.wrapper.focus()},refresh:function(e){this.defaultrefresh(e),this.dropdowntree.options.skipUpdateOnBind||("itemchange"===e.action?this.dropdowntree._isMultipleSelection()?"checked"===e.field&&this.dropdowntree._checkValue(e.items[0]):"checked"!==e.field&&"expanded"!==e.field&&e.items[0].selected&&this.dropdowntree._selectValue(e.items[0]):this.dropdowntree.refresh(e))}});r.ui._dropdowntree=f}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},931:function(e,t){e.exports=n(90)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1481),e.exports=n(1481)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1481:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return kendo.pdf=kendo.pdf||{},kendo.pdf.supportsDeflate=function(){return window.pako&&"function"==typeof window.pako.deflate},kendo.pdf.deflate=function(data){return window.pako.deflate(data)},window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1479),e.exports=n(1479)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1479:function(e,t,n){var r,o,l;n(3),o=[n(1480)],void 0===(l="function"==typeof(r=function(){return function(e,t){kendo.PDFMixin={extend:function(e){e.events.push("pdfExport"),e.options.pdf=this.options,e.saveAsPDF=this.saveAsPDF,e._drawPDF=this._drawPDF,e._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:!1,landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+kendo.version,date:null},saveAsPDF:function(){var progress=new e.Deferred,t=progress.promise(),n={promise:t};if(!this.trigger("pdfExport",n)){var r=this.options.pdf;return r.multiPage=r.multiPage||r.allPages,this._drawPDF(progress).then((function(e){return kendo.drawing.exportPDF(e,r)})).done((function(e){kendo.saveAs({dataURI:e,fileName:r.fileName,proxyURL:r.proxyURL,forceProxy:r.forceProxy,proxyTarget:r.proxyTarget}),progress.resolve()})).fail((function(e){progress.reject(e)})),t}},_drawPDF:function(progress){var t=new e.Deferred;return kendo.drawing.drawDOM(this.wrapper).done((function(e){var n={page:e,pageNumber:1,progress:1,totalPages:1};progress.notify(n),t.resolve(n.page)})).fail((function(e){t.reject(e)})),t},_drawPDFShadow:function(t,n){t=t||{};var r=this.wrapper,shadow=e("<div class='k-pdf-export-shadow'>");t.width&&shadow.css({width:t.width,overflow:"visible"}),r.before(shadow),shadow.append(t.content||r.clone(!0,!0));var o=e.Deferred();return setTimeout((function(){kendo.drawing.drawDOM(shadow,n).always((function(){shadow.remove()})).then((function(){o.resolve.apply(o,arguments)})).fail((function(){o.reject.apply(o,arguments)})).progress((function(){o.progress.apply(o,arguments)}))}),15),o.promise()}}}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1480:function(e,t){e.exports=n(191)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1473),e.exports=n(1473)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1473:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1474)],void 0===(l="function"==typeof(r=function(){!function(e){var t=kendo.ooxml.Workbook;kendo.ooxml.IntlService.register({toString:kendo.toString}),kendo.ooxml.Workbook=t.extend({toDataURL:function(){var e=t.fn.toDataURL.call(this);if("string"!=typeof e)throw new Error("The toDataURL method can be used only with jsZip 2. Either include jsZip 2 or use the toDataURLAsync method.");return e},toDataURLAsync:function(){var n=e.Deferred(),r=t.fn.toDataURL.call(this);return"string"==typeof r?r=n.resolve(r):r&&r.then&&r.then((function(e){n.resolve(e)}),(function(){n.reject()})),n.promise()}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},1474:function(e,t){e.exports=n(299)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1472),e.exports=n(1472)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},879:function(e,t){e.exports=n(300)},1472:function(e,t,n){var r,o,l;n(3),o=[n(19),n(879)],void 0===(l="function"==typeof(r=function(){!function(e){window.kendo.ooxml=window.kendo.ooxml||{};var t=kendo.ooxml,map=e.map,n=t.createZip,r={toString:function(e){return e}},o=kendo.Class.extend({});function l(e,t,n){return(1461*(e+4800+((t-13)/12|0))/4|0)+(367*(t-1-12*((t-13)/12|0))/12|0)-(3*((e+4900+((t-13)/12|0))/100|0)/4|0)+n-32075}o.register=function(e){r=e},o.toString=function(e,t){return r.toString(e,t)};var c=l(1900,0,-1);function h(e){var t,n,r,o,time=(t=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),o=e.getMilliseconds(),(t+(n+(r+o/1e3)/60)/60)/24),h=function(e,t,n){return l(e,t,n)-c}(e.getFullYear(),e.getMonth(),e.getDate());return h<0?h-1+time:h+time}var d="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",f="data:"+d+";base64,",m={compression:"DEFLATE",type:"base64"},v={compression:"DEFLATE",type:"blob"},_={compression:"DEFLATE",type:"arraybuffer"};function w(content){return f+content}function y(e,t){return t.indexOf(e)}var x=JSON.parse.bind(JSON);function k(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function C(e,t){for(var n="",i=0;i<e;++i)n+=t(i);return n}function S(e,t){var n="";if(null!=e)if(Array.isArray(e))for(var i=0;i<e.length;++i)n+=t(e[i],i);else"object"==typeof e&&Object.keys(e).forEach((function(r,i){n+=t(e[r],r,i)}));return n}var T='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',D=function(e){var t=e.frozenColumns,n=e.frozenRows,r=e.columns,o=e.defaults,data=e.data,l=e.index,c=e.mergeCells,h=e.autoFilter,filter=e.filter,d=e.showGridLines,f=e.hyperlinks,m=e.validations,v=e.defaultCellStyleId,_=e.rtl,w=e.legacyDrawing,y=e.drawing,x=e.lastRow,C=e.lastCol;return T+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   <dimension ref="A1:'+I(x-1,C-1)+'" />\n\n   <sheetViews>\n     <sheetView '+(_?'rightToLeft="1"':"")+" "+(0===l?'tabSelected="1"':"")+' workbookViewId="0" '+(!1===d?'showGridLines="0"':"")+">\n     "+(n||t?'\n       <pane state="frozen"\n         '+(t?'xSplit="'+t+'"':"")+"\n         "+(n?'ySplit="'+n+'"':"")+'\n         topLeftCell="'+(String.fromCharCode(65+(t||0))+((n||0)+1))+'"\n       />':"")+'\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" customHeight="1" defaultRowHeight="'+(o.rowHeight?.75*o.rowHeight:15)+'"\n     '+(o.columnWidth?'defaultColWidth="'+F(o.columnWidth)+'"':"")+" />\n\n   "+(null!=v||r&&r.length>0?"\n     <cols>\n       "+(r&&r.length?"":'\n         <col min="1" max="16384" style="'+v+'"\n              '+(o.columnWidth?'width="'+F(o.columnWidth)+'"':"")+" /> ")+"\n       "+S(r,(function(e,t){var n="number"==typeof e.index?e.index+1:t+1;return 0===e.width?"<col "+(null!=v?'style="'+v+'"':"")+'\n                        min="'+n+'" max="'+n+'" hidden="1" customWidth="1" />':"<col "+(null!=v?'style="'+v+'"':"")+'\n                      min="'+n+'" max="'+n+'" customWidth="1"\n                      '+(e.autoWidth?'width="'+(7*e.width+5)/7*256/256+'" bestFit="1"':'width="'+F(e.width)+'"')+" />"}))+"\n     </cols>":"")+"\n\n   <sheetData>\n     "+S(data,(function(e,t){return'\n         <row r="'+("number"==typeof e.index?e.index+1:t+1)+'" x14ac:dyDescent="0.25"\n              '+(e.level?'outlineLevel="'+e.level+'"':"")+"\n              "+(0===e.height?'hidden="1"':e.height?'ht="'+.75*e.height+'" customHeight="1"':"")+">\n           "+S(e.data,(function(e){return'\n             <c r="'+e.ref+'" '+(e.style?'s="'+e.style+'"':"")+" "+(e.type?'t="'+e.type+'"':"")+">\n               "+(null!=e.formula?"string"==typeof(t=e.formula)?"<f>"+k(t)+"</f>":'<f t="array" ref="'+t.ref+'">'+k(t.src)+"</f>":"")+"\n               "+(null!=e.value?"<v>"+k(e.value)+"</v>":"")+"\n             </c>";var t}))+"\n         </row>\n       "}))+"\n   </sheetData>\n\n   "+(h?'<autoFilter ref="'+h.from+":"+h.to+'"/>':filter?re(filter):"")+"\n\n   "+(c.length?'\n     <mergeCells count="'+c.length+'">\n       '+S(c,(function(e){return'<mergeCell ref="'+e+'"/>'}))+"\n     </mergeCells>":"")+"\n\n   "+(m.length?"\n     <dataValidations>\n       "+S(m,(function(e){return'\n         <dataValidation sqref="'+e.sqref.join(" ")+'"\n                         showErrorMessage="'+e.showErrorMessage+'"\n                         type="'+k(e.type)+'"\n                         '+("list"!==e.type?'operator="'+k(e.operator)+'"':"")+'\n                         allowBlank="'+e.allowBlank+'"\n                         showDropDown="'+e.showDropDown+'"\n                         '+(e.error?'error="'+k(e.error)+'"':"")+"\n                         "+(e.errorTitle?'errorTitle="'+k(e.errorTitle)+'"':"")+">\n           "+(e.formula1?"<formula1>"+k(e.formula1)+"</formula1>":"")+"\n           "+(e.formula2?"<formula2>"+k(e.formula2)+"</formula2>":"")+"\n         </dataValidation>"}))+"\n     </dataValidations>":"")+"\n\n   "+(f.length?"\n     <hyperlinks>\n       "+S(f,(function(link){return'\n         <hyperlink ref="'+link.ref+'" r:id="'+link.rId+'"/>'}))+"\n     </hyperlinks>":"")+'\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   '+(w?'<legacyDrawing r:id="'+w+'"/>':"")+"\n   "+(y?'<drawing r:id="'+y+'"/>':"")+"\n</worksheet>"},E=function(e){return T+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+S(e,(function(e){return'\n    <Relationship Id="'+e.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+e.target+'"/>'}))+"\n</Relationships>"};function A(e){var t=Math.floor(e/26)-1;return(t>=0?A(t):"")+String.fromCharCode(65+e%26)}function I(e,t){return A(t)+(e+1)}function M(e,t){return"$"+A(t)+"$"+(e+1)}function R(e){return(e.frozenRows||(e.freezePane||{}).rowSplit||1)-1}function F(e){return e/7-Math.floor(128/7)/256}var P=kendo.Class.extend({init:function(t,n,r,o){this.options=t,this._strings=n,this._styles=r,this._borders=o,this._validations={},this._comments=[],this._drawings=t.drawings||[],this._hyperlinks=(this.options.hyperlinks||[]).map((function(link,i){return e.extend({},link,{rId:"link"+i})}))},relsToXML:function(){var e=this._hyperlinks,t=this._comments,n=this._drawings;if(e.length||t.length||n.length)return function(e){var t=e.hyperlinks,n=e.comments,r=e.sheetIndex,o=e.drawings;return T+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+S(t,(function(link){return'\n    <Relationship Id="'+link.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+k(link.target)+'" TargetMode="External" />'}))+"\n  "+(n.length?'\n    <Relationship Id="comment'+r+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments'+r+'.xml"/>\n    <Relationship Id="vml'+r+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing'+r+'.vml"/>':"")+"\n  "+(o.length?'\n    <Relationship Id="drw'+r+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'+r+'.xml"/>':"")+"\n</Relationships>"}({hyperlinks:e,comments:t,sheetIndex:this.options.sheetIndex,drawings:n})},toXML:function(e){var t=this.options.mergedCells||[],data=function(e,t){var n=[],r=[];!function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n){var r=n.index;"number"!=typeof r&&(r=i),t(n,r)}}}(e,(function(e,t){var data={_source:e,index:t,height:e.height,level:e.level,cells:[]};n.push(data),r[t]=data}));for(var o=j(n).slice(0),l={rowData:n,rowsByIndex:r,mergedCells:t},i=0;i<o.length;i++)K(o[i],l),delete o[i]._source;return j(n)}(this.options.rows||[],t);this._readCells(data);var filter,n=this.options.filter;n&&"number"==typeof n.from&&"number"==typeof n.to?n={from:I(R(this.options),n.from),to:I(R(this.options),n.to)}:n&&n.ref&&n.columns&&(filter=n,n=null);var r=[];for(var i in this._validations)Object.prototype.hasOwnProperty.call(this._validations,i)&&r.push(this._validations[i]);var o=null;this.options.defaultCellStyle&&(o=this._lookupStyle(this.options.defaultCellStyle));var l=this.options.freezePane||{},c=this.options.defaults||{},h=this.options.rows?this._getLastRow():1,d=this.options.rows?this._getLastCol():1;return D({frozenColumns:this.options.frozenColumns||l.colSplit,frozenRows:this.options.frozenRows||l.rowSplit,columns:this.options.columns,defaults:c,data:data,index:e,mergeCells:t,autoFilter:n,filter:filter,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:r,defaultCellStyleId:o,rtl:void 0!==this.options.rtl?this.options.rtl:c.rtl,legacyDrawing:this._comments.length?"vml"+this.options.sheetIndex:null,drawing:this._drawings.length?"drw"+this.options.sheetIndex:null,lastRow:h,lastCol:d})},commentsXML:function(){if(this._comments.length)return function(e){var t=e.comments;return T+'\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    '+S(t,(function(e){return'\n      <comment ref="'+e.ref+'" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>'+k(e.text)+"</t>\n          </r>\n        </text>\n      </comment>"}))+"\n  </commentList>\n</comments>"}({comments:this._comments})},drawingsXML:function(e){if(this._drawings.length){var t={},main=this._drawings.map((function(n){var r=$(n.topLeftCell),img=t[n.image];return img||(img=t[n.image]={rId:"img"+n.image,target:e[n.image].target}),{col:r.col,colOffset:Y(n.offsetX),row:r.row,rowOffset:Y(n.offsetY),width:Y(n.width),height:Y(n.height),imageId:img.rId}}));return{main:(n=main,T+'\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  '+S(n,(function(e,t){return'\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>'+e.col+"</xdr:col>\n        <xdr:colOff>"+e.colOffset+"</xdr:colOff>\n        <xdr:row>"+e.row+"</xdr:row>\n        <xdr:rowOff>"+e.rowOffset+'</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="'+e.width+'" cy="'+e.height+'" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="'+(t+1)+'" name="Picture '+(t+1)+'"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="'+e.imageId+'"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>'}))+"\n</xdr:wsDr>"),rels:E(t)}}var n},legacyDrawing:function(){if(this._comments.length)return function(e){return'<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype id="_x0000_t202" path="m,l,21600r21600,l21600,xe"></v:shapetype>\n  '+S(e.comments,(function(e){return'\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>'+e.anchor+"</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>"+e.row+"</x:Row>\n        <x:Column>"+e.col+"</x:Column>\n      </x:ClientData>\n    </v:shape>"}))+"\n</xml>"}({comments:this._comments})},_lookupString:function(e){var t,n="$"+e,r=this._strings.indexes[n];return void 0!==r?t=r:(t=this._strings.indexes[n]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,t},_lookupStyle:function(style){var e=JSON.stringify(style);if("{}"===e)return 0;var t=y(e,this._styles);return t<0&&(t=this._styles.push(e)-1),t+1},_lookupBorder:function(e){var t=JSON.stringify(e);if("{}"!==t){var n=y(t,this._borders);return n<0&&(n=this._borders.push(t)-1),n+1}},_readCells:function(e){for(var i=0;i<e.length;i++){var t=e[i],n=t.cells;t.data=[];for(var r=0;r<n.length;r++){var o=this._cell(n[r],t.index,r);o&&t.data.push(o)}}},_cell:function(data,e,t){if(!data||data===U)return null;var n=data.value,r={};data.borderLeft&&(r.left=data.borderLeft),data.borderRight&&(r.right=data.borderRight),data.borderTop&&(r.top=data.borderTop),data.borderBottom&&(r.bottom=data.borderBottom),r=this._lookupBorder(r);var l,c=this.options.defaultCellStyle||{},style={borderId:r};(l=function(e,t){var n=data[e];if(void 0===n&&(n=c[e]),void 0!==n)return style[t||e]=n,!0})("color"),l("background"),l("bold"),l("italic"),l("underline"),l("fontFamily")||l("fontName","fontFamily"),l("fontSize"),l("format"),l("textAlign")||l("hAlign","textAlign"),l("verticalAlign")||l("vAlign","verticalAlign"),l("wrap"),l("indent");var d=(this.options.columns||[])[t],f=typeof n;if(d&&d.autoWidth&&(!data.colSpan||1===data.colSpan)){var m=n;"number"===f&&(m=o.toString(n,data.format)),d.width=Math.max(d.width||0,String(m).length)}"string"===f?(n=function(e){return String(e).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}(n),n=this._lookupString(n),f="s"):"number"===f?f="n":"boolean"===f?(f="b",n=Number(n)):n&&n.getTime?(f=null,n=h(n),style.format||(style.format="mm-dd-yy")):(f=null,n=null),style=this._lookupStyle(style);var v=I(e,t);if(data.validation&&this._addValidation(data.validation,v),data.comment){var _=[t+1,15,e,10,t+3,15,e+3,4];this._comments.push({ref:v,text:data.comment,row:e,col:t,anchor:_.join(", ")})}return{value:n,formula:data.formula,type:f,style:style,ref:v}},_addValidation:function(e,t){var n={showErrorMessage:"reject"===e.type?1:0,formula1:e.from,formula2:e.to,type:L[e.dataType]||e.dataType,operator:B[e.comparerType]||e.comparerType,allowBlank:e.allowNulls?1:0,showDropDown:e.showButton?0:1,error:e.messageTemplate,errorTitle:e.titleTemplate},r=JSON.stringify(n);this._validations[r]||(this._validations[r]=n,n.sqref=[]),this._validations[r].sqref.push(t)},_getLastRow:function(){return z(this.options.rows)},_getLastCol:function(){var e=0;return this.options.rows.forEach((function(t){t.cells&&(e=Math.max(e,z(t.cells)))})),e}});function z(data){var e=data.length;return data.forEach((function(t){t.index&&t.index>=e&&(e=t.index+1)})),e}var B={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},L={number:"decimal"},H={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function N(e){var t=e;return t.length<6&&(t=t.replace(/(\w)/g,(function(e,t){return t+t}))),(t=t.substring(1).toUpperCase()).length<8&&(t="FF"+t),t}var O=kendo.Class.extend({init:function(e){var t=this;this.options=e||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._images=this.options.images,this._imgId=0,this._sheets=map(this.options.sheets||[],(function(e,i){return e.defaults=t.options,e.sheetIndex=i+1,new P(e,t._strings,t._styles,t._borders)}))},imageFilename:function(e){var t=++this._imgId;switch(e){case"image/jpg":case"image/jpeg":return"image"+t+".jpg";case"image/png":return"image"+t+".png";case"image/gif":return"image"+t+".gif";default:return"image"+t+".bin"}},toZIP:function(){var e=this,t=n(),r=t.folder("docProps");r.file("core.xml",function(e){var t=e.creator,n=e.lastModifiedBy,r=e.created,o=e.modified;return T+'\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>'+k(t)+"</dc:creator>\n   <cp:lastModifiedBy>"+k(n)+'</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">'+k(r)+'</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">'+k(o)+"</dcterms:modified>\n</cp:coreProperties>"}({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));var o=this._sheets.length;r.file("app.xml",function(e){var t=e.sheets;return T+'\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>'+t.length+'</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="'+t.length+'" baseType="lpstr">'+S(t,(function(e,i){return e.options.title?"<vt:lpstr>"+k(e.options.title)+"</vt:lpstr>":"<vt:lpstr>Sheet"+(i+1)+"</vt:lpstr>"}))+"</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>"}({sheets:this._sheets})),t.folder("_rels").file(".rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>');var l=t.folder("xl");if(l.folder("_rels").file("workbook.xml.rels",function(e){var t=e.count;return T+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+C(t,(function(e){return'\n    <Relationship Id="rId'+(e+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(e+1)+'.xml" />'}))+'\n  <Relationship Id="rId'+(t+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId'+(t+2)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>'}({count:o})),this._images){var c=l.folder("media");Object.keys(this._images).forEach((function(t){var img=e._images[t],n=e.imageFilename(img.type);c.file(n,img.data),img.target="../media/"+n}))}var h={};l.file("workbook.xml",function(e){var t=e.sheets,n=e.filterNames,r=e.userNames;return T+'\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  '+S(t,(function(e,i){var t=e.options;return'<sheet name="'+k(t.name||t.title||"Sheet"+(i+1))+'" sheetId="'+(i+1)+'" r:id="rId'+(i+1)+'" />'}))+"\n  </sheets>\n  "+(n.length||r.length?"\n    <definedNames>\n      "+S(n,(function(e){return'\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="'+e.localSheetId+'">'+k(function(e){return/^\'/.test(e)?e:/^[a-z_][a-z0-9_]*$/i.test(e)?e:"'"+e.replace(/\x27/g,"\\'")+"'"}(e.name))+"!"+k(e.from)+":"+k(e.to)+"</definedName>"}))+"\n      "+S(r,(function(e){return'\n         <definedName name="'+e.name+'" hidden="'+(e.hidden?1:0)+'" '+(null!=e.localSheetId?'localSheetId="'+e.localSheetId+'"':"")+">"+k(e.value)+"</definedName>"}))+"\n    </definedNames>":"")+'\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>'}({sheets:this._sheets,filterNames:map(this._sheets,(function(e,t){var n=e.options,r=n.name||n.title||"Sheet"+(t+1);h[r.toLowerCase()]=t;var filter=n.filter;if(filter){if(filter.ref){var a=filter.ref.split(":"),o=$(a[0]),l=$(a[1]);return{localSheetId:t,name:r,from:M(o.row,o.col),to:M(l.row,l.col)}}if(void 0!==filter.from&&void 0!==filter.to)return{localSheetId:t,name:r,from:M(R(n),filter.from),to:M(R(n),filter.to)}}})),userNames:map(this.options.names||[],(function(e){return{name:e.localName,localSheetId:e.sheet?h[e.sheet.toLowerCase()]:null,value:e.value,hidden:e.hidden}}))}));for(var d=l.folder("worksheets"),f=l.folder("drawings"),m=f.folder("_rels"),v=d.folder("_rels"),_=[],w=[],D=0;D<o;D++){var E=e._sheets[D],A="sheet"+(D+1)+".xml",I=E.toXML(D),F=E.relsToXML(),P=E.commentsXML(),z=E.legacyDrawing(),B=E.drawingsXML(e._images);if(F&&v.file(A+".rels",F),P){var L="comments"+E.options.sheetIndex+".xml";l.file(L,P),_.push(L)}if(z&&f.file("vmlDrawing"+E.options.sheetIndex+".vml",z),B){var O="drawing"+E.options.sheetIndex+".xml";f.file(O,B.main),m.file(O+".rels",B.rels),w.push(O)}d.file(A,I)}var V=map(this._borders,x),U=map(this._styles,x),j=function(style){return style.underline||style.bold||style.italic||style.color||style.fontFamily||style.fontSize},G=map(U,(function(style){var e,t,n;if(style.fontSize&&(style.fontSize=(e=style.fontSize,(n=Number(e))&&(t=3*n/4),t)),style.color&&(style.color=N(style.color)),j(style))return style})),Y=map(U,(function(style){if(style.format&&void 0===H[style.format])return style})),K=map(U,(function(style){if(style.background)return style.background=N(style.background),style}));return l.file("styles.xml",function(e){var t=e.formats,n=e.fonts,r=e.fills,o=e.borders,l=e.styles;return T+'\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="'+t.length+'">\n  '+S(t,(function(e,t){return'\n    <numFmt formatCode="'+k(e.format)+'" numFmtId="'+(165+t)+'" />'}))+'\n  </numFmts>\n  <fonts count="'+(n.length+1)+'" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    '+S(n,(function(e){return'\n    <font>\n      <sz val="'+(e.fontSize||11)+'" />\n      '+(e.bold?"<b/>":"")+"\n      "+(e.italic?"<i/>":"")+"\n      "+(e.underline?"<u/>":"")+"\n      "+(e.color?'<color rgb="'+k(e.color)+'" />':'<color theme="1" />')+"\n      "+(e.fontFamily?'\n        <name val="'+k(e.fontFamily)+'" />\n        <family val="2" />\n      ':'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      ')+"\n    </font>"}))+'\n  </fonts>\n  <fills count="'+(r.length+2)+'">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    '+S(r,(function(e){return"\n      "+(e.background?'\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="'+k(e.background)+'"/>\n          </patternFill>\n        </fill>\n      ':"")}))+'\n  </fills>\n  <borders count="'+(o.length+1)+'">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    '+S(o,W)+'\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="'+(l.length+1)+'">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    '+S(l,(function(style){return'\n      <xf xfId="0"\n          '+(style.fontId?'fontId="'+style.fontId+'" applyFont="1"':"")+"\n          "+(style.fillId?'fillId="'+style.fillId+'" applyFill="1"':"")+"\n          "+(style.numFmtId?'numFmtId="'+style.numFmtId+'" applyNumberFormat="1"':"")+"\n          "+(style.textAlign||style.verticalAlign||style.wrap?'applyAlignment="1"':"")+"\n          "+(style.borderId?'borderId="'+style.borderId+'" applyBorder="1"':"")+">\n        "+(style.textAlign||style.verticalAlign||style.wrap?"\n        <alignment\n          "+(style.textAlign?'horizontal="'+k(style.textAlign)+'"':"")+"\n          "+(style.verticalAlign?'vertical="'+k(style.verticalAlign)+'"':"")+"\n          "+(style.indent?'indent="'+k(style.indent)+'"':"")+"\n          "+(style.wrap?'wrapText="1"':"")+" />\n        ":"")+"\n      </xf>\n    "}))+'\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>'}({fonts:G,fills:K,formats:Y,borders:V,styles:map(U,(function(style){var e={};return j(style)&&(e.fontId=y(style,G)+1),style.background&&(e.fillId=y(style,K)+2),e.textAlign=style.textAlign,e.indent=style.indent,e.verticalAlign=style.verticalAlign,e.wrap=style.wrap,e.borderId=style.borderId,style.format&&(void 0!==H[style.format]?e.numFmtId=H[style.format]:e.numFmtId=165+y(style,Y)),e}))})),l.file("sharedStrings.xml",function(e){var t=e.count,n=e.uniqueCount,r=e.indexes;return T+'\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+n+'">\n  '+S(Object.keys(r),(function(e){return'\n    <si><t xml:space="preserve">'+k(e.substring(1))+"</t></si>"}))+"\n</sst>"}(this._strings)),t.file("[Content_Types].xml",function(e){var t=e.sheetCount,n=e.commentFiles,r=e.drawingFiles;return T+'\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  '+C(t,(function(e){return'<Override PartName="/xl/worksheets/sheet'+(e+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />'}))+"\n  "+S(n,(function(e){return'<Override PartName="/xl/'+e+'" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>'}))+"\n  "+S(r,(function(e){return'<Override PartName="/xl/drawings/'+e+'" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>'}))+'\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>'}({sheetCount:o,commentFiles:_,drawingFiles:w})),t},toDataURL:function(){var e=this.toZIP();return e.generateAsync?e.generateAsync(m).then(w):w(e.generate(m))},toBlob:function(){var e=this.toZIP();return e.generateAsync?e.generateAsync(v):new Blob([e.generate(_)],{type:d})}});function V(e,style){var t,n,r="";return style&&(r+="<"+e+' style="'+(t=style.size,n="thin",2===t?n="medium":3===t&&(n="thick"),n)+'">',style.color&&(r+='<color rgb="'+N(style.color)+'"/>'),r+="</"+e+">"),r}function W(e){return"<border>"+V("left",e.left)+V("right",e.right)+V("top",e.top)+V("bottom",e.bottom)+"</border>"}var U={};function j(e){return e.sort((function(a,b){return a.index-b.index}))}function G(e,t){for(var i=0;i<e.length;++i){var a=e[i].split(":"),n=a[0];if(n===t){var r=a[1];return n=$(n),{rowSpan:(r=$(r)).row-n.row+1,colSpan:r.col-n.col+1}}}}function $(e){var t,n=/^([a-z]+)(\d+)$/i.exec(e);return{row:(t=n[2],parseInt(t,10)-1),col:function(e){for(var t=e.toUpperCase(),col=0,i=0;i<t.length;++i)col=26*col+t.charCodeAt(i)-64;return col-1}(n[1])}}function Y(e){return Math.round(9525*e)}function K(data,e){var t,n,r=data._source,o=data.index,l=r.cells,c=data.cells;if(l)for(var i=0;i<l.length;i++){var h=l[i]||U,d=h.rowSpan||1,f=h.colSpan||1,m=Q(c,h),v=I(o,m);if(1===d&&1===f){var _=G(e.mergedCells,v);_&&(f=_.colSpan,d=_.rowSpan)}if(J(h,c,m,f),(d>1||f>1)&&(t=e.mergedCells,n=v+":"+I(o+d-1,m+f-1),t.indexOf(n)<0&&t.push(n)),d>1)for(var w=o+1;w<o+d;w++){var y=e.rowsByIndex[w];y||(y=e.rowsByIndex[w]={index:w,cells:[]},e.rowData.push(y)),J(h,y.cells,m-1,f+1)}}}function Q(data,e){var t;return"number"==typeof e.index?(t=e.index,X(data,e,e.index)):t=function(data,e){for(var t=data.length,i=0;i<data.length+1;i++)if(!data[i]){data[i]=e,t=i;break}return t}(data,e),t}function X(data,e,t){data[t]=e}function J(e,t,n,r){for(var i=1;i<r;i++)X(t,{borderTop:e.borderTop,borderRight:e.borderRight,borderBottom:e.borderBottom,borderLeft:e.borderLeft},n+i)}var Z=function(e){var t=e.ref,n=e.columns,r=e.generators;return'\n<autoFilter ref="'+t+'">\n  '+S(n,(function(col){return'\n    <filterColumn colId="'+col.index+'">\n      '+r[col.filter](col)+"\n    </filterColumn>\n  "}))+"\n</autoFilter>"},ee=function(e){return"\n<customFilters "+("and"===e.logic?'and="1"':"")+">\n"+S(e.criteria,(function(e){var t=re.customOperator(e);return"<customFilter "+(t?'operator="'+t+'"':"")+' val="'+re.customValue(e)+'"/>'}))+"\n</customFilters>"},te=function(e){var t=e.type;return'<dynamicFilter type="'+re.dynamicFilterType(t)+'" />'},ie=function(e){var t=e.type,n=e.value;return'<top10 percent="'+(/percent$/i.test(t)?1:0)+'"\n       top="'+(/^top/i.test(t)?1:0)+'"\n       val="'+n+'" />'},ne=function(e){return"<filters "+(e.blanks?'blank="1"':"")+">\n    "+S(e.values,(function(e){return'\n      <filter val="'+e+'" />'}))+"\n  </filters>"};function re(filter){return Z({ref:filter.ref,columns:filter.columns,generators:{custom:ee,dynamic:te,top:ie,value:ne}})}re.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},re.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},re.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e},kendo.deepExtend(kendo.ooxml,{IntlService:o,Workbook:O,Worksheet:P})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1475),e.exports=n(1475)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1475:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){kendo.ooxml=kendo.ooxml||{},kendo.ooxml.createZip=function(){if("undefined"==typeof JSZip)throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");return new JSZip}})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(994),e.exports=n(994)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},994:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){window.kendo.excel=window.kendo.excel||{};var t=kendo.getter,map=e.map,n={compile:function(template){return template}},r=kendo.Class.extend({});function o(data){return data.title+": "+data.value}function l(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}r.register=function(e){n=e},r.compile=function(template){return n.compile(template)};var c=kendo.Class.extend({init:function(e){e.columns=this._trimColumns(e.columns||[]),this.allColumns=map(this._leafColumns(e.columns||[]),this._prepareColumn),this.columns=this.allColumns.filter((function(e){return!e.hidden})),this.options=e,this.data=e.data||[],this.aggregates=e.aggregates||{},this.groups=[].concat(e.groups||[]),this.hierarchy=e.hierarchy},workbook:function(){return{sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]}},_trimColumns:function(e){var t=this;return e.filter((function(e){var n=Boolean(e.field);return!n&&e.columns&&(n=t._trimColumns(e.columns).length>0),n}))},_leafColumns:function(e){for(var t=[],n=0;n<e.length;n++)e[n].columns?t=t.concat(this._leafColumns(e[n].columns)):t.push(e[n]);return t},_prepareColumn:function(n){if(!n.field)return null;var l=function(e){return t(n.field,!0)(e)},c=null;return n.values&&(c={},n.values.forEach((function(e){c[e.value]=e.text})),l=function(e){return c[t(n.field,!0)(e)]}),e.extend({},n,{value:l,values:c,groupHeaderTemplate:n.groupHeaderTemplate?r.compile(n.groupHeaderTemplate):o,groupFooterTemplate:n.groupFooterTemplate?r.compile(n.groupFooterTemplate):null,footerTemplate:n.footerTemplate?r.compile(n.footerTemplate):null})},_filter:function(){if(!this.options.filterable)return null;var e=this._depth();return{from:e,to:e+this.columns.length-1}},_createPaddingCells:function(t){var n=this;return l(t,(function(){return e.extend({background:"#dfdfdf",color:"#333"},n.options.paddingCellOptions)}))},_dataRow:function(t,n,r){var o=this._createPaddingCells(n);if(r&&t.items){var l=this.allColumns.filter((function(e){return e.field===t.field}))[0],title=l&&l.title?l.title:t.field,template=l?l.groupHeaderTemplate:null,c=e.extend({title:title,field:t.field,value:l&&l.values?l.values[t.value]:t.value,aggregates:t.aggregates,items:t.items},t.aggregates[t.field]),h=title+": "+t.value;template&&(h=template(c)),o.push(e.extend({value:h,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+r-n},(l||{}).groupHeaderCellOptions));var d=this._dataRows(t.items,n+1);return d.unshift({type:"group-header",cells:o,level:this.options.collapsible?n:null}),d.concat(this._footer(t,n))}for(var f=[],m=0;m<this.columns.length;m++)f[m]=this._cell(t,this.columns[m]);return this.hierarchy&&(f[0].colSpan=r-n+1),[{type:"data",cells:o.concat(f),level:this.options.collapsible?n:null}]},_dataRows:function(e,t){for(var n=this._depth(),r=[],o=0;o<e.length;o++)r.push.apply(r,this._dataRow(e[o],t,n));return r},_hierarchyRows:function(){for(var e,t=this._depth(),data=this.data,n=this.hierarchy.itemLevel,r=this._hasFooterTemplate(),o=[],l=[],c=0,h=0;h<data.length;h++){var d=data[h],f=n(d);r&&(f>c?l.push({id:e,level:c}):f<c&&o.push.apply(o,this._hierarchyFooterRows(l,f,t)),c=f,e=d.id),o.push.apply(o,this._dataRow(d,f+1,t))}if(r){o.push.apply(o,this._hierarchyFooterRows(l,0,t));var m=data.length?this.aggregates[data[0].parentId]:{};o.push(this._hierarchyFooter(m,0,t))}return this._prependHeaderRows(o),o},_hierarchyFooterRows:function(e,t,n){for(var r=[];e.length&&e[e.length-1].level>=t;){var o=e.pop();r.push(this._hierarchyFooter(this.aggregates[o.id],o.level+1,n))}return r},_hasFooterTemplate:function(){for(var e=this.columns,t=0;t<e.length;t++)if(e[t].footerTemplate)return!0},_hierarchyFooter:function(t,n,r){var o=this.columns.map((function(o,l){var c=l?1:r-n+1;return o.footerTemplate?e.extend({background:"#dfdfdf",color:"#333",colSpan:c,value:o.footerTemplate(e.extend({},(t||{})[o.field]))},o.footerCellOptions):e.extend({background:"#dfdfdf",color:"#333",colSpan:c},o.footerCellOptions)}));return{type:"footer",cells:this._createPaddingCells(n).concat(o)}},_footer:function(t,n){var r,o,l=[],footer=this.columns.some((function(e){return e.groupFooterTemplate}));footer&&(o={group:{items:t.items,field:t.field,value:t.value}},r={},Object.keys(t.aggregates).forEach((function(n){r[n]=e.extend({},t.aggregates[n],o)})));var c=this.columns.map((function(n){if(n.groupFooterTemplate){var data=e.extend({},r,t.aggregates[n.field],o);return e.extend({background:"#dfdfdf",color:"#333",value:n.groupFooterTemplate(data)},n.groupFooterCellOptions)}return e.extend({background:"#dfdfdf",color:"#333"},n.groupFooterCellOptions)}));return footer&&l.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(c),level:this.options.collapsible?n:null}),l},_isColumnVisible:function(e){return this._visibleColumns([e]).length>0&&(e.field||e.columns)},_visibleColumns:function(e){var t=this;return e.filter((function(e){var n=!e.hidden;return n&&e.columns&&(n=t._visibleColumns(e.columns).length>0),n}))},_headerRow:function(t,n){var r=this,o=t.cells.map((function(n){return e.extend(n,{colSpan:n.colSpan>1?n.colSpan:1,rowSpan:t.rowSpan>1&&!n.colSpan?t.rowSpan:1})}));return this.hierarchy&&(o[0].colSpan=this._depth()+1),{type:"header",cells:l(n.length,(function(){return e.extend({background:"#7a7a7a",color:"#fff"},r.options.headerPaddingCellOptions)})).concat(o)}},_prependHeaderRows:function(e){var t=this.groups,n=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(n,this.options.columns);for(var r=n.length-1;r>=0;r--)e.unshift(this._headerRow(n[r],t))},_prepareHeaderRows:function(t,n,r,o){for(var l=o||t[t.length-1],c=t[l.index+1],h=0,d=0;d<n.length;d++){var f=n[d];if(this._isColumnVisible(f)){var m=e.extend({background:"#7a7a7a",color:"#fff",value:f.title||f.field,colSpan:0},f.headerCellOptions);l.cells.push(m),f.columns&&f.columns.length&&(c||(c={rowSpan:0,cells:[],index:t.length},t.push(c)),m.colSpan=this._trimColumns(this._visibleColumns(f.columns)).length,this._prepareHeaderRows(t,f.columns,m,c),h+=m.colSpan-1,l.rowSpan=t.length-l.index)}}r&&(r.colSpan+=h)},_rows:function(){var t=this,n=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(n);var footer=!1,r=this.columns.map((function(n){return n.footerTemplate?(footer=!0,e.extend({background:"#dfdfdf",color:"#333",value:n.footerTemplate(e.extend({},t.aggregates,t.aggregates[n.field]))},n.footerCellOptions)):e.extend({background:"#dfdfdf",color:"#333"},n.footerCellOptions)}));footer&&n.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(r)})}return n},_headerDepth:function(e){for(var t=0,n=0;n<e.length;n++)if(e[n].columns){var r=this._headerDepth(e[n].columns);r>t&&(t=r)}return 1+t},_freezePane:function(){var e=this._visibleColumns(this.options.columns||[]),t=this._visibleColumns(this._trimColumns(this._leafColumns(e.filter((function(e){return e.locked}))))).length;return{rowSplit:this._headerDepth(e),colSplit:t?t+this.groups.length:0}},_cell:function(t,n){return e.extend({value:n.value(t)},n.cellOptions)},_depth:function(){return this.hierarchy?this.hierarchy.depth:this.groups.length},_columns:function(){return l(this._depth(),(function(){return{width:20}})).concat(this.columns.map((function(e){return{width:parseInt(e.width,10),autoWidth:!e.width}})))}});kendo.deepExtend(kendo.excel,{ExcelExporter:c,TemplateService:r})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(997),e.exports=n(997)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},937:function(e,t){e.exports=n(195)},997:function(e,t,n){var r,o,l;n(3),o=[n(937),n(998)],void 0===(l="function"==typeof(r=function(){return function(e,t){t.ExcelMixin={extend:function(t){t.events.push("excelExport"),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:!1,filterable:!1,fileName:"Export.xlsx",collapsible:!1},saveAsExcel:function(){var n=this.options.excel||{};new t.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:n.allPages,filterable:n.filterable,hierarchy:n.hierarchy,collapsible:n.collapsible}).workbook().then(e.proxy((function(e,data){this.trigger("excelExport",{workbook:e,data:data})||new t.ooxml.Workbook(e).toDataURLAsync().then((function(r){t.saveAs({dataURI:r,fileName:e.fileName||n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy})}))}),this))}}}(kendo.jQuery,kendo),kendo})?r.apply(t,o):r)||(e.exports=l)},998:function(e,t){e.exports=n(134)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1266)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1039:function(e,t){e.exports=n(4)},1266:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1039)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.proxy,l=e.extend,c=window.setTimeout,h="click",d=".k-notification-wrap .k-i-close",f="top",m=".kendoNotification",v='<div class="k-notification-wrap"><span class="k-icon k-i-#=typeIcon#" title="#=typeIcon#"></span><div class="k-notification-content">#=content#</div><span class="k-icon k-i-close" title="Hide"></span></div>',_=v.replace("#=content#","#:content#"),w=r.extend({init:function(element,t){r.fn.init.call(this,element,t),(t=this.options).appendTo&&e(t.appendTo).is(element)||this.element.hide(),this._compileTemplates(t.templates),this._guid="_"+n.guid(),this._isRtl=n.support.isRtl(element),this._compileStacking(t.stacking,t.position.top,t.position.left),n.notify(this)},events:["show","hide"],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(t){var r=this,o=n.template;r._compiled={},e.each(t,(function(t,n){r._compiled[n.type]=o(n.template||e("#"+n.templateId).html())})),r._defaultCompiled=o(v),r._safeCompiled=o(_)},_getCompiled:function(e,t){var n=t?this._safeCompiled:this._defaultCompiled;return e&&this._compiled[e]||n},_compileStacking:function(e,t,n){var r,o,l={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},c=null!==n?"left":"right";switch(e){case"down":r="bottom "+c,o="top "+c,delete l.paddingBottom;break;case"right":r="top right",o="top left",delete l.paddingRight;break;case"left":r="top left",o="top right",delete l.paddingLeft;break;case"up":r="top "+c,o="bottom "+c,delete l.paddingTop;break;default:null!==t?(r="bottom "+c,o="top "+c,delete l.paddingBottom):(r="top "+c,o="bottom "+c,delete l.paddingTop)}this._popupOrigin=r,this._popupPosition=o,this._popupPaddings=l},_attachPopupEvents:function(e,t){var n,r=this,o=e.allowHideAfter,l=!isNaN(o)&&o>0;function f(e){e.on(h+m,(function(){r._hidePopup(t)}))}e.hideOnClick?t.bind("activate",(function(){l?c((function(){f(t.element)}),o):f(t.element)})):e.button&&(n=t.element.find(d),l?c((function(){f(n)}),o):f(n))},_showPopup:function(t,r){var o,h,f=this,v=r.autoHideAfter,_=r.position.left,w=r.position.top;h=e("."+f._guid+":not(.k-hiding)").last(),o=new n.ui.Popup(t,{anchor:h[0]?h:document.body,origin:f._popupOrigin,position:f._popupPosition,animation:r.animation,copyAnchorStyles:!1,modal:!0,collision:"",isRtl:f._isRtl,close:function(){f._triggerHide(this.element)},deactivate:function(e){e.sender.element.off(m),e.sender.element.find(d).off(m),e.sender.destroy()}}),f._attachPopupEvents(r,o),t.removeClass("k-group k-reset"),h[0]?o.open():(null===_&&(_=e(window).width()-t.outerWidth()-r.position.right),null===w&&(w=e(window).height()-t.outerHeight()-r.position.bottom),o.open(_,w)),o.wrapper.addClass(f._guid).css(l({margin:0,zIndex:10050},f._popupPaddings)),r.position.pinned?(o.wrapper.css("position","fixed"),h[0]&&f._togglePin(o.wrapper,!0)):h[0]||f._togglePin(o.wrapper,!1),v>0&&c((function(){f._hidePopup(o)}),v)},_hidePopup:function(e){e.wrapper.addClass("k-hiding"),e.close()},_togglePin:function(t,n){var r=e(window),o=n?-1:1;t.css({top:parseInt(t.css(f),10)+o*r.scrollTop(),left:parseInt(t.css("left"),10)+o*r.scrollLeft()})},_attachStaticEvents:function(e,t){var n=this,r=e.allowHideAfter,l=!isNaN(r)&&r>0;function f(e){e.on(h+m,o(n._hideStatic,n,t))}e.hideOnClick?l?c((function(){f(t)}),r):f(t):e.button&&(l?c((function(){f(t.find(d))}),r):f(t.find(d)))},_showStatic:function(t,n){var r=this,o=n.autoHideAfter,l=n.animation,h="up"==n.stacking||"left"==n.stacking?"prependTo":"appendTo";t.removeClass("k-popup").addClass(r._guid)[h](n.appendTo).hide().kendoAnimate(l.open||!1),r.getNotifications().each((function(t,element){r._attachStaticEvents(n,e(element)),o>0&&c((function(){r._hideStatic(e(element))}),o)}))},_hideStatic:function(e){e.kendoAnimate(l(this.options.animation.close||!1,{complete:function(){e.off(m).find(d).off(m),e.remove()}})),this._triggerHide(e)},_triggerHide:function(element){this.trigger("hide",{element:element}),this.angular("cleanup",(function(){return{elements:element}}))},show:function(content,t,r){var o,c,h=this.options,d=e('<div class="k-widget k-popup k-notification"></div>');return t||(t="info"),null!=content&&""!==content&&(n.isFunction(content)&&(content=content()),c={typeIcon:t,content:""},o=e.isPlainObject(content)?l(c,content):l(c,{content:content}),d.addClass("k-notification-"+t).toggleClass("k-notification-button",h.button).toggleClass("k-notification-closable",h.button).attr("data-role","alert").css({width:h.width,height:h.height}).append(this._getCompiled(t,r)(o)),this.angular("compile",(function(){return{elements:d,data:[{dataItem:o}]}})),e(h.appendTo)[0]?this._showStatic(d,h):this._showPopup(d,h),this.trigger("show",{element:d})),this},showText:function(content,e){this.show(content,e,!0)},info:function(content){return this.show(content,"info")},success:function(content){return this.show(content,"success")},warning:function(content){return this.show(content,"warning")},error:function(content){return this.show(content,"error")},hide:function(){var t=this,n=t.getNotifications();return t.options.appendTo?n.each((function(n,element){t._hideStatic(e(element))})):n.each((function(n,element){var r=e(element).data("kendoPopup");r&&t._hidePopup(r)})),t},getNotifications:function(){var t=e("."+this._guid+":not(.k-hiding)");return this.options.appendTo?t:t.children(".k-notification")},setOptions:function(e){var t;r.fn.setOptions.call(this,e),t=this.options,void 0!==e.templates&&this._compileTemplates(t.templates),void 0===e.stacking&&void 0===e.position||this._compileStacking(t.stacking,t.position.top,t.position.left)},destroy:function(){r.fn.destroy.call(this),this.getNotifications().off(m).find(d).off(m)}});n.ui.plugin(w)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1219)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1031:function(e,t){e.exports=n(40)},1062:function(e,t){e.exports=n(5)},1219:function(e,t,n){var r,o,l;n(3),o=[n(1062),n(1016),n(1031)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.attr,data=n.data,o=n.keys,l=n.template,c=n.ui.Widget,h=data.DataSource,d=n.ui.Selectable,f=n.ui.DataBoundWidget,m=n.Class,v=e.extend,_=e.noop,w=e.proxy,y=".kendoListBox",x="k-state-selected",k=".k-item:not(.k-state-disabled)",C="k-listbox-toolbar",S="k-state-focused",T="k-drag-clue",D="k-drop-hint",E="k-reset",A="click"+y,I=n._outerWidth,M=n._outerHeight,R="k-ghost",F=[C+"-left",C+"-right",C+"-top",C+"-bottom"];function P(t){return e.map(t,(function(t){return e(t).index()}))}function z(e){return void 0===e}function B(element){return element.clone().removeClass(R).removeClass(S).addClass(n.format("{0} {1} {2}",x,E,T)).width(element.width())}function L(){return e("<li>").addClass(D)}var H=f.extend({init:function(element,e){c.fn.init.call(this,element,e),this._wrapper(),this._list(),(element=this.element.attr("multiple","multiple").hide())[0]&&!this.options.dataSource&&(this.options.dataTextField=this.options.dataTextField||"text",this.options.dataValueField=this.options.dataValueField||"value"),this._templates(),this._selectable(),this._dataSource(),this._createToolbar(),this._createDraggable(),this._createNavigatable()},destroy:function(){f.fn.destroy.call(this),isNaN(this._listTabIndex)||(this._getList().off(),this._listTabIndex=null),this._unbindDataSource(),this._destroySelectable(),this._destroyToolbar(),this.wrapper.off(y),this._target&&(this._target=null),this._draggable&&(this._draggable.destroy(),this.placeholder=null),n.destroy(this.element)},setOptions:function(e){c.fn.setOptions.call(this,e),this._templates(),this._dataSource()},events:["change","dataBound","add","remove","reorder","dragstart","drag","drop","dragend"],options:{name:"ListBox",autoBind:!0,template:"",dataTextField:"",dataValueField:"",selectable:"single",draggable:null,dropSources:[],connectWith:"",navigatable:!0,toolbar:{position:"right",tools:[]},messages:{tools:{remove:"Delete",moveUp:"Move Up",moveDown:"Move Down",transferTo:"Transfer To",transferFrom:"Transfer From",transferAllTo:"Transfer All To",transferAllFrom:"Transfer All From"}}},add:function(e){var i,t=e&&e.length?e:[e],n=t.length;for(this._unbindDataSource(),i=0;i<n;i++)this._addItem(t[i]);this._bindDataSource(),this._syncElement()},_addItem:function(t){var n=this.templates.itemTemplate({item:t,r:this.templates.itemContent});e(n).attr(r("uid"),t.uid).appendTo(this._getList()),"string"==typeof t?this.dataSource._data.push(t):this.dataSource.add(t)},_addItemAt:function(t,n){var o=this.templates.itemTemplate({item:t,r:this.templates.itemContent});this._unbindDataSource(),"string"==typeof t?(this._insertElementAt(o,n),this.dataSource._data.push(t)):(this._insertElementAt(e(o).attr(r("uid"),t.uid),n),this.dataSource.add(t)),this._bindDataSource(),this._syncElement()},_insertElementAt:function(t,n){var r=this._getList();n>0?e(t).insertAfter(r.children().eq(n-1)):e(r).prepend(t)},_createNavigatable:function(){this.options.navigatable&&this._getList().on(A,k,w(this._click,this)).on("keydown.kendoListBox",w(this._keyDown,this)).on("blur.kendoListBox",w(this._blur,this))},_getTabIndex:function(){var e;return isNaN(this._listTabIndex)?(e=this.element.attr("tabindex"),this._listTabIndex=isNaN(e)?0:e,this.element.removeAttr("tabindex"),this._listTabIndex):this._listTabIndex},_blur:function(){this._target&&(this._target.removeClass(S),this._getList().removeAttr("aria-activedescendant")),this._target=null},_click:function(t){var element,r=e(t.currentTarget),o=this._target,l=(element=t.target,e(element).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown"));o&&o.removeClass(S),this._target=r,r.addClass(S),this._getList().attr("aria-activedescendant",r.attr("id")),this._getList()[0]===n._activeElement()||l||this.focus()},_getNavigatableItem:function(e){var t;return t=this._target?this._target:this.items().filter(k).first(),e===o.UP&&this._target&&(t=this._target.prevAll(k).first()),e===o.DOWN&&this._target&&(t=this._target.nextAll(k).first()),t.length?t:null},_scrollIntoView:function(e){if(e){e[0]&&(e=e[0]);var t=this._getList().parent()[0],n=e.offsetTop,r=t.scrollTop,o=t.clientHeight,l=n+e.offsetHeight;r>n?r=n:l>r+o&&(r=l-o),t.scrollTop=r}},_keyDown:function(e){var t,n=e.keyCode,r=this._getNavigatableItem(n);if(this._target&&this._target.removeClass(S),(!e.shiftKey||e.ctrlKey||n!==o.DOWN&&n!==o.UP)&&(this._shiftSelecting=!1),n==o.DELETE)this._executeCommand("remove"),this._target&&(this._target.removeClass(S),this._getList().removeAttr("aria-activedescendant"),this._target=null),t=!0;else if(n===o.DOWN||n===o.UP){if(!r)return void e.preventDefault();if(e.shiftKey&&!e.ctrlKey)this._shiftSelecting||(this.clearSelection(),this._shiftSelecting=!0),this._target&&r.hasClass("k-state-selected")?(this._target.removeClass(x),this.trigger("change")):"single"==this.options.selectable?this.select(r):this.select(r.add(this._target));else{if(e.shiftKey&&e.ctrlKey)return this._executeCommand(n===o.DOWN?"moveDown":"moveUp"),this._scrollIntoView(this._target),void e.preventDefault();e.shiftKey||e.ctrlKey||("multiple"===this.options.selectable&&this.clearSelection(),this.select(r))}this._target=r,this._target?(this._target.addClass(S),this._scrollIntoView(this._target),this._getList().attr("aria-activedescendant",this._target.attr("id"))):this._getList().removeAttr("aria-activedescendant"),t=!0}else n==o.SPACEBAR?(e.ctrlKey&&this._target?this._target.hasClass(x)?(this._target.removeClass(x),this.trigger("change")):this.select(this._target):(this.clearSelection(),this.select(this._target)),t=!0):e.ctrlKey&&n==o.RIGHT?(e.shiftKey?this._executeCommand("transferAllTo"):this._executeCommand("transferTo"),this._target=this.select().length?this.select():null,t=!0):e.ctrlKey&&n==o.LEFT&&(e.shiftKey?this._executeCommand("transferAllFrom"):this._executeCommand("transferFrom"),t=!0);t&&e.preventDefault()},focus:function(){n.focusElement(this._getList())},_createDraggable:function(){var t,r=this.options.draggable;if(r){if(t=r.hint,!this.options.selectable)throw new Error("Dragging requires selection to be enabled");t||(t=B),this._draggable=new n.ui.Draggable(this.wrapper,{filter:r.filter?r.filter:"ul.k-reset.k-list>li.k-item",hint:n.isFunction(t)?t:e(t),dragstart:w(this._dragstart,this),dragcancel:w(this._clear,this),drag:w(this._drag,this),dragend:w(this._dragend,this)})}},_dragstart:function(t){var r=this.draggedElement=t.currentTarget,o=this.options.draggable.placeholder,l={dataItems:this.dataItem(r),items:e(r),draggableEvent:t};!1!==this.options.draggable.enabled?(o||(o=L),this.placeholder=n.isFunction(o)?e(o.call(this,r)):e(o),r.is(".k-state-disabled")?t.preventDefault():this.trigger("dragstart",l)?t.preventDefault():(this.clearSelection(),this.select(r),r.addClass(R))):t.preventDefault()},_clear:function(){this.draggedElement.removeClass(R),this.placeholder.remove()},_findElementUnderCursor:function(t){var r=n.elementUnderCursor(t),o=t.sender;return(e.contains(o.hint[0],r)||o.hint[0]===r)&&(o.hint.hide(),r=n.elementUnderCursor(t),o.hint.show()),r},_findTarget:function(t){var n,r,element=this._findElementUnderCursor(t),o=e(element),l=this._getList();return e.contains(l[0],element)?(n=this.items(),element=o.is("li")?element:o.closest("li")[0],(r=n.filter(element)[0]||n.has(element)[0])?(r=e(r)).hasClass("k-state-disabled")?null:{element:r,listBox:this}:null):l[0]==element||l.parent()[0]==element?{element:e(l),appendToBottom:!0,listBox:this}:this._searchConnectedListBox(o)},_getElementCenter:function(element){var e=element.length?n.getOffset(element):null;return e&&(e.top+=M(element)/2,e.left+=I(element)/2),e},_searchConnectedListBox:function(element){var t,n,r,o,l=element;return(o=element.hasClass("k-list-scroller k-selectable")?element:element.closest(".k-list-scroller.k-selectable")).length&&(t=o.parent().find("[data-role='listbox']").getKendoListBox())&&-1!==e.inArray(this.element[0].id,t.options.dropSources)?(n=t.items(),element=element.is("li")?element[0]:element.closest("li")[0],(r=n.filter(element)[0]||n.has(element)[0])?(r=e(r)).hasClass("k-state-disabled")?null:{element:r,listBox:t}:!n.length||l.hasClass("k-list-scroller k-selectable")||l.hasClass("k-reset k-list")?{element:t._getList(),listBox:t,appendToBottom:!0}:null):null},_drag:function(t){var n,r,o,l=this.draggedElement,c=this._findTarget(t),h=t.x.location,d=t.y.location,f={dataItems:[this.dataItem(l)],items:e(l),draggableEvent:t};if(this.trigger("drag",f))t.preventDefault();else if(c){if(n=this._getElementCenter(c.element),r={left:Math.round(h-n.left),top:Math.round(d-n.top)},c.appendToBottom)return void this._movePlaceholder(c,null,l);r.top<0?o="prev":r.top>0&&(o="next"),o&&c.element[0]!=this.placeholder[0]&&this._movePlaceholder(c,o,l)}else this.placeholder.parent().length&&this.placeholder.remove()},_movePlaceholder:function(t,r,o){var l=this.placeholder,c=t.listBox.options.draggable;l.parent().length&&(this.placeholder.remove(),c&&c.placeholder?this.placeholder=n.isFunction(c.placeholder)?e(c.placeholder.call(this,o)):e(c.placeholder):this.placeholder=e(L.call(this,o))),r?"prev"===r?t.element.before(this.placeholder):"next"===r&&t.element.after(this.placeholder):t.element.append(this.placeholder)},_dragend:function(t){var n=this.draggedElement,r=this.items(),o=r.not(this.draggedElement).index(this.placeholder),l=r.not(this.placeholder).index(this.draggedElement),c=this.dataItem(n),h={dataItems:[c],items:e(n)},d=this.placeholder.closest(".k-widget.k-listbox").find("[data-role='listbox']").getKendoListBox();if(this.trigger("drop",v({},h,{draggableEvent:t})))return t.preventDefault(),void this._clear();o>=0?o===l||this.trigger("reorder",v({},h,{offset:o-l}))||(n.removeClass(R),this.reorder(n,o)):d&&(this.trigger("remove",h)||this.remove(e(n)),d.trigger("add",h)||d._addItemAt(c,d.items().index(this.placeholder))),this._clear(),this._draggable.dropped=!0,this.trigger("dragend",v({},h,{draggableEvent:t})),this._updateToolbar(),this._updateAllToolbars()},reorder:function(t,n){var r=this.dataSource,o=this.dataItem(t),l=r.at(n),c=this.items()[n],h=e(t);o&&c&&l&&(this._removeElement(h),this._insertElementAt(h,n),this._updateToolbar())},remove:function(t){var i,n=this._getItems(t),r=n.length;for(this._unbindDataSource(),i=0;i<r;i++)this._removeItem(e(n[i]));this._bindDataSource(),this._syncElement(),this._updateToolbar(),this._updateAllToolbars()},_removeItem:function(e){var t=this.dataSource,n=this.dataItem(e);if(n&&t){if("string"==typeof n){for(var data=t._data,i=0;i<data.length;i++)if(n===data[i]){data[i]=data[data.length-1],data.pop();break}}else t.remove(n);this._removeElement(e)}},_removeElement:function(t){n.destroy(t),e(t).off().remove()},dataItem:function(element){var t=r("uid"),n=e(element).attr(t)||e(element).closest("["+t+"]").attr(t);return n?this.dataSource.getByUid(n):e(element).html()},_dataItems:function(t){var i,n=[],r=e(t),o=r.length;for(i=0;i<o;i++)n.push(this.dataItem(r.eq(i)));return n},items:function(){return this._getList().children()},select:function(e){var t,n=this.selectable;return z(e)?n.value():(t=this.items().filter(e).filter(".k-list:not(.k-state-disabled) >.k-item:not(.k-state-disabled)"),n.options.multiple||(n.clear(),t=t.first()),n.value(t))},clearSelection:function(){var e=this.selectable;e&&e.clear()},enable:function(t,n){var i,r=!!z(n)||!!n,o=this._getItems(t),l=o.length;for(i=0;i<l;i++)this._enableItem(e(o[i]),r);this._updateAllToolbars()},_enableItem:function(t,n){this.dataItem(t)&&(n?e(t).removeClass("k-state-disabled"):e(t).addClass("k-state-disabled").removeClass(x))},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},_dataSource:function(){var t=this.options,n=t.dataSource||{};(n=e.isArray(n)?{data:n}:n).select=this.element,n.fields=[{field:t.dataTextField},{field:t.dataValueField}],this._unbindDataSource(),this.dataSource=h.create(n),this._bindDataSource(),this.options.autoBind&&this.dataSource.fetch()},_bindDataSource:function(){var e=this.dataSource;this._dataChangeHandler=w(this.refresh,this),e&&e.bind("change",this._dataChangeHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&e.unbind("change",this._dataChangeHandler)},_wrapper:function(){var element=this.element,t=element.parent("div.k-listbox");t[0]||((t=element.wrap('<div class="k-widget k-listbox" unselectable="on" />').parent())[0].style.cssText=element[0].style.cssText,t[0].title=element[0].title,e('<div class="k-list-scroller" />').insertBefore(element)),this.wrapper=t.addClass(element[0].className).css("display",""),this._innerWrapper=e(t[0].firstChild)},_list:function(){e("<ul class='k-reset k-list' role='listbox'></ul>").appendTo(this._innerWrapper),this.options.navigatable&&this._getList().attr("tabindex",this._getTabIndex())},_templates:function(){var template,e=this.options;template=e.template&&"string"==typeof e.template?n.template(e.template):e.template?e.template:n.template("${"+n.expr(e.dataTextField,"data")+"}",{useWithBlock:!1}),this.templates={itemTemplate:n.template("# var item = data.item, r = data.r; # <li class='k-item' role='option' aria-selected='false'>#=r(item)#</li>",{useWithBlock:!1}),itemContent:template,toolbar:"<div class='k-listbox-toolbar'></div>"}},refresh:function(){for(var view=this.dataSource.view(),template=this.templates.itemTemplate,html="",e=0;e<view.length;e++)html+=template({item:view[e],r:this.templates.itemContent});this._getList().html(html),this._setItemIds(),this._createToolbar(),this._syncElement(),this._updateToolbar(),this._updateAllToolbars(),this.trigger("dataBound")},_syncElement:function(){for(var e="",view=this.dataSource.view(),t=0;t<view.length;t++)e+=this._option(view[t][this.options.dataValueField]||view[t],view[t][this.options.dataTextField]||view[t],!0);this.element.html(e)},_option:function(e,t){var option="<option";return void 0!==e&&(-1!==(e+="").indexOf('"')&&(e=e.replace(/"/g,"&quot;")),option+=' value="'+e+'"'),option+=" selected>",void 0!==t&&(option+=n.htmlEncode(t)),option+"</option>"},_setItemIds:function(){var i,e=this.items(),view=this.dataSource.view(),t=view.length;for(i=0;i<t;i++)e.eq(i).attr(r("uid"),view[i].uid).attr("id",view[i].uid)},_selectable:function(){var e=this.options.selectable,t=d.parseOptions(e);t.multiple&&this.element.attr("aria-multiselectable","true"),this.selectable=new d(this._innerWrapper,{aria:!0,multiple:t.multiple,filter:k,change:w(this._onSelect,this)})},_onSelect:function(){this._updateToolbar(),this._updateAllToolbars(),this.trigger("change")},_destroySelectable:function(){this.selectable&&this.selectable.element&&(this.selectable.destroy(),this.selectable=null)},_getList:function(){return this.wrapper.find(".k-reset.k-list")},_getItems:function(e){return this.items().filter(e)},_createToolbar:function(){var t=this.options.toolbar,n=t.position||"right",r="bottom"===n?"insertAfter":"insertBefore",o=t.tools||[],l=this.options.messages;if(this._destroyToolbar(),this.wrapper.removeClass(F.join(" ")),o.length&&o.length>0){var c=e(this.templates.toolbar)[r](this._innerWrapper);this.toolbar=new X(c,v({},t,{listBox:this,messages:l})),this.wrapper.addClass(C+"-"+n)}},_destroyToolbar:function(){this.toolbar&&(this.toolbar.destroy(),this.toolbar=null)},_executeCommand:function(e){var t=N.current.create(e,{listBox:this});t&&(t.execute(),this._updateToolbar(),this._updateAllToolbars())},_updateToolbar:function(){var e=this.toolbar;e&&e._updateToolStates()},_updateAllToolbars:function(){var t,i,n=e("select[data-role='listbox']"),r=n.length;for(i=0;i<r;i++)(t=e(n[i]).data("kendoListBox"))&&t._updateToolbar()}});n.ui.plugin(H);var N=m.extend({init:function(){this._commands=[]},register:function(e,t){this._commands.push({commandName:e,commandType:t})},create:function(e,t){var n,r,i,o=this._commands,l=o.length,c=e?e.toLowerCase():"";for(i=0;i<l;i++)if((r=o[i]).commandName.toLowerCase()===c){n=r;break}if(n)return new n.commandType(t)}});N.current=new N;var O=m.extend({init:function(e){this.options=v({},this.options,e),this.listBox=this.options.listBox},options:{listBox:null},getItems:function(){return e(this.listBox.select())},execute:_,canExecute:_}),V=O.extend({execute:function(){var e=this.listBox,t=this.getItems();e.trigger("remove",{dataItems:e._dataItems(t),items:t})||e.remove(t)},canExecute:function(){return this.listBox.select().length>0}});N.current.register("remove",V);var W=O.extend({execute:function(){this.canExecute()&&this.moveItems()},canExecute:_,moveItems:function(){var t,n=this.listBox,r=this.options,o=this.getItems(),l=r.offset,c=P(o),h=e.makeArray(o.sort(this.itemComparer)),d=r.moveAction;if(!n.trigger("reorder",{dataItems:n._dataItems(h),items:e(h),offset:l}))for(;h.length>0&&c.length>0;)t=h[d](),n.reorder(t,c[d]()+l)},options:{offset:0,moveAction:"pop"},itemComparer:function(t,n){var r=e(t).index(),o=e(n).index();return r===o?0:r>o?1:-1}}),U=W.extend({options:{offset:-1,moveAction:"shift"},canExecute:function(){var e=P(this.getItems());return e.length>0&&e[0]>0}});N.current.register("moveUp",U);var j=W.extend({options:{offset:1,moveAction:"pop"},canExecute:function(){var t=P(this.getItems());return t.length>0&&e(t).last()[0]<this.listBox.items().length-1}});N.current.register("moveDown",j);var G=O.extend({options:{filter:k},execute:function(){var e=this.getSourceListBox(),t=this.getItems().filter(this.options.filter),n=e?e._dataItems(t):[],r=this.getDestinationListBox(),o=this.getUpdatedSelection(t);r&&t.length>0&&(r.trigger("add",{dataItems:n,items:t})||r.add(n),e.trigger("remove",{dataItems:n,items:t})||(e.remove(t),this.updateSelection(o)))},getUpdatedSelection:function(t){var n=this.options.filter,r=this.getSourceListBox(),o=r?r.items().filter(n).last():null,l=e(t).filter(o).length>0?e(t).prevAll(n)[0]:e(t).nextAll(n)[0];return 1===e(t).length&&l?l:null},updateSelection:function(t){var n=this.getSourceListBox();n&&t&&(e(n.select(e(t))),n._scrollIntoView(t))},getSourceListBox:_,getDestinationListBox:_}),$=G.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.select().length>0},getSourceListBox:function(){return this.listBox},getDestinationListBox:function(){var t=this.getSourceListBox();return t&&t.options.connectWith?e("#"+t.options.connectWith).data("kendoListBox"):null},getItems:function(){var t=this.getSourceListBox();return t?e(t.select()):e()}});N.current.register("transferTo",$);var Y=G.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.select().length>0},getSourceListBox:function(){var t=this.getDestinationListBox();return t&&t.options.connectWith?e("#"+t.options.connectWith).data("kendoListBox"):null},getDestinationListBox:function(){return this.listBox},getItems:function(){var t=this.getSourceListBox();return t?e(t.select()):e()}});N.current.register("transferFrom",Y);var K=$.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.items().filter(k).length>0},getItems:function(){var t=this.getSourceListBox();return t?t.items():e()},getUpdatedSelection:_,updateSelection:_});N.current.register("transferAllTo",K);var Q=Y.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.items().filter(k).length>0},getItems:function(){var t=this.getSourceListBox();return t?t.items():e()},getUpdatedSelection:_,updateSelection:_});N.current.register("transferAllFrom",Q);var X=m.extend({init:function(element,t){this.element=e(element).addClass(C),this.options=v({},this.options,t),this.listBox=this.options.listBox,this._initTemplates(),this._createTools(),this._updateToolStates(),this._attachEventHandlers()},destroy:function(){this._detachEventHandlers(),n.destroy(this.element),this.element.remove(),this.element=null},options:{position:"right",tools:[]},_initTemplates:function(){this.templates={tool:l("<li><a href='\\\\#' class='k-button k-button-icon' data-command='#= command #' title='#= text #' aria-label='#= text #' role='button'><span class='k-icon #= iconClass #'></span></a></li>")}},_createTools:function(){var t,i,n=this.options.tools,r=n.length,o=this.options.messages.tools,l=this._createToolList();for(i=0;i<r;i++)(t=v({},X.defaultTools[n[i]],{text:o[n[i]]}))&&l.append(e(this.templates.tool(t)));this.element.append(l)},_createToolList:function(){return e("<ul class='k-reset' />")},_attachEventHandlers:function(){this.element.on(A,"li > a.k-button:not(.k-state-disabled)",w(this._onToolClick,this))},_detachEventHandlers:function(){this.element.off(y).find("*").off(y)},_onToolClick:function(t){t.preventDefault(),this._executeToolCommand(e(t.currentTarget).data("command"))},_executeToolCommand:function(e){var t=this.listBox;t&&t._executeCommand(e)},_updateToolStates:function(){var i,e=this.options.tools,t=e.length;for(i=0;i<t;i++)this._updateToolState(e[i])},_updateToolState:function(t){var n=N.current.create(t,{listBox:this.listBox}),r=this.element.find("[data-command='"+t+"']")[0];r&&n&&n.canExecute&&(n.canExecute()?e(r).removeClass("k-state-disabled").removeAttr("tabindex"):e(r).addClass("k-state-disabled").attr("tabindex","-1"))}});X.defaultTools={remove:{command:"remove",iconClass:"k-i-x"},moveUp:{command:"moveUp",iconClass:"k-i-arrow-60-up"},moveDown:{command:"moveDown",iconClass:"k-i-arrow-60-down"},transferTo:{command:"transferTo",iconClass:"k-i-arrow-60-right"},transferFrom:{command:"transferFrom",iconClass:"k-i-arrow-60-left"},transferAllTo:{command:"transferAllTo",iconClass:"k-i-arrow-double-60-right"},transferAllFrom:{command:"transferAllFrom",iconClass:"k-i-arrow-double-60-left"}},v(H,{ToolBar:X})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1221)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1221:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window,r=n.Math.min,o=n.kendo,l=o.caret,c=o.keys,h=o.ui,d=h.Widget,f=".kendoMaskedTextBox",m=e.proxy,v=window.setTimeout;function _(e){return e+f}var w=_(o.support.propertyChangeEvent?"propertychange":"input"),y=d.extend({init:function(element,t){var n,r=this;d.fn.init.call(r,element,t),r._rules=e.extend({},r.rules,r.options.rules),element=r.element,n=element[0],r._wrapper(),r._tokenize(),r._form(),r.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+f,(function(){var e=n.value;e?r._togglePrompt(!0):n.value=r._old=r._emptyMask,r._oldValue=e,r._timeoutId=v((function(){l(element,0,e?r._maskLength:0)}))})).on("focusout"+f,(function(){var e=element.val();clearTimeout(r._timeoutId),n.value=r._old="",e!==r._emptyMask&&(n.value=r._old=e),r._change(),r._togglePrompt()})),element.is("[disabled]")||e(r.element).parents("fieldset").is(":disabled")?r.enable(!1):r.readonly(element.is("[readonly]")),r.value(r.options.value||element.val()),r._validationIcon=e("<span class='k-icon k-i-warning'></span>").insertAfter(element),o.notify(r)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:["change"],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(t){d.fn.setOptions.call(this,t),this._rules=e.extend({},this.rules,this.options.rules),this._tokenize(),this._unbindInput(),this._bindInput(),this.value(this.element.val())},destroy:function(){this.element.off(f),this._formElement&&(this._formElement.off("reset",this._resetHandler),this._formElement.off("submit",this._submitHandler)),d.fn.destroy.call(this)},raw:function(){return this._unmask(this.element.val(),0).replace(new RegExp(x(this.options.promptChar),"g"),"")},value:function(e){var element=this.element,t=this._emptyMask;return void 0===e?this.element.val():(null===e&&(e=""),t?(e=this._unmask(e+""),element.val(e?t:""),this._mask(0,this._maskLength,e),this._unmaskedValue=null,e=element.val(),this._oldValue=e,void(o._activeElement()!==element&&(e===t?element.val(""):this._togglePrompt()))):(this._oldValue=e,void element.val(e)))},_togglePrompt:function(e){var t=this.element[0],n=t.value;this.options.clearPromptChar&&(n=e?this._oldValue:n.replace(new RegExp(x(this.options.promptChar),"g")," "),t.value=this._old=n)},readonly:function(e){this._editable({readonly:void 0===e||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=void 0===e||e)})},_bindInput:function(){if(this._maskLength&&(this.options.$angular&&this.element.off("input"),this.element.on(_("keydown"),m(this._keydown,this)).on(_("drop"),m(this._drop,this)).on(_("change"),m(this._trackChange,this)).on(w,m(this._inputHandler,this)),o.support.browser.msie)){var e=o.support.browser.version;if(e>8&&e<11){var t=[_("mouseup"),_("drop"),_("keydown"),_("paste")].join(" ");this.element.on(t,m(this._legacyIEInputHandler,this))}}},_unbindInput:function(){var e=[w,_("keydown"),_("mouseup"),_("drop"),_("paste")].join(" ");this.element.off(e)},_editable:function(e){var element=this.element,t=this.wrapper,n=e.disable,r=e.readonly;this._unbindInput(),r||n?(element.attr("disabled",n).attr("readonly",r),t.toggleClass("k-state-disabled",n)):(element.removeAttr("disabled").removeAttr("readonly"),t.removeClass("k-state-disabled"),this._bindInput())},_change:function(){var e=this.value();e!==this._oldValue?(this._oldValue=e,this.trigger("change"),this.element.trigger("change")):""===e&&this.__changing&&this.element.trigger("change")},inputChange:function(e){var t=this._old,element=this.element[0],n=element.value,cursor=l(element)[1],c=n.length-t.length,h=o.support.mobileOS;if(!(this.__dropping&&c<0)){-1===c&&h.android&&"chrome"===h.browser&&(e=!0);var d=r(cursor,function(e,t){for(var i=0;i<t.length&&e[i]===t[i];)i++;return i}(n,t)),content=n.substring(d,cursor);element.value=n.substring(0,d)+this._emptyMask.substring(d);var f=this._mask(d,cursor,content),m=this._trimStartPromptChars(n.substring(cursor),r(c,f-d)),v=this._unmask(m,t.length-m.length);this._mask(f,f,v),e&&(f=this._findCaretPosBackwards(d)),l(element,f),this.__dropping=!1}},_trimStartPromptChars:function(content,e){for(var t=this.options.promptChar;e-- >0&&0===content.indexOf(t);)content=content.substring(1);return content},_findCaretPosBackwards:function(e){var t=this._find(e,!0);return t<e&&(t+=1),t},_inputHandler:function(){o._activeElement()===this.element[0]&&this.inputChange(this.__backward)},_legacyIEInputHandler:function(e){var t=this,input=t.element[0],n=input.value,r=e.type;t.__pasting="paste"===r,v((function(){"mouseup"===r&&t.__pasting||input.value&&input.value!==n&&t.inputChange(t.__backward)}))},_trackChange:function(){var e=this;e.__changing=!0,v((function(){e.__changing=!1}))},_form:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){v((function(){t.value(element[0].value)}))},t._submitHandler=function(){t.element[0].value=t._old=t.raw()},t.options.unmaskOnPost&&form.on("submit",t._submitHandler),t._formElement=form.on("reset",t._resetHandler))},_keydown:function(e){var t=e.keyCode;this.__backward=t===c.BACKSPACE,t===c.ENTER&&this._change()},_drop:function(){this.__dropping=!0},_find:function(e,t){var n=this.element.val()||this._emptyMask,r=1;for(!0===t&&(r=-1);e>-1||e<=this._maskLength;){if(n.charAt(e)!==this.tokens[e])return e;e+=r}return-1},_mask:function(e,t,n,r){var c,h,d,f,element=this.element[0],m=element.value||this._emptyMask,v=this.options.promptChar,_=0;for((e=this._find(e,r))>t&&(t=e),h=this._unmask(m.substring(t),t),c=(n=this._unmask(n,e)).length,n&&(h=h.replace(new RegExp("^_{0,"+c+"}"),"")),n+=h,m=m.split(""),d=n.charAt(_);e<this._maskLength;)m[e]=d||v,d=n.charAt(++_),void 0===f&&_>c&&(f=e),e=this._find(e+1);return element.value=this._old=m.join(""),o._activeElement()===element&&(void 0===f&&(f=this._maskLength),l(element,f)),f},_unmask:function(t,n){if(!t)return"";if(this._unmaskedValue===t)return this._unmaskedValue;var r,o;t=(t+"").split("");for(var l=0,c=n||0,h=this.options.promptChar,d=t.length,f=this.tokens.length,m="";c<f&&((r=t[l])===(o=this.tokens[c])||r===h?(m+=r===h?h:"",l+=1,c+=1):"string"!=typeof o?(o&&o.test&&o.test(r)||e.isFunction(o)&&o(r)?(m+=r,c+=1):1===d&&this._blinkInvalidState(),l+=1):c+=1,!(l>=d)););return this._unmaskedValue=m,m},_wrapper:function(){var element=this.element,e=element[0],t=element.wrap("<span class='k-widget k-maskedtextbox'></span>").parent();t[0].style.cssText=e.style.cssText,e.style.width="100%",this.wrapper=t.addClass(e.className)},_blinkInvalidState:function(){this.wrapper.addClass("k-state-invalid"),clearTimeout(this._invalidStateTimeout),this._invalidStateTimeout=v(m(this._removeInvalidState,this),100)},_removeInvalidState:function(){this.wrapper.removeClass("k-state-invalid"),this._invalidStateTimeout=null},_tokenize:function(){for(var e,t,n=[],r=0,l=(this.options.mask||"").split(""),c=l.length,h=0,d="",f=this.options.promptChar,m=o.getCulture(this.options.culture).numberFormat,v=this._rules;h<c;h++)if(t=v[e=l[h]])n[r]=t,d+=f,r+=1;else{"."===e||","===e?e=m[e]:"$"===e?e=m.currency.symbol:"\\"===e&&(e=l[h+=1]);for(var i=0,_=(e=e.split("")).length;i<_;i++)n[r]=e[i],d+=e[i],r+=1}this.tokens=n,this._emptyMask=d,this._maskLength=d.length}});function x(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}h.plugin(y)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1272)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1272:function(e,t,n){var r,o,l;n(3),o=[n(1016)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=window.kendo,o=r.ui,l=r.keys,c=e.extend,h=e.proxy,d=e.each,f=e.isArray,template=r.template,m=o.Widget,v=r.data.HierarchicalDataSource,_=/^(ul|a|div)$/i,w=".kendoPanelBar",y="k-last",x="k-link",k=".k-item",C="k-first",S="k-state-active",T="> .k-panel",D="> .k-content",E="k-state-disabled",A="k-state-highlight",I=k+":not(.k-state-disabled)",M="> "+I+" > .k-link, .k-panel > "+I+" > .k-link",R="> li > .k-state-selected, .k-panel > li > .k-state-selected",F=":visible",P={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},z={aria:function(e){var t="";return(e.items||e.content||e.contentUrl||e.expanded)&&(t+="aria-expanded='"+(e.expanded?"true":"false")+"' "),!1===e.enabled&&(t+="aria-disabled='true'"),t},wrapperCssClass:function(e,t){var n="k-item",r=t.index;return!1===t.enabled?n+=" "+E:!0===t.expanded?n+=" "+S:n+=" k-state-default",0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(e,t){var n=x;return t.firstLevel&&(n+=" k-header"),e.selected&&(n+=" k-state-selected"),n},textAttributes:function(e){return e?" href='"+e+"'":""},arrowClass:function(e){var t="k-icon";return t+=e.expanded?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down"},text:function(e){return!1===e.encoded?e.text:r.htmlEncode(e.text)},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},ariaHidden:function(e){return!0!==e.expanded},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(content){return!0!==content.item.expanded?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}};function B(t){(t=e(t)).filter(".k-first:not(:first-child)").removeClass(C),t.filter(".k-last:not(:last-child)").removeClass(y),t.filter(":first-child").addClass(C),t.filter(":last-child").addClass(y)}n=function(e){return e.children("span").children(".k-icon")};var L=r.ui.DataBoundWidget.extend({init:function(element,t){var content,n,o=this;f(t)&&(t={dataSource:t}),n=t&&!!t.dataSource,m.fn.init.call(o,element,t),element=o.wrapper=o.element.addClass("k-widget k-reset k-header k-panelbar"),t=o.options,element[0].id&&(o._itemId=element[0].id+"_pb_active"),o._tabindex(),o._accessors(),o._dataSource(),o._templates(),o._initData(n),o._updateClasses(),o._animations(t),element.on("click"+w,M,(function(t){o._click(e(t.currentTarget))&&t.preventDefault()})).on("mouseenter"+w+" mouseleave"+w,M,o._toggleHover).on("click"+w,".k-item.k-state-disabled > .k-link",!1).on("click"+w,".k-request-retry",h(o._retryRequest,o)).on("keydown"+w,e.proxy(o._keydown,o)).on("focus"+w,(function(){var e=o.select();o._current(e[0]?e:o._first())})).on("blur"+w,(function(){o._current(null)})).attr("role","menu"),(content=element.find("li.k-state-active > .k-content"))[0]&&o.expand(content.parent(),!1),t.dataSource||o._angularCompile(),r.notify(o)},events:["expand","collapse","select","activate","change","error","dataBound","contentLoad"],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:!0,loadOnDemand:!0,expandMode:"multiple",template:"",dataTextField:null},_angularCompile:function(){var e=this;e.angular("compile",(function(){return{elements:e.element.children("li"),data:[{dataItem:e.options.$angular}]}}))},_angularCompileElements:function(html,t){this.angular("compile",(function(){return{elements:html,data:e.map(t,(function(e){return[{dataItem:e}]}))}}))},_angularCleanup:function(){var e=this;e.angular("cleanup",(function(){return{elements:e.element.children("li")}}))},destroy:function(){m.fn.destroy.call(this),this.element.off(w),this._angularCleanup(),r.destroy(this.element)},_initData:function(e){e&&(this.element.empty(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch()))},_templates:function(){var e=this.options,t=h(this._fieldAccessor,this);e.template&&"string"==typeof e.template?e.template=template(e.template):e.template||(e.template=template("# var text = "+t("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:template("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:template("<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:template("# var url = "+t("url")+"(item); ## var imageUrl = "+t("imageUrl")+"(item); ## var spriteCssClass = "+t("spriteCssClass")+"(item); ## var contentUrl = contentUrl(item); ## var tag = url||contentUrl ? 'a' : 'span'; #<#= tag # class='#= textClass(item, group) #' #= contentUrl ##= textAttributes(url) #># if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #' /># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= data.panelBar.options.template(data) ##= arrow(data) #</#= tag #>"),item:template("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+r.attr("uid")+"='#= item.uid #'>#= itemWrapper(data) ## if (item.items && item.items.length > 0) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),loading:template("<div class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</div>"),retry:template("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>"),arrow:template("<span class='#= arrowClass(item) #'></span>"),empty:template("")}},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=c(!0,t,e.animation),"dataSource"in e&&this.setDataSource(e.dataSource),m.fn.setOptions.call(this,e)},expand:function(element,t){var n=this,r={};if(element=this.element.find(element),!n._animating||!element.find("ul").is(":visible"))return n._animating=!0,t=!1!==t,element.each((function(o,l){l=e(l);var c=element.children(".k-group,.k-content");c.length||(c=n._addGroupElement(element));var h=c.add(l.find(D));if(!l.hasClass(E)&&h.length>0){if("single"==n.options.expandMode&&n._collapseAllExpanded(l))return n;element.find("."+A).removeClass(A),l.addClass(A),t||(r=n.options.animation,n.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),n._triggerEvent("expand",l)||n._toggleItem(l,!1,!1),t||(n.options.animation=r)}})),n;n.one("complete",(function(){setTimeout((function(){n.expand(element)}))}))},collapse:function(element,t){var n=this,r={};return n._animating=!0,t=!1!==t,(element=n.element.find(element)).each((function(o,l){var c=(l=e(l)).find(T).add(l.find(D));!l.hasClass(E)&&c.is(F)&&(l.removeClass(A),t||(r=n.options.animation,n.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),n._triggerEvent("collapse",l)||n._toggleItem(l,!0),t||(n.options.animation=r))})),n},updateArrow:function(t){var n=this;(t=e(t)).children(".k-link").children(".k-panelbar-collapse, .k-panelbar-expand").remove(),t.filter((function(){var t=n.dataItem(this);return t?t.hasChildren||t.content||t.contentUrl:e(this).find(".k-panel").length>0||e(this).find(".k-content").length>0})).children(".k-link:not(:has([class*=k-i-arrow]))").each((function(){var t=e(this),n=t.parent();t.append("<span class='k-icon "+(n.hasClass(S)?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down")+"'/>")}))},_accessors:function(){var i,e,t,n=this.options,element=this.element;for(i in P)e=n[P[i]],t=element.attr(r.attr(i+"-field")),!e&&t&&(e=t),e||(e=i),f(e)||(e=[e]),n[P[i]]=e},_progress:function(e,t){var element=this.element,r=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e)?element.html(r):element.empty():n(e).toggleClass("k-i-loading",t).removeClass("k-i-refresh")},_refreshRoot:function(t){var n=this,r={firstLevel:!0,expanded:!0,length:n.element.children().length};this.element.empty();var l=e.map(t,(function(t,o){return"string"==typeof t?e(t):(t.items=[],e(n.renderItem({group:r,item:c(t,{index:o})})))}));this.element.append(l);for(var h=this.element.children(".k-item"),i=0;i<t.length;i++)this.trigger("itemChange",{item:h.eq(i).find(".k-link").first(),data:t[i],ns:o});this._angularCompileElements(l,t)},_refreshChildren:function(t,n){var i,r,l;n.children(".k-group").empty();var c=t.children.data();if(c.length)for(this.append(t.children,n),this.options.loadOnDemand&&this._toggleGroup(n.children(".k-group"),!1),r=n.children(".k-group").children("li"),i=0;i<r.length;i++)l=r.eq(i),this.trigger("itemChange",{item:l.find(".k-link").first(),data:this.dataItem(l),ns:o});else!function(t){var n=t,r=t.children("ul"),o=n.children(".k-link").children(".k-icon");t.hasClass("k-panelbar")||(!o.length&&r.length?o=e("<span class='k-icon' />").appendTo(n):r.length&&r.children().length||(o.remove(),r.remove()))}(n),r=n.children(".k-group").children("li"),this._angularCompileElements(r,c)},findByUid:function(t){for(var n,o=this.element.find(".k-item"),l=r.attr("uid"),i=0;i<o.length;i++)if(o[i].getAttribute(l)==t){n=o[i];break}return e(n)},refresh:function(e){var t=this.options,n=e.node,r=e.action,o=e.items,l=this.wrapper,c=t.loadOnDemand;if(e.field){if(!o[0]||!o[0].level)return;return this._updateItems(o,e.field)}if(n&&(l=this.findByUid(n.uid),this._progress(l,!1)),"add"==r?this._appendItems(e.index,o,l):"remove"==r?this.remove(this.findByUid(o[0].uid)):"itemchange"==r?this._updateItems(o):"itemloaded"==r?this._refreshChildren(n,l):this._refreshRoot(o),"remove"!=r)for(var h=0;h<o.length;h++)if(!c||o[h].expanded){var d=o[h];this._hasChildItems(d)&&d.load()}this.trigger("dataBound",{node:n?l:void 0})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),r=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),n(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(r))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=h(this.refresh,this),this._errorHandler=h(this._error,this),this.dataSource.bind("change",this._refreshHandler),this.dataSource.bind("error",this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind("change",this._refreshHandler),e.unbind("error",this._errorHandler))},_fieldAccessor:function(t){var n=this.options[P[t]]||[],o=n.length,l="(function(item) {";return 0===o?l+="return item['"+t+"'];":(l+="var levels = ["+e.map(n,(function(e){return"function(d){ return "+r.expr(e)+"}"})).join(",")+"];",l+="if(item.level){return levels[Math.min(item.level(), "+o+"-1)](item);}else",l+="{return levels["+o+"-1](item)}"),l+="})"},_dataSource:function(){var e=this.options.dataSource;e&&(e=f(e)?{data:e}:e,this._unbindDataSource(),e.fields||(e.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource=v.create(e),this._bindDataSource())},_appendItems:function(t,n,r){var o,l,h=this;r.hasClass("k-panelbar")?(o=r.children("li"),l=r):((l=r.children(".k-group")).length||(l=h._addGroupElement(r)),o=l.children("li"));var d={firstLevel:r.hasClass("k-panelbar"),expanded:!0,length:o.length},f=e.map(n,(function(t,n){return e("string"==typeof t?t:h.renderItem({group:d,item:c(t,{index:n})}))}));void 0===t&&(t=o.length);for(var i=0;i<f.length;i++)0===o.length||0===t?l.append(f[i]):f[i].insertAfter(o[t-1]);h._angularCompileElements(f,n),h.dataItem(r)&&(h.dataItem(r).hasChildren=!0,h.updateArrow(r))},_updateItems:function(t,n){var i,r,l,h,d=this,f={panelBar:d.options,item:h,group:{}},m="expanded"!=n;if("selected"==n)if(t[0][n]){var v=d.findByUid(t[0].uid);v.hasClass(E)||d.select(v,!0)}else d.clearSelection();else{var _=e.map(t,(function(e){return d.findByUid(e.uid)}));for(m&&d.angular("cleanup",(function(){return{elements:_}})),i=0;i<t.length;i++)f.item=h=t[i],f.panelBar=d,r=(l=_[i]).parent(),m&&(f.group={firstLevel:r.hasClass("k-panelbar"),expanded:l.parent().hasClass(S),length:l.children().length},l.children(".k-link").remove(),l.prepend(d.templates.itemWrapper(c(f,{arrow:h.hasChildren||h.content||h.contentUrl?d.templates.arrow:d.templates.empty},z)))),"expanded"==n?d._toggleItem(l,!h[n],!h[n]||"true"):"enabled"==n&&(d.enable(l,h[n]),h[n]||h.selected&&h.set("selected",!1)),l.length&&this.trigger("itemChange",{item:l.find(".k-link").first(),data:h,ns:o});m&&d.angular("compile",(function(){return{elements:_,data:e.map(t,(function(e){return[{dataItem:e}]}))}}))}},_toggleDisabled:function(element,e){(element=this.element.find(element)).toggleClass("k-state-default",e).toggleClass(E,!e).attr("aria-disabled",!e)},dataItem:function(t){var n=e(t).closest(k).attr(r.attr("uid")),o=this.dataSource;return o&&o.getByUid(n)},select:function(element,t){var n=this;return void 0===element?n.element.find(R).parent():((element=n.element.find(element)).length?element.each((function(){var r=e(this),link=r.children(".k-link");if(r.hasClass(E))return n;n._updateSelected(link,t)})):this._updateSelected(element),n)},clearSelection:function(){this.select(e())},enable:function(element,e){return this._toggleDisabled(element,!1!==e),this},disable:function(element){return this._toggleDisabled(element,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find(T):null);return d(n.items,(function(){n.group.append(this),B(this)})),this.updateArrow(t),B(n.group.find(".k-first, .k-last")),n.group.height("auto"),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return d(n.items,(function(){t.before(this),B(this)})),B(t),n.group.height("auto"),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return d(n.items,(function(){t.after(this),B(this)})),B(t),n.group.height("auto"),this},remove:function(element){var e=(element=this.element.find(element)).parentsUntil(this.element,k),t=element.parent("ul");return element.remove(),!t||t.hasClass("k-panelbar")||t.children(k).length||t.remove(),e.length&&(e=e.eq(0),this.updateArrow(e),B(e)),this},reload:function(element){var t=this;(element=t.element.find(element)).each((function(){var n=e(this);t._ajaxRequest(n,n.children(".k-content"),!n.is(F))}))},_first:function(){return this.element.children(I).first()},_last:function(){var e=this.element.children(I).last(),t=e.children(".k-group:visible");return t[0]?t.children(I).last():e},_current:function(t){var n=this._focused,r=this._itemId;if(void 0===t)return n;this.element.removeAttr("aria-activedescendant"),n&&n.length&&(n[0].id===r&&n.removeAttr("id"),n.children(".k-link").removeClass("k-state-focused")),e(t).length&&(r=t[0].id||r,t.attr("id",r).children(".k-link").addClass("k-state-focused"),this.element.attr("aria-activedescendant",r)),this._focused=t},_keydown:function(e){var t=e.keyCode,n=this._current();e.target==e.currentTarget&&(t==l.DOWN||t==l.RIGHT?(this._current(this._nextItem(n)),e.preventDefault()):t==l.UP||t==l.LEFT?(this._current(this._prevItem(n)),e.preventDefault()):t==l.ENTER||t==l.SPACEBAR?(this._click(n.children(".k-link")),e.preventDefault()):t==l.HOME?(this._current(this._first()),e.preventDefault()):t==l.END&&(this._current(this._last()),e.preventDefault()))},_nextItem:function(e){if(!e)return this._first();var t=e.children(".k-group:visible"),n=e.nextAll(":visible").first();return t[0]&&(n=t.children("."+C)),n[0]||(n=e.parent(".k-group:visible").parent(k).next()),n[0]||(n=this._first()),n.hasClass(E)&&(n=this._nextItem(n)),n},_prevItem:function(e){if(!e)return this._last();var t,n=e.prevAll(":visible").first();if(n[0])for(t=n;t[0];)(t=t.children(".k-group:visible").children("."+y))[0]&&(n=t);else(n=e.parent(".k-group:visible").parent(k))[0]||(n=this._last());return n.hasClass(E)&&(n=this._prevItem(n)),n},_insert:function(t,n,r){var o,l,h=this,d=e.isPlainObject(t),f=n&&n[0];if(f||(r=h.element),l={firstLevel:r.hasClass("k-panelbar"),expanded:e(n).hasClass(S),length:r.children().length},f&&!r.length&&(r=e(h.renderGroup({group:l,options:h.options})).appendTo(n)),d||e.isArray(t)||t instanceof v){if(t instanceof v&&(t=t.data()),o=e.map(d?[t]:t,(function(t,n){return e("string"==typeof t?t:h.renderItem({group:l,item:c(t,{index:n})}))})),f){var m=h.dataItem(n);m?(m.hasChildren=!0,n.attr("aria-expanded",m.expanded).not("."+S).children("ul").attr("aria-hidden",!m.expanded)):n.attr("aria-expanded",!1)}}else o="string"==typeof t&&"<"!=t.charAt(0)?h.element.find(t):e(t),h._updateItemsClasses(o);return t.length||(t=[t]),h._angularCompileElements(o,t),{items:o,group:r}},_toggleHover:function(t){var n=e(t.currentTarget);n.parents("li."+E).length||n.toggleClass("k-state-hover","mouseenter"==t.type)},_updateClasses:function(){var t,n,r,o,l;o=(t=this.element.find("li > ul").not((function(){return e(this).parentsUntil(".k-panelbar","div").length})).addClass("k-group k-panel").attr("role","group")).parent(),r=(l=this.dataItem(o))&&l.expanded||!1,t.parent().attr("aria-expanded",r).not("."+S).children("ul").attr("aria-hidden",!r).hide(),n=this.element.add(t).children(),this._updateItemsClasses(n),this.updateArrow(n),B(n)},_updateItemsClasses:function(e){for(var t=e.length,n=0;n<t;n++)this._updateItemClasses(e[n],n)},_updateItemClasses:function(t,n){var o,link,l=this._selected,c=this.options.contentUrls,h=c&&c[n],d=this.element[0];t=e(t).addClass("k-item").attr("role","menuitem"),r.support.browser.msie&&t.css("list-style-position","inside").css("list-style-position",""),t.children("img").addClass("k-image"),(link=t.children("a").addClass(x))[0]&&(link.attr("href",h),link.children("img").addClass("k-image")),t.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),t.filter("li[disabled]").addClass("k-state-disabled").attr("aria-disabled",!0).removeAttr("disabled"),t.children("div").addClass("k-content").attr("role","region").attr("aria-hidden",!0).hide().parent().attr("aria-expanded",!1),(link=t.children(".k-state-selected"))[0]&&(l&&l.removeAttr("aria-selected").children(".k-state-selected").removeClass("k-state-selected"),link.addClass("k-state-selected"),this._selected=t.attr("aria-selected",!0)),t.children(".k-link")[0]||(o="<span class='k-link'/>",c&&c[n]&&t[0].parentNode==d&&(o='<a class="k-link k-header" href="'+c[n]+'"/>'),t.contents().filter((function(){return!(this.nodeName.match(_)||3==this.nodeType&&!e.trim(this.nodeValue))})).wrapAll(o)),t.parent(".k-panelbar")[0]&&t.children(".k-link").addClass("k-header")},_click:function(e){var t,n,r,element=this.element;if(!e.parents("li."+E).length&&e.closest(".k-widget")[0]==element[0]){var link=e.closest(".k-link"),o=link.closest(k);this._updateSelected(link);var l=o.children(".k-group,.k-content"),c=this.dataItem(o);if(!l.length&&(this.options.loadOnDemand&&c&&c.hasChildren||this._hasChildItems(o)||o.content||o.contentUrl)&&(l=this._addGroupElement(o)),n=o.find(T).add(o.find(D)),t=!((!(r=link.attr("href"))||"#"!=r.charAt(r.length-1)&&-1==r.indexOf("#"+this.element[0].id+"-"))&&!n.length),n.data("animating"))return t;if(this._triggerEvent("select",o)&&(t=!0),!1!==t){if("single"==this.options.expandMode&&this._collapseAllExpanded(o))return t;if(n.length){var h=n.is(F);this._triggerEvent(h?"collapse":"expand",o)||(t=this._toggleItem(o,h))}return t}}},_hasChildItems:function(e){return e.items&&e.items.length>0||e.hasChildren},_toggleItem:function(element,e,t){var n,content,r=element.find(T),o=element.find(".k-link").attr("href"),l=this.dataItem(element),c=!e,h=l&&l.loaded();return l&&!t&&l.expanded!==c?(l.set("expanded",c),n=l.hasChildren||!!l.content||!!l.contentUrl):(!l||t&&"true"!==t||h||l.content||l.contentUrl?r.length?(this._toggleGroup(r,e),n=!0):(content=element.children(".k-content")).length&&(n=!0,content.is(":empty")&&void 0!==o?this._ajaxRequest(element,content,e):this._toggleGroup(content,e)):(this.options.loadOnDemand&&this._progress(element,!0),element.children(".k-group,.k-content").remove(),n=l.hasChildren,l.load()),n)},_toggleGroup:function(element,e){var t=this,n=t.options.animation,r=n.expand,o=n.collapse&&"effects"in n.collapse,l=c({},n.expand,n.collapse);o||(l=c(l,{reverse:!0})),element.is(F)==e?(element.attr("aria-hidden",!!e),element.parent().attr("aria-expanded",!e).toggleClass(S,!e).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-60-up",!e).toggleClass("k-panelbar-collapse",!e).toggleClass("k-i-arrow-60-down",e).toggleClass("k-panelbar-expand",e),e?(r=c(l,{hide:!0})).complete=function(){t._animationCallback()}:r=c({complete:function(element){t._triggerEvent("activate",element.closest(k)),t._animationCallback()}},r),element.kendoStop(!0,!0).kendoAnimate(r)):t._animating=!1},_animationCallback:function(){this.trigger("complete"),this._animating=!1},_addGroupElement:function(element){var t=e('<ul role="group" aria-hidden="true" class="k-group k-panel" style="display:none"></ul>');return element.append(t),t},_collapseAllExpanded:function(t){var n,r=this,o=!1,l=t.find(T).add(t.find(D));return l.is(F)&&(o=!0),l.is(F)||0===l.length||((n=t.siblings()).find(T).add(n.find(D)).filter((function(){return e(this).is(F)})).each((function(t,content){content=e(content),(o=r._triggerEvent("collapse",content.closest(k)))||r._toggleGroup(content,!0)})),r.one("complete",(function(){setTimeout((function(){n.each((function(e,t){var n=r.dataItem(t);n&&n.set("expanded",!1)}))}))}))),o},_ajaxRequest:function(element,t,n){var r=this,o=element.find(".k-panelbar-collapse, .k-panelbar-expand"),link=element.find(".k-link"),l=setTimeout((function(){o.addClass("k-i-loading")}),100),c=link.attr("href");e.ajax({type:"GET",cache:!1,url:c,dataType:"html",data:{},error:function(e,t){o.removeClass("k-i-loading"),r.trigger("error",{xhr:e,status:t})&&this.complete()},complete:function(){clearTimeout(l),o.removeClass("k-i-loading")},success:function(data){function e(){return{elements:t.get()}}try{r.angular("cleanup",e),t.html(data),r.angular("compile",e)}catch(e){var o=window.console;o&&o.error&&o.error(e.name+": "+e.message+" in "+c),this.error(this.xhr,"error")}r._toggleGroup(t,n),r.trigger("contentLoad",{item:element[0],contentElement:t[0]})}})},_triggerEvent:function(e,element){return this.trigger(e,{item:element[0]})},_updateSelected:function(link,e){var element=this.element,t=link.parent(k),n=this._selected,r=this.dataItem(t);n&&n.removeAttr("aria-selected"),this._selected=t.attr("aria-selected",!0),element.find(R).removeClass("k-state-selected"),element.find("> .k-state-highlight, .k-panel > ."+A).removeClass(A),link.addClass("k-state-selected"),link.parentsUntil(element,k).filter(":has(.k-header)").addClass(A),this._current(t[0]?t:null),r&&r.set("selected",!0),e||this.trigger("change")},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})},renderItem:function(e){e=c({panelBar:this,group:{}},e);var t=this.templates.empty,n=e.item;return this.templates.item(c(e,{itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:this._hasChildItems(n)||n.content||n.contentUrl?this.templates.arrow:t,subGroup:!e.loadOnDemand||n.expanded?this.renderGroup:t},z))},renderGroup:function(e){return(this.templates||e.panelBar.templates).group(c({renderItems:function(e){for(var html="",i=0,t=e.items,n=t?t.length:0,r=c({length:n},e.group);i<n;i++)html+=e.panelBar.renderItem(c(e,{group:r,item:c({index:i},t[i])}));return html}},e,z))},renderContent:function(e){return e.panelBar.templates.content(c(e,z))}});r.ui.plugin(L)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1294)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1294:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=e.proxy,r=".kendoResponsivePanel",o="click"+r+" touchstart"+r+" touchend"+r,l=kendo.ui.Widget,c=l.extend({init:function(element,t){l.fn.init.call(this,element,t),this._guid="_"+kendo.guid(),this._toggleHandler=n(this._toggleButtonClick,this),this._closeHandler=n(this._close,this),e(document.documentElement).on(o,this.options.toggleButton,this._toggleHandler),this._registerBreakpoint(),this.element.addClass("k-rpanel k-rpanel-"+this.options.orientation+" "+this._guid),this._resizeHandler=n(this.resize,this,!0),e(window).on("resize"+r,this._resizeHandler)},_mediaQuery:"@media (max-width: #= breakpoint-1 #px) {.#= guid #.k-rpanel-animate.k-rpanel-left,.#= guid #.k-rpanel-animate.k-rpanel-right {-webkit-transition: -webkit-transform .2s ease-out;-ms-transition: -ms-transform .2s ease-out;transition: transform .2s ease-out;} .#= guid #.k-rpanel-top {overflow: hidden;}.#= guid #.k-rpanel-animate.k-rpanel-top {-webkit-transition: max-height .2s linear;-ms-transition: max-height .2s linear;transition: max-height .2s linear;}} @media (min-width: #= breakpoint #px) {#= toggleButton # { display: none; } .#= guid #.k-rpanel-left { float: left; } .#= guid #.k-rpanel-right { float: right; } .#= guid #.k-rpanel-left, .#= guid #.k-rpanel-right {position: relative;-webkit-transform: translateX(0);-ms-transform: translateX(0);transform: translateX(0);-webkit-transform: translateX(0) translateZ(0);-ms-transform: translateX(0) translateZ(0);transform: translateX(0) translateZ(0);} .k-ie9 .#= guid #.k-rpanel-left { left: 0; } .#= guid #.k-rpanel-top { max-height: none; }}",_registerBreakpoint:function(){var e=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpoint:e.breakpoint,toggleButton:e.toggleButton,guid:this._guid}))},_registerStyle:function(t){var head=e("head,body")[0],style=document.createElement("style");head.appendChild(style),style.styleSheet?style.styleSheet.cssText=t:style.appendChild(document.createTextNode(t))},options:{name:"ResponsivePanel",orientation:"left",toggleButton:".k-rpanel-toggle",breakpoint:640,autoClose:!0},events:["open","close"],_resize:function(){this.element.removeClass("k-rpanel-animate k-rpanel-expanded"),e(document.documentElement).off(o,this._closeHandler)},_toggleButtonClick:function(e){e.preventDefault(),"touchend"!=e.type&&(this.element.hasClass("k-rpanel-expanded")?this.close():this.open())},open:function(){this.trigger("open")||(this.element.addClass("k-rpanel-animate k-rpanel-expanded"),this.options.autoClose&&e(document.documentElement).on(o,this._closeHandler))},close:function(){this.trigger("close")||(this.element.addClass("k-rpanel-animate").removeClass("k-rpanel-expanded"),e(document.documentElement).off(o,this._closeHandler))},_close:function(t){var n=t.isDefaultPrevented();e(t.target).closest(this.options.toggleButton+",.k-rpanel").length||n||this.close()},destroy:function(){l.fn.destroy.call(this),e(window).off("resize"+r,this._resizeHandler),e(document.documentElement).off(o,this._closeHandler)}});kendo.ui.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1315)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1006:function(e,t){e.exports=n(16)},1143:function(e,t){e.exports=n(41)},1315:function(e,t,n){var r,o,l;(function(c){n(3),o=[n(1143)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.keys,l=e.extend,h=e.proxy,d=r.Widget,f=/^\d+(\.\d+)?px$/i,m=/^\d+(\.\d+)?%$/i,v=".kendoSplitter",_="horizontal",w="pane",y="k-"+w,x="."+y;function k(e){return m.test(e)}function C(e){return f.test(e)||/^\d+$/.test(e)}function S(e){return!k(e)&&!C(e)}function T(e,t){var output=parseInt(e,10);return k(e)&&(output=Math.floor(output*t/100)),output}function D(e,t){return function(n,r){var o=this.element.find(n).data(w);if(1==arguments.length)return o[e];if(o[e]=r,t){var l=this.element.data("kendo"+this.options.name);l.resize(!0)}}}var E=d.extend({init:function(element,e){var t;d.fn.init.call(this,element,e),this.wrapper=this.element,this.options.orientation&&(t="vertical"!=this.options.orientation.toLowerCase()),this.orientation=t?_:"vertical",this._dimension=t?"width":"height",this._keys={decrease:t?o.LEFT:o.UP,increase:t?o.RIGHT:o.DOWN},this._resizeStep=10,this._marker=n.guid().substring(0,8),this._initPanes(),this.resizing=new M(this),this.element.triggerHandler("init"+v)},events:["expand","collapse","contentLoad","error","resize","layoutChange"],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var t=this,n=t.options.orientation;t.element.children(".k-splitbar-draggable-"+n).on("keydown"+v,h(t._keydown,t)).on("mousedown"+v,(function(e){e.currentTarget.focus()})).on("focus"+v,(function(t){e(t.currentTarget).addClass("k-state-focused")})).on("blur"+v,(function(n){e(n.currentTarget).removeClass("k-state-focused"),t.resizing&&t.resizing.end()})).on("mouseenter"+v,(function(){e(this).addClass("k-splitbar-"+t.orientation+"-hover")})).on("mouseleave"+v,(function(){e(this).removeClass("k-splitbar-"+t.orientation+"-hover")})).on("mousedown"+v,h(t._addOverlays,t)).end().children(".k-splitbar").on("dblclick"+v,h(t._togglePane,t)).children(".k-collapse-next, .k-collapse-prev").on("click"+v,t._arrowClick("collapse")).end().children(".k-expand-next, .k-expand-prev").on("click"+v,t._arrowClick("expand")).end().end(),e(window).on("resize"+v+t._marker,h(t.resize,t,!1)),e(document).on("mouseup"+v+t._marker,h(t._removeOverlays,t))},_detachEvents:function(){this.element.children(".k-splitbar-draggable-"+this.orientation).off(v).end().children(".k-splitbar").off("dblclick"+v).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(v),e(window).off(v+this._marker),e(document).off(v+this._marker)},options:{name:"Splitter",orientation:_,panes:[]},destroy:function(){d.fn.destroy.call(this),this._detachEvents(),this.resizing&&this.resizing.destroy(),n.destroy(this.element),this.wrapper=this.element=null},_keydown:function(t){var n,r=t.keyCode,l=this.resizing,c=e(t.currentTarget),h=this._keys,d=r===h.increase,f=r===h.decrease;d||f?(t.ctrlKey?(n=c[f?"next":"prev"](),l&&l.isResizing()&&l.end(),n[this._dimension]()?this._triggerAction("collapse",c[f?"prev":"next"]()):this._triggerAction("expand",n)):l&&l.move((f?-1:1)*this._resizeStep,c),t.preventDefault()):r===o.HOME?(l.move(-l._maxPosition,c),t.preventDefault()):r===o.END?(l.move(l._maxPosition,c),t.preventDefault()):r===o.ENTER&&l&&(l.end(),t.preventDefault())},_initPanes:function(){var e=this.options.panes||[],t=this;this.element.addClass("k-widget").addClass("k-splitter").children().each((function(i,n){"script"!=n.nodeName.toLowerCase()&&t._initPane(n,e[i])})),this.resize()},_initPane:function(t,n){(t=e(t).attr("role","group").addClass(y)).data(w,n||{}).toggleClass("k-scrollable",!n||!1!==n.scrollable),this.ajaxRequest(t)},ajaxRequest:function(e,t,data){var r,o=this;r=(e=o.element.find(e)).data(w),(t=t||r.contentUrl)&&(e.append("<span class='k-icon k-i-loading k-pane-loading' />"),n.isLocalUrl(t)?c.ajax({url:t,data:data||{},type:"GET",dataType:"html",success:function(data){o.angular("cleanup",(function(){return{elements:e.get()}})),e.html(data),o.angular("compile",(function(){return{elements:e.get()}})),o.trigger("contentLoad",{pane:e[0]})},error:function(t,n){o.trigger("error",{pane:e[0],status:n,xhr:t})}}):e.removeClass("k-scrollable").html("<iframe src='"+t+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>"))},_triggerAction:function(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0])},_togglePane:function(t){var n,r=e(t.target);r.closest(".k-splitter")[0]==this.element[0]&&1===(n=r.children(".k-icon:not(.k-resize-handle)")).length&&(n.is(".k-collapse-prev")?this._triggerAction("collapse",r.prev()):n.is(".k-collapse-next")?this._triggerAction("collapse",r.next()):n.is(".k-expand-prev")?this._triggerAction("expand",r.prev()):n.is(".k-expand-next")&&this._triggerAction("expand",r.next()))},_arrowClick:function(t){var n=this;return function(r){var o,l=e(r.target);l.closest(".k-splitter")[0]==n.element[0]&&(o=l.is(".k-"+t+"-prev")?l.parent().prev():l.parent().next(),n._triggerAction(t,o))}},_updateSplitBar:function(e,t,n){var r=function(e,t){return t?"<div class='k-icon "+e+"' />":""},o=this.orientation,l=!1!==t.resizable&&!1!==n.resizable,c=t.collapsible,h=t.collapsed,d=n.collapsible,f=n.collapsed;e.addClass("k-splitbar k-state-default k-splitbar-"+o).attr("role","separator").attr("aria-expanded",!(h||f)).removeClass("k-splitbar-"+o+"-hover").toggleClass("k-splitbar-draggable-"+o,l&&!h&&!f).toggleClass("k-splitbar-static-"+o,!l&&!c&&!d).html(r("k-collapse-prev k-i-arrow-60-up",c&&!h&&!f&&"vertical"==o)+r("k-collapse-prev k-i-arrow-60-left",c&&!h&&!f&&o==_)+r("k-expand-prev k-i-arrow-60-down",c&&h&&!f&&"vertical"==o)+r("k-expand-prev k-i-arrow-60-right",c&&h&&!f&&o==_)+r("k-resize-handle k-i-hbar",l&&"vertical"==o)+r("k-resize-handle k-i-vbar",l&&o==_)+r("k-collapse-next k-i-arrow-60-down",d&&!f&&!h&&"vertical"==o)+r("k-collapse-next k-i-arrow-60-right",d&&!f&&!h&&o==_)+r("k-expand-next k-i-arrow-60-up",d&&f&&!h&&"vertical"==o)+r("k-expand-next k-i-arrow-60-left",d&&f&&!h&&o==_)),l||c||d||e.removeAttr("tabindex")},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each((function(){var n=e(this),r=n.prevAll(x).first().data(w),o=n.nextAll(x).first().data(w);o&&t._updateSplitBar(n,r,o)}))},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element?this.element.children(x):e()},_resize:function(){var element=this.element,t=element.children(x),r=this.orientation==_,o=element.children(".k-splitbar"),l=o.length,c=r?"width":"height",h=element[c]();this.wrapper.addClass("k-splitter-resizing"),0===l?(l=t.length-1,t.slice(0,l).after("<div tabindex='0' class='k-splitbar' data-marker='"+this._marker+"' />"),this._updateSplitBars(),o=element.children(".k-splitbar")):this._updateSplitBars(),o.each((function(){h-=this[r?"offsetWidth":"offsetHeight"]}));var d=0,f=e();t.css({position:"absolute",top:0})[c]((function(){var t,element=e(this),n=element.data(w)||{};if(element.removeClass("k-state-collapsed"),n.collapsed)t=n.collapsedSize?T(n.collapsedSize,h):0,element.css("overflow","hidden").addClass("k-state-collapsed");else{if(S(n.size))return void(f=f.add(this));t=T(n.size,h)}return d+=t,t})),h-=d;var m=f.length,v=Math.floor(h/m);f.slice(0,m-1).css(c,v).end().eq(m-1).css(c,h-(m-1)*v);var y=0,k=r?"height":"width",C=r?"left":"top",D=r?"offsetWidth":"offsetHeight";if(0===m){var E=t.filter((function(){return!(e(this).data(w)||{}).collapsed})).last();E[c](h+E[0][D])}element.children().css(k,element[k]()).each((function(i,e){"script"!=e.tagName.toLowerCase()&&(e.style[C]=Math.floor(y)+"px",y+=e[D])})),this._detachEvents(),this._attachEvents(),this.wrapper.removeClass("k-splitter-resizing"),n.resize(t),this.trigger("layoutChange")},toggle:function(e,t){var n,r=this;n=(e=r.element.find(e)).data(w),(t||n.collapsible)&&(1==arguments.length&&(t=void 0!==n.collapsed&&n.collapsed),n.collapsed=!t,n.collapsed?e.css("overflow","hidden"):e.css("overflow",""),r.resize(!0))},collapse:function(e){this.toggle(e,!1)},expand:function(e){this.toggle(e,!0)},_addPane:function(e,t,n){return n.length&&(this.options.panes.splice(t,0,e),this._initPane(n,e),this._removeSplitBars(),this.resize(!0)),n},append:function(t){t=t||{};var n=e("<div />").appendTo(this.element);return this._addPane(t,this.options.panes.length,n)},insertBefore:function(t,n){n=e(n),t=t||{};var r=this.wrapper.children(".k-pane").index(n),o=e("<div />").insertBefore(e(n));return this._addPane(t,r,o)},insertAfter:function(t,n){n=e(n),t=t||{};var r=this.wrapper.children(".k-pane").index(n),o=e("<div />").insertAfter(e(n));return this._addPane(t,r+1,o)},remove:function(t){var r=this;return(t=r.wrapper.find(t)).length&&(n.destroy(t),t.each((function(t,element){r.options.panes.splice(r.wrapper.children(".k-pane").index(element),1),e(element).remove()})),r._removeSplitBars(),r.options.panes.length&&r.resize(!0)),r},size:D("size",!0),min:D("min"),max:D("max")});r.plugin(E);var A={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},I={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function M(e){var t=e.orientation;this.owner=e,this._element=e.element,this.orientation=t,l(this,t===_?I:A),this._resizable=new n.ui.Resizable(e.element,{orientation:t,handle:".k-splitbar-draggable-"+t+"[data-marker="+e._marker+"]",hint:h(this._createHint,this),start:h(this._start,this),max:h(this._max,this),min:h(this._min,this),invalidClass:"k-restricted-size-"+t,resizeend:h(this._stop,this)})}M.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){this.pressed||(this.press(t),this.pressed=!0),this._resizable.target||this._resizable.press(t),this._resizable.move(e)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy(),this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(t){return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+this.orientation+" k-state-default' />").css(this.alternateSizingProperty,t[this.alternateSizingProperty]())},_start:function(t){var n=e(t.currentTarget),r=n.prev(),o=n.next(),l=r.data(w),c=o.data(w),h=parseInt(r[0].style[this.positioningProperty],10),d=parseInt(o[0].style[this.positioningProperty],10)+o[0][this.sizingDomProperty]-n[0][this.sizingDomProperty],f=parseInt(this._element.css(this.sizingProperty),10),m=function(e){var t=parseInt(e,10);return(C(e)?t:f*t/100)||0},v=m(l.min),_=m(l.max)||d-h,y=m(c.min),x=m(c.max)||d-h;this.previousPane=r,this.nextPane=o,this._maxPosition=Math.min(d-y,h+_),this._minPosition=Math.max(h+v,d-x)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var r=e(t.currentTarget),o=this.owner;if(o._panes().children(".k-splitter-overlay").remove(),t.keyCode!==n.keys.ESC){var l=t.position,c=r.prev(),h=r.next(),d=c.data(w),f=h.data(w),m=l-parseInt(c[0].style[this.positioningProperty],10),v=parseInt(h[0].style[this.positioningProperty],10)+h[0][this.sizingDomProperty]-l-r[0][this.sizingDomProperty],_=this._element.children(x).filter((function(){return S(e(this).data(w).size)})).length;(!S(d.size)||_>1)&&(S(d.size)&&_--,d.size=m+"px"),(!S(f.size)||_>1)&&(f.size=v+"px"),o.resize(!0)}return!1}}}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}).call(t,n(1006))}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1032)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1032:function(e,t,n){var r,o,l;n(3),o=[n(1033),n(1034),n(1035)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.extend,l={wrapper:"k-widget k-chat",canvas:"k-chat-canvas",viewWrapper:"k-message-list",messageBoxWrapper:"k-message-box",toolbarBoxWrapper:"k-toolbar-box"},c=r.extend({init:function(element,e,t){r.fn.init.call(this,element,e),t&&(this._events=t),this._user(),this._wrapper(),this._view(),this._messageBox(),e&&e.toolbar&&e.toolbar.buttons&&this._toolbar(),n.notify(this)},events:["typingStart","typingEnd","post","sendMessage","actionClick","toolClick"],options:{user:{name:"User",iconUrl:""},name:"Chat",messages:{placeholder:"Type a message..."},toolbar:!1},setOptions:function(t){this._setEvents(t),e.extend(!0,this.options,t),this.toolbar&&"toolbar"in t&&(this.toolbar.destroy(),this.toolbar=null),this.messageBox&&(this.messageBox.unbind(),this.messageBox.destroy(),this.messageBox=null),this._messageBox(),"toolbar"in t&&(this._resetToolbarButtons(t),this._toolbar())},_resetToolbarButtons:function(e){var t=this.wrapper.find("."+l.toolbarBoxWrapper);t.is(":visible")||t.show(),"buttons"in e.toolbar&&(this.options.toolbar.buttons=e.toolbar.buttons)},destroy:function(){this.view&&(this.view.unbind(),this.view.destroy(),this.view=null),this.messageBox&&(this.messageBox.unbind(),this.messageBox.destroy(),this.messageBox=null),this.toolbar&&(this.toolbar.destroy(),this.toolbar=null),r.fn.destroy.call(this)},_user:function(){this.options.user.id=n.guid()},getUser:function(){return o(!0,{},this.options.user)},_wrapper:function(){var e=c.styles,t=this.options,n=t.height,r=t.width,o="<div class='"+e.viewWrapper+"'></div><div class='"+e.messageBoxWrapper+"'></div><div class='"+e.toolbarBoxWrapper+"' role='toolbar' style='display:none;'></div>";this.wrapper=this.element.addClass(e.wrapper).append(o),t.toolbar&&t.toolbar.buttons&&t.toolbar.buttons.length&&this.wrapper.find("."+e.toolbarBoxWrapper).show(),n&&this.wrapper.height(n),r&&this.wrapper.css("max-width",r)},_view:function(){var e=this,t=c.styles,r=o(!0,{},this.options),element=this.wrapper.find("."+t.viewWrapper);this.view=new n.chat.ChatView(element,r),this.view.bind("actionClick",(function(t){e.trigger("actionClick",t),e.postMessage(t.text)}))},_messageBox:function(){var e=this,t=c.styles,r=o(!0,{},this.options),element=this.wrapper.find("."+t.messageBoxWrapper);this.messageBox=new n.chat.ChatMessageBox(element,r),this.messageBox.bind("typingStart",(function(t){e.trigger("typingStart",t)})).bind("typingEnd",(function(t){e.trigger("typingEnd",t)})).bind("sendMessage",(function(t){e.trigger("sendMessage",t),e.postMessage(t.text)})).bind("toggleToolbar",(function(){e.toggleToolbar()}))},_toolbar:function(){var e=this,t=c.styles,r=o(!0,{},e.options),element=e.wrapper.find("."+t.toolbarBoxWrapper);void 0===r.toolbar.scrollable&&(this.options.toolbar.scrollable=r.toolbar.scrollable=!0),void 0===r.toolbar.toggleable&&(this.options.toolbar.toggleable=r.toolbar.toggleable=!1),e.toolbar=new n.chat.ChatToolBar(element,r),e.toolbar.bind("click",(function(t){e.trigger("toolClick",{sender:e,name:t.name,button:t.button,messageBox:e.messageBox.input[0],originalEvent:t.originalEvent})}))},postMessage:function(e){var t=o(!0,{},{text:e,type:"message",timestamp:new Date,from:this.getUser()});this.trigger("post",t),this.renderMessage(t,t.from)},renderMessage:function(e,t){this.view.renderMessage(e,t)},renderSuggestedActions:function(e){this.view.renderSuggestedActions(e)},renderAttachments:function(e,t){this.view.renderAttachments(e,t)},toggleToolbar:function(e){this.toolbar.toggle(e)},renderUserTypingIndicator:function(e){this.view._renderTypingIndicator(e)},clearUserTypingIndicator:function(e){this.view._removeTypingParticipant(e)},removeTypingIndicator:function(){this.view._removeTypingIndicator()}});n.ui.plugin(c),o(!0,c,{styles:l})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1033:function(e,t){e.exports=n(310)},1034:function(e,t){e.exports=n(311)},1035:function(e,t){e.exports=n(312)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(18),e.exports=n(18)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},18:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.extend,l=e.proxy,c=".kendoChat",h=n.keys,d=r.extend({init:function(element,e){r.fn.init.call(this,element,e),this._wrapper(),this._attachEvents(),this._typing=!1},events:[],options:{messages:{placeholder:"Type a message..."}},destroy:function(){r.fn.destroy.call(this),this.input&&(this.input.off(c),this.input.remove(),this.input=null),this.element.off(c),this.element.empty()},_wrapper:function(){var t=d.styles,r=this.options,o=r.messages,l="inputId_"+n.guid();e("<label>").addClass(t.hidden).html(o.placeholder).attr("for",l).appendTo(this.element),this.input=e("<input type='text'>").addClass(t.input).attr("id",l).attr("placeholder",o.placeholder).appendTo(this.element),r.toolbar&&r.toolbar.toggleable&&r.toolbar.buttons&&e("<button>").addClass(t.button).addClass(t.buttonFlat).addClass(t.buttonIcon).addClass(t.buttonToggle).attr("type","button").append(e('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g>   <path d="M128,240c0-26.4-21.6-48-48-48s-48,21.6-48,48s21.6,48,48,48S128,266.4,128,240z"/>   <path d="M192,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C213.6,192,192,213.6,192,240z"/>   <path d="M352,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C373.6,192,352,213.6,352,240z"/></g></svg>')).appendTo(this.element),e("<button>").addClass(t.button).addClass(t.buttonFlat).addClass(t.buttonIcon).addClass(t.buttonSend).append(e('<svg version="1.1" ixmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><path d="M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z"/></svg>')).appendTo(this.element)},_attachEvents:function(){var e=d.styles;this.input.on("keydown"+c,l(this._keydown,this)).on("input"+c,l(this._input,this)).on("focusout"+c,l(this._inputFocusout,this)),this.element.on("click"+c,"."+e.buttonSend,l(this._buttonClick,this)),this.element.on("click"+c,"."+e.buttonToggle,l(this._toggleToolbar,this))},_input:function(){var e=this.input.val().length>0;this._triggerTyping(e)},_keydown:function(e){switch(e.keyCode){case h.ENTER:e.preventDefault(),this._sendMessage()}},_buttonClick:function(e){e.preventDefault(),this._sendMessage()},_sendMessage:function(){var e=this.input.val();if(e.length){this._triggerTyping(!1);var t={text:e};this.trigger("sendMessage",t),this.input.val("")}},_inputFocusout:function(){this._triggerTyping(!1)},_triggerTyping:function(e){e?this._typing||(this.trigger("typingStart",{}),this._typing=!0):this._typing&&(this.trigger("typingEnd",{}),this._typing=!1)},_toggleToolbar:function(e){this.trigger("toggleToolbar",{originalEvent:e})}});o(!0,d,{styles:{input:"k-input",button:"k-button",buttonFlat:"k-flat",buttonIcon:"k-button-icon",buttonSend:"k-button-send",buttonToggle:"k-button-toggle",iconAdd:"k-icon k-i-add",hidden:"k-hidden"}}),o(n,{chat:{ChatMessageBox:d}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},19:function(e,t){e.exports=n(0)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(20),e.exports=n(20)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},20:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.extend,l=e.proxy,c=".kendoChat",h={effects:"expand:vertical",duration:200},d={expand:{show:!0},collapse:{hide:!0}},f=r.extend({init:function(element,e){var t=(e=o({},e,{name:"ChatToolbar"})).toolbar,n=t.buttons&&t.buttons.length;r.fn.init.call(this,element,e),n&&this._createButtonList(),n&&t.scrollable&&this.buttonsWidth()>this.element.width()&&this._initScrolling(),this._setupAnimation(),t.toggleable&&this.toggle(!0),this.element.on("click"+c,l(this._onClick,this))},events:["click"],destroy:function(){r.fn.destroy.call(this),this.element.off(c),this.element.empty()},_createButtonList:function(){for(var t=f.styles,n=this.options.toolbar.buttons,r=e("<div class='"+t.buttonList+"'></div>"),i=0;i<n.length;i++){var button=this._createButton(n[i]);r.append(button)}r.appendTo(this.element),this.buttonList=r},_createButton:function(t){var n=f.styles,r=e("<button>");return"string"==typeof t&&(t={name:t}),r.attr(t.attr||{}).attr("title",t.text).attr("type","button").addClass(t.name).data("kButtonName",t.name).addClass(n.button),t.iconClass&&(r.addClass(n.buttonIcon),r.prepend("<span class='"+t.iconClass+"'></span>")),r},_onClick:function(t){var n=f.styles,r=e(t.target).closest("."+n.button);r.is("."+n.scrollButton)&&!this._scrolling&&this._scroll(r.data("kButtonName")),r.data("kButtonName")&&this.trigger("click",{button:r[0],name:r.data("kButtonName"),originalEvent:t})},_initScrolling:function(){var e=f.styles;this.scrollButtonLeft=this._createButton({name:"chatToolbarScrollLeft",iconClass:e.scrollButtonLeftIcon,attr:{class:e.scrollButton+" "+e.scrollButtonLeft}}),this.scrollButtonRight=this._createButton({name:"chatToolbarScrollRight",iconClass:e.scrollButtonRightIcon,attr:{class:e.scrollButton+" "+e.scrollButtonRight}}),this.element.prepend(this.scrollButtonLeft),this.element.append(this.scrollButtonRight),this._refreshScrollButtons(),this.element.on("keydown"+c,l(this._refreshScrollButtons,this))},_scroll:function(e){var t=this.buttonWidth(),n=this.maxScrollSize(),r="chatToolbarScrollLeft"===e?-1*t:t,o=this.currentScrollLeft()+r;o=Math.min(Math.max(o,0),n),"chatToolbarScrollLeft"!==e&&"chatToolbarScrollRight"!==e||(this.buttonList.scrollLeft(o),this._refreshScrollButtons(o))},_refreshScrollButtons:function(e){var t=this.maxScrollSize(),n=void 0===e||isNaN(parseInt(e,10))?this.currentScrollLeft():e;(this.scrollButtonLeft||this.scrollButtonRight)&&(this.scrollButtonLeft.toggle(0!==n),this.scrollButtonRight.toggle(n!==t))},_setupAnimation:function(){var e=this.options.toolbar.animation,t=o({},h),n=o({reverse:!0,hide:!0},h);e=!1===e?o(!0,{},d):o(!0,{expand:t,collapse:n},e),this.options.toolbar.animation=e},_animationComplete:function(){this._refreshScrollButtons()},currentScrollLeft:function(){return Math.round(this.buttonList.scrollLeft())},maxScrollSize:function(){return Math.round(this.buttonList[0].scrollWidth-this.buttonList[0].clientWidth)},buttons:function(){var e=f.styles;return this.buttonList?this.buttonList.children("."+e.button):null},buttonWidth:function(){return Math.round(this.buttons().last().outerWidth(!0))},buttonsWidth:function(){var e=0;return this.buttons()&&(e=this.buttonWidth()*this.buttons().length),e},toggle:function(e){var t=this.options.toolbar.animation;e&&(t=o(!0,{},d)),t.expand.complete=l(this._animationComplete,this),t.collapse.complete=l(this._animationComplete,this),this.element.is(":visible")?this.element.kendoStop().kendoAnimate(t.collapse):this.element.kendoStop().kendoAnimate(t.expand)}});o(!0,f,{styles:{button:"k-button",buttonFlat:"k-flat",buttonList:"k-button-list",scrollButton:"k-scroll-button",scrollButtonLeft:"k-scroll-button-left",scrollButtonRight:"k-scroll-button-right",scrollButtonLeftIcon:"k-icon k-i-arrow-chevron-left",scrollButtonRightIcon:"k-icon k-i-arrow-chevron-right",buttonIcon:"k-button-icon"}}),o(n.chat,{ChatToolBar:f})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(21),e.exports=n(21)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},21:function(e,t,n){var r,o,l;n(3),o=[n(19),n(22)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.extend,l=e.proxy,c=".kendoChat",h=n.template('<div #:text# class="#=styles.messageGroup# #= url ? "" : styles.noAvatar #"><p class="#=styles.author#">#:text#</p># if (url) { #<img src="#=url#" alt="#:text#" class="#=styles.avatar#"># } #</div>'),d=n.template('<div me class="#=styles.messageGroup# #=styles.self# #= url ? "" : styles.noAvatar #"># if (url) { #<img src="#=url#" alt="#:text#" class="#=styles.avatar#"># } #</div>'),f=n.template('<div class="#=styles.message#"><time class="#=styles.messageTime#">#= kendo.toString(kendo.parseDate(timestamp), "HH:mm:ss") #</time><div class="#=styles.bubble#">#:text#</div></div>'),m=n.template('<div class="#=styles.messageListContent# #=styles.typingIndicatorBubble#"><p class="#=styles.author#">#:text#</p><div class="#=styles.message#"><div class="#=styles.bubble#"><div class="#=styles.typingIndicator#"><span></span><span></span><span></span></div></div></div></div>'),v=n.template('<div class="#=styles.suggestedActions#"># for (var i = 0; i < suggestedActions.length; i++) { #<span class="#=styles.suggestedAction#" data-value="#:suggestedActions[i].value#">#:suggestedActions[i].title#</span># } #</div>'),_=n.template('<div class="#=styles.card# #=styles.cardRich#"># if (typeof images !== "undefined" && images.length > 0) { #<img src="#:images[0].url#" alt="#:images[0].alt#" class="#=styles.cardImage#" /># } #<div class="#=styles.cardBody#"># if (typeof title !== "undefined") { #<h5 class="#=styles.cardTitle#">#:title#</h5># } ## if (typeof subtitle !== "undefined") { #<h6 class="#=styles.cardSubtitle#">#:subtitle#</h6># } ## if (typeof text !== "undefined") { #<p>#:text#</p># } #</div># if (typeof buttons !== "undefined" && buttons.length > 0) { #<div class="#=styles.cardActions# #=styles.cardActionsVertical#"># for (var i = 0; i < buttons.length; i++) { #<span class="#=styles.cardAction#"><span class="#=styles.button# #=styles.buttonPrimary#" data-value="#:buttons[i].value#">#:buttons[i].title#</span></span># } #</div># } #</div>');o(n.chat,{Templates:{},Components:{}}),n.chat.registerTemplate=function(e,template){n.chat.Templates[e]=n.template(template)},n.chat.getTemplate=function(e){return n.chat.Templates[e]||f},n.chat.registerTemplate("text",f),n.chat.registerTemplate("message",f),n.chat.registerTemplate("typing",m),n.chat.registerTemplate("suggestedAction",v),n.chat.registerTemplate("heroCard",_),n.chat.registerTemplate("application/vnd.microsoft.card.hero",_),n.chat.registerComponent=function(e,component){n.chat.Components[e]=component},n.chat.getComponent=function(e){return n.chat.Components[e]||null};var w=n.chat.Component=n.Class.extend({init:function(t,view){this.element=e("<div></div>"),this.options=t,this.view=view},destroy:function(){n.destroy(this.element)}}),y=w.extend({init:function(e,view){w.fn.init.call(this,e,view),this.element.kendoCalendar({change:function(){view.trigger("suggestedAction",{text:n.toString(this.value(),"d"),type:"message"})}})},destroy:function(){}});n.chat.registerComponent("calendar",y);var x={wrapper:"k-widget k-chat",messageList:"k-avatars",messageListContent:"k-message-list-content",messageTime:"k-message-time",messageGroup:"k-message-group",message:"k-message",only:"k-only",first:"k-first",middle:"k-middle",last:"k-last",author:"k-author",avatar:"k-avatar",noAvatar:"k-no-avatar",self:"k-alt",button:"k-button",iconButton:"k-button-icon",buttonPrimary:"k-flat k-primary",scrollButtonIcon:"k-icon",scrollButtonIconLeft:"k-i-arrow-chevron-left",scrollButtonIconRight:"k-i-arrow-chevron-right",typingIndicator:"k-typing-indicator",typingIndicatorBubble:"k-typing-indicator-bubble",bubble:"k-bubble",suggestedActions:"k-quick-replies",suggestedAction:"k-quick-reply",cardWrapper:"k-card-container",cardDeckScrollWrap:"k-card-deck-scrollwrap",cardDeck:"k-card-deck",cardList:"k-card-list",card:"k-card",cardRich:"k-card-type-rich",cardBody:"k-card-body",cardImage:"k-card-image",cardTitle:"k-card-title",cardSubtitle:"k-card-subtitle",cardActions:"k-card-actions",cardActionsVertical:"k-card-actions-vertical",cardAction:"k-card-action",selected:"k-state-selected"},k=n.chat.ChatView=r.extend({init:function(element,e){r.fn.init.call(this,element,e),this._list(),this._lastSender=null,this.typingParticipants=[],this._attachEvents(),this._scrollable()},events:[],options:{messages:{isTyping:" is typing.",areTyping:" are typing.",and:" and "}},destroy:function(){r.fn.destroy.call(this),this._scrollDraggable&&this._scrollDraggable.destroy(),this.element.empty(),this.element.off(c),this.list=null,this._lastSender=null},_list:function(){var t=k.styles;this.element.addClass(t.messageList).attr("aria-live","polite"),this.list=e("<div>").addClass(t.messageListContent).appendTo(this.element)},_attachEvents:function(){var e=k.styles;this.element.on("click"+c,l(this._listClick,this)).on("click"+c,"."+e.message,l(this._messageClick,this)).on("click"+c,"."+e.suggestedAction,l(this._suggestedActionClick,this)).on("click"+c,"."+e.cardAction+" ."+e.button,l(this._cardActionClick,this))},_scrollable:function(){var e=k.styles;this.element.on("click"+c,"."+e.cardDeckScrollWrap+" ."+e.button,l(this._scrollButtonClick,this))},_scrollButtonClick:function(t){var n=k.styles,button=e(t.currentTarget),r=0!==button.find("."+n.scrollButtonIconLeft).length,o=button.siblings("."+n.cardDeck),l=o.find("."+n.card).last().outerWidth(!0);r?o.scrollLeft(o.scrollLeft()-l):o.scrollLeft(o.scrollLeft()+l)},getTemplate:function(e){return n.chat.getTemplate(e)},getComponent:function(e){return n.chat.getComponent(e)},renderMessage:function(e,t){e.timestamp||(e.timestamp=new Date),e.text||(e.text="");var n=this._renderTemplate(e.type,e);this._renderBubble(e.type,n,t),"typing"==e.type?this.typingParticipants.length>0&&this._removeTypingParticipant(t):this._lastSender=t.id},renderSuggestedActions:function(e){this._removeSuggestedActions();var element=this._renderTemplate("suggestedAction",{suggestedActions:e});this.list.append(element),this._scrollToBottom()},renderAttachments:function(e){var t=this._renderAttachmentWrapper(e.attachmentLayout),n="carousel"===e.attachmentLayout?t.find("."+k.styles.cardDeck):t,r=e.attachments;if(r.length){for(var i=0;i<r.length;i++){var o=this._renderTemplate(r[i].contentType,r[i].content);n.append(o)}this._removeSuggestedActions(),this._removeTypingIndicator(),this.list.append(t),this._lastSender=null}},renderComponent:function(e){var component=new(this.getComponent(e))({},this);this.list.append(component.element),this._scrollToBottom()},_renderAttachmentWrapper:function(t){var n=k.styles,r=e("<div>");if("carousel"===t){r.addClass(n.cardDeckScrollWrap);var o=this._renderScrollButton(n.scrollButtonIconLeft);r.append(o),r.append(e("<div>").addClass(n.cardDeck));var l=this._renderScrollButton(n.scrollButtonIconRight);r.append(l)}else r.addClass(n.cardList);return r},_renderScrollButton:function(t){var n=k.styles;return e("<button>").addClass(n.button).addClass(n.iconButton).append(e("<span>").addClass(n.scrollButtonIcon).addClass(t))},_removeSuggestedActions:function(){this.list.find("."+k.styles.suggestedActions).remove()},_listClick:function(t){var n=k.styles,r=e(t.target);r.hasClass(n.message)||r.parents("."+n.message).length||this._clearSelection()},_messageClick:function(t){this._clearSelection(),e(t.currentTarget).addClass(k.styles.selected)},_suggestedActionClick:function(t){var text=e(t.target).data("value")||"";this.trigger("actionClick",{text:text}),this._removeSuggestedActions()},_cardActionClick:function(t){var text=e(t.target).data("value")||"";this.trigger("actionClick",{text:text})},_renderBubble:function(e,t,n){this._removeSuggestedActions(),this._removeTypingIndicator();var r=this._getMessageGroup(n,e);this._appendToGroup(r,t,e),this._scrollToBottom()},_renderTemplate:function(t,n){var element,r=this.getComponent(t);if(r)element=new r(n,this).element;else{var template=this.getTemplate(t),l=o(!0,{},n,{styles:k.styles});element=e(template(l))}return element},_getMessageGroup:function(t,n){var r,o=k.styles,template=this._getMessageGroupTemplate(t,n),l="typing"==n?this.element:this.list;return t.id===this._lastSender&&null!==this._lastSender&&"typing"!==n&&(r=this.list.find("."+o.messageGroup).last()).length?r:e(template({text:t.name,url:t.iconUrl,styles:o})).appendTo(l)},_getMessageGroupTemplate:function(e,t){var template=e.id===this.options.user.id?d:h;return"typing"==t&&(template=m),template},_appendToGroup:function(e,t,n){var r=k.styles,o=e.find("."+r.message),l=o.length;this.element.find("."+r.typingIndicator).length&&"typing"==n||(t.addClass(0===l?r.only:r.last),o.filter("."+r.only).removeClass(r.only).addClass(r.first),o.filter("."+r.last).removeClass(r.last).addClass(r.middle),e.append(t))},_renderTypingIndicator:function(t){var n,r=this.element.find("."+x.typingIndicatorBubble);this._addTypingParticipant(t),r.length?(n=this._composeTypingParticipantsText(this.typingParticipants),r.find("."+x.author).first().text(n)):e(m({text:t.name+this.options.messages.isTyping,styles:x})).appendTo(this.element),this._scrollToBottom()},_addTypingParticipant:function(e){for(var t=!1,i=0;i<this.typingParticipants.length;i+=1)if(this.typingParticipants[i].id==e.id){t=!0;break}t||this.typingParticipants.push(e)},_removeTypingParticipant:function(e){var t,n=this.element.find("."+x.typingIndicatorBubble);if(n.length){for(var i=0;i<this.typingParticipants.length;i+=1)this.typingParticipants[i].id==e.id&&this.typingParticipants.splice(i,1);""===(t=this._composeTypingParticipantsText(this.typingParticipants))?n.remove():n.find("."+x.author).first().text(t)}},_composeTypingParticipantsText:function(e){var t=this.options.messages,n=1==e.length?t.isTyping:t.areTyping,r="";return 0===e.length?r:r=this.typingParticipants.map((function(e){return e.name})).join(", ").replace(/,(?!.*,)/gim,t.and.trimRight())+n},_removeTypingIndicator:function(){var e=this.element.find("."+x.typingIndicatorBubble);e.length&&(this.typingParticipants=[],e.remove())},_clearSelection:function(){var e=k.styles.selected;this.element.find("."+e).removeClass(e)},_scrollToBottom:function(){this.element.scrollTop(this.element.prop("scrollHeight"))}});o(!0,k,{styles:x})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},22:function(e,t){e.exports=n(5)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1129)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1041:function(e,t){e.exports=n(8)},1129:function(e,t,n){var r,o,l;n(3),o=[n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o="push",l=n.ui.Widget.extend({init:function(element,t){var l,c=this;r.fn.init.call(this,element,t),t=c.options,c._element(element),c._wrapper(element),c.position(),c._mode(),t.mini&&c._miniMode(),c._initDrawerItems(),t.mini&&t.mode!=o&&c._setBodyOffset(),l=this.userEvents=new n.UserEvents(t.mode!=o?e(document.body):this.drawerContainer,{fastTap:!0,allowSelection:!0});var h=function(t){e.contains(c.drawerItemsWrapper[0],t.event.target)&&c._itemClick(t),c.visible&&!c.trigger("hide",{sender:this})&&(c.hide(),t.preventDefault())};this.options.swipeToOpen?(l.bind("start",(function(e){c._start(e)})),l.bind("move",(function(e){c._update(e)})),l.bind("end",(function(e){c._end(e)})),l.bind("tap",h)):l.bind("press",h),t.minHeight&&t.mode==o&&c.drawerContainer.css("min-height",t.minHeight)},_element:function(){var element=this.element,t=this.options,n=this.contentElement=element.children().first();this.drawerElement=e(t.template),n.addClass("k-drawer-content"),element.addClass("k-widget k-drawer")},_wrapper:function(){var t=this.options,n=this.drawerElement,element=this.element,r=this.contentElement,l=this.drawerItemsWrapper=n.wrap("<div class='k-drawer-items'></div>").parent(),c=this.drawerWrapper=l.wrap("<div class='k-drawer-wrapper'></div>").parent(),h=this.drawerContainer=element.wrap("<div class='k-drawer-container'></div>").parent();t.mini?t.mini.width&&c.width(t.mini.width):c.width(0),t.mode===o?h.append(r):"overlay"===t.mode&&(h.after(r),e(document.body).prepend(h)),element.append(c)},_setBodyOffset:function(){var t=this.element.outerWidth();this.leftPositioned?e(document.body).css("padding-left",t):e(document.body).css("padding-right",t)},_initDrawerItems:function(){var e=this.drawerItemsWrapper,t=e.find("[data-role='drawer-item']"),n=e.find("[data-role='drawer-separator']");t.addClass("k-drawer-item"),n.addClass("k-drawer-item k-drawer-separator"),this._selectedItemIndex>=0&&(t.removeClass("k-state-selected"),t.eq(this._selectedItemIndex).addClass("k-state-selected"))},_mode:function(){var t,n=this.options,r=this.drawerContainer;n.mode==o?r.addClass("k-drawer-push"):(r.addClass("k-drawer-overlay"),(t=this.overlayContainer=e('<div class="k-overlay"></div>')).hide(),r.prepend(t))},_miniMode:function(){var t=this.options,n=this.drawerContainer,r=t.mini.width,o=this._miniTemplate=t.mini.template&&e(t.mini.template),l=this.drawerItemsWrapper,c=this.drawerWrapper;n.addClass("k-drawer-mini"),o&&l.html(o),r&&c.width(r),this.minWidth=t.mini.width||this.drawerWrapper.width()},show:function(){var e=this.drawerWrapper,t=this.drawerContainer,n=this.options,r=t.hasClass("k-drawer-expanded"),o=this._miniTemplate,l=this.drawerElement,c=this.drawerItemsWrapper;r||(t.addClass("k-drawer-expanded"),this.visible=!0),o&&(c.html(l),this._initDrawerItems(),this._selectItem()),e.width(n.width),"overlay"===n.mode&&(this.overlayContainer.show(),this.visible=!0)},hide:function(){var e=this.drawerWrapper,t=this.drawerContainer,n=this.options,r=this.drawerItemsWrapper,o=this._miniTemplate,l=n.mini&&n.mini.width;this._miniTemplate&&(r.html(o),this._initDrawerItems(),this._selectItem()),n.mini?l?e.width(l):e.width(""):e.width(0),this.visible&&(t.removeClass("k-drawer-expanded"),this.visible=!1),"overlay"===n.mode&&this.overlayContainer.hide()},position:function(e){var t=this.options,n=e||t.position,r=this.drawerContainer;"right"==n?(r.removeClass("k-drawer-left"),r.addClass("k-drawer-right")):(r.removeClass("k-drawer-right"),r.addClass("k-drawer-left")),this.leftPositioned="left"===n},_start:function(e){var t=this.options,r=this.drawerWrapper,l=this.drawerItemsWrapper,c=e.sender;Math.abs(e.x.velocity)<Math.abs(e.y.velocity)||n.triggeredByInput(e.event)?c.cancel():(this.drawerMini&&l.html(this.drawerElement),r.css("transition","none"),t.mode!=o&&this.overlayContainer.show())},_update:function(e){this.options.mode==o?this._push(e):this._overlay(e)},_end:function(e){var t=e.x.velocity,n=this.options,r=this.drawerWrapper,o=r.width()>n.width/2;r.css("transition","all .3s ease-out"),(this.leftPositioned?t>-.8&&(t>.8||o):t<.8&&(t<-.8||o))?this.trigger("show",{sender:this})?(e.preventDefault(),this.hide()):this.show():this.trigger("hide",{sender:this})?(e.preventDefault(),this.show()):this.hide()},_overlay:function(e){var t,n,r=this.options,o=r.mini&&r.mini.width||this.minWidth||0,l=this.drawerWrapper;n=l.width()+(this.leftPositioned?e.x.delta:-e.x.delta),t=Math.min(Math.max(n,o),r.width),e.event.preventDefault(),e.event.stopPropagation(),l.width(t)},_push:function(e){var t,n,r=this.options,o=r.mini&&r.mini.width||this.minWidth||0,l=this.drawerWrapper;n=l.width()+(this.leftPositioned?e.x.delta:-e.x.delta),t=Math.min(Math.max(n,o),r.width),e.event.preventDefault(),e.event.stopPropagation(),l.width(t)},_selectItem:function(e){var t;if(e)return e.addClass("k-state-selected"),this.trigger("itemClick",{item:e,sender:this}),void(this._selectedItemIndex=e.index());(t=this._selectedItemIndex)&&this.drawerItemsWrapper.find("[data-role='drawer-item']").eq(t).addClass("k-state-selected")},_itemClick:function(t){var n;e(t.event.target).find(".k-drawer-item").length>0?n=e(t.event.target).find(".k-drawer-item"):e(t.event.target).closest(".k-drawer-item").length>0?n=e(t.event.target).closest(".k-drawer-item"):e(t.event.target).hasClass(".k-drawer-item")&&(n=e(t.event.target)),this.drawerItemsWrapper.find(".k-drawer-item").removeClass("k-state-selected"),this._selectItem(n)},destroy:function(){this.options.mode!=o&&(this.leftPositioned?e(document.body).css("padding-left",0):e(document.body).css("padding-right",0)),r.fn.destroy.call(this),this.userEvents.destroy(),n.destroy(this.element),this.element=this.drawerWrapper=this.drawerElement=this.drawerContainer=this.drawerItemsWrapper=this._miniTemplate=null},options:{name:"Drawer",position:"left",mode:"overlay",swipeToOpen:!0,width:280,mini:!1,template:""},events:["hide","show","itemClick"]});n.ui.plugin(l)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1263)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1010:function(e,t){e.exports=n(39)},1263:function(e,t,n){var r,o,l;n(3),o=[n(1010)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.ComboBox,l=/^\d+(\.\d+)?%$/i,c=o.extend({init:function(element,e){o.fn.init.call(this,element,e),this.list.addClass("k-dropdowngrid-popup k-popup-flush"),this._allColumnsWidthsAreSet(this.options)?this.list.width(this._calculateDropDownWidth(this.options)):this.options.dropDownWidth&&this.list.width(this.options.dropDownWidth)},options:{name:"MultiColumnComboBox",ns:".kendoMultiColumnComboBox",columns:[],dropDownWidth:null,filterFields:[]},setOptions:function(e){o.fn.setOptions.call(this,e),this._allColumnsWidthsAreSet(e)?this.list.width(this._calculateDropDownWidth(e)):this.options.dropDownWidth&&this.list.width(this.options.dropDownWidth)},_allColumnsWidthsAreSet:function(e){var t=e.columns;if(!t||!t.length)return!1;for(var i=0;i<t.length;i++){var n=t[i].width;if(!n||isNaN(parseInt(n,10))||l.test(n))return!1}return!0},_calculateDropDownWidth:function(e){for(var t=e.columns,r=n.support.scrollbar(),i=0;i<t.length;i++){var o=t[i].width;r+=parseInt(o,10)}return r},_wrapper:function(){o.fn._wrapper.call(this),this.wrapper.addClass("k-dropdowngrid")}});r.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1141)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1010:function(e,t){e.exports=n(39)},1011:function(e,t){e.exports=n(13)},1140:function(e,t){e.exports=n(33)},1141:function(e,t,n){var r,o,l;n(3),o=[n(1010),n(1011),n(1143),n(1144),n(1145),n(1146),n(1140),n(1147),n(1148),n(1149),n(1150),n(1151),n(1152),n(1153),n(1154),n(1155),n(1156),n(1157),n(1158),n(1159),n(1142),n(1160),n(1161),n(1162),n(1163),n(1164),n(1165),n(1166),n(1167),n(1168),n(1169),n(1170),n(1171),n(1172),n(1173),n(1174),n(1175),n(1176),n(1177),n(1178),n(1179)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1142:function(e,t){e.exports=n(316)},1143:function(e,t){e.exports=n(41)},1144:function(e,t){e.exports=n(21)},1145:function(e,t){e.exports=n(67)},1146:function(e,t){e.exports=n(126)},1147:function(e,t){e.exports=n(141)},1148:function(e,t){e.exports=n(23)},1149:function(e,t){e.exports=n(140)},1150:function(e,t){e.exports=n(204)},1151:function(e,t){e.exports=n(139)},1152:function(e,t){e.exports=n(27)},1153:function(e,t){e.exports=n(203)},1154:function(e,t){e.exports=n(317)},1155:function(e,t){e.exports=n(202)},1156:function(e,t){e.exports=n(318)},1157:function(e,t){e.exports=n(205)},1158:function(e,t){e.exports=n(319)},1159:function(e,t){e.exports=n(320)},1160:function(e,t){e.exports=n(321)},1161:function(e,t){e.exports=n(206)},1162:function(e,t){e.exports=n(322)},1163:function(e,t){e.exports=n(323)},1164:function(e,t){e.exports=n(324)},1165:function(e,t){e.exports=n(143)},1166:function(e,t){e.exports=n(142)},1167:function(e,t){e.exports=n(70)},1168:function(e,t){e.exports=n(325)},1169:function(e,t){e.exports=n(207)},1170:function(e,t){e.exports=n(326)},1171:function(e,t){e.exports=n(327)},1172:function(e,t){e.exports=n(328)},1173:function(e,t){e.exports=n(329)},1174:function(e,t){e.exports=n(330)},1175:function(e,t){e.exports=n(331)},1176:function(e,t){e.exports=n(332)},1177:function(e,t){e.exports=n(209)},1178:function(e,t){e.exports=n(210)},1179:function(e,t){e.exports=n(333)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(958)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},946:function(e,t){e.exports=n(27)},958:function(e,t,n){var r,o,l;n(3),o=[n(959),n(946)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=e.extend,o=n.ui.editor,l=o.EditorUtils,c=o.Dom,h=l.registerTool,d=o.ToolTemplate,f=o.RangeUtils,m=o.Command,v=n.keys,_="#k-editor-image-url",w="#k-editor-image-title",y="#k-editor-image-width",x="#k-editor-image-height",k=m.extend({init:function(e){m.fn.init.call(this,e),this.async=!0,this.attributes={}},insertImage:function(img,e){var t=this.attributes,n=f.documentFromRange(e);if(t.src&&"http://"!=t.src){var r=function(){setTimeout((function(){t.width||img.removeAttribute("width"),t.height||img.removeAttribute("height"),img.removeAttribute("complete")}))};if(!img)return(img=c.create(n,"img",t)).onload=img.onerror=r,e.deleteContents(),e.insertNode(img),img.nextSibling||c.insertAfter(n.createTextNode("\ufeff"),img),r(),e.setStartAfter(img),e.setEndAfter(img),f.selectRange(e),!0;img.onload=img.onerror=r,c.attr(img,t),r()}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-height"></div></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this.lockRange();this.insertImage(f.image(e),e)||this.releaseRange(e)},exec:function(){var dialog,e=this,t=e.lockRange(),o=!1,img=f.image(t),l=img&&img.getAttribute("width")||"",h=img&&img.getAttribute("height")||"",d=n.support.browser.msie,m=e.editor.options,k=m.messages,C=m.imageBrowser,S=!!(n.ui.ImageBrowser&&C&&C.transport&&void 0!==C.transport.read),T={title:k.insertImage,visible:!1,resizable:S};function D(n){var element=dialog.element,r=parseInt(element.find(y).val(),10),l=parseInt(element.find(x).val(),10);e.attributes={src:element.find(_).val().replace(/ /g,"%20"),alt:element.find(w).val()},e.attributes.width=null,e.attributes.height=null,!isNaN(r)&&r>0&&(e.attributes.width=r),!isNaN(l)&&l>0&&(e.attributes.height=l),o=e.insertImage(img,t),E(n),e.change&&e.change()}function E(n){n.preventDefault(),dialog.destroy(),c.windowFromDocument(f.documentFromRange(t)).focus(),o||e.releaseRange(t)}this.expandImmutablesIn(t),T.close=E,S&&(T.width=750);var element=(dialog=this.createDialog(e._dialogTemplate(S),T).toggleClass("k-filebrowser-dialog",S).find(".k-dialog-insert").click(D).end().find(".k-dialog-close").click(E).end().find(".k-edit-field input").keydown((function(e){e.keyCode==v.ENTER?D(e):e.keyCode==v.ESC&&E(e)})).end().find(_).val(img?img.getAttribute("src",2):"http://").end().find(w).val(img?img.alt:"").end().find(y).val(l).end().find(x).val(h).end().data("kendoWindow")).element;if(S&&(this._imageBrowser=new n.ui.ImageBrowser(element.find(".k-imagebrowser"),r({},C)),this._imageBrowser.bind("change",(function(e){"f"===e.selected.get("type")&&element.find(_).val(this.value())})),this._imageBrowser.bind("apply",D)),d){var A=element.closest(".k-window").height();element.css("max-height",A)}dialog.center().open(),element.find(_).focus().select()}});n.ui.editor.ImageCommand=k,h("insertImage",new o.Tool({command:k,template:new d({template:l.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},959:function(e,t){e.exports=n(126)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(993),e.exports=n(993)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},939:function(e,t){e.exports=n(139)},993:function(e,t,n){var r,o,l;n(3),o=[n(939)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.ui,o=r.editor,l=r.Widget,c=e.extend,h=e.proxy,d=n.keys,f=".kendoEditor",m=o.EditorUtils,v=o.ToolTemplate,_=o.Tool,w=n._outerWidth,y=n._outerHeight,x="overflowAnchor",k=".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor:visible,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input",C={"k-i-sup-script":"superscript","k-i-sub-script":"subscript","k-i-align-left":"justifyLeft","k-i-align-center":"justifyCenter","k-i-align-right":"justifyRight","k-i-align-justify":"justifyFull","k-i-list-unordered":"insertUnorderedList","k-i-list-ordered":"insertOrderedList","k-i-login":"import","k-i-indent-increase":"indent","k-i-indent-decrease":"outdent","k-i-link-horizontal":"createLink","k-i-unlink-horizontal":"unlink","k-i-image":"insertImage","k-i-file-add":"insertFile","k-i-html":"viewHtml","k-i-foreground-color":"foreColor","k-i-paint":"backColor","k-i-table-insert":"createTable","k-i-table-column-insert-left":"addColumnLeft","k-i-table-column-insert-right":"addColumnRight","k-i-table-row-insert-above":"addRowAbove","k-i-table-row-insert-below":"addRowBelow","k-i-table-row-delete":"deleteRow","k-i-table-column-delete":"deleteColumn","k-i-table-properties":"tableWizard","k-i-table-wizard":"tableWizardInsert","k-i-clear-css":"cleanFormatting","k-i-cells-merge-horizontally":"mergeCellsHorizontally","k-i-cells-merge-vertically":"mergeCellsVertically","k-i-cell-split-horizontally":"splitCellHorizontally","k-i-cell-split-vertically":"splitCellVertically"},S=_.extend({initialize:function(t,n){t.attr({unselectable:"on"});var r=n.editor.toolbar;t.attr("aria-controls",n.editor.element.attr("id")).on("click",e.proxy((function(){this.overflowPopup.toggle()}),r))},options:{name:x},command:e.noop,update:e.noop,destroy:e.noop});m.registerTool(x,new S({key:"",ctrl:!0,template:new v({template:m.overflowAnchorTemplate})}));var T=l.extend({init:function(element,e){var t=this;e=c({},e,{name:"EditorToolbar"}),l.fn.init.call(t,element,e),e.popup&&t._initPopup(),e.resizable&&e.resizable.toolbar&&(t._resizeHandler=n.onResize((function(){t.resize(!0)})),t.element.addClass("k-toolbar-resizable"))},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tablesInsert:["createTable"],tablesAddDelete:["addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],tablesMerge:["mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically"],advanced:["viewHtml","cleanFormatting","print","pdf","exportAs","import"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function(){var t=this;this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-handler-drag' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",(function(n){e(n.target).is(".k-icon")||(t.preventPopupHide=!0)})).on("focusout",(function(){t.options.editor.element.focusout()})).data("kendoWindow")},_toggleOverflowStyles:function(element,e){element.find("> li").toggleClass("k-item k-state-default",e).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",e)},_initOverflowPopup:function(t){var r=this;r.overflowPopup=e("<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>").appendTo("body").kendoPopup({anchor:t,origin:n.support.isRtl(r.element)?"bottom left":"bottom right",position:n.support.isRtl(r.element)?"top left":"top right",copyAnchorStyles:!1,open:function(e){this.element.is(":empty")&&e.preventDefault(),r._toggleOverflowStyles(this.element,!0),t.attr("aria-expanded",!0)},close:function(){t.attr("aria-expanded",!1)},activate:h(r.focusOverflowPopup,r)}).data("kendoPopup")},items:function(){var e,t,n=this.options.resizable&&this.options.resizable.toolbar;return t=this.element.children().find("> *, select"),n&&(e=this.overflowPopup,t=t.add(e.element.children().find("> *"))),t},focused:function(){return this.element.find(".k-state-focused").length>0||this.preventPopupHide||this.overflowPopup&&this.overflowPopup.visible()},toolById:function(e){var t,n=this.tools;for(t in n)if(t.toLowerCase()==e)return n[t]},toolGroupFor:function(t){var i,n=this.groups;if(this.isCustomTool(t))return"custom";for(i in n)if(e.inArray(t,n[i])>=0)return i},bindTo:function(t){var n=this,r=n.window;n._editor&&n._editor.unbind("select",h(n.resize,n)),n._editor=t,n.options.resizable&&n.options.resizable.toolbar&&t.options.tools.push(x),n.tools=n.expandTools(t.options.tools),n.render(),n.element.find(".k-combobox .k-input").keydown((function(t){var n=e(this).closest(".k-combobox").data("kendoComboBox"),r=t.keyCode;r==d.RIGHT||r==d.LEFT?n.close():r==d.DOWN&&(n.dropDown.isOpened()||(t.stopImmediatePropagation(),n.open()))})),n._attachEvents(),n.items().each((function(){var r=n._toolName(this),o="moreVertical"!==r?n.tools[r]:n.tools.overflowAnchor,l=o&&o.options,c=t.options.messages,h=l&&l.tooltip||c[r],d=e(this);if(o&&o.initialize){if("fontSize"==r||"fontName"==r){var f=c[r+"Inherit"];d.find("input").val(f).end().find("span.k-input").text(f).end()}o.initialize(d,{title:n._appendShortcutSequence(h,o),editor:n._editor}),d.closest(".k-widget",n.element).addClass("k-editor-widget"),d.closest(".k-colorpicker",n.element).next(".k-colorpicker").addClass("k-editor-widget")}})),t.bind("select",h(n.resize,n)),n.update(),r&&r.wrapper.css({top:"",left:"",width:""})},show:function(){var e,t,r,o=this.window,l=this.options.editor,c=n.support.browser;o&&(e=o.wrapper,t=l.element,e.is(":visible")&&this.window.options.visible||(e[0].style.width||e.width(this._getWindowWidth()),o._moved||(r=t.offset(),e.css({top:Math.max(0,parseInt(r.top,10)-y(e)-parseInt(this.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(r.left,10))})),(c.msie||c.edge)&&this._overlaps(t)?setTimeout((function(){o.open()}),0):o.open()))},_getWindowWidth:function(){var e=this.window.wrapper,t=this.options.editor.element;return w(t)-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)},_overlaps:function(e){var t=this.window.wrapper,n=t.offset(),r=n.left,o=n.top,l=e.offset(),c=l.left,h=l.top;return!(c+e.width()<r||c>r+t.width()||h+e.height()<o||h>o+t.height())},hide:function(){this.window&&this.window.close()},focus:function(){var element=this.element,e=this._editor.element.attr("tabIndex");element.attr("tabIndex",e||0).focus().find(k).first().focus(),e||0===e||element.removeAttr("tabIndex")},focusOverflowPopup:function(){var element=this.overflowPopup.element,e=this._editor.element.attr("tabIndex");element.closest(".k-animation-container").addClass("k-overflow-wrapper"),element.attr("tabIndex",e||0).find(k).first().focus(),e||0===e||element.removeAttr("tabIndex")},_appendShortcutSequence:function(e,t){if(!t.key)return e;var n=e+" (";return t.ctrl&&(n+="Ctrl + "),t.shift&&(n+="Shift + "),t.alt&&(n+="Alt + "),n+=t.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","autoLink"],tools:{},isCustomTool:function(e){return!(e in n.ui.Editor.defaultTools)},expandTools:function(t){var r,i,l,h,d=this._nativeTools,f=n.deepExtend({},n.ui.Editor.defaultTools),m={};for(i=0;i<t.length;i++)h=(r=t[i]).name,e.isPlainObject(r)?h&&f[h]?(m[h]=c({},f[h]),c(m[h].options,r)):((l=c({cssClass:"k-i-gear",type:"button",title:""},r)).name||(l.name="custom"),l.cssClass="k-"+l.name,l.template||"button"!=l.type||(l.template=o.EditorUtils.buttonTemplate,l.title=l.title||l.tooltip),m[h]={options:l}):f[r]&&(m[r]=f[r]);for(i=0;i<d.length;i++)m[d[i]]||(m[d[i]]=f[d[i]]);return m},render:function(){var t,template,r,o,l,c,d,i,f=this,m=f.tools,v=f._editor.element,element=f.element.empty(),_=f._editor.options.tools,w=n.support.browser,y=0,k=f.options.resizable&&f.options.resizable.toolbar,C=this.overflowFlaseTools;function S(template){var r;return template.getHtml?r=template.getHtml():(e.isFunction(template)||(template=n.template(template)),r=template(t)),e.trim(r)}function T(){d.children().length&&(k&&(d.data("position",y),y++),d.appendTo(element))}function D(t){t!==x?(d=e("<li class='k-tool-group' role='presentation' />")).data("overflow",-1===e.inArray(t,C)):d=e("<li class='k-overflow-tools' />")}for(element.empty(),_.length&&(o=_[0].name||_[0]),D(o),i=0;i<_.length;i++)o=_[i].name||_[i],!(t=m[o]&&m[o].options)&&e.isPlainObject(o)&&(t=o),template=t&&t.template,"break"==o&&(T(),e("<li class='k-row-break' />").appendTo(f.element),D(o)),template&&(l==(c=f.toolGroupFor(o))&&o!=x||(T(),D(o),l=c),o==x&&(template.options.title=f.options.messages.overflowAnchor),template=S(template),r=e(template).appendTo(d),"custom"==c&&(T(),D(o)),t.exec&&r.hasClass("k-tool")&&r.click(h(t.exec,v[0])));T(),e(f.element).children(":has(> .k-tool)").addClass("k-button-group"),f.options.popup&&w.msie&&w.version<9&&f.window.wrapper.find("*").attr("unselectable","on"),f.updateGroups(),k&&f._initOverflowPopup(f.element.find(".k-overflow-anchor")),f.angular("compile",(function(){return{elements:f.element}}))},updateGroups:function(){e(this.element).children().each((function(){e(this).addClass("k-state-disabled"),e(this).children().filter((function(){return!e(this).hasClass("k-state-disabled")})).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end().parent().removeClass("k-state-disabled").css("display","")}))},decorateFrom:function(body){this.items().filter(".k-decorated").each((function(){var t=e(this).data("kendoSelectBox");t&&t.decorate(body)}))},destroy:function(){l.fn.destroy.call(this);var e,t=this.tools;for(e in t)t[e].destroy&&t[e].destroy();this.window&&this.window.destroy(),this._resizeHandler&&n.unbindResize(this._resizeHandler),this.overflowPopup&&this.overflowPopup.destroy()},_attachEvents:function(){var t=this.overflowPopup?this.overflowPopup.element:e([]);this.attachToolsEvents(this.element.add(t))},attachToolsEvents:function(element){var t=this,r="[role=button].k-tool",o=r+":not(.k-state-disabled)",l=r+".k-state-disabled",c=[r,".k-dropdown",".k-colorpicker"].join(",");element.off(f).on("mouseenter"+f,o,(function(){e(this).addClass("k-state-hover")})).on("mouseleave"+f,o,(function(){e(this).removeClass("k-state-hover")})).on("mousedown"+f,c,(function(e){e.preventDefault()})).on("keydown"+f,k,(function(r){var o,l,c,h=this,f=t.options.resizable&&t.options.resizable.toolbar,m=n.support.isRtl(t.element)?-1:1,v=r.keyCode;function _(e,t,n){var r=t.find(k),o=r.index(h)+e;return n&&(o=Math.max(0,Math.min(r.length-1,o))),r[o]}v==d.RIGHT||v==d.LEFT?l=e(h).is(".k-dropdown")?e(h):_(v==d.RIGHT?1*m:-1*m,t.element,!0):!f||v!=d.UP&&v!=d.DOWN?v==d.HOME?(l=t.element.find(k)[0],r.preventDefault()):v==d.END?(l=(o=t.element.find(k).filter((function(){return"hidden"!==e(this).css("visibility")})))[o.length-1],r.preventDefault()):v==d.ESC?(t.overflowPopup&&t.overflowPopup.visible()&&t.overflowPopup.close(),l=t._editor):v!=d.TAB||r.ctrlKey||r.altKey||(c=f&&e(h.parentElement).hasClass("k-overflow-tool-group")?t.overflowPopup.element:t.element,r.shiftKey?l=_(-1,c):(l=_(1,c))&&"hidden"!==e(l).closest(".k-overflow-tools").css("visibility")||(l=t._editor)):l=_(v==d.DOWN?1:-1,t.overflowPopup.element,!0),l&&(r.preventDefault(),l.focus()),v!==d.ENTER&&v!==d.SPACEBAR||!e(h).is("a")||e(h).attr("href")||t._executeToolCommand(h,r)})).on("click"+f,o,(function(e){t._executeToolCommand(this,e)})).on("click"+f,l,(function(e){e.preventDefault()}))},_executeToolCommand:function(t,n){var button=e(t);n.preventDefault(),n.stopPropagation(),button.removeClass("k-state-hover"),button.is("[data-popup]")||this._editor.exec(this._toolName(t))},_toolName:function(element){if(element){var t=element.className;/k-tool\b/i.test(t)&&(t=element.firstChild.className);var r=e.grep(t.split(" "),(function(e){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)}));if(r[0]){var o=r[0];return C[o]&&(o=C[o]),o.indexOf("k-i-")>=0?n.toCamelCase(o.substring(o.indexOf("k-i-")+4)):o.substring(o.lastIndexOf("-")+1)}return"custom"}},refreshTools:function(){var t=this,n=t._editor,r=n.getRange(),l=o.RangeUtils.textNodes(r),c=n.options.immutables,h=t._immutablesContext(r);(l=o.Dom.filterBy(l,o.Dom.htmlIndentSpace,!0)).length||(l=[r.startContainer]),t.items().each((function(){var n=t.tools[t._toolName(this)];if(n){var r=e(this);n.update&&n.update(r,l),c&&t._updateImmutablesState(n,r,h)}})),this.update()},_immutablesContext:function(e){if(this._editor.options.immutables)return e.collapsed?o.Immutables.immutablesContext(e):0===o.RangeUtils.editableTextNodes(e).length},_updateImmutablesState:function(t,n,r){var l=t.name,c=n,h=t.options.trackImmutables;if(void 0===h&&(h=e.inArray(l,o.Immutables.toolsToBeUpdated)>-1),h){var d=r?"none":"";if(!n.is(".k-tool")){var f=n.data();for(var m in f)if(m.match(/^kendo[A-Z][a-zA-Z]*/)){c=f[m].wrapper;break}}c.css("display",d);var v=c.closest("li");0===v.children(":visible").length&&v.css("display",d)}},update:function(){this.updateGroups()},_resize:function(e){var t=e.width,n=this.options.resizable&&this.options.resizable.toolbar,r=this.overflowPopup,o=this.options.editor.element,l=this.window;this.refreshTools(),n&&(l&&(l.wrapper.width(this._getWindowWidth()),l._moved||l.wrapper.css({left:Math.max(0,parseInt(o.offset().left,10))})),r.visible()&&r.close(!0),this._refreshWidths(),this._shrink(t),this._stretch(t),this._toggleOverflowStyles(this.element,!1),this._toggleOverflowStyles(this.overflowPopup.element,!0),this.element.children("li.k-overflow-tools").css("visibility",r.element.is(":empty")?"hidden":"visible"))},_refreshWidths:function(){this.element.children("li").each((function(t,element){var n=e(element);n.data("outerWidth",w(n,!0))}))},_shrink:function(e){var t,n;if(e<this._groupsWidth())for(var i=(n=this._visibleGroups().filter(":not(.k-overflow-tools)")).length-1;i>=0&&(t=n.eq(i),!(e>this._groupsWidth()));i--)this._hideGroup(t)},_stretch:function(e){var t,n;if(e>this._groupsWidth()){n=this._hiddenGroups();for(var i=0;i<n.length&&(t=n.eq(i),!(e<this._groupsWidth())&&this._showGroup(t,e));i++);}},_hiddenGroups:function(){var t=this.overflowPopup,n=this.element.children("li.k-tool-group").filter(":hidden");return(n=n.add(t.element.children("li"))).sort((function(a,b){return e(a).data("position")>e(b).data("position")?1:-1})),n},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var t=0;return this._visibleGroups().each((function(){t+=e(this).data("outerWidth")})),Math.ceil(t)},_hideGroup:function(e){if(e.data("overflow")){var t=this.overflowPopup;e.detach().prependTo(t.element).addClass("k-overflow-tool-group")}else e.hide()},_showGroup:function(t,n){var r,o;return!(!(t.length&&n>this._groupsWidth()+t.data("outerWidth"))||t.hasClass("k-state-disabled")||(t.hasClass("k-overflow-tool-group")?(0===(r=t.data("position"))?t.detach().prependTo(this.element):(o=this.element.children().filter((function(t,element){return e(element).data("position")===r-1})),t.detach().insertAfter(o)),t.removeClass("k-overflow-tool-group")):t.show(),0))}});e.extend(o,{Toolbar:T})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(972)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},946:function(e,t){e.exports=n(27)},972:function(e,t,n){var r,o,l;n(3),o=[n(946)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=e.extend,o=n.ui.editor,l=o.EditorUtils,c=o.Command,h=o.Tool,d=o.ToolTemplate,f=o.Dom,m=c.extend({init:function(e){this.options=e,c.fn.init.call(this,e),this.attributes=null,this.async=!0},exec:function(){var content,r,o=this,c=o.editor,h=c.options,d=c.options.messages,dialog=e(n.template(m.template)(d)).appendTo(document.body),textarea=".k-editor-textarea";function v(e){e.preventDefault(),dialog.data("kendoWindow").destroy(),c.immutables&&(c.immutables.serializedImmutables={}),c.focus()}h.serialization.immutables=c.immutables,r=f.getAllComments(c.body),content=l.cacheComments(c.value(),r),content=m.indent(content),content=l.retrieveComments(content,r),h.serialization.immutables=t,this.createDialog(dialog,{title:d.viewHtml,close:v,visible:!1}).find(textarea).val(content).end().find(".k-dialog-update").click((function(e){h.deserialization.immutables=c.immutables,c.value(dialog.find(textarea).val()),h.deserialization.immutables=t,v(e),o.change&&o.change(),c.trigger("change")})).end().find(".k-dialog-close").click(v).end().data("kendoWindow").center().open(),dialog.find(textarea).focus()}});r(m,{template:"<div class='k-editor-dialog k-popup-edit-form k-viewhtml-dialog'><div class='k-edit-form-container'></div><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div></div>",indent:function(content){return content.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),n.ui.editor.ViewHtmlCommand=m,o.EditorUtils.registerTool("viewHtml",new h({command:m,template:new d({template:l.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(968)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},962:function(e,t){e.exports=n(70)},968:function(e,t,n){var r,o,l;n(3),o=[n(962)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.Class,r=e.extend,o=t.ui.editor,l=o.Dom,c=o.RangeUtils,h=o.EditorUtils,d=o.Command,f=o.ToolTemplate,m=o.FormatTool,v=o.BlockFormatFinder,_=c.textNodes,w=o.EditorUtils.registerTool,y=v.extend({init:function(e){this.tag=e;var t=this.tags=["ul"==e?"ol":"ul",e];v.fn.init.call(this,[{tags:t}])},isFormatted:function(e){var t,i,n=[];for(i=0;i<e.length;i++)(t=this.findFormat(e[i]))&&l.name(t)==this.tag&&n.push(t);if(n.length<1)return!1;if(n.length!=e.length)return!1;for(i=0;i<n.length&&n[i].parentNode==t.parentNode;i++)if(n[i]!=t)return!1;return!0},findSuitable:function(e){var t=this.findFormat(e[0]);return t&&l.name(t)==this.tag?t:null}}),x=n.extend({init:function(e,t){this.finder=new y(e),this.tag=e,this.unwrapTag=t},isList:function(e){return l.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(t,n){var i,r,li=l.create(t.ownerDocument,"li"),c=this.immutables()?o.Immutables.immutable:e.noop;for(i=0;i<n.length;i++)if(r=n[i],l.is(r,"li"))t.appendChild(r);else if(this.isList(r))for(;r.firstChild;)t.appendChild(r.firstChild);else if(l.is(r,"td")){for(;r.firstChild;)li.appendChild(r.firstChild);t.appendChild(li),r.appendChild(t),t=t.cloneNode(!1),li=li.cloneNode(!1)}else li.appendChild(r),l.isBlock(r)&&(t.appendChild(li),c(r)||l.unwrap(r),li=li.cloneNode(!1));li.firstChild&&t.appendChild(li)},containsAny:function(e,t){for(var i=0;i<t.length;i++)if(l.isAncestorOrSelf(e,t[i]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&l.isBlock(n))return!1;if((n=e.previousSibling)&&l.isBlock(n))return!1}return this.containsAny(e,t)||l.isInline(e)||3==e.nodeType},_parentLists:function(t){var n=l.closestEditable(t);return e(t).parentsUntil(n,"ul,ol")},split:function(e){var t,n,r,o=_(e);if(o.length){t=l.parentOfType(o[0],["li"]),n=l.parentOfType(o[o.length-1],["li"]),e.setStartBefore(t),e.setEndAfter(n);for(var i=0,h=o.length;i<h;i++){var d=this.finder.findFormat(o[i]);d&&((r=this._parentLists(d)).length?c.split(e,r.last()[0],!0):c.split(e,d,!0))}}},merge:function(e,t){for(var n,r=t.previousSibling;r&&("k-marker"==r.className||3==r.nodeType&&l.isWhitespace(r));)r=r.previousSibling;if(r&&l.name(r)==e){for(;t.firstChild;)r.appendChild(t.firstChild);l.remove(t),t=r}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&l.isWhitespace(n));)n=n.nextSibling;if(n&&l.name(n)==e){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);l.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|tr|td/.test(l.name(e))&&!e.attributes.contentEditable},applyOnSection:function(section,t){var n,r=this.tag,o=l.closestSplittableParent(t),c=[],h=this.finder.findSuitable(t);function d(){c.push(this)}h||(h=new y("ul"==r?"ol":"ul").findSuitable(t)),/table|tbody/.test(l.name(o))?n=e.map(t,(function(e){return l.parentOfType(e,["td"])})):(n=l.significantChildNodes(o),e.grep(n,l.isBlock).length&&(n=e.grep(n,e.proxy((function(e){return this.containsAny(e,t)}),this))),n.length||(n=t));for(var i=0;i<n.length;i++){var f=n[i];(!h||!l.isAncestorOrSelf(h,f))&&this.suitable(f,t)&&(h&&this.isList(f)?(e.each(f.children,d),l.remove(f)):c.push(f))}for(c.length==n.length&&this.breakable(o)&&(c=[o]),h||(h=l.create(o.ownerDocument,r),l.isBlock(c[0])&&l.mergeAttributes(c[0],h),l.insertBefore(h,c[0])),this.wrap(h,c);l.isBom(h.nextSibling);)l.remove(h.nextSibling);l.is(h,r)||l.changeTag(h,r),this.merge(r,h)},apply:function(t){var n,r,section,c,i=0,h=[],d=t.length,f=this.immutables()?o.Immutables.immutableParent:e.noop;function m(){n&&h.push({section:n,nodes:r})}for(i=0;i<d;i++)c=f(t[i])||t[i],section=l.closestEditable(c,["td","body"]),n&&section==n?r.push(c):(m(),r=[c],n=section);for(m(),i=0;i<h.length;i++)this.applyOnSection(h[i].section,h[i].nodes)},unwrap:function(ul){var e,li,p,t,n=ul.ownerDocument.createDocumentFragment(),r=this.unwrapTag;for(li=ul.firstChild;li;li=li.nextSibling){for(p=l.create(ul.ownerDocument,r||"p");li.firstChild;)t=li.firstChild,l.isBlock(t)?(p.firstChild&&(n.appendChild(p),p=l.create(ul.ownerDocument,r||"p")),n.appendChild(t)):p.appendChild(t);p.firstChild&&n.appendChild(p)}(e=this._parentLists(ul))[0]?(l.insertAfter(n,e.last()[0]),e.last().remove()):l.insertAfter(n,ul),l.remove(ul)},remove:function(e){for(var t,i=0,n=e.length;i<n;i++)(t=this.finder.findFormat(e[i]))&&this.unwrap(t)},toggle:function(e){var t=_(e),n=e.commonAncestorContainer;if(!t.length&&(e.selectNodeContents(n),!(t=_(e)).length)){var text=n.ownerDocument.createTextNode("");e.startContainer.appendChild(text),t=[text],e.selectNode(text.parentNode)}t=l.filterBy(t,l.htmlIndentSpace,!0),this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t)}}),k=d.extend({init:function(e){e.formatter=new x(e.tag),d.fn.init.call(this,e)}}),C=m.extend({init:function(e){this.options=e,m.fn.init.call(this,r(e,{finder:new y(e.tag)}))},command:function(e){return new k(r(e,{tag:this.options.tag}))}});r(o,{ListFormatFinder:y,ListFormatter:x,ListCommand:k,ListTool:C}),w("insertUnorderedList",new C({tag:"ul",template:new f({template:h.buttonTemplate,title:"Insert unordered list"})})),w("insertOrderedList",new C({tag:"ol",template:new f({template:h.buttonTemplate,title:"Insert ordered list"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(956)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},956:function(e,t,n){var r,o,l;n(3),o=[n(957)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.ui.editor,r=n.Tool,o=n.ToolTemplate,l=n.DelayedExecutionTool,c=n.Command,h=n.Dom,d=n.EditorUtils,f=n.RangeUtils,m=d.registerTool,v=l.extend({init:function(e){r.fn.init.call(this,t.deepExtend({},this.options,e)),this.type="kendoSelectBox",this.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t=e.value;if(!t)return e;if(e.tag||e.className)return e;var n=t.indexOf(".");return 0===n?e.className=t.substring(1):-1==n?e.tag=t:(e.tag=t.substring(0,n),e.className=t.substring(n+1)),e},command:function(t){var r=this,o=t.value;return o=this.toFormattingItem(o),new n.FormatCommand({range:t.range,formatter:function(){var t,l=(o.tag||o.context||"span").split(","),c=[{tags:l,attr:{className:o.className||""}}];return(t=e.inArray(l[0],h.inlineElements)>=0?new n.GreedyInlineFormatter(c):new n.GreedyBlockFormatter(c)).editor=r.editor,t}})},initialize:function(e,n){var o,l=n.editor,c=this.options,h=c.name,d=this;d.editor=l,e.width(c.width),o=e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:c.items||l.options[h],title:l.options.messages[h],autoSize:!0,change:function(){var e=this.dataItem();e&&r.exec(l,h,e.toJSON())},dataBound:function(){var i,e=this.dataSource.data();for(i=0;i<e.length;i++)e[i]=d.toFormattingItem(e[i])},highlightFirst:!1,template:t.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}).data("kendoSelectBox"),e.attr("title",n.title),o.wrapper.attr("title",n.title),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+h).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,n){for(var i=0;i<t.length;i++){var r=t[i],o=(r.tag||r.context||"")+(r.className?"."+r.className:"");if(e(n[0]).closest(o)[0]){if(1==n.length)return r.value;for(var l=1;l<n.length&&e(n[l]).closest(o)[0];l++)if(l==n.length-1)return r.value}}return""},update:function(t,n){var r=e(t).data(this.type);if(r){var i,o,c=r.dataSource,d=c.data(),f=h.commonAncestor.apply(null,n);if(f==h.closestEditable(f)||this._ancestor!=f){for(this._ancestor=f,i=0;i<d.length;i++)o=d[i].context,d[i].visible=!o||!!e(f).closest(o).length;c.filter([{field:"visible",operator:"eq",value:!0}]),l.fn.update.call(this,t,n),r.value(this.getFormattingValue(c.view(),n)),r.wrapper.toggleClass("k-state-disabled",!c.view().length)}}},destroy:function(){this._ancestor=null}}),_=c.extend({exec:function(){var e=this.lockRange(!0);this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(","),f.wrapSelectedElements(e);for(var t=f.mapAll(e,(function(e){return e})),n=t.length-1;n>=0;n--){var r=t[n];this.immutableParent(r)||this.clean(r)}this.releaseRange(e)},clean:function(r){if(r&&!h.isMarker(r)){var o=h.name(r);if("ul"==o||"ol"==o){var l=new n.ListFormatter(o),c=r.previousSibling,d=r.nextSibling;for(l.unwrap(r);c&&c!=d;c=c.nextSibling)this.clean(c)}else if("blockquote"==o)h.changeTag(r,"p");else if(1!=r.nodeType||h.insignificant(r))!function(e){var li=h.closestEditableOfType(e,["li"]);if(li){var r=new n.ListFormatter(h.name(li.parentNode)),o=t.ui.editor.W3CRange.fromNode(e);o.selectNode(li),r.toggle(o)}}(r);else{for(var i=r.childNodes.length-1;i>=0;i--)this.clean(r.childNodes[i]);r.removeAttribute("style"),r.removeAttribute("class")}e.inArray(o,this.tagsToClean)>-1&&h.unwrap(r)}},immutableParent:function(e){return this.immutables()&&n.Immutables.immutableParent(e)}});e.extend(n,{FormattingTool:v,CleanFormatCommand:_}),m("formatting",new v({template:new o({template:d.dropDownListTemplate,title:"Format"})})),m("cleanFormatting",new r({command:_,template:new o({template:d.buttonTemplate,title:"Clean formatting"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},957:function(e,t){e.exports=n(142)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(960)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},948:function(e,t){e.exports=n(23)},960:function(e,t,n){var r,o,l;n(3),o=[n(948)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=e.extend,o=e.proxy,l=n.ui.editor,c=l.EditorUtils,h=l.Command,d=l.Tool,f=c.registerTool,m=l.ToolTemplate,v='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>',_=h.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var t=this,n=t.editor,r=n.options.import,l=e('<input id="editorImport" name="files" type="file" />').kendoUpload({success:o(t._onUploadSuccess,t),progress:o(t._onUploadProgress,t),select:o(t._onUploadSelect,t),error:o(t._onUploadError,t),complete:o(t._onUploadComplete,t),showFileList:!1,multiple:!1,async:{saveUrl:r.proxyUrl,autoUpload:!0,saveField:"file"},validation:{allowedExtensions:r.allowedExtensions,maxFileSize:r.maxFileSize}}).getKendoUpload();return n._uploadWidget=l,l},_onUploadComplete:function(e){this._trigger("complete",e),e.sender.clearAllFiles(),this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,"")),this._trigger("success",e)},_onUploadProgress:function(e){this._trigger("progress",e)},_onUploadSelect:function(e){this._trigger("select",e),e.files[0].validationErrors||this._initLoadingOverlay()},_onUploadError:function(e){this._trigger("error",e)},_trigger:function(e,t){var n=this.editor,r=n.options.import;"function"==typeof r[e]&&r[e].call(n,t)},_initLoadingOverlay:function(){var t=this.editor.body;l.Dom.is(t,"body")?this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(v):this._container=e(t).append(v),n.ui.progress(this._container,!0)},_removeLoadingOverlay:function(){n.ui.progress(this._container,!1),e(this._iframeWrapper).css({position:""}),delete this._container,delete this._iframeWrapper}});r(l,{ImportCommand:_}),f("import",new d({command:_,template:new m({template:c.buttonTemplate,title:"Import"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(947)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},947:function(e,t,n){var r,o,l;n(3),o=[n(948)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=e.extend,o=e.proxy,l=n.ui.editor,c=l.EditorUtils,h=l.Command,d=l.Tool,f=c.registerTool,m=l.ToolTemplate,v=h.extend({init:function(e){this.options=e,h.fn.init.call(this,e),this.attributes=null,this.exportType=e.exportType},exec:function(){var e=this.lockRange(!0);this.postToProxy(),this.releaseRange(e)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var t=this.editor.options.exportAs,form=e("<form>").attr({action:t&&t.proxyURL||"",method:"POST"});return form.append([this.valueInput(),this.exportTypeInput(),this.fileNameInput()]),form},valueInput:function(){var t=this.editor;return e("<input>").attr({value:t.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){return e("<input>").attr({value:this.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var t=this.editor,n=t.options.exportAs,r=n&&n.fileName||t.element.attr("id")||"editor";return e("<input>").attr({value:r,name:"fileName",type:"hidden"})}}),_=d.extend({init:function(e){d.fn.init.call(this,n.deepExtend({},this.options,e)),this.type="kendoSelectBox"},options:{items:[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}],width:115},command:function(e){var t=e.value;return new l.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var r,l=t.editor,c=this.options,h=c.name,d=o(this.changeHandler,this),f=c.items||l.options[h];f.unshift({text:l.options.messages[h],value:""}),this.editor=l,e.width(c.width),r=e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:f,autoSize:!0,change:d,open:function(e){var t=e.sender;t.items()[0].style.display="none",t.unbind("open")},highlightFirst:!1,template:n.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}).data("kendoSelectBox"),e.attr("title",t.title),r.wrapper.attr("title",t.title),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+h).find("*").addBack().attr("unselectable","on")},changeHandler:function(e){var t=e.sender,n=t.dataItem(),r=n&&n.value;this._exec(r),t.value("")},_exec:function(e){e&&d.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});r(l,{ExportAsTool:_,ExportAsCommand:v}),f("exportAs",new _({template:new m({template:c.dropDownListTemplate,title:"Export As"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},948:function(e,t){e.exports=n(23)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(961)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},961:function(e,t,n){var r,o,l;n(3),o=[n(962)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.Class,o=e.extend,l=n.ui.editor,c=l.Dom,h=l.EditorUtils,d=h.registerTool,f=l.Command,m=l.Tool,v=l.ToolTemplate,_=l.RangeUtils,w=c.blockElements,y=l.BlockFormatFinder,x=l.BlockFormatter;function k(n,r){var o="rtl"==e(n).css("direction")?"Right":"Left",l="td"!=c.name(n)?"margin"+o:"padding"+o;if(r===t)return n.style[l]||0;r>0?n.style[l]=r+"px":(n.style[l]="",n.style.cssText||n.removeAttribute("style"))}var C=r.extend({init:function(){this.finder=new y([{tags:c.blockElements}])},apply:function(t){t=c.filterBy(t,c.htmlIndentSpace,!0);var i,n,r,o,l,h=this.finder.findSuitable(t),d=[];if((h=this.mapImmutables(h)).length){for(i=0,n=h.length;i<n;i++)c.is(h[i],"li")?e(h[i]).index()?e.inArray(h[i].parentNode,d)<0&&d.push(h[i]):d.push(h[i].parentNode):d.push(h[i]);for(;d.length;)if(r=d.shift(),c.is(r,"li")){o=r.parentNode;var f=(l=e(r).prev("li")).find("ul,ol").last(),m=e(r).children("ul,ol")[0];if(m&&l[0])f[0]?(f.append(r),f.append(e(m).children()),c.remove(m)):(l.append(m),m.insertBefore(r,m.firstChild));else for((m=l.children("ul,ol")[0])||(m=c.create(r.ownerDocument,c.name(o)),l.append(m));r&&r.parentNode==o;)m.appendChild(r),r=d.shift()}else{var v=parseInt(k(r),10)+30;k(r,v);for(var _=0;_<d.length;_++)e.contains(r,d[_])&&d.splice(_,1)}}else new x([{tags:["p"]}],{style:{marginLeft:30}}).apply(t)},mapImmutables:function(t){if(this.immutables){var n=[];return e.map(t,(function(t){var r=l.Immutables.immutableParent(t);if(r){if(-1!==e.inArray(r,n))return null;n.push(r)}return r||t}))}return t},remove:function(t){t=c.filterBy(t,c.htmlIndentSpace,!0);var n,i,r,o,l,h,d,f,m=this.finder.findSuitable(t);for(i=0,r=(m=this.mapImmutables(m)).length;i<r;i++){if((d=e(m[i])).is("li")){if((l=(o=d.parent()).parent()).is("li,ul,ol")&&!k(o[0])){if(n&&e.contains(n,l[0]))continue;(h=d.nextAll("li")).length&&e(o[0].cloneNode(!1)).appendTo(d).append(h),l.is("li")?d.insertAfter(l):d.appendTo(l),o.children("li").length||o.remove();continue}if(n==o[0])continue;n=o[0]}else n=m[i];f=parseInt(k(n),10)-30,k(n,f)}}}),S=f.extend({init:function(t){t.formatter={toggle:e.proxy((function(e){var t=new C;t.immutables=this.editor&&this.editor.options.immutables,t.apply(_.nodes(e))}),this)},f.fn.init.call(this,t)}}),T=f.extend({init:function(t){t.formatter={toggle:e.proxy((function(e){var t=new C;t.immutables=this.editor&&this.editor.options.immutables,t.remove(_.nodes(e))}),this)},f.fn.init.call(this,t)}}),D=m.extend({init:function(e){m.fn.init.call(this,e),this.finder=new y([{tags:w}])},initialize:function(t,n){m.fn.initialize.call(this,t,n),e.extend(this.options,{immutables:n.editor&&n.editor.options.immutables}),t.addClass("k-state-disabled")},update:function(t,n){var r,o,i,h,d,f,m=this.finder.findSuitable(n);for(i=0,h=m.length;i<h;i++)if(d=m[i],this.options.immutables&&(f=l.Immutables.immutableParent(d))&&(d=f),(r=k(d))||(o=e(d).parents("ul,ol").length,r=c.is(d,"li")&&(o>1||k(d.parentNode))||c.ofType(d,["ul","ol"])&&o>0),r)return void t.removeClass("k-state-disabled");t.addClass("k-state-disabled").removeClass("k-state-hover")}});o(l,{IndentFormatter:C,IndentCommand:S,OutdentCommand:T,OutdentTool:D}),d("indent",new m({command:S,template:new v({template:h.buttonTemplate,title:"Indent"})})),d("outdent",new D({command:T,template:new v({template:h.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},962:function(e,t){e.exports=n(70)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(966)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},962:function(e,t){e.exports=n(70)},966:function(e,t,n){var r,o,l;n(3),o=[n(962)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=e.extend,r=t.ui.editor,o=r.Dom,l=r.Command,c=r.Tool,h=r.BlockFormatter,d=o.normalize,f=r.RangeUtils,m=r.EditorUtils.registerTool,v=l.extend({init:function(e){this.options=e,l.fn.init.call(this,e)},_insertMarker:function(e,t){var n,marker=o.create(e,"a");return marker.className="k-marker",t.insertNode(marker),marker.parentNode||((n=t.commonAncestorContainer).innerHTML="",n.appendChild(marker)),d(marker.parentNode),marker},_moveFocus:function(e,t){if(o.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var n=f.textNodes(e)[0];if(!n){for(;t.childNodes.length&&!o.is(t.firstChild,"br");)t=t.firstChild;n=t}if(o.isEmpty(n))e.setStartBefore(n);else{o.emptyNode(n)&&(n.innerHTML="\ufeff");var r=n.firstChild||n;o.isDataNode(r)?e.setStart(r,0):e.setStartBefore(r)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=o.parentOfType(e.startContainer,t),r=o.parentOfType(e.endContainer,t);return n&&!r||!n&&r},_blankAfter:function(e){for(;e&&(o.isMarker(e)||""===o.stripBom(e.nodeValue));)e=e.nextSibling;return!e},exec:function(){var t,n,l,c,marker,li,m,v,_,w,y=this.getRange(),x=f.documentFromRange(y),k=r.emptyElementContent;if(this.expandImmutablesIn(y),w=this.shouldTrim(y),y.deleteContents(),marker=this._insertMarker(x,y),o.stripBomNode(marker.previousSibling),o.stripBomNode(marker.nextSibling),li=o.closestEditableOfType(marker,["li"]),m=o.closestEditableOfType(marker,"h1,h2,h3,h4,h5,h6".split(",")),v=o.is(marker.parentNode,"table")&&marker.parentNode,li){if(o.emptyNode(li)){c=o.create(x,"p"),o.next(li)&&((_=y.cloneRange()).selectNode(li),f.split(_,li.parentNode));var br=e("br",li);1==br.length&&br.remove();var C=li.parentNode,S=li.parentNode.children.length,T=S>1&&1==li.childNodes.length&&li.children[0];o.insertAfter(c,C),o.remove(1==S?li.parentNode:li),T&&T!==marker?(c.appendChild(T),c.appendChild(marker)):c.innerHTML=k,l=c}}else m&&this._blankAfter(marker)?(c=this._insertParagraphAfter(m),o.remove(marker),l=c):v&&(c=this._insertParagraphAfter(v),o.remove(marker),l=c);l||(li||m||new h([{tags:["p"]}]).apply([marker]),y.selectNode(marker),t=o.parentOfType(marker,[li?"li":m?o.name(m):"p"]),f.split(y,t,w),n=t.previousSibling,o.is(n,"li")&&n.firstChild&&!o.is(n.firstChild,"br")&&(n=n.firstChild),l=t.nextSibling,this.clean(n,{links:!0}),this.clean(l,{links:!0}),o.is(l,"li")&&l.firstChild&&!o.is(l.firstChild,"br")&&(l=l.firstChild),o.remove(t),d(n)),d(l),this._moveFocus(y,l),y.collapse(!0),o.scrollTo(l,!0),f.selectRange(y)},_insertParagraphAfter:function(e){var t=this.getRange(),n=f.documentFromRange(t),l=r.emptyElementContent,c=o.create(n,"p");return o.insertAfter(c,e),c.innerHTML=l,c},clean:function(t,n){var l=t;if(t.firstChild&&o.is(t.firstChild,"br")&&o.remove(t.firstChild),o.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){for(var c=!1;t.firstChild&&1==t.firstChild.nodeType;)c=c||o.significantNodes(t.childNodes).length>1,t=t.firstChild;if(o.isEmpty(t)||!/^\s*$/.test(t.innerHTML)||c||(e(l).find(".k-br").remove(),t.innerHTML=r.emptyElementContent),n&&n.links)for(;t!=l;){if(o.is(t,"a")&&o.emptyNode(t)){o.unwrap(t);break}t=t.parentNode}}}}),_=l.extend({init:function(e){this.options=e,l.fn.init.call(this,e)},exec:function(){var e=this.getRange();this.expandImmutablesIn(e);var n,br=o.create(f.documentFromRange(e),"br"),r=e.startContainer,l=t.support.browser,c=l.msie&&l.version<11,h=o.is(r,"table")&&r;e.deleteContents(),h?o.insertAfter(br,h):e.insertNode(br),d(br.parentNode),c||br.nextSibling&&!o.isWhitespace(br.nextSibling)||((n=br.cloneNode(!0)).className="k-br",o.insertAfter(n,br)),e.setStartAfter(br),e.collapse(!0),o.scrollTo(br.nextSibling||br,!0),f.selectRange(e)}});n(r,{ParagraphCommand:v,NewLineCommand:_}),m("insertLineBreak",new c({key:13,shift:!0,command:_})),m("insertParagraph",new c({key:13,command:v}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(950)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},950:function(e,t,n){var r,o,l;n(3),o=[n(951),n(952)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=e.extend,o=n.ui.editor,l=o.EditorUtils,c=o.Dom,h=l.registerTool,d=o.ToolTemplate,f=o.RangeUtils,m=o.Command,v=o.LinkFormatter,_=f.textNodes,w=n.keys,y="#k-editor-file-url",x="#k-editor-file-text",k="#k-editor-file-title",C=m.extend({init:function(e){m.fn.init.call(this,e),this.formatter=new v,this.async=!0,this.attributes={}},insertFile:function(e,t){var n=this.attributes,r=f.documentFromRange(t);if(n.href&&"http://"!=n.href){if(!e)return(e=c.create(r,"a",{href:n.href})).innerHTML=n.innerHTML,e.title=n.title,t.deleteContents(),t.insertNode(e),e.nextSibling||c.insertAfter(r.createTextNode("\ufeff"),e),t.setStartAfter(e),t.setEndAfter(e),f.selectRange(t),!0;c.attr(e,n)}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-text">#: messages.fileText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-file-text"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-file-title"></div></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this.lockRange();this.formatter.apply(e,this.attributes),this.releaseRange(e)},exec:function(){var dialog,e=this,t=e.lockRange(),o=_(t),l=!1,h=o.length?this.formatter.finder.findSuitable(o[0]):null,d=n.support.browser.msie,m=e.editor.options,v=m.messages,C=m.fileBrowser,S=!!(n.ui.FileBrowser&&C&&C.transport&&void 0!==C.transport.read),T={title:v.insertFile,visible:!1,resizable:S};function D(n){var element=dialog.element,r=element.find(y).val().replace(/ /g,"%20"),o=element.find(x).val(),title=element.find(k).val();e.attributes={href:r,innerHTML:""!==o?o:r,title:title},l=e.insertFile(h,t),E(n),e.change&&e.change()}function E(n){n.preventDefault(),dialog.destroy(),c.windowFromDocument(f.documentFromRange(t)).focus(),l||e.releaseRange(t)}this.expandImmutablesIn(t),T.close=E,S&&(T.width=750);var element=(dialog=this.createDialog(e._dialogTemplate(S),T).toggleClass("k-filebrowser-dialog",S).find(".k-dialog-insert").click(D).end().find(".k-dialog-close").click(E).end().find(".k-edit-field input").keydown((function(e){e.keyCode==w.ENTER?D(e):e.keyCode==w.ESC&&E(e)})).end().find(y).val(h?h.getAttribute("href",2):"http://").end().find(x).val(h?h.innerText:"").end().find(k).val(h?h.title:"").end().data("kendoWindow")).element;if(S&&(e._fileBrowser=new n.ui.FileBrowser(element.find(".k-filebrowser"),r({},C)),e._fileBrowser.bind("change",(function(e){"f"===e.selected.get("type")&&element.find(y).val(this.value())})),e._fileBrowser.bind("apply",D)),d){var A=element.closest(".k-window").height();element.css("max-height",A)}dialog.center().open(),element.find(y).focus().select()}});n.ui.editor.FileCommand=C,h("insertFile",new o.Tool({command:C,template:new d({template:l.buttonTemplate,title:"Insert File"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},951:function(e,t){e.exports=n(127)},952:function(e,t){e.exports=n(205)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(945)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},945:function(e,t,n){var r,o,l;n(3),o=[n(946)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,o=r.RangeUtils,l=r.Dom,c=r.RestorePoint,h=r.Marker,d=t.support.browser,f=e.extend,m=n.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.cleaners=[new _(t),new w(t),new y(t),new x(t),new C(t),new S(t),new A(t),new I(t)]},htmlToFragment:function(html){var e=this.editor.document,t=l.create(e,"div"),n=e.createDocumentFragment();for(t.innerHTML=html;t.firstChild;)n.appendChild(t.firstChild);return n},isBlock:function(html){return/<(div|p|ul|ol|table|h[1-6])/i.test(html)},_startModification:function(){var e,t,n=this.editor;if(!this._inProgress)return this._inProgress=!0,e=n.getRange(),t=new c(e,n.body),l.persistScrollTop(n.document),{range:e,restorePoint:t}},_endModification:function(e){r._finishUpdate(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1},_contentModification:function(e,t){var n=this,r=n.editor,o=n._startModification();o&&(e.call(n,r,o.range),setTimeout((function(){t.call(n,r,o.range),n._endModification(o)})))},_removeBomNodes:function(e){for(var t=o.textNodes(e),i=0;i<t.length;i++)t[i].nodeValue=l.stripBom(t[i].nodeValue)||t[i].nodeValue},_onBeforeCopy:function(e){var marker=new h;marker.add(e),this._removeBomNodes(e),marker.remove(e),this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange()),this._contentModification(e.noop,e.noop)},_fileToDataURL:function(t){var n=e.Deferred(),r=new FileReader;return t instanceof window.File||!t.getAsFile||(t=t.getAsFile()),r.onload=e.proxy(n.resolve,n),r.readAsDataURL(t),n.promise()},_triggerPaste:function(html,e){var t={html:html||""};t.html=t.html.replace(/\ufeff/g,""),this.editor.trigger("paste",t),this.paste(t.html,e||{})},_handleImagePaste:function(e){if("FileReader"in window&&!(d.msie&&d.version>10)){var t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{},n=t.items||t.files;return this._insertImages(n)}},_insertImages:function(t){if(t){var n=e.grep(t,(function(e){return/^image\//i.test(e.type)}));if(!e.grep(t,(function(e){return/^text\/html/i.test(e.type)})).length&&n.length){var r=this._startModification();if(r)return e.when.apply(e,e.map(n,this._fileToDataURL)).done(e.proxy((function(){var t=Array.prototype.slice.call(arguments),html=e.map(t,(function(e){return'<img src="'+e.target.result+'" />'})).join("");this._triggerPaste(html),this._endModification(r)}),this)),!0}}},onpaste:function(n){"false"!==this.editor.body.contentEditable&&(this._handleImagePaste(n)?n.preventDefault():(this.expandImmutablesIn(),this._contentModification((function(r,o){var c=l.create(r.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"}),h=t.support.browser,body=r.body;if(this._decoreateClipboardNode(c,body),body.appendChild(c),h.webkit&&this._moveToCaretPosition(c,o),h.msie&&h.version<11){n.preventDefault();var d=r.createRange();d.selectNodeContents(c),r.selectRange(d);var f=r.document.body.createTextRange();f.moveToElementText(c),e(body).unbind("paste"),f.execCommand("Paste"),e(body).bind("paste",e.proxy(this.onpaste,this))}else{var m=r.createRange();m.selectNodeContents(c),r.selectRange(m)}o.deleteContents()}),(function(t,n){var r,html="";t.selectRange(n),(r=e(t.body).children(".k-paste-container")).each((function(){var e=this.lastChild;e&&l.is(e,"br")&&l.remove(e),html+=this.innerHTML})),r.remove(),this._triggerPaste(html,{clean:!0})}))))},ondragover:function(e){(d.msie||d.edge)&&(e.stopPropagation(),e.preventDefault())},ondrop:function(e){if("FileReader"in window){var t=(e.originalEvent||e).dataTransfer||{},n=t.items||t.files;this._insertImages(n)&&e.preventDefault()}},_decoreateClipboardNode:function(t,body){if((d.msie||d.webkit)&&((t=e(t)).css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"}),d.msie)){var n=e(body.ownerDocument.documentElement);t.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"});var r=n.css("color");r&&t.css("color",r);var o=n.css("fontFamily");o&&t.css("fontFamily",o);var l=n.css("fontSize");l&&t.css("fontSize",l)}},_moveToCaretPosition:function(t,n){var body=this.editor.body,r=l.offset(t,body),o=this._caretOffset(n,body),c="translate("+(o.left-r.left)+"px,"+(o.top-r.top)+"px)";e(t).css({"-webkit-transform":c,transform:c})},_caretOffset:function(e,body){var t,n=this.editor,r=l.create(n.document,"span",{innerHTML:"\ufeff"}),o=e.startContainer;if(e.collapsed){var c=l.isDataNode(o);c&&(l.isBom(o)||0===e.startOffset)?l.insertBefore(r,o):c&&e.startOffset===o.length?l.insertAfter(r,o):(e.insertNode(r),t=!0)}else o=o===body?o.childNodes[e.startOffset]:o,l.insertBefore(r,o);var h=l.offset(r,body),d=r.previousSibling,f=r.nextSibling;if(l.remove(r),t&&l.isDataNode(d)&&l.isDataNode(f)&&!l.isBom(d)&&!l.isBom(f)){var m=d.length;f.data=d.data+f.data,e.setStart(f,m),l.remove(d),e.collapse(!0),n.selectRange(e)}return h},expandImmutablesIn:function(e){var n=this.editor;if(n&&n.options.immutables){var body=n.body;if(e=e||n.getRange(),t.ui.editor.Immutables.expandImmutablesIn(e),e.startContainer===body&&0===e.startOffset){var r=body.ownerDocument.createTextNode("\ufeff");body.insertBefore(r,body.childNodes[0]),e.setStartBefore(r)}n.selectRange(e)}},splittableParent:function(e,t){var n,body;if(e)return l.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,body=t.ownerDocument.body,l.isInline(n))for(;n.parentNode!=body&&!l.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(html,t){var i,n,r,c=this.editor;if(this.expandImmutablesIn(),!(t=f({clean:!1,split:!0},t)).skipCleaners)for(i=0,n=this.cleaners.length;i<n;i++)this.cleaners[i].applicable(html)&&(html=this.cleaners[i].clean(html));t.clean&&(html=(html=html.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3")).replace(/<(a|span)[^>]*><\/\1>/gi,"")),html=(html=html.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,"<$1$2>&nbsp;</$1>")).replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var d=this.isBlock(html);c.focus();var m=c.getRange();m.deleteContents(),m.startContainer==c.document&&m.selectNodeContents(c.body);var marker=new h,v=marker.addCaret(m),_=this.splittableParent(d,v),w=!1,y=_!=c.body&&!l.is(_,"td");t.split&&y&&(d||l.isInline(_))&&(m.selectNode(v),o.split(m,_,!0),w=!0);var x=this.htmlToFragment(html);if(x.firstChild&&"k-paste-container"===x.firstChild.className){var k=[];for(i=0,n=x.childNodes.length;i<n;i++)k.push(x.childNodes[i].innerHTML);x=this.htmlToFragment(k.join("<br />"))}if(r=x.childNodes,e(r).filter("table").addClass("k-table").end().find("table").addClass("k-table"),e(r).each((function(e,t){l.isBlock(t)&&!l.isSelfClosing(t)&&""===t.innerHTML&&t.appendChild(c.document.createTextNode("\ufeff"))})),m.insertNode(x),_=this.splittableParent(d,v),w){for(;v.parentNode!=_;)l.unwrap(v.parentNode);l.unwrap(v.parentNode)}l.normalize(m.commonAncestorContainer),v.style.display="inline",l.restoreScrollTop(c.document),l.scrollTo(v),marker.removeCaret(m);var C=m.commonAncestorContainer.parentNode;m.collapsed&&"tbody"==l.name(C)&&(m.setStartAfter(e(C).closest("table")[0]),m.collapse(!0));var S=e(m.commonAncestorContainer.parentNode).closest("table");if(S.get(0)){for(var T=S.parent().contents(),D=T.length-1,E=T.get(D);null!==E.nodeValue&&(" "===E.nodeValue||""===E.nodeValue);)D-=1,E=T.get(D);E!==S.get(0)||S.parents("table").length||l.insertAfter(l.createEmptyNode(c.document,"p"),S[0])}c.selectRange(m)}}),v=n.extend({init:function(e){this.options=e||{},this.replacements=[]},clean:function(html,e){var i,t,n=e||this.replacements;for(i=0,t=n.length;i<t;i+=2)html=html.replace(n[i],n[i+1]);return html}}),_=v.extend({init:function(e){v.fn.init.call(this,e),this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(html){return!this.options.none&&/<script[^>]*>/i.test(html)}}),w=v.extend({init:function(e){v.fn.init.call(this,e),this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi," ",/\t/gi," ",/&nbsp;&nbsp; &nbsp;/gi," "]},applicable:function(html){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(html)}}),y=v.extend({init:function(e){v.fn.init.call(this,e),this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""],this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}])},convertFontMatch:function(e,t,n){var r=/face=['"]([^'"]+)['"]/i.exec(n),o=n&&r&&r[1];return t?"</span>":o?'<span style="font-family:'+o+'">':"<span>"},applicable:function(html){return/class="?Mso/i.test(html)||/style="[^"]*mso-/i.test(html)||/urn:schemas-microsoft-com:office/.test(html)},stripEmptyAnchors:function(html){return html.replace(/<a([^>]*)>\s*<\/a>/gi,(function(a,e){return!e||e.indexOf("href")<0?"":a}))},listType:function(p,e){var t,html=p.innerHTML,text=l.innerText(p),n=html.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i),symbol=n&&n[1],r=/^[a-z\d]/i.test(symbol),o=function(text){return text.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return n&&(t=!0),html=html.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),!t&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(html)||t&&/^.\u00a0+/.test(html)||symbol&&!r&&e?{tag:"ul",style:this._guessUnorderedListStyle(o(text))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(html)?{tag:"ol",style:this._guessOrderedListStyle(o(text))}:void 0},_convertToLi:function(p){var content,e=l.name(p);return 1==p.childNodes.length?content=p.firstChild.nodeType===l.nodeTypes.TEXT_NODE?l.innerText(p):p.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(l.remove(p.firstChild),3==p.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(p.firstChild.nodeValue)&&l.remove(p.firstChild),/^(&nbsp;|\s)+$/i.test(p.firstChild.innerHTML)&&l.remove(p.firstChild),content="p"!=e?"<"+e+">"+p.innerHTML+"</"+e+">":p.innerHTML),l.remove(p),l.create(document,"li",{innerHTML:content})},_guessUnorderedListStyle:function(symbol){return/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(symbol)?null:/^o/.test(symbol)?"circle":"square"},_guessOrderedListStyle:function(symbol){var e=null;return/^\d/.test(symbol)||(e=(/^[a-z]/.test(symbol)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(symbol)?"roman":"alpha")),e},extractListLevels:function(html){return html=html.replace(/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,(function(e,n,r){return t.format('data-list="{0}" data-level="{1}" {2}',n,r,e)}))},_createList:function(e,t){return l.create(document,e,{style:{listStyleType:t}})},lists:function(t){var n,li,r,o,c,h,f,i,p,m,v,_,w,y=e(t).find(l.blockElements.join(",")),x=-1,k={},C=["p","h1","h2","h3","h4","h5","h6"];for(i=0;i<y.length;i++){p=y[i];var S=(w=e(p).data()).list;if(n=l.name(p),!e(p).parents("table").length){var T=this.listType(p,w);if(!(m=T&&T.tag)||C.indexOf(n)<0)p.innerHTML?li&&!h&&li.appendChild(p):l.remove(p);else if(!d.msie){var D=m+S;k[v=w.level||parseFloat(p.style.marginLeft||0)]||(k[v]={}),(!r||r<0)&&(r=v,o=S,c=e(t).find("[data-list='"+o+"']:last")[0],f=this._createList(m,T.style),l.insertBefore(f,p),x=v,k[v][D]=f),h=c===p,_=k[v][D],(v>x||!_)&&(_=this._createList(m,T.style),k[v][D]=_,li.appendChild(_)),li=this._convertToLi(p),_.appendChild(li),h?r=x=-1:x=v}}}},removeAttributes:function(element){for(var e=element.attributes,i=e.length;i--;)"colspan"!=l.name(e[i])&&element.removeAttributeNode(e[i])},createColGroup:function(n){var r=n.cells,table=e(n).closest("table"),colgroup=table.children("colgroup");r.length<2||(colgroup.length&&(r=colgroup.children(),colgroup[0].parentNode.removeChild(colgroup[0])),(colgroup=e(e.map(r,(function(e){var n=e.width;return n&&0!==parseInt(n,10)?t.format('<col style="width:{0}px;"/>',n):"<col />"})).join(""))).is("colgroup")||(colgroup=e("<colgroup/>").append(colgroup)),colgroup.prependTo(table))},convertHeaders:function(t){var i,n=t.cells,r=e.map(n,(function(t){var n=e(t).children("p").children("strong")[0];if(n&&"strong"==l.name(n))return n}));if(r.length==n.length){for(i=0;i<r.length;i++)l.unwrap(r[i]);for(e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t),i=0;i<n.length;i++)l.changeTag(n[i],"th")}},removeParagraphs:function(t){var i,n,r,o;for(i=0;i<t.length;i++)for(this.removeAttributes(t[i]),n=0,r=(o=e(t[i]).children("p")).length;n<r;n++)n<r-1&&l.insertAfter(l.create(document,"br"),o[n]),l.unwrap(o[n])},removeDefaultColors:function(e){for(var i=0;i<e.length;i++)/^\s*color:\s*[^;]*;?$/i.test(e[i].style.cssText)&&l.unwrap(e[i])},tables:function(t){var n,r,o,i,l,c=e(t).find("table");for(i=0;i<c.length;i++){for(o=r=(n=c[i].rows)[0],l=1;l<n.length;l++)n[l].cells.length>o.cells.length&&(o=n[l]);this.createColGroup(o),this.convertHeaders(r),this.removeAttributes(c[i]),this.removeParagraphs(c.eq(i).find("td,th")),this.removeDefaultColors(c.eq(i).find("span"))}},headers:function(t){for(var n=e(t).find("p.MsoTitle"),i=0;i<n.length;i++)l.changeTag(n[i],"h1")},removeFormatting:function(t){e(t).find("*").each((function(){e(this).css({fontSize:"",fontFamily:""}),this.getAttribute("style")||this.style.cssText||this.removeAttribute("style")}))},clean:function(html){var e,t=this.options;return t.none?(html=v.fn.clean.call(this,html,this.junkReplacements),html=this.stripEmptyAnchors(html)):(html=t.msConvertLists?this.extractListLevels(html):html,html=v.fn.clean.call(this,html),html=this.stripEmptyAnchors(html),e=l.create(document,"div",{innerHTML:html}),this.headers(e),t.msConvertLists&&this.lists(e),this.tables(e),t.msAllFormatting&&this.removeFormatting(e),html=e.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")),html}}),x=v.extend({init:function(e){v.fn.init.call(this,e),this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(html){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(html)}}),k=v.extend({clean:function(html){var e=l.create(document,"div",{innerHTML:html});return(e=this.cleanDom(e)).innerHTML},cleanDom:function(e){return e}}),C=k.extend({cleanDom:function(t){var n=this.collectTags();return e(t).find(n).each((function(){l.unwrap(this)})),t},collectTags:function(){if(this.options.span)return"span"},applicable:function(){return this.options.span}}),S=k.extend({cleanDom:function(t){var n=this.collectAttr();return e(t).find("["+n.join("],[")+"]").removeAttr(n.join(" ")),t},collectAttr:function(){return this.options.css?["class","style"]:[]},applicable:function(){return this.options.css}}),T=function(){this.text="",this.add=function(text){this.text+=text}},D=n.extend({init:function(e){this.separators=e||{text:" ",line:"<br/>"},this.lines=[],this.inlineBlockText=[],this.resetLine()},appendText:function(text){3===text.nodeType&&(text=text.nodeValue),this.textContainer.add(text)},appendInlineBlockText:function(text){this.inlineBlockText.push(text)},flashInlineBlockText:function(){this.inlineBlockText.length&&(this.appendText(this.inlineBlockText.join(" ")),this.inlineBlockText=[])},endLine:function(){this.flashInlineBlockText(),this.resetLine()},html:function(){var e=this.separators,t="",n=this.lines;this.flashInlineBlockText();for(var i=0,r=n.length,o=r-1;i<r;i++){for(var line=n[i],l=0,c=line.length,h=c-1;l<c;l++)t+=line[l].text,l!==h&&(t+=e.text);i!==o&&(t+=e.line)}return t},resetLine:function(){this.textContainer=new T,this.line=[],this.line.push(this.textContainer),this.lines.push(this.line)}}),E=n.extend({init:function(e){this.callback=e},enumerate:function(e){if(e){var t=this.callback(e),n=e.firstChild;!t&&n&&this.enumerate(n),this.enumerate(e.nextSibling)}}}),A=v.extend({init:function(t){v.fn.init.call(this,t),this.hasText=!1,this.enumerator=new E(e.proxy(this.buildText,this))},clean:function(html){var e=l.create(document,"div",{innerHTML:html});return this.cleanDom(e)},cleanDom:function(e){return this.separators=this.getDefaultSeparators(),this.htmlLines=new D(this.separators),this.enumerator.enumerate(e.firstChild),this.hasText=!1,this.htmlLines.html()},buildText:function(e){if(l.isDataNode(e)){if(l.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line)),this.hasText=!0}else{if(l.isBlock(e)&&this.hasText)return(this.actions[l.name(e)]||this.actions.block)(this,e);l.isBr(e)&&this.htmlLines.appendText(this.separators.line)}},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){return this.options.all?{text:" ",line:" "}:{text:" ",line:"<br/>"}},actions:{ul:e.noop,ol:e.noop,table:e.noop,thead:e.noop,tbody:e.noop,td:function(e,t){var n=new A({all:!0}).cleanDom(t);return e.htmlLines.appendInlineBlockText(n),!0},block:function(e){e.htmlLines.endLine()}}}),I=v.extend({clean:function(html){return this.options.custom(html)},applicable:function(){return"function"==typeof this.options.custom}});f(r,{Clipboard:m,Cleaner:v,ScriptCleaner:_,TabCleaner:w,MSWordFormatCleaner:y,WebkitFormatCleaner:x,HtmlTagsCleaner:C,HtmlAttrCleaner:S,HtmlContentCleaner:A,HtmlTextLines:D,CustomCleaner:I})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},946:function(e,t){e.exports=n(27)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(965)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},946:function(e,t){e.exports=n(27)},965:function(e,t,n){var r,o,l;n(3),o=[n(946)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,o=r.RangeUtils,l=r.Dom,c=r.RestorePoint,h=r.Marker,d=t.support.browser,br='<br class="k-br">',f=e.extend,m=l.nodeTypes;function v(e,t,n){for(var r=e?e[t]:null;r&&!n(r);)r=r[t];return r}var _="td,th,caption",w=function(t){return!t.collapsed&&e(t.commonAncestorContainer).is("table,tbody,thead,tfoot,tr")},y=n.extend({remove:function(t){var marker=new h;marker.add(t,!1);var n=o.getAll(t,(function(t){return e(t).is("table,tbody,thead,tfoot,tr,td,th,caption")})),r=o.documentFromRange(t),c=marker.start,d=marker.end,f=_.split(","),m=l.parentOfType(c,f),v=l.parentOfType(d,f);this._removeContent(c,m,!0),this._removeContent(d,v,!1),e(n).each((function(i,t){((t=e(t)).is(_)?t:t.find(_)).each((function(e,t){t.innerHTML="&#65279;"}))})),m&&!c.previousSibling&&l.insertBefore(r.createTextNode("\ufeff"),c),v&&!d.nextSibling&&l.insertAfter(r.createTextNode("\ufeff"),d),m?t.setStartBefore(c):n[0]&&(m=(m=e(n[0])).is(_)?m:m.find(_).first()).length&&t.setStart(m.get(0),0),t.collapse(!0),l.remove(c),l.remove(d)},_removeContent:function(t,n,r){if(n){var o,c=r?"nextSibling":"previousSibling",h=function(t){for(;t&&!t[c];)t=t.parentNode;return t&&e.contains(n,t)?t[c]:null};for(t=h(t);t;)o=h(t),l.remove(t),t=o}}}),x=n.extend({init:function(e){this.editor=e},keydown:function(t){var n=this,o=n.editor,l=o.keyboard,h=l.isTypingKey(t),m=f(e.Event(),t);if(n.editor.trigger("keydown",m),m.isDefaultPrevented())return t.preventDefault(),!0;if(!m.isDefaultPrevented()&&h&&!l.isTypingInProgress()){var v=o.getRange(),body=o.body;return n.startRestorePoint=new c(v,body),w(v)&&(new y(o).remove(v),o.selectRange(v)),d.webkit&&!v.collapsed&&function(e,t){return t.startContainer===e&&t.endContainer===e&&0===t.startOffset&&t.endOffset==e.childNodes.length}(body,v)&&(body.innerHTML=""),o.immutables&&r.Immutables.immutablesContext(v)&&new r.BackspaceHandler(o).deleteSelection(v),l.startTyping((function(){n.endRestorePoint=r._finishUpdate(o,n.startRestorePoint)})),!0}return!1},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),!!t.isTypingInProgress()&&(t.endTyping(),!0)}}),k=n.extend({init:function(e){this.editor=e},_addCaret:function(e){var n=l.create(this.editor.document,"a");return!t.support.browser.chrome&&e.firstChild&&e.firstChild.nodeType===m.ELEMENT_NODE&&(e=e.firstChild),l.insertAt(e,n,0),l.stripBomNode(n.previousSibling),l.stripBomNode(n.nextSibling),n},_restoreCaret:function(e){var t=this.editor.createRange();!e.nextSibling&&l.isDataNode(e.previousSibling)?t.setStart(e.previousSibling,e.previousSibling.length):t.setStartAfter(e),t.collapse(!0),this.editor.selectRange(t),l.remove(e)},_handleDelete:function(e){var t=e.endContainer,n=l.closestEditableOfType(t,l.blockElements);if(n&&r.RangeUtils.isEndOf(e,n)){var o=l.next(n);if(!o||"p"!=l.name(o))return!1;var c=this._addCaret(o);return this._merge(n,o),this._restoreCaret(c),!0}return!1},_cleanBomBefore:function(e){for(var t=e.startOffset,n=e.startContainer,text=n.nodeValue,r=0;t-r>=0&&"\ufeff"==text[t-r-1];)r++;r>0&&(n.deleteData(t-r,r),e.setStart(n,Math.max(0,t-r)),e.collapse(!0),this.editor.selectRange(e))},_handleBackspace:function(t){var n,o=t.startContainer,li=l.closestEditableOfType(o,["li"]),c=l.closestEditableOfType(o,"p,h1,h2,h3,h4,h5,h6".split(",")),h=this.editor;if(l.isDataNode(o)){if(t.collapsed&&/^\s[\ufeff]+$/.test(o.nodeValue))return t.setStart(o,0),t.setEnd(o,o.length),h.selectRange(t),!1;this._cleanBomBefore(t)}n=v(c,"previousSibling",(function(e){return!l.htmlIndentSpace(e)})),t.collapsed&&t.startOffset!==t.endOffset&&t.startOffset<0&&(t.startOffset=0,t.endOffset=0,h.selectRange(t));var d=li&&r.RangeUtils.isStartOf(t,li),f=li&&e(li).index(),m=d&&f>0;if(m&&(c=li,n=l.prev(li)),c&&n&&l.is(n,"table")&&r.RangeUtils.isStartOf(t,c))return""===c.innerText&&(c.innerHTML="\ufeff"),!0;if(r.RangeUtils.isStartOf(t,c)&&(parseInt(c.style.marginLeft,10)>0||parseInt(c.style.marginRight,10)>0))return h.exec("outdent"),!0;if(c&&n&&r.RangeUtils.isStartOf(t,c)||m){var _=this._addCaret(c);return this._merge(n,c),this._restoreCaret(_),!0}if(d&&0===f){var w=li.firstChild;w||(li.innerHTML=r.emptyElementContent,w=li.firstChild);var y=new r.ListFormatter(l.name(li.parentNode),"p");return t.selectNodeContents(li),y.toggle(t),l.insignificant(w)?t.setStartBefore(w):t.setStart(w,0),h.selectRange(t),!0}var x=o.childNodes[t.startOffset-1],k=t,C=x&&l.closestEditableOfType(x,["a"]),S=v(x||o,"previousSibling",(function(e){return!l.isDataNode(e)||!l.isBom(e)&&e.length>0}));if((C||(0===t.startOffset||x)&&l.is(S,"a"))&&(C=C||S,(k=h.createRange()).setStart(C,C.childNodes.length),k.collapse(!0)),(C=C||l.closestEditableOfType(x||k.startContainer,["a"]))&&r.RangeUtils.isEndOf(k,C)){var T=new r.UnlinkCommand({range:k,body:h.body,immutables:!!h.immutables});h.execCommand(T),h._selectionChange()}return!1},_handleSelection:function(t){var n=t.commonAncestorContainer,table=l.closest(n,"table"),o=r.emptyElementContent,c=this.editor;if(w(t))return new y(c).remove(t),c.selectRange(t),!0;var marker=new h;marker.add(t,!1),t.commonAncestorContainer===c.body&&this._surroundFullyContent(marker,t),c.immutables&&this._handleImmutables(marker),this._surroundFullySelectedAnchor(marker,t),t.setStartAfter(marker.start),t.setEndBefore(marker.end);var d=t.startContainer,f=t.endContainer;return t.deleteContents(),"li"===f.tagName.toLocaleLowerCase()&&l.emptyNode(f)&&(t.selectNode(f),t.deleteContents()),table&&""===e(table).text()&&(t.selectNode(table),t.deleteContents()),n=t.commonAncestorContainer,"p"===l.name(n)&&""===n.innerHTML&&(n.innerHTML=o,t.setStart(n,0)),this._join(d,f),l.insertAfter(c.document.createTextNode("\ufeff"),marker.start),marker.remove(t),d=t.startContainer,"tr"==l.name(d)&&(d=d.childNodes[Math.max(0,t.startOffset-1)],t.setStart(d,l.getNodeLength(d))),t.collapse(!0),c.selectRange(t),l.isDataNode(d)&&!l.emptyNode(d.parentElement)&&this._cleanBomBefore(t),!0},_handleImmutables:function(marker){var e=r.Immutables.immutableParent,t=e(marker.start),n=e(marker.start);t&&l.insertBefore(marker.start,t),n&&l.insertAfter(marker.end,n),t&&l.remove(t),n&&n.parentNode&&l.remove(n)},_surroundFullyContent:function(marker,e){var t=e.commonAncestorContainer.children,n=t[0],r=t[t.length-1];this._moveMarker(marker,e,n,r)},_surroundFullySelectedAnchor:function(marker,t){var n=marker.start,r=e(n).closest("a").get(0),o=marker.end,l=e(o).closest("a").get(0);this._moveMarker(marker,t,r,l)},_moveMarker:function(marker,e,t,n){var r=marker.start,c=marker.end;t&&o.isStartOf(e,t)&&l.insertBefore(r,t),n&&o.isEndOf(e,n)&&l.insertAfter(c,n)},_root:function(e){for(;e&&"body"!=l.name(e)&&e.parentNode&&"body"!=l.name(e.parentNode);)e=e.parentNode;return e},_join:function(e,t){(e=this._root(e))!=(t=this._root(t))&&l.is(t,"p")&&this._merge(e,t)},_merge:function(e,t){for(l.removeTrailingBreak(e);e&&t.firstChild;)1==e.nodeType?(e=l.list(e)?e.children[e.children.length-1]:e)&&e.appendChild(t.firstChild):e.nodeType===m.TEXT_NODE?this._mergeWithTextNode(e,t.firstChild):e.parentNode.appendChild(t.firstChild);l.remove(t)},_mergeWithTextNode:function(e,t){e&&e.nodeType===m.TEXT_NODE&&(e.nextSibling&&this._isCaret(e.nextSibling)?l.insertAfter(t,e.nextSibling):l.insertAfter(t,e))},_isCaret:function(element){return e(element).is("a")},keydown:function(e){var n,o,l=this.editor,h=l.getRange(),d=e.keyCode,f=t.keys,m=d===f.BACKSPACE,del=d==f.DELETE;l.immutables&&l.immutables.keydown(e,h)||(!m&&!del||h.collapsed?m?n="_handleBackspace":del&&(n="_handleDelete"):n="_handleSelection",n&&(o=new c(h,l.body),this[n](h)&&(e.preventDefault(),r._finishUpdate(l,o))))},deleteSelection:function(e){this._handleSelection(e)},keyup:e.noop}),C=n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=r._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){return!!this.startRestorePoint&&this.startRestorePoint.html!=this.editor.body.innerHTML},keydown:function(e){var t=this.editor,n=t.keyboard;return n.isModifierKey(e)?(n.isTypingInProgress()&&n.endTyping(!0),this.startRestorePoint=new c(t.getRange(),t.body),!0):!!n.isSystem(e)&&(this.systemCommandIsInProgress=!0,this.changed()&&(this.systemCommandIsInProgress=!1,this.createUndoCommand()),!0)},keyup:function(){return!(!this.systemCommandIsInProgress||!this.changed()||(this.systemCommandIsInProgress=!1,this.createUndoCommand(),0))}}),S=n.extend({init:function(e){this.editor=e},keydown:function(e){!d.webkit||e.isDefaultPrevented()||!e.ctrlKey||65!=e.keyCode||e.altKey||e.shiftKey||(this.editor.options.immutables&&this._toSelectableImmutables(),this._selectEditorBody())},_selectEditorBody:function(){var e=this.editor,t=e.getRange();t.selectNodeContents(e.body),e.selectRange(t)},_toSelectableImmutables:function(){for(var body=this.editor.body,t=r.Immutables.immutable,n=l.emptyTextNode,o=body.firstChild,c=body.lastChild;n(o);)o=o.nextSibling;for(;n(c);)c=c.previousSibling;o&&t(o)&&e(br).prependTo(body),c&&t(c)&&e(br).appendTo(body)},keyup:e.noop}),T=n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||229==e},toolFromShortcut:function(t,n){var r,o,l=String.fromCharCode(n.keyCode),c=this._getShortcutModifier(n,navigator.platform);for(r in t)if(((o=e.extend({ctrl:!1,alt:!1,shift:!1},t[r].options)).key==l||o.key==n.keyCode)&&o.ctrl==c&&o.alt==n.altKey&&o.shift==n.shiftKey)return r},_getShortcutModifier:function(e,t){return t.toUpperCase().indexOf("MAC")>=0?e.metaKey:e.ctrlKey},toolsFromShortcut:function(t,n){var r,o,l=String.fromCharCode(n.keyCode),c=[],h=function(e){return e==l||e==n.keyCode||e==n.charCode};for(r in t)o=e.extend({ctrl:!1,alt:!1,shift:!1},t[r].options),(e.isArray(o.key)?e.grep(o.key,h).length>0:h(o.key))&&o.ctrl==n.ctrlKey&&o.alt==n.altKey&&o.shift==n.shiftKey&&c.push(t[r]);return c},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1},endTyping:function(t){this.clearTimeout(),t?this.stopTyping():this.timeout=window.setTimeout(e.proxy(this.stopTyping,this),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var i,n=this.handlers;for(i=0;i<n.length&&!n[i][t](e);i++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}});f(r,{TypingHandler:x,SystemHandler:C,BackspaceHandler:k,SelectAllHandler:S,Keyboard:T})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(949)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},946:function(e,t){e.exports=n(27)},949:function(e,t,n){var r,o,l;n(3),o=[n(946)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo.ui.editor,n=t.Command,r=t.EditorUtils,o=r.registerTool,l=t.Tool,c=t.ToolTemplate,h=e.extend,d=n.extend({init:function(e){this.async=!0,n.fn.init.call(this,e)},exec:function(){var e=this,t=e.lockRange(!0),n=e.editor;n._destroyResizings(),n.saveAsPDF().then((function(){e.releaseRange(t),n._initializeColumnResizing(),n._initializeRowResizing(),n._initializeTableResizing()}))}});h(t,{ExportPdfCommand:d}),o("pdf",new l({command:d,template:new c({template:r.buttonTemplate,title:"Export PDF"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(969)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},946:function(e,t){e.exports=n(27)},969:function(e,t,n){var r,o,l;n(3),o=[n(946)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.ui.editor,r=n.Command,o=n.EditorUtils,l=o.registerTool,c=n.Tool,h=n.ToolTemplate,d=e.extend,f=r.extend({init:function(e){r.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor;t.support.browser.msie?e.document.execCommand("print",!1,null):e.window.print&&e.window.print()}});d(n,{PrintCommand:f}),l("print",new c({command:f,template:new h({template:o.buttonTemplate,title:"Print"})}))}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(975)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},948:function(e,t){e.exports=n(23)},975:function(e,t,n){var r,o,l;n(3),o=[n(948),n(976),n(977),n(978)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.Math.abs,r=e.jQuery,o=r.extend,l=e.ui.editor,c=l.Dom,h=l.TableElementResizing,d=l.ResizingUtils,f=d.constrain,m=d.calculatePercentageRatio,v=d.getScrollBarWidth,_=d.inPercentages,w=d.toPercentages,y=d.toPixels,x=e._outerWidth,k=".kendoEditorColumnResizing",C="col-index",S=h.extend({options:{tags:["td","th"],min:20,rootElement:null,eventNamespace:k,rtl:!1,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:"k-column-resize-handle",marker:"k-column-resize-marker"},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="k-column-resize-handle"><div class="k-column-resize-marker"></div></div></div>'}},elementBorderHovered:function(e,t){var n=this.options,o=n.handle.width,l=e.offset().left+(n.rtl?0:x(e)),c=t.clientX+r(e[0].ownerDocument).scrollLeft();return c>l-o&&c<l+o},setResizeHandlePosition:function(e){var t=r(this.element).children("tbody"),n=this.options,o=n.rtl,l=n.handle.width,c=r(n.rootElement),h=c.is("body")?0:c.scrollTop(),d=c.is("body")?0:c.scrollLeft(),f=o?0:x(e),m=o?v(c[0]):0,_=e.offset().left-(c.offset().left+parseFloat(c.css("borderLeftWidth")))-parseFloat(e.css("marginLeft")),w=t.offset().top-(c.offset().top+parseFloat(c.css("borderTopWidth")))-parseFloat(t.css("marginTop"));this.resizeHandle.css({top:w+h,left:_+f+(d-m)-l/2,position:"absolute"})},setResizeHandleDimensions:function(){var e=r(this.element).children("tbody");this.resizeHandle.css({width:this.options.handle.width,height:e.height()})},setResizeHandleDragPosition:function(e){var t=r(r(e.currentTarget).data(this.options.handle.dataAttribute)),n=this.options,o=r(n.rootElement),l=n.handle?n.handle.width:0,c=n.min,h=n.rtl,d=x(t),m=t.offset().left-(o.offset().left+parseFloat(o.css("borderLeftWidth")))-parseFloat(t.css("marginLeft")),_=x(t.next()),w=r(this.resizeHandle),y=o.is("body")?0:o.scrollLeft(),k=h?v(o[0]):0,C=w.offset().left-(o.offset().left+parseFloat(o.css("borderLeftWidth")))-parseFloat(w.css("marginLeft")),S=f({value:C+(y-k)+e.x.delta,min:m+(y-k)-(h?_:0)+c,max:m+d+(y-k)+(h?0:_)-l-c});w.css({left:S})},resize:function(e){var t,n,o,l,h,d=r(r(e.currentTarget).data(this.options.handle.dataAttribute)),m=this.options,v=m.rtl?-1:1,_=m.min,w=v*e.x.initialDelta;c.reMapTableColumns(this.element,C),l=parseInt(d.attr(C),10),d.prop("colSpan")>1&&(d=r(this.element).find("[col-index="+(l+d.prop("colSpan")-1)+"]").eq(0),l=parseInt(d.attr(C),10)),h=r(this.element).find("[col-index="+(l+1)+"]:not([colspan])"),this._setTableComputedWidth(),this._setColumnsComputedWidth(),o=x(d),n=x(h),t=f({value:o+w,min:_,max:o+n-_}),this._resizeColumn(d[0],t),this._resizeTopAndBottomColumns(d[0],t),this._resizeAdjacentColumns(parseInt(d.attr(C),10),n,o,o-t),c.clearTableMappings(this.element,C)},_setTableComputedWidth:function(){var element=this.element;""===element.style.width&&(element.style.width=y(x(r(element))))},_setColumnsComputedWidth:function(){var i,e=r(this.element).children("tbody"),t=x(e),n=e.children("tr").children("td"),o=n.length,l=n.map((function(){return x(r(this))}));for(i=0;i<o;i++)_(n[i].style.width)?n[i].style.width=w(m(l[i],t)):n[i].style.width=y(l[i])},_resizeTopAndBottomColumns:function(e,t){var i,n=r(e).attr(C),o=r(this.element).children("tbody").children("tr").children(this.options.tags.join(",")).filter((function(){return r(this).attr(C)===n&&this!==e})),l=o.length;for(i=0;i<l;i++)this._resizeColumn(o[i],t)},_resizeColumn:function(e,t){_(e.style.width)?e.style.width=w(m(t,x(r(this.element).children("tbody")))):e.style.width=y(t)},_resizeAdjacentColumns:function(e,t,n,o){var i,l=r(this.element).children("tbody").children("tr").children(this.options.tags.join(",")).filter((function(){return parseInt(r(this).attr(C),10)===e+1})),c=l.length;for(i=0;i<c;i++)this._resizeAdjacentColumn(l[i],t,n,o)},_resizeAdjacentColumn:function(e,t,r,o){var l,c=this.options.min;l=f({value:t+o,min:c,max:n(r+t-c)}),this._resizeColumn(e,l)}});S.create=function(e){h.create(e,{name:"columnResizing",type:S,eventNamespace:k})},S.dispose=function(e){h.dispose(e,{eventNamespace:k})},o(l,{ColumnResizing:S})}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},976:function(e,t){e.exports=n(71)},977:function(e,t){e.exports=n(208)},978:function(e,t){e.exports=n(140)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(980)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},948:function(e,t){e.exports=n(23)},976:function(e,t){e.exports=n(71)},977:function(e,t){e.exports=n(208)},980:function(e,t,n){var r,o,l;n(3),o=[n(948),n(976),n(977)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.Math.abs,r=e.jQuery,o=r.extend,l=e.ui.editor,c=l.TableElementResizing,h=l.ResizingUtils,d=h.getScrollBarWidth,f=h.constrain,m=h.calculatePercentageRatio,v=h.inPercentages,_=h.toPercentages,w=h.toPixels,y=e._outerHeight,x=".kendoEditorRowResizing",k=c.extend({options:{tags:["tr"],min:20,rootElement:null,eventNamespace:x,rtl:!1,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:"k-row-resize-handle",marker:"k-row-resize-marker"},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="k-row-resize-handle"><div class="k-row-resize-marker-wrapper"><div class="k-row-resize-marker"></div></div></div></div>'}},elementBorderHovered:function(e,t){var n=this.options.handle.height,o=e.offset().top+y(e),l=t.clientY+r(e[0].ownerDocument).scrollTop();return l>o-n&&l<o+n},setResizeHandlePosition:function(e){var t=this.options,n=t.handle.height,o=r(t.rootElement),l=o.is("body")?0:o.scrollTop(),c=o.is("body")?0:o.scrollLeft(),h=t.rtl?d(o[0]):0,f=e.offset().left-(o.offset().left+parseFloat(o.css("borderLeftWidth")))-parseFloat(e.css("marginLeft")),m=e.offset().top-(o.offset().top+parseFloat(o.css("borderTopWidth")))-parseFloat(e.css("marginTop"));this.resizeHandle.css({top:m+y(e)+l-n/2,left:f+(c-h),position:"absolute"})},setResizeHandleDimensions:function(){this.resizeHandle.css({width:r(this.element).children("tbody").width(),height:this.options.handle.height})},setResizeHandleDragPosition:function(e){var t=this.options,n=t.min,o=r(this.element).children("tbody"),l=r(this.resizeHandle),c=r(e.currentTarget).data(t.handle.dataAttribute),h=r(c),d=r(t.rootElement),m=d.is("body")?0:d.scrollTop(),v=o.offset().top-(d.offset().top+parseFloat(d.css("borderTopWidth")))-parseFloat(o.css("marginTop")),_=h.offset().top-(d.offset().top+parseFloat(d.css("borderTopWidth")))-parseFloat(h.css("marginTop")),w=l.offset().top-(Math.max(0,d.offset().top)+parseFloat(d.css("borderTopWidth")))-parseFloat(l.css("marginTop")),x=f({value:w+m+e.y.delta,min:_+m+n,max:v+y(o)+m-t.handle.height-n});l.css({top:x})},resize:function(e){var t=this.options,o=r(e.currentTarget).data(t.handle.dataAttribute),l=y(r(o)),element=r(this.element),c=y(element),h=element.children("tbody").height(),d=o.style.height,m=f({value:l+e.y.initialDelta,min:t.min,max:n(h-t.min)});this._setRowsHeightInPixels(),o.style.height=w(m),this._setTableHeight(c+(m-l)),v(d)&&this._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var i,e=r(this.element).children("tbody").children("tr"),t=e.length,n=e.map((function(){return y(r(this))}));for(i=0;i<t;i++)e[i].style.height=w(n[i])},_setRowsHeightInPercentages:function(){var i,e=r(this.element).children("tbody"),t=e.height(),n=e.children("tr"),o=n.length,l=n.map((function(){return y(r(this))}));for(i=0;i<o;i++)n[i].style.height=_(m(l[i],t))},_setTableHeight:function(e){var element=this.element;v(element.style.height)?element.style.height=_(m(e,r(element).parent().height())):element.style.height=w(e)}});k.create=function(e){c.create(e,{name:"rowResizing",type:k,eventNamespace:x})},k.dispose=function(e){c.dispose(e,{eventNamespace:x})},o(l,{RowResizing:k})}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(984)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},948:function(e,t){e.exports=n(23)},976:function(e,t){e.exports=n(71)},984:function(e,t,n){var r,o,l;n(3),o=[n(948),n(985),n(976)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.Math,r=n.min,o=n.max,l=e.jQuery,c=l.contains,h=l.extend,d=l.proxy,f=e.support.browser,m=e.ui.editor,v=e.Class,_=m.TableResizeHandle,w=m.ResizingUtils,y=w.calculatePercentageRatio,x=w.constrain,k=w.inPercentages,C=w.inPixels,S=w.toPercentages,T=w.toPixels,D=e._outerWidth,E=e._outerHeight,A=".kendoEditorTableResizing",I="k-table";function M(e){return void 0===e}var R=v.extend({init:function(element,e){this.options=h({},this.options,e),this.handles=[],l(element).is("table")&&(this.element=element)},destroy:function(){l(this.element).off(A),this.element=null,l(this.options.rootElement).off("keydown"+A),this._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:!1,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:"northwest"},{direction:"north"},{direction:"northeast"},{direction:"east"},{direction:"southeast"},{direction:"south"},{direction:"southwest"},{direction:"west"}]},resize:function(e){var t=h({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);this._resizeWidth(t.deltaX,t.initialDeltaX),this._resizeHeight(t.deltaY,t.initialDeltaY),this.showResizeHandles()},_resizeWidth:function(e,t){var n,c,h,d,element=l(this.element),f=element[0].style.width,m=D(element),v=element.parent().width(),_=this._getMaxDimensionValue("width");0!==e&&(M(this._initialElementWidth)&&(this._initialElementWidth=m),d=x({value:this._initialElementWidth+t,min:this.options.minWidth,max:_}),k(f)?(m+e>v?(c=o(d,v),h=r(d,v)):(c=r(d,v),h=o(d,v)),n=S(y(c,h))):n=T(d),this._setColumnsWidth(),element[0].style.width=n)},_resizeHeight:function(e,t){var n,c,h,d,element=l(this.element),f=element[0].style.height,m=E(element),v=element.parent().height(),_=this._getMaxDimensionValue("height"),w=this.options.minHeight,C=this._hasRowsInPixels();0!==e&&(M(this._initialElementHeight)&&(this._initialElementHeight=m),d=x({value:this._initialElementHeight+t,min:w,max:_}),C&&e<0&&this._setRowsHeightInPercentages(),k(f)?(m+e>v?(c=o(d,v),h=r(d,v)):(c=r(d,v),h=o(d,v)),n=S(y(c,h))):n=T(d),element[0].style.height=n,C&&e<0&&this._setRowsHeightInPixels())},_getMaxDimensionValue:function(e){var element=l(this.element),t=e.toLowerCase(),n=this.options.rtl?-1:1,r=l(this.element).parent(),o=r[0],c=r[t](),h=n*("width"===e?r.scrollLeft():r.scrollTop());return o===element.closest("td")[0]?""!==o.style[t]||k(this.element.style[t])?c+h:1/0:c+h},_setColumnsWidth:function(){var i,element=l(this.element),e=element.parent()[0],t=element.closest("td"),n=t.closest("tr").children(),r=n.length;if(function(element){var e=element.style.width;return""!==e?!!k(e):!!l(element).hasClass(I)}(element[0])&&e===t[0]&&""===e.style.width)for(i=0;i<r;i++)n[i].style.width=T(l(n[i]).width())},_hasRowsInPixels:function(){for(var e=l(this.element).children("tbody").children("tr"),i=0;i<e.length;i++)if(""===e[i].style.height||C(e[i].style.height))return!0;return!1},_setRowsHeightInPercentages:function(){var i,e=l(this.element).children("tbody"),t=e.height(),n=e.children("tr"),r=n.length,o=n.map((function(){return E(l(this))}));for(i=0;i<r;i++)n[i].style.height=S(y(o[i],t))},_setRowsHeightInPixels:function(){var i,e=l(this.element).children("tbody").children("tr"),t=e.length,n=e.map((function(){return E(l(this))}));for(i=0;i<t;i++)e[i].style.height=T(n[i])},showResizeHandles:function(){this._initResizeHandles(),this._showResizeHandles()},_initResizeHandles:function(){var i,e=this.handles,t=this.options,n=this.options.handles,r=n.length;if(!(e&&e.length>0)){for(i=0;i<r;i++)this.handles.push(new _(h({appendTo:t.appendHandlesTo,resizableElement:this.element,rootElement:t.rootElement,rtl:t.rtl},n[i])));this._bindToResizeHandlesEvents()}},_destroyResizeHandles:function(){for(var e=this.handles?this.handles.length:0,i=0;i<e;i++)this.handles[i].destroy()},_showResizeHandles:function(){var i,e=(this.handles||[]).length;for(i=0;i<e;i++)this.handles[i].show()},_bindToResizeHandlesEvents:function(){var i,e,t=this.handles||[],n=t.length;for(i=0;i<n;i++)(e=t[i]).bind("dragStart",d(this._onResizeHandleDragStart,this)),e.bind("drag",d(this._onResizeHandleDrag,this)),e.bind("dragEnd",d(this._onResizeHandleDragEnd,this)),e.bind("mouseover",d(this._onResizeHandleMouseOver,this)),e.bind("mouseout",d(this._onResizeHandleMouseOut,this))},_onResizeHandleDragStart:function(){var element=l(this.element);element.addClass("k-table-resizing"),this._initialElementHeight=E(element),this._initialElementWidth=D(element),this._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){l(this.element).removeClass("k-table-resizing"),this._enableKeyboard()},_enableKeyboard:function(){l(this.options.rootElement).off("keydown"+A)},_disableKeyboard:function(){l(this.options.rootElement).on("keydown"+A,(function(e){e.preventDefault()}))}}),F=v.extend({create:function(e){var t=this;l(e.body).on("mousedown"+A,"table",(function(n){var r=n.target,o=n.currentTarget,l=e.tableResizing,element=l?l.element:null;if(l){if(element&&o!==element){if(c(o,element)&&element!==r&&c(element,r))return;element!==r&&(e._destroyTableResizing(),t._initResizing(e,o))}}else t._initResizing(e,o);e._showTableResizeHandles()})).on("mousedown"+A,(function(t){var n=e.tableResizing,element=n?n.element:null,r=t.target,o=l(r).hasClass("k-table-resize-handle-wrapper")||l(r).parents(".k-table-resize-handle-wrapper").length>0;!n||element===r||c(element,r)||o||e._destroyTableResizing()}))},dispose:function(e){l(e.body).off(A)},_initResizing:function(t,table){f.msie||f.mozilla||(t.tableResizing=new R(table,{appendHandlesTo:t.body,rtl:e.support.isRtl(t.element),rootElement:t.body}))}});F.current=new F,R.create=function(e){F.current.create(e)},R.dispose=function(e){F.current.dispose(e)},h(m,{TableResizing:R})}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},985:function(e,t){e.exports=n(209)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(990)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},990:function(e,t,n){var r,o,l;n(3),o=[n(991),n(992)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r={format:"0",min:0},o=["px","em"],l=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"],c={dataSource:[{className:"k-icon k-i-table-align-middle-left",value:"left"},{className:"k-icon k-i-table-align-middle-center",value:"center"},{className:"k-icon k-i-table-align-middle-right",value:"right"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},h={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-middle-left",value:"left middle"},{className:"k-icon k-i-table-align-middle-center",value:"center middle"},{className:"k-icon k-i-table-align-middle-right",value:"right middle"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},d={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},f=n.Class.extend({init:function(e){this.options=e},open:function(){var dialog,t=this,r=t.options,o=r.dialogOptions,l=r.table,c=r.messages,h=n.support.browser.msie;function d(e){e.preventDefault(),t.destroy(),dialog.destroy()}function f(e){d(e),r.closeCallback()}o.close=f,o.title=c.tableWizard,o.visible=r.visible;var element=(dialog=e(t._dialogTemplate(c)).appendTo(document.body).kendoWindow(o).closest(".k-window").toggleClass("k-rtl",r.isRtl).end().find(".k-dialog-ok").click((function(e){t.collectDialogValues(l),d(e),t.change&&t.change(),r.closeCallback(l)})).end().find(".k-dialog-close").click(f).end().data("kendoWindow")).element;if(t._initTabStripComponent(element),t._initTableViewComponents(element,l),t._initCellViewComponents(element,l),t._initAccessibilityViewComponents(element,l),dialog.center(),dialog.open(),h){var m=element.closest(".k-window").height();element.css("max-height",m)}},_initTabStripComponent:function(element){(this.components={}).tabStrip=element.find("#k-table-wizard-tabs").kendoTabStrip({animation:!1}).data("kendoTabStrip")},collectDialogValues:function(){var data=this.options.table;this._collectTableViewValues(data),this._collectCellViewValues(data),this._collectAccessibilityViewValues(data)},_collectTableViewValues:function(e){var t=this.components.tableView,n=e.tableProperties;n.width=t.width.value(),n.widthUnit=t.widthUnit.value(),n.height=t.height.value(),n.columns=t.columns.value(),n.rows=t.rows.value(),n.heightUnit=t.heightUnit.value(),n.cellSpacing=t.cellSpacing.value(),n.cellPadding=t.cellPadding.value(),n.alignment=t.alignment.value(),n.bgColor=t.bgColor.value(),n.className=t.className.value,n.id=t.id.value,n.borderWidth=t.borderWidth.value(),n.borderColor=t.borderColor.value(),n.borderStyle=t.borderStyle.value(),n.collapseBorders=t.collapseBorders.checked},_collectCellViewValues:function(table){var e=table.cellProperties={},t=this.components.cellView;e.selectAllCells=t.selectAllCells.checked,e.width=t.width.value(),e.widthUnit=t.widthUnit.value(),e.height=t.height.value(),e.heightUnit=t.heightUnit.value(),e.cellMargin=t.cellMargin.value(),e.cellPadding=t.cellPadding.value(),e.alignment=t.alignment.value(),e.bgColor=t.bgColor.value(),e.className=t.className.value,e.id=t.id.value,e.borderWidth=t.borderWidth.value(),e.borderColor=t.borderColor.value(),e.borderStyle=t.borderStyle.value(),e.wrapText=t.wrapText.checked,e.width||(e.selectAllCells=!0,e.width=100/table.tableProperties.columns,e.widthUnit="%")},_collectAccessibilityViewValues:function(table){var e=table.tableProperties,t=this.components.accessibilityView;e.captionContent=t.captionContent.value,e.captionAlignment=t.captionAlignment.value(),e.summary=t.summary.value,e.cellsWithHeaders=t.cellsWithHeaders.checked},_addUnit:function(t,n){n&&-1==e.inArray(n,t)&&t.push(n)},_initTableViewComponents:function(element,table){var e=this.components.tableView={},t=table.tableProperties=table.tableProperties||{};t.borderStyle=t.borderStyle||"",this._addUnit(o,t.widthUnit),this._addUnit(o,t.heightUnit),this._initNumericTextbox(element.find("#k-editor-table-width"),"width",t,e),this._initNumericTextbox(element.find("#k-editor-table-height"),"height",t,e),this._initNumericTextbox(element.find("#k-editor-table-columns"),"columns",t,e,{min:1,value:4}),this._initNumericTextbox(element.find("#k-editor-table-rows"),"rows",t,e,{min:1,value:4}),this._initDropDownList(element.find("#k-editor-table-width-type"),"widthUnit",t,e,o),this._initDropDownList(element.find("#k-editor-table-height-type"),"heightUnit",t,e,o),this._initNumericTextbox(element.find("#k-editor-table-cell-spacing"),"cellSpacing",t,e),this._initNumericTextbox(element.find("#k-editor-table-cell-padding"),"cellPadding",t,e),this._initTableAlignmentDropDown(element.find("#k-editor-table-alignment"),t),this._initColorPicker(element.find("#k-editor-table-bg"),"bgColor",t,e),this._initInput(element.find("#k-editor-css-class"),"className",t,e),this._initInput(element.find("#k-editor-id"),"id",t,e),this._initNumericTextbox(element.find("#k-editor-border-width"),"borderWidth",t,e),this._initColorPicker(element.find("#k-editor-border-color"),"borderColor",t,e),this._initDropDownList(element.find("#k-editor-border-style"),"borderStyle",t,e,l),this._initCheckbox(element.find("#k-editor-collapse-borders"),"collapseBorders",t,e)},_initCellViewComponents:function(element,table){var e=this.components.cellView={};table.selectedCells=table.selectedCells=table.selectedCells||[];var t=table.selectedCells[0]||{borderStyle:"",wrapText:!0};this._addUnit(o,t.widthUnit),this._addUnit(o,t.heightUnit),this._initCheckbox(element.find("#k-editor-selectAllCells"),"selectAllCells",table.tableProperties,e),this._initNumericTextbox(element.find("#k-editor-cell-width"),"width",t,e),this._initNumericTextbox(element.find("#k-editor-cell-height"),"height",t,e),this._initDropDownList(element.find("#k-editor-cell-width-type"),"widthUnit",t,e,o),this._initDropDownList(element.find("#k-editor-cell-height-type"),"heightUnit",t,e,o),this._initNumericTextbox(element.find("#k-editor-table-cell-margin"),"cellMargin",t,e),this._initNumericTextbox(element.find("#k-editor-table-cells-padding"),"cellPadding",t,e),this._initCellAlignmentDropDown(element.find("#k-editor-cell-alignment"),t),this._initColorPicker(element.find("#k-editor-cell-bg"),"bgColor",t,e),this._initInput(element.find("#k-editor-cell-css-class"),"className",t,e),this._initInput(element.find("#k-editor-cell-id"),"id",t,e),this._initNumericTextbox(element.find("#k-editor-cell-border-width"),"borderWidth",t,e),this._initColorPicker(element.find("#k-editor-cell-border-color"),"borderColor",t,e),this._initDropDownList(element.find("#k-editor-cell-border-style"),"borderStyle",t,e,l),this._initCheckbox(element.find("#k-editor-wrap-text"),"wrapText",t,e)},_initAccessibilityViewComponents:function(element,table){var e=this.components.accessibilityView={},t=table.tableProperties;this._initInput(element.find("#k-editor-table-caption"),"captionContent",t,e),this._initAccessibilityAlignmentDropDown(element.find("#k-editor-accessibility-alignment"),t),this._initInput(element.find("#k-editor-accessibility-summary"),"summary",t,e),this._initCheckbox(element.find("#k-editor-cells-headers"),"cellsWithHeaders",t,e)},_initNumericTextbox:function(element,t,data,n,o){var component=n[t]=element.kendoNumericTextBox(o?e.extend({},r,o):r).data("kendoNumericTextBox");t in data&&component.value(parseInt(data[t],10))},_initDropDownList:function(element,e,data,t,n){var component=t[e]=element.kendoDropDownList({dataSource:n}).data("kendoDropDownList");this._setComponentValue(component,data,e)},_initTableAlignmentDropDown:function(element,data){var e=this.options.messages,t=this.components.tableView,n=c.dataSource;n[0].tooltip=e.alignLeft,n[1].tooltip=e.alignCenter,n[2].tooltip=e.alignRight,n[3].tooltip=e.alignRemove,this._initAlignmentDropDown(element,c,"alignment",data,t)},_initCellAlignmentDropDown:function(element,data){var e=this.options.messages,t=this.components.cellView,n=h.dataSource;n[0].tooltip=e.alignLeftTop,n[1].tooltip=e.alignCenterTop,n[2].tooltip=e.alignRightTop,n[3].tooltip=e.alignLeftMiddle,n[4].tooltip=e.alignCenterMiddle,n[5].tooltip=e.alignRightMiddle,n[6].tooltip=e.alignLeftBottom,n[7].tooltip=e.alignCenterBottom,n[8].tooltip=e.alignRightBottom,n[9].tooltip=e.alignRemove,this._initAlignmentDropDown(element,h,"alignment",data,t)},_initAccessibilityAlignmentDropDown:function(element,data){var e=this.options.messages,t=this.components.accessibilityView,n=d.dataSource;n[0].tooltip=e.alignLeftTop,n[1].tooltip=e.alignCenterTop,n[2].tooltip=e.alignRightTop,n[3].tooltip=e.alignLeftBottom,n[4].tooltip=e.alignCenterBottom,n[5].tooltip=e.alignRightBottom,n[6].tooltip=e.alignRemove,this._initAlignmentDropDown(element,d,"captionAlignment",data,t)},_initAlignmentDropDown:function(element,e,t,data,n){var component=n[t]=element.kendoDropDownList(e).data("kendoDropDownList");component.list.addClass("k-align").css("width","110px"),this._setComponentValue(component,data,t)},_setComponentValue:function(component,data,e){e in data&&component.value(data[e])},_initColorPicker:function(element,e,data,t){var component=t[e]=element.kendoColorPicker({buttons:!1,clearButton:!0}).data("kendoColorPicker");data[e]&&component.value(data[e])},_initInput:function(element,e,data,t){var component=t[e]=element.get(0);e in data&&(component.value=data[e])},_initCheckbox:function(element,e,data,t){var component=t[e]=element.get(0);e in data&&(component.checked=data[e])},destroy:function(){this._destroyComponents(this.components.tableView),this._destroyComponents(this.components.cellView),this._destroyComponents(this.components.accessibilityView),this._destroyComponents(this.components),delete this.components},_destroyComponents:function(e){for(var t in e)e[t].destroy&&e[t].destroy(),delete e[t]},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-editor-table-wizard-dialog k-action-window k-popup-edit-form"><div class="k-edit-form-container"><div id="k-table-wizard-tabs" class="k-root-tabs"><ul><li class="k-state-active">#= messages.tableTab #</li><li>#= messages.cellTab #</li><li>#= messages.accessibilityTab #</li></ul><div id="k-table-properties"><div class="k-edit-label"><label for="k-editor-table-width">#= messages.width #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-width" /><input id="k-editor-table-width-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-height">#= messages.height #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-height" /><input id="k-editor-table-height-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-columns">#= messages.columns #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-columns" /></div><div class="k-edit-label"><label for="k-editor-table-rows">#= messages.rows #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-rows" /></div><div class="k-edit-label"><label for="k-editor-table-cell-spacing">#= messages.cellSpacing #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-spacing" /></div><div class="k-edit-label"><label for="k-editor-table-cell-padding">#= messages.cellPadding #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-padding" /></div><div class="k-edit-label"><label for="k-editor-table-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-table-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-table-bg">#= messages.background #</label></div><div class="k-edit-field"><input id="k-editor-table-bg" /></div><div class="k-edit-label"><label for="k-editor-css-class">#= messages.cssClass #</label></div><div class="k-edit-field"><input id="k-editor-css-class" class="k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-id">#= messages.id #</label></div><div class="k-edit-field"><input id="k-editor-id" class="k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-border-width">#= messages.border #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-border-width" /><input id="k-editor-border-color" /></div><div class="k-edit-label"><label for="k-editor-border-style">#= messages.borderStyle #</label></div><div class="k-edit-field"><input id="k-editor-border-style" /></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-collapse-borders" type="checkbox" class="k-checkbox" /><label for="k-editor-collapse-borders" class="k-checkbox-label">#= messages.collapseBorders #</label></div></div><div id="k-cell-properties"><div class="k-edit-field"><input id="k-editor-selectAllCells" type="checkbox" class="k-checkbox" /><label for="k-editor-selectAllCells" class="k-checkbox-label">#= messages.selectAllCells #</label></div><div class="k-edit-label"><label for="k-editor-cell-width">#= messages.width #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-width" /><input id="k-editor-cell-width-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-cell-height">#= messages.height #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-height" /><input id="k-editor-cell-height-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-cell-margin">#= messages.cellMargin #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-margin" /></div><div class="k-edit-label"><label for="k-editor-table-cells-padding">#= messages.cellPadding #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cells-padding" /></div><div class="k-edit-label"><label for="k-editor-cell-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-cell-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-cell-bg">#= messages.background #</label></div><div class="k-edit-field"><input id="k-editor-cell-bg" /></div><div class="k-edit-label"><label for="k-editor-cell-css-class">#= messages.cssClass #</label></div><div class="k-edit-field"><input id="k-editor-cell-css-class" class="k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-cell-id">#= messages.id #</label></div><div class="k-edit-field"><input id="k-editor-cell-id" class="k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-cell-border-width">#= messages.border #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-border-width" /><input id="k-editor-cell-border-color" /></div><div class="k-edit-label"><label for="k-editor-cell-border-style">#= messages.borderStyle #</label></div><div class="k-edit-field"><input id="k-editor-cell-border-style" /></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-wrap-text" type="checkbox" class="k-checkbox" /><label for="k-editor-wrap-text" class="k-checkbox-label">#= messages.wrapText #</label></div></div><div id="k-accessibility-properties"><div class="k-edit-label"><label for="k-editor-table-caption">#= messages.caption #</label></div><div class="k-edit-field"><input id="k-editor-table-caption" class="k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-accessibility-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-accessibility-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-accessibility-summary">#= messages.summary #</label></div><div class="k-edit-field"><textarea id="k-editor-accessibility-summary" class="k-textbox"></textarea></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-cells-headers" type="checkbox" class="k-checkbox" /><label for="k-editor-cells-headers" class="k-checkbox-label">#= messages.associateCellsWithHeaders #</label></div></div></div><div class="k-edit-buttons k-state-default"><button class="k-button k-primary k-dialog-ok">#= messages.dialogOk #</button><button class="k-button k-dialog-close">#= messages.dialogCancel #</button></div></div></div>')({messages:e})}});n.ui.editor.TableWizardDialog=f}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},991:function(e,t){e.exports=n(210)},992:function(e,t){e.exports=n(138)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1222)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1011:function(e,t){e.exports=n(13)},1040:function(e,t){e.exports=n(122)},1056:function(e,t){e.exports=n(65)},1222:function(e,t,n){var r,o,l;n(3),o=[n(1040),n(1223),n(1011),n(1056)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r="k-i-full-screen-exit",o="k-i-volume-off",l="k-mediaplayer-titlebar",c="k-mediaplayer-toolbar",h="k-mediaplayer-seekbar",d="k-mediaplayer-media",f="k-mediaplayer-yt",m=n.ui,v=".kendoMediaPlayer",_=new Date(1970,0,1),w=60*_.getTimezoneOffset(),y=n.ui.Widget,x=e.isArray,k="mm:ss",C="HH:mm:ss",template=n.template,S=e.proxy,T=n.keys,D={htmlPlayer:"<video class='"+d+"'> </video>",titleBar:template("<div class='"+l+"' role='heading'><span class='k-title'>Video Title</span></div>"),toolBar:"<div class='k-mediaplayer-toolbar-wrap'><div class='"+c+"'></div></div>",youtubePlayer:"<div class='"+f+"'> </div>",toolBarTime:"<span class='k-mediaplayer-currenttime'>00:00:00</span> / <span class='k-mediaplayer-duration'>00:00:00</span>",slider:"<input class='"+h+"' value='0' title='seekbar' />",volumeSlider:"<input class='k-mediaplayer-volume' title='volume'/>",qualityDropDown:"<input class='k-mediaplayer-quality' title='video quality' />",toolTip:"#= kendo.toString(new Date(value), 'HH:mm:ss') #"},E=y.extend({init:function(element,t){this.wrapper=e(element),y.fn.init.call(this,element,t),this.wrapper.addClass("k-mediaplayer k-widget"),t=this.options,this._currentIndex=0,this._createTitlebar(),this._createToolbar(),this._createDropDown(),this._createSlider(),this._createVolumeSlider(),this._timers={},this._aria(),this._navigatable(),t.fullScreen&&this.fullScreen(!0),t.media&&this.media(this.options.media),n.notify(this)},events:["end","pause","play","ready","timeChange","volumeChange"],options:{name:"MediaPlayer",autoPlay:!1,autoRepeat:!1,volume:100,fullScreen:!1,mute:!1,navigatable:!1,forwardSeek:!0,media:null,messages:{pause:"Pause",play:"Play",mute:"Mute",unmute:"Unmute",quality:"Quality",fullscreen:"Full Screen"}},_msToTime:function(e){var time=new Date(_.getTime());return time.setSeconds(e),time},_timeToSec:function(time){return new Date(time).getTime()/1e3},_createTitlebar:function(){this._titleBar=this.wrapper.find("."+l),0===this._titleBar.length&&(this.wrapper.append(D.titleBar),this._titleBar=this.wrapper.find("."+l))},_createSlider:function(){var e=this.wrapper.find("."+h);this._slider||(this._sliderDragChangeHandler=S(this._sliderDragChange,this),this._sliderDraggingHandler=S(this._sliderDragging,this),e=this.wrapper.find("."+h),this._slider=new m.Slider(e[0],{smallStep:1e3,tickPlacement:"none",showButtons:!1,change:this._sliderDragChangeHandler,slide:this._sliderDraggingHandler,tooltip:{template:D.toolTip},dragHandleTitle:""}))},_createVolumeSlider:function(){var e=this.wrapper.find(".k-mediaplayer-volume");this._volumeSlider||(this._volumeDraggingHandler=S(this._volumeDragging,this),this._volumeChangeHandler=S(this._volumeChange,this),e.width(87),this._volumeSlider=new m.Slider(e[0],{smallStep:1,min:0,max:100,value:this.options.volume,slide:this._volumeDraggingHandler,change:this._volumeChangeHandler,tickPlacement:"none",showButtons:!1,tooltip:{enabled:!1},dragHandleTitle:""}))},_resetTime:function(){this._youTubeVideo?this._ytmedia.seekTo(0,!0):this._media.currentTime=0,this._mediaTimeUpdate(),e.grep(this._toolBar.options.items,(function(e){return!!e.template})).template=D.toolBarTime},_currentUrl:function(){var e=this.media();return x(e.source)?e.source[this._currentIndex].url:e.source},_isYouTubeUrl:function(){return!!this._currentUrl().match("youtube.com/|youtu.be/")},_setPlayerUrl:function(){var e=this._youTubeVideo;this.stop(),this._youTubeVideo=this._isYouTubeUrl(),e!==this._youTubeVideo&&(this.wrapper.find("."+f).toggle(),this.wrapper.find("."+d).toggle());var t=this._media||this._ytmedia;this._initializePlayer(),t&&(this.mute(this.mute()),this.volume(this.volume())),this._youTubeVideo?this._ytmedia&&(this._videoOverlay&&this._videoOverlay.hide(),this.options.autoPlay?(this._ytmedia.loadVideoById(this._getMediaId()),this._playStateToggle(!0)):(this._ytmedia.cueVideoById(this._getMediaId()),this._playStateToggle(!0))):(this._videoOverlay.show(),this.wrapper.find("."+d+" > source").remove(),this.wrapper.find("."+d).attr("src",this._currentUrl()),this.options.autoPlay&&this.play())},_createToolbar:function(){var t=this.wrapper.find("."+c);0===t.length&&(this._toolbarClickHandler=S(this._toolbarClick,this),this.wrapper.append(D.toolBar),(t=this.wrapper.find("."+c)).width(this.wrapper.find("."+d).width()),this._toolBar=new m.ToolBar(t,{click:this._toolbarClickHandler,resizable:!1,items:[{type:"button",attributes:{class:"k-play-button"},icon:"play"},{template:D.toolBarTime,attributes:{class:"k-mediaplayer-currenttime-wrap"}},{type:"separator",attributes:{class:"k-toolbar-spacer"}},{type:"button",attributes:{class:"k-volume-button"},icon:"volume-up"},{template:D.volumeSlider,attributes:{class:"k-mediaplayer-volume-wrap"}},{template:D.qualityDropDown,attributes:{class:"k-mediaplayer-quality-wrap"}},{type:"button",attributes:{class:"k-fullscreen-button"},icon:"full-screen"}]}),this._toolBar.wrapper.off("keydown"),t.before(D.slider),this._volumeButton=t.find(".k-volume-button"),this._fullscreenButton=t.find(".k-fullscreen-button"),this._volumeButton.attr("title",this.options.mute?this.options.messages.unmute:this.options.messages.mute),this._volumeButton.attr("aria-label",this.options.mute?this.options.messages.unmute:this.options.messages.mute),this._fullscreenButton.attr("title",this.options.messages.fullscreen),this._fullscreenButton.attr("aria-label",this.options.messages.fullscreen),t.width("auto"),this._currentTimeElement=t.find(".k-mediaplayer-currenttime"),this._durationElement=t.find(".k-mediaplayer-duration"),this._playButton=t.find(".k-play-button"),this._playButtonSpan=this._playButton.find(".k-i-play"),this.options.autoPlay&&this._playStateToggle(!0),e([this._volumeButton[0],t.find(".k-mediaplayer-volume-wrap")[0],t.find(".k-mediaplayer-quality-wrap")[0],this._fullscreenButton[0]]).wrapAll("<div class='k-align-right' />"),t.find(".k-button").addClass("k-bare"))},_createDropDown:function(){var e=this.wrapper.find(".k-mediaplayer-quality"),t=this.media();void 0===e.data("kendoDropDownList")&&(this._dropDownSelectHandler=S(this._dropDownSelect,this),this._dropDown=new m.DropDownList(e,{dataTextField:"quality",dataValueField:"url",popup:{position:"bottom",origin:"top",appendTo:this.wrapper},animation:{open:{effects:"slideIn:up",duration:1}},select:this._dropDownSelectHandler}),t&&x(t.source)&&(this._dropDown.setDataSource(t.source),this._dropDown.select(0)),this._dropDown.wrapper.addClass("k-button k-bare"),this._dropDown.wrapper.attr("title",this.options.messages.quality).hide(),this._dropDown.wrapper.find("span.k-i-arrow-60-down").removeClass("k-i-arrow-60-down").addClass("k-icon k-i-hd"),this._dropDown.list.addClass("k-quality-list"))},_dropDownSelect:function(e){this._currentIndex!==e.item.index()&&(this._currentIndex=e.item.index(),this._setPlayerUrl())},_toolbarClick:function(t){var n=e(t.target).children().first(),l=n.hasClass("k-i-play");if(this.media()&&((n.hasClass("k-i-play")||n.hasClass("k-i-pause"))&&(l?this.play():this.pause()),(n.hasClass("k-i-full-screen")||n.hasClass(r))&&(this._isInFullScreen?(n.removeClass(r).addClass("k-i-full-screen"),this.fullScreen(!1)):(n.removeClass("k-i-full-screen").addClass(r),this.fullScreen(!0))),n.hasClass(o)||n.hasClass("k-i-volume-down")||n.hasClass("k-i-volume-up"))){var c=this.mute();this.mute(!c)}},_sliderDragging:function(){this.media()&&(this._isDragging=!0)},_sliderDragChange:function(e){var t=this,n=e.sender,r=1e3*w;this.media()&&(t._sliderChangeFired=!0,t._isDragging=!1,!this.options.forwardSeek&&n.value()>this._seekBarLastPosition?setTimeout((function(){n.value(t._seekBarLastPosition)}),1):this._youTubeVideo?t._ytmedia.seekTo(t._timeToSec(e.value-r)):t._media.currentTime=t._timeToSec(e.value-r),t.trigger("timeChange"),t._preventPlay=!0)},_changeVolumeButtonImage:function(e){var t=this._volumeButton,n=t.find("span"),r=n.attr("class");r=r.substring(0,r.lastIndexOf(" ")),0===e?(n.attr("class",r+" "+o),t.attr("title",this.options.messages.unmute),t.attr("aria-label",this.options.messages.unmute)):e>0&&e<51?(n.attr("class",r+" k-i-volume-down"),t.attr("title",this.options.messages.mute),t.attr("aria-label",this.options.messages.mute)):(n.attr("class",r+" k-i-volume-up"),t.attr("title",this.options.messages.mute),t.attr("aria-label",this.options.messages.mute))},_volumeDragging:function(e){this.media()&&(this.volume(e.value),this._changeVolumeButtonImage(e.value),this.trigger("volumeChange"))},_volumeChange:function(e){this.media()&&(this.volume(e.value),this._changeVolumeButtonImage(e.value),this.trigger("volumeChange"))},_mediaTimeUpdate:function(){var e=this._youTubeVideo?this._ytmedia.getCurrentTime():this._media.currentTime;e=e||0;var t=this._msToTime(e);return this._currentTimeElement.text(n.toString(t,this._timeFormat)),this._isDragging||(this._seekBarLastPosition=1e3*(e+w),this._slider.value(this._seekBarLastPosition)),this.isPlaying()},_playStateToggle:function(e){void 0===e&&(e=this._playButtonSpan.is(".k-i-play")),e?(this._playButtonSpan.removeClass("k-i-play").addClass("k-i-pause"),this._playButton.attr("title",this.options.messages.pause),this._playButton.attr("aria-label",this.options.messages.pause)):(this._playButtonSpan.removeClass("k-i-pause").addClass("k-i-play"),this._playButton.attr("title",this.options.messages.play),this._playButton.attr("aria-label",this.options.messages.play))},_mediaEnded:function(){this._playStateToggle(!1),this._currentTimeElement.text(n.toString(this._msToTime(0),this._timeFormat)),this._slider.value(1e3*(0+w)),this.trigger("end")},_mediaPlay:function(){this.trigger("play")},_mediaReady:function(){this.trigger("ready")},_mediaDurationChange:function(){var e=this._msToTime(this._youTubeVideo?this._ytmedia.getDuration():this._media.duration);this._timeFormat=0===e.getHours()?k:C,this._durationElement.text(n.toString(e,this._timeFormat)),this._slider.setOptions({min:_.getTime(),max:e.getTime()}),this._isFirstRun||(this._resetTime(),this._isFirstRun=!0)},_createYoutubePlayer:function(){this._mediaTimeUpdateHandler=S(this._mediaTimeUpdate,this),this._mediaDurationChangeHandler=S(this._mediaDurationChange,this),this.wrapper.prepend(D.youtubePlayer),this._ytPlayer=this.wrapper.find("."+f)[0],e(this._ytPlayer).css({width:this.wrapper.width(),height:this.wrapper.height()}),window.YT&&window.YT.Player?this._configurePlayer():(window.onYouTubeIframeAPIReadyRegister||(window.onYouTubeIframeAPIReadyRegister=[],e.getScript("https://www.youtube.com/iframe_api"),window.onYouTubeIframeAPIReady=function(){if(window.onYouTubeIframeAPIReadyRegister)for(var i=0;i<window.onYouTubeIframeAPIReadyRegister.length;i++)window.onYouTubeIframeAPIReadyRegister[i]._youtubeApiReady();window.onYouTubeIframeAPIReadyRegister.length=0,window.onYouTubeIframeAPIReadyRegister=void 0}),window.onYouTubeIframeAPIReadyRegister[window.onYouTubeIframeAPIReadyRegister.length]=this)},_poll:function(e,t,n,r){var o=this;return null!==o._timers[e]&&clearTimeout(o._timers[e]),o._timers[e]=setTimeout(function(r){return function l(){t.call(r)&&(o._timers[e]=setTimeout(l,n))}}(r),n),o._timers[e]},_youtubeApiReady:function(){this._configurePlayer()},_configurePlayer:function(){var e={autoplay:+this.options.autoPlay,wmode:"transparent",controls:0,rel:0,showinfo:0};this._onYouTubePlayerReady=S(this._onYouTubePlayerReady,this),window.onYouTubePlayerReady=this._onYouTubePlayerReady,this._onPlayerStateChangeHandler=S(this._onPlayerStateChange,this),window.onPlayerStateChange=this._onPlayerStateChange,new window.YT.Player(this.wrapper.find("."+f)[0],{height:this.wrapper.height(),width:this.wrapper.width(),videoId:this._getMediaId(),playerVars:e,events:{onReady:this._onYouTubePlayerReady,onStateChange:this._onPlayerStateChangeHandler}})},_onYouTubePlayerReady:function(e){this._ytmedia=e.target,this._ytmedia.getIframe().style.width="100%",this._ytmedia.getIframe().style.height="100%",this._youTubeVideo=!0,this._mediaDurationChangeHandler(),this.options.autoPlay?(this._playStateToggle(!0),this._ytmedia.loadVideoById(this._getMediaId())):this._ytmedia.cueVideoById(this._getMediaId()),this.options.mute&&this.mute(!0),this.trigger("ready")},_updateTitle:function(){this.titlebar().text(this.media().title||this.media().source)},_onPlayerStateChange:function(e){0===e.data?(this._slider.value(0),this._paused=!1,this._playStateToggle(!0),this.trigger("end"),this.options.autoRepeat&&this.play()):1===e.data?(this._mediaDurationChange(),this._ytmedia.setVolume(this.volume()),this._sliderChangeFired?this._sliderChangeFired=!1:this._uiDisplay(!1),this.trigger("play"),this._playStateToggle(!0),this._poll("progress",this._mediaTimeUpdate,500,this),this._paused=!1):2===e.data&&(this._paused||(this._uiDisplay(!0),this._playStateToggle(!1),this.trigger("pause"),this._paused=!0))},_getMediaId:function(){var e=this._currentUrl(),t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return t&&11===t[7].length&&(e=t[7]),e},_mouseClick:function(){this.isPaused()?this.play():this.pause()},_initializePlayer:function(){this._mouseMoveHandler||(this._mouseMoveHandler=S(this._mouseMove,this),this._mouseInHandler=S(this._mouseIn,this),this._mouseOutHandler=S(this._mouseOut,this),e(this.wrapper).on("mouseenter"+v,this._mouseInHandler).on("mouseleave"+v,this._mouseOutHandler).on("mousemove"+v,this._mouseMoveHandler)),!this._ytmedia&&this._youTubeVideo?this._createYoutubePlayer():this._media||this._youTubeVideo||this._createHtmlPlayer()},_createHtmlPlayer:function(){this._videoOverlay||(this._mouseClickHanlder=S(this._mouseClick,this),this.wrapper.append("<div class='k-mediaplayer-overlay'></div>"),this._videoOverlay=this.wrapper.find(".k-mediaplayer-overlay").on("click"+v,this._mouseClickHanlder)),this._mediaTimeUpdateHandler=S(this._mediaTimeUpdate,this),this._mediaDurationChangeHandler=S(this._mediaDurationChange,this),this._mediaEndedHandler=S(this._mediaEnded,this),this._mediaCanPlayHandler=S(this._mediaReady,this),this._mediaPlayHandler=S(this._mediaPlay,this),this._videoOverlay.after(D.htmlPlayer),this._media=this.wrapper.find("."+d)[0],e(this._media).css({width:"100%",height:"100%"}),this.options.mute&&this.mute(!0),this._media.ontimeupdate=this._mediaTimeUpdateHandler,this._media.ondurationchange=this._mediaDurationChangeHandler,this._media.oncanplay=this._mediaCanPlayHandler,this._media.onplay=this._mediaPlayHandler,this._media.onended=this._mediaEndedHandler,this._media.loop=this.options.autoRepeat},_mouseIn:function(){this._uiDisplay(!0)},_mouseOut:function(){this._poll("mouseIdle",this._mouseIdle,3e3,this)},_mouseIdle:function(){return this._uiDisplay(!1),!1},_mouseMove:function(){this._titleBar.is(":animated")||this._toolBar.element.is(":animated")||this._slider.wrapper.is(":animated")||this._uiDisplay(!0),this._poll("mouseIdle",this._mouseIdle,3e3,this)},_uiDisplay:function(e){var t=this._titleBar.add(this._toolBar.element.parent());e?t.fadeIn("slow"):(t.fadeOut("slow"),this.options.navigatable&&this.wrapper.focus())},setOptions:function(e){y.fn.setOptions.call(this,e)},destroy:function(){y.fn.destroy.call(this),this.isPaused()||this.pause(),this.element.off(v),this.element.find(".k-mediaplayer-overlay").off(v),this._timers=null,this._mouseMoveHandler=null,this._mouseOutHandler=null,this._mouseInHandler=null,this._mouseClickHanlder=null,this._keyDownHandler=null,this._fullscreenHandler=null,this._toolbarClickHandler=null,this._sliderDragChangeHandler=null,this._sliderDraggingHandler=null,this._volumeDraggingHandler=null,this._volumeChangeHandler=null,this._youtubeApiReadyHandler=null,this._onYouTubePlayerReady=null,this._onPlayerStateChangeHandler=null,this._dropDownSelectHandler=null,this._youTubeVideo?this._ytmedia.destroy():(this._media.ontimeupdate=this._mediaTimeUpdateHandler=null,this._media.ondurationchange=this._mediaDurationChangeHandler=null,this._media.oncanplay=this._mediaCanPlayHandler=null,this._media.onplay=this._mediaPlayHandler=null,this._media.onended=this._mediaEndedHandler=null,this._media.src="",this._media.remove()),this._mouseMoveTimer=null,clearTimeout(this._mouseMoveTimer),n.destroy(this.element)},seek:function(e){if(void 0===e)return 1e3*this._youTubeVideo?this._ytmedia.getCurrentTime():this._media?this._media.currentTime:0;var t=e/1e3;return this._youTubeVideo?t+3>=this._ytmedia.getDuration()|0?this._ytmedia.seekTo(this._ytmedia.getDuration()-3|0,!0):this._ytmedia.seekTo(t,!0):this._media.currentTime=t,this},play:function(){return this._youTubeVideo?this._ytmedia.playVideo():(n.support.mobileOS&&this._uiDisplay(!1),this._media.play()),this._paused=!1,this._playStateToggle(!0),this},stop:function(){return this._youTubeVideo&&this._ytmedia?this._ytmedia.stopVideo():this._media&&!this._youTubeVideo&&(n.support.mobileOS&&this._uiDisplay(!0),this._media.pause(),this._media.currentTime=0),this._paused=!0,this._playStateToggle(!1),this},pause:function(){return this._youTubeVideo?this._ytmedia.pauseVideo():(n.support.mobileOS&&this._uiDisplay(!0),this._media.pause()),this._paused=!0,this._playStateToggle(!1),this.trigger("pause"),this},toolbar:function(){return this._toolBar},dropdown:function(){return this._dropDown},titlebar:function(){return this._titleBar},fullScreen:function(e){if(void 0===e)return this._isInFullScreen||!1;var element=this.element.get(0);e?(this.element.addClass("k-mediaplayer-fullscreen"),element.requestFullscreen?element.requestFullscreen():element.webkitRequestFullscreen?element.webkitRequestFullscreen():element.mozRequestFullScreen?element.mozRequestFullScreen():element.msRequestFullscreen&&element.msRequestFullscreen(),this._isInFullScreen=!0):(document.cancelFullscreen?document.cancelFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msCancelFullscreen?document.msCancelFullscreen():document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),this.element.removeClass("k-mediaplayer-fullscreen"),this._isInFullScreen=!1),this._slider.resize()},volume:function(e){if(void 0===e)return void 0!==this._volume?this._volume:this._volume=this.options.volume;this._volume=e,this.mute(e<=0),this._youTubeVideo?this._ytmedia.setVolume(this._volume):this._media.volume=this._volume/100,this._volumeSlider.value(e)},mute:function(e){var t=this._youTubeVideo?this._ytmedia&&this._ytmedia.isMuted():this._media&&this._media.muted;if(void 0===e||e===t)return t;this._youTubeVideo?e?this._ytmedia.mute():this._ytmedia.unMute():this._media.muted=e,e?this._volumeSlider.value(0):this._volumeSlider.value(this._media&&100*this._media.volume||this._ytmedia&&this._ytmedia.getVolume()),this.trigger("volumeChange"),this._changeVolumeButtonImage(this._volumeSlider.value())},isEnded:function(){return this._youTubeVideo?0===this._ytmedia.getPlayerState():this._media.ended},media:function(e){var t=this.dropdown();if(void 0===e)return void 0!==this._mediaData?this._mediaData:this._mediaData=this.options.media;x(e.source)?(t.setDataSource(e.source),t.wrapper.show()):t.wrapper.hide(),this._mediaData=e,this._updateTitle(),this._setPlayerUrl()},isPaused:function(){return this._paused},isPlaying:function(){return!this.isEnded()&&!this._paused},_aria:function(){this.wrapper.attr("role","region")},_navigatable:function(){this._fullscreenHandler=S(this._fullscreen,this),e(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange"+v,this._fullscreenHandler),this.options.navigatable&&(this.wrapper.attr("tabIndex",0),this._keyDownHandler=S(this._keyDown,this),this.wrapper.on("keydown"+v,this._keyDownHandler))},_fullscreen:function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;this._uiDisplay(!0),this._slider.resize(),e||(this.wrapper.find('span[class*="k-i-fullscreen"]').removeClass(r).addClass("k-i-full-screen"),this.fullScreen(!1))},_keyDown:function(e){e.preventDefault();var t=this.wrapper.find('span[class*="k-i-fullscreen"]');if(e.keyCode===T.SPACEBAR)this.isPlaying()?this.pause():this.play();else if(e.keyCode!==T.ENTER||this._isInFullScreen)if(77===e.keyCode){var n=this.mute();this.mute(!n)}else e.keyCode===T.ESC&&this._isInFullScreen&&(t.removeClass(r).addClass("k-i-full-screen"),this.fullScreen(!1));else t.removeClass("k-i-full-screen").addClass(r),this.fullScreen(!0)},_error:function(){},_progress:function(){}});m.plugin(E)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1223:function(e,t){e.exports=n(69)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1285)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1011:function(e,t){e.exports=n(13)},1045:function(e,t){e.exports=n(92)},1144:function(e,t){e.exports=n(21)},1285:function(e,t,n){var r,o,l;n(3),o=[n(1286),n(1045),n(1144),n(1287),n(1011)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o="kendoContextMenu",l=e.proxy,c=".kendoPivotFieldMenu",h=r.Widget,d=h.extend({init:function(element,e){h.fn.init.call(this,element,e),this._dataSource(),this._layout(),n.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:!0,sortable:!0,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var t=this.options;this.wrapper=e(n.template(m)({ns:n.ns,filterable:t.filterable,sortable:t.sortable,messages:t.messages})),this.menu=this.wrapper[o]({filter:t.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:!1,open:l(this._menuOpen,this),select:l(this._select,this),copyAnchorStyles:!1}).data(o),this._createWindow(),t.filterable&&this._initFilterForm()},_initFilterForm:function(){var e=this.menu.element.find(".k-filter-item"),t=l(this._filter,this);this._filterOperator=new n.ui.DropDownList(e.find("select")),this._filterValue=e.find(".k-textbox"),this._updateFilterAriaLabel(),e.on("submit"+c,t).on("click"+c,".k-button-filter",t).on("click"+c,".k-button-clear",l(this._reset,this))},_setFilterForm:function(e){var t=this._filterOperator,n="",r="";e&&(n=e.operator,r=e.value),t.value(n),t.value()||t.select(0),this._filterValue.val(r)},_clearFilters:function(e){var t,n,filter=this.dataSource.filter()||{},r=0;for(filter.filters=filter.filters||[],n=(t=f(filter,e)).length;r<n;r++)filter.filters.splice(filter.filters.indexOf(t[r]),1);return filter},_convert:function(t){var n=((this.dataSource.options.schema.model||{}).fields||{})[this.currentMember];return n&&("number"===n.type?t=parseFloat(t):"boolean"===n.type&&(t=Boolean(e.parseJSON(t)))),t},_filter:function(e){var t=this._convert(this._filterValue.val());if(e.preventDefault(),""!==t){var n={field:this.currentMember,operator:this._filterOperator.value(),value:t},filter=this._clearFilters(this.currentMember);filter.filters.push(n),this.dataSource.filter(filter),this.menu.close()}else this.menu.close()},_updateFilterAriaLabel:function(){var e=this.menu.element.find(".k-filter-item"),t=this._filterOperator.value(),n=this.options.messages.operators[t];e.find("select").attr("aria-label",n)},_reset:function(e){var filter=this._clearFilters(this.currentMember);e.preventDefault(),filter.filters[0]||(filter={}),this.dataSource.filter(filter),this._setFilterForm(null),this.menu.close()},_sort:function(e){var t=this.currentMember,n=this.dataSource.sort()||[];(n=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++)e[r].field!==t&&n.push(e[r]);return n}(n,t)).push({field:t,dir:e}),this.dataSource.sort(n),this.menu.close()},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},_dataSource:function(){this.dataSource=n.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var t=this.options.messages;this.includeWindow=e(n.template(v)({messages:t})).on("click"+c,".k-button-ok",l(this._applyIncludes,this)).on("click"+c,".k-button-cancel",l(this._closeWindow,this)),this.includeWindow=new r.Window(this.includeWindow,{title:t.title,visible:!1,resizable:!1,open:l(this._windowOpen,this)})},_applyIncludes:function(e){var t,n=[],view=this.treeView.dataSource.view(),r=view[0].checked,filter=this.dataSource.filter(),o=f(filter,this.currentMember,"in")[0];!function e(t,n){var r,o=t.length;for(r=0;r<o;r++)t[r].checked&&0!==t[r].level()&&n.push(t[r].uniqueName),t[r].hasChildren&&e(t[r].children.view(),n)}(view,n),o&&(r?(filter.filters.splice(filter.filters.indexOf(o),1),filter.filters.length||(filter={})):o.value=n.join(","),t=filter),n.length&&(t||r||(t={field:this.currentMember,operator:"in",value:n.join(",")},filter&&(filter.filters.push(t),t=filter))),t&&this.dataSource.filter(t),this._closeWindow(e)},_closeWindow:function(e){e.preventDefault(),this.includeWindow.close()},_treeViewDataSource:function(){var t=this;return n.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(e){return parseInt(e.childrenCardinality,10)>0}}},transport:{read:function(n){var r={},o=t.treeView.dataSource.get(n.data.uniqueName);n.data.uniqueName?(r.memberUniqueName=o.uniqueName.replace(/\&/g,"&amp;"),r.treeOp=1):r.levelUniqueName=t.currentMember+".[(ALL)]",t.dataSource.schemaMembers(r).done((function(data){!function(filter,t,n){var r,o=0,l=n.length;if(filter=f(filter,t,"in")[0])for(r=filter.value.split(",");o<l;o++)n[o].checked=e.inArray(n[o].uniqueName,r)>=0;else for(;o<l;o++)n[o].checked=!0}(t.dataSource.filter(),t.currentMember,data),n.success(data)})).fail(n.error)}}})},_createTreeView:function(element){var e=this;e.treeView=new r.TreeView(element,{autoBind:!1,dataSource:e._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:!0},dataBound:function(){r.progress(e.includeWindow.element,!1)}})},_menuOpen:function(t){if(t.event){var r=n.attr("name");this.currentMember=e(t.event.target).closest("["+r+"]").attr(r),this.options.filterable&&this._setFilterForm(f(this.dataSource.filter(),this.currentMember)[0])}},_select:function(t){var n=e(t.item);e(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close"),n.hasClass("k-include-item")?this.includeWindow.center().open():n.hasClass("k-sort-asc")?this._sort("asc"):n.hasClass("k-sort-desc")?this._sort("desc"):n.hasClass("k-filter-item")&&this._updateFilterAriaLabel()},_windowOpen:function(){this.treeView||this._createTreeView(this.includeWindow.element.find(".k-treeview")),r.progress(this.includeWindow.element,!0),this.treeView.dataSource.read()},destroy:function(){h.fn.destroy.call(this),this.menu&&(this.menu.destroy(),this.menu=null),this.treeView&&(this.treeView.destroy(),this.treeView=null),this.includeWindow&&(this.includeWindow.destroy(),this.includeWindow=null),this.wrapper=null,this.element=null}});function f(filter,e,t){if(!filter)return[];for(var n,r=0,o=[],l=(filter=filter.filters).length;r<l;r++)n=filter[r].operator,(t||"in"===n)&&n!==t||filter[r].field!==e||o.push(filter[r]);return o}var m='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-include-item"><span class="k-link"><span class="k-icon k-i-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-filter-item"><span class="k-link"><span class="k-icon k-i-filter"></span>${messages.filterFields}</span><ul><li><div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" aria-label="#=messages.filter#" title="#=messages.filter#" /><div><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div></li></ul></li># } #</ul>',v='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';r.plugin(d)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1286:function(e,t){e.exports=n(197)},1287:function(e,t){e.exports=n(90)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1186)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1186:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1187)],void 0===(l="function"==typeof(r=function(){var e={number:"<input type='text' title='#=field#' data-#=ns#role='numerictextbox' data-#=ns#bind='value: value'/>",string:"<input type='text' title='#=field#' class='k-textbox' data-#=ns#bind='value: value'/>",boolean:"# var checkboxGuid = kendo.guid(); # <input class='k-checkbox' data-role='checkbox' id='#= checkboxGuid #' data-#=ns#bind='checked: value' type='checkbox'><label for='#= checkboxGuid #' class='k-checkbox-label k-no-text'>&\\#8203;</label>",date:"<input type='text' title='#=field#' data-#=ns#role='datepicker' data-#=ns#bind='value: value'/>"};return function(t){var n=window.kendo,r=n.ui,o=r.Widget,l=r.ButtonGroup,c=".kendoFilter",h="Is equal to",d="Is not equal to",f=t.proxy,m=l.extend({init:function(element,e){l.fn.init.call(this,element,e)},options:{name:"FilterButtonGroup"},value:function(e){if(void 0===e)return this._value;this._value=e,l.fn.select.call(this,this.wrapper.find("[value='"+e+"']")[0]),this.trigger("change")},select:function(button){-1!==button&&this.value(t(button).attr("value"))}}),v=o.extend({init:function(element,e){var html;o.fn.init.call(this,element,e),this.element=t(element).addClass("k-widget k-filter"),this.dataSource=e.dataSource,this.operators=t.extend(this.options.operators,e.operators),this._getFieldsInfo(),this._modelChangeHandler=f(this._modelChange,this),this._renderMain(),e.expression&&this._addExpressionTree(this.filterModel),this._renderApplyButton(),this.options.expressionPreview&&(this._previewContainer||(this._previewContainer=t('<div class="k-filter-preview"></div>').insertAfter(this.element.children().eq(0))),html=this._createPreview(this.filterModel.toJSON()),this._previewContainer.html(html)),this._attachEvents()},events:["change"],options:{name:"Filter",dataSource:null,expression:null,applyButton:!1,fields:[],mainLogic:"and",messages:{and:"And",or:"Or",apply:"Apply",close:"Close",addExpression:"Add Expression",fields:"Fields",operators:"Operators",addGroup:"Add Group"},operators:{string:{eq:h,neq:d,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:h,neq:d,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:h,neq:d,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},boolean:{eq:h,neq:d}}},applyFilter:function(){var filter=this.filterModel.toJSON();this._hasFieldsFilter(filter.filters||[])?this.dataSource.filter(filter):this.dataSource.filter({})},destroy:function(){this.element.off(c),n.destroy(this.element.find(".k-filter-group-main")),this._previewContainer=null,this._applyButton=null,this._modelChangeHandler=null,o.fn.destroy.call(this)},setOptions:function(e){n.deepExtend(this.options,e),this.destroy(),this.element.empty(),this.init(this.element,this.options)},getOptions:function(){var e=t.extend(!0,{},this.options);return delete e.dataSource,e.expression=this.filterModel.toJSON(),e},_addExpressionTree:function(e){if(e.filters)for(var t=this.element.find("[id="+e.uid+"]"),i=0;i<e.filters.length;i++)e.filters[i].logic?this._addGroup(t,e.filters[i]):this._addExpression(t,e.filters[i]),e.filters[i].filters&&this._addExpressionTree(e.filters[i])},_attachEvents:function(){var e=this;e.element.on("click"+c,"button.k-button",(function(n){n.preventDefault();var button=t(n.currentTarget),r=button.find("span"),o=(r.length?r:button).attr("class").split("-").pop();"close"==o?e._removeExpression(button.closest(".k-toolbar")):"expression"==o?e._addExpression(button.closest(".k-toolbar")):"group"==o?e._addGroup(button.closest(".k-toolbar")):"apply"==o&&e.applyFilter()}))},_addExpression:function(e,r){var o,l=e.attr("id"),c=e.closest(".k-filter-toolbar").next("ul.k-filter-lines"),h=r?this._fields[r.field]:this._defaultField,d="";r?o=r:((o=_(this.filterModel,l)).filters||o.set("filters",[]),o=this._addNewModel(o.filters,h)),c.length||(c=t("<ul class='k-filter-lines'></ul>").appendTo(e.closest("li"))),d=t(n.template("<li class='k-filter-item'><div class='k-filter-toolbar'><div class='k-toolbar' id='#=uid#'><div class='k-filter-toolbar-item k-filter-field'><select data-#=ns#bind='value: field' title='#=fieldsLabel#' class='k-filter-dropdown' data-auto-width='true' data-#=ns#role='dropdownlist'>#for(var current in fields){#<option value='#=fields[current].name#'>#=fields[current].label#</option>#}#</select></div><div class='k-filter-toolbar-item k-filter-operator'></div><div class='k-filter-toolbar-item k-filter-value'></div><div class='k-filter-toolbar-item'><button data-role='button' class='k-button-flat k-button k-button-icon' role='button' title='#=close#' aria-label='#=close#' aria-disabled='false' tabindex='0'><span class='k-icon k-i-close'></span></button></div></div></div></li>")({fields:this._fields,operators:this.operators[h.type],close:this.options.messages.close,fieldsLabel:this.options.messages.fields,uid:o.uid,ns:n.ns})).appendTo(c),this._addExpressionControls(d.find(".k-toolbar"),h,o),r||this._expressionChange()},_addExpressionControls:function(e,t,r){var o=e.find(".k-filter-toolbar-item"),l=o.eq(1),c=o.eq(2);n.destroy(l),n.destroy(c),l.empty(),c.empty(),this._appendOperators(l,t),this._appendEditor(c,t),this._bindModel(e,r),this._showHideEditor(e,r)},_appendOperators:function(e,r){t(n.template("<select data-#=ns#bind='value: operator' title='#=operatorsLabel#' data-#=ns#role='dropdownlist'>#for(var op in operators){#<option value='#=op#'>#=operators[op]#</option>#}#</select>")({operators:this.operators[r.type],operatorsLabel:this.options.messages.operators,ns:n.ns})).appendTo(e)},_appendEditor:function(e,r){n.isFunction(r.editor)?r.editor(e,t.extend(!0,{},{field:r.name})):t(n.template(r.editor)({ns:n.ns,field:r.name})).appendTo(e)},_addNewModel:function(e,t){var n;return e.push({field:t.name}),(n=e[e.length-1]).set("value",t.defaultValue),n.set("operator","eq"),n},_addGroup:function(e,r){var o,l=this.filterModel,c=e.attr("id"),h=e.closest(".k-filter-toolbar").next("ul.k-filter-lines");r?l=r:((l=_(l,c)).filters||l.set("filters",[]),l.filters.push({logic:this.options.mainLogic}),l=l.filters[l.filters.length-1]),h.length||(h=t("<ul class='k-filter-lines'></ul>").appendTo(e.closest("li"))),o=t(n.template("<li class='k-filter-item'><div class='k-filter-toolbar'><div class='k-toolbar'><div class='k-filter-toolbar-item'><div data-#=ns#bind='value: logic' data-#=ns#role='filterbuttongroup'>#for(var op in operators){#<span value='#=op#'>#=operators[op]#</span>#}#</div></div><div class='k-filter-toolbar-item'><button data-role='button' class='k-button k-button-icon' role='button' title='#=addExpression#' aria-label='#=addExpression#' aria-disabled='false' tabindex='0'><span class='k-icon k-i-filter-add-expression'></span></button></div><div class='k-filter-toolbar-item'><button data-role='button' class='k-button k-button-icon' role='button' title='#=addGroup#' aria-label='#=addGroup#' aria-disabled='false' tabindex='0'><span class='k-icon k-i-filter-add-group'></span></button></div><div class='k-filter-toolbar-item'><button data-role='button' class='k-button-flat k-button k-button-icon' role='button' title='#=close#' aria-label='#=close#' aria-disabled='false' tabindex='0'><span class='k-icon k-i-close'></span></button></div></div></div></li>")({operators:{and:this.options.messages.and,or:this.options.messages.or},addExpression:this.options.messages.addExpression,addGroup:this.options.messages.addGroup,close:this.options.messages.close,ns:n.ns})).appendTo(h),this._bindModel(o.find(".k-toolbar"),l),r||this._expressionChange()},_bindModel:function(e,t){e.attr("id",t.uid),t.bind("change",this._modelChangeHandler),n.bind(e,t),e.parent().attr(n.attr("stop"),!0)},_createPreview:function(filter){var e,html="",t=!1,r=this._hasFieldsFilter(filter.filters||[]),o="";if(!filter.filters||!filter.filters.length||!r)return"";html+='<span class="k-filter-preview-bracket">(</span>';for(var i=0;i<filter.filters.length;i++)(e=filter.filters[i]).filters&&((o=this._createPreview(e))&&(t&&(html+='<span class="k-filter-preview-operator"> '+filter.logic.toLocaleUpperCase()+" </span>"),t=!0),html+=o),e.field&&(t&&(html+='<span class="k-filter-preview-operator"> '+filter.logic.toLocaleUpperCase()+" </span>"),t=!0,html+='<span class="k-filter-preview-field">'+this._fields[e.field].label+"</span>",html+='<span class="k-filter-preview-criteria"> '+this._getOperatorText(e.field,e.operator),e.operator.indexOf("is")<0?(html+=" </span>",html+="<span class='k-filter-preview-value'>'"+n.htmlEncode(e.value)+"'</span>"):html+="</span>");return html+='<span class="k-filter-preview-bracket">)</span>'},_expressionChange:function(){var filter=this.filterModel.toJSON(),html="";this.options.expressionPreview&&(html=this._createPreview(filter),this._previewContainer.html(html)),this.trigger("change",{expression:filter})},_getOperatorText:function(e,t){var n=this._fields[e].type;return this.options.operators[n][t]},_getFieldsInfo:function(){var n,r=this.options.fields.length?this.options.fields:(this.options.dataSource.options.schema.model||{}).fields;for(var o in this._fields={},r)n=r[o],n=t.extend(!0,{},{name:n.name||o,editor:n.editorTemplate||e[n.type||"string"],defaultValue:n.defaultValue||"",type:n.type||"string",label:n.label||n.name||o}),this._fields[n.name]=n,this._defaultField||(this._defaultField=n)},_hasFieldsFilter:function(e,t){t=!!t;for(var i=0;i<e.length;i++)if(e[i].filters&&(t=this._hasFieldsFilter(e[i].filters,t)),e[i].field)return!0;return t},_modelChange:function(e){var t=this.element.find("[id="+e.sender.uid+"]");if(this._showHideEditor(t,e.sender),"field"===e.field){var n=e.sender.field,r=e.sender.parent(),o=this._fields[n],l=this._addNewModel(r,o);e.sender.unbind("change",this._modelChangeHandler),r.remove(e.sender),this._addExpressionControls(t,o,l),this._expressionChange()}else"filters"!==e.field&&this._expressionChange()},_renderMain:function(){t("<ul class='k-filter-container'><li class='k-filter-group-main'></li></ul>").appendTo(this.element),this.options.expression?this.filterModel=n.observable(this.options.expression):this.filterModel=n.observable({logic:this.options.mainLogic}),t(n.template("<div class='k-filter-toolbar'><div class='k-toolbar' id='#=uid#'><div class='k-filter-toolbar-item'><div data-#=ns#bind='value: logic' data-#=ns#role='filterbuttongroup'>#for(var op in operators){#<span value='#=op#'>#=operators[op]#</span>#}#</div></div><div class='k-filter-toolbar-item'><button data-role='button' class='k-button k-button-icon' role='button' aria-disabled='false' title='#=addExpression#' aria-label='#=addExpression#' tabindex='0'><span class='k-icon k-i-filter-add-expression'></span></button></div><div class='k-filter-toolbar-item'><button data-role='button' class='k-button k-button-icon' role='button' aria-disabled='false' title='#=addGroup#' aria-label='#=addGroup#' tabindex='0'><span class='k-icon k-i-filter-add-group'></span></button></div><div class='k-filter-toolbar-item'><button data-role='button' class='k-button-flat k-button k-button-icon' role='button' title='#=close#' aria-label='#=close#' aria-disabled='false' tabindex='0'><span class='k-icon k-i-close'></span></button></div></div></div>")({operators:{and:this.options.messages.and,or:this.options.messages.or},addExpression:this.options.messages.addExpression,addGroup:this.options.messages.addGroup,close:this.options.messages.close,uid:this.filterModel.uid,ns:n.ns})).appendTo(this.element.find("li:first")),this._bindModel(this.element.find(".k-toolbar:first"),this.filterModel)},_removeExpression:function(e){var t,r,o=e.attr("id"),l=e.closest("li");l.hasClass("k-filter-group-main")?(l=l.find(".k-filter-lines"),this.filterModel.filters&&(this.filterModel.filters.empty(),delete this.filterModel.filters)):(t=(r=_(this.filterModel,o)).parent(),r.unbind("change",this._modelChangeHandler),t.remove(r),t.length||delete t.parent().filters,l.siblings().length||(l=l.parent())),n.destroy(l),l.remove(),this._expressionChange()},_renderApplyButton:function(){this.options.applyButton&&(this._applyButton||(this._applyButton=t(n.format('<button type="button" aria-label="{0}" title="{0}" class="k-button k-filter-apply">{0}</button>',this.options.messages.apply)).appendTo(this.element)))},_showHideEditor:function(e,t){if(!t.logic){var n=t.operator,r=e.find(".k-filter-toolbar-item:eq(2)");"isnull"==n||"isnotnull"==n||"isempty"==n||"isnotempty"==n||"isnullorempty"==n||"isnotnullorempty"==n?r.hide():r.show()}}});function _(e,t){if(e.uid===t)return e;if(e.filters)for(var i=0;i<e.filters.length;i++){var n=_(e.filters[i],t);if(n)return n}}r.plugin(v),r.plugin(m)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1187:function(e,t){e.exports=n(186)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1188)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1010:function(e,t){e.exports=n(39)},1011:function(e,t){e.exports=n(13)},1123:function(e,t){e.exports=n(32)},1140:function(e,t){e.exports=n(33)},1188:function(e,t,n){var r,o,l;n(3),o=[n(1189),n(1123),n(1140),n(1010),n(1011)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.data.DataSource,l=r.Widget,c="Is equal to",h="Is not equal to",d=e.proxy,f=["isnull","isnotnull","isempty","isnotempty","isnullorempty","isnotnullorempty"];function m(filter){var t="string"==typeof filter?filter:filter.operator;return e.inArray(t,f)>-1}var v=l.extend({init:function(element,t){element=e(element).addClass("k-filtercell");var r,o,c,h,f=this.wrapper=e("<span/>").appendTo(element),v=this,_=t,w=v.operators=t.operators||{},input=v.input=e("<input/>").attr(n.attr("bind"),"value: value").appendTo(f),y=t?t.suggestDataSource:null;y&&(t=e.extend({},t,{suggestDataSource:{}})),l.fn.init.call(v,element[0],t),y&&(v.options.suggestDataSource=y),t=v.options,r=v.dataSource=t.dataSource,v.model=r.reader.model,h=t.type="string";var x=(n.getter("reader.model.fields",!0)(r)||{})[t.field];if(x&&x.type&&(h=t.type=x.type),t.values&&(t.type=h="enums"),w=w[h]||t.operators[h],!_.operator)for(c in w){t.operator=c;break}if(v._parse=function(e){return null!=e?e+"":e},v.model&&v.model.fields){var k=v.model.fields[t.field];k&&k.parse&&(v._parse=d(k.parse,k))}v.defaultOperator=t.operator,v.viewModel=o=n.observable({operator:t.operator,value:null,operatorVisible:function(){var e=this.get("value");return null!=e&&"undefined"!=e||m(this.get("operator"))&&!v._clearInProgress}}),o.bind("change",d(v.updateDsFilter,v)),"string"==h&&v.initSuggestDataSource(t),null!==t.inputWidth&&(input.addClass("k-sized-input"),input.width(t.inputWidth)),input.attr("aria-label",v._getColumnTitle()),input.attr("title",v._getColumnTitle()),v._setInputType(t,h),"boolean"!=h&&!1!==t.showOperators?v._createOperatorDropDown(w):(e('<div unselectable="on" />').css("display","none").text("eq").appendTo(f),f.addClass("k-operator-hidden")),v._createClearIcon(),n.bind(this.wrapper,o),"string"==h&&(t.template||v.setAutoCompleteSource()),"enums"==h&&v.setComboBoxSource(v.options.values),v._refreshUI(),v._refreshHandler=d(v._refreshUI,v),v.dataSource.bind("change",v._refreshHandler)},_setInputType:function(t,r){var input=this.input;if("function"==typeof t.template)t.template.call(this.viewModel,{element:this.input,dataSource:this.suggestDataSource}),this._angularItems("compile");else if("string"==r)input.attr(n.attr("role"),"autocomplete").attr(n.attr("text-field"),t.dataTextField||t.field).attr(n.attr("filter"),t.suggestionOperator).attr(n.attr("delay"),t.delay).attr(n.attr("min-length"),t.minLength).attr(n.attr("value-primitive"),!0);else if("date"==r)input.attr(n.attr("role"),"datepicker");else if("boolean"==r){input.remove();var o=e("<input type='radio'/>"),l=this.wrapper,c=n.guid(),h=e("<label/>").text(t.messages.isTrue).append(o);o.attr(n.attr("bind"),"checked:value").attr("name",c).val("true");var d=h.clone().text(t.messages.isFalse);o.clone().val("false").appendTo(d),l.append([h,d])}else"number"==r?input.attr(n.attr("role"),"numerictextbox").attr("title",this._getColumnTitle()):"enums"==r&&input.attr(n.attr("role"),"combobox").attr(n.attr("text-field"),"text").attr(n.attr("suggest"),!0).attr(n.attr("filter"),"contains").attr(n.attr("value-field"),"value").attr(n.attr("value-primitive"),!0)},_getColumnTitle:function(){var e=this.options.column;return e?e.title||e.field:""},_createOperatorDropDown:function(t){var r=[],o=this.viewModel;for(var l in t)r.push({text:t[l],value:l});var c=e('<input class="k-dropdown-operator" '+n.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);this.operatorDropDown=c.kendoDropDownList({dataSource:r,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:!0}).data("kendoDropDownList"),o.bind("change",(function(){var e=t[o.operator];c.attr("aria-label",e)})),this.operatorDropDown.wrapper.find(".k-i-arrow-60-down").removeClass("k-i-arrow-60-down").addClass("k-i-filter")},initSuggestDataSource:function(e){var t,r,l,c=e.suggestDataSource;c instanceof o||(!e.customDataSource&&c&&(c.group=void 0),c=this.suggestDataSource=o.create(c)),e.customDataSource||(c._pageSize=void 0,c.reader.data=(t=c.reader.data,r=this.options.field,l=n.getter(r,!0),function(e){for(var n=t(e),r=[],o=0,c={};o<n.length;){var h=n[o++],text=l(h);c.hasOwnProperty(text)||(r.push(h),c[text]=!0)}return r})),this.suggestDataSource=c},setAutoCompleteSource:function(){var e=this.input.data("kendoAutoComplete");e&&e.setDataSource(this.suggestDataSource)},setComboBoxSource:function(e){var t=o.create({data:e}),n=this.input.data("kendoComboBox");n&&n.setDataSource(t)},_refreshUI:function(){var filter=function t(filter,n){var r=[];if(e.isPlainObject(filter))if(filter.hasOwnProperty("filters"))r=filter.filters;else if(filter.field==n)return filter;e.isArray(filter)&&(r=filter);for(var i=0;i<r.length;i++){var o=t(r[i],n);if(o)return o}}(this.dataSource.filter(),this.options.field)||{},t=this.viewModel;this.manuallyUpdatingVM=!0,filter=e.extend(!0,{},filter),"boolean"==this.options.type&&t.value!==filter.value&&this.wrapper.find(":radio").prop("checked",!1),filter.operator&&t.set("operator",filter.operator),t.set("value",filter.value),this.manuallyUpdatingVM=!1},updateDsFilter:function(t){var n=this.viewModel;if(!(this.manuallyUpdatingVM||"operator"==t.field&&void 0===n.value&&!m(n)||"operator"==t.field&&this._clearInProgress&&null!==n.value)){var r=e.extend({},this.viewModel.toJSON(),{field:this.options.field}),o={logic:"and",filters:[]},l=!1;if((void 0!==r.value&&null!==r.value||m(r)&&!this._clearInProgress)&&(o.filters.push(r),l=this.trigger("change",{filter:o,field:this.options.field})),(this._clearInProgress||null===r.value)&&(l=this.trigger("change",{filter:null,field:this.options.field})),!l){var c=this._merge(o);c.filters.length?this.dataSource.filter(c):this.dataSource.filter({})}}},_merge:function(t){var filter,n,r,o=t.logic||"and",l=t.filters,c=this.dataSource.filter()||{filters:[],logic:"and"};for(function t(n,r){n.filters&&(n.filters=e.grep(n.filters,(function(filter){return t(filter,r),filter.filters?filter.filters.length:filter.field!=r})))}(c,this.options.field),n=0,r=l.length;n<r;n++)(filter=l[n]).value=this._parse(filter.value);return(l=e.grep(l,(function(filter){return""!==filter.value&&null!==filter.value||m(filter)}))).length&&(c.filters.length?(t.filters=l,"and"!==c.logic&&(c.filters=[{logic:c.logic,filters:c.filters}],c.logic="and"),l.length>1?c.filters.push(t):c.filters.push(l[0])):(c.filters=l,c.logic=o)),c},_createClearIcon:function(){e("<button type='button' class='k-button k-button-icon' title = "+this.options.messages.clear+"/>").attr("aria-label",this.options.messages.clear).attr(n.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-filter-clear'/>").click(d(this.clearFilter,this)).appendTo(this.wrapper)},clearFilter:function(){this._clearInProgress=!0,m(this.viewModel.operator)&&this.viewModel.set("operator",this.defaultOperator),this.viewModel.set("value",null),this._clearInProgress=!1},_angularItems:function(e){var t=this.wrapper.closest("th").get(),n=this.options.column;this.angular(e,(function(){return{elements:t,data:[{column:n}]}}))},destroy:function(){this.filterModel=null,this.operatorDropDown=null,this._angularItems("cleanup"),this._refreshHandler&&(this.dataSource.bind("change",this._refreshHandler),this._refreshHandler=null),n.unbind(this.element),l.fn.destroy.call(this),n.destroy(this.element)},events:["change"],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:void 0,customDataSource:!1,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:!0,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:c,neq:h,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:c,neq:h,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:c,neq:h,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:c,neq:h,isnull:"Is null",isnotnull:"Is not null"}}}});r.plugin(v)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1189:function(e,t){e.exports=n(187)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1121)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1121:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1122),n(1123)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.keys,l=r.Widget,c="change",template=n.template,h=e.extend,d=n.support,f=d.mobileOS,m="k-state-default",v=".kendoDateRangePicker",_="click"+v,w=d.mouseAndTouchPresent?n.applyEventMap("up",v.slice(1)):_,y=e.proxy,x=n.parseDate,k=function(e){n.DateView.call(this,e)};function C(e){e.preventDefault()}(k.prototype=Object.create(n.DateView.prototype))._calendar=function(){var div,t=this.calendar,o=this.options;t||(div=e("<div />").attr("id",n.guid()).appendTo(this.popup.element).on("mousedown.kendoDateRangePicker",C).on(_,"td:has(.k-link)",y(this._click,this)),this.calendar=t=new r.MultiViewCalendar(div),this._setOptions(o),n.calendar.makeUnselectable(t.element),t.navigate(this._value||this._current,o.start),this.calendar.selectRange(this._range||o.range||{}))},k.prototype._setOptions=function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,selectable:e.selectable,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,disableDates:e.disableDates,range:e.range})},k.prototype.range=function(e){this._range=e,this.calendar&&(e.start||e.end?this.calendar.selectRange(e):this.calendar.rangeSelectable.clear())},k.prototype.move=function(e){var t=e.keyCode,n=this.calendar,r=e.ctrlKey&&t==o.DOWN||t==o.ENTER,l=!1;if(e.altKey)t==o.DOWN?(this.open(),e.preventDefault(),l=!0):t==o.UP&&(this.close(),e.preventDefault(),l=!0);else if(this.popup.visible()){if(t==o.ESC||r&&n._cell.hasClass("k-state-selected"))return this.close(),e.preventDefault(),!0;this._current=n._move(e,!0),l=!0}return l},k.prototype._click=function(e){f.ios||f.android&&"firefox"==f.browser?this._range&&this._range.end&&this.close():this._range&&null===this._range.end&&-1!==e.currentTarget.className.indexOf("k-state-selected")&&this.close()},n.DateRangeView=k;var S=l.extend({init:function(element,e){var div,t=this;l.fn.init.call(t,element,e),element=t.element,(e=t.options).disableDates=n.calendar.disabled(e.disableDates),e.min=x(element.attr("min"))||x(e.min),e.max=x(element.attr("max"))||x(e.max),t._initialOptions=h({},e),t._buildHTML(),t._range=t.options.range,t.dateView=new k(h({},e,{id:element.attr("id"),anchor:t.wrapper,views:2,selectable:"range",range:t._range,change:function(){var e=this.selectRange();t.range(e),t.trigger(c),t._startDateInput.trigger(c),t._endDateInput.trigger(c)},close:function(e){t.trigger("close")?e.preventDefault():(t.wrapper.attr("aria-expanded",!1),div.attr("aria-hidden",!0))},open:function(e){t.trigger("open")?e.preventDefault():(t.wrapper.attr("aria-expanded",!0),div.attr("aria-hidden",!1),t._updateARIA())}})),div=t.dateView.div,t._ariaTemplate=template(this.options.ARIATemplate),t._reset(),t.wrapper.attr({role:"combobox","aria-expanded":!1,"aria-owns":t.dateView._dateViewID,autocomplete:"off"}),t._inputs.on(w+v,y(t._click,t)).on("keydown"+v,y(t._keydown,t)),t._initializeDateInputs(),element.is("[disabled]")?t.enable(!1):t.readonly(element.is("[readonly]"))},options:{name:"DateRangePicker",labels:!0,footer:"",format:"",culture:"",min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},startField:"",endField:"",dates:[],disableDates:null,range:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',weekNumber:!1,messages:{startLabel:"Start",endLabel:"End"}},events:["open","close",c],setOptions:function(e){l.fn.setOptions.call(this,e),(e=this.options).min=x(e.min),e.max=x(e.max),this._inputs.off(v),this._initializeDateInputs(),this.dateView.setOptions(e),this._range=e.range},_click:function(){this._preventInputAction||this.dateView.popup.visible()||this.dateView.open()},_keydown:function(e){var t,n=this.dateView;this._preventInputAction?e.stopImmediatePropagation():(t=n.move(e),this._updateARIA(n._current),t&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},_updateARIA:function(e){var t,n=this.dateView.calendar;this.element&&this.element.length&&this.element[0].removeAttribute("aria-activedescendant"),n&&(e&&!n._dateInViews(e)&&n.navigate(e),t=n._cellByDate(e||n.current()),n._focusCell(t),t.attr("aria-label",this._ariaTemplate({current:e||n.current()})),this.element.attr("aria-activedescendant",t.attr("id")))},_startChange:function(e){var t=e.sender.value(),n=this._endDateInput.value();this.options.disableDates(t)&&(e.sender.value(null),t=null),this.range({start:t,end:n}),this.trigger(c)},_endChange:function(e){var t=e.sender.value(),n=this._startDateInput.value();this.options.disableDates(t)&&(e.sender.value(null),t=null),this.range({start:n,end:t}),this.trigger(c)},_initializeDateInputs:function(){var e=this.options,t=e.range||{},n={footer:e.footer,format:e.format,culture:e.culture,min:e.min,max:e.max,start:e.start,startField:e.startField,endField:e.endField,depth:e.depth,animation:e.animation,month:e.month,dates:e.dates,disableDates:e.disableDates,ARIATemplate:e.ARIATemplate,weekNumber:e.weekNumber};this._startDateInput&&(this._startDateInput.destroy(),this._endDateInput.destroy(),this.wrapper.empty(),this._buildHTML(),this._inputs.on(w+v,y(this._click,this)).on("keydown"+v,y(this._keydown,this))),this._startDateInput=this._startInput.kendoDateInput(h(!0,n,{value:t.start})).getKendoDateInput(),this._endDateInput=this._endInput.kendoDateInput(h(!0,n,{value:t.end})).getKendoDateInput(),this._startChangeHandler=y(this._startChange,this),this._startDateInput.bind(c,this._startChangeHandler),this._endChangeHandler=y(this._endChange,this),this._endDateInput.bind(c,this._endChangeHandler)},_buildHTML:function(){var element=this.element;this.wrapper||(this.wrapper=element.addClass("k-widget k-daterangepicker")),this.options.labels?(e('<span class="k-textbox-container"><input/><label class="k-label">'+this.options.messages.startLabel+"</label></span>").appendTo(this.wrapper),e('<span>&nbsp;</span><span class="k-textbox-container"><input/><label class="k-label">'+this.options.messages.endLabel+"</label></span>").appendTo(this.wrapper)):e("<input/><span>&nbsp;</span><input/>").appendTo(this.wrapper),this._startInput=this.wrapper.find("input").eq(0),this._endInput=this.wrapper.find("input").eq(1),""!==this.options.startField&&(this._startInput.attr(n.attr("bind"),"value: "+this.options.startField),this._startInput.attr("name",this.options.startField)),""!==this.options.endField&&(this._endInput.attr(n.attr("bind"),"value: "+this.options.endField),this._endInput.attr("name",this.options.endField)),this._inputs=this._startInput.add(this._endInput)},_option:function(option,e){var t=this.options;if(void 0===e)return t[option];(e=x(e,t.parseFormats,t.culture))&&(t[option]=new Date(+e),this.dateView[option](e))},_reset:function(){var t=this,element=t.element,n=element.attr("form"),form=n?e("#"+n):element.closest("form");form[0]&&(t._resetHandler=function(){t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=form.on("reset",t._resetHandler))},_editable:function(t){var n=this._inputs,r=t.readonly,o=t.disable;r||o?(this.wrapper.addClass(o?"k-state-disabled":m).removeClass(o?m:"k-state-disabled"),n.attr("disabled",o).attr("readonly",r).attr("aria-disabled",o),this._preventInputAction=!0):(this.wrapper.addClass(m).removeClass("k-state-disabled"),e.each(n,(function(e,t){t.removeAttribute("disabled"),t.removeAttribute("readonly")})),n.attr("aria-disabled",!1),this._preventInputAction=!1)},destroy:function(){this._startDateInput&&(this._startDateInput.unbind(c,this._startChangeHandler),this._startDateInput.destroy(),this._startChangeHandler=null),this._endDateInput&&(this._endDateInput.unbind(c,this._endChangeHandler),this._endDateInput.destroy(),this._endChangeHandler=null),this._form&&this._form.off("reset",this._resetHandler),this._inputs.off(v),this._inputs=null,this.dateView.destroy(),this.element.off(v),l.fn.destroy.call(this)},range:function(e){if(void 0===e)return this._range;this._range=e,this.dateView.range({start:null,end:null}),e||(this._startDateInput.value(null),this._endDateInput.value(null)),this._startDateInput.value(e.start?e.start:null),this._endDateInput.value(e.end?e.end:null),e.start&&!e.end?this.dateView.range({start:e.start,end:null}):e.start&&e.start&&+e.start<=+e.end&&this.dateView.range({start:e.start,end:e.end})},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},readonly:function(e){this._startDateInput.readonly(e),this._endDateInput.readonly(e),this._editable({readonly:void 0===e||e,disable:!1})},enable:function(e){this._startDateInput.enable(e),this._endDateInput.enable(e),e||this.close(),this._editable({readonly:!1,disable:!(e=void 0===e||e)})}});n.ui.plugin(S)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1122:function(e,t){e.exports=n(184)},1123:function(e,t){e.exports=n(32)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1311)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1057:function(e,t){e.exports=n(20)},1062:function(e,t){e.exports=n(5)},1311:function(e,t,n){var r,o,l;n(3),o=[n(1057),n(1016),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=e.proxy,l=n.effects.Transition,c=n.ui.Pane,h=n.ui.PaneDimensions,d=r.DataBoundWidget,f=n.data.DataSource,m=Math,v=m.abs,_=m.ceil,w=m.round,y=m.max,x=m.min,k=m.floor,C="change";function S(e){return"k-"+e}var T=n.Observable.extend({init:function(e){var t=this;this.dataSource=e,this.pendingRequestArray=[],this.initialFetch=!1,this.useRanges=e.options.serverPaging,n.Observable.fn.init.call(this),e.bind("change",(function(){t._change()}))},_change:function(){this.trigger("reset",{offset:this.offset})},page:function(e,t){var n=this;this.useRanges||(this.dataSource.page(e+1),t?t(n.dataSource.view()):n.trigger("page",{page:e})),this.useRanges&&this.dataSource.range(e*this.dataSource.pageSize(),this.dataSource.pageSize(),(function(){t?t(n.dataSource.view()):n.trigger("page",{page:e})}))},scrollTo:function(e){var t=Math.ceil(this.dataSource.total()/this.dataSource.pageSize()||1),n=e-1,r=n-1,o=e,l=t>0&&e+1>=t?-1:e+1,c=t>0&&l+1>=t?-1:l+1;l>=0&&this.pendingRequestArray.push(l),n>=0&&this.pendingRequestArray.push(n),r>=0&&this.pendingRequestArray.push(r),c>=0&&this.pendingRequestArray.push(c),this.page(o)},getViewData:function(){var data,view=this.dataSource.view();if(this.dataSource.options.pageSize>1){data=[];for(var e=0;e<view.length;e++)data.push(view[e])}else data=view[0];return data},destroy:function(){this.dataSource.unbind(),this.dataSource=null}});n.ui.ScrollViewDataReader=T;var D=n.Class.extend({init:function(t){var element=e("<ul class='"+S("scrollview-nav")+"'/>"),n=e("<div class='"+S("scrollview-nav-wrap")+"'></div>");n.append(element),t._navigationContainer.append(n),this._changeProxy=o(this,"_change"),this._refreshProxy=o(this,"_refresh"),t.bind(C,this._changeProxy),t.bind("refresh",this._refreshProxy),element.on("click","li.k-link",o(this._click,t)),e.extend(this,{element:element,scrollView:t})},items:function(){return this.element.children()},_refresh:function(e){for(var t="",n=0;n<e.pageCount;n++)t+='<li class="k-link"></li>';this.element.html(t),this.items().eq(e.page).addClass(S("primary")),this.scrollView._toggleNavigation({currentPage:e.page})},_change:function(e){if(!e.isDefaultPrevented()){var t=this.scrollView._navigationContainer.find(".k-scrollview-nav"),n=this.scrollView.element.width(),r=(n-t.width())/2,o=t.find("li.k-link:eq(0)").outerWidth(!0)/2;this.items().removeClass(S("primary")).eq(e.nextPage).addClass(S("primary"));var l=this.items().eq(e.nextPage).length>0?this.items().eq(e.nextPage).position().left:0;if(l>n/2||l<t.scrollLeft()+n/2){var c=0;c=l>n/2?t.scrollLeft()+l-n/2:t.scrollLeft()-(n/2-l),c+=r+o,t.animate({scrollLeft:c},300)}this.scrollView._toggleNavigation({currentPage:e.currentPage,nextPage:e.nextPage})}},_click:function(t){var n=e(t.currentTarget).index();this.scrollTo(n)},destroy:function(){this.scrollView.unbind(C,this._changeProxy),this.scrollView.unbind("refresh",this._refreshProxy),this.element.off("click"),this.element.remove()}});n.ui.ScrollViewPager=D;var E=n.Observable.extend({init:function(element,t){var r,o,d,f,m,_,w=this;n.Observable.fn.init.call(this),this.element=element,this.container=element.parent(),r=new n.ui.Movable(w.element),o=new l({axis:"x",movable:r,onEnd:function(){w.trigger("transitionEnd")}}),d=new n.UserEvents(element,{fastTap:!0,start:function(e){2*v(e.x.velocity)>=v(e.y.velocity)?d.capture():d.cancel(),w.trigger("dragStart",e),o.cancel()},allowSelection:!0,end:function(e){w.trigger("dragEnd",e)}}),(m=(f=new h({element:w.element,container:w.container})).x).bind(C,(function(){w.trigger(C)})),_=new c({dimensions:f,userEvents:d,movable:r,elastic:!0}),e.extend(w,{duration:t&&t.duration||1,movable:r,transition:o,userEvents:d,dimensions:f,dimension:m,pane:_}),this.bind(["transitionEnd","dragStart","dragEnd",C],t)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(!0)},refresh:function(){this.dimensions.refresh(),this.dimensions.y.enabled=!1},moveTo:function(e){this.movable.moveAxis("x",-e)},transitionTo:function(e,t,n){n?this.moveTo(-e):this.transition.moveTo({location:e,duration:this.duration,ease:t})},destroy:function(){this.userEvents.destroy(),this.unbind(),this.movable=this.tansition=this.dimensions=this.dimension=this.pane=null,this.element.remove()}});n.ui.ScrollViewElasticPane=E;var A=n.Observable.extend({init:function(element,e,t){n.Observable.fn.init.call(this),this.element=element,this.pane=e,this._getPages(),this.page=0,this.pageSize=t.pageSize||1,this.contentHeight=t.contentHeight,this.enablePager=t.enablePager,this.pagerOverlay=t.pagerOverlay},scrollTo:function(e,t){(e!=this.page||t)&&(this.trigger("resize",{currentPage:this.page,nextPage:e,data:void 0})||(this.page=e,this.pane.transitionTo(-e*this.pane.size().width,l.easeOutExpo,t)))},paneMoved:function(e,t,n,r){var o,c,h=this.pane,d=h.size().width*this.pageSize,f=w,m=t?l.easeOutBack:l.easeOutExpo;if(-1===e?f=_:1===e&&(f=k),(c=f(h.offset()/d))<0||c>=this.pageCount){var v=c<0?0:-this.page*this.pane.size().width;return this.pane.transitionTo(v,m,r)}o=y(this.minSnap,x(-c*d,this.maxSnap)),c!=this.page&&n&&n({currentPage:this.page,nextPage:c})&&(o=-this.page*h.size().width),h.transitionTo(o,m,r)},updatePage:function(){var e=this.pane,t=w(e.offset()/e.size().width);return t!=this.page&&(this.page=t,!0)},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(e){var t=this.pane,r=e.width;if(this.pageElements.width(r),"100%"===this.contentHeight){var o=this.element.parent().height();if(!0===this.enablePager){var l=this.element.parent().find("ul.k-scrollview-nav");!this.pagerOverlay&&l.length&&(o-=n._outerHeight(l,!0))}this.element.css("height",o),this.pageElements.css("height",o)}t.updateDimension(),this._paged||(this.page=k(t.offset()/r)),this.scrollTo(this.page,!0,!0),this.pageCount=k(t.total()/r),this.minSnap=-(this.pageCount-1)*r,this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(n.roleSelector("page")),this._paged=this.pageElements.length>0},destroy:function(){this.pane=null,this.element.remove()}});n.ui.ScrollViewContent=A;var I=n.Observable.extend({init:function(element,e,t){n.Observable.fn.init.call(this),this.element=element,this.pane=e,this.options=t,this._templates(),this.page=t.page||0,this.pages=[],this._initPages(),this.resizeTo(this.pane.size()),this.pane.dimension.forceEnabled()},setDataSource:function(e){this.dataSource=f.create(e),this._dataReader(),this._pendingPageRefresh=!1,this._pendingWidgetRefresh=!1},_viewShow:function(){var e=this;e._pendingWidgetRefresh&&(setTimeout((function(){e._resetPages()}),0),e._pendingWidgetRefresh=!1)},_dataReader:function(){this.dataReader=new T(this.dataSource),this._pageProxy=o(this,"_onPage"),this._resetProxy=o(this,"_onReset"),this.dataReader.bind({page:this._pageProxy,reset:this._resetProxy})},_templates:function(){var template=this.options.template,e=this.options.emptyTemplate,t={},r={};"function"==typeof template&&(t.template=template,template="#=this.template(data)#"),this.template=o(n.template(template),t),"function"==typeof e&&(r.emptyTemplate=e,e="#=this.emptyTemplate(data)#"),this.emptyTemplate=o(n.template(e),r)},_initPages:function(){for(var e,t=this.pages,element=this.element,i=0;i<3;i++)e=new M(element),t.push(e);this.pane.updateDimension()},resizeTo:function(e){for(var t=this.pages,r=this.pane,i=0;i<t.length;i++)t[i].setWidth(e.width);if("auto"===this.options.contentHeight)this.element.css("height",this.pages[1].element.height());else if("100%"===this.options.contentHeight){var o=this.element.parent().height();if(!0===this.options.enablePager){var l=this.element.parent().find("ul.k-scrollview-nav");!this.options.pagerOverlay&&l.length&&(o-=n._outerHeight(l,!0))}this.element.css("height",o),t[0].element.css("height",o),t[1].element.css("height",o),t[2].element.css("height",o)}else this.options.contentHeight&&(t[0].element.css("height",this.options.contentHeight),t[1].element.css("height",this.options.contentHeight),t[2].element.css("height",this.options.contentHeight));r.updateDimension(),this._repositionPages(),this.width=e.width},scrollTo:function(e,t,n){var r=this,o=r.dataReader;(e!=r.page||t)&&o.page(e,(function(data){n?o.scrollTo(e):r.trigger("resize",{currentPage:r.page,nextPage:e,data:data})||(t?r.page=e:(o.pagerScroll=e>r.page?-1:1,r.page=e+o.pagerScroll),o.scrollTo(e))}))},paneMoved:function(e,t,r,o){var l,data,element,c=this.pane,h=c.size().width,d=c.offset(),f=Math.abs(d)>=h/3,m=t?n.effects.Transition.easeOutBack:n.effects.Transition.easeOutExpo,v=!!this.dataSource.options.serverPaging&&this.page+2>this.pageCount,_=0;1===e?0!==this.page&&(_=-1):-1!==e||v?d>0&&f&&!v?_=1:d<0&&f&&0!==this.page&&(_=-1):_=1,l=this.page,_&&(l=_>0?l+1:l-1,this instanceof n.ui.VirtualScrollViewContent?(this.dataReader.page(l),data=this.dataReader.getViewData()):data=void 0,data instanceof Array||(data=[data]),element=this.pages?this.pages[1].element:void 0),r&&this.page!=l&&r({currentPage:this.page,nextPage:l,element:element,data:data})&&(_=0),0===_?this._cancelMove(m,o):-1===_?this._moveBackward(o):1===_&&this._moveForward(o)},updatePage:function(){var e=this.pages;return 0!==this.pane.offset()&&(this.pane.offset()>0?(e.push(this.pages.shift()),this.page++,this.page+2<this.pageCount&&this.dataReader.pendingRequestArray.push(this.page+2),this.page+1<this.pageCount&&this.dataReader.page(this.page+1),this.page+1==this.pageCount&&this.setPageContent(this.pages[2],null)):(e.unshift(this.pages.pop()),this.page--,this.page-2>=0&&this.dataReader.pendingRequestArray.push(this.page-2),this.page-1>=0&&this.dataReader.page(this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdate:function(){var e=this.pane.offset(),t=3*this.pane.size().width/4;return v(e)>t&&this.updatePage()},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(e){this.pane.transitionTo(-this.width,n.effects.Transition.easeOutExpo,e)},_moveBackward:function(e){this.pane.transitionTo(this.width,n.effects.Transition.easeOutExpo,e)},_cancelMove:function(e,t){this.pane.transitionTo(0,e,t)},_resetPages:function(){this.page=this.options.page||0,this._repositionPages(),this.trigger("reset")},_onPage:function(e){if(e.page>=this.pageCount&&this.setPageContent(this.pages[2],null),this.page==e.page?!this.dataReader.pagerScroll||0===this.dataReader.pagerScroll&&this.dataReader.initialFetch?this.setPageContent(this.pages[1],this.dataReader.getViewData()):(this.dataReader.pagerScroll<0?this._moveForward():this._moveBackward(),this.dataReader.pagerScroll=0,this.setPageContent(this.pages[1],this.dataReader.getViewData())):this.page+1==e.page?this.setPageContent(this.pages[2],this.dataReader.getViewData()):this.page-1==e.page&&this.setPageContent(this.pages[0],this.dataReader.getViewData()),this.dataReader.pendingRequestArray.length>0&&this.dataReader.initialFetch){var t=this.dataReader.pendingRequestArray.shift();this.dataReader.page(t)}},_onReset:function(){this.pageCount=_(this.dataSource.total()/this.dataSource.pageSize())},_repositionPages:function(){var e=this.pages;e[0].position(-1),e[1].position(0),e[2].position(1)},setPageContent:function(e,data){var template=this.template,t=this.emptyTemplate;null!=data?e.content(template(data)):e.content(t({}))},destroy:function(){var e=this.pages;this.dataReader.unbind(),this.dataSource.unbind(),this.dataReader=this.dataSource=this.pane=null;for(var t=0;t<e.length;t++)e[t].destroy();this.element.remove()}});n.ui.VirtualScrollViewContent=I;var M=n.Class.extend({init:function(t){this.element=e("<li class='"+S("scrollview-page")+"'></li>"),this.width=t.width(),this.element.width(this.width),t.append(this.element)},content:function(e){this.element.html(e)},position:function(e){this.element.css("transform","translate3d("+this.width*e+"px, 0, 0)")},setWidth:function(e){this.width=e,this.element.width(e)},destroy:function(){this.element.remove(),this.element=null}});n.ui.VirtualPage=M;var R=d.extend({init:function(element,e){var t=this;d.fn.init.call(t,element,e),e=t.options,element=t.element,n.stripWhitespace(element[0]),0===element.children().length?element.wrapInner("<ul class='k-scrollview-wrap'/>"):element.wrapInner("<div class='k-scrollview-wrap'/>"),element.addClass("k-widget "+S("scrollview")),t._initNavigation(),this.options.enablePager?(this.pager=new D(this),this.options.pagerOverlay&&element.addClass(S("scrollview-overlay"))):(this._changeProxy=o(t,"_toggleNavigation"),this.bind(C,this._changeProxy)),t.inner=element.children().first(),t.page=0,t.inner.css("height",e.contentHeight),t.pane=new E(t.inner,{duration:this.options.duration,transitionEnd:o(this,"_transitionEnd"),dragStart:o(this,"_dragStart"),dragEnd:o(this,"_dragEnd"),change:o(this,"refresh")}),t.bind("resize",(function(){t.pane.refresh()})),t.page=e.page;var content=0===this.inner.children().length?new I(t.inner,t.pane,e):new A(t.inner,t.pane,e);content.page=t.page,content.bind("reset",(function(){this._pendingPageRefresh=!1,t.trigger("refresh",{pageCount:content.pageCount,page:content.page}),t._toggleNavigation({currentPage:content.page,nextPage:content.page})})),content.bind("resize",(function(e){content.page!=e.nextPage&&(e._defaultPrevented=t.trigger(C,{currentPage:content.page,nextPage:e.nextPage,data:e.data})),t._toggleNavigation({currentPage:content.page,nextPage:e.nextPage})})),content.bind("itemChange",(function(e){t.trigger("itemChange",e),t.angular("compile",(function(){return{elements:e.item,data:[{dataItem:e.data}]}}))})),content.bind("cleanup",(function(e){t.angular("cleanup",(function(){return{elements:e.item}}))})),t._content=content,t.setDataSource(e.dataSource),this.viewInit(),this.viewShow()},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,bounceVelocityThreshold:1.6,enablePager:!0,enableNavigationButtons:!0,pagerOverlay:!0,autoBind:!0,template:"",emptyTemplate:""},events:["changing",C,"refresh"],destroy:function(){d.fn.destroy.call(this),this._content.destroy(),this.pane.destroy(),this.pager&&this.pager.destroy(),this.inner=null,n.destroy(this.element)},viewInit:function(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0,!0)},viewShow:function(){this.pane.refresh()},refresh:function(){var content=this._content,e=this.options;content.resizeTo(this.pane.size()),this.page=content.page,(content instanceof A||content.dataReader.initialFetch)&&(e.enablePager?this.trigger("refresh",{pageCount:content.pageCount,page:content.page}):this.trigger(C,{pageCount:content.pageCount,currentPage:content.page}))},content:function(html){this.element.children().first().html(html),this._content._getPages(),this.pane.refresh()},scrollTo:function(e,t,n){this._content.scrollTo(e,t,n)},prev:function(){var e=this,t=e._content.page-1;e._content instanceof I?e._content.paneMoved(1,void 0,(function(t){return e.trigger(C,t)})):t>-1&&e.scrollTo(t)},next:function(){var e=this,t=e._content.page+1;e._content instanceof I?e._content.paneMoved(-1,void 0,(function(t){return e.trigger(C,t)})):t<e._content.pageCount&&e.scrollTo(t)},setDataSource:function(e){var t=this;if(this._content instanceof I){var n=!e;e instanceof f?(e.options.pageSize=e.options.pageSize||1,this.dataSource=e=new f(e.options)):this.dataSource=f.create(e),this._content.setDataSource(this.dataSource),this.options.autoBind&&!n&&this.dataSource.fetch((function(){t._content.dataReader.initialFetch=!0,t.scrollTo(t._content.page,!0,!0),t._content.trigger("reset")}))}},items:function(){return this.element.find(".k-scrollview-page")},_dragStart:function(){this._content.forcePageUpdate()},_dragEnd:function(e){var t=this,n=e.x.velocity,r=this.options.velocityThreshold,o=0,l=v(n)>this.options.bounceVelocityThreshold;n>r?o=1:n<-r&&(o=-1),this._content.paneMoved(o,l,(function(e){return t.trigger(C,e)}))},_transitionEnd:function(){this._content.updatePage()},_initNavigation:function(){var t=this._navigationContainer=e("<div class='k-scrollview-elements'></div>"),n=e('<a class="k-scrollview-prev"><span class="k-icon k-i-arrowhead-w"></span></a>').hide(),r=e('<a class="k-scrollview-next"><span class="k-icon k-i-arrowhead-e"></span></a>').hide();t.append(n),t.append(r),this.element.append(t),t.on("click","a.k-scrollview-prev",o(this.prev,this)),t.on("click","a.k-scrollview-next",o(this.next,this))},_toggleNavigation:function(e){var t=e.nextPage||0===e.nextPage?e.nextPage:e.currentPage,n=this._navigationContainer,r=n.find(">a.k-scrollview-prev"),o=n.find(">a.k-scrollview-next");r.hide(),o.hide(),(t||0===t)&&(0!==t&&r.show(),t!=this._content.pageCount-1&&o.show())}});r.plugin(R)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1298)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1011:function(e,t){e.exports=n(13)},1013:function(e,t){e.exports=n(182)},1144:function(e,t){e.exports=n(21)},1196:function(e,t){e.exports=n(68)},1200:function(e,t){e.exports=n(96)},1201:function(e,t){e.exports=n(42)},1211:function(e,t){e.exports=n(196)},1213:function(e,t){e.exports=n(97)},1214:function(e,t){e.exports=n(137)},1298:function(e,t,n){var r,o,l;n(3),o=[n(1011),n(1201),n(1013),n(1144),n(1200),n(1300),n(1301),n(1299),n(1302),n(1303),n(1304),n(1213),n(1211),n(1196),n(1214)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.date,o=r.MS_PER_DAY,l=r.getDate,c=n.date.getMilliseconds,h=n.recurrence,d=e.extend({F10:121},n.keys),f=n.ui,m=f.Widget,v=f.DataBoundWidget,_=f.Popup,w=f.Calendar,y=n.data.DataSource,x=e.isPlainObject,k=e.extend,C=e.proxy,S=Object.prototype.toString,T=e.isArray,D=".kendoScheduler",E="click",A=n.support.pointers?"pointerdown":"touchstart",I=n.support.pointers?"pointermove":"touchmove",M=n.support.pointers?"pointerup":"touchend",R=n.support.mousemove,F="k-state-focused",P="k-state-expanded",z=".k-scheduler-views",B=/(?:value:start|value:end)(?:,|$)/,L=l(new Date),H=/\;/g,N="Do you want to edit only this event occurrence or the whole series?",O=n.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),V=n.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-file-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link" title="${messages.today}">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link" title="${messages.previous}" aria-label="${messages.previous}"><span class="k-icon k-i-arrow-60-left" style="pointer-events: none"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link" title="${messages.next}" aria-label="${messages.next}"><span class="k-icon k-i-arrow-60-right" style="pointer-events: none"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-reload"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div>'),W=n.template('<div class="k-header k-scheduler-toolbar"><ul class="k-reset k-scheduler-tools"># if (pdf) { #<li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-file-pdf"></span></a></li># } #<li><a role="button" href="\\#" class="k-button k-nav-calendar"><span class="k-icon k-i-calendar"></span></a></li># if (editable) { #<li><a role="button" href="\\#" class="k-button k-create-event"><span class="k-icon k-i-plus"></span></a></li># } #</ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-reload"></span></a>#}else{#<select class="k-scheduler-mobile-views">#for(var view in views){#<option class="k-state-default k-view-#= view.toLowerCase() #" value="#=view#">${views[view].title}</option>#}#</select>#}#</div><div class="k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-chevron-left"></span></a></li><li class="k-state-default k-nav-current"><span class="k-m-date-format" data-#=ns#bind="text: formattedMobileDate"></span><span class="k-y-date-format" data-#=ns#bind="text: formattedYear"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-chevron-right"></span></a></li></ul></div>');function U(e,t){return t=t||"",e.startTimezone&&(t=e.startTimezone,e.endTimezone&&(t+=" | "+e.endTimezone)),t}function j(e,t){var r=t.timezone;r&&(e[n.attr("timezone")]=r)}function G(e,t){var r=t.model.fields[t.field].validation;if(r){var o=r.validDateValidator;o&&x(o)&&o.message&&(e[n.attr("validDate-msg")]=o.message)}}function $(e,t){var r=t.model.fields[t.field].validation;if(r){var o=r.dateCompare;o&&x(o)&&o.message&&(e[n.attr("dateCompare-msg")]=o.message)}}function Y(data,e,t,r){var o,l,c;for(l=0,c=(data=data||[]).length;l<c;l++)o=data[l],r?o.startTimezone||o.endTimezone?t?(o.start=n.timezone.convert(o.start,o.startTimezone||o.endTimezone,t),o.end=n.timezone.convert(o.end,o.endTimezone||o.startTimezone,t),o.start=n.timezone[e](o.start,t),o.end=n.timezone[e](o.end,t)):(o.start=n.timezone[e](o.start,o.startTimezone||o.endTimezone),o.end=n.timezone[e](o.end,o.endTimezone||o.startTimezone)):t&&(o.start=n.timezone[e](o.start,t),o.end=n.timezone[e](o.end,t)):o.startTimezone||o.endTimezone?(o.start=n.timezone[e](o.start,o.startTimezone||o.endTimezone),o.end=n.timezone[e](o.end,o.endTimezone||o.startTimezone),t&&(o.start=n.timezone.convert(o.start,o.startTimezone||o.endTimezone,t),o.end=n.timezone.convert(o.end,o.endTimezone||o.startTimezone,t))):t&&(o.start=n.timezone[e](o.start,t),o.end=n.timezone[e](o.end,t)),r&&delete o.uid;return data}function K(data,e){for(var t,n=data.length,r=0;r<n;r++)if((t=data[r]).uid===e)return t}var Q=n.Class.extend({init:function(t,r){var o=t.timezone;this.reader=r,r.model&&(this.model=r.model),this.timezone=o,this.data=function(e,t){return function(data){return Y(data=e(data),"apply",t),data||[]}}(e.proxy(this.data,this),o),this.serialize=function(e,t){return function(data){return data&&("[object Array]"===S.call(data)||data instanceof n.data.ObservableArray||(data=[data])),Y(data,"remove",t,!0),(data=e(data))||[]}}(e.proxy(this.serialize,this),o)},errors:function(data){return this.reader.errors(data)},parse:function(data){return this.reader.parse(data)},data:function(data){return this.reader.data(data)},total:function(data){return this.reader.total(data)},groups:function(data){return this.reader.groups(data)},aggregates:function(data){return this.reader.aggregates(data)},serialize:function(data){return this.reader.serialize(data)}});function X(e,t,r){return e=r?n.timezone.convert(e,t,r):n.timezone.remove(e,t)}function J(input){if(input.filter("[name=start]").length&&input.filter("[title=Start]").length||input.filter("[name=end]").length&&input.filter("[title=End]").length){var e=n.widgetInstance(input,n.ui);return e?!!n.parseDate(input.val(),e.options.format)&&e.value():!!n.parseDate(input.val())}return!0}var Z=n.data.Model.define({init:function(e){n.data.Model.fn.init.call(this,e),this._defaultId=this.defaults[this.idField]},_time:function(e){var t=this[e],r="_"+e+"Time";return this[r]?this[r]-n.date.toUtcTime(n.date.getDate(t)):c(t)},_date:function(e){var t="_"+e+"Time";return this[t]?this[t]-this._time(e):n.date.getDate(this[e])},clone:function(t,n){var r=this.uid,o=new this.constructor(e.extend({},this.toJSON(),t));return n||(o.uid=r),o},duration:function(){var e=this.end,t=this.start,r=(e.getTimezoneOffset()-t.getTimezoneOffset())*n.date.MS_PER_MINUTE;return e-t-r},expand:function(e,t,n){return h?h.expand(this,e,t,n):[this]},update:function(e){for(var t in e)this.set(t,e[t]);this._startTime&&this.set("_startTime",n.date.toUtcTime(this.start)),this._endTime&&this.set("_endTime",n.date.toUtcTime(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=n.date.MS_PER_DAY},isException:function(){return!this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!(!this.recurrenceRule&&!this.recurrenceId)},isRecurrenceHead:function(){return!(!this.id||!this.recurrenceRule)},toOccurrence:function(t){return(t=e.extend(t,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId}))[this.idField]=this.defaults[this.idField],this.clone(t,!0)},toJSON:function(){var e=n.data.Model.fn.toJSON.call(this);return e.uid=this.uid,delete e._startTime,delete e._endTime,e},shouldSerialize:function(e){return n.data.Model.fn.shouldSerialize.call(this,e)&&"_defaultId"!==e},set:function(e,t){var r=this.isAllDay||!1;if(n.data.Model.fn.set.call(this,e,t),"isAllDay"==e&&t!=r){var l=n.date.getDate(this.start),c=new Date(this.end),h=n.date.getMilliseconds(c);0===h&&t&&(h=o),this.set("start",l),!0===t?(n.date.setTime(c,-h),c<l&&(c=l)):n.date.setTime(c,o-h),this.set("end",c)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0,validDate:{value:J}}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,validDate:{value:J},dateCompare:{value:function(input){if(input.filter("[name=end]").length){var e=input.closest(".k-scheduler-edit-form"),t=e.find("[name=start]:visible"),r=e.find("[name=end]:visible");if(r[0]&&t[0]){var o,l,c=n.widgetInstance(t,n.ui),h=n.widgetInstance(r,n.ui),d=e.data("kendoEditable"),f=d?d.options.model:null;if(c&&h?(o=c.value(),l=h.value()):(o=n.parseDate(t.val()),l=n.parseDate(r.val())),o&&l){if(f){var m=t.attr(n.attr("timezone")),v=f.startTimezone,_=f.endTimezone;v=v||_,_=_||v,v&&(o=X(o,v,m),l=X(l,_,m))}return o<=l}}}return!0}}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),ee=y.extend({init:function(e){y.fn.init.call(this,k(!0,{},{schema:{modelBase:Z,model:Z}},e)),this.reader=new Q(this.options.schema,this.reader)},expand:function(e,t){var r,data=this.view(),filter={};return e&&t&&(r=t.getTimezoneOffset(),(t=new Date(t.getTime()+o-1)).getTimezoneOffset()!==r&&(t=n.timezone.apply(t,r)),filter={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lte",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(e.getTime()+o-1)},{field:"end",operator:"gte",value:e}]}]},data=new n.data.Query(function(e,t,n,r){for(var o=e.length,data=[],l=0;l<o;l++)data=data.concat(e[l].expand(t,n,r));return data}(data,e,t,this.reader.timezone)).filter(filter).toArray()),data},cancelChanges:function(e){e&&e.isOccurrence()&&this._removeExceptionDate(e),y.fn.cancelChanges.call(this,e)},insert:function(e,t){if(t){if(!(t instanceof Z)){var n=t;(t=this._createNewModel()).accept(n)}return(!this._pushCreated&&t.isRecurrenceHead()||t.recurrenceId)&&(t=t.recurrenceId?t:t.toOccurrence(),this._addExceptionDate(t)),y.fn.insert.call(this,e,t)}},pushCreate:function(e){this._pushCreated=!0,y.fn.pushCreate.call(this,e),this._pushCreated=!1},remove:function(e){return e.isRecurrenceHead()?this._removeExceptions(e):e.isRecurring()&&this._addExceptionDate(e),y.fn.remove.call(this,e)},_removeExceptions:function(e){for(var data=this.data().slice(0),t=data.shift(),n=e.id;t;)t.recurrenceId===n&&y.fn.remove.call(this,t),t=data.shift();e.set("recurrenceException","")},_removeExceptionDate:function(e){if(e.recurrenceId){var head=this.get(e.recurrenceId);if(head){var t=e.defaults.start,n=new RegExp("(\\,?)"+h.toExceptionString(t,this.reader.timezone)),r=(head.recurrenceException||"").replace(H,",").replace(/\,$/,"");n.test(r)?head.set("recurrenceException",r.replace(n,"")):(t=e.start,n=new RegExp("(\\,?)"+h.toExceptionString(t,this.reader.timezone)),head.set("recurrenceException",r.replace(n,"")))}}},_addExceptionDate:function(e){var t=e.start,n=this.reader.timezone,head=this.get(e.recurrenceId),r=(head.recurrenceException||"").replace(H,",").replace(/\,$/,"");if(!h.isException(r,t,n)){var o=h.toExceptionString(t,n);e.defaults.start=t,head.set("recurrenceException",r+(r&&o?",":"")+o)}}});ee.create=function(e){(T(e)||e instanceof n.data.ObservableArray)&&(e={data:e});var t=e||{},data=t.data;if(t.data=data,!(t instanceof ee)&&t instanceof n.data.DataSource)throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return t instanceof ee?t:new ee(t)},k(!0,n.data,{SchedulerDataSource:ee,SchedulerDataReader:Q,SchedulerEvent:Z});var te={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-i-close",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}};function ie(t,r){var o,l,c=(t.fields||t)[r],h=["url","email","number","date","boolean"],d=c?c.validation:{},f=n.attr("type"),m=e.inArray,v={};for(o in d)l=d[o],m(o,h)>=0?v[f]=o:n.isFunction(l)||(v[o]=x(l)?l.value||o:l),v[n.attr(o+"-msg")]=l.message;return v}function ne(t){var n=ie(t.model,t.field);return function(t,r){e('<textarea name="description" class="k-textbox" title="'+r.title+'"/>').attr(n).appendTo(t)}}function re(e,t){var r=e.end.getTime()-e.start.getTime(),o=new Date(e.start.getTime());n.date.setTime(o,t);var l=new Date(o.getTime());return n.date.setTime(l,r,!0),{start:o,end:l}}var oe={mobile:{dateRange:function(t,r){var o={name:r.field,title:r.title},l=r.model.isAllDay,c=n.attr("validate")+"='"+!l+"'",h=n.attr("validate")+"='"+l+"'";j(o,r),G(o,r),$(o,r),e('<input type="datetime-local" required '+n.attr("type")+'="datetime-local" '+n.attr("bind")+'="value:'+r.field+', invisible:isAllDay" '+c+"/>").attr(o).appendTo(t),e('<input type="date" required '+n.attr("type")+'="date" '+n.attr("bind")+'="value:'+r.field+',visible:isAllDay" '+h+"/>").attr(o).appendTo(t),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},timezonePopUp:function(t,n){var text=U(n.model,n.messages.noTimezone);e('<span class="k-timezone-label"></span>').text(text).appendTo(t),e('<span class="k-icon k-i-arrow-chevron-right"></span>').appendTo(t),t.closest("li.k-item label").click(n.click)},timezone:function(t,r){e('<div class="k-mobiletimezoneeditor" '+n.attr("bind")+'="value:'+r.field+'" />').attr({name:r.field}).appendTo(t).kendoMobileTimezoneEditor({optionLabel:r.noTimezone})},recurrence:function(t,r){e("<div "+n.attr("bind")+'="value:'+r.field+'" />').attr({name:r.field}).appendTo(t).kendoMobileRecurrenceEditor({start:r.model.start,timezone:r.timezone,messages:r.messages,pane:r.pane,value:r.model[r.field]})},description:ne,multipleResources:function(t,r){var o=ie(r,t.field);return function(r){for(var l="",view=t.dataSource.view(),c=0,h=view.length;c<h;c++)l+=n.format('<option value="{0}">{1}</option>',n.getter(t.dataValueField)(view[c]),n.getter(t.dataTextField)(view[c]));e(n.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',n.ns,t.field,l,t.valuePrimitive)).appendTo(r).attr(o)}},resources:function(t,r){var o=ie(r,t.field);return function(r){for(var l="",view=t.dataSource.view(),c=0,h=view.length;c<h;c++)l+=n.format('<option value="{0}">{1}</option>',n.getter(t.dataValueField)(view[c]),n.getter(t.dataTextField)(view[c]));e(n.format('<select data-{0}bind="value:{1}">{2}</select>',n.ns,t.field,l,t.valuePrimitive)).appendTo(r).attr(o)}},isAllDay:function(t,r){e('<input type="checkbox" data-role="switch"'+n.attr("bind")+'="value:'+r.field+'" />').appendTo(t)}},desktop:{dateRange:function(t,r){var o={name:r.field,title:r.title},l=r.model.isAllDay,c=n.attr("validate")+"='"+!l+"' ",h=n.attr("validate")+"='"+l+"' ";j(o,r),G(o,r),$(o,r),e('<input type="text" required '+n.attr("type")+'="date" '+n.attr("role")+'="datetimepicker" '+n.attr("bind")+'="value:'+r.field+',invisible:isAllDay" '+c+"/>").attr(o).appendTo(t),e('<input type="text" required '+n.attr("type")+'="date" '+n.attr("role")+'="datepicker" '+n.attr("bind")+'="value:'+r.field+',visible:isAllDay" '+h+"/>").attr(o).appendTo(t),e("<span "+n.attr("bind")+'="text: '+r.field+'Timezone"></span>').appendTo(t),"end"===r.field&&e("<span "+n.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(t),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},timezonePopUp:function(t,n){e('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+n.messages.timezoneEditorButton+"</a>").click(n.click).appendTo(t)},timezone:function(t,r){var o=r.visible||void 0===r.visible;e("<div "+n.attr("bind")+'="value:'+r.field+'" />').attr({name:r.field}).toggle(o).appendTo(t).kendoTimezoneEditor({optionLabel:r.noTimezone,title:r.title})},recurrence:function(t,r){e("<div "+n.attr("bind")+'="value:'+r.field+'" />').attr({name:r.field}).appendTo(t).kendoRecurrenceEditor({start:r.model.start,timezone:r.timezone,messages:r.messages})},description:ne,multipleResources:function(t,r){var o=ie(r,t.field);return function(r){e(n.format('<select data-{0}bind="value:{1}">',n.ns,t.field)).appendTo(r).attr(o).kendoMultiSelect({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,itemTemplate:n.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField),tagTemplate:n.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}},resources:function(t,r){var o=ie(r,t.field);return function(l){e(n.format('<select data-{0}bind="value:{1}" title="'+r.title+'">',n.ns,t.field)).appendTo(l).attr(o).kendoDropDownList({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,optionLabel:"None",template:n.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}}},se=n.Observable.extend({init:function(element,e){n.Observable.fn.init.call(this),this.element=element,this.options=k(!0,{},this.options,e),this.createButton=this.options.createButton,this.toggleDateValidationHandler=C(this._toggleDateValidation,this)},_toggleDateValidation:function(t){if("isAllDay"==t.field){var element,r,o,l=this.container,c=this.editable.options.model.isAllDay,h=n.attr("bind");l.find("["+h+"*=end],["+h+"*=start]").each((function(){element=e(this),B.test(element.attr(h))&&(r=element.is("["+n.attr("role")+"=datetimepicker],[type*=datetime]"),o=c!==r,element.attr(n.attr("validate"),o))}))}},fields:function(e,t){var r=this,o=r.options.messages,l=r.options.timezone,c=[{field:"title",title:o.editor.title},{field:"start",title:o.editor.start,editor:e.dateRange,timezone:l},{field:"end",title:o.editor.end,editor:e.dateRange,timezone:l},{field:"isAllDay",title:o.editor.allDayEvent,editor:e.isAllDay}];n.timezone.windows_zones&&(c.push({field:"timezone",title:o.editor.timezone,editor:e.timezonePopUp,click:function(e){e.preventDefault(),r._initTimezoneEditor(t,this)},messages:o.editor,model:t}),c.push({field:"startTimezone",title:o.editor.startTimezone,editor:e.timezone,noTimezone:o.editor.noTimezone}),c.push({field:"endTimezone",title:o.editor.endTimezone,editor:e.timezone,noTimezone:o.editor.noTimezone})),t.recurrenceId||c.push({field:"recurrenceRule",title:o.editor.repeat,editor:e.recurrence,timezone:l,messages:o.recurrenceEditor,pane:this.pane}),"description"in t&&c.push({field:"description",title:o.editor.description,editor:e.description({model:t,field:"description"})});for(var h=0;h<this.options.resources.length;h++){var d=this.options.resources[h];c.push({field:d.field,title:d.title,editor:d.multiple?e.multipleResources(d,t):e.resources(d,t)})}return c},end:function(){return this.editable.end()},_buildDesktopEditTemplate:function(e,t,r){for(var o=this.options.messages,l=k({},n.Template,this.options.templateSettings),c=l.paramName,html="",h=0,d=t.length;h<d;h++){var f=t[h];if("startTimezone"===f.field&&(html+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',html+='<div class="k-edit-form-container">',html+='<div class="k-edit-label"></div>',html+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+o.editor.separateTimezones+"</label></div>"),html+='<div class="k-edit-label"><label for="'+f.field+'">'+(f.title||f.field||"")+"</label></div>",!e.editable||e.editable(f.field))r.push(f),html+="<div "+n.attr("container-for")+'="'+f.field+'" class="k-edit-field"></div>';else{var m="#:";f.field?m+=(f=n.expr(f.field,c))+"==null?'':"+f:m+="''",m+="#",html+='<div class="k-edit-field">'+(m=n.template(m,l))(e)+"</div>"}"endTimezone"===f.field&&(html+=this._createEndTimezoneButton())}return html},_buildMobileEditTemplate:function(e,t,r){var o=this.options.messages,l=k({},n.Template,this.options.templateSettings),c=l.paramName,html="";html+="<ul>";for(var h=0,d=t.length;h<d;h++){var f=t[h];if("timezone"!==f.field&&"recurrenceRule"!==f.field||(html+="</ul><ul>"),"startTimezone"===f.field&&(html+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',html+='<ul><li class="k-item"><label class="k-label">',html+='<span class="k-item-title">'+o.editor.separateTimezones+"</span>",html+='<input class="k-timezone-toggle" data-role="switch" type="checkbox">',html+="</label></li>"),!e.editable||e.editable(f.field))html+='<li class="k-item">',"timezone"===f.field?html+='<label class="k-label" data-bind="css: { k-state-disabled: isAllDay }">':html+='<label class="k-label">',html+='<span class="k-item-title">'+(f.title||f.field||"")+"</span>",r.push(f),html+="<div "+n.attr("container-for")+'="'+f.field+'"></div>';else{var m="#:";html+='<li class="k-item">',html+='<label class="k-label k-no-click">',html+='<span class="k-item-title">'+(f.title||f.field||"")+"</span>",f.field?m+=(f=n.expr(f.field,c))+"==null?'':"+f:m+="''",m+="#",html+='<span class="k-no-editor">'+(m=n.template(m,l))(e)+"</span>"}html+="</label></li>","recurrenceRule"===f.field&&(html+="</ul><ul>"),"endTimezone"===f.field&&(html+=this._createEndTimezoneButton())}return html+="</ul>"},_buildEditTemplate:function(e,t,r,o){var l=k({},n.Template,this.options.templateSettings),template=this.options.editable.template,html="";return template?("string"==typeof template&&(template=n.unescape(template)),html+=n.template(template,l)(e)):html+=o?'<div data-role="content">'+this._buildMobileEditTemplate(e,t,r)+"</div>":this._buildDesktopEditTemplate(e,t,r),html},_createEndTimezoneButton:function(){return"</ul></div>"},_revertTimezones:function(e){e.set("startTimezone",this._startTimezone),e.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone}}),ae=se.extend({init:function(){se.fn.init.apply(this,arguments),this.pane=n.Pane.wrap(this.element,{viewEngine:{viewOptions:{renderOnInit:!0,wrap:!1,wrapInSections:!0,detachOnHide:!1,detachOnDestroy:!1}}}),this.pane.element.parent().css("height",this.options.height),this.view=this.pane.view()},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close(),this.unbind(),this.pane.destroy()},_initTimezoneEditor:function(t){var n=this,r=n.pane,o=n.options.messages,l=n.timezoneView,c=l?l.content.find(".k-scheduler-timezones"):n.container.find(".k-scheduler-timezones"),h=c.find("input.k-timezone-toggle").data("kendoSwitch"),d=c.find("li.k-item:not(.k-zonepicker):last"),f=function(e){if("startTimezone"===e.field){var n=t.startTimezone;h.enable(n),n||(d.hide(),t.set("endTimezone",""),h.value(!1))}};if(n._startTimezone=t.startTimezone||"",n._endTimezone=t.endTimezone||"",!l){var html='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="\\#" class="k-header-cancel k-scheduler-cancel k-link" title="'+o.cancel+'"aria-label="'+o.cancel+'"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+o.editor.timezoneTitle+'<a href="\\#" class="k-header-done k-scheduler-update k-link" title="'+o.save+'" aria-label="'+o.save+'"><span class="k-icon k-i-check"></span></a></div><div data-role="content"></div>';this.timezoneView=l=r.append(html),l.contentElement.append(c.show()),l.element.on(E+D,".k-scheduler-cancel, .k-scheduler-update",(function(l){l.preventDefault(),l.stopPropagation(),e(this).hasClass("k-scheduler-cancel")&&n._revertTimezones(t),t.unbind("change",f);var c=n._editPane,text=U(t,o.editor.noTimezone);c.content.find(".k-timezone-label").text(text),r.navigate(c,n.options.animations.right)})),h.bind("change",(function(e){d.toggle(e.checked),t.set("endTimezone","")})),t.bind("change",f)}h.value(!!t.endTimezone),h.enable(!!t.startTimezone),t.endTimezone?d.show():d.hide(),r.navigate(l,n.options.animations.left)},showDialog:function(t){var n=t.buttons.map((function(button){return{text:button.text,action:button.click}}));n.push({text:this.options.messages.cancel,primary:!0}),e("<div />").appendTo(document.body).kendoDialog({close:function(){this.destroy()},modal:{preventScroll:!0},closable:!1,title:!1,content:t.text,actions:n})},editEvent:function(t){var r=this.pane,html="",o=this.options.messages,l=o.save,c=o.destroy,h=o.cancel,d=o.editor.editorTitle,f=o.resetSeries;html+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"'+n.attr("uid")+'="'+t.uid+'"><div data-role="header" class="k-header"><a href="\\#" class="k-header-cancel k-scheduler-cancel k-link" title="'+h+'"aria-label="'+h+'"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+d+'<a href="\\#" class="k-header-done k-scheduler-update k-link" title="'+l+'" aria-label="'+l+'"><span class="k-icon k-i-check"></span></a></div>';var m=this.fields(oe.mobile,t),v=this,_=[];html+=this._buildEditTemplate(t,m,_,!0),html+="</div>";var view=r.append(html);if(!t.isNew()&&this.options.editable&&!1!==this.options.editable.destroy&&t.isRecurrenceHead()&&t.recurrenceException){var w='<ul class="k-edit-buttons"><li class="k-item"><span href="#" class="k-scheduler-resetSeries k-label" aria-label="'+f+'">'+f+"</span></li></ul>";view.contentElement.append(w)}if(!t.isNew()&&this.options.editable&&!1!==this.options.editable.destroy){var y='<ul class="k-edit-buttons"><li class="k-item"><span href="#" class="k-scheduler-delete k-label" aria-label="'+c+'">'+c+"</span></li></ul>";view.contentElement.append(y)}this._editPane=view;var x=this.container=view.element;return this.editable=x.kendoEditable({fields:_,model:t,clearContainer:!1,target:v.options.target,validateOnBlur:!0}).data("kendoEditable"),this.trigger("edit",{container:x,model:t})?this.trigger("cancel",{container:x,model:t}):(x.on(E+D,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, span.k-scheduler-delete, span.k-scheduler-resetSeries",(function(n){n.preventDefault(),n.stopPropagation();var button=e(this);if(button.hasClass("k-scheduler-edit"))r.navigate(this._editPane,v.options.animations.right);else{var o="cancel";button.hasClass("k-scheduler-update")?o="save":button.hasClass("k-scheduler-delete")?o="remove":button.hasClass("k-scheduler-resetSeries")&&(o="resetSeries"),v.trigger(o,{container:x,model:t})}})),r.navigate(view,v.options.animations.left),t.bind("change",v.toggleDateValidationHandler)),this.editable},_views:function(){return this.pane.element.find(n.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);for(var view,e=this._views(),t=0,n=e.length;t<n;t++)(view=e.eq(t).data("kendoView"))&&view.purge();e.remove(),this.container=null,this.editable&&(this.editable.options.model.unbind("change",this.toggleDateValidationHandler),this.editable.destroy(),this.editable=null),this.timezoneView=null}}}),le=se.extend({destroy:function(){this.close(),this.unbind()},editEvent:function(t){var r=this,o=r.options.editable,html="<div "+n.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',l=r.options.messages,c=l.save,h=l.cancel,d=l.destroy,f=l.resetSeries,m=this.fields(oe.desktop,t),v=[];html+=this._buildEditTemplate(t,m,v,!1);var _=x(o)?o.window:{};html+='<div class="k-edit-buttons k-state-default">',html+=this.createButton({name:"update",text:c,attr:void 0})+this.createButton({name:"canceledit",text:h,attr:void 0}),!t.isNew()&&!1!==o.destroy&&t.isRecurrenceHead()&&t.recurrenceException&&(html+=this.createButton({name:"resetSeries",text:f,attr:void 0})),t.isNew()||!1===o.destroy||(html+=this.createButton({name:"delete",text:d,attr:void 0})),html+="</div></div></div>";var w=this.container=e(html).appendTo(r.element).eq(0).kendoWindow(k({modal:!0,resizable:!1,draggable:!0,title:l.editor.editorTitle,visible:!1,close:function(e){e.userTriggered&&r.trigger("cancel",{container:w,model:t})&&e.preventDefault()}},_));return r.editable=w.kendoEditable({fields:v,model:t,clearContainer:!1,validateOnBlur:!0,target:r.options.target}).data("kendoEditable"),r.trigger("edit",{container:w,model:t})?r.trigger("cancel",{container:w,model:t}):(w.data("kendoWindow").center().open(),w.on(E+D,"a.k-scheduler-cancel",(function(e){e.preventDefault(),e.stopPropagation(),r.trigger("cancel",{container:w,model:t})})),w.on(E+D,"a.k-scheduler-update",(function(e){e.preventDefault(),e.stopPropagation(),r.trigger("save",{container:w,model:t})})),w.on(E+D,"a.k-scheduler-delete",(function(e){e.preventDefault(),e.stopPropagation(),r.trigger("remove",{container:w,model:t})})),w.on(E+D,"a.k-scheduler-resetSeries",(function(e){e.preventDefault(),e.stopPropagation(),r.trigger("resetSeries",{container:w,model:t})})),n.cycleForm(w),t.bind("change",r.toggleDateValidationHandler)),r.editable},close:function(){var e=this,t=function(){e.editable&&(e.editable.options.model.unbind("change",e.toggleDateValidationHandler),e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};e.editable?(e._timezonePopup&&e._timezonePopup.data("kendoWindow")&&(e._timezonePopup.data("kendoWindow").destroy(),e._timezonePopup=null),e.container.is(":visible")?e.container.data("kendoWindow").bind("deactivate",t).close():t()):t()},_createEndTimezoneButton:function(){var e=this.options.messages,html="";return html+='<div class="k-edit-buttons k-state-default">',html+=this.createButton({name:"savetimezone",text:e.save})+this.createButton({name:"canceltimezone",text:e.cancel}),html+="</div></div></div>"},showDialog:function(t){var html=n.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",t.text);html+='<div class="k-edit-buttons k-state-default">';for(var r=0;r<t.buttons.length;r++)html+=this.createButton(t.buttons[r]);html+="</div></div></div>";var o=this.element;this.popup&&this.popup.destroy();var l=this.popup=e(html).appendTo(o).eq(0).on(E,".k-button",(function(n){n.preventDefault(),l.close();var r=e(n.currentTarget).index();t.buttons[r].click()})).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,close:function(){this.destroy(),o.focus()}}).getKendoWindow();l.center().open()},_initTimezoneEditor:function(e,t){var n,r=this,o=r.container.find(".k-scheduler-timezones"),l=o.find("input.k-timezone-toggle"),c=o.find(".k-edit-label:last").add(o.find(".k-edit-field:last")),h=o.find(".k-scheduler-savetimezone"),d=o.find(".k-scheduler-canceltimezone"),f=r._timezonePopup,m=function(t){if("startTimezone"===t.field){var n=e.startTimezone;l.prop("disabled",!n),n||(c.hide(),e.set("endTimezone",""),l.prop("checked",!1))}};r._startTimezone=e.startTimezone,r._endTimezone=e.endTimezone,f||(r._timezonePopup=f=o.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:r.options.messages.editor.timezoneEditorTitle,visible:!1,close:function(n){e.unbind("change",m),n.userTriggered&&r._revertTimezones(e),t&&t.focus()}}),l.click((function(){c.toggle(l.prop("checked")),e.set("endTimezone","")})),h.click((function(e){e.preventDefault(),n.close()})),d.click((function(t){t.preventDefault(),r._revertTimezones(e),n.close()})),e.bind("change",m)),l.prop("checked",e.endTimezone).prop("disabled",!e.startTimezone),e.endTimezone?c.show():c.hide(),(n=f.data("kendoWindow")).center().open()}}),ce=v.extend({init:function(element,t){var r=this;m.fn.init.call(r,element,t),r.options.views&&r.options.views.length||(r.options.views=["day","week"]),r.resources=[],r._initModel(),r._wrapper(),r._views(),r._toolbar(),r._dataSource(),r._resources(),r._resizeHandler=function(){r.resize()},r.wrapper.on("mousedown"+D+" selectstart"+D,(function(t){e(t.target).is(":kendoFocusable")||t.preventDefault()})),r.options.editable&&!1!==r.options.editable.resize&&r._resizable(),r._movable(),r._bindResize(),r.options.messages&&r.options.messages.recurrence&&(h.options=r.options.messages.recurrence),r._selectable(),r._touchHandlers(),r._ariaId=n.guid(),r._createEditor()},_bindResize:function(){e(window).on("resize"+D,this._resizeHandler)},_unbindResize:function(){e(window).off("resize"+D,this._resizeHandler)},dataItems:function(){var i,t,n=this.items(),r=this._data,o=e.map(n,(function(t){return e(t).attr("data-uid")})),l={},c=o.length;for(i=0;i<c;i++)l[o[i]]=null;var h=r.length;for(i=0;i<h;i++){var d=r[i];void 0!==l[d.uid]&&(l[d.uid]=d)}var f=[];for(t in l)f.push(l[t]);return f},_isMobile:function(){var e=this.options;return!0===e.mobile&&n.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile},_isTouch:function(e){return/touch/.test(e.type)||e.originalEvent&&/touch/.test(e.originalEvent.pointerType)},_isInverseColor:function(e){return e.hasClass("k-event-inverse")},_groupsByResource:function(e,t,r,o,l){r||(r=[]);var c=e[0];if(c){for(var h,data=c.dataSource.view(),d=0,f=0;f<data.length;f++){var m=n.getter(c.dataValueField)(data[f]),v=t+d+f;(h=this._groupsByResource(e.slice(1),v,r,m,c.field))[c.field]=m,d=h.groupIndex,l&&o&&(h[l]=o),1===e.length&&(h.groupIndex=t+f,r.push(h))}return h}return{}},data:function(){return this._data},select:function(t){var r,view=this.view(),o=this._selection,c=view.groups;if(void 0===t){var h,d=view._selectedSlots;return o?(o&&o.events&&(h=this._selectedEvents()),{start:o.start,end:o.end,events:h,slots:d,resources:view._resourceBySlot(o)}):[]}if(!t)return this._selection=null,this._old=null,void view.clearSelection();if(e.isArray(t)&&(t={events:t.splice(0)}),t.resources){var f,m=[],v=[];for(f in view.groupedResources&&this._groupsByResource(view.groupedResources,0,v),t.resources)m.push({field:f,operator:"eq",value:t.resources[f]});r=new n.data.Query(v).filter(m).toArray()}if(t.events&&t.events.length)return this._selectEvents(t.events,r),void this._select();if(c&&t.start&&t.end){var _,w,y=l(view._startDate),x=n.date.addDays(l(view._endDate),1);t.start<x&&y<=t.end&&((_=r&&r.length?c[r[0].groupIndex]:c[0]).timeSlotCollectionCount()||(t.isAllDay=!0),(w=_.ranges(t.start,t.end,t.isAllDay,!1)).length&&(this._selection={start:n.timezone.toLocalDate(w[0].start.start),end:n.timezone.toLocalDate(w[w.length-1].end.end),groupIndex:w[0].start.groupIndex,index:w[0].start.index,isAllDay:w[0].start.isDaySlot,events:[]},this._select()))}},_selectEvents:function(e,t){var r,view=this.view(),o=view.groups,l=e.length,c=t&&t.length;for(r=0;r<l;r++)if(o&&c){for(var h=o[t[0].groupIndex],d=[],f=h.timeSlotCollectionCount(),m=h.daySlotCollectionCount(),v=0;v<f;v++)d=d.concat(h.getTimeSlotCollection(v).events());for(var _=0;_<m;_++)d=d.concat(h.getDaySlotCollection(_).events());(d=new n.data.Query(d).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:e[r]}).toArray())[0]&&this._createSelection(d[0].element)}else{var element=view.element.find(n.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",e[r]));element.length&&this._createSelection(element[0])}},_touchHandlers:function(){var t,r,o,l,c,h=this,d=h.wrapper,f=e.proxy(h._touchMove,h);d.on(A+D,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",(function(e){var content=h.wrapper.find(".k-scheduler-content");h._isTouch(e)&&(content.stop(!0,!1),h._touchPosX=t=h._tapPosition(e,"X"),h._touchPosY=r=h._tapPosition(e,"Y"),h._userTouched=!0,h.view()._scrolling=!1,c=Date.now(),d.on(I+D,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",f))})),d.on(M+D,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",(function(e){if(h._isTouch(e)){var m=Date.now()-c,content=h.wrapper.find(".k-scheduler-content"),v=-h._amplitude*(3e3/m);o=h._tapPosition(e,"X"),l=h._tapPosition(e,"Y"),h._dragging||(h.options.selectable&&(Math.abs(o-t)<=10||Math.abs(l-r)<=10)&&h._mouseDownSelection(e),!n.support.kineticScrollNeeded&&m<200&&Math.abs(o-t)>10&&content.animate({scrollTop:content[0].scrollTop+v}),d.off(I+D,".k-scheduler-header-all-day td, .k-scheduler-content td",f))}}))},_selectable:function(){var t=this,n=t.wrapper;if(t.options.selectable){t._tabindex(),n.on("mousedown"+D,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",(function(e){t._isTouch(e)||t._mouseDownSelection(e)}));var r=e.proxy(t._mouseMove,t);n.on("mousedown"+D,".k-scheduler-header-all-day td, .k-scheduler-content td",(function(e){var o=e.which,button=e.button,l=o&&3===o||button&&2==button;t._isTouch(e)||l||n.on(R+D,".k-scheduler-header-all-day td, .k-scheduler-content td",r)})),n.on("mouseup"+D+" mousecancel"+D,(function(){n.off(R+D,".k-scheduler-header-all-day td, .k-scheduler-content td",r)})),n.on("focus"+D,(function(){t._selection||t._userTouched||t._selectFirstSlot(),t._select()})),n.on("focusout"+D,(function(n){t._ctrlKey=t._shiftKey=!1,t.toolbar.find("ul > li").removeClass(F),e(n.relatedTarget).closest(z).length||t.toolbar.find(z).removeClass(P)})),n.on("keydown"+D,C(t._keydown,t)),n.on("keyup"+D,(function(e){t._ctrlKey=e.ctrlKey,t._shiftKey=e.shiftKey}))}},_mouseDownSelection:function(e){var t=e.which,button=e.button,r=t&&3===t||button&&2==button,o=this.element.offsetParent(),l=o.scrollTop(),c=o.scrollLeft();r||(e.ctrlKey&&(this._ctrlKey=e.ctrlKey),e.shiftKey&&(this._shiftKey=e.shiftKey),this._createSelection(e.currentTarget,e.clientX+c,e.clientY+l)),n._activeElement()!==this.wrapper.get(0)?n.focusElement(this.wrapper):this._select(),this.toolbar&&this.toolbar.find("ul > li").removeClass(F)},_selectFirstSlot:function(){this._createSelection(this.wrapper.find(".k-scheduler-content").find("td:first"))},_select:function(){var view=this.view(),t=this.wrapper,r=view.current(),o=this._selection,l=this._old?this._old.selection:null,c=this._old?this._old.eventsLength:null;if(o&&(r&&(r.removeAttribute("id"),r.removeAttribute("aria-label"),t.removeAttr("aria-activedescendant")),view.select(o),(r=view.current())&&(l!==r||o.events&&c!==o.events.length))){var h,d=e(r).data("uid");if(this._old&&d&&d===e(this._old.selection).data("uid")&&o.events&&this._old.eventsLength===o.events.length)return;var data=o,f=this._selectedEvents(),m=view._selectedSlots;f[0]?(data=f[0]||o,h=n.format(this.options.messages.ariaEventLabel,data.title,data.start,data.start)):h=n.format(this.options.messages.ariaSlotLabel,data.start,data.end),r.setAttribute("id",this._ariaId),r.setAttribute("aria-label",h),t.attr("aria-activedescendant",this._ariaId),this._old={selection:r,eventsLength:f.length},this.trigger("change",{start:o.start,end:o.end,events:f,slots:m,resources:view._resourceBySlot(o)})}},_selectedEvents:function(){for(var e,t=this._selection.events,n=t.length,r=0,o=[];r<n;r++)(e=this.occurrenceByUid(t[r]))&&o.push(e);return o},_tapPosition:function(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]["page"+t]:e["page"+t]},_touchMove:function(e){var content=this.wrapper.find(".k-scheduler-content"),t=content[0].scrollHeight>content[0].clientHeight,r=content[0].scrollWidth>content[0].clientWidth,o=this._tapPosition(e,"Y"),l=this._tapPosition(e,"X"),c=content[0].scrollTop-Math.round(o-this._touchPosY),h=content[0].scrollLeft-Math.round(l-this._touchPosX),d=t&&Math.abs(o-this._touchPosY)>10,f=r&&Math.abs(o-this._touchPosY)>10;this._dragging||n.support.kineticScrollNeeded||!this._isTouch(e)||(d||f)&&(this._amplitude=Math.round(o-this._touchPosY),this._touchPosY=o,this._touchPosX=l,content.animate({scrollTop:c,scrollLeft:h},0),this.view()._scrolling=!0)},_mouseMove:function(t){var n=this;clearTimeout(n._moveTimer),n._isTouch(t)||(n._moveTimer=setTimeout((function(){var view=n.view(),r=n._selection;if(r){var slot=view.selectionByElement(e(t.currentTarget));if(slot&&r.groupIndex===slot.groupIndex){var o=slot.startDate(),l=slot.endDate();o>=r.end?r.backward=!1:l<=r.start&&(r.backward=!0),r.backward?r.start=o:r.end=l,n._select()}}}),5))},_viewByIndex:function(e){var view,t=this.views;for(view in t){if(!e)return view;e--}},_keydown:function(t){var r,o=t.keyCode,view=this.view(),l=view.options.editable,c=this._selection,h=e.extend(c),f=16===o||18===o||17===o||91===o||92===o,m=this.toolbar.find(".k-scheduler-tools > li,.k-scheduler-navigation > li,.k-scheduler-views > li.k-state-selected:visible, .k-scheduler-views > li.k-current-view:visible"),v=this.toolbar.find(z),_=e(t.target).closest(z).length||this.toolbar.find(".k-scheduler-views .k-state-focused").length,w=v.children().index(this.toolbar.find("."+F)),y=n.support.isRtl(this.element),x=y?-1:1;if(-1==w&&(w=v.children().index(this.toolbar.find(".k-state-selected"))),this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey,o===d.F10)return this.toolbar.find("ul > li:first").focus().addClass(F),void t.preventDefault();if(o===d.TAB){if(this.toolbar.find("."+F).length){var C=m.index(this.toolbar.find("."+F));-1===C&&this._focusedView&&(C=m.index(this.toolbar.find(".k-scheduler-views > .k-state-selected")));var S=t.shiftKey?m[C-1]:m[C+1];return this.toolbar.find("."+F).removeClass(F),S?(e(S).addClass(F).focus(),this._focusedView=null,void t.preventDefault()):(this.element.focus(),void t.preventDefault())}}else if(o===d.ENTER||o===d.SPACEBAR){if(_&&this._focusedView&&!this._focusedView.hasClass("k-state-selected")){var T=this._focusedView.data().name;return this.trigger("navigate",{view:T,action:"changeView",date:this.date()})||(this.view(T),v.removeClass(P),this.toolbar.find(".k-current-view:visible").length&&(e(document.activeElement).blur(),this.toolbar.find(".k-current-view:visible").addClass(F).find(".k-link").focus())),void t.preventDefault()}if(this.toolbar.find(".k-state-focused:visible").length)return this.toolbar.find(".k-state-focused:visible").click(),void t.preventDefault()}else if(t.altKey&&o===d.DOWN){if(this.toolbar.find(".k-state-focused:visible").length)return this.toolbar.find(".k-state-focused:visible").click(),void t.preventDefault()}else{if(o===d.RIGHT&&_)return e(this.toolbar.find("."+F)).removeClass(F),this._focusedView=y?e(w-1==0?v.children(":not(.k-current-view):last"):v.children()[w+1*x]):w+1===v.children().length?e(v.children(":not(.k-current-view):first")):e(v.children()[w+1*x]),this._focusedView.focus().addClass(F),void t.preventDefault();if(o===d.LEFT&&_)return e(this.toolbar.find("."+F)).removeClass(F),this._focusedView=y?w+1===v.children().length?e(v.children(":not(.k-current-view):first")):e(v.children()[w-1*x]):e(w-1==0?v.children(":not(.k-current-view):last"):v.children()[w-1*x]),this._focusedView.focus().addClass(F),void t.preventDefault();if(o===d.DOWN&&this.toolbar.find(z).hasClass(P))return this.toolbar.find("."+F).removeClass(F),r=this._focusedView?v.find(this._focusedView).index():v.children(".k-scheduler-views > .k-state-selected").index(),this._focusedView=r+1===v.children().length?e(v.children(":not(.k-current-view):first")):e(v.children()[r+1*x]),this._focusedView.focus().addClass(F),void t.preventDefault();if(o===d.UP&&this.toolbar.find(z).hasClass(P))return this.toolbar.find("."+F).removeClass(F),r=this._focusedView?v.find(this._focusedView).index():v.children(".k-scheduler-views > .k-state-selected").index(),this._focusedView=e(r-1==0?v.children(":not(.k-current-view):last"):v.children()[r-1*x]),this._focusedView.focus().addClass(F),void t.preventDefault();if(t.altKey&&o===d.DOWN&&this.toolbar.find(".k-nav-current").hasClass(F))return this._showCalendar(),void t.preventDefault();if(o===d.ESC&&this.popup&&this.popup.visible())return this.popup.close(),void t.preventDefault();if(o===d.ESC&&this.toolbar.find(z).hasClass(P))return this.toolbar.find(z).removeClass(P),this.toolbar.find(z).children().removeClass(F),this._focusedView=null,this.toolbar.find(".k-current-view").focus().addClass(F),void t.preventDefault()}if(!f){if(!c)return this._selectFirstSlot(),this._select(),void this.element.focus();if(o===d.TAB)view.moveToEvent(c,t.shiftKey)&&(this._select(),document.activeElement.getAttribute("id")!==this.element.attr("id")&&this.element.focus(),t.preventDefault());else if(o===d.ENTER||o===d.SPACEBAR)c.events.length&&l?!1!==l.update&&this.editEvent(c.events[0]):l&&!1!==l.create&&(c.isAllDay&&(c=e.extend({},c,{end:n.date.addDays(c.end,-1)})),t.preventDefault(),this.addEvent(k({},c,view._resourceBySlot(c))));else if(o===d.DELETE&&!1!==l&&!1!==l.destroy)this.removeEvent(c.events[0]);else if(o>=49&&o<=57){var D=this._viewByIndex(o-49);D&&!this.trigger("navigate",{view:D,action:"changeView",date:this.date()})&&this.view(D)}else if(view.move(c,o,t.shiftKey)){if(view.inRange(c))this._select();else{var E=this.date().getTime()>c.start.getTime()?"previous":"next";this.trigger("navigate",{view:this._selectedViewName,action:E,date:c.start})?(c.start=h.start,c.end=h.end):this.date(c.start)}this.toolbar.find("ul > li").removeClass(F),t.preventDefault()}this._adjustSelectedDate()}},_createSelection:function(t,r,o){var l,slot,c=this._selection,h=r&&o;(t=e(t)).is(".k-event")&&(l=t.attr(n.attr("uid")),c&&-1!==c.events.indexOf(l)&&!this._ctrlKey)||(c&&(this._ctrlKey||this._shiftKey)||(c=this._selection={events:[],groupIndex:0}),(slot=h?this.view()._slotByPosition(r,o):this.view().selectionByElement(t))&&(c.groupIndex=slot.groupIndex||0),l&&(slot=K(this._data,l)),slot&&slot.uid&&(l=[slot.uid]),this._updateSelection(slot,l),this._adjustSelectedDate())},_updateSelection:function(e,t,r){var o=this._selection;if(e&&o){var view=this.view();if(e.uid&&(e=view._updateEventForSelection(e)),this._shiftKey&&o.start&&o.end){var l=e.end<o.end;o.end=e.endDate?e.endDate():e.end,l&&view._timeSlotInterval&&n.date.setTime(o.end,-view._timeSlotInterval())}else o.start=e.startDate?e.startDate():e.start,o.end=e.endDate?e.endDate():e.end;if(o.isAllDay="isDaySlot"in e?e.isDaySlot:e.isAllDay,null!=r&&(o.groupIndex=r),o.index=e.index,this._ctrlKey){var c=t&&t.length?o.events.indexOf(t[0]):-1;c>-1?o.events.splice(c,1):o.events=o.events.concat(t||[])}else o.events=t||[]}},options:{name:"Scheduler",date:L,editable:!0,autoBind:!0,snap:!0,mobile:!1,timezone:"",allDaySlot:!0,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,workWeekStart:1,workWeekEnd:5,showWorkHours:!1,startTime:L,endTime:L,currentTimeMarker:{updateInterval:1e4,useLocalTimezone:!0},footer:{},messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",resetSeries:"Reset Series",deleteWindowTitle:"Delete event",next:"Next",previous:"Previous",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",resetSeriesWindowTitle:"Reset Series",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editable:{confirmation:"Are you sure you want to delete this event?"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:"Timezone",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],orientation:"horizontal"},views:[],selectable:!1},events:["remove","edit","cancel","save","add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){if(m.fn.destroy.call(this),this.dataSource&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource.unbind("progress",this._progressHandler),this.dataSource.unbind("error",this._errorHandler)),this._resourceRefreshHandler)for(var t=0;t<this.resources.length;t++){var r=this.resources[t].dataSource;r.unbind("change",this._resourceRefreshHandler),r.unbind("progress",this._resourceProgressHandler),r.unbind("error",this._resourceErrorHandler)}this.calendar&&(this.calendar.destroy(),this.popup.destroy()),this.view()&&this.view().destroy(),this._editor&&this._editor.destroy(),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this.element.add(this.wrapper).add(this.toolbar).add(this.popup).off(D),clearTimeout(this._moveTimer),this._model=null,this.toolbar=null,this.element=null,e(window).off("resize"+D,this._resizeHandler),n.destroy(this.wrapper)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch?e.fetch():T(e)&&this.view(this._selectedView)},items:function(){var content=this.wrapper.find(".k-scheduler-content"),view=this.view();return view&&"agenda"===view.options.name?content.find(".k-task"):content.find(".k-event").add(this.wrapper.find(".k-scheduler-header-wrap").find(".k-scheduler-header-all-day").siblings())},_movable:function(){var t,r,o,l,c,h,d,f,m,v=this,_=0,w=[],y=[],x=v._isMobile(),k=v.options.editable&&!1!==v.options.editable.move,C=v.options.editable&&!1!==v.options.editable.resize;(k||C&&x)&&(v._dragging=!1,x&&n.support.mobileOS.android&&(_=5),v._moveDraggable=new n.ui.Draggable(v.element,{distance:_,filter:".k-event",ignore:".k-resize-handle",holdToDrag:x,autoScroll:!0}),k&&v._moveDraggable.bind("dragstart",(function(e){var view=v.view(),c=e.currentTarget,_=v._isTouch(e);if(v._dragging=!0,!view.options.editable||!1===view.options.editable.move)return v._dragging=!1,void e.preventDefault();if(_&&!c.hasClass("k-event-active"))return v._dragging=!1,v.element.find(".k-event-active").removeClass("k-event-active"),void e.preventDefault();if(h=v.occurrenceByUid(c.attr(n.attr("uid"))),d=h.clone(),h.clone(),d.update(view._eventOptionsForMove(d)),d.inverseColor=v._isInverseColor(c),w=[],v._selection)for(var y=v._selection.events,i=0;i<y.length;i++){var x=v.occurrenceByUid(y[i]).clone(),k=this.element.find('div.k-event[data-uid="'+x.uid+'"]').eq(0);x.update(view._eventOptionsForMove(x)),k.length&&(x.inverseColor=v._isInverseColor(k)),w.push(x)}else w.push(d);t=view._slotByPosition(e.x.startLocation,e.y.startLocation),o=view._resourceBySlot(t),m=l=t.startOffset(e.x.startLocation,e.y.startLocation,v.options.snap),r=t,f=t,t&&!v.trigger("moveStart",{event:h})||e.preventDefault()})).bind("drag",(function(o){var _,x,i,view=v.view(),slot=view._slotByPosition(o.x.location,o.y.location);if(slot){if(c=slot.startOffset(o.x.location,o.y.location,v.options.snap),slot.isDaySlot!==t.isDaySlot)if(slot.isDaySlot!==f.isDaySlot){var k=e(t.element).index(),C=e(slot.element).parent().children().eq(k);for(t=view._slotByPosition(C.offset().left,C.offset().top),l=t.startOffset(o.x.location,o.y.location,!0),y=w.map((function(e){return e.clone()})),i=0;i<w.length;i++)w[i].isAllDay!=slot.isDaySlot&&(w[i].isAllDay=slot.isDaySlot,w[i].end=n.date.getDate(w[i].start),w[i].start=n.date.getDate(w[i].start),slot.isDaySlot||(n.date.setTime(w[i].start,n.date.getMilliseconds(view.startTime())),n.date.setTime(w[i].end,n.date.getMilliseconds(view.startTime())+view._timeSlotInterval())))}else t=e.extend(!0,{},f),l=m,w=y;for(_=c-l,i=0;i<w.length;i++)view._updateMoveHint(w[i],slot.groupIndex,_);if(x=re(d,_),v.trigger("move",{event:h,slot:{element:slot.element,start:slot.startDate(),end:slot.endDate(),isDaySlot:slot.isDaySlot},resources:view._resourceBySlot(slot),start:x.start,end:x.end}))for(i=0;i<w.length;i++)view._updateMoveHint(w[i],slot.groupIndex,_);else r=slot}})).bind("dragend",(function(t){v.view()._removeMoveHint();var m=c-l,_=re(d,m),x=_.start,k=_.end;v._dragging=!1;var C=v.view()._resourceBySlot(r);if(!v.trigger("moveEnd",{event:h,slot:{element:r.element,start:r.startDate(),end:r.endDate()},start:x,end:k,resources:C})&&(h.start.getTime()!==x.getTime()||h.end.getTime()!==k.getTime()||f.isDaySlot!==r.isDaySlot||n.stringify(C)!==n.stringify(o))){v._isMultiDrag=w.length>1;for(var i=0;i<w.length;i++){var S=w[i];_=re(S,m);var T=v.view()._eventOptionsForMove(S),D=e.extend({isAllDay:S.isAllDay,start:_.start,end:_.end},T,C);v._updateEvent(null,S,D)}v._isMultiDrag&&(v.dataSource.sync(),v._isMultiDrag=!1)}t.currentTarget.removeClass("k-event-active"),this.cancelHold(),w=[],y=[]})).bind("dragcancel",(function(){v.view()._removeMoveHint(),this.cancelHold(),w=[],y=[]})),v._moveDraggable.bind("hold",(function(e){v._isTouch(e)&&(v.element.find(".k-event-active").removeClass("k-event-active"),v.options.selectable&&v._createSelection(e.currentTarget),e.currentTarget.addClass("k-event-active"))})))},_resizable:function(){var t,r,o,l,slot,c=this,h=0;function d(e){var t={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var n in t)if(e.hasClass(n))return t[n]}c._isMobile()&&n.support.mobileOS.android&&(h=5),c._resizeDraggable=new n.ui.Draggable(c.element,{distance:h,filter:".k-resize-handle",autoScroll:!0,dragstart:function(h){var d=e(h.currentTarget).closest(".k-event").attr(n.attr("uid")),view=c.view();c._dragging=!0,o=c.occurrenceByUid(d),l=o.clone(),view._updateEventForResize(l),slot=view._slotByPosition(h.x.startLocation,h.y.startLocation),c.trigger("resizeStart",{event:o})&&h.preventDefault(),t=n.date.toUtcTime(l.start),r=n.date.toUtcTime(l.end)},drag:function(h){if(slot){var f=d(e(h.currentTarget)),view=c.view(),m=view._slotByPosition(h.x.location,h.y.location);if(m&&slot.groupIndex==m.groupIndex){slot=m;var v=t,_=r;"south"==f?!slot.isDaySlot&&slot.end-n.date.toUtcTime(l.start)>=view._timeSlotInterval()&&(r=l.isAllDay?slot.startOffset(h.x.location,h.y.location,c.options.snap):slot.endOffset(h.x.location,h.y.location,c.options.snap)):"north"==f?!slot.isDaySlot&&n.date.toUtcTime(l.end)-slot.start>=view._timeSlotInterval()&&(t=slot.startOffset(h.x.location,h.y.location,c.options.snap)):"east"==f?slot.isDaySlot&&n.date.toUtcTime(n.date.getDate(slot.endDate()))>=n.date.toUtcTime(n.date.getDate(l.start))?r=l.isAllDay?slot.startOffset(h.x.location,h.y.location,c.options.snap):slot.endOffset(h.x.location,h.y.location,c.options.snap):!slot.isDaySlot&&slot.end-n.date.toUtcTime(l.start)>=view._timeSlotInterval()&&(r=slot.endOffset(h.x.location,h.y.location,c.options.snap)):"west"==f&&(slot.isDaySlot&&n.date.toUtcTime(n.date.getDate(l.end))>=n.date.toUtcTime(n.date.getDate(slot.startDate()))?t=slot.startOffset(h.x.location,h.y.location,c.options.snap):!slot.isDaySlot&&n.date.toUtcTime(l.end)-slot.start>=view._timeSlotInterval()&&(t=slot.startOffset(h.x.location,h.y.location,c.options.snap))),c.trigger("resize",{event:o,slot:{element:slot.element,start:slot.startDate(),end:slot.endDate()},start:n.timezone.toLocalDate(t),end:n.timezone.toLocalDate(r),resources:view._resourceBySlot(slot)})?(t=v,r=_):view._updateResizeHint(l,slot.groupIndex,t,r)}}},dragend:function(h){var f=e(h.currentTarget),m=new Date(l.start.getTime()),v=new Date(l.end.getTime()),_=d(f);c._dragging=!1,c.view()._removeResizeHint(),"south"==_?v=n.timezone.toLocalDate(r):"north"==_?m=n.timezone.toLocalDate(t):"east"==_?v=slot.isDaySlot?n.date.getDate(n.timezone.toLocalDate(r)):n.timezone.toLocalDate(r):"west"==_&&(slot.isDaySlot?((m=new Date(n.timezone.toLocalDate(t))).setHours(0),m.setMinutes(0)):m=n.timezone.toLocalDate(t)),!c.trigger("resizeEnd",{event:o,slot:{element:slot.element,start:slot.startDate(),end:slot.endDate()},start:m,end:v,resources:c.view()._resourceBySlot(slot)})&&v.getTime()>=m.getTime()&&(l.start.getTime()==m.getTime()&&l.end.getTime()==v.getTime()||(c.view()._updateEventForResize(o),c._updateEvent(_,o,{start:m,end:v}))),slot=null,o=null},dragcancel:function(){c._dragging=!1,c.view()._removeResizeHint(),slot=null,o=null}})},_updateEvent:function(e,t,r){var o=this,l=function(e,t){try{o._preventRefresh=!0,e.update(r),o._convertDates(e)}finally{o._preventRefresh=!1}o.trigger("save",{event:e})||(t&&t(),o._isMultiDrag||o.dataSource.sync())},h=function(e){return e.recurrenceRule?o.dataSource.getByUid(e.uid):o.dataSource.get(e.recurrenceId)};if(t.recurrenceRule||t.isOccurrence()){var d=o.options.messages.recurrenceMessages;o._showRecurringDialog(t,(function(){var e,head=h(t),n=head.toOccurrence({start:t.start,end:t.end});e=n.uid,l(o.dataSource.add(n),(function(){o._convertDates(head),o._selection&&o._selection.events.push(e)}))}),(function(){var head=h(t);if("south"==e||"north"==e){if(r.start){var d=n.date.getDate(head.start);n.date.setTime(d,c(r.start)),r.start=d}if(r.end){var f=n.date.getDate(head.end);n.date.setTime(f,c(r.end)),r.end=f}}o.dataSource._removeExceptions(head),l(head)}),{title:d.editWindowTitle,text:d.editRecurring?d.editRecurring:N,occurrenceText:d.editWindowOccurrence,seriesText:d.editWindowSeries})}else l(o.dataSource.getByUid(t.uid))},_modelForContainer:function(t){return t=e(t).closest("["+n.attr("uid")+"]"),this.dataSource.getByUid(t.attr(n.attr("uid")))},showDialog:function(e){this._editor.showDialog(e)},focus:function(){this.wrapper.focus()},_confirmation:function(e,t,r){var o=this.options.editable;if(!0===o||!1!==o.confirmation){var l=this.options.messages,title=l.deleteWindowTitle,text="string"==typeof o.confirmation?o.confirmation:l.editable.confirmation;if(this._isEditorOpened()&&t.isRecurring()){var c=this.options.messages.recurrenceMessages;title=c.deleteWindowTitle,text=t.isException()?c.deleteRecurringConfirmation?c.deleteRecurringConfirmation:"Are you sure you want to delete this event occurrence?":c.deleteSeriesConfirmation?c.deleteSeriesConfirmation:"Are you sure you want to delete the whole series?",r&&(title=c.resetSeriesWindowTitle,text=c.resetSeriesConfirmation?c.resetSeriesConfirmation:"Are you sure you want to reset the whole series?")}var h=[{name:"destroy",text:r?l.resetSeries:l.destroy,click:function(){e()}}];this._isMobile()&&n.Pane||h.push({name:"canceledit",text:l.cancel,click:function(){e(!0)}}),this._unbindResize(),this.showDialog({model:t,text:text,title:title,buttons:h}),this._bindResize()}else e()},addEvent:function(e){var t,n=this._editor.editable,r=this.dataSource;e=e||{},!this.trigger("add",{event:e})&&(n&&n.end()||!n)&&(this.cancelEvent(),e&&e.toJSON&&(e=e.toJSON()),(t=r.add(e))&&(this.cancelEvent(),this._editEvent(t)))},saveEvent:function(){var e=this._editor;if(e){var t=e.editable,n=e.container,r=this._modelForContainer(n);n&&t&&t.end()&&!this.trigger("save",{container:n,event:r})&&(r.dirty||r.isOccurrence()||this._convertDates(r,"remove"),this.dataSource.sync())}},cancelEvent:function(){var e,t=this._editor,n=t.container;n&&((e=this._modelForContainer(n))&&e.isOccurrence()&&(this._convertDates(e,"remove"),this._convertDates(this.dataSource.get(e.recurrenceId),"remove")),this.dataSource.cancelChanges(e),t.close())},editEvent:function(e){var t="string"==typeof e?this.occurrenceByUid(e):e;t&&(this.cancelEvent(),t.isRecurring()?this._editRecurringDialog(t):this._editEvent(t))},_editEvent:function(e){this._preventRefresh=!0,this._unbindResize(),this._createPopupEditor(e),this._bindResize()},_editRecurringDialog:function(e){var t=this,n=t.options.messages.recurrenceMessages;t._showRecurringDialog(e,(function(){e.isException()?t._editEvent(e):t.addEvent(e)}),(function(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._editEvent(e)}),{title:n.editWindowTitle,text:n.editRecurring?n.editRecurring:N,occurrenceText:n.editWindowOccurrence,seriesText:n.editWindowSeries})},_showRecurringDialog:function(e,t,n,r){var o=this.options.editable,l=x(o)?o.editRecurringMode:"dialog";"occurrence"===l||this._isMultiDrag?t():"series"===l?n():(this._unbindResize(),this.showDialog({model:e,title:r.title,text:r.text,buttons:[{text:r.occurrenceText,click:t},{text:r.seriesText,click:n}]}),this._bindResize())},_createButton:function(e){var template=e.template||'<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',t="string"==typeof e?e:e.name||e.text,r={className:"k-scheduler-"+(t||"").replace(/\s/g,""),text:t,attr:""};if(!(t||x(e)&&e.template))throw new Error("Custom commands should have name specified");return x(e)?(e.className&&(e.className+=" "+r.className),"edit"===t&&x(e.text)&&((e=k(!0,{},e)).text=e.text.edit),r=k(!0,r,te[t],e)):r=k(!0,r,te[t]),n.template(template)(r)},_convertDates:function(e,t){var r=this.dataSource.reader.timezone,o=e.startTimezone,l=e.endTimezone,c=e.start,h=e.start;t=t||"apply",o=o||l,l=l||o,o&&(r?"apply"===t?(c=n.timezone.convert(e.start,r,o),h=n.timezone.convert(e.end,r,l)):(c=n.timezone.convert(e.start,o,r),h=n.timezone.convert(e.end,l,r)):(c=n.timezone[t](e.start,o),h=n.timezone[t](e.end,l)),e._set("start",c),e._set("end",h))},_createEditor:function(){var e,t=this;(e=this._isMobile()&&n.Pane?t._editor=new ae(this.wrapper,k({},this.options,{target:this,timezone:t.dataSource.reader.timezone,resources:t.resources,createButton:C(this._createButton,this)})):t._editor=new le(this.wrapper,k({},this.options,{target:this,createButton:C(this._createButton,this),timezone:t.dataSource.reader.timezone,resources:t.resources}))).bind("cancel",(function(e){t.trigger("cancel",{container:e.container,event:e.model})?e.preventDefault():(t._preventRefresh=!1,t.cancelEvent(),t._attemptRefresh&&t.refresh(),t.focus())})),e.bind("edit",(function(e){t.trigger("edit",{container:e.container,event:e.model})&&e.preventDefault()})),e.bind("save",(function(){t._preventRefresh=!1,t.saveEvent()})),e.bind("remove",(function(e){t._preventRefresh=!1,t.removeEvent(e.model)})),e.bind("resetSeries",(function(e){t._confirmation((function(n){t._preventRefresh=!1,n||(t.dataSource._removeExceptions(e.model),t.saveEvent())}),e.model,!0)}))},_createPopupEditor:function(e){var t=this._editor;e.isNew()&&!e.isOccurrence()||(e.isOccurrence()&&this._convertDates(e.recurrenceId?this.dataSource.get(e.recurrenceId):e),this._convertDates(e)),this.editable=t.editEvent(e)},removeEvent:function(e){var t=this,n="string"==typeof e?t.occurrenceByUid(e):e;n&&(n.isRecurring()?t._deleteRecurringDialog(n):t._confirmation((function(e){e||t._removeEvent(n)}),n))},occurrenceByUid:function(e){var t=this.dataSource.getByUid(e);return t||(t=K(this._data,e)),t},occurrencesInRange:function(e,t){return new n.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lt",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:e},{field:"end",operator:"gt",value:e}]}]}).toArray()},_removeEvent:function(e){this.trigger("remove",{event:e})||this.dataSource.remove(e)&&this.dataSource.sync()},_deleteRecurringDialog:function(e){var t,n,r,o,l=this,c=e,h=l.options.editable,d=x(h)?h.editRecurringMode:"dialog";t=function(){var e=c.recurrenceId?c:c.toOccurrence(),head=l.dataSource.get(e.recurrenceId);l._convertDates(head),l._removeEvent(e)},n=function(){c.recurrenceId&&(c=l.dataSource.get(c.recurrenceId)),l._removeEvent(c)},("dialog"!=d||l._isEditorOpened())&&(r=function(){l._confirmation((function(e){e||t()}),c)},o=function(){l._confirmation((function(e){e||n()}),c)});var f=o||n,m=r||t;if(l._isEditorOpened())e.isException()?m():f();else{var v=l.options.messages.recurrenceMessages;l._showRecurringDialog(e,m,f,{title:v.deleteWindowTitle,text:v.deleteRecurring?v.deleteRecurring:"Do you want to delete only this event occurrence or the whole series?",occurrenceText:v.deleteWindowOccurrence,seriesText:v.deleteWindowSeries})}},_isEditorOpened:function(){return!!this._editor.container},_unbindView:function(view){var e=this;e.angular("cleanup",(function(){return{elements:e.items()}})),view.destroy()},_bindView:function(view){var e=this;e.options.editable&&(e._viewRemoveHandler&&view.unbind("remove",e._viewRemoveHandler),e._viewRemoveHandler=function(t){e.removeEvent(t.uid)},view.bind("remove",e._viewRemoveHandler),e._viewAddHandler&&view.unbind("add",e._viewAddHandler),e._viewAddHandler=function(t){e.addEvent(t.eventInfo)},view.bind("add",this._viewAddHandler),e._viewEditHandler&&view.unbind("edit",e._viewEditHandler),e._viewEditHandler=function(t){e.editEvent(t.uid)},view.bind("edit",this._viewEditHandler)),e._viewNavigateHandler&&view.unbind("navigate",e._viewNavigateHandler),e._viewNavigateHandler=function(t){if(t.view){var n="isWorkDay"in t,r=n?"changeWorkDay":"changeView";e.trigger("navigate",{view:t.view,isWorkDay:t.isWorkDay,action:r,date:t.date})||(n&&(e._workDayMode=t.isWorkDay),e._selectView(t.view),e.date(t.date))}},view.bind("navigate",e._viewNavigateHandler),e._viewActivateHandler&&view.unbind("activate",e._viewActivateHandler),e._viewActivateHandler=function(){e._selection&&(this.constrainSelection(e._selection),e._select(),e._adjustSelectedDate())},view.bind("activate",e._viewActivateHandler)},_selectView:function(e){if(e&&this.views[e])if(this._selectedView&&this._unbindView(this._selectedView),this._selectedView=this._renderView(e),this._selectedViewName=e,this._viewsCount>1&&!this._isMobile()){var t=O({views:this.views,view:e,ns:n.ns}),r=this.toolbar.find(".k-scheduler-views li:first-child");r.is(".k-current-view")?r.replaceWith(t):this.toolbar.find(".k-scheduler-views").prepend(t),this.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+e.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")}else this.toolbar.find(".k-scheduler-mobile-views").find("[value="+e.replace(/\./g,"\\.")+"]").prop("selected","selected")},view:function(e){return e?(this._selectView(e),void this.rebind()):this._selectedView},viewName:function(){return this.view().name},_renderView:function(e){var view=this._initializeView(e);return this._bindView(view),(n.support.mouseAndTouchPresent||n.support.pointers)&&(view.content.css("-ms-touch-action","pinch-zoom"),view.content.css("touch-action","pinch-zoom")),this._model.set("formattedDate",view.dateForTitle()),this._model.set("formattedShortDate",view.shortDateForTitle()),this._model.set("formattedMobileDate",view.mobileDateForTitle?view.mobileDateForTitle():view.shortDateForTitle()),this._model.set("formattedYear",n.format("{0:yyyy}",view.startDate())),view},resize:function(e){var t=this.getSize(),n=this._size,view=this.view();view&&view.groups&&(!e&&n&&t.width===n.width&&t.height===n.height||(this.refresh({action:"resize"}),this._size=t))},_adjustSelectedDate:function(){var e=this._model.selectedDate,t=this._selection,r=t.start;r&&!n.date.isInDateRange(e,l(r),l(t.end))&&e.setFullYear(r.getFullYear(),r.getMonth(),r.getDate())},_initializeView:function(e){var t,view=this.views[e];if(view){var r=x(view),o=view.type;if("string"==typeof o&&(o=n.getter(view.type)(window)),!o)throw new Error("There is no such view");view=new o(this.wrapper,(delete(t=k(!0,{},this.options,r?view:{},{resources:this.resources,date:this.date(),startTime:n.parseDate(view.startTime)||n.parseDate(this.options.startTime),endTime:n.parseDate(view.endTime)||n.parseDate(this.options.endTime),showWorkHours:this._workDayMode})).name,delete t.prefix,delete t.remove,delete t.edit,delete t.add,delete t.navigate,t))}return view},_views:function(){var view,e,t,n,r,o,l,c=this.options.views;for(this.views={},this._viewsCount=0,o=0,l=c.length;o<l;o++){var h=!1;view=c[o],(n=x(view))?"string"!=typeof(r=view.type?view.type:view)&&(r=view.name||view.title,h=!0):r=view,(e=he[r])&&!h&&(view.type=e.type,e.title=this.options.messages.views[r],"day"===e.type?e.messages={allDay:this.options.messages.allDay}:"agenda"===e.type&&(e.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),view=k({title:r},e,n?view:{}),r&&(this.views[r]=view,this._viewsCount++,t&&!view.selected||(t=r))}t&&(this._selectedViewName=t)},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var e=this.options,t=e.dataSource;t=T(t)?{data:t}:t,!e.timezone||t instanceof ee?t instanceof ee&&(e.timezone=t.options.schema?t.options.schema.timezone:""):t=k(!0,t,{schema:{timezone:e.timezone}}),this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=C(this.refresh,this),this._progressHandler=C(this._requestStart,this),this._errorHandler=C(this._error,this)),this.dataSource=n.data.SchedulerDataSource.create(t).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler),this.options.dataSource=this.dataSource},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_progress:function(e){var element=this.element.find(".k-scheduler-content");n.ui.progress(element,e)},_resources:function(){for(var t=this,n=t.options.resources,r=[],o=0;o<n.length;o++){var l=n[o],c=l.field,h=l.name||c,d=l.dataSource;if(!c||!d)throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');t.resources.push({field:c,name:h,title:l.title||c,dataTextField:l.dataTextField||"text",dataValueField:l.dataValueField||"value",dataColorField:l.dataColorField||"color",valuePrimitive:null==l.valuePrimitive||l.valuePrimitive,multiple:l.multiple||!1,dataSource:t._resourceDataSource(d,h,r)})}t.options.autoBind?e.when.apply(null,r).then((function(){t.view(t._selectedViewName)})):t._selectView(t._selectedViewName)},_resourceDataSource:function(e,t,r){var o=this,l=T(e)?{data:e}:e,c=n.data.DataSource.create(l);return o.options.autoBind?r.push(c.fetch((function(){o._bindResourceEvents(this,t)}))):o._bindResourceEvents(c,t),c},_bindResourceEvents:function(e,t){var n=this.options.group&&this.options.group.resources.length&&this.options.group.resources.indexOf(t)>-1;!this._resourceRefreshHandler&&n&&(this._resourceRefreshHandler=C(this._refreshResource,this),this._resourceProgressHandler=C(this._requestStart,this),this._resourceErrorHandler=C(this._error,this)),n&&e.bind("change",this._resourceRefreshHandler).bind("progress",this._resourceProgressHandler).bind("error",this._resourceErrorHandler)},_refreshResource:function(){this.view(this._selectedViewName)},_initModel:function(){var e=this;e._model=n.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""}),e._model.bind("change",(function(t){"selectedDate"===t.field&&e.view(e._selectedViewName)}))},_wrapper:function(){var e=this.options,t=e.height,n=e.width;this.wrapper=this.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),this._isMobile()&&this.wrapper.addClass("k-scheduler-mobile"),t&&this.wrapper.height(t),n&&this.wrapper.width(n)},date:function(e){return null!=e&&l(e)>=l(this.options.min)&&l(e)<=l(this.options.max)&&this._model.set("selectedDate",e),l(this._model.get("selectedDate"))},_toolbar:function(){var t=this,r=t.options,o=[];r.toolbar&&(o=e.isArray(r.toolbar)?r.toolbar:[r.toolbar]);var template=this._isMobile()?W:V,l=e(template({messages:r.messages,pdf:e.grep(o,(function(e){return"pdf"==e||"pdf"==e.name})).length>0,ns:n.ns,view:t._selectedViewName,views:t.views,viewsCount:t._viewsCount,editable:t.options.editable}));t.wrapper.append(l),t.toolbar=l,n.bind(t.toolbar,t._model),l.on(E+D,".k-pdf",(function(e){e.preventDefault(),t.saveAsPDF()})),l.on(E+D,".k-create-event",(function(e){e.preventDefault(),t.addEvent()})),l.on(E+D,".k-nav-calendar",(function(e){e.preventDefault(),t._showCalendar(e.target)})),l.on(E+D,".k-scheduler-navigation li",(function(r){var li=e(this),o=new Date(t.date()),l="",c=new Date,h=t.options.timezone;if(r.preventDefault(),li.hasClass("k-nav-today"))if(l="today",h){var d=n.timezone.offset(c,h);o=n.timezone.convert(c,c.getTimezoneOffset(),d)}else o=c;else if(li.hasClass("k-nav-next"))l="next",o=t.view().nextDate();else if(li.hasClass("k-nav-prev"))l="previous",o=t.view().previousDate();else if(li.hasClass("k-nav-current")&&!t._isMobile())return void t._showCalendar();t.trigger("navigate",{view:t._selectedViewName,action:l,date:o})||t.date(o)})),l.on(E+D,".k-scheduler-views li:not(.k-current-view), .k-scheduler-refresh",(function(r){r.preventDefault();var o=e(this).attr(n.attr("name"));t.trigger("navigate",{view:o,action:"changeView",date:t.date()})||(t.view(o),t.element.find("."+P).removeClass(P))})),l.on(E+D,".k-scheduler-views li.k-current-view",(function(n){n.preventDefault(),t.element.find(".k-scheduler-views").toggleClass(P),e(document).on("mousedown"+D,(function(n){0===e(n.target).closest(".k-scheduler-views").length&&(t.element.find("."+P).removeClass(P),e(document).off(E+D))}))})),l.find(".k-scheduler-mobile-views").on("change",(function(e){t.view(e.target.value)})),l.find("li").hover((function(){e(this).addClass("k-state-hover")}),(function(){e(this).removeClass("k-state-hover")}))},_showCalendar:function(t){var n=this,r=t||n.toolbar.find(".k-nav-current"),html=e('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');n.popup||(n.popup=new _(html,{anchor:r,activate:function(){n.popup&&n.calendar&&(n.popup._toggleResize(!1),n.calendar.element.find("table").focus(),n.popup._toggleResize(!0))},open:function(){n.calendar||(n.calendar=new w(this.element.find(".k-scheduler-calendar"),{change:function(){var e=this.value();n.trigger("navigate",{view:n._selectedViewName,action:"changeDate",date:e})||(n.date(e),n.popup.close()),n._isMobile||(n._selectedView.element.focus(),n.toolbar.find(".k-nav-current").focus().addClass(F))},min:n.options.min,max:n.options.max})),n.calendar.element.on("keydown"+D,(function(e){e.keyCode!==d.ESC&&e.keyCode!==d.TAB||(n.popup.close(),n._selectedView.element.focus(),n.toolbar.find(".k-nav-current").focus().addClass(F))})),n.calendar.value(n.date())},copyAnchorStyles:!1})),n.popup.open()},refresh:function(e){var t=this,view=this.view(),n=e&&"itemchange"===e.action&&(this._editor.editable||this._preventRefresh)||"signalr"===this.dataSource.options.type&&this._preventRefresh;this._progress(!1),this.angular("cleanup",(function(){return{elements:t.items()}})),e=e||{},view&&(n?this._attemptRefresh="signalr"===this.dataSource.options.type:this.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})||(e&&"resize"===e.action||!this._editor||this._editor.close(),this._data=this.dataSource.expand(view.startDate(),view.visibleEndDate()),view.refreshLayout(),view.render(this._data),this.trigger("dataBound"),this._attemptRefresh=!1))},slotByPosition:function(e,t){var view=this.view();if(!view._slotByPosition)return null;var slot=view._slotByPosition(e,t);return slot?{startDate:slot.startDate(),endDate:slot.endDate(),groupIndex:slot.groupIndex,element:slot.element,isDaySlot:slot.isDaySlot}:null},slotByElement:function(element){var t=e(element).offset();return this.slotByPosition(t.left,t.top)},resourcesBySlot:function(slot){return this.view()._resourceBySlot(slot)}}),he={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}};f.plugin(ce),n.PDFMixin&&(n.PDFMixin.extend(ce.prototype),ce.fn._drawPDF=function(progress){var t=this.wrapper,n=t[0].style.cssText;t.css({width:t.width(),height:t.height()}),t.addClass("k-scheduler-pdf-export");var r=this,o=new e.Deferred,table=t.find(".k-scheduler-content").find("table").css("table-layout","auto");return setTimeout((function(){table.css("table-layout","fixed"),r.resize(!0),r._drawPDFShadow({},{avoidLinks:r.options.pdf.avoidLinks}).done((function(e){var t={page:e,pageNumber:1,progress:1,totalPages:1};progress.notify(t),o.resolve(t.page)})).fail((function(e){o.reject(e)})).always((function(){t[0].style.cssText=n,t.removeClass("k-scheduler-pdf-export"),r.resize(!0),r.resize(!0)}))})),o});var de=m.extend({init:function(element,e){var t=this,r=n.timezone.windows_zones;if(!r||!n.timezone.zones_titles)throw new Error("kendo.timezones.min.js is not included.");m.fn.init.call(t,element,e),t.wrapper=t.element,t._zonesQuery=new n.data.Query(r),t._zoneTitleId=n.guid(),t._zoneTitlePicker(),t._zonePicker(),t._zoneTitle.bind("cascade",(function(){this.value()||t._zone.wrapper.hide()})),t._zone.bind("cascade",(function(){t._value=this.value(),t.trigger("change")})),t.value(t.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var t=e('<input id="'+this._zoneTitleId+'" aria-label="'+this.options.title+'"/>').appendTo(this.wrapper);this._zoneTitle=new n.ui.DropDownList(t,{dataSource:n.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:this.options.optionLabel})},_zonePicker:function(){var t=this,r=e('<input aria-label="'+t.options.title+'"/>').appendTo(this.wrapper);t._zone=new n.ui.DropDownList(r,{dataValueField:"zone",dataTextField:"territory",dataSource:t._zonesQuery.data,cascadeFrom:t._zoneTitleId,dataBound:function(){t._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1)}}),t._zone.wrapper.hide()},destroy:function(){m.fn.destroy.call(this),n.destroy(this.wrapper)},value:function(e){var t;if(void 0===e)return this._value;(t=this._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0])?(this._zoneTitle.value(t.other_zone),this._zone.value(t.zone)):this._zoneTitle.select(0)}});f.plugin(de);var ue=n.template('<option value="#=other_zone#">#=name#</option>'),pe=n.template('<option value="#=zone#">#=territory#</option>'),fe=m.extend({init:function(element,e){var t=n.timezone.windows_zones;if(!t||!n.timezone.zones_titles)throw new Error("kendo.timezones.min.js is not included.");m.fn.init.call(this,element,e),this.wrapper=this.element,this._zonesQuery=new n.data.Query(t),this._zoneTitlePicker(),this._zonePicker(),this.value(this.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(e){var data=e?this._filter(e):[];this._zone.html(this._options(data,pe))},_filter:function(e){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:e}).data},_options:function(data,template,e){var t=0,html="",n=data.length;for(e&&(html+=template({other_zone:"",name:e}));t<n;t++)html+=template(data[t]);return html},_zoneTitlePicker:function(){var t=this,r=t._options(n.timezone.zones_titles,ue,t.options.optionLabel);t._zoneTitle=e("<select>"+r+"</select>").appendTo(t.wrapper).change((function(){var e=this.value,n=t._zonePickerLabel,r=n.find("select");t._bindZones(e),e&&r.children().length>1?n.show():n.hide(),t._value=t._zone[0].value,t.trigger("change")}))},_zonePicker:function(){var t=this;t._zonePickerLabel=e("<li class='k-item k-zonepicker' style='display:none'><label class='k-label'><span class='k-item-title'></span><div></div></label></li>"),t._zone=e("<select></select>").appendTo(t._zonePickerLabel.find("div")).change((function(){t._value=this.value,t.trigger("change")})),this.wrapper.closest(".k-item").after(t._zonePickerLabel),t._bindZones(t._zoneTitle.val()),t._value=t._zone[0].value},destroy:function(){m.fn.destroy.call(this),n.destroy(this.wrapper)},value:function(e){var t,n=this._zone,r="",o="";if(void 0===e)return this._value;(t=this._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0])&&(o=t.zone,r=t.other_zone),this._zoneTitle.val(r),this._bindZones(r),n.val(o),(o=n[0].value)&&n.children.length>1?this._zonePickerLabel.show():this._zonePickerLabel.hide(),this._value=o}});f.plugin(fe)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1299:function(e,t){e.exports=n(198)},1300:function(e,t){e.exports=n(199)},1301:function(e,t){e.exports=n(50)},1302:function(e,t){e.exports=n(200)},1303:function(e,t){e.exports=n(201)},1304:function(e,t){e.exports=n(341)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1309)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1301:function(e,t){e.exports=n(50)},1309:function(e,t,n){var r,o,l;n(3),o=[n(1301)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=n.date.setTime,l=r.SchedulerView,c=n._outerWidth,h=n._outerHeight,d=e.extend,f=e.proxy,m=n.date.getDate,v=n.date.getMilliseconds,_=n.date.MS_PER_DAY,w=n.date.MS_PER_MINUTE,y=".kendoTimelineView",x=n.template('<div><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),k=n.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>");function C(e){var t=new Date(1980,1,1,0,0,0);return o(t,v(e)),t}var S=n.Class.extend({init:function(view){this._view=view},_getTimeSlotByPosition:function(e,t,n){return this._view.groups[n].timeSlotByPosition(e,t)},_hideHeaders:function(){var view=this._view;view.timesHeader.find("table tr:last").hide(),view.datesHeader.find("table tr:last").hide()},_setColspan:function(e){!function e(t){var n=0;if(t.columns){for(var i=0;i<t.columns.length;i++)n+=e(t.columns[i]);return t.colspan=n,n}return t.colspan=1,1}(e)},_createRowsLayout:function(e,t,n){return this._view._createRowsLayout(e,t,n)},_createVerticalColumnsLayout:function(e,t,n,r){return r},_createColumnsLayout:function(e,t,n){return this._view._createColumnsLayout(e,t,n)},_getRowCount:function(){return this._view._groupCount()},_getGroupsCount:function(){return 1},_addContent:function(e,t,r,o,l,c,h,d){for(var view=this._view,html="",f=view.options,m=function(t){var r,o,content="",l="";return n.date.isToday(e[w])&&(l+="k-today"),(n.date.getMilliseconds(t)<n.date.getMilliseconds(f.workDayStart)||n.date.getMilliseconds(t)>=n.date.getMilliseconds(f.workDayEnd)||!view._isWorkDay(e[w]))&&(l+=" k-nonwork-hour"),content+="<td"+(""!==l?' class="'+l+'"':"")+">",r=n.date.getDate(e[w]),n.date.setTime(r,n.date.getMilliseconds(t)),content+=h({date:r,resources:(o=d?v:_,function(){return view._resourceBySlot({groupIndex:o})})}),content+="</td>"},v=0;v<o;v++){html+="<tr>";for(var _=0;_<r;_++)for(var w=0,y=t;w<y;w++)html+=view._forTimeRange(l,c,m);html+="</tr>"}return html},_addTimeSlotsCollections:function(e,t,n,r,o){var view=this._view,l=n.length;o&&(l=Math.floor(l/e));for(var c=0;c<e;c++){var time,h=0,d=view.groups[c];o&&(h=c);var f=0;o||(f=c);for(var m=n[h*l].children,_=m.length/(o?1:e),w=_/t,y=0;y<t;y++){var x=y*w+_*f;time=v(new Date(+view.startTime()));for(var k=0;k<w;k++)view._addTimeSlotToCollection(d,m,k,x,y,time,r),time+=r}}},_getVerticalGroupCount:function(e){return e},_getVerticalRowCount:function(e,t,n){return this._view._isVerticallyGrouped()?e[t].maxRowCount:n},_renderEvent:function(e,t,n,r,o,l){var element,view=this._view;(element=view._createEventElement(n.occurrence,t,o.head||n.head,o.tail||n.tail)).appendTo(l).css({top:0,height:view.options.eventHeight});var c={start:n.occurrence._startTime||n.occurrence.start,end:n.occurrence._endTime||n.occurrence.end,element:element,uid:t.uid,slotRange:o,rowIndex:0,offsetTop:0};e.events[t.uid]=c,view._inverseEventColor(element),view.addContinuousEvent(r,o,element,t.isAllDay),view._arrangeRows(c,o,e)},_verticalCountForLevel:function(e){return this._view._rowCountForLevel(e)},_horizontalCountForLevel:function(e){return this._view._columnCountForLevel(e)},_updateCurrentVerticalTimeMarker:function(t,n){var view=this._view,r="<div class='k-current-time'></div>",o=view.datesHeader.find(".k-scheduler-header-wrap"),l=Math.round(t[0].innerRect(n,new Date(n.getTime()+1),!1).left),h=e(r).prependTo(o).addClass("k-current-time-arrow-down");h.css({left:view._adjustLeftPosition(l-.8666*c(h)/2),top:o.find("tr:last").prev().position().top}),e(r).prependTo(view.content).css({left:view._adjustLeftPosition(l),width:"1px",height:view.content[0].scrollHeight-1,top:0})},_changeGroup:function(){},_prevGroupSlot:function(slot,e,t){return this._view._isVerticallyGrouped()?slot:e._collection(0,t).last()},_nextGroupSlot:function(slot,e,t){return this._view._isVerticallyGrouped()?slot:e._collection(0,t).first()},_verticalSlots:function(e,t){return this._view._changeGroup(e,t)},_verticalMethod:function(e){return e?"leftSlot":"rightSlot"},_normalizeVerticalSelection:function(){},_horizontalSlots:function(e,t,n,r,o,l,c){var view=this._view,h={};return h.startSlot=t[n](r),h.endSlot=t[n](o),l||!view._isHorizontallyGrouped()||h.startSlot&&h.endSlot||(h.startSlot=h.endSlot=view._changeGroup(e,c)),h},_changeVerticalViewPeriod:function(){return!1},_changeHorizontalViewPeriod:function(e,t,n,r){var view=this._view;return!(e.startSlot&&e.endSlot||t||!view._changeViewPeriod(n,r,!1))},_updateDirection:function(e,t,n,r){this._view._updateDirection(e,t,n,r,!0)},_createMoveHint:function(e,t){var view=this._view,n=e.start,r=view._createEventElement(t.occurrence,t.occurrence,!1,!1);r.addClass("k-event-drag-hint");var rect=e.innerRect(t.occurrence.start,t.occurrence.end,view.options.snap),o=rect.right-rect.left-2;o<0&&(o=0);var l={left:view._adjustLeftPosition(rect.left),top:n.offsetTop,height:n.offsetHeight-2,width:o};r.css(l),t.occurrence.inverseColor&&r.addClass("k-event-inverse"),view._appendMoveHint(r)},_adjustLeftPosition:function(e){var view=this._view;return view._isRtl&&(e-=view.content[0].scrollWidth-view.content[0].clientWidth),e}}),T=n.Class.extend({init:function(view){this._view=view},_getTimeSlotByPosition:function(e,t,n){return this._view.groups[n].timeSlotByPosition(e,t,!0)},_hideHeaders:function(){var view=this._view;view._isVerticallyGrouped()?view.times.find(".k-last").hide():(view.timesHeader.find("table tr").eq(2).hide(),view.datesHeader.find("table tr").eq(2).hide())},_setColspan:function(){},_createRowsLayout:function(e,t,n,r){return this._view._createDateLayout(r,null,!0)},_createVerticalColumnsLayout:function(e,t,n){return this._view._createColumnsLayout(e,null,n)},_createColumnsLayout:function(e,t,n,r){return this._view._createColumnsLayout(e,t,n,r,!0)},_getRowCount:function(e){return this._view._rowCountForLevel(e)},_getGroupsCount:function(){return this._view._groupCount()},_addContent:function(e,t,r,l,c,h,d,f){for(var m,view=this._view,html="",v=view.options,_=function(t,r,o,l,c,h){var f,_,content="",w="",y=view._isVerticallyGrouped()?m:S;return n.date.isToday(e[S])&&(w+="k-today"),(n.date.getMilliseconds(t)<n.date.getMilliseconds(v.workDayStart)||n.date.getMilliseconds(t)>=n.date.getMilliseconds(v.workDayEnd)||!view._isWorkDay(e[y]))&&(w+=" k-nonwork-hour"),content+="<td"+(""!==w?' class="'+w+'"':"")+">",f=n.date.getDate(e[S]),n.date.setTime(f,n.date.getMilliseconds(t)),content+=d({date:f,resources:(_=h,function(){return view._resourceBySlot({groupIndex:_})})}),content+="</td>"},y=new Date(c),x=view.options.minorTickCount,k=view.options.majorTick*w/x||1,C=0;C<l;C++){html+="<tr>",C%(l/view._dates.length)==0&&(m=C/(l/view._dates.length),y=new Date(view._dates[m]),n.date.setTime(y,n.date.getMilliseconds(c)));for(var S=0,T=t;S<T;S++)if(html+=view._forTimeRange(y,h,_,f,r),f){o(y,k,!1);break}html+="</tr>"}return html},_addTimeSlotsCollections:function(e,t,n,r,o){var view=this._view,l=n.length;o&&(l/=t);for(var c=0;c<t;c++){var time,h=0;o&&(h=c);var d,f=n[h*l].children,m=o?l:f.length/(t*e),_=f.length/t;time=v(new Date(+view.startTime()));for(var w=0;w<m;w++){o?(d=0,f=n[w+m*c].children):d=c*_+e*w;for(var y=0;y<e;y++){var x=view.groups[y];view._addTimeSlotToCollection(x,f,y,d,c,time,r)}time+=r}}},_getVerticalGroupCount:function(){return this._view.content.find("tr").length},_getVerticalRowCount:function(e,t,n){return n},_renderEvent:function(e,t,n,r,o,l,c,h){for(var element,view=this._view,d=[],i=o.start.index;i<=o.end.index;i++){(element=view._createEventElement(n.occurrence,t,i!==h,i!==c)).appendTo(l).css({top:0,height:view.options.eventHeight});var f=r._timeSlotCollections[0]._slots[i],m=r.timeSlotRanges(f.start,f.end,!1)[0],v={start:i===c?n.occurrence._startTime||n.occurrence.start:f.start,end:i===h?n.occurrence._endTime||n.occurrence.end:f.end,element:element,uid:t.uid,slotRange:m,rowIndex:0,offsetTop:0};e.events[t.uid]=v,d.push(v),view.addContinuousEvent(r,m,element,t.isAllDay),view._arrangeRows(v,m,e)}e.events[t.uid]=d},_verticalCountForLevel:function(e){return this._view._columnCountForLevel(e)},_horizontalCountForLevel:function(e,t){var view=this._view;return view._columnCountForLevel(t)/view._columnCountForLevel(2)},_updateCurrentVerticalTimeMarker:function(t,n){var view=this._view,r=view.times.find("tr:first th:first"),o=view.times.find("tr:first th:last"),l="<div class='k-current-time'></div>",d=e(l).prependTo(view.times),f=Math.round(t[0].innerRect(n,new Date(n.getTime()+1),!1).top),m={};this._isRtl?(m.right=r.position().left+h(r)-h(o),d.addClass("k-current-time-arrow-left")):(m.left=o.position().left,d.addClass("k-current-time-arrow-right")),m.top=f-.8666*c(d)/2,d.css(m),e(l).prependTo(view.content).css({top:f,height:"1px",right:"1px",width:view.content[0].scrollWidth,left:0})},_changeGroup:function(e,t,slot){var view=this._view;slot||(e.groupIndex=t?view.groups.length-1:0)},_prevGroupSlot:function(slot){return slot},_nextGroupSlot:function(slot){return slot},_changeDate:function(e,t,slot){var n,r,o=this._view.groups[e.groupIndex];if(t){if(n=o._getCollections(!1),(r=slot.index-1)>=0)return n[0]._slots[r]}else if(n=o._getCollections(!1),r=slot.index+1,n[0]&&n[0]._slots[r])return n[0]._slots[r]},_verticalSlots:function(e,t,slot){return this._changeDate(e,t,slot)},_verticalMethod:function(e,t){return t?e?"upSlot":"downSlot":e?"leftSlot":"rightSlot"},_normalizeVerticalSelection:function(e,t,n,r){var view=this._view;if(!r)return view._normalizeVerticalSelection(e,t,n)},_horizontalSlots:function(e,t,n,r,o,l,c){var view=this._view,h=view._changeGroup(e,c),d={};return h?d.startSlot=d.endSlot=h:view._isVerticallyGrouped()||(d.startSlot=t[n](r),d.endSlot=t[n](o)),d},_changeVerticalViewPeriod:function(e,t,n,r){var view=this._view;return!(e.startSlot&&e.endSlot||t||!view._changeViewPeriod(n,r,view._isVerticallyGrouped()))},_changeHorizontalViewPeriod:function(e,t,n,r){var view=this._view;return!view._isVerticallyGrouped()&&!(e.startSlot&&e.endSlot||t||!view._changeViewPeriod(n,r,!1))},_updateDirection:function(e,t,n,r){var view=this._view;view._updateDirection(e,t,n,r,!view._isVerticallyGrouped())},_createMoveHint:function(e,t){for(var view=this._view,n=e.start,r=e.end,o=n.index;o<=r.index;o++){var slot=e.collection._slots[o],l=view._createEventElement(t.occurrence,t.occurrence,!1,!1);l.addClass("k-event-drag-hint");var c={left:slot.offsetLeft+2,top:slot.offsetTop,height:view.options.eventHeight,width:slot.offsetWidth};l.css(c),t.occurrence.inverseColor&&l.addClass("k-event-inverse"),view._appendMoveHint(l)}},_adjustLeftPosition:function(e){var view=this._view;return view._isRtl&&!view._isVerticallyGrouped()&&(e-=view.content[0].scrollWidth-view.content[0].offsetWidth),e}});n.ui.scheduler.TimelineGroupedView=S,n.ui.scheduler.TimelineGroupedByDateView=T;var D=l.extend({init:function(element,e){l.fn.init.call(this,element,e),this._groupedView=this._getGroupedView(),this.title=this.options.title||this.options.name,this._workDays=function(e){var t=[],n=e.workWeekStart%7,r=Math.abs(e.workWeekEnd%7);for(t.push(n);r!=n;)n>6?n-=7:n++,t.push(n);return t}(this.options),this._templates(),this._editable(),this.calculateDateRange(),this._groups(),this._currentTime(!0)},name:"timeline",_getGroupedView:function(){return this._isGroupedByDate()?new n.ui.scheduler.TimelineGroupedByDateView(this):new n.ui.scheduler.TimelineGroupedView(this)},_getNextEventIndexBySlot:function(slot,e,t){if(this._isVerticallyGrouped())return n.ui.SchedulerView.fn._getNextEventIndexBySlot.call(this,slot,e,t);for(var r=0,i=0;i<e.length;i++)if(slot.startDate()>e[i].start.startDate())r++;else{if(!(slot.startDate().getTime()===e[i].start.startDate().getTime()&&t>e[i].start.groupIndex))break;r++}return r},_getSelectedSlot:function(slot,e,t,r,o,l){return this._isVerticallyGrouped()?n.ui.SchedulerView.fn._getSelectedSlot.call(this,slot,e,t,r,o,l):slot},_getSortedEvents:function(t){return this._isVerticallyGrouped()?n.ui.SchedulerView.fn._getSortedEvents.call(this,t):t.sort((function(t,n){var r=t.start.startDate().getTime()-n.start.startDate().getTime();return 0===r&&(t.start.isDaySlot&&!n.start.isDaySlot&&(r=-1),!t.start.isDaySlot&&n.start.isDaySlot&&(r=1)),0===r&&(r=t.start.groupIndex-n.start.groupIndex),0===r&&(r=e(t.element).index()-e(n.element).index()),r}))},_currentTimeMarkerUpdater:function(){this._updateCurrentTimeMarker(new Date)},_updateCurrentTimeMarker:function(t){var r=this.options;if(this.datesHeader.find(".k-current-time").remove(),this.times.find(".k-current-time").remove(),this.content.find(".k-current-time").remove(),this._isInDateSlot({start:t,end:t})){if(!1===r.currentTimeMarker.useLocalTimezone){var o=r.dataSource.options.schema.timezone;if(r.dataSource&&o){var l=n.timezone.offset(t,o);t=n.timezone.convert(t,t.getTimezoneOffset(),l)}}for(var h=r.group&&"vertical"!=r.group.orientation?this.groups.length:1,d=0;d<h;d++){var f=this.groups[d];if(!f)return;var m=n.date.toUtcTime(t),v=f.timeSlotRanges(m,m+1);if(0===v.length)return;if(v[0].collection.slotByStartDate(t))if(this._isVerticallyGrouped())this._groupedView._updateCurrentVerticalTimeMarker(v,t);else{var _="<div class='k-current-time'></div>",w=this.datesHeader.find(".k-scheduler-header-wrap"),y=Math.round(v[0].innerRect(t,new Date(t.getTime()+1),!1).left),x=e(_).prependTo(w).addClass("k-current-time-arrow-down");x.css({left:this._adjustLeftPosition(y-.8666*c(x)/2),top:w.find("tr:last").prev().position().top}),e(_).prependTo(this.content).css({left:this._adjustLeftPosition(y),width:"1px",height:this.content[0].scrollHeight-1,top:0})}}}},_adjustLeftPosition:function(e){return this._groupedView._adjustLeftPosition(e)},_currentTime:function(e){var t=this.options.currentTimeMarker;!1!==t&&void 0!==t.updateInterval&&(this._currentTimeMarkerUpdater(),e&&(this._currentTimeUpdateTimer=setInterval(f(this._currentTimeMarkerUpdater,this),t.updateInterval)))},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+y,".k-event a:has(.k-i-close)",(function(r){t.trigger("remove",{uid:e(this).closest(".k-event").attr(n.attr("uid"))}),r.preventDefault()})),!1!==t.options.editable.create&&t.element.on("dblclick"+y,".k-scheduler-content td",(function(e){var slot=t._slotByPosition(e.pageX,e.pageY);if(slot){var n=t._resourceBySlot(slot);t.trigger("add",{eventInfo:d({start:slot.startDate(),end:slot.endDate()},n)})}e.preventDefault()})),!1!==t.options.editable.update&&t.element.on("dblclick"+y,".k-event",(function(r){t.trigger("edit",{uid:e(this).closest(".k-event").attr(n.attr("uid"))}),r.preventDefault()}))},_touchEditable:function(){var t=this,r=0;n.support.mobileOS.android&&(r=5),!1!==t.options.editable.create&&(t._addUserEvents=new n.UserEvents(t.element,{threshold:r,useClickAsTap:!n.support.browser.edge,filter:".k-scheduler-content td",tap:function(e){if(!t._scrolling){var n=void 0!==e.x.location?e.x.location:e.x,r=void 0!==e.y.location?e.y.location:e.y,slot=t._slotByPosition(n,r);if(slot){var o=t._resourceBySlot(slot);t.trigger("add",{eventInfo:d({start:slot.startDate(),end:slot.endDate()},o)})}e.preventDefault()}}})),!1!==t.options.editable.update&&(t._editUserEvents=new n.UserEvents(t.element,{threshold:r,useClickAsTap:!n.support.browser.edge,filter:".k-event",tap:function(r){if(!t._scrolling){var o=e(r.target).closest(".k-event");e(r.touch.initialTouch).hasClass("k-i-close")?t.trigger("remove",{uid:o.attr(n.attr("uid"))}):o.hasClass("k-event-active")||t.trigger("edit",{uid:o.attr(n.attr("uid"))}),r.preventDefault()}}}))},_slotByPosition:function(e,t){var slot,r,content=this.content,o=content.offset();if(e-=o.left,t-=o.top,this._isRtl){var l=n.support.browser;l.mozilla?(e+=content[0].scrollWidth-content[0].offsetWidth,e+=content[0].scrollLeft):l.msie?(e-=content.scrollLeft(),e+=content[0].scrollWidth-content[0].offsetWidth):l.webkit&&(e+=content[0].scrollLeft)}else e+=content[0].scrollLeft;for(t+=content[0].scrollTop,e=Math.ceil(e),t=Math.ceil(t),r=0;r<this.groups.length;r++)if(slot=this._groupedView._getTimeSlotByPosition(e,t,r))return slot;return null},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",selectedMobileDateFormat:"{0:MMM dd}",date:n.date.today(),startTime:n.date.today(),endTime:n.date.today(),showWorkHours:!1,minorTickCount:2,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,eventMinWidth:0,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:x,dateHeaderTemplate:k,footer:{command:"workDay"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:!0},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var e=this.options,t=d({},n.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,'<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail) {#<span class="k-icon k-i-arrow-60-left"></span>#}## if(data.isException()) {#<span class="k-icon k-i-non-recurrence"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-reload"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>#}## if(data.head) {#<span class="k-icon k-i-arrow-60-right"></span>#}#</span>#if(resizable && !data.tail){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !data.head){#<span class="k-resize-handle k-resize-e"></span>#}#</div>'),this.majorTimeHeaderTemplate=n.template(e.majorTimeHeaderTemplate,t),this.dateHeaderTemplate=n.template(e.dateHeaderTemplate,t),this.slotTemplate=n.template(e.slotTemplate,t),this.groupHeaderTemplate=n.template(e.groupHeaderTemplate,t)},_render:function(t){var n=this;t=t||[],n._dates=t,n._startDate=t[0],n._endDate=t[t.length-1||0],n._calculateSlotRanges(),n.createLayout(n._layout(t)),n._content(t),n._footer(),n._setContentWidth(),n.refreshLayout(),n.datesHeader.on("click"+y,".k-nav-day",(function(t){var th=e(t.currentTarget).closest("th"),slot=n._slotByPosition(th.offset().left,n.content.offset().top);n.trigger("navigate",{view:"timeline",date:slot.startDate()})})),n._groupedView._hideHeaders()},_setContentWidth:function(){var e=this.content.width(),t=this.content.find("table"),n=100,r=t.find("tr:first").children().length*this.options.columnWidth;e<r&&(n=Math.ceil(r/e*100)),t.add(this.datesHeader.find("table")).css("width",n+"%")},_calculateSlotRanges:function(){var e=this._dates,t=this.startTime(),r=this.endTime();(r=v(r))===(t=v(t))?r+=_-1:r<t&&(r+=_);for(var l=[],i=0;i<e.length;i++){var c=m(e[i]);o(c,t);var h=m(e[i]);o(h,r),l.push({start:n.date.toUtcTime(c),end:n.date.toUtcTime(h)})}this._slotRanges=l},_forTimeRange:function(e,t,n,r,l){e=C(e),t=C(t);var c,h=v(e),d=v(t),f=this.options.minorTickCount,m=this.options.majorTick*w,y=m/f||1,x=new Date(+e),k=0,html="";for(c=_/y,h!=d&&(h>d&&(d+=_),c=(d-h)/y),c=r?1:Math.round(c),l&&(c*=l);k<c;k++){var S=k%(m/y),T=0===S,D=f;c%f!=0&&T&&c-(k+1)<f&&(D=c%f),html+=n(x,T,S<f-1,S===f-1,D,k%l),r||(l?k%l==l-1&&o(x,y,!1):o(x,y,!1))}return html},_layout:function(e){for(var t=[],n=[],r=this,o=[{text:r.options.messages.defaultRowText}],l=r._groupedView,c=[],h=0;h<r.options.minorTickCount;h++)c.push({text:"&#8203;",className:"k-last",minorTicks:!0});this._forTimeRange(r.startTime(),r.endTime(),(function(e,n,o,h,d){var template=r.majorTimeHeaderTemplate;if(n){var f={text:template({date:e}),className:h?"k-slot-cell":"",columns:c.slice(0,d)};l._setColspan(f),t.push(f)}}));for(var d=0;d<e.length;d++)n.push({text:r.dateHeaderTemplate({date:e[d]}),className:"k-slot-cell",columns:t.slice(0)});var f=this.groupedResources;return f.length&&("vertical"===this._groupOrientation()?(o=l._createRowsLayout(f,null,this.groupHeaderTemplate,n),n=l._createVerticalColumnsLayout(f,null,this.groupHeaderTemplate,n)):n=l._createColumnsLayout(f,n,this.groupHeaderTemplate,n)),{columns:n,rows:o}},_footer:function(){var t=this.options;if(!1!==t.footer){var html='<div class="k-header k-scheduler-footer">',r=t.footer.command;this._isMobile()&&(html+='<span class="k-state-default k-scheduler-today"><a href="#" class="k-link">',html+=t.messages.today+"</a></span>"),r&&"workDay"===r?this._isMobile()?(html+='<span class="k-state-default k-scheduler-fullday"><a href="#" class="k-link">',html+=(t.showWorkHours?t.messages.showFullDay:t.messages.showWorkDay)+"</a></span>"):(html+='<ul class="k-reset k-header">',html+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',html+=(t.showWorkHours?t.messages.showFullDay:t.messages.showWorkDay)+"</a></li>",html+="</ul>"):html+="&nbsp;",html+="</div>",this.footer=e(html).appendTo(this.element);var o=this;this.footer.on("click"+y,".k-scheduler-fullday",(function(e){e.preventDefault(),o.trigger("navigate",{view:o.name||t.name,date:o.startDate(),isWorkDay:!t.showWorkHours})})),this.footer.on("click"+y,".k-scheduler-today",(function(e){e.preventDefault();var r,l=o.options.timezone,c=new Date;if(l){var h=n.timezone.offset(c,l);r=n.timezone.convert(c,c.getTimezoneOffset(),h)}else r=c;o.trigger("navigate",{view:o.name||t.name,action:"today",date:r})}))}},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},_isWorkDay:function(e){for(var t=e.getDay(),n=this._workDays,i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},_content:function(e){var t=this.startTime(),n=this.endTime(),r=1,o=1,l=e.length,html="",c=this.groupedResources,h=this.slotTemplate,d=!1;c.length&&((d="vertical"===this._groupOrientation())?(o=this._groupedView._getRowCount(this.rowLevels.length-1),r=this._groupedView._getGroupsCount()):r=this._groupCount()),html+="<tbody>",html+=this._groupedView._addContent(e,l,r,o,t,n,h,d),html+="</tbody>",this.content.find("table").append(html)},_groups:function(){var e=this._groupCount(),t=this._dates,r=t.length;this.groups=[];for(var l=0;l<e;l++){var view=this._addResourceView(l),c=t[0],h=t[t.length-1||0],d=v(this.startTime()),f=v(this.endTime());0!==d&&f<=d&&(c=m(c),o(c,d),h=m(h),o(h,f)),view.addTimeSlotCollection(c,n.date.addDays(h,1))}this._timeSlotGroups(e,r)},_isHorizontallyGrouped:function(){return this.groupedResources.length&&"horizontal"===this._groupOrientation()},_timeSlotGroups:function(e,t){var n=this._timeSlotInterval(),r=this._isVerticallyGrouped(),o=this.content.find("tr");o.attr("role","row"),this._groupedView._addTimeSlotsCollections(e,t,o,n,r)},_addTimeSlotToCollection:function(e,t,n,r,o,time,l){var c=t[n+r],h=e.getTimeSlotCollection(0),d=this._dates[o],f=Date.UTC(d.getFullYear(),d.getMonth(),d.getDate())+time,m=f+l;c.setAttribute("role","gridcell"),c.setAttribute("aria-selected",!1),h.addTimeSlot(c,f,m,!0)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},visibleEndDate:function(){var e=v(this.startTime()),t=v(this.endTime()),r=this.endDate();return 0!==e&&t<=e&&(r=n.date.addDays(r,1)),r},startTime:function(){var e=this.options;return e.showWorkHours?e.workDayStart:e.startTime},endTime:function(){var e=this.options;return e.showWorkHours?e.workDayEnd:e.endTime},_timeSlotInterval:function(){var e=this.options;return e.majorTick/e.minorTickCount*w},nextDate:function(){return n.date.nextDay(this.endDate())},previousDate:function(){return n.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},render:function(e){this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),e=new n.data.Query(e).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=[];this._eventsByResource(e,this.groupedResources,t);for(var r=[],o=0,l=0;l<t.length;l++){var c={groupIndex:l,maxRowCount:0,events:{}};r.push(c),this._renderEvents(t[l],l,c),o<c.maxRowCount&&(o=c.maxRowCount)}this._setRowsHeight(r,t.length,o),this._positionEvents(r,t.length),this._currentTime(!1),this.trigger("activate")},_positionEvents:function(t,n){for(var r=0;r<n;r++){var o=t[r].events;for(var l in o){var c=o[l];if(e.isArray(c))for(var h=0;h<c.length;h++)this._positionEvent(c[h]);else this._positionEvent(c)}}},_setRowsHeight:function(t,n,r){var o=this.options.eventHeight+2,l=this._getBottomRowOffset(),c=this._groupedView,h=c._getVerticalGroupCount(n);n=this._isVerticallyGrouped()?h:1;for(var d=0;d<n;d++){var f=c._getVerticalRowCount(t,d,r),m=(o+2)*(f=f||1)+l,v=e(this.times.find("tr")[d]),_=e(this.content.find("tr")[d]);v.height(m),_.height(m)}this._setContentWidth(),this.refreshLayout(),this._refreshSlots()},_getBottomRowOffset:function(){var e,t,n=.5*this.options.eventHeight;return this._isMobile()?(e=30,t=60):(e=15,t=30),n>t?n=t:n<e&&(n=e),n},_positionEvent:function(e){var t=this.options.eventHeight+2,rect=e.slotRange.innerRect(e.start,e.end,!1),n=this._adjustLeftPosition(rect.left),r=rect.right-rect.left-2;if(r<0&&(r=0),r<this.options.eventMinWidth){var o=e.slotRange.collection,l=o._slots[o._slots.length-1],c=l.offsetLeft+l.offsetWidth;c<n+(r=this.options.eventMinWidth)&&(r=c-rect.left-2)}e.element.css({top:e.slotRange.start.offsetTop+e.rowIndex*(t+2)+"px",left:n,width:r})},_refreshSlots:function(){for(var e=0;e<this.groups.length;e++)this.groups[e].refresh()},_eventsByResource:function(e,t,r){var o=t[0];if(o)for(var view=o.dataSource.view(),c=0;c<view.length;c++){var h=this._resourceValue(o,view[c]),d=new n.data.Query(e).filter({field:o.field,operator:l.groupEqFilter(h)}).toArray();t.length>1?this._eventsByResource(d,t.slice(1),r):r.push(d)}else r.push(e)},_isInDateSlot:function(e){var t=e.start,r=e.end,o=m(this._startDate);return t<n.date.addDays(m(this.visibleEndDate()),1)&&o<=r},_isInTimeSlot:function(e){var t=e._startTime||n.date.toUtcTime(e.start),r=e._endTime||n.date.toUtcTime(e.end),o=this._slotRanges;t===r&&(r+=1);for(var l=0;l<o.length;l++)if(t<o[l].end&&o[l].start<r)return!0;return!1},_adjustEvent:function(e){var t=e.start,r=e.end,l=e._time("start"),c=e._time("end"),h=v(this.startTime()),d=v(this.endTime()),f=null,w=null,head=!1,y=!1;return e.isAllDay&&(t=m(t),l=0,r=m(r),c=_,w=n.date.addDays(r,1)),0===d&&(d=_),d<=h?(l<h&&l>=d&&(f=m(t),o(f,h),y=!0),c>d&&c<=h&&(w=m(r),o(w,d),head=!0)):(h>l?(f=m(t),o(f,h),y=!0):d<=l&&(f=m(t),f=n.date.addDays(f,1),o(f,h),y=!0),d<c?(w=m(r),o(w,d),head=!0):h>c&&(w=m(r),w=n.date.addDays(w,-1),o(w,d),head=!0)),{occurrence:e.clone({start:f||t,end:w||r,_startTime:f?n.date.toUtcTime(f):e._startTime,_endTime:w?n.date.toUtcTime(w):e._endTime,isAllDay:!1}),head:head,tail:y}},_renderEvents:function(e,t,n){var r,o,l;for(o=0,l=e.length;o<l;o++)if(r=e[o],this._isInDateSlot(r)){var c=r.isAllDay||r.duration()>=_,h=this.content;if(c||this._isInTimeSlot(r)){var d=this._adjustEvent(r),f=this.groups[t];if(f._continuousEvents||(f._continuousEvents=[]),this._isInTimeSlot(d.occurrence)){var m=f.slotRanges(d.occurrence,!1)[0],v=m.start.index,w=m.end.index;this._groupedView._renderEvent(n,r,d,f,m,h,v,w)}}}},addContinuousEvent:function(e,t,element,r){e._continuousEvents.push({element:element,isAllDay:r,uid:element.attr(n.attr("uid")),start:t.start,end:t.end})},_createEventElement:function(t,r,head,o){var template=this.eventTemplate,l=this.options.editable,c=this._isMobile(),h=l&&!1!==l.destroy&&!c,f=l&&!1!==l.resize,m=r._time("start"),v=r._time("end"),_=r.start,w=r.end,y=this.eventResources(r);r._startTime&&m!==n.date.getMilliseconds(r.start)&&(_=new Date(m),_=n.timezone.apply(_,"Etc/UTC")),r._endTime&&v!==n.date.getMilliseconds(r.end)&&(w=new Date(v),w=n.timezone.apply(w,"Etc/UTC"));var data=d({},{ns:n.ns,resizable:f,showDelete:h,head:head,tail:o,singleDay:1==this._dates.length,resources:y,inverseColor:!1,messages:this.options.messages},r,{start:_,end:w}),element=e(template(data));return this.angular("compile",(function(){return{elements:element,data:[{dataItem:data}]}})),element},_arrangeRows:function(e,t,n){var r=t.start.index,o=t.end.index,rect=e.slotRange.innerRect(e.start,e.end,!1),c=rect.right+this.options.eventMinWidth,h=function(e,t,n){var r,o,l;for(r=e.length-1;r>=0;r--)o=e[r].rectLeft,l=e[r].rectRight,(o<=t&&l>=t||o>=t&&l<=n||t<=o&&n>=o)&&(o<t&&(t=o),l>n&&(n=l));return function(e,t,n){for(var r=[],o=0;o<e.length;o++){var l={rectLeft:e[o].rectLeft,rectRight:e[o].rectRight};(l.rectLeft<t&&l.rectRight>t||l.rectLeft>=t&&l.rectRight<=n)&&r.push(e[o])}return r}(e,t,n)}(t.events(),rect.left,c);t.addEvent({slotIndex:r,start:r,end:o,rectLeft:rect.left,rectRight:c,element:e.element,uid:e.uid}),h.push({start:r,end:o,uid:e.uid});var d=l.createRows(h);n.maxRowCount<d.length&&(n.maxRowCount=d.length);for(var f=0,m=d.length;f<m;f++)for(var v=d[f].events,_=0,w=v.length;_<w;_++)n.events[v[_].uid].rowIndex=f},_groupCount:function(){var e=this.groupedResources,t=this._groupedView;return e.length?"vertical"===this._groupOrientation()?t._verticalCountForLevel(e.length-1):t._horizontalCountForLevel(e.length-1,this.columnLevels.length-1):1},_updateEventForSelection:function(e){return this._adjustEvent(e.clone()).occurrence},_eventOptionsForMove:function(e){return e.isAllDay?{isAllDay:!1}:{}},_updateEventForResize:function(e){e.isAllDay&&e.set("isAllDay",!1)},_updateMoveHint:function(e,t,n){var r=this.groups[t],o=e.clone({start:e.start,end:e.end}),l=o.duration();if(o.start=new Date(o.start.getTime()+n),o.end=new Date(+o.start+l),this._removeMoveHint(e.uid),this._isInDateSlot(o)&&(o.isAllDay||o.duration()>=_||this._isInTimeSlot(o)))for(var c=this._adjustEvent(o),h=r.slotRanges(c.occurrence,!1),d=0;d<h.length;d++)this._groupedView._createMoveHint(h[d],c)},_appendMoveHint:function(e){e.appendTo(this.content),this._moveHint=this._moveHint.add(e)},_updateResizeHint:function(e,t,r,o){var c=this.groups[t].ranges(r,o,!1,!1);this._removeResizeHint();for(var h=0;h<c.length;h++){var d=c[h],f=d.startSlot(),m=d.innerRect(r,o,!1);m.top=f.offsetTop;var v=m.right-m.left;if(v<0)for(var i=0;i<d.events().length;i++)if(d.events()[i].uid===e.uid){v=d.events()[i].rectRight-m.left;break}var _=d.endSlot().offsetTop+f.offsetHeight-m.top,w=this._adjustLeftPosition(m.left),y=l.fn._createResizeHint.call(this,w,m.top,v,_);this._resizeHint=this._resizeHint.add(y)}var x=this.content;this._resizeHint.appendTo(x),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(n.toString(n.timezone.toLocalDate(r),"t")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(n.toString(n.timezone.toLocalDate(o),"t"))},selectionByElement:function(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_updateDirection:function(e,t,n,r,o){var l=t[0].start,c=t[t.length-1].end;n&&!o&&l.index===c.index&&l.collectionIndex===c.collectionIndex&&(e.backward=r)},_changeGroup:function(e,t){var slot=this[t?"prevGroupSlot":"nextGroupSlot"](e.start,e.groupIndex,!1);return slot&&(e.groupIndex+=t?-1:1),this._groupedView._changeGroup(e,t,slot),slot},prevGroupSlot:function(e,t,n){var r=this.groups[t],slot=r.ranges(e,e,n,!1)[0].start;if(!(t<=0))return this._groupedView._prevGroupSlot(slot,r,n)},nextGroupSlot:function(e,t,n){var r=this.groups[t],slot=r.ranges(e,e,n,!1)[0].start;if(!(t>=this.groups.length-1))return this._groupedView._nextGroupSlot(slot,r,n)},_verticalSlots:function(e,t,n,r){var o=this._groupedView,l=o._verticalMethod(r,n),c=t[0].start,h=t[t.length-1].end,d=this.groups[e.groupIndex],slot=o._normalizeVerticalSelection(e,t,r,n);return slot&&(c=h=slot),c=d[l](c),h=d[l](h),n||!this._isVerticallyGrouped()||c&&h||(c=h=o._verticalSlots(e,r,slot)),{startSlot:c,endSlot:h}},_horizontalSlots:function(e,t,n,r){var o=r?"upSlot":"downSlot",l=t[0].start,c=t[t.length-1].end,h=this.groups[e.groupIndex],d={};return n?(d.startSlot=h[o](l),d.endSlot=h[o](c),n||!this._isHorizontallyGrouped()||l&&c||(d.startSlot=d.endSlot=this._changeGroup(e,r))):d=this._groupedView._horizontalSlots(e,h,o,l,c,n,r),d},_changeViewPeriod:function(e,t){var n,r,l=t?this.previousDate():this.nextDate(),c=e.start,h=e.end;if(n=new Date(l),r=new Date(l),this._isInRange(n,r))return!1;e.start=n,e.end=r,this._isHorizontallyGrouped()&&(e.groupIndex=t?this.groups.length-1:0);var d=h-c;return t?(h=0===(h=v(this.endTime()))?_:h,o(e.start,h-d),o(e.end,h)):(c=v(this.startTime()),o(e.start,c),o(e.end,c+d)),e.events=[],!0},move:function(e,t,r){var o,l,c,h,d=!1,f=this.groups[e.groupIndex],m=n.keys,v=this._groupedView,_=f.ranges(e.start,e.end,!1,!1);if(t===m.DOWN||t===m.UP){if(d=!0,c=t===m.UP,v._updateDirection(e,_,r,c),h=this._verticalSlots(e,_,r,c),v._changeVerticalViewPeriod(h,r,e,c))return d}else if((t===m.LEFT||t===m.RIGHT)&&(d=!0,c=t===m.LEFT,this._updateDirection(e,_,r,c,!1),h=this._horizontalSlots(e,_,r,c),v._changeHorizontalViewPeriod(h,r,e,c)))return d;if(d){if(o=h.startSlot,l=h.endSlot,r){var w=e.backward;w&&o?e.start=o.startDate():!w&&l&&(e.end=l.endDate())}else o&&l&&(e.start=o.startDate(),e.end=l.endDate());e.events=[]}return d},destroy:function(){this.element&&this.element.off(y),this.footer&&this.footer.remove(),this._currentTimeUpdateTimer&&clearInterval(this._currentTimeUpdateTimer),l.fn.destroy.call(this),this._isMobile()&&this.options.editable&&(!1!==this.options.editable.create&&this._addUserEvents.destroy(),!1!==this.options.editable.update&&this._editUserEvents.destroy())}});d(!0,r,{TimelineView:D,TimelineWeekView:D.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",selectedMobileDateFormat:"{0:MMM dd} - {1:dd}",majorTick:120},name:"timelineWeek",calculateDateRange:function(){var e,t=this.options.date,r=n.date.dayOfWeek(t,this.calendarInfo().firstDay,-1),o=[];for(e=0;e<7;e++)o.push(r),r=n.date.nextDay(r);this._render(o)}}),TimelineWorkWeekView:D.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",selectedMobileDateFormat:"{0:MMM dd} - {1:dd}",majorTick:120},name:"timelineWorkWeek",nextDate:function(){var e=n.date.dayOfWeek(n.date.nextDay(this.endDate()),this.calendarInfo().firstDay,1);return n.date.addDays(e,this._workDays[0])},previousDate:function(){var e=n.date.dayOfWeek(this.startDate(),this.calendarInfo().firstDay,-1),t=this._workDays;return n.date.addDays(e,t[t.length-1]-7)},calculateDateRange:function(){for(var e=this.options.date,t=n.date.dayOfWeek(e,this.options.workWeekStart,-1),r=n.date.dayOfWeek(t,this.options.workWeekEnd,1),o=[];t<=r;)o.push(t),t=n.date.nextDay(t);this._render(o)}}),TimelineMonthView:D.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,23,59,59),footer:!1,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function(){var e,t,r=this.options.date,o=n.date.firstDayOfMonth(r),l=[];for(e=0,t=n.date.lastDayOfMonth(r).getDate();e<t;e++)l.push(o),o=n.date.nextDay(o);this._render(l)}})})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1192)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1039:function(e,t){e.exports=n(4)},1143:function(e,t){e.exports=n(41)},1144:function(e,t){e.exports=n(21)},1192:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1039),n(1144),n(1143),n(1193),n(1194),n(1195),n(1196)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=window.kendo,o=e.extend({F10:121},r.keys),l="matchMedia"in window,c=r.support.browser,h=r.support.mobileOS,d=r.Observable,f=r.ui.Widget,m=r.data.DataSource,v=r.data.ObservableObject,_=r.data.ObservableArray,w=r.data.Query,y=e.isArray,x=e.inArray,k=r.isFunction,C=e.proxy,S=e.extend,T=e.isPlainObject,map=e.map,D=r._outerWidth,E=r._outerHeight,A=".kendoGantt",I="tabIndex",M="click",R={down:{origin:"bottom left",position:"top left"},up:{origin:"top left",position:"bottom left"}},F="action-option-focused",P=r.template('<button class="#=styles.buttonToggle#" type="button" aria-label="Toggle"><span class="#=styles.iconToggle#"></span></button>'),z='<button class="#=styles.button# #=className#" type="button" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span><span>#=text#</span></button>',B=r.template('<li class="#=styles.currentView# #=styles.viewButtonDefault#"><a href="\\#" class="#=styles.link#">&nbps;</a></li>'),L=r.template('<ul class="#=styles.viewsWrapper#">#for(var view in views){#<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>#}#</ul>'),H=r.template('<div class="#=styles.popupWrapper#"><ul class="#=styles.popupList#" role="listbox">#for(var i = 0, l = actions.length; i < l; i++){#<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>#}#</ul></div>');function N(e){return"["+r.attr("uid")+(e?"='"+e+"']":"]")}function O(table,t){var n=table.parents("["+r.attr("role")+'="gantt"]'),o=[],l=e(n).parentsUntil("body").filter((function(e,element){return"visible"!=r.getComputedStyles(element,["overflow"]).overflow})).add(window);table.attr(I,0),t&&l.each((function(t,n){o[t]=e(n).scrollTop()}));try{table[0].setActive()}catch(e){table[0].focus()}t&&l.each((function(t,n){e(n).scrollTop(o[t])}))}var V=d.extend({init:function(element,e){d.fn.init.call(this),this.element=element,this.options=S(!0,{},this.options,e),this._popup()},options:{direction:"down",navigatable:!1},_current:function(e){var t=X.styles,n=this.list.find("."+t.focused),r=n[e]();r.length&&(n.removeClass(t.focused).removeAttr("id"),r.addClass(t.focused).attr("id",F),this.list.find("ul").removeAttr("aria-activedescendant").attr("aria-activedescendant",F))},_popup:function(){var t=this,n=X.styles,l="li."+n.item,c="."+n.toolbar.appendButton,h=this.options.messages.actions,d=this.options.navigatable;this.list=e(H({styles:n,actions:[{data:"add",text:h.addChild},{data:"insert-before",text:h.insertBefore},{data:"insert-after",text:h.insertAfter}]})),this.element.append(this.list),this.popup=new r.ui.Popup(this.list,S({anchor:this.element.find(c),open:function(){t._adjustListWidth()},animation:this.options.animation},R[this.options.direction])),this.element.on(M+A,c,(function(o){var l=e(this).attr(r.attr("action"));o.preventDefault(),l?t.trigger("command",{type:l}):(t.popup.open(),d&&t.list.find("li:first").addClass(n.focused).attr("id",F).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":F}).focus())})),this.list.find(l).hover((function(){e(this).addClass(n.hovered)}),(function(){e(this).removeClass(n.hovered)})).end().on(M+A,l,(function(){t.trigger("command",{type:e(this).attr(r.attr("action"))}),t.popup.close()})),d&&(this.popup.bind("close",(function(){t.list.find(l).removeClass(n.focused).end().find("ul").attr(I,0),t.element.parents("["+r.attr("role")+'="gantt"]').find("."+n.gridContent+" > table:first").focus()})),this.list.find("ul").on("keydown"+A,(function(e){switch(e.keyCode){case o.UP:e.preventDefault(),t._current("prev");break;case o.DOWN:e.preventDefault(),t._current("next");break;case o.ENTER:t.list.find("."+n.focused).click();break;case o.ESC:e.preventDefault(),t.popup.close()}})))},_adjustListWidth:function(){var e,t,n=this.list,r=X.styles,o=n[0].style.width,l=this.element.find("."+r.toolbar.appendButton),h=D(n);!n.data("width")&&o||(t=(e=window.getComputedStyle?window.getComputedStyle(l[0],null):0)?parseFloat(e.width):D(l),e&&(c.mozilla||c.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),h>(o="border-box"!==n.css("box-sizing")?t-(D(n)-n.width()):t)&&(o=h),n.css({fontFamily:l.css("font-family"),width:o}).data("width",o))},destroy:function(){clearTimeout(this._focusTimeout),this.popup.destroy(),this.element.off(A),this.list.off(A),this.unbind()}}),W=function(e,t){return function(n){var r=(n=y(n)?{data:n}:n)||{},data=r.data;if(r.data=data,!(r instanceof e)&&r instanceof m)throw new Error("Incorrect DataSource type. Only "+t+" instances are supported");return r instanceof e?r:new e(r)}},U=r.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}}),j=m.extend({init:function(e){m.fn.init.call(this,S(!0,{},{schema:{modelBase:U,model:U}},e))},successors:function(e){return this._dependencies("predecessorId",e)},predecessors:function(e){return this._dependencies("successorId",e)},dependencies:function(e){var t=this.predecessors(e),n=this.successors(e);return t.push.apply(t,n),t},_dependencies:function(e,t){var data=this.view(),filter={field:e,operator:"eq",value:t};return data=new w(data).filter(filter).toArray()}});j.create=W(j,"GanttDependencyDataSource");var G=r.data.Model.define({duration:function(){return this.end-this.start},isMilestone:function(){return 0===this.duration()},_offset:function(e){for(var t,n=["start","end"],i=0;i<n.length;i++)t=new Date(this.get(n[i]).getTime()+e),this.set(n[i],t)},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:!0}},orderId:{type:"number",validation:{required:!0}},title:{type:"string",defaultValue:"New task"},start:{type:"date",validation:{required:!0}},end:{type:"date",validation:{required:!0,dateCompare:function(input){if(input.filter("[name=end], [name=start]").length){for(var e,t,n=input.attr("name"),o=r.widgetInstance(input,r.ui),l={},c=input;c!==window&&!e;)e=(c=c.parent()).data("kendoEditable");return!(t=e?e.options.model:null)||(l.start=t.start,l.end=t.end,l[n]=o?o.value():r.parseDate(input.val()),l.start<=l.end)}return!0},message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:!0,min:0,max:1,step:.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:!0}}}),$=m.extend({init:function(e){m.fn.init.call(this,S(!0,{},{schema:{modelBase:G,model:G}},e))},remove:function(e){var t=e.get("parentId"),n=this.taskAllChildren(e);return this._removeItems(n),e=m.fn.remove.call(this,e),this._childRemoved(t,e.get("orderId")),e},add:function(e){if(e)return e=this._toGanttTask(e),this.insert(this.taskSiblings(e).length,e)},insert:function(e,t){if(t)return(t=this._toGanttTask(t)).set("orderId",e),t=m.fn.insert.call(this,e,t),this._reorderSiblings(t,this.taskSiblings(t).length-1),this._resolveSummaryFields(this.taskParent(t)),t},taskChildren:function(e){var t,data=this.view(),filter={field:"parentId",operator:"eq",value:null},n=this._sort&&this._sort.length?this._sort:{field:"orderId",dir:"asc"};if(e){if(null==(t=e.get("id"))||""===t)return[];filter.value=t}return data=new w(data).filter(filter).sort(n).toArray()},taskAllChildren:function(e){var data=[],t=this,n=function(e){var r=t.taskChildren(e);data.push.apply(data,r),map(r,n)};return e?n(e):data=this.view(),data},taskSiblings:function(e){if(!e)return null;var t=this.taskParent(e);return this.taskChildren(t)},taskParent:function(e){return e&&null!==e.get("parentId")?this.get(e.parentId):null},taskLevel:function(e){for(var t=0,n=this.taskParent(e);null!==n;)t+=1,n=this.taskParent(n);return t},taskTree:function(e){for(var t,data=[],n=this.taskChildren(e),i=0,r=n.length;i<r;i++)if(t=n[i],data.push(t),t.get("expanded")){var o=this.taskTree(t);data.push.apply(data,o)}return data},update:function(e,t){var n,r=this,o=function(e){var t=e.field,o=e.sender;switch(t){case"start":r._resolveSummaryStart(r.taskParent(o)),function(e,t){for(var n=r.taskAllChildren(e),i=0,o=n.length;i<o;i++)n[i]._offset(t)}(o,o.get(t).getTime()-n.getTime());break;case"end":r._resolveSummaryEnd(r.taskParent(o));break;case"percentComplete":r._resolveSummaryPercentComplete(r.taskParent(o));break;case"orderId":r._reorderSiblings(o,n)}};for(var l in void 0!==t.parentId&&((n=e.get("parentId"))!==t.parentId&&(e.set("parentId",t.parentId),r._childRemoved(n,e.get("orderId")),e.set("orderId",r.taskSiblings(e).length-1),r._resolveSummaryFields(r.taskParent(e))),delete t.parentId),e.bind("change",o),t)n=e.get(l),e.set(l,t[l]);e.unbind("change",o)},_resolveSummaryFields:function(summary){summary&&(this._updateSummary(summary),this.taskChildren(summary).length&&(this._resolveSummaryStart(summary),this._resolveSummaryEnd(summary),this._resolveSummaryPercentComplete(summary)))},_resolveSummaryStart:function(summary){var e=this;this._updateSummaryRecursive(summary,"start",(function(t){for(var n,r=e.taskChildren(t),o=r[0].start.getTime(),i=1,l=r.length;i<l;i++)(n=r[i].start.getTime())<o&&(o=n);return new Date(o)}))},_resolveSummaryEnd:function(summary){var e=this;this._updateSummaryRecursive(summary,"end",(function(t){for(var n,r=e.taskChildren(t),o=r[0].end.getTime(),i=1,l=r.length;i<l;i++)(n=r[i].end.getTime())>o&&(o=n);return new Date(o)}))},_resolveSummaryPercentComplete:function(summary){var e=this;this._updateSummaryRecursive(summary,"percentComplete",(function(t){var n=e.taskChildren(t);return new w(n).aggregate([{field:"percentComplete",aggregate:"average"}]).percentComplete.average}))},_updateSummaryRecursive:function(summary,e,t){if(summary){var n=t(summary);summary.set(e,n);var r=this.taskParent(summary);r&&this._updateSummaryRecursive(r,e,t)}},_childRemoved:function(e,t){for(var n=null===e?null:this.get(e),r=this.taskChildren(n),i=t,o=r.length;i<o;i++)r[i].set("orderId",i);this._resolveSummaryFields(n)},_reorderSiblings:function(e,t){var n=e.get("orderId"),r=n>t,o=r?t:n,l=r?n:t,c=r?o:o+1,h=this.taskSiblings(e);if(h.length){l=Math.min(l,h.length-1);for(var i=o;i<=l;i++)h[i]!==e&&(h[i].set("orderId",c),c+=1)}},_updateSummary:function(e){if(null!==e){var t=this.taskChildren(e).length;e.set("summary",t>0)}},_toGanttTask:function(e){if(!(e instanceof G)){var t=e;(e=this._createNewModel()).accept(t)}return e}});$.create=W($,"GanttDataSource"),S(!0,r.data,{GanttDataSource:$,GanttTask:G,GanttDependencyDataSource:j,GanttDependency:U});var Y={desktop:{dateRange:function(t,n){var o={name:n.field,title:n.title},l=n.model.fields[n.field].validation;l&&T(l)&&l.message&&(o[r.attr("dateCompare-msg")]=l.message),e('<input type="text" required '+r.attr("type")+'="date" '+r.attr("role")+'="datetimepicker" '+r.attr("bind")+'="value:'+n.field+'" '+r.attr("validate")+"='true' />").attr(o).appendTo(t),e("<span "+r.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},resources:function(t,n){e('<a href="#" class="'+n.styles.button+'">'+n.messages.assignButton+"</a>").click(n.click).appendTo(t)}}},K=r.Observable.extend({init:function(element,e){r.Observable.fn.init.call(this),this.element=element,this.options=S(!0,{},this.options,e),this.createButton=this.options.createButton},fields:function(t,n){var r,o=this,l=this.options,c=l.messages.editor,h=l.resources;return l.editable.template?r=e.map(n.fields,(function(e,t){return{field:t}})):(r=[{field:"title",title:c.title},{field:"start",title:c.start,editor:t.dateRange},{field:"end",title:c.end,editor:t.dateRange},{field:"percentComplete",title:c.percentComplete,format:"p0"}],n.get(h.field)&&r.push({field:h.field,title:c.resources,messages:c,editor:t.resources,click:function(e){e.preventDefault(),h.editor(o.container.find("."+X.styles.popup.resourcesField),n)},styles:X.styles.popup})),r},_buildEditTemplate:function(e,t,n){var o=this.options.resources,template=this.options.editable.template,l=S({},r.Template,this.options.templateSettings),c=l.paramName,h=X.styles.popup,html="";if(template)"string"==typeof template&&(template=r.unescape(template)),html+=r.template(template,l)(e);else for(var i=0,d=t.length;i<d;i++){var f=t[i];if(html+='<div class="'+h.editLabel+'"><label for="'+f.field+'">'+(f.title||f.field||"")+"</label></div>",f.field===o.field&&(html+='<div class="'+h.resourcesField+'" style="display:none"></div>'),!e.editable||e.editable(f.field))n.push(f),html+="<div "+r.attr("container-for")+'="'+f.field+'" class="'+h.editField+'"></div>';else{var m="#:";f.field?m+=(f=r.expr(f.field,c))+"==null?'':"+f:m+="''",m+="#",m=r.template(m,l),html+='<div class="'+h.editField+'">'+m(e)+"</div>"}}return html}}).extend({destroy:function(){this.close(),this.unbind()},editTask:function(e){this.editable=this._createPopupEditor(e)},close:function(){var e=this,t=function(){e.editable&&(e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};this.editable&&this.container.is(":visible")?(e.trigger("close",{window:e.container}),this.container.data("kendoWindow").bind("deactivate",t).close()):t()},showDialog:function(t){for(var n=t.buttons,o=X.styles.popup,html=r.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',o.form,o.formContainer,o.message,t.text,o.buttonsContainer),i=0,l=n.length;i<l;i++)html+=this.createButton(n[i]);html+="</div></div></div>";var c=this.element;this.popup&&this.popup.destroy();var h=this.popup=e(html).appendTo(c).eq(0).on("click","."+o.button,(function(t){t.preventDefault(),h.close();var r=e(t.currentTarget).index();n[r].click()})).kendoWindow({modal:!0,autoFocus:!1,resizable:!1,draggable:!1,title:t.title,visible:!1,deactivate:function(){this.destroy(),c.focus()}}).getKendoWindow();h.center().open(),h.element.find(".k-primary").focus()},_createPopupEditor:function(t){var n=this,o=this.options.messages,l=X.styles,c=l.popup,html=r.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',r.attr("uid"),t.uid,c.form,c.editForm,c.formContainer),h=this.fields(Y.desktop,t),d=[];html+=this._buildEditTemplate(t,h,d),html+='<div class="'+c.buttonsContainer+'">',html+=this.createButton({name:"update",text:o.save,className:X.styles.primary}),html+=this.createButton({name:"cancel",text:o.cancel}),!1!==n.options.editable.destroy&&(html+=this.createButton({name:"delete",text:o.destroy})),html+="</div></div></div>";var f=this.container=e(html).appendTo(this.element).eq(0).kendoWindow(S({modal:!0,resizable:!1,draggable:!0,title:o.editor.editorTitle,visible:!1,close:function(e){e.userTriggered&&n.trigger("cancel",{container:f,model:t})&&e.preventDefault()}},{})),m=f.kendoEditable({fields:d,model:t,clearContainer:!1,validateOnBlur:!0,target:n.options.target}).data("kendoEditable");return r.cycleForm(f),this.trigger("edit",{container:f,model:t})?n.trigger("cancel",{container:f,model:t}):(f.data("kendoWindow").center().open(),f.on(M+A,"."+l.buttonCancel,(function(e){e.preventDefault(),e.stopPropagation(),n.trigger("cancel",{container:f,model:t})})),f.on(M+A,"."+l.buttonSave,(function(e){e.preventDefault(),e.stopPropagation();for(var r,o=n.fields(Y.desktop,t),l={},i=0,c=o.length;i<c;i++)l[r=o[i].field]=t.get(r);n.trigger("save",{container:f,model:t,updateInfo:l})})),f.on(M+A,"."+l.buttonDelete,(function(e){e.preventDefault(),e.stopPropagation(),n.trigger("remove",{container:f,model:t})}))),m}}),Q=f.extend({init:function(element,e){f.fn.init.call(this,element,e),this.wrapper=this.element,this.model=this.options.model,this.resourcesField=this.options.resourcesField,this.createButton=this.options.createButton,this._initContainer(),this._attachHandlers()},events:["save"],open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",C(this.destroy,this)).close()},destroy:function(){this._dettachHandlers(),this.grid.destroy(),this.grid=null,this.window.destroy(),this.window=null,f.fn.destroy.call(this),r.destroy(this.wrapper),this.element=this.wrapper=null},_attachHandlers:function(){var t=X.styles,n=this.grid,o=this._cancelProxy=C(this._cancel,this);this.container.on(M+A,"."+t.buttonCancel,this._cancelProxy),this._saveProxy=C(this._save,this),this.container.on(M+A,"."+t.buttonSave,this._saveProxy),this.window.bind("close",(function(e){e.userTriggered&&o(e)})),n.wrapper.on(M+A,"input[type='checkbox']",(function(){var element=e(this),t=e(element).closest("tr"),o=n.dataSource.getByUid(t.attr(r.attr("uid"))),l=e(element).is(":checked")?1:"";o.set("value",l)}))},_dettachHandlers:function(){this._cancelProxy=null,this._saveProxy=null,this.container.off(A),this.grid.wrapper.off()},_cancel:function(e){e.preventDefault(),this.close()},_save:function(e){e.preventDefault(),this._updateModel(),this.wrapper.is("."+X.styles.popup.resourcesField)||this.trigger("save",{container:this.wrapper,model:this.model}),this.close()},_initContainer:function(){var t=this,n=X.styles.popup,o=r.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',n.form,n.editForm,n.formContainer,n.resourcesFormContainer);o=e(o),this.container=o.find("."+n.resourcesFormContainer),this.window=o.kendoWindow({modal:!0,resizable:!1,draggable:!0,visible:!1,title:this.options.messages.resourcesEditorTitle,open:function(){t.grid.resize(!0)}}).data("kendoWindow"),this._resourceGrid(),this._createButtons()},_resourceGrid:function(){var t=this.options.messages,element=e('<div id="resources-grid"/>').appendTo(this.container);this.grid=new r.ui.Grid(element,{columns:[{field:"name",title:t.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'# if (value > 0 && value !== null) {#checked='checked'# } #/>#=name#</labe>"},{field:"value",title:t.unitsHeader,template:function(e){var t=e.format,n=null!==e.value?e.value:"";return t?r.toString(n,t):n}}],height:280,sortable:!0,editable:!0,filterable:!0,dataSource:{data:this.options.data,schema:{model:{id:"id",fields:{id:{from:"id"},name:{from:"name",type:"string",editable:!1},value:{from:"value",type:"number",validation:this.options.unitsValidation},format:{from:"format",type:"string"}}}}},save:function(e){var t=!!e.values.value;e.container.parent().find("input[type='checkbox']").prop("checked",t)}})},_createButtons:function(){for(var e=this.options.buttons,html='<div class="'+X.styles.popup.buttonsContainer+'">',i=0,t=e.length;i<t;i++)html+=this.createButton(e[i]);html+="</div>",this.container.append(html)},_updateModel:function(){for(var e,t=[],data=this.grid.dataSource.data(),i=0,n=data.length;i<n;i++)null!==(e=data[i].get("value"))&&e>0&&t.push(data[i]);this.model[this.resourcesField]=t}}),X=f.extend({init:function(element,e,t){y(e)&&(e={dataSource:e}),n={append:{text:"Add Task",action:"add",className:X.styles.toolbar.appendButton,iconClass:X.styles.toolbar.iconPlus},pdf:{text:"Export to PDF",className:X.styles.toolbar.pdfButton,iconClass:X.styles.toolbar.iconPdf}},f.fn.init.call(this,element,e),t&&(this._events=t),this._wrapper(),this._resources(),this.options.views&&this.options.views.length||(this.options.views=["day","week","month"]),this._timeline(),this._toolbar(),this._footer(),this._adjustDimensions(),this._preventRefresh=!0,this.view(this.timeline._selectedViewName),this._preventRefresh=!1,this._dataSource(),this._assignments(),this._dropDowns(),this._list(),this._dependencies(),this._resizable(),this._scrollable(),this._dataBind(),this._attachEvents(),this._createEditor(),r.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","columnResize"],options:{name:"Gantt",autoBind:!0,navigatable:!1,selectable:!0,editable:!0,resizable:!1,columnResizeHandleWidth:3,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},taskTemplate:null,messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:"Are you sure you want to delete this task?",deleteDependencyConfirmation:"Are you sure you want to delete this dependency?",deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assignButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:!0,showWorkDays:!0,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:!0,height:600,listWidth:"30%",rowHeight:null},select:function(e){var t=this.list;if(!e)return t.select();t.select(e),this.list.element.find("table[role=treegrid]").focus()},clearSelection:function(){this.list.clearSelection()},destroy:function(){f.fn.destroy.call(this),this.dataSource&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource.unbind("progress",this._progressHandler),this.dataSource.unbind("error",this._errorHandler)),this.dependencies&&(this.dependencies.unbind("change",this._dependencyRefreshHandler),this.dependencies.unbind("error",this._dependencyErrorHandler)),this.timeline&&(this.timeline.unbind(),this.timeline.destroy()),this.list&&(this.list.unbind(),this.list.destroy()),this.footerDropDown&&this.footerDropDown.destroy(),this.headerDropDown&&this.headerDropDown.destroy(),this._editor&&this._editor.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this.toolbar.off(A),l&&(this._mediaQuery.removeListener(this._mediaQueryHandler),this._mediaQuery=null),e(window).off("resize"+A,this._resizeHandler),e(this.wrapper).off(A),this.toolbar=null,this.footer=null},setOptions:function(t){var n=r.deepExtend({},this.options,t),o=this._events;if(!t.views){var l=this.view().name;n.views=e.map(this.options.views,(function(view){var e=T(view),t=e?"string"!=typeof view.type?view.title:view.type:view;return l===t?e?view.selected=!0:view={type:t,selected:!0}:e&&(view.selected=!1),view}))}t.dataSource||(n.dataSource=this.dataSource),t.dependencies||(n.dependencies=this.dependencies),t.resources||(n.resources=this.resources),t.assignments||(n.assignments=this.assignments),this.destroy(),this.element.empty(),this.options=null,this.init(this.element,n,o),f.fn._setEvents.call(this,n)},_attachEvents:function(){this._resizeHandler=C(this.resize,this,!1),e(window).on("resize"+A,this._resizeHandler)},_wrapper:function(){var e=X.styles,t=[e.icon,e.resizeHandle].join(" "),n=this.options,r=n.height,o=n.width;this.wrapper=this.element.addClass(e.wrapper).append("<div class='"+e.listWrapper+"'><div></div></div>").append("<div class='"+e.splitBarWrapper+"'><div class='"+t+"'></div></div>").append("<div class='"+e.timelineWrapper+"'><div></div></div>"),this.wrapper.find("."+e.list).width(n.listWidth),r&&this.wrapper.height(r),o&&this.wrapper.width(o),n.rowHeight&&this.wrapper.addClass(e.rowHeight)},_toolbar:function(){var t,n,c,h=this,d=X.styles,f="."+d.toolbar.views+" > li",m="."+d.toolbar.pdfButton,v="."+d.buttonToggle,_="."+d.gridContent,w=e("."+d.list),y=e("."+d.timeline),x=d.hovered,S=this.options.toolbar,T=e("<div class='"+d.toolbar.actions+"'>");k(S)||(S="string"==typeof S?S:this._actions(S),S=C(r.template(S),this)),c=e(P({styles:d.toolbar})),n=e(L({ns:r.ns,views:this.timeline.views,styles:d.toolbar})),T.append(S({})),t=e("<div class='"+d.toolbar.headerWrapper+"'>").append(c).append(n).append(T),n.find("li").length>1&&n.prepend(B({styles:d.toolbar})),this.wrapper.prepend(t),this.toolbar=t,l&&(this._mediaQueryHandler=C((function(e){e.matches?w.css({display:"none","max-width":0}):(w.css({display:"inline-block",width:"30%","max-width":"none"}),y.css("display","inline-block"),h.refresh(),y.find(_).scrollTop(h.scrollTop)),h._resize()}),this),this._mediaQuery=window.matchMedia("(max-width: 480px)"),this._mediaQuery.addListener(this._mediaQueryHandler)),t.on(M+A,f,(function(t){t.preventDefault();var o=h.list,l=e(this).attr(r.attr("name")),c=n.find("."+d.toolbar.currentView);c.is(":visible")&&c.parent().toggleClass(d.toolbar.expanded),o.editable&&o.editable.trigger("validate")||(h.trigger("navigate",{view:l})||h.view(l),h.toolbar.find("."+d.focused).removeClass(d.focused))})).on("keydown"+A,f,(function(t){var n=e("."+d.toolbar.views).children(":not(.k-current-view)"),r=n.index(h._focusedView&&h._focusedView[0]||n.closest("."+d.selected)[0]);t.keyCode===o.RIGHT?(e(h.toolbar.find("."+d.focused)).removeClass(d.focused),h._focusedView=r+1===n.length?e(n[0]):e(n[r+1]),h._focusedView.focus().addClass(d.focused),t.preventDefault()):t.keyCode===o.LEFT?(e(h.toolbar.find("."+d.focused)).removeClass(d.focused),h._focusedView=e(0===r?n[n.length-1]:n[r-1]),h._focusedView.focus().addClass(d.focused),t.preventDefault()):t.keyCode===o.DOWN&&h.toolbar.find("."+d.toolbar.currentView).parent().hasClass(d.toolbar.expanded)?(e(h.toolbar.find("."+d.focused)).removeClass(d.focused),h._focusedView=r+1===n.length?e(n[0]):e(n[r+1]),h._focusedView.focus().addClass(d.focused),t.preventDefault()):t.keyCode===o.UP&&h.toolbar.find("."+d.toolbar.currentView).parent().hasClass(d.toolbar.expanded)?(e(h.toolbar.find("."+d.focused)).removeClass(d.focused),h._focusedView=e(0===r?n[n.length-1]:n[r-1]),h._focusedView.focus().addClass(d.focused),t.preventDefault()):t.keyCode!==o.ENTER&&t.keyCode!==o.SPACEBAR||!h._focusedView?(t.keyCode===o.SPACEBAR||t.keyCode===o.ENTER||t.keyCode===o.DOWN&&t.altKey)&&h.toolbar.find("."+d.toolbar.currentView+" > a").hasClass(d.focused)?(h.toolbar.find("."+d.toolbar.currentView).parent().toggleClass(d.toolbar.expanded),t.preventDefault()):t.keyCode===o.ESC&&h.toolbar.find("."+d.toolbar.currentView).parent().hasClass(d.toolbar.expanded)?(h.toolbar.find("."+d.toolbar.currentView).parent().toggleClass(d.toolbar.expanded).blur(),h._focusedView=null,h.toolbar.find("."+d.toolbar.currentView+" > a").addClass(d.focused).focus(),t.preventDefault()):t.keyCode>=49&&t.keyCode<=57&&h.view(h.timeline._viewByIndex(t.keyCode-49)):(h.view(h._focusedView.text().toLowerCase()),t.preventDefault())})).on(M+A,m,(function(e){e.preventDefault(),h.saveAsPDF()})).on(M+A,v,(function(e){e.preventDefault(),w.is(":visible")?(w.css({display:"none",width:"0"}),y.css({display:"inline-block",width:"100%"}),h.refresh(),y.find(_).scrollTop(h.scrollTop)):(y.css({display:"none",width:0}),w.css({display:"inline-block",width:"100%","max-width":"none"}).find(_).scrollTop(h.scrollTop)),h._resize()})),this.wrapper.on("focusout"+A,(function(t){e(t.relatedTarget).closest("."+d.toolbar.toolbar).length||h.toolbar.find("."+d.focused).removeClass(d.focused),e(t.relatedTarget).closest("."+d.toolbar.views).length||h.toolbar.find("."+d.toolbar.views).removeClass(d.toolbar.expanded)})).find("."+d.toolbar.toolbar+" li").hover((function(){e(this).addClass(x)}),(function(){e(this).removeClass(x)}))},_actions:function(){var e=this.options,t=e.editable,n=e.toolbar,html="";if(!y(n)){if(!t||!1===t.create)return html;n=["append"]}for(var i=0,r=n.length;i<r;i++)html+=this._createButton(n[i]);return html},_footer:function(){var t=this.options.editable;if(t&&!1!==t.create){var o=X.styles.toolbar,l=this.options.messages.actions,button=e(r.template(z)(S(!0,{styles:o},n.append,{text:l.append}))),c=e("<div class='"+o.actions+"'>").append(button),footer=e("<div class='"+o.footerWrapper+"'>").append(c);this.wrapper.append(footer),this.footer=footer}},_createButton:function(e){var template=e.template||z,t=this.options.messages.actions,o="string"==typeof e?e:e.name||e.text,l={iconClass:"",action:"",text:o,className:n[o]?n[o].className:"k-gantt-"+(o||"").replace(/\s/g,""),styles:X.styles.toolbar};if(!(o||T(e)&&e.template))throw new Error("Custom commands should have name specified");return l=S(!0,l,n[o],{text:t[o]}),T(e)&&(e.className&&x(l.className,e.className.split(" "))<0&&(e.className+=" "+l.className),l=S(!0,l,e)),r.template(template)(l)},_adjustDimensions:function(){var element=this.element,e=X.styles,t="."+e.list,n="."+e.timeline,r="."+e.splitBar,o=E(this.toolbar),l=this.footer?E(this.footer):0,c=element.height(),h=element.width(),d=D(element.find(r)),f=D(element.find(t));element.children([t,n,r].join(",")).height(c-(o+l)).end().children(n).width(h-(d+f)),h<f+d&&element.find(t).width(h-d)},_scrollTo:function(e){var t,n,view=this.timeline.view(),o=this.list,l=r.attr("uid"),c="string"==typeof e?e:e.closest("tr"+N()).attr(l);view.content.is(":visible")?(n=view.content.find(N(c)),t=function(){view._scrollTo(n)}):(n=o.content.find(N(c)),t=function(){n.get(0).scrollIntoView()}),0!==n.length&&t()},_dropDowns:function(){var e=this,t="."+X.styles.toolbar.actions,n=this.options.messages.actions,r=this.timeline,o=this.options.editable,l=function(t){var n,o=t.type,l=e.dataSource,c=l._createNewModel(),h=e.dataItem(e.select()),d=l.taskParent(h),f=r.view()._timeSlots()[0],m="add"===o?h:d,v=e.list.editable;v&&v.trigger("validate")||(c.set("title","New task"),m?(c.set("parentId",m.get("id")),c.set("start",m.get("start")),c.set("end",m.get("end"))):(c.set("start",f.start),c.set("end",f.end)),"add"!==o&&(n=h.get("orderId"),n="insert-before"===o?n:n+1),e._createTask(c,n))};o&&!1!==o.create&&(this.footerDropDown=new V(this.footer.children(t).eq(0),{messages:{actions:n},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:e.options.navigatable}),this.headerDropDown=new V(this.toolbar.children(t).eq(0),{messages:{actions:n},navigatable:e.options.navigatable}),this.footerDropDown.bind("command",l),this.headerDropDown.bind("command",l))},_list:function(){for(var e,t=this,n=t.options.navigatable,o=X.styles,l=this.wrapper.find("."+o.list),element=l.find("> div"),c=this.wrapper.find("."+o.toolbar.actions+" > button"),h={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,resizable:this.options.resizable,columnResizeHandleWidth:this.options.columnResizeHandleWidth,listWidth:D(l),resourcesField:this.resources.field,rowHeight:this.options.rowHeight},d=h.columns,f=function(){n&&(t._current(t._cachedCurrent),O(t.list.content.find("table"),!0)),delete t._cachedCurrent},i=0;i<d.length;i++)(e=d[i]).field===this.resources.field&&"function"!=typeof e.editor&&(e.editor=C(this._createResourceEditor,this));this.list=new r.ui.GanttList(element,h),this.list.bind("render",(function(){t._navigatable()}),!0).bind("edit",(function(e){t._cachedCurrent=e.cell,t.trigger("edit",{task:e.model,container:e.cell})&&e.preventDefault()})).bind("cancel",(function(e){t.trigger("cancel",{task:e.model,container:e.cell})&&e.preventDefault(),f()})).bind("update",(function(e){t._updateTask(e.task,e.updateInfo),f()})).bind("change",(function(){t.trigger("change");var e=t.list.select();e.length?(c.removeAttr("data-action","add"),t.timeline.select("[data-uid='"+e.attr("data-uid")+"']")):(c.attr("data-action","add"),t.timeline.clearSelection())})).bind("columnResize",(function(e){t.trigger("columnResize",{column:e.column,oldWidth:e.oldWidth,newWidth:e.newWidth})}))},_timeline:function(){var e=this,t=X.styles,n=function(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}(S(!0,{resourcesField:this.resources.field},this.options)),element=this.wrapper.find("."+t.timeline+" > div"),o="."+t.toolbar.currentView+" > ."+t.toolbar.link;this.timeline=new r.ui.GanttTimeline(element,n),this.timeline.bind("navigate",(function(n){var r=n.view.replace(/\./g,"\\.").toLowerCase(),text=e.toolbar.find("."+t.toolbar.views+" > li").removeClass(t.selected).end().find("."+t.toolbar.viewButton+"-"+r).addClass(t.selected).find("."+t.toolbar.link).text();e.toolbar.find(o).text(text),e.refresh()})).bind("moveStart",(function(t){var n=e.list.editable;n&&n.trigger("validate")?t.preventDefault():e.trigger("moveStart",{task:t.task})&&t.preventDefault()})).bind("move",(function(t){var n=t.task,r=t.start,o=new Date(r.getTime()+n.duration());e.trigger("move",{task:n,start:r,end:o})&&t.preventDefault()})).bind("moveEnd",(function(t){var n=t.task,r=t.start,o=new Date(r.getTime()+n.duration());e.trigger("moveEnd",{task:n,start:r,end:o})||e._updateTask(e.dataSource.getByUid(n.uid),{start:r,end:o})})).bind("resizeStart",(function(t){var n=e.list.editable;n&&n.trigger("validate")?t.preventDefault():e.trigger("resizeStart",{task:t.task})&&t.preventDefault()})).bind("resize",(function(t){e.trigger("resize",{task:t.task,start:t.start,end:t.end})&&t.preventDefault()})).bind("resizeEnd",(function(t){var n=t.task,r={};t.resizeStart?r.start=t.start:r.end=t.end,e.trigger("resizeEnd",{task:n,start:t.start,end:t.end})||e._updateTask(e.dataSource.getByUid(n.uid),r)})).bind("percentResizeStart",(function(t){var n=e.list.editable;n&&n.trigger("validate")&&t.preventDefault()})).bind("percentResizeEnd",(function(t){e._updateTask(e.dataSource.getByUid(t.task.uid),{percentComplete:t.percentComplete})})).bind("dependencyDragStart",(function(t){var n=e.list.editable;n&&n.trigger("validate")&&t.preventDefault()})).bind("dependencyDragEnd",(function(t){var n=e.dependencies._createNewModel({type:t.type,predecessorId:t.predecessor.id,successorId:t.successor.id});e._createDependency(n)})).bind("select",(function(t){var n=e.list.editable;n&&n.trigger("validate"),e.select("[data-uid='"+t.uid+"']")})).bind("editTask",(function(t){var n=e.list.editable;n&&n.trigger("validate")||e.editTask(t.uid)})).bind("clear",(function(){e.clearSelection()})).bind("removeTask",(function(t){var n=e.list.editable;n&&n.trigger("validate")||e.removeTask(e.dataSource.getByUid(t.uid))})).bind("removeDependency",(function(t){var n=e.list.editable;n&&n.trigger("validate")||e.removeDependency(e.dependencies.getByUid(t.uid))}))},_dataSource:function(){var e=this.options.dataSource;e=y(e)?{data:e}:e,this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=C(this.refresh,this),this._progressHandler=C(this._requestStart,this),this._errorHandler=C(this._error,this)),this.dataSource=r.data.GanttDataSource.create(e).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var e=this.options.dependencies||{},t=y(e)?{data:e}:e;this.dependencies&&this._dependencyRefreshHandler?this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler):(this._dependencyRefreshHandler=C(this.refreshDependencies,this),this._dependencyErrorHandler=C(this._error,this)),this.dependencies=r.data.GanttDependencyDataSource.create(t).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var e=this.options.resources,t=e.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"},S(this.resources,e),this.resources.dataSource=r.data.DataSource.create(t)},_assignments:function(){var e=this.options.assignments,t=e.dataSource||{};this.assignments?this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler):this._assignmentsRefreshHandler=C(this.refresh,this),this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"},S(this.assignments,e),this.assignments.dataSource=r.data.DataSource.create(t),this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(){var e=this;(this._editor=new K(this.wrapper,S({},this.options,{target:this,resources:{field:this.resources.field,editor:C(this._createResourceEditor,this)},createButton:C(this._createPopupButton,this)}))).bind("cancel",(function(t){var n=e.dataSource.getByUid(t.model.uid);e.trigger("cancel",{container:t.container,task:n})?t.preventDefault():e.cancelTask()})).bind("edit",(function(t){var n=e.dataSource.getByUid(t.model.uid);e.trigger("edit",{container:t.container,task:n})&&t.preventDefault()})).bind("save",(function(t){var n=e.dataSource.getByUid(t.model.uid);e.saveTask(n,t.updateInfo)})).bind("remove",(function(t){e.removeTask(t.model.uid)})).bind("close",e._onDialogClose)},_onDialogClose:function(){},_createResourceEditor:function(e,t){var n=this,r=t instanceof v?t:t.model,o=r.get("id"),l=this.options.messages,c=this.resources.field,h={step:.01},d=this.assignments.dataSource.options.schema.model;d&&d.fields.Units&&d.fields.Units.validation&&S(!0,h,d.fields.Units.validation),(this._resourceEditor=new Q(e,{resourcesField:c,unitsValidation:h,data:this._wrapResourceData(o),model:r,messages:S({},l.editor),buttons:[{name:"update",text:l.save,className:X.styles.primary},{name:"cancel",text:l.cancel}],createButton:C(this._createPopupButton,this),save:function(e){n._updateAssignments(e.model.get("id"),e.model.get(c))}})).open()},_createPopupButton:function(e){var t=e.name||e.text,n={className:X.styles.popup.button+" k-gantt-"+(t||"").replace(/\s/g,""),text:t,attr:""};if(!(t||T(e)&&e.template))throw new Error("Custom commands should have name specified");return T(e)&&(e.className&&(e.className+=" "+n.className),n=S(!0,n,e)),r.template('<a class="#=className#" #=attr# href="\\#">#=text#</a>')(n)},view:function(e){return this.timeline.view(e)},range:function(e){var t=this.dataSource,view=this.view(),n=this.timeline;return e&&(view.options.range={start:e.start,end:e.end},n._render(t.taskTree()),n._renderDependencies(this.dependencies.view())),{start:view.start,end:view.end}},date:function(e){var view=this.view();return e&&(view.options.date=e,view._scrollToDate(e)),view.options.date},dataItem:function(e){if(!e)return null;var t=this.list,element=t.content.find(e);return t._modelFromElement(element)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.list._setDataSource(this.dataSource),this.options.autoBind&&e.fetch()},setDependenciesDataSource:function(e){this.options.dependencies=e,this._dependencies(),this.options.autoBind&&e.fetch()},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(e,t){for(var n,r,o,l=this.assignments.dataSource,c=this.assignments.dataTaskIdField,h=this.assignments.dataResourceIdField,d=!1,f=new w(l.view()).filter({field:c,operator:"eq",value:e}).toArray();f.length;){n=f[0];for(var i=0,m=t.length;i<m;i++)if(r=t[i],n.get(h)===r.get("id")){o=t[i].get("value"),this._updateAssignment(n,o),t.splice(i,1),d=!0;break}d||this._removeAssignment(n),d=!1,f.shift()}for(var v=0,_=t.length;v<_;v++)r=t[v],this._createAssignment(r,e);l.sync()},cancelTask:function(){var e=this._editor;e.container&&e.close()},editTask:function(e){var t="string"==typeof e?this.dataSource.getByUid(e):e;if(t){var n=this.dataSource._createNewModel(t.toJSON());n.uid=t.uid,this.cancelTask(),this._editTask(n)}},_editTask:function(e){this._editor.editTask(e)},saveTask:function(e,t){var n=this._editor,r=n.container,o=n.editable;r&&o&&o.end()&&this._updateTask(e,t)},_updateTask:function(e,t){var n=this.resources.field;this.trigger("save",{task:e,values:t})||(this._preventRefresh=!0,this.dataSource.update(e,t),t[n]&&this._updateAssignments(e.get("id"),t[n]),this._syncDataSource())},_updateAssignment:function(e,t){var n=this.assignments.dataValueField;e.set(n,t)},removeTask:function(e){var t=this,n="string"==typeof e?this.dataSource.getByUid(e):e;n&&this._taskConfirm((function(e){e||t._removeTask(n)}),n)},_createTask:function(e,t){if(!this.trigger("add",{task:e,dependency:null})){var n=this.dataSource;this._preventRefresh=!0,void 0===t?n.add(e):n.insert(t,e),this._scrollToUid=e.uid,this._syncDataSource()}},_createDependency:function(e){this.trigger("add",{task:null,dependency:e})||(this._preventDependencyRefresh=!0,this.dependencies.add(e),this._preventDependencyRefresh=!1,this.dependencies.sync())},_createAssignment:function(e,t){var n=this.assignments,r=n.dataSource,o=n.dataTaskIdField,l=n.dataResourceIdField,c=n.dataValueField,h=r._createNewModel();h[o]=t,h[l]=e.get("id"),h[c]=e.get("value"),r.add(h)},removeDependency:function(e){var t=this,n="string"==typeof e?this.dependencies.getByUid(e):e;n&&this._dependencyConfirm((function(e){e||t._removeDependency(n)}),n)},_removeTaskDependencies:function(e,t){this._preventDependencyRefresh=!0;for(var i=0,n=t.length;i<n;i++)this.dependencies.remove(t[i]);this._preventDependencyRefresh=!1,this.dependencies.sync()},_removeTaskAssignments:function(e){var t=this.assignments.dataSource,n=t.view(),filter={field:this.assignments.dataTaskIdField,operator:"eq",value:e.get("id")};n=new w(n).filter(filter).toArray(),this._preventRefresh=!0;for(var i=0,r=n.length;i<r;i++)t.remove(n[i]);this._preventRefresh=!1,t.sync()},_removeTask:function(e){var t=this.dependencies.dependencies(e.id);this.trigger("remove",{task:e,dependencies:t})||(this._removeTaskDependencies(e,t),this._removeTaskAssignments(e),this._preventRefresh=!0,this.dataSource.remove(e)&&this._syncDataSource(),this._preventRefresh=!1)},_removeDependency:function(e){this.trigger("remove",{task:null,dependencies:[e]})||this.dependencies.remove(e)&&this.dependencies.sync()},_removeAssignment:function(e){this.assignments.dataSource.remove(e)},_taskConfirm:function(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteTaskConfirmation,title:n.deleteTaskWindowTitle})},_dependencyConfirm:function(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteDependencyConfirmation,title:n.deleteDependencyWindowTitle})},_confirm:function(e,t){var n,r,o=this.options.editable;!0===o||!1!==o.confirmation?(r=[{name:"delete",text:(n=this.options.messages).destroy,className:X.styles.primary,click:function(){e()}},{name:"cancel",text:n.cancel,click:function(){e(!0)}}],this.showDialog(S(!0,{},t,{buttons:r}))):e()},showDialog:function(e){this._editor.showDialog(e)},refresh:function(){if(!this._preventRefresh&&!this.list.editable){this._progress(!1);var e,t,n=this.dataSource.taskTree(),o=this._scrollToUid,l=-1;this.current&&(t=this.current.closest("tr").attr(r.attr("uid")),l=this.current.index()),this.trigger("dataBinding")||(0!==this.resources.dataSource.data().length&&this._assignResources(n),this._editor&&this._editor.close(),this.clearSelection(),this.list._render(n),this.timeline._render(n),this.timeline._renderDependencies(this.dependencies.view()),o&&(this._scrollTo(o),this.select(N(o))),(o||t)&&l>=0&&(e=this.list.content.find("tr"+N(o||t)+" > td:eq("+l+")"),this._current(e)),this._scrollToUid=null,this.trigger("dataBound"))}},refreshDependencies:function(){this._preventDependencyRefresh||this.trigger("dataBinding")||(this.timeline._renderDependencies(this.dependencies.view()),this.trigger("dataBound"))},_assignResources:function(e){for(var data,t,n=this.resources,o=this.assignments,l=(data=o.dataSource.view(),t={field:o.dataTaskIdField},data=new w(data).group(t).toArray()),c=function(e,t){var o=e.get("id");r.setter(n.field)(e,new _([]));for(var i=0,c=l.length;i<c;i++)l[i].value===o&&t(e,l[i].items)},h=function(e,t){for(var l=0,c=t.length;l<c;l++){var h=t[l],d=n.dataSource.get(h.get(o.dataResourceIdField)),f=h.get(o.dataValueField),m=h.get(o.dataResourceIdField),_=d.get(n.dataFormatField)||"p0",w=r.toString(f,_);e[n.field].push(new v({id:m,name:d.get(n.dataTextField),color:d.get(n.dataColorField),value:f,formatedValue:w}))}},i=0,d=e.length;i<d;i++)c(e[i],h)},_wrapResourceData:function(e){for(var t,n=this,r=[],o=this.resources.dataSource.view(),l=this.assignments.dataSource.view(),c=new w(l).filter({field:n.assignments.dataTaskIdField,operator:"eq",value:e}).toArray(),h=function(e){var t=null;return new w(c).filter({field:n.assignments.dataResourceIdField,operator:"eq",value:e}).select((function(e){t+=e.get(n.assignments.dataValueField)})),t},i=0,d=o.length;i<d;i++)t=o[i],r.push({id:t.get("id"),name:t.get(n.resources.dataTextField),format:t.get(n.resources.dataFormatField)||"p0",value:h(t.id)});return r},_syncDataSource:function(){this._preventRefresh=!1,this._requestStart(),this.dataSource.sync()},_requestStart:function(){this._progress(!0)},_error:function(){this._progress(!1)},_progress:function(e){r.ui.progress(this.element,e)},_resizable:function(){var t,n,o,l=this,c=this.wrapper,h=X.styles,d="."+h.gridContent,f=c.find("."+h.list),m=c.find("."+h.timeline);this._resizeDraggable=c.find("."+h.splitBar).height(f.height()).hover((function(){e(this).addClass(h.splitBarHover)}),(function(){e(this).removeClass(h.splitBarHover)})).end().kendoResizable({orientation:"horizontal",handle:"."+h.splitBar,start:function(){t=f.width(),n=m.width(),o=m.find(d).scrollLeft()},resize:function(e){var h=e.x.initialDelta;r.support.isRtl(c)&&(h*=-1),t+h<0||n-h<0||(f.width(t+h),m.width(n-h),m.find(d).scrollLeft(o+h),l.timeline.view()._renderCurrentTime())}}).data("kendoResizable")},_scrollable:function(){var t=this,n=X.styles,o="."+n.gridContent,l="."+n.gridHeaderWrap,c=this.timeline.element.find(l),d=this.timeline.element.find(o),f=this.list.element.find(l),m=this.list.element.find(o);h&&m.css("overflow-y","auto"),d.on("scroll",(function(){t.scrollTop=this.scrollTop,c.scrollLeft(this.scrollLeft),m.scrollTop(this.scrollTop)})),m.on("scroll",(function(){f.scrollLeft(this.scrollLeft)})).on("DOMMouseScroll"+A+" mousewheel"+A,(function(t){var n=d.scrollTop(),o=r.wheelDeltaY(t);o&&(t.preventDefault(),e(t.currentTarget).one("wheel"+A,!1),d.scrollTop(n+-o))}))},_navigatable:function(){var t,n=this,l=this.options.navigatable,c=this.options.editable,h=this.list.header.find("table"),d=this.list.content.find("table"),f=X.styles,m=r.support.isRtl(this.wrapper),v=this.timeline.element.find("."+f.gridContent),_=h.add(d),w=N(),y=!1,x=!0,k=function(e){var t=n.timeline.view()._timeSlots()[0].offsetWidth;v.scrollLeft(v.scrollLeft()+(e?-t:t))},C=function(e){var t=n.timeline.view()._rowHeight;v.scrollTop(v.scrollTop()+(e?-t:t))},S=function(e){var t=n.current.parent("tr"+N()),r=n.current.index(),o=t[e]();0!==n.select().length&&n.clearSelection(),0!==o.length?(n._current(o.children("td:eq("+r+")")),n._scrollTo(n.current)):n.current.is("td")&&"prev"==e?O(h):n.current.is("th")&&"next"==e&&O(d)},T=function(e){var r=n.current[e]();0!==r.length&&(n._current(r),t=n.current.index())},D=function(e){var t=n.dataItem(n.current);t.summary&&t.expanded!==e&&t.set("expanded",e)},E=function(){var e=n.options.editable;if(e&&!1!==e.destroy&&!n.list.editable){var t=n.select(),o=r.attr("uid");t.length&&n.removeTask(t.attr(o))}};e(this.wrapper).on("mousedown"+A,"tr"+w+", div"+w+":not(."+f.line+")",(function(t){var o,h=e(t.currentTarget),d=e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");t.ctrlKey||(l&&(o=h.is("tr")?e(t.target).closest("td"):n.list.content.find("tr"+N(h.attr(r.attr("uid")))+" > td:first"),n._current(o)),!l&&!c||d||(n._focusTimeout=setTimeout((function(){O(n.list.content.find("table"),!0)}),2)))})).on("keydown"+A,function(t){var n=t.keyCode,r=e(this._getToolbarItems()),l=r.index(this.toolbar.find("."+f.focused)[0]);-1===l&&e(t.target).closest("."+f.toolbar.views).length&&(l=r.index(this.toolbar.find(".k-gantt-views > .k-state-selected:visible > a, .k-current-view:visible > a")[0]));var c=t.shiftKey?r[l-1]:r[l+1];if(n===o.F10)this.toolbar.find(".k-button:visible:first").addClass(f.focused).focus(),t.preventDefault();else if(n==o.TAB&&e(t.target).closest("."+f.toolbar.toolbar).length){if(this.toolbar.find("."+f.focused).removeClass(f.focused).blur(),c)return e(c).addClass(f.focused).focus(),void t.preventDefault();this.list.element.is(":visible")?this.list.element.find("table[role=treegrid]").focus():this.element.find("."+f.tasks)[0].focus(),t.preventDefault()}}.bind(this)),!0===l?_.on("focus"+A,(function(){var r=this===d.get(0)?"td":"th",o=n.select(),l=n.current||e(o.length?o:this).find(r+":eq("+(t||0)+")");n._current(l),e(n.toolbar.find("."+f.focused)).removeClass(f.focused),e(n.toolbar.find("."+f.toolbar.currentView)).parent().removeClass(f.toolbar.expanded)})).on("blur"+A,(function(){n._current(),this==h&&e(this).attr(I,-1)})).on("keydown"+A,(function(t){var r,l=t.keyCode;if(n.current)switch(r=n.current.is("td"),l){case o.RIGHT:t.preventDefault(),t.altKey?k():t.ctrlKey?D(m?y:x):T(m?"prev":"next");break;case o.LEFT:t.preventDefault(),t.altKey?k(!0):t.ctrlKey?D(m?x:y):T(m?"next":"prev");break;case o.UP:t.preventDefault(),t.altKey?C(!0):S("prev");break;case o.DOWN:t.preventDefault(),t.altKey?C():S("next");break;case o.SPACEBAR:t.preventDefault(),r&&n.select(n.current.closest("tr"));break;case o.ENTER:t.preventDefault(),r?n.options.editable&&!1!==n.options.editable.update&&(n._cachedCurrent=n.current,n.list._startEditHandler(n.current),e(this).one("keyup",(function(e){e.stopPropagation()}))):n.current.children("a.k-link").click();break;case o.ESC:break;case o.DELETE:r&&E();break;default:l>=49&&l<=57&&"input"!==t.target.tagName.toLowerCase()&&n.view(n.timeline._viewByIndex(l-49))}})):d.on("keydown"+A,(function(e){e.keyCode==o.DELETE&&E()}))},_getToolbarItems:function(){return this.toolbar.find(".k-gantt-toggle:visible").toArray().concat(this.toolbar.find(".k-gantt-actions > .k-button:visible").toArray(),this.toolbar.find(".k-gantt-views > .k-state-selected:visible > a, .k-current-view:visible > a").toArray())},_current:function(element){var t,n=X.styles;this.current&&this.current.length&&this.current.removeClass(n.focused).removeAttr("id"),element&&element.length?(this.current=element.addClass(n.focused).attr("id","gantt_active_cell"),(t=e(r._activeElement())).is("table")&&this.wrapper.find(t).length>0&&t.removeAttr("aria-activedescendant").attr("aria-activedescendant","gantt_active_cell")):this.current=null},_dataBind:function(){var t=this;if(t.options.autoBind){this._preventRefresh=!0,this._preventDependencyRefresh=!0;var n=e.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],(function(e){return e.fetch()}));e.when.apply(null,n).done((function(){t._preventRefresh=!1,t._preventDependencyRefresh=!1,t.refresh()}))}},_resize:function(){this._adjustDimensions(),this.timeline.view()._adjustHeight(),this.timeline.view()._renderCurrentTime(),this.list._adjustHeight()}});r.PDFMixin&&(r.PDFMixin.extend(X.fn),X.fn._drawPDF=function(){var e="."+X.styles.list,t=this.wrapper.find(e).width(),content=this.wrapper.clone();return content.find(e).css("width",t),this._drawPDFShadow({content:content},{avoidLinks:this.options.pdf.avoidLinks})}),r.ui.plugin(X),S(!0,X,{styles:{wrapper:"k-widget k-gantt",rowHeight:"k-gantt-rowheight",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",buttonToggle:"k-gantt-toggle",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasks:"k-gantt-tasks",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",expanded:"k-state-expanded",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",buttonToggle:"k-button k-button-icon k-gantt-toggle",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-file-pdf",iconToggle:"k-icon k-i-layout-1-by-4",viewButtonDefault:"k-state-default",viewButton:"k-view",currentView:"k-current-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1193:function(e,t){e.exports=n(188)},1194:function(e,t){e.exports=n(189)},1195:function(e,t){e.exports=n(190)},1196:function(e,t){e.exports=n(68)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1357)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1057:function(e,t){e.exports=n(20)},1062:function(e,t){e.exports=n(5)},1357:function(e,t,n){var r,o,l;n(3),o=[n(1057),n(1016),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=n.data.DataSource,l=n.effects.Transition,c=e.proxy,h="k-timeline-flag-wrap",d="k-timeline-track-item",f="k-timeline-scrollable-wrap",m=".kendoTimeline";function v(element){var e=element.css("transform");return"none"!=e?e.match(/-?[\d\.]+/g)[4]/element.width()*100:0}function _(element,e){return element.offset().left-e.offset().left+element.width()/2}function w(element,e,t){element.css(e,t)}var y=n.Class.extend({init:function(t){this.cardContainer=e("<div class='k-card' />");var n=e("<div class='k-timeline-card'></div>").append(this.cardContainer);this.element=e("<li class='"+function(e){return"k-"+e}("timeline-event")+"'></li>").append(n),t.append(this.element)},content:function(t,n){var r=e("<span class='k-timeline-card-callout k-card-callout k-callout-n'></span>");this.cardContainer.html(t),this.cardContainer.append(r),this.element.attr("data-uid",n)},position:function(e){this.element.css("transform","translate3d("+this.element.width()*e+"px, 0, 0)")},setPageCallout:function(e,t){this.element.find(".k-timeline-card-callout").css(e,t)},destroy:function(){this.cardContainer=null,this.element.remove(),this.element=null}}),x=n.Observable.extend({init:function(element,t){var r,o,c,h=this;n.Observable.fn.init.call(this),this.element=element,r=new n.ui.Movable(h.element),o=new l({axis:"x",movable:r,onEnd:function(){h.trigger("transitionEnd")}}),c=[],e.extend(h,{duration:t&&t.duration||1,movable:r,transition:o,pages:c,eventTemplate:t.eventTemplate,eventHeight:t.eventHeight,dataFieldMappings:t.dataFieldMappings}),this.bind(["transitionEnd"],t)},initPages:function(){for(var e,t=this.pages,element=this.element,i=0;i<3;i++)e=new y(element),t.push(e)},repositionPages:function(){var e=this.pages;e[0].position(-1),e[1].position(0),e[2].position(1)},setPageContent:function(e,data){var html,template=typeof this.eventTemplate===Function?this.eventTemplate:n.template(this.eventTemplate),t=this.dataFieldMappings;html=template({data:data,titleField:t.title,subtitleField:t.subtitle,descriptionField:t.description,imagesField:t.images,actionsField:t.actions}),e.content(html,data.uid)},updatePage:function(e,data,t){var n=this.pages,r=null===e?n[1]:e?n[n.length-1]:n[0];this.setPageContent(r,data),r.setPageCallout("left",t/r.element.width()*100+"%")},moveTo:function(e){this.movable.moveAxis("x",-e)},transitionTo:function(e,t){this.transition.moveTo({location:e,duration:this.duration,ease:t})},destroy:function(){for(var e=0;e<this.pages.length;e++)this.pages[e].destroy();this.unbind(),this.movable=this.transition=this.dataFieldMappings=this.eventTemplate=this.duration=this.pages=null,this.element.remove()}}),k=n.ui.Widget.extend({init:function(element,t){var n=this,o=t.orientation||n.options.orientation;r.fn.init.call(this,element,t),this.element.addClass("vertical"===o?"k-timeline k-widget k-timeline-vertical":"k-timeline k-widget k-timeline-horizontal"),"vertical"!=o?n._horizontal():n._vertical(),this.element.on("click",".k-card-actions",(function(){var t=e(event.target),r=e(event.target).closest(".k-timeline-event").data("uid"),o=n.dataSource.getByUid(r);n.trigger("actionClick",{sender:n,element:t,dataItem:o})})),n.currentEventIndex=0,n._forward=null,n._eventPage=1,n._currentIndex=0,n._firstIndexInView=0,n._initDataFieldMappings(),n.setDataSource(t.dataSource)},_horizontal:function(){var element=this.element,t=this.options,n=e("<div />"),r=e("<div />"),o=e("<ul />");this._trackWrap=n,this._eventsWrap=r,this._eventsList=o,n.addClass("k-timeline-track-wrap"),r.addClass("k-timeline-events-list"),o.addClass("k-timeline-scrollable-wrap"),t.eventHeight&&o.height(t.eventHeight),n.append('<a class="k-button k-timeline-arrow k-timeline-arrow-left k-state-disabled" title="previous"><span class="k-icon k-i-arrow-60-left"></span></a><a class="k-button k-timeline-arrow k-timeline-arrow-right" title="next"><span class="k-icon k-i-arrow-60-right"></span></a>'),r.append(o),n.appendTo(element),r.appendTo(element),e(window).on("resize"+m,c(this,"_resizeHandler")),n.on("click",".k-timeline-track-item:not(.k-timeline-flag-wrap)",c(this,"_setCurrentEvent")),n.on("click",".k-timeline-arrow:not(.k-state-disabled)",c(this,"_navigateToView"))},_vertical:function(){var t=this,r=this.options,element=this.element;r.alternatingMode&&element.addClass("k-timeline-alternating"),r.collapsibleEvents&&(element.addClass("k-timeline-collapsible"),this.element.on("click",".k-card-header",(function(){var r=e(this).closest(".k-timeline-card"),o=r.find(".k-card-body"),l=t.dataSource.getByUid(r.closest("li").data("uid"));r.hasClass("k-collapsed")?t.trigger("expand",{sender:t,dataItem:l})||(n.fx(o).expand("vertical").stop().play(),r.toggleClass("k-collapsed")):t.trigger("collapse",{sender:t,dataItem:l})||(n.fx(o).expand("vertical").stop().reverse(),r.toggleClass("k-collapsed"))})))},_renderContentVertical:function(data){var html,e,t=this.options;e=typeof t.eventTemplate===Function?t.eventTemplate:t.eventTemplate?n.template(t.eventTemplate):n.template('# var titleField = data.titleField, subtitleField = data.subtitleField, descriptionField = data.descriptionField, imagesField = data.imagesField, actionsField = data.actionsField, data = data.data; #<div class="k-card-header"><h5 class="k-card-title"># if(data[titleField]) { #<span class="k-event-title">#= data[titleField] #</span># } #<span class="k-event-collapse k-button k-button-icon k-flat"><span class="k-icon k-i-arrow-chevron-right"></span></span></h5># if(data[subtitleField]) { #<h6 class="k-card-subtitle">#= data[subtitleField] #</h6># } #</div><div class="k-card-body"><div class="k-card-description"># if(data[descriptionField]) { #<p>#= data[descriptionField] #</p># } ## if(data[imagesField] && data[imagesField].length > 0) { #<img src="#= data[imagesField][0].src #" class="k-card-image" /># } #</div></div># if(data[actionsField] && data[actionsField].length > 0) { #<div class="k-card-actions"># for (var i = 0; i < data[actionsField].length; i++) { #<a class="k-button k-flat k-primary" href="#= data[actionsField][i].url ? data[actionsField][i].url : "\\#" #">#= data[actionsField][i].text #</a># } #</div># } #',{useWithBlock:!1}),html=n.template('# var itemTemplate = data.itemTemplate, dateField = data.dateField, titleField = data.titleField, descriptionField = data.descriptionField, subtitleField = data.subtitleField, imagesField = data.imagesField, actionsField = data.actionsField, alterMode = data.alterMode, collapsibleEvents = data.collapsibleEvents, dateFormat = data.dateFormat, showDateLabels = data.showDateLabels, data = data.data, counter = 0, year = 0, reverse = false; #<ul># for (var i = 0; i < data.length; i++) {if(!(data[i][dateField] instanceof Date)) {continue;}var currentYear = data[i][dateField].getFullYear();if(currentYear != year) {year = currentYear; #<li class="k-timeline-flag-wrap"><span class="k-timeline-flag">#= year #</span></li># } reverse = counter % 2 === 0 && alterMode; #<li class="#= reverse ? \'k-timeline-event k-reverse\' : \'k-timeline-event\' #" data-uid="#: data[i].uid #"># if(showDateLabels) { #<div class="k-timeline-date-wrap"><span class="k-timeline-date">#= kendo.toString(data[i][dateField], dateFormat) #</span></div># } #<a class="k-timeline-circle"></a><div class="#= collapsibleEvents ? \'k-timeline-card k-collapsed\' : \'k-timeline-card\' #"><div class="k-card"><span class="#= reverse ? \'k-timeline-card-callout k-card-callout k-callout-e\' : \'k-timeline-card-callout k-card-callout k-callout-w\' #"></span>#= itemTemplate({titleField: titleField, subtitleField: subtitleField, descriptionField: descriptionField, imagesField: imagesField, actionsField: actionsField, data: data[i]}) #</div></div></li># counter ++;} #</ul>',{useWithBlock:!1})({data:data,dateField:t.dataDateField,titleField:t.dataTitleField,subtitleField:t.dataSubtitleField,descriptionField:t.dataDescriptionField,imagesField:t.dataImagesField,actionsField:t.dataActionsField,itemTemplate:e,alterMode:t.alternatingMode,collapsibleEvents:t.collapsibleEvents,dateFormat:t.dateFormat,showDateLabels:t.showDateLabels}),this.element.html(html),t.eventWidth&&this.element.find(".k-card").width(t.eventWidth)},_renderContentHorizontal:function(data){var html,t,r=this.options,o=this._dataFieldMappings;t=typeof r.eventTemplate===Function?r.eventTemplate:r.eventTemplate?n.template(r.eventTemplate):n.template('# var titleField = data.titleField, subtitleField = data.subtitleField, descriptionField = data.descriptionField, imagesField = data.imagesField, actionsField = data.actionsField, data = data.data; #<div class="k-card-header"># if(data[titleField]) { #<h5 class="k-card-title">#= data[titleField] #</h5># }if(data[subtitleField]) { #<h6 class="k-card-subtitle">#= data[subtitleField] #</h6># } #</div><div class="k-card-body"><div class="k-card-description"># if(data[descriptionField]) { #<p>#= data[descriptionField] #</p># }if(data[imagesField] && data[imagesField].length > 0) { #<img src="#= data[imagesField][0].src #" class="k-card-image" /># } #</div></div># if(data[actionsField] && data[actionsField].length > 0) { #<div class="k-card-actions"># for (var i = 0; i < data[actionsField].length; i++) { #<a class="k-button k-flat k-primary" href="#= data[actionsField][i].url ? data[actionsField][i].url : "\\#" #">#= data[actionsField][i].text #</a># } #</div># } #',{useWithBlock:!1}),html=n.template('<div class="k-timeline-track"><ul class="k-timeline-scrollable-wrap"># var itemTemplate = data.itemTemplate, dateField = data.dateField, dateFormat = data.dateFormat, showDateLabels = data.showDateLabels, data = data.data, year = 0; ## for (var i = 0; i < data.length; i++) {if(!(data[i][dateField] instanceof Date)) {continue;}var currentYear = data[i][dateField].getFullYear();if(year != currentYear) {year = currentYear; #<li class="k-timeline-track-item k-timeline-flag-wrap"><span class="k-timeline-flag">#= year #</span></li># } #<li class="k-timeline-track-item"><div class="k-timeline-date-wrap"># if(showDateLabels) { #<span class="k-timeline-date">#= kendo.toString(data[i][dateField], dateFormat) #</span># } #</div><a class="k-timeline-circle"></a></li># } #</ul></div>',{useWithBlock:!1})({data:data,itemTemplate:t,dateFormat:r.dateFormat,dateField:r.dataDateField,showDateLabels:r.showDateLabels}),r.initialEventIndex?this._trackWrap.append(e(html).find(".k-timeline-scrollable-wrap").css("transform","translateX(-100%)").parent()):(this._trackWrap.find(".k-timeline-track").length>0&&this._trackWrap.find(".k-timeline-track").empty(),this._trackWrap.append(html)),this.pane&&this.pane.destroy(),this.pane=new x(this._eventsList,{transitionEnd:c(this,"_transitionEnd"),eventTemplate:t,dataFieldMappings:o,eventHeight:r.eventHeight})},_initDataFieldMappings:function(){var e=this.options;this._dataFieldMappings={title:e.dataTitleField,subtitle:e.dataSubtitleField,date:e.dataDateField,description:e.dataDescriptionField,images:e.dataImagesField,actions:e.dataActionsField}},_transitionEnd:function(){this._forward?this.pane.pages.push(this.pane.pages.shift()):this.pane.pages.unshift(this.pane.pages.pop()),this._forward=null,this.pane.repositionPages(),this.pane.movable.moveAxis("x",0),this._animationInProgress=!1},_setCurrentEvent:function(t){var n,r=e(t.currentTarget),o=this.dataSource.view()[r.index("li[class='k-timeline-track-item']")];n=this._forward?this.pane.pages[2].element:this.pane.pages[0].element,this.trigger("change",{eventContainer:n,dataItem:o})||this.open(r)},open:function(element){var t,n=this,r=e(element),o=r.find(".k-timeline-circle"),c=r.index("li[class='k-timeline-track-item']"),h=n.dataSource.view()[c];n.currentEventIndex!==c&&(n._currentIndex=r.index(),t=n._forward=n.currentEventIndex<c,n.currentEventIndex=c,n.pane.updatePage(t,h,_(o,n._trackWrap)),n._forward?(clearTimeout(n.navigateTimeOut),n.navigateTimeOut=setTimeout((function(){n.pane.transition.moveTo({location:-n.pane.pages[2].element.width(),duration:800,ease:l.easeOutExpo})}),200)):(clearTimeout(n.navigateTimeOut),n.navigateTimeOut=setTimeout((function(){n.pane.transition.moveTo({location:n.pane.pages[0].element.width(),duration:800,ease:l.easeOutExpo})}),200)),n._repositionEvents())},_navigateToView:function(t){var n=e(t.currentTarget).hasClass("k-timeline-arrow-right")?1:-1;this.trigger("navigate",{sender:this,action:n>0?"next":"previous"})||this._animationInProgress||(this._animationInProgress=!0,n>0?this.next():this.previous(),this._updateArrows())},_updateArrows:function(){var e=this.element.find(".k-timeline-arrow");this._validateNavigation(!1)?e.filter(".k-timeline-arrow-left").addClass("k-state-disabled"):e.filter(".k-timeline-arrow-left").removeClass("k-state-disabled"),this._validateNavigation(!0)?e.filter(".k-timeline-arrow-right").addClass("k-state-disabled"):e.filter(".k-timeline-arrow-right").removeClass("k-state-disabled")},_validateNavigation:function(e){var t=this._end||0;return e?this._firstIndexInView+this.numOfEvents>=this.maxEvents:Math.abs(t)<=1},next:function(){var e=this.options;this._validateNavigation(!0)||"vertical"==e.orientation||(this._forward=!0,this._navigate()),this._updateArrows()},_navigate:function(){var t,n,r,o,c=this,w=c._forward,y=v(this._trackWrap.find("."+f)),x=w?-e("."+f).width():e("."+f).width(),k=c._currentIndex,C=c._firstIndexInView;if((y=w?y-100:y+100)>=0&&(y=0),c._end=y,c._tackItemWidth,o=Math.floor(k/c.numOfEvents),w?1===c.numOfEvents?(t=0===C?1:C,n=this._trackWrap.find("."+d).eq(t).nextAll(":not(."+h+")").first(),c._firstIndexInView=n.index()):(t=C+c.numOfEvents-1,n=this._trackWrap.find("."+d).eq(t).nextAll(":not(."+h+")").first(),c._firstIndexInView=C+c.numOfEvents):1===c.numOfEvents?(t=C,n=this._trackWrap.find("."+d).eq(t).prevAll(":not(."+h+")").first(),c._firstIndexInView=n.index()):(t=C,n=(n=this._trackWrap.find("."+d).eq(t).prevAll(":not(."+h+")").first()).length>0?n:this._trackWrap.find("."+d+":not(."+h+")").first(),c._firstIndexInView=C-c.numOfEvents<0?0:C-c.numOfEvents),r=c.dataSource.view()[n.index("li[class='k-timeline-track-item']")],this._trackWrap.find("."+f).css("transform","translateX("+y+"%)"),c._currentIndex!=n.index())c.currentEventIndex=n.index("li[class='k-timeline-track-item']"),c._currentIndex=n.index(),c.pane.updatePage(c._forward,r,0!==o||w?_(n.find(".k-timeline-circle"),c._trackWrap)+x:n.find(".k-timeline-circle").offset().left+15),clearTimeout(c.navigateTimeOut),c.navigateTimeOut=setTimeout((function(){w&&c.pane&&c.pane.pages.length>0?c.pane.transition.moveTo({location:-c.pane.pages[2].element.width(),duration:800,ease:l.easeOutExpo}):c.pane.transition.moveTo({location:c.pane.pages[0].element.width(),duration:800,ease:l.easeOutExpo})}),200);else{var S=this._trackWrap.find("."+f),T=function(){if(1!=c.numOfEvents){var e=c.pane.pages[1],t=_(n.find(".k-timeline-circle"),c._trackWrap);e.setPageCallout("left",t/e.element.width()*100+"%")}S.off("transitionend"+m,T)};S.on("transitionend"+m,T)}},previous:function(){var e=this.options;this._validateNavigation(!1)||"vertical"==e.orientation||(this._forward=!1,this._navigate()),this._updateArrows()},expand:function(t){var r=e(t).find(".k-timeline-card"),o=e(t).find(".k-card-body");r.hasClass("k-collapsed")&&(n.fx(o).expand("vertical").stop().play(),r.removeClass("k-collapsed"))},collapse:function(t){var r=e(t).find(".k-timeline-card"),o=e(t).find(".k-card-body");r.hasClass("k-collapsed")||(n.fx(o).expand("vertical").stop().reverse(),r.addClass("k-collapsed"))},items:function(){return this.element.find("li[data-uid]")},_resizeHandler:function(){var e=this;clearTimeout(e.resizeTimeOut),e.resizeTimeOut=setTimeout((function(){e._redrawEvents(),e.pane.repositionPages()}))},redraw:function(){"vertical"!=this.options.orientation&&(this._redrawEvents(),this.pane.repositionPages())},_redrawEvents:function(){var e,t=Math.floor(this.element.find(".k-timeline-scrollable-wrap").width()/150);this.element.width()<=480?(this.element.addClass("k-timeline-mobile"),e=100,this.numOfEvents=1,this._tackItemWidth=e,this.element.find("li.k-timeline-track-item").css("flex","1 0 "+e+"%"),this._repositionEvents()):(this.element.removeClass("k-timeline-mobile"),t!=this.numOfEvents&&(this.numOfEvents=t,e=100/t,w(this.element.find("li.k-timeline-track-item"),"flex","1 0 "+e+"%"),this._tackItemWidth=e,this._repositionEvents())),this._updateArrows()},_repositionEvents:function(){var e,t,n,r=this,o=r._tackItemWidth,l=null===r._forward?r.pane.pages[1]:r._forward?r.pane.pages[2]:r.pane.pages[0],c=this._trackWrap.find("."+f),h=v(c);if(t=1===r.numOfEvents?r.currentEventIndex*o:r._currentIndex*o,l){if(1===r.numOfEvents)return l.setPageCallout("left","50%"),w(c,"transform","translateX(-"+(n=t)+"%)"),r._firstIndexInView=r._currentIndex,void r._updateArrows();t>=Math.abs(h)+100?(n=Math.abs(h)+(t-(Math.abs(h)+100)+o),r._end=-n,w(c,"transform","translateX(-"+n+"%)"),r._firstIndexInView=r._currentIndex-r.numOfEvents+1):t<=Math.abs(h)?(n=t,r._end=-n,w(c,"transform","translateX(-"+n+"%)"),r._firstIndexInView=r._currentIndex):(e=_(c.find("li.k-timeline-track-item").eq(r._currentIndex).find(".k-timeline-circle"),r._trackWrap),l.setPageCallout("left",e/l.element.width()*100+"%"),r._firstIndexInView=Math.round(Math.abs(h)/o));var y=this._trackWrap.find("."+f),x=function(){if(1!=r.numOfEvents){var e=r.pane.pages[1],t=_(r._trackWrap.find("."+d).eq(r._currentIndex).find(".k-timeline-circle"),r._trackWrap);e.setPageCallout("left",t/e.element.width()*100+"%")}y.off("transitionend"+m,x)};y.on("transitionend"+m,x)}r._updateArrows()},_initHorizontal:function(){var e=this._trackWrap.find(".k-timeline-circle").first(),t=this.dataSource.view()[0];this.maxEvents=this._trackWrap.find(".k-timeline-track-item").length,this._currentIndex=1,this.pane.initPages(),this.pane.repositionPages(),this.pane.updatePage(this._forward,t,_(e,this._trackWrap)),this._updateArrows()},setDataSource:function(e){var t=this,n=t.options;e instanceof o?(this.dataSource=e=new o(e.options),void 0===this.dataSource._sort&&(this.dataSource._sort=[{field:n.dataDateField,dir:"asc"}])):(this.dataSource=o.create(e),void 0===this.dataSource._sort&&(this.dataSource._sort=[{field:n.dataDateField,dir:"asc"}])),this.dataSource.fetch((function(){var data=t.dataSource.view();"horizontal"===t.options.orientation?(t._renderContentHorizontal(data),t._redrawEvents(),t._initHorizontal()):t._renderContentVertical(data),t.trigger("dataBound",{sender:t})}))},destroy:function(){var t=this.options;r.fn.destroy.call(this),this.resizeTimeOut&&clearTimeout(this.resizeTimeOut),this.navigateTimeOut&&clearTimeout(this.navigateTimeOut),e(window).off("resize"+m,this._resizeHandler),this.element.off(),"vertical"!=t.orientation&&(this.pane.destroy(),this._trackWrap.find("."+f).off(),this._trackWrap.off(),this.currentEventIndex=this.maxEvents=this.numOfEvents=this._currentIndex=this._eventPage=this._eventsList=this._eventsWrap=this.element=this._trackWrap=this.pane=null),n.destroy(this.element),this._dataFieldMappings=this.element=null},options:{name:"Timeline",orientation:"vertical",dateFormat:"MMM d, yyyy",showDateLabels:!0,collapsibleEvents:!1,alternatingMode:!1,dataTitleField:"title",dataDateField:"date",dataSubtitleField:"subtitle",dataDescriptionField:"description",dataImagesField:"images",dataActionsField:"actions"},events:["collapse","dataBound","expand","actionClick","change","navigate"]});n.ui.plugin(k)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1363)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1004:function(e,t){e.exports=n(25)},1016:function(e,t){e.exports=n(3)},1031:function(e,t){e.exports=n(40)},1044:function(e,t){e.exports=n(131)},1143:function(e,t){e.exports=n(41)},1144:function(e,t){e.exports=n(21)},1199:function(e,t){e.exports=n(95)},1201:function(e,t){e.exports=n(42)},1207:function(e,t){e.exports=n(132)},1363:function(e,t,n){var r,o,l;n(3),o=[n(1004),n(1016),n(1199),n(1201),n(1144),n(1044),n(1031),n(1143),n(1364),n(1207)],void 0===(l="function"==typeof(r=function(){return function(e,t){var data=kendo.data,n=kendo.dom,r=n.element,o=n.text,l=n.html,c=kendo._outerWidth,h=kendo.keys,d=kendo._outerHeight,f=kendo.ui,m=f.DataBoundWidget,v=data.DataSource,_=data.ObservableArray,w=data.Query,y=data.Model,x=kendo.support.browser,k=kendo.template,C=kendo._activeElement,S=e.isArray,T=e.extend,D=e.proxy,map=e.map,E=e.grep,A=e.inArray,I=e.isPlainObject,M=Array.prototype.push,R=".kendoTreeList",F="td:not(.k-group-cell):not(.k-hierarchy-cell):visible",P="tr:visible",z="td:visible",B="tr:not(.k-footer-template):visible",L=P+" > td:first:visible",H=!1,N={wrapper:"k-treelist k-grid k-widget k-display-block",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",editRow:"k-grid-edit-row",dirtyCell:"k-dirty-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",focused:"k-state-focused",loading:"k-i-loading",refresh:"k-i-reload",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-i-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-i-insert-up k-i-insert-down k-i-plus k-i-insert-middle",dropTop:"k-i-insert-up",dropBottom:"k-i-insert-down",dropAdd:"k-i-plus",dropMiddle:"k-i-insert-middle",dropDenied:"k-i-cancel",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"},O={create:{imageClass:"k-i-plus",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-i-plus",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-i-close",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-i-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-i-check",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-i-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},cancel:{imageClass:"k-icon k-i-cancel",text:"Cancel changes",className:"k-grid-cancel-changes",methodName:"cancelChanges"},save:{imageClass:"k-icon k-i-check",text:"Save changes",className:"k-grid-save-changes",methodName:"saveChanges"},excel:{imageClass:"k-i-file-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-file-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}},V=kendo.Class.extend({init:function(data,e){this.data=data||[],this.options=T(this.options,e)},options:{defaultParentId:null,idField:"id",parentIdField:"parentId"},childrenMap:function(){var e,t,n,r={},o=this.data.length,l=this.options.idField,c=this.options.parentIdField;if(this._childrenMap)return this._childrenMap;for(var i=0;i<o;i++)t=(e=this.data[i])[l],n=e[c],r[t]=r[t]||[],r[n]=r[n]||[],r[n].push(e);return this._childrenMap=r,r},idsMap:function(){var e,t={},data=this.data,n=data.length,r=this.options.idField;if(this._idMap)return this._idMap;for(var i=0;i<n;i++)t[(e=data[i])[r]]=e;return this.idsMap=t,t},dataMaps:function(){var e,t,n,r={},data=this.data,o=data.length,l={},c=this.options.idField,h=this.options.parentIdField;if(this._dataMaps)return this._dataMaps;for(var i=0;i<o;i++)t=(e=data[i])[c],n=e[h],l[t]=e,r[t]=r[t]||[],r[n]=r[n]||[],r[n].push(e);return this._dataMaps={children:r,ids:l},this._dataMaps},rootNodes:function(){for(var e,data=this.data,t=this.options.defaultParentId,n=data.length,r=[],o=this.options.parentIdField,i=0;i<n;i++)(e=data[i])[o]===t&&r.push(e);return r},removeCollapsedSubtreesFromRootNodes:function(e){e=e||{};var t,n=this.rootNodes(),r=[];this._childrenMap=e.childrenMap=e.childrenMap||this.childrenMap(),e.maxDepth=e.maxDepth||1/0;for(var i=0;i<n.length;i++)t=this.removeCollapsedSubtrees(n[i],e),r=r.concat(t);return r},removeCollapsedSubtrees:function(e,t){var n,r,o=[],l=(t=t||{}).childrenMap||{},c=t.maxDepth||1/0,h=l[e[this.options.idField]]||[],d=ke(e.expanded)?t.expanded:e.expanded;if(o.push(e),h&&d)for(n=0;n<h.length&&!(o.length>=c);n++)r=this.removeCollapsedSubtrees(h[n],t),o=o.concat(r);return o}}),W=function(data){this.data=data||[]};(W.prototype=new w).constructor=W,W.process=function(data,e,n){e=e||{};var r,o,l,view,c,h=new W(data),d=e.group,f=w.normalizeGroup(d||[]).concat(w.normalizeSort(e.sort||[])),m=e.filterCallback,filter=e.filter,v=e.skip,_=e.take;return f&&n&&(h=h.sort(f,t,t,n)),filter&&(h=h.filter(filter),m&&(h=m(h)),r=h.toArray().length),f&&!n&&(h=h.sort(f),d&&(data=h.toArray())),e.processFromRootNodes&&(view=new V(h.toArray(),e),filter&&(l=view.childrenMap()),c=view.removeCollapsedSubtreesFromRootNodes({childrenMap:filter||f&&f.length?t:e.childrenMap,expanded:e.expanded,maxDepth:v+_||1/0}),o=view.childrenMap(),h=new W(c)),v!==t&&_!==t&&(h=h.range(v,_)),d&&(h=h.group(d,data)),{total:r,data:h.toArray(),childrenMap:o,filteredChildrenMap:l}};var U=y.define({id:"id",parentId:"parentId",fields:{id:{type:"number"},parentId:{type:"number",nullable:!0}},init:function(e){y.fn.init.call(this,e),this._loaded=!1,this.parentIdField||(this.parentIdField="parentId"),this.parentId=this.get(this.parentIdField)},accept:function(data){y.fn.accept.call(this,data),this.parentId=this.get(this.parentIdField)},set:function(e,t,n){"parentId"==e&&"parentId"!=this.parentIdField&&(this[this.parentIdField]=t),y.fn.set.call(this,e,t,n),e==this.parentIdField&&(this.parentId=this.get(this.parentIdField))},loaded:function(e){if(e===t)return this._loaded;this._loaded=e},shouldSerialize:function(e){return y.fn.shouldSerialize.call(this,e)&&"_loaded"!==e&&"_error"!=e&&"_edit"!=e&&!("parentId"!==this.parentIdField&&"parentId"===e)}});function j(e){return function(object){return object[e]}}function G(e){return function(object){return!e(object)}}U.parentIdField="parentId",U.define=function(base,e){e===t&&(e=base,base=U);var n=e.parentId||"parentId";e.parentIdField=n;var r=y.define(base,e);return n&&(r.parentIdField=n),r};var $=v.extend({init:function(e){e=e||{},this._dataMaps=this._getDataMaps(),e.schema=T(!0,{},{modelBase:U,model:U},e.schema),v.fn.init.call(this,e)},_addRange:function(){},_createNewModel:function(data){var e={},t=data instanceof y,n=this._modelParentIdField();return t&&(e=data),e=v.fn._createNewModel.call(this,e),t||(data.parentId?data[e.parentIdField]=data.parentId:this._isPageable()&&data[n]&&(data[e.parentIdField]=data[n]),e.accept(data)),e},_shouldWrap:function(){return!0},_push:function(e,t){var data=v.fn._readData.call(this,e);data||(data=e),this[t](data)},_getData:function(){return this._data||[]},_readData:function(e){var data=this._isPageable()?this._getData().toJSON():this.data();return e=v.fn._readData.call(this,e),this._replaceData((data.toJSON?data.toJSON():data).concat(e),data),e instanceof _?e:data},_replaceData:function(source,e){for(var t=source.length,i=0;i<t;i++)e[i]=source[i];e.length=t},_readAggregates:function(data){var e=T(this._aggregateResult,this.reader.aggregates(data));return""in e&&(e[this._defaultParentId()]=e[""],delete e[""]),e},read:function(data){return this._isPageable()&&(this._dataMaps={},this._modelOptions().expanded||(this._skip=0,this._page=1,this._collapsedTotal=t)),v.fn.read.call(this,data)},remove:function(e){this._removeChildData(e),this._removeFromDataMaps(e),v.fn.remove.call(this,e)},_removeChildData:function(e,t){var n=this._isPageable(),data=n?this._getData():this.data(),r=n?this._getChildrenMap()||this.childrenMap(data):this._childrenMap(data),o=this._subtree(r,e.id),l=!ke(t)&&t,c=this._removeItems(o,l);this._removeFromDataMaps(c)},pushDestroy:function(e){S(e)||(e=[e]);for(var i=0;i<e.length;i++)this._removeChildData(e[i],!0),this._removeFromDataMaps(e[i]);v.fn.pushDestroy.call(this,e)},insert:function(e,t){var n=this._createNewModel(t);return this._insertInDataMaps(n),v.fn.insert.call(this,e,n)},_filterCallback:function(e){var i,t,n,map={},r=[],data=e.toArray(),o=this._modelIdField(),l=this._modelParentIdField(),c=this._isPageable(),h=[];for(i=0;i<data.length;i++)if(t=data[i],c){for(h=[],map[t[o]]||(map[t[o]]=!0,h.push(t)),n=this._parentNode(t);n&&!map[n[o]];)map[n[o]]=!0,h.unshift(n),n=this._parentNode(n);h.length&&(r=r.concat(h))}else for(;t&&(map[t[o]]||(map[t[o]]=!0,r.push(t)),!map[t[l]]);)map[t[l]]=!0,(t=this.parentNode(t))&&r.push(t);return new w(r)},_subtree:function(map,e){for(var t=map[e]||[],n=this._defaultParentId(),r=this._modelIdField(),i=0,o=t.length;i<o;i++)t[i][r]!==n&&(t=t.concat(this._subtree(map,t[i][r])));return t},_childrenMap:function(data){var i,e,t,n,map={};for(data=this._observeView(data),i=0;i<data.length;i++)t=(e=data[i]).id,n=e.parentId,map[t]=map[t]||[],map[n]=map[n]||[],map[n].push(e);return map},childrenMap:function(data){return this._createTreeView(data).childrenMap()},_getChildrenMap:function(){return this._getDataMaps().children},_initIdsMap:function(data){var e=this._getDataMaps();return ke(e.ids)&&(e.ids=this._idsMap(data)),e.ids},_idsMap:function(data){return this._createTreeView(data).idsMap()},_getIdsMap:function(){return this._getDataMaps().ids||{}},_getFilteredChildrenMap:function(){return this._getDataMaps().filteredChildren},_setFilteredChildrenMap:function(map){this._getDataMaps().filteredChildren=map},_initDataMaps:function(data){var view=this._createTreeView(data);return this._dataMaps=view.dataMaps(),this._dataMaps},_initChildrenMapForParent:function(e){var data=this._getData(),t=this._getChildrenMap(),n=this._modelIdField(),r=this._modelParentIdField(),o=(e||{})[n];if(t&&e){t[o]=[];for(var i=0;i<data.length;i++)data[i][r]===o&&t[o].push(data[i])}},_getDataMaps:function(){return this._dataMaps=this._dataMaps||{},this._dataMaps},_createTreeView:function(data,e){return new V(data,T(e,this._defaultTreeModelOptions()))},_defaultTreeModelOptions:function(){var e=this._modelOptions();return{defaultParentId:this._defaultParentId(),idField:this._modelIdField(),parentIdField:this._modelParentIdField(),expanded:e.expanded}},_defaultDataItemType:function(){return this.reader.model||kendo.data.ObservableObject},_calculateAggregates:function(data,e){var t,n,i,r,o={},filter=(e=e||{}).filter,l=e.skip,c=e.take,h=ke(l)||ke(c)?1/0:l+c,d=this._isPageable(),f=e.filteredChildrenMap,m=e.childrenMap;if(d){if(ke(e.aggregate))return o;r=f||m||this.childrenMap(this._getData())}!d&&filter&&(data=w.process(data,{filter:filter,filterCallback:D(this._filterCallback,this)}).data);var map=d?r:this._childrenMap(data);for(o[this._defaultParentId()]=new w(this._subtree(map,this._defaultParentId())).aggregate(e.aggregate),i=0;i<data.length&&!(i>=h);i++)t=data[i],n=this._subtree(map,t.id),o[t.id]=new w(n).aggregate(e.aggregate);return o},_queryProcess:function(data,e){var t={};if((e=e||{}).filterCallback=D(this._filterCallback,this),this._isPageable())return this._processPageableQuery(data,e);var n=this._defaultParentId();t=w.process(data,e);var r,i,o,l,map=this._childrenMap(t.data);for(data=map[n]||[],i=0;i<data.length;i++)(o=data[i]).id!==n&&(r=!(!(l=map[o.id])||!l.length),o.loaded()||o.loaded(r||!o.hasChildren),(o.loaded()||!0!==o.hasChildren)&&(o.hasChildren=r),r&&(data=data.slice(0,i+1).concat(l,data.slice(i+1))));return t.data=data,t},_processPageableQuery:function(data,e){var t,n,r=this._getDataMaps();return this._getData()===data&&r.children&&r.ids||(r=this._initDataMaps(this._getData())),e.childrenMap=r.children||{},e.idsMap=r.ids||{},t=this._processTreeQuery(data,e),this._replaceWithObservedData(t.data,data),this._processDataItemsState(t.data,t.childrenMap),this._replaceItemsInDataMaps(t.data),t.dataToAggregate=this._dataToAggregate(t.data,e),e.filter&&(n=t.filteredChildrenMap,this._replaceInMapWithObservedData(n,data),this._setFilteredChildrenMap(n),e.filteredChildrenMap=n),t},_dataToAggregate:function(data){var e=data[0]||{};return this._parentNodes(e).concat(data)},_replaceItemsInDataMaps:function(e){for(var n,r,o,view=S(e)?e:[e],l=this._defaultDataItemType(),c=this._defaultParentId(),h=this._modelIdField(),d=this._modelParentIdField(),f=this._getDataMaps(),m=0;m<view.length;m++)(n=view[m])instanceof l&&(this._insertInIdsMap(n),o=(r=this._parentNodes(n))&&r.length?r[r.length-1]:t,n[d]===c?this._replaceInMap(f.children,c,n,l):o&&this._replaceInMap(f.children,o[h],n,l))},_replaceInMap:function(map,e,t,n){var r=this._modelIdField();map[e]=map[e]||[],n=n||this._defaultDataItemType();var o=map[e].filter((function(element){return t[r]===element[r]}))[0],l=o?map[e].indexOf(o):-1;-1===l||o instanceof n||(map[e][l]=t)},_replaceWithObservedData:function(e,t){for(var n,r,o,l,c,h=this._getDataMaps().ids||{},d=this._modelIdField(),f=this._defaultDataItemType(),i=0;i<e.length;i++)r=(n=e[i])[d],n instanceof f||(h[r]instanceof f?e[i]=h[r]:(o=this._getById(r),l=t.indexOf(o),o&&-1!==l&&(c=t.at(l),e[i]=c)))},_replaceInMapWithObservedData:function(map,e){for(var t in map)this._replaceWithObservedData(map[t],e)},_insertInDataMaps:function(e){this._isPageable()&&(this._insertInIdsMap(e),this._insertInChildrenMap(e))},_insertInIdsMap:function(e){var t=this._getIdsMap(),n=this._modelIdField();ke(e[n])||(t[e[n]]=e)},_insertInChildrenMap:function(e,t){var n=this._getChildrenMap()||{},r=this._modelIdField(),o=this._modelParentIdField(),l=e[r],c=e[o];t=t||0,n[l]=n[l]||[],n[c]=n[c]||[],n[c].splice(t,0,e)},_removeFromDataMaps:function(e){if(e=S(e)?e:[e],this._isPageable())for(var i=0;i<e.length;i++)this._removeFromIdsMap(e[i]),this._removeFromChildrenMap(e[i])},_removeFromIdsMap:function(e){var n=this._getIdsMap(),r=this._modelIdField();ke(e[r])||(n[e[r]]=t)},_removeFromChildrenMap:function(e){var t=this._getChildrenMap()||{},n=e[this._modelParentIdField()];t[n]=t[n]||[];var r=this._indexInChildrenMap(e);-1!==r&&t[n].splice(r,1)},_indexInChildrenMap:function(e){return this._itemIndexInMap(e,this._getChildrenMap())},_itemIndexInMap:function(e,t){var map=t||{},n=this._modelParentIdField(),r=e[n];map[r]=map[r]||[];var o=map[r].filter((function(element){return e.uid===element.uid}))[0];return o?map[r].indexOf(o):-1},_getById:function(e){for(var t=this._modelIdField(),data=this._getData(),i=0;i<data.length;i++)if(data[i][t]===e)return data[i]},_isLastItemInView:function(e){var view=this.view();return view.length&&view[view.length-1]===e},_defaultPageableQueryOptions:function(){var e=this._getDataMaps();return{skip:this.skip(),take:this.take(),page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),aggregate:this.aggregate(),filterCallback:D(this._filterCallback,this),childrenMap:e.children,idsMap:e.ids}},_isPageable:function(){var e=this.pageSize();return!ke(e)&&e>0&&!this.options.serverPaging},_updateTotalForAction:function(e,t){v.fn._updateTotalForAction.call(this,e,t),this._isPageable()&&this._updateCollapsedTotalForAction(e,t)},_updateCollapsedTotalForAction:function(e,t){var n,r=parseInt(this._collapsedTotal,10);"number"!=typeof(n=this._collapsedTotal)||isNaN(n)?this._calculateCollapsedTotal():("add"===e?r+=t.length:"remove"===e?r-=t.length:"itemchange"===e||"sync"===e||this.options.serverPaging?"sync"===e&&(r=this._calculateCollapsedTotal()):r=this._calculateCollapsedTotal(),this._collapsedTotal=r)},_setFilterTotal:function(e,t){v.fn._setFilterTotal.call(this,e,t),this._setFilterCollapsedTotal(e)},_setFilterCollapsedTotal:function(e){this.options.serverFiltering||(e!==t?this._collapsedTotal=e:(this._getFilteredChildrenMap()&&this._calculateCollapsedTotal(),this._setFilteredChildrenMap(t)))},collapsedTotal:function(){return ke(this._collapsedTotal)?this._calculateCollapsedTotal():this._collapsedTotal},_calculateCollapsedTotal:function(){var data=this._dataWithoutCollapsedSubtrees();return data.length&&(this._collapsedTotal=data.length),this._collapsedTotal},_dataWithoutCollapsedSubtrees:function(){return this._removeCollapsedSubtrees(this._getData())},_removeCollapsedSubtrees:function(data){return this._createTreeView(data).removeCollapsedSubtreesFromRootNodes({expanded:this._modelOptions().expanded,childrenMap:this._getChildrenMap()})},_processTreeQuery:function(data,e){return W.process(data,T(e,this._defaultTreeModelOptions(),{processFromRootNodes:!0}))},_processDataItemsState:function(data,e){var i,t=data.length;for(i=0;i<t;i++)this._processDataItemState(data[i],e)},_processDataItemState:function(e,t){var n=this._defaultParentId();if(e.id!==n){var r=t[e.id]||[],o=!(!r||!r.length);e.loaded&&(e.loaded()||e.loaded(o||!e.hasChildren),(e.loaded()||!0!==e.hasChildren)&&(e.hasChildren=o))}},_queueRequest:function(e,t){t.call(this)},_modelLoaded:function(e){var t=this.get(e);t.loaded(!0),t.hasChildren=this.childNodes(t).length>0},_modelError:function(e,t){this.get(e)._error=t},success:function(data,e){e&&void 0!==e.id||(this._data=this._observe([])),v.fn.success.call(this,data,e),this._total=this._data.length},load:function(t){var n="_query",r=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates,o=e.Deferred().resolve().promise();if(t.loaded()){if(r)return o}else t.hasChildren&&(n="read",this._removeChildData(t));return this[n]({id:t.id}).done(D(this._modelLoaded,this,t.id)).fail(D(this._modelError,this,t.id))},contains:function(e,t){for(var n=this._modelIdField(),r=this._modelParentIdField(),o=e[n],l=this._isPageable();t;){if(t[r]===o)return!0;t=l?this._parentNode(t):this.parentNode(t)}return!1},_byParentId:function(e,t){var n,r=[],view=this.view();if(e===t)return[];for(var i=0;i<view.length;i++)(n=view.at(i)).parentId==e&&r.push(n);return r},_defaultParentId:function(){return this.reader.model.fn.defaults[this.reader.model.parentIdField]},_modelOptions:function(){return(this.options.schema||{}).model||{}},_modelIdField:function(){return this._modelOptions().id||"id"},_modelParentIdField:function(){return this._modelOptions().parentId||"parentId"},childNodes:function(e){return this._byParentId(e.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},_rootNode:function(e){return this._parentNodes(e)[0]},_pageableRootNodes:function(e){e=e||{};for(var t,n,r=this._defaultParentId(),o=this._modelParentIdField(),l=[],c=this._nodesWithoutParentInView(e),i=0;i<c.length;i++)(t=c[i])[o]===r?l.push(t):(n=this._rootNode(t))&&-1===l.indexOf(n)&&l.push(n);return l},parentNode:function(e){return this.get(e.parentId)},_parentNode:function(e){var t=this._modelParentIdField(),n=this._initIdsMap(this._getData()),r=e[t];return n[r]||this._getById(r)},_parentNodes:function(e){for(var t=this._parentNode(e),n=[];t;)n.unshift(t),t=this._parentNode(t);return n},_parentNodesNotInView:function(){for(var e,t,n,view=this.view(),r=[],o=this._defaultParentId(),l=this._modelIdField(),c=this._modelParentIdField(),h=[],i=0;i<view.length;i++)(t=view[i])[l],n=t[c],this._parentInView(n)||n===o||(e=(h=this._parentNodes(t))&&h.length?h[h.length-1]:this._getById(n))&&-1===r.indexOf(e)&&r.push(e);return r},_nodesWithoutParentInView:function(e){e=e||{};for(var t,view=this.view(),n=e.childrenMap||this.childrenMap(this._getData()),r=this._modelIdField(),o=this._modelParentIdField(),l=[],i=0;i<view.length;i++)n[(t=view[i])[r]],this._parentInView(t[o])||l.push(t);return l},_parentInView:function(e){for(var view=this.view(),i=0;i<view.length;i++)if(view[i].id===e)return view[i]},level:function(e){var t=-1;e instanceof U||(e=this.get(e));do{e=this.parentNode(e),t++}while(e);return t},_pageableModelLevel:function(e){return e&&this._isPageable()?this._parentNodes(e).length:0},filter:function(e){var n=v.fn.filter;if(e===t)return n.call(this,e);n.call(this,e)},_pageableQueryOptions:function(e){var t=this._getDataMaps();return e.childrenMap=t.children,e.idsMap=t.ids,e},_flatData:function(data,e){return e=!!this._isPageable()||e,v.fn._flatData.call(this,data,e)},data:function(data){var e=v.fn.data.call(this,data);return this._isPageable()&&(this._initDataMaps(this._getData()),this._calculateCollapsedTotal()),e},cancelChanges:function(e){v.fn.cancelChanges.call(this,e),this._restorePageSizeAfterAddChild()},_modelCanceled:function(e){this._isPageable()&&this._removeFromDataMaps(e)},_changesCanceled:function(){this._isPageable()&&this._initDataMaps(this._getData())},_setAddChildPageSize:function(){var e={};this._isPageable()&&(this._addChildPageSize=this.pageSize()+1,(e=this._defaultPageableQueryOptions()).take=this._addChildPageSize,e.pageSize=this._addChildPageSize,this._query(e))},_restorePageSizeAfterAddChild:function(){var e={};this._isPageable()&&(ke(this._addChildPageSize)||((e=this._defaultPageableQueryOptions()).take=this._addChildPageSize-1,e.pageSize=this._addChildPageSize-1,this._query(e))),this._addChildPageSize=t},sync:function(){var e=this;return v.fn.sync.call(e).then((function(){e._restorePageSizeAfterAddChild()}))},_syncEnd:function(){this._isPageable()&&this._initDataMaps(this._getData())}});function Y(){return"none"!==this.style.display}function K(n){var r=kendo.attr("index");return n.sort((function(a,b){a=e(a),b=e(b);var n=a.attr(r),o=b.attr(r);return n===t&&(n=e(a).index()),o===t&&(o=e(b).index()),(n=parseInt(n,10))>(o=parseInt(o,10))?1:n<o?-1:0}))}function Q(t){var n=t.find(">tr:not(.k-filter-row)"),filter=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},r=e();return n.length>1&&(r=n.find("th").filter(filter).filter((function(){return this.rowSpan>1}))),K(r=r.add(n.last().find("th").filter(filter)))}function X(e){for(var t=[],n=e.className,i=0,o=e.level;i<o;i++)t.push(r("span",{className:n}));return t}function J(e){for(var t,n=0,r=0,o=e.length;r<o;r++)(t=e[r].style.width)&&-1==t.indexOf("%")&&(n+=parseInt(t,10));return n}$.create=function(t){return e.isArray(t)?t={data:t}:t instanceof _&&(t={data:t.toJSON()}),t instanceof $?t:new $(t)};var Z=f.Pager.extend({options:{name:"TreeListPager"},totalPages:function(){var e=this.dataSource;return e&&e._filter?f.Pager.fn.totalPages.call(this):Math.ceil((this._collapsedTotal()||0)/(this.pageSize()||1))},_createDataSource:function(e){this.dataSource=kendo.data.TreeListDataSource.create(e.dataSource)},_collapsedTotal:function(){var e=this.dataSource;return e&&e.collapsedTotal()||0}}),ee=kendo.Observable.extend({init:function(element,e){kendo.Observable.fn.init.call(this),e=this.options=T(!0,{},this.options,e),this.element=element,this.bind(this.events,e),this.model=this.options.model,this.fields=this._fields(this.options.columns),this._initContainer(),this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var e=this.options;this.editable=new f.Editable(this.wrapper,{fields:this.fields,target:e.target,clearContainer:e.clearContainer,model:this.model,change:e.change})},_isEditable:function(e){return xe(e,this.model)},_fields:function(e){var t,n,r,o=[];for(t=0,n=e.length;t<n;t++)r=e[t],this._isEditable(r)&&o.push({field:r.field,format:r.format,editor:r.editor});return o},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role")),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),te=ee.extend({init:function(element,e){ee.fn.init.call(this,element,e),this._attachHandlers(),kendo.cycleForm(this.wrapper),this.open()},events:["cancel","save"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var t=this.options,r=[];this.wrapper=e('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>'),t.template?(this._appendTemplate(r),this.fields=[]):this._appendFields(r),this._appendButtons(r),new n.Tree(this.wrapper.children()[0]).render(r),this.wrapper.appendTo(t.appendTo),this.window=new f.Window(this.wrapper,t.window)},_appendTemplate:function(form){var template=this.options.template;"string"==typeof template&&(template=kendo.unescape(template)),template=kendo.template(template)(this.model),form.push(l(template))},_appendFields:function(form){var e,t,n,o=this.options.columns;for(e=0,t=o.length;e<t;e++)(n=o[e]).command||(form.push(l('<div class="k-edit-label"><label for="'+n.field+'">'+(n.title||n.field||"")+"</label></div>")),this._isEditable(n)?form.push(l("<div "+kendo.attr("container-for")+'="'+n.field+'" class="k-edit-field"></div>')):form.push(r("div",{class:"k-edit-field"},[this.options.fieldRenderer(n,this.model)])))},_appendButtons:function(form){form.push(r("div",{class:"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var e=this._cancelProxy=D(this._cancel,this);this.wrapper.on("click"+R,".k-grid-cancel",this._cancelProxy),this._saveProxy=D(this._save,this),this.wrapper.on("click"+R,".k-grid-update",this._saveProxy),this.window.bind("close",(function(t){t.userTriggered&&e(t)}))},_detachHandlers:function(){this._cancelProxy=null,this._saveProxy=null,this.wrapper.off(R)},_cancel:function(e){this.trigger("cancel",e)},_save:function(){this.trigger("save")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",D(this.destroy,this)).close()},destroy:function(){this.window.destroy(),this.window=null,this._detachHandlers(),ee.fn.destroy.call(this)}}),ie=ee.extend({destroy:function(){this.editable.destroy(),this.editable.element.off().empty().removeAttr(kendo.attr("role")),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),ne=m.extend({init:function(element,t){if(m.fn.init.call(this,element,t),H=kendo.support.isRtl(element),this._dataSource(this.options.dataSource),this._aria(),this._columns(),this._layout(),this._navigatable(),this._selectable(),this._sortable(),this._resizable(),this._filterable(),this._attachEvents(),this._toolbar(),this._scrollable(),this._reorderable(),this._columnMenu(),this._minScreenSupport(),this._draggable(),this._pageable(),this.options.autoBind&&this.dataSource.fetch(),this._hasLockedColumns){var n=this;this.wrapper.addClass("k-grid-lockedcolumns"),this._resizeHandler=function(){n.resize()},e(window).on("resize"+R,this._resizeHandler)}kendo.notify(this)},_draggable:function(){var t=this.options.editable,n=this.dataSource,r=n._modelIdField(),o=n._modelParentIdField(),l=this._isPageable();t&&t.move&&(this._dragging=new kendo.ui.HierarchicalDragAndDrop(this.wrapper,{$angular:this.$angular,autoScroll:!0,filter:"tbody>tr",itemSelector:"tr",allowedContainers:this.wrapper,hintText:function(t){return t.children("td").map((function(){return e(this).text()})).toArray().join("<span class='k-header k-drag-separator' />")},contains:D((function(source,e){var t=this.dataItem(e),n=this.dataItem(source);return n==t||this.dataSource.contains(n,t)}),this),itemFromTarget:function(e){var tr=e.closest("tr");return{item:tr,content:tr}},dragstart:D((function(source){this.wrapper.addClass("k-treelist-dragging");var e=this.dataItem(source);return this.trigger("dragstart",{source:e})}),this),drag:D((function(e){e.source=this.dataItem(e.source),this.trigger("drag",e)}),this),drop:D((function(e){return e.source=this.dataItem(e.source),e.destination=this.dataItem(e.destination),this.wrapper.removeClass("k-treelist-dragging"),this.trigger("drop",e)}),this),dragend:D((function(e){var t=this.dataItem(e.destination),c=this.dataItem(e.source),h=c[o],d=n._indexInChildrenMap(c);l&&(n._removeFromChildrenMap(c),c[o]=t?t[r]:null,n._initChildrenMapForParent(t),c[o]=h);var f=c.set("parentId",t?t.id:null);l&&f&&(n._removeFromChildrenMap(c),c[o]=h,n._removeFromChildrenMap(c),n._insertInChildrenMap(c,d)),e.source=c,e.destination=t,this.trigger("dragend",e)}),this),reorderable:!1,dropHintContainer:function(e){return e.children("td:eq(1)")},dropPositionFrom:function(e){return e.prevAll(".k-i-none").length>0?"after":"before"}}))},itemFor:function(e){return"number"==typeof e&&(e=this.dataSource.get(e)),this.tbody.find("["+kendo.attr("uid")+"="+e.uid+"]")},_itemFor:function(e){var table=this.lockedContent?this.lockedTable:this.table;return"number"==typeof e&&(e=this.dataSource.get(e)),table.find("["+kendo.attr("uid")+"="+e.uid+"]")},_scrollable:function(){if(this.options.scrollable){var t=this.thead.closest(".k-grid-header-wrap"),n=e(this.lockedContent).bind("DOMMouseScroll"+R+" mousewheel"+R,D(this._wheelScroll,this));this.content.bind("scroll"+R,(function(){t.scrollLeft(this.scrollLeft),n.scrollTop(this.scrollTop)}));var r=kendo.touchScroller(this.content);r&&r.movable&&(this._touchScroller=r,r.movable.bind("change",(function(e){t.scrollLeft(-e.sender.x),n&&n.scrollTop(-e.sender.y)})))}},_wheelScroll:function(t){if(!t.ctrlKey){var n=kendo.wheelDeltaY(t),r=e(t.currentTarget);n&&(r[0].scrollHeight>r[0].clientHeight&&(r[0].scrollTop<r[0].scrollHeight-r[0].clientHeight&&n<0||r[0].scrollTop>0&&n>0)&&t.preventDefault(),r.one("wheel"+R,!1),this.content.scrollTop(this.content.scrollTop()+-n))}},_progress:function(){var e=this.options.messages;this.tbody.find("tr").length||this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:N.icon+" "+N.loading,messages:e}))},_error:function(e){this.dataSource.rootNodes().length||this._render({error:e})},refresh:function(t){if(!("itemchange"==(t=t||{}).action&&this.editor||this.trigger("dataBinding"))){var n,r=e(this.current()),o=!1;this._cancelEditor(),this._render(),this._adjustHeight(),this.options.navigatable&&((this._isActiveInTable()||this.editor)&&(o=r.is("th"),n=Math.max(this.cellIndex(r),0)),this._restoreCurrent(n,o)),this.trigger("dataBound")}},_angularFooters:function(e){var i,footer,t,n=this.dataSource.aggregates(),r=this._footerItems();for(i=0;i<r.length;i++)t=n[(footer=r.eq(i)).attr("data-parentId")],this._angularFooter(e,footer.find("td").get(),t)},_angularFooter:function(e,t,n){var r=this.columns;this.angular(e,(function(){return{elements:t,data:map(r,(function(col){return{column:col,aggregate:n&&n[col.field]}}))}}))},items:function(){return this._hasLockedColumns?this._items(this.tbody).add(this._items(this.lockedTable)):this._items(this.tbody)},_items:function(t){return t.find("tr[data-uid]").filter((function(){return!e(this).hasClass(N.footerTemplate)}))},_footerItems:function(){var t=this.tbody;return this._hasLockedColumns&&(t=t.add(this.lockedTable)),t.find("tr").filter((function(){return e(this).hasClass(N.footerTemplate)}))},dataItems:function(){var e=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){for(var t=e.length,n=new Array(2*t),i=t;--i>=0;)n[i]=n[i+t]=e[i];e=n}return e},_showNoRecordsTemplate:function(){var template,t=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"";this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]),template=kendo.format('<div class="k-grid-norecords-template"{1}>{0}</div>',this.options.messages.noRows,t),e(kendo.template(kendo.format('<div class="{0}">{1}</div>',"k-grid-norecords",template))({})).insertAfter(this.table)},_showStatus:function(t){var n=this.element.find(".k-status"),content=e(this.content).add(this.lockedContent);n.length||(n=e("<div class='k-status' />").appendTo(this.element)),this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]),content.hide(),n.html(t)},_hideStatus:function(){this.element.find(".k-status").remove(),this._hideNoRecordsTempalte(),e(this.content).add(this.lockedContent).show()},_hideNoRecordsTempalte:function(){this.element.find(".k-grid-norecords").remove()},_adjustHeight:function(){var e,t,n,r,element=this.element,o=element.find("."+N.gridContentWrap),header=element.find("."+N.gridHeader),l=element.find("."+N.gridToolbar),c=element.find("."+N.status),h=this._isPageable()&&this.pager&&this.pager.element.is(":visible")?d(this.pager.element):0,f=kendo.support.scrollbar();element.css("height",this.options.height),((t=element)[0].style.height||(n=t.height(),t.height("auto"),r=t.height(),t.height(""),n!=r))&&(e=element.height()-d(header)-d(l)-d(c)-h,o.height(e),this._hasLockedColumns&&(f=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?f:0,this.lockedContent.height(e-f)))},_resize:function(e,t){this._applyLockedContainersWidth(),this._adjustHeight(),this.pager&&this.pager.element&&this.pager.resize(t)},_minScreenSupport:function(){this.hideMinScreenCols()&&(this.minScreenResizeHandler=D(this.hideMinScreenCols,this),e(window).on("resize",this.minScreenResizeHandler))},_iterateMinScreenCols:function(e,n){for(var r=!1,i=0;i<e.length;i++){var col=e[i],o=col.minScreenWidth;o!==t&&null!==o&&(r=!0,o>n?this.hideColumn(col):this.showColumn(col)),!col.hidden&&col.columns&&(r=this._iterateMinScreenCols(col.columns,n)||r)}return r},hideMinScreenCols:function(){var e=this.columns,t=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(e,t)},destroy:function(){m.fn.destroy.call(this);var t=this.dataSource;t.unbind("change",this._refreshHandler),t.unbind("error",this._errorHandler),t.unbind("progress",this._progressHandler),this._navigatableTables=null,this._current=null,this._resizeHandler&&e(window).off("resize"+R,this._resizeHandler),this._dragging&&(this._dragging.destroy(),this._dragging=null),this.resizable&&(this.resizable.destroy(),this.resizable=null),this.reorderable&&(this.reorderable.destroy(),this.reorderable=null),this._draggableInstance&&this._draggableInstance.element&&(this._draggableInstance.destroy(),this._draggableInstance=null),this.minScreenResizeHandler&&e(window).off("resize",this.minScreenResizeHandler),this._destroyEditor(),this.element.off(R),this.wrapper.off(R),this._touchScroller&&this._touchScroller.destroy(),this._destroyPager(),t&&(t._dataMaps=null),this._autoExpandable=null,this._refreshHandler=this._errorHandler=this._progressHandler=this._dataSourceFetchProxy=null,this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null,this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null},options:{name:"TreeList",columns:[],autoBind:!0,scrollable:!0,selectable:!1,sortable:!1,toolbar:null,height:null,columnMenu:!1,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:!0},resizable:!1,filterable:!1,editable:!1,reorderable:!1,pageable:!1},events:["change","beforeEdit","edit","page","save","saveChanges","remove","expand","collapse","dataBinding","dataBound","cancel","dragstart","drag","drop","dragend","filterMenuInit","itemChange","cellClose","filterMenuOpen","columnHide","columnShow","columnReorder","columnResize","columnMenuInit","columnMenuOpen","columnLock","columnUnlock"],_toggle:function(n,r){var o=this,l=e.Deferred().resolve().promise(),c=n.loaded();if(o._isIncellEditable()&&o.editor&&(e(C()).change(),o.closeCell()),n._error&&(n.expanded=!1,n._error=t),!c&&n.expanded)return l;function h(){o._toggleData(),o._isPageable()?o.refresh():o._render(),o._syncLockedContentHeight()}return void 0===r&&(r=!n.expanded),n.expanded=r,c||(l=this.dataSource.load(n).always(D((function(){h()}),this))),h(),l},_toggleData:function(){this._isPageable()&&this._togglePageableData()},_togglePageableData:function(){var e,t=this.dataSource,data=t._getData(),n=t._defaultPageableQueryOptions();this._renderProgress(!0);var r=t._getChildrenMap()||t.childrenMap(t._getData());t._processDataItemsState(data,r),e=t._processPageableQuery(data,n),n.childrenMap=e.childrenMap,n.filteredChildrenMap=e.filteredChildrenMap,t._aggregateResult=t._calculateAggregates(e.dataToAggregate,n),t.view(e.data),t._calculateCollapsedTotal(),this._refreshPager(),this._renderProgress(!1)},_refreshPager:function(){var e=this.pager;e&&e.refresh()},expand:function(e){return this._toggle(this.dataItem(e),!0)},collapse:function(e){return this._toggle(this.dataItem(e),!1)},_toggleChildren:function(t){var n=e(t.currentTarget),r=this.dataItem(n);if(r){var o=r.expanded?"collapse":"expand";this.trigger(o,{model:r})||this._toggle(r),t.preventDefault()}},_navigatable:function(){if(this.options.navigatable){var t=this.table.add(this.lockedTable),n=this.thead.parent().add(e(">table",this.lockedHeader));this.options.scrollable&&(t=t.add(n),n.attr("tabIndex",-1)),this._navigatableTables=t,t.on(kendo.support.touch?"touchstart"+R:"mousedown"+R,P+">:visible",D(this._tableClick,this)).on("focus"+R,D(this._tableFocus,this)).on("focusout"+R,D(this._tableBlur,this)).on("keydown"+R,D(this._tableKeyDown,this))}},cellIndex:function(td){var t=0;return this.lockedTable&&!e.contains(this.lockedTable[0],td[0])&&(t=se(ve(this.columns)).length),e(td).parent().children().index(td)+t},_isActiveInTable:function(){var t=kendo._activeElement();return!!t&&(this.table[0]===t||e.contains(this.table[0],t)||this.lockedTable&&(this.lockedTable[0]===t||e.contains(this.lockedTable[0],t)))},_restoreCurrent:function(n,r){var o,td;n===t||n<0||(this._current&&this._current.removeClass("k-state-focused"),r?this.current(this.thead.find("th").eq(n)):(n=0,o=e(),this.lockedTable&&(o=this.lockedTable.find(">tbody>tr:visible").eq(0)),td=(o=o.add(this.tbody.children().eq(0))).find(">td:visible").eq(n),this.current(td)),this._current&&ye(this._current.closest("table")[0],!0))},current:function(t){var n=this._current;return!(t=e(t)).length||n&&n[0]===t[0]||(this._updateCurrentAttr(n,t),this._scrollCurrent()),t&&t.length&&(this._lastCellIndex=t.parent().children(F).index(t)),this._current},_setCurrent:function(t){return(t=e(t))[0]&&(this._current=t,this._updateCurrentAttr(this._current,t),this._scrollCurrent()),this._current},_scrollCurrent:function(){var t=this._current,n=this.options.scrollable;if(t&&n){var r=t.parent(),o=r.closest("table").parent(),l=o.is(".k-grid-content-locked,.k-grid-header-locked"),c=o.is(".k-grid-content-locked,.k-grid-content"),h=e(this.content)[0];c&&this._scrollTo(this._relatedRow(r)[0],h),this.lockedContent&&(this.lockedContent[0].scrollTop=h.scrollTop),l||this._scrollTo(t[0],h)}},_findCurrentCell:function(){var t=this.current(),n=e(this.table).add(this.header).add(this.lockedTable).add(this.lockedHeader);return t&&n.find(t).length>0?t:n.find("."+N.focused)},_scrollTo:function(element,t){var n=element.tagName.toLowerCase(),r="td"===n||"th"===n,o=element[r?"offsetLeft":"offsetTop"],l=element[r?"offsetWidth":"offsetHeight"],c=t[r?"scrollLeft":"scrollTop"],h=t[r?"clientWidth":"clientHeight"],d=o+l,f=0,m=0,v=0;if(H&&r){var table=e(element).closest("table")[0];x.msie?m=table.offsetLeft:x.mozilla&&(v=table.offsetLeft-kendo.support.scrollbar())}f=(c=Math.abs(c+m-v))>o?o:d>c+h?l<=h?d-h:o:c,f=Math.abs(f+m)+v,t[r?"scrollLeft":"scrollTop"]=f},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._elementId=e+"_active_element")},_currentDataIndex:function(table,e){var n=e.attr("data-index");if(!n)return t;var r=ve(this.columns).length;return r&&!table.closest("div").hasClass("k-grid-content-locked")[0]?n-r:n},_prevVerticalCell:function(t,n){var r,o=n.parent(),l=t.children(P),c=l.index(o),h=this._currentDataIndex(t,n);if(h||n.hasClass("k-header"))return(r=function t(n){var r=n.closest("table"),o=e().add(n),l=n.closest("tr"),c=r.find("tr"),h=c.index(l);if(h>0){for(var d=c.eq(h-1).find("th").filter((function(){return!e(this).attr("rowspan")})),f=0,m=l.find("th").index(n),v=n.prevAll().filter((function(){return this.colSpan>1})),_=0;_<v.length;_++)f+=v[_].colSpan||1;for(m+=Math.max(f-1,0),f=0,_=0;_<d.length;_++){var w=d.eq(_);if(w.attr("data-colspan")?f+=w[0].getAttribute("data-colspan"):f+=1,m>=_&&m<f){o=t(w).add(o);break}}}return o}(n)).eq(r.length-2);if(h=Math.max(o.children(F).index(n),this._lastCellIndex||0),o.hasClass("k-filter-row"))return Q(t).filter(Y).eq(h);if(-1==c){if(!(o=t.find("tr.k-filter-row:visible"))[0])return Q(t).filter(Y).eq(h)}else o=0===c?e():l.eq(c-1);return(r=o.children(F)).length>h?r.eq(h):r.eq(0)},_nextVerticalCell:function(n,r){var o,l=r.parent(),c=n.children(P),h=c.index(l),d=this._currentDataIndex(n,r);if(-1!=h&&d===t&&r.hasClass("k-header"))return function t(n){var r=n.closest("thead"),o=e().add(n),l=n.closest("tr"),c=r.find("tr"),h=c.index(l)+n[0].rowSpan,d=kendo.attr("colspan");if(h<=c.length-1){var f,m=l.next(),v=n.prevAll();v=v.filter((function(){return!this.rowSpan||1===this.rowSpan}));var _=0;for(f=0;f<v.length;f++)_+=parseInt(v.eq(f).attr(d),10)||1;var w=m.find("th"),y=parseInt(n.attr(d),10)||1;for(f=0;f<y;){m=w.eq(f+_),o=o.add(t(m));var x=parseInt(m.attr(d),10);x>1&&(y-=x-1),f++}}return o}(r).eq(1);d=d?parseInt(d,10):l.children(F).index(r),d=Math.max(d,this._lastCellIndex||0),l=-1==h?c.eq(0):c.eq(h+r[0].rowSpan);var f=d;if(this._currentDataIndex(n,r)!==t)for(var m=l.children(":not(.k-group-cell):not(.k-hierarchy-cell)"),v=m.filter(":hidden"),_=0,w=v.length;_<w;_++)m.index(v[_])<d&&f--;return d=f,(o=l.children(F)).length>d?o.eq(d):o.eq(0)},_verticalContainer:function(e,t){var table=e.parent(),n=this._navigatableTables.length,r=Math.floor(n/2),o=A(table[0],this._navigatableTables);return t&&(r*=-1),((o+=r)>=0||o<n)&&(table=this._navigatableTables.eq(o)),table.find(t?"thead":"tbody")},_updateCurrentAttr:function(t,n){var r=e(t).data("headerId");e(t).removeClass(N.focused).closest("table").removeAttr("aria-activedescendant"),r?(r=r.replace(this._elementId,""),e(t).attr("id",r)):e(t).removeAttr("id"),n.data("headerId",n.attr("id")).attr("id",this._elementId).addClass(N.focused).closest("table").attr("aria-activedescendant",this._elementId),this._current=n},_tableKeyDown:function(t){var n=!1,r=this.current(),o=e(t.target),l=!t.isDefaultPrevented()&&!o.is(":button,a,:input,a>.k-icon");r=r||e(this.lockedTable).add(this.table).find(L),l&&t.keyCode==h.UP&&(n=this._moveUp(r,t.shiftKey)),l&&t.keyCode==h.DOWN&&(n=this._moveDown(r,t.shiftKey)),l&&t.keyCode==(H?h.LEFT:h.RIGHT)&&(n=t.altKey?this._handleExpand(r):this._moveRight(r)),l&&t.keyCode==(H?h.RIGHT:h.LEFT)&&(n=t.altKey?this._handleCollapse(r):this._moveLeft(r)),l&&t.keyCode==h.PAGEDOWN&&(n=this._handlePageDown()),l&&t.keyCode==h.PAGEUP&&(n=this._handlePageUp()),t.keyCode!=h.ENTER&&t.keyCode!=h.F2||(n=this._handleEnterKey(r,t.currentTarget,o)),t.keyCode==h.ESC&&(n=this._handleEscKey(r,t.currentTarget)),l&&t.keyCode==h.HOME&&(n=this._handleHome(r,t.ctrlKey)),l&&t.keyCode==h.END&&(n=this._handleEnd(r,t.ctrlKey)),t.keyCode==h.TAB&&(n=this._handleTabKey(r,t.currentTarget,t.shiftKey)),n&&(t.preventDefault(),t.stopPropagation())},_handleExpand:function(e){var t=e.parent(),n=this.dataItem(t);return!(e.hasClass("k-header")||!n||!n.hasChildren||n.expanded||this.trigger("expand",{model:n})||(this.expand(t),0))},_handleCollapse:function(e){var t=e.parent(),n=this.dataItem(t);return!(e.hasClass("k-header")||!(n&&n.hasChildren&&n.expanded)||this.trigger("collapse",{model:n})||(this.collapse(t),0))},_handleHome:function(e,t){var n,r=e.parent(),o=r.parent(),l=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],c=o[0]===this.tbody[0];if(t?n=this.lockedTable?this.lockedTable.find(L):this.table.find(L):(c||l)&&(c&&this.lockedTable&&(r=this._relatedRow(r)),n=r.children(z+":first")),n&&n.length)return this.current(n),!0},_handleEnd:function(e,t){var n,r=e.parent(),o=r.parent(),l=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],c=o[0]===this.tbody[0];if(t?n=this.table.find("tr:not(.k-footer-template):visible:last>td:visible:last"):(c||l)&&(!c&&this.lockedTable&&(r=this._relatedRow(r)),n=r.children(z+":last")),n&&n.length)return this.current(n),!0},_handlePageDown:function(){return!!this._isPageable()&&(this.dataSource._restorePageSizeAfterAddChild(),this.dataSource.page(this.dataSource.page()+1),!0)},_handlePageUp:function(){return!!this._isPageable()&&(this.dataSource._restorePageSizeAfterAddChild(),this.dataSource.page(this.dataSource.page()-1),!0)},_handleEscKey:function(t,n){var r,o,l,c,tbody,h=kendo._activeElement();return t&&t.parent().hasClass("k-grid-edit-row")?(this._isIncellEditable()?(o=t.parent(),c=t.index(),l=o.index(),tbody=o.closest("tbody"),this.closeCell(!0),this._setCurrent(tbody.children().eq(l).children().eq(c))):(r=e(t).parent().index(),h&&h.blur(),this.cancelRow(),r>=0&&this.current(this.items().eq(r).children(z).first())),x.msie&&x.version<9&&document.body.focus(),ye(n,!0),!0):!!t.has(h).length&&(ye(n,!0),!0)},_handleEnterKey:function(t,n,r){var o,l=this.options.editable,c=r.closest("[role=gridcell]");return r.is("table")||e.contains(t[0],r[0])||(t=c),t.is("th")?(t.find(".k-link").click(),!0):(o=t.find(":kendoFocusable:first"))[0]&&t.hasClass("k-state-focused")?(o.focus(),!0):!(!l||r.is(":button,.k-button,textarea")||(c[0]||(c=t),this._handleEditing(c,!1,n),0))},_handleTabKey:function(t,n,r){var o;return!(!this.options.editable||!this._isIncellEditable()||t.is("th")||((o=e(C()).closest("."+N.editCell))[0]&&o[0]!==t[0]&&(t=o),(o=this._tabNext(t,n,r)).length?(this._handleEditing(t,o,o.closest("table")),0):(this._preventPageSizeRestore=!1,1)))},_tabNext:function(e,t,n){var r=!0,o=n?e.prevAll(F+":first"):e.nextAll(":visible:first");return o.length||(o=e.parent(),this.lockedTable&&(r=n&&t==this.lockedTable[0]||!n&&t==this.table[0],o=this._relatedRow(o)),r&&(o=o[n?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),o=o.children(F+(n?":last":":first")),this.dataSource._restorePageSizeAfterAddChild()),o},_handleEditing:function(t,n,table){var r,o,l,c,h=e(kendo._activeElement()),d=x.msie,f=this.options.editable&&!1!==this.options.editable.update,m=this._isIncellEditable(),v=e(n).parents("tr").index(),_=e(n).index(),w=e(t).parents("tr").index(),y=t.index();if(table=e(table),l=m?t.hasClass(N.editCell):t.parent().hasClass("k-grid-edit-row"),this.editor){if((r=this.editor.wrapper)&&e.contains(r[0],h[0])&&(x.opera?h.blur().change().triggerHandler("blur"):(h.blur(),d&&h.blur())),!this.editor)return void ye(table);if(!this.editor.end())return m?this.current(r):this.current(r.children().filter(z).first()),void((o=r.find(":kendoFocusable:first")[0])&&o.focus());m?(this._preventPageSizeRestore=!0,this.closeCell(),this._preventPageSizeRestore=!1,0===e(this.table).add(this.lockedTable).find("."+N.editCell).length&&this.current(table.find("tbody").children().eq(w).children().eq(y))):(this.saveRow(),l=!0)}if((n=e(n).length&&0===table.find(n).length?table.find("tbody").children().eq(v).children().eq(_):n)&&this.current(n),ye(table,!0),f)if(!l&&!n||n){var k=this.current().index();m?(this.editCell(this.current()),(c=e(this.table).add(this.lockedTable).find("."+N.editCell)[0])?this._current=e(c):this.current(this._findCurrentCell())):(this.editRow(this.current().parent()),this.current(this.editor.wrapper.children().eq(k)),this.current().removeClass("k-state-focused"))}else this.dataSource._restorePageSizeAfterAddChild()},_moveRight:function(e){var t=e.nextAll(z).first(),n=e.parent();return e.hasClass("k-header")&&!(t=e.nextAll("th:visible").first())[0]&&this.lockedTable&&e.closest("table")[0]===this.lockedHeader.find("table")[0]&&(t=this.thead.find("th:visible:first")),!t[0]&&this.lockedTable&&e.closest("table")[0]===this.lockedTable[0]&&(t=this._relatedRow(n).children(z).first()),t[0]&&t[0]!==e[0]&&ye(t.closest("table"),!0),this.current(t),!0},_moveLeft:function(e){var t=e.prevAll(z).first(),n=e.parent();return e.hasClass("k-header")&&!(t=e.prevAll("th:visible").first())[0]&&this.lockedTable&&e.closest("table")[0]===this.thead.parent()[0]&&(t=this.lockedHeader.find(">table>thead>tr>th:visible:last")),!t[0]&&this.lockedTable&&e.closest("table")[0]===this.table[0]&&(t=this._relatedRow(n).children(z).last()),t[0]&&t[0]!==e[0]&&ye(t.closest("table"),!0),this.current(t),!0},_moveUp:function(e,t){var n,r=e.parent().parent();t?(n=(n=e.parent()).prevAll(B+":first"),n=e.parent().is(B)?n.children().eq(e.index()):n.children(F+":last")):(n=this._prevVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r,!0),(n=this._prevVerticalCell(r,e))[0]&&ye(r.parent(),!0));var o=this._lastCellIndex||0;return this.current(n),this._lastCellIndex=o,!0},_moveDown:function(e,t){var n,r=e.parent().parent();t?(n=(n=e.parent()).nextAll(B+":first"),n=e.parent().is(B)?n.children().eq(e.index()):n.children(F+":first")):(n=this._nextVerticalCell(r,e))[0]||(this._lastCellIndex=0,r=this._verticalContainer(r),(n=this._nextVerticalCell(r,e))[0]&&ye(r.parent(),!0));var o=this._lastCellIndex||0;return this.current(n),this._lastCellIndex=o,!0},_tableClick:function(t){var n=e(t.currentTarget),r=n.is("th"),table=this.table.add(this.lockedTable),o=this.thead.parent().add(e(">table",this.lockedHeader)),l=re(t.target),c=n.closest("table")[0];kendo.support.touch||c!==table[0]&&c!==table[1]&&c!==o[0]&&c!==o[1]||(this.options.navigatable&&this.current(n),!r&&l||setTimeout((function(){re(kendo._activeElement())&&e.contains(c,kendo._activeElement())||ye(c,!0)})),r&&t.preventDefault())},_setTabIndex:function(table){this._navigatableTables.attr("tabIndex",-1),table.attr("tabIndex",0)},_tableFocus:function(t){var n=this.current(),table=e(t.currentTarget);n&&n.is(":visible")?n.addClass(N.focused):this.current(table.find(L)),this._setTabIndex(table)},_tableBlur:function(){var e=this.current();e&&e.removeClass(N.focused)},_attachEvents:function(){var e="."+N.iconCollapse+", ."+N.iconExpand+", ."+N.refresh,t="."+N.retry;this.element.on("mousedown"+R,e,D(this._toggleChildren,this)).on("click"+R,t,this._dataSourceFetchProxy).on("click"+R,".k-button[data-command]",D(this._commandClick,this)),this._attachCellEditingEventHandlers()},_attachCellEditingEventHandlers:function(){var t=this,n=t.options.editable,r=t.selectable&&t.selectable.options.multiple;t._isIncellEditable()&&!1!==n.update&&t.wrapper.on("click"+R,"tr:not(.k-grouping-row) > td",(function(n){var td=e(this),o=t.lockedTable&&td.closest("table")[0]===t.lockedTable[0];if(td.hasClass(N.editCell)||td.has("a.k-grid-delete").length||td.has("button.k-grid-delete").length||td.closest("tbody")[0]!==t.tbody[0]&&!o||e(n.target).is(":input")||e(n.target).hasClass(N.iconExpand)||e(n.target).hasClass(N.iconCollapse))return t.editor||t.dataSource._restorePageSizeAfterAddChild(),void(t._preventPageSizeRestore=!1);t.editor?t.editor.end()&&(r&&e(C()).blur(),t.closeCell(),t.editCell(td)):t.editCell(td)})).on("mousedown"+R,"tr:not(.k-grouping-row) > td",(function(n){t.editor&&t._isPageable()&&!ke(t.dataSource._addChildPageSize)?t._preventPageSizeRestore=e(n.target).parents("."+N.editRow).length>0:t._preventPageSizeRestore=!1})).on("focusin"+R,(function(){e.contains(this,C())||(clearTimeout(t._closeCellTimeout),t._closeCellTimeout=null)})).on("focusout"+R,(function(n){t._closeCellTimeout=setTimeout((function(){!function(n){var r=C(),o=t.editor||{},l=o.element;!l||e.contains(l[0],r)||l[0]===r||e(r).closest(".k-animation-container").length||o.end()&&(n.relatedTarget||!t._isPageable()||ke(t.dataSource._addChildPageSize)||(t._preventPageSizeRestore=!1),t.closeCell()),t._preventPageSizeRestore=!1}(n)}),1)}))},_commandByName:function(t){var i,n,r,o,l=this.columns,c=e.isArray(this.options.toolbar)?this.options.toolbar:[];if(t=t.toLowerCase(),O[t])return O[t];for(i=0;i<l.length;i++)if(r=l[i].command)for(n=0;n<r.length;n++)if((o=r[n].name)&&o.toLowerCase()==t)return r[n];for(i=0;i<c.length;i++)if((o=c[i].name)&&o.toLowerCase()==t)return c[i]},_commandClick:function(n){var button=e(n.currentTarget),r=button.attr("data-command"),o=this._commandByName(r),l=button.parentsUntil(this.wrapper,"tr");l=l.length?l:t,o&&(o.methodName?this[o.methodName](l):o.click&&o.click.call(this,n),n.preventDefault())},_ensureExpandableColumn:function(){this._autoExpandable&&delete this._autoExpandable.expandable;var e=E(this.columns,G(j("hidden")));e=E(e,G(j("command")));var t=E(e,j("expandable"));this.columns.length&&!t.length&&(this._autoExpandable=e[0],e[0].expandable=!0)},_columns:function(){var e=this.options.columns||[];this.columns=map(e,(function(e){return T({encoded:!0},e="string"==typeof e?{field:e}:e)}));var t=ve(e);t.length>0&&(this._hasLockedColumns=!0,this.columns=t.concat(_e(this.columns))),this.columns=function e(t,n){return map(t,(function(t){var r;return function(e){return le([e]).length>0}(t)&&!n||(r=!0),t.columns&&(t.columns=e(t.columns,r)),T({hidden:r},t)}))}(this.columns),this._ensureExpandableColumn(),this._columnTemplates(),this._columnAttributes()},_columnTemplates:function(){var e,t,n,r=se(this.columns);for(e=0,t=r.length;e<t;e++)(n=r[e]).template&&(n.template=kendo.template(n.template)),n.headerTemplate&&(n.headerTemplate=kendo.template(n.headerTemplate)),n.footerTemplate&&(n.footerTemplate=kendo.template(n.footerTemplate))},_columnAttributes:function(){var t,n,r=this.columns;function o(t){var n,i,r;if(t&&t.style)for(n=t.style.split(";"),t.style={},i=0;i<n.length;i++){r=n[i].split(":");var o=e.trim(r[0]);o&&(t.style[e.camelCase(o)]=e.trim(r[1]))}}for(t=0,n=r.length;t<n;t++)o(r[t].attributes),o(r[t].headerAttributes)},_layout:function(){var e=this.columns,element=this.element,t="";this.wrapper=element.addClass(N.wrapper),t="<div class='#= gridHeader #'>",this._hasLockedColumns&&(t+="<div class='k-grid-header-locked'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div>"),t+="<div class='#= gridHeaderWrap #'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div></div>",this._hasLockedColumns&&(t+="<div class='k-grid-content-locked'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>"),t+="<div class='#= gridContentWrap # k-auto-scrollable'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>",this.options.scrollable||(t="<table role='treegrid' tabindex='0'><colgroup></colgroup><thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"),this.options.toolbar&&(t="<div class='#= header # #= gridToolbar #' />"+t),element.append(kendo.template(t)(N)+"<div class='k-status' />"),this.toolbar=element.find("."+N.gridToolbar);var header=element.find("."+N.gridHeader).find("thead").addBack().filter("thead");if(this.thead=header.last(),this.options.scrollable){var n=kendo.support.isRtl(element);element.find("div."+N.gridHeader).css(n?"padding-left":"padding-right",kendo.support.scrollbar())}var content=element.find("."+N.gridContentWrap);content.length?this.content=content:content=element,this.table=content.find(">table"),this.tbody=this.table.find(">tbody"),this._hasLockedColumns&&(this.lockedHeader=header.first().closest(".k-grid-header-locked"),this.lockedContent=element.find(".k-grid-content-locked"),this.lockedTable=this.lockedContent.children()),this._initVirtualTrees(),this._renderCols(),this._renderHeader(),this.angular("compile",(function(){return{elements:header.find("th.k-header").get(),data:map(e,(function(col){return{column:col}}))}}))},_initVirtualTrees:function(){this._headerColsTree=new n.Tree(this.thead.prev()[0]),this._contentColsTree=new n.Tree(this.tbody.prev()[0]),this._headerTree=new n.Tree(this.thead[0]),this._contentTree=new n.Tree(this.tbody[0]),this._statusTree=new n.Tree(this.element.children(".k-status")[0]),this.lockedHeader&&(this._lockedHeaderColsTree=new n.Tree(this.lockedHeader.find("colgroup")[0]),this._lockedContentColsTree=new n.Tree(this.lockedTable.find(">colgroup")[0]),this._lockedHeaderTree=new n.Tree(this.lockedHeader.find("thead")[0]),this._lockedContentTree=new n.Tree(this.lockedTable.find(">tbody")[0]))},_toolbar:function(){var t=this.options.toolbar,r=this.toolbar;if(t){if(e.isArray(t)){var o=this._buildCommands(t);new n.Tree(r[0]).render(o)}else r.append(kendo.template(t)({}));this.angular("compile",(function(){return{elements:r.get()}}))}},_lockedColumns:function(){return E(this.columns,j("locked"))},_nonLockedColumns:function(){return E(this.columns,G(j("locked")))},_templateColumns:function(){return E(this.columns,j("template"))},_flushCache:function(){this.options.$angular&&this._templateColumns().length&&(this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]))},_render:function(t){t=t||{},t=this._renderOptions(t);var n=this.options.messages,r=this._isPageable(),o=this.dataSource,l={children:t.filteredChildrenMap||t.childrenMap,ids:t.idsMap},c=r?l&&l.children&&l.ids?l:o._initDataMaps(o._getData()):{},h=c.children,d=c.ids;t.childrenMap=h,t.idsMap=d;var f,data=this._dataToRender(t),m=this._renderedModelLevel(data[0],t),v=kendo.attr("uid"),_=this.select().removeClass("k-state-selected").map((function(t,n){return e(n).attr(v)}));this._absoluteIndex=0,this._angularItems("cleanup"),this._angularFooters("cleanup"),this._flushCache(),this._clearRenderMap(),t.error?this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[N.button,N.retry].join(" "),messages:n})):data.length?(r&&(f=this._viewChildrenMap(t)),this._hideStatus(),this._contentTree.render(this._trs({columns:se(_e(this.columns)),editedColumn:t.editedColumn,editedColumnIndex:t.editedColumnIndex,aggregates:t.aggregates,selected:_,data:data,childrenMap:h,viewChildrenMap:f,visible:!0,level:0})),this._hasLockedColumns&&(this._absoluteIndex=0,this._lockedContentTree.render(this._trs({columns:se(ve(this.columns)),editedColumn:t.editedColumn,editedColumnIndex:t.editedColumnIndex,aggregates:t.aggregates,selected:_,data:data,childrenMap:h,viewChildrenMap:f,visible:!0,level:m})))):(this._hideStatus(),this._showNoRecordsTemplate()),this._touchScroller&&this._touchScroller.contentResized(),this._muteAngularRebind((function(){this._angularItems("compile"),this._angularFooters("compile")})),this.items().filter((function(){return e.inArray(e(this).attr(v),_)>=0})).addClass("k-state-selected"),this._syncLockedContentHeight(),this._togglePagerVisibility(),this._setExpanderElement()},_setExpanderElement:function(){var t;this.options.scrollable&&this.wrapper.is(":visible")&&(t=this.table.parent().children(".k-grid-content-expander"),this.dataSource&&this.dataSource.view().length?t[0]&&t.remove():(t[0]||(t=e('<div class="k-grid-content-expander"></div>').appendTo(this.table.parent())),this.thead&&t.width(this.thead.width())))},_renderProgress:function(e){kendo.ui.progress(this.wrapper,e)},_renderOptions:function(e){e=e||{};var t=this.dataSource._getDataMaps(),filter=this.dataSource.filter();return this._isPageable()&&(e.childrenMap=t.children,e.idsMap=t.ids,filter&&(e.filteredChildrenMap=t.filteredChildren)),e},_renderedModelLevel:function(e,t){return this._isPageable()?this.dataSource._pageableModelLevel(e,t):0},_viewChildrenMap:function(e){e=e||{};var t,n,r,o,l,c,h=this.dataSource,d=h.childrenMap(h.view()),f=h._modelIdField(),m=h._parentNodesNotInView();this._clearRenderMap();for(var i=0;i<m.length;i++){n=(t=m[i])[f],this._markNodeAsNonRenderable(n),d[n]=d[n]||[],(c=h._parentNodes(t).slice()).push(t);for(var v=0;v<c.length-1;v++)r=c[v][f],this._markNodeAsNonRenderable(r),d[r]=d[r]||[],l=(o=c[v+1])[f],this._markNodeAsNonRenderable(l),d[l]=d[l]||[],-1===d[r].indexOf(o)&&d[r].unshift(o)}return d},_clearRenderMap:function(){this._skipRenderingMap={}},_dataToRender:function(e){return this._isPageable()?this.dataSource._pageableRootNodes(e):this.dataSource.rootNodes()},_markNodeAsNonRenderable:function(e){this._skipRenderingMap[e]=!0},_adjustRowsHeight:function(e,t){if(this._hasLockedColumns){var n,r=e[0].rows,o=r.length,l=t[0].rows,c=e.add(t),h=c.length,d=[];for(n=0;n<o&&l[n];n++)r[n].style.height&&(r[n].style.height=l[n].style.height="");for(n=0;n<o&&l[n];n++){var f=r[n].offsetHeight,m=l[n].offsetHeight,v=0;f>m?v=f:f<m&&(v=m),d.push(v)}for(n=0;n<h;n++)c[n].style.display="none";for(n=0;n<o;n++)d[n]&&(r[n].style.height=l[n].style.height=d[n]+1+"px");for(n=0;n<h;n++)c[n].style.display=""}},_ths:function(e,t){for(var n,title,c,h,d,f,m=[],i=0,v=e.length;i<v;i++)n=e[i],c=[],h=[N.header],title=n.headerTemplate?n.headerTemplate({}):n.title||n.field||"",f=n.headerTemplate?l(title):o(title),n.sortable?c.push(r("a",{href:"#",className:N.link},[f])):c.push(f),d={"data-field":n.field,"data-title":n.title,style:!0===n.hidden?{display:"none"}:{},className:h.join(" "),role:"columnheader"},n.columns||(d.rowSpan=t||1),n.headerAttributes&&(1===n.headerAttributes.colSpan&&delete n.headerAttributes.colSpan,n.headerAttributes.class&&(d.className+=" "+n.headerAttributes.class,delete n.headerAttributes.class)),n["data-index"]>-1&&(d["data-index"]=n["data-index"]),d=T(!0,{},d,n.headerAttributes),m.push(r("th",d,c));return m},_cols:function(e){for(var t,n,o=[],i=0;i<e.length;i++)!0!==e[i].hidden&&(n={},(t=e[i].width)&&0!==parseInt(t,10)&&(n.style={width:"string"==typeof t?t:t+"px"}),o.push(r("col",n)));return o},_clearColsCache:function(){this._headerColsTree.render([]),this.options.scrollable&&this._contentColsTree.render([]),this._hasLockedColumns&&(this._lockedHeaderColsTree.render([]),this._lockedContentColsTree.render([]))},_renderCols:function(){var e=_e(this.columns);this._headerColsTree.render(this._cols(se(e))),this.options.scrollable&&this._contentColsTree.render(this._cols(se(e))),this._hasLockedColumns&&(e=ve(this.columns),this._lockedHeaderColsTree.render(this._cols(se(e))),this._lockedContentColsTree.render(this._cols(se(e))))},_retrieveFirstColumn:function(t,n){var r=e();if(n.length&&t[0]){for(var o=t[0];o.columns&&o.columns.length;)o=o.columns[0],n=n.filter(":not(:first())");r=r.add(n)}return r},_updateFirstColumnClass:function(){var t,n=this.columns||[],tr=this.thead.find(">tr:not(:first)");n=_e(n),t=this._retrieveFirstColumn(n,tr),this.lockedHeader&&(tr=this.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),n=ve(this.columns),t=t.add(this._retrieveFirstColumn(n,tr))),t.each((function(){var t=e(this).find("th");t.removeClass("k-first"),t.eq(0).addClass("k-first")}))},_updateRowSpans:function(e){for(var i=e.length-1;i>=0;i--)ae(e[i].cells).length>0&&(e[i].rowSpan=e.length-i)},_setColumnDataIndexes:function(e){for(var i=0;i<e.length;i++)e[i]["data-index"]=i},_updateColumnCellIndex:function(){var e=0;this.lockedHeader&&(e=ge(this.lockedHeader.find("thead"),ve(this.columns))),ge(this.thead,_e(this.columns),e)},_setParentsVisibility:function(e,t){var n,r,o=[],l=t?function(p){return le(p.columns).length&&p.hidden}:function(p){return!le(p.columns).length&&!p.hidden};if(ue(e,this.columns,o)&&o.length)for(n=o.length-1;n>=0;n--)l(r=o[n])&&(r.hidden=!t)},_prepareColumns:function(t,n,r,o,l){for(var c=o||t[t.length-1],h=t[c.index+1],d=0,f=0;f<n.length;f++){var m=e.extend({},n[f],{headerAttributes:n[f].headerAttributes||{}});c.cells.push(m),n[f].columns&&n[f].columns.length&&(h||(h={rowSpan:0,cells:[],index:t.length},t.push(h)),n[f].columns.length&&(m.headerAttributes.colSpan=ae(n[f].columns).length||1,m.headerAttributes["data-colspan"]=se(n[f].columns).length),this._prepareColumns(t,n[f].columns,m,h,n[f]),m.hidden||(d+=m.headerAttributes.colSpan-1),c.rowSpan=t.length-c.index),n[f].rowIndex=c.index,l&&(n[f].parentColumn=l),n[f].cellIndex=c.cells.length-1}r&&(r.headerAttributes.colSpan+=d)},_renderHeaderTree:function(e,t,n){var o,l=[],c=[];if(n){for(l=[{rowSpan:1,cells:[],index:0}],this._prepareColumns(l,t),this._updateRowSpans(l),o=0;o<l.length;o++)c.push(r("tr",{role:"row"},this._ths(l[o].cells,l[o].rowSpan)));e.render(c)}else e.render([r("tr",{role:"row"},this._ths(t))])},_renderHeader:function(){var e=_e(this.columns),n=E(this.columns,(function(e){return e.columns!==t})).length>0;this._setColumnDataIndexes(se(this.columns)),this._renderHeaderTree(this._headerTree,e,n),this._hasLockedColumns&&(e=ve(this.columns),this._renderHeaderTree(this._lockedHeaderTree,e,n),this._applyLockedContainersWidth(),this._syncLockedHeaderHeight()),this._updateFirstColumnClass()},_applyLockedContainersWidth:function(){if(this._hasLockedColumns){var e=J(this.lockedHeader.find(">table>colgroup>col")),t=this.thead.parent(),n=J(t.find(">colgroup>col")),r=this.wrapper[0].clientWidth,o=kendo.support.scrollbar();e>=r&&(e=r-3*o),this.lockedHeader.add(this.lockedContent).width(e),t.add(this.table).width(n);var l=r-e;this.content.width(l-1),t.parent().width(l-o-2)}},_trs:function(t){var n,r,o,l,c,i,h,d,f=[],m=t.level,data=t.data,v=this.dataSource,_=v.aggregates()||{},w=v._modelIdField(),y=v._modelParentIdField(),x=t.columns,k=this._isPageable(),C=t.childrenMap||v.childrenMap(v._getData());for(i=0,h=data.length;i<h;i++){if(o=[],d=(n=data[i])[w],l=(c=k?C[d]:n.loaded()?v.childNodes(n):[])&&c.length,(r={role:"row"})[kendo.attr("uid")]=n.uid,l&&(r["aria-expanded"]=!!n.expanded),t.visible?(!k||k&&!this._skipRenderingMap[d])&&(this._absoluteIndex%2!=0&&o.push(N.alt),this._absoluteIndex++):r.style={display:"none"},e.inArray(n.uid,t.selected)>=0&&o.push(N.selected),l&&o.push(N.group),n._edit&&o.push("k-grid-edit-row"),r.className=o.join(" "),!this._skipRenderingMap[d]){var S=this._tds({model:n,attr:r,level:k?this._renderedModelLevel(n,t):m,editedColumn:t.editedColumn,editedColumnIndex:t.editedColumnIndex},x,D(this._td,this));f.push(S)}if(l){if(k&&(c=(t.viewChildrenMap||{})[d]||[]),0===c.length)continue;f=f.concat(this._trs({columns:x,editedColumn:t.editedColumn,editedColumnIndex:t.editedColumnIndex,aggregates:_,selected:t.selected,visible:k?t.visible:t.visible&&!!n.expanded,data:c,childrenMap:t.childrenMap||C,viewChildrenMap:t.viewChildrenMap,level:m+1}))}}return this._hasFooterTemplate()&&n&&(r={className:N.footerTemplate,"data-parentId":n[y]},t.visible||(r.style={display:"none"}),f.push(this._tds({model:_[n[y]],attr:r,level:m,editedColumn:t.editedColumn,editedColumnIndex:t.editedColumnIndex},x,this._footerId))),f},_footerId:function(t){var content=[],n=t.column,template=t.column.footerTemplate||e.noop,o=t.model[n.field]||{},c={role:"gridcell",style:!0===n.hidden?{display:"none"}:{}};return n.expandable&&(content=content.concat(X({level:t.level+1,className:N.iconPlaceHolder}))),n.attributes&&T(!0,c,n.attributes,{style:!0===n.hidden?{display:"none"}:{}}),content.push(l(template(o)||"")),r("td",c,content)},_hasFooterTemplate:function(){return!!E(this.columns,(function(e){return e.footerTemplate})).length},_tds:function(e,t,n){for(var o,l=[],c=(e.editedColumn||{}).field,h=this._isIncellEditable(),d=t.length,i=0;i<d;i++){o=t[i];var col=n({model:e.model,column:o,editColumn:!h||h&&o.field===c&&e.editedColumnIndex===i,level:e.level});l.push(col)}return r("tr",e.attr,l)},_td:function(e){var t,n=[],o=e.model,l=e.column,c={role:"gridcell",style:!0===l.hidden?{display:"none"}:{}},h=this._isIncellEditable(),d=!1;return l.attributes&&T(!0,c,l.attributes),o._edit&&l.field&&e.editColumn&&(h||!h&&xe(l,o))?(c[kendo.attr("container-for")]=l.field,h&&(c.className&&-1!==c.className.indexOf(N.editCell)?c.className+=" "+N.editCell:c.className||(c.className=N.editCell))):(l.expandable&&(n=X({level:e.level,className:N.iconPlaceHolder}),t=[N.icon],o.hasChildren?t.push(o.expanded?N.iconCollapse:N.iconExpand):t.push(N.iconHidden),o._error?t.push(N.refresh):!o.loaded()&&o.expanded&&t.push(N.loading),n.push(r("span",{className:t.join(" ")})),c.style["white-space"]="nowrap"),function(e,t){var n=(e||{}).field||"";return t.dirty&&t.dirtyFields&&t.dirtyFields[n]&&xe(e,t)}(l,o)&&(c.className?c.className+=N.dirtyCell:c.className||(c.className=N.dirtyCell)),l.command?(c.className&&-1!==c.className.indexOf("k-command-cell")?c.className+=" k-command-cell":c.className||(c.className="k-command-cell"),d=E(l.command,(function(e){return"edit"===e||"edit"===e.name})).length>0,n=o._edit&&!this._isIncellEditable()&&d?this._buildCommands(["update","canceledit"]):this._buildCommands(l.command)):n.push(this._cellContent(l,o)),c.class&&(c.className=c.class+" "+c.className)),r("td",c,n)},_cellContent:function(e,t){var n,r=this._isIncellEditable(),c=r?this._evalDirtyIndicatorTemplate(e,t):"";return e.template?n=this._evalColumnTemplate(e,t):e.field?null===(n=t.get(e.field))||ke(n)?n=c:(e.format&&(n=kendo.format(e.format,n)),n=c+n):(null===n||ke(n))&&(n=""),e.template||!e.encoded?l(n):r?l(n):o(n)},_evalColumnTemplate:function(e,t){return this._isIncellEditable()?this._evalCustomColumnTemplate(e,t):e.template(t)},_evalCustomColumnTemplate:function(e,t){var n=this._customTemplateSettings(),r="#=this.columnTemplate("+n.paramName+")#",o=this._dirtyIndicatorTemplate(e.field)+r;return D(k(o,n),{columnTemplate:e.template})(t)},_evalDirtyIndicatorTemplate:function(e,t){var n=this._dirtyIndicatorTemplate(e.field);return k(n)(t)},_dirtyIndicatorTemplate:function(e){var t=this._customTemplateSettings().paramName;return e&&t?"#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+("["===e.charAt(0)?kendo.expr(e,t+".dirtyFields"):t+".dirtyFields['"+e+"']")+" ? '<span class=\"k-dirty\"></span>' : '' #":""},_customTemplateSettings:function(){return T({},kendo.Template,this.options.templateSettings)},_buildCommands:function(e){var i,t=[];for(i=0;i<e.length;i++)t.push(this._button(e[i]));return t},_button:function(e){var t=(e.name||e).toLowerCase(),text=this.options.messages.commands[t],n=[];return(e=T({},O[t],{text:text},e)).imageClass&&n.push(r("span",{className:["k-icon",e.imageClass].join(" ")})),r("button",{type:"button","data-command":t,className:["k-button","k-button-icontext",e.className].join(" ")},n.concat([o(e.text||e.name)]))},_positionResizeHandle:function(t){var n,th=e(t.currentTarget),r=this.resizeHandle,o=th.position(),l=c(th),h=th.closest("div"),button=void 0!==t.buttons?t.buttons:t.which||t.button,f=this.options.columnResizeHandleWidth||3;if(n=l,void 0===button||0===button){r||(r=this.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>'));var m=Q(th.closest("thead")).filter(":visible");if(H)n=th.position().left;else for(var v=0;v<m.length&&m[v]!=th[0];v++)n+=m[v].offsetWidth;h.append(r),r.show().css({top:o.top,left:n-3*f/2,height:d(th),width:3*f}).data("th",th);var _=this;r.off("dblclick"+R).on("dblclick"+R,(function(){var t=th.index();e.contains(_.thead[0],th[0])&&(t+=E(_.columns,(function(e){return e.locked&&!e.hidden})).length),_.autoFitColumn(t)}))}},autoFitColumn:function(t){var n,th,r,o,col,l=this.options,h=this.columns,d=kendo.support.browser,f=this.lockedHeader?Q(this.lockedHeader.find(">table>thead")).filter(Y).length:0;if((t="number"==typeof t?h[t]:I(t)?E(h,(function(e){return e===t}))[0]:E(h,(function(e){return e.field===t}))[0])&&!t.hidden){n=A(t,h),th=(r=(o=t.locked)?this.lockedHeader.children("table"):this.thead.parent()).find("[data-index='"+n+"']");var m=o?this.lockedTable:this.table,footer=this.footer||e();this.footer&&this.lockedContent&&(footer=o?this.footer.children(".k-grid-footer-locked"):this.footer.children(".k-grid-footer-wrap"));var v=footer.find("table").first();this.lockedHeader&&f>=n&&!o&&(n-=f);for(var _=0;_<h.length&&h[_]!==t;_++)h[_].hidden&&n--;col=l.scrollable?r.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")").add(m.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")).add(v.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")):m.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")");var w=r.add(m).add(v),y=c(th);col.width(""),w.css("table-layout","fixed"),col.width("auto"),w.addClass("k-autofitting"),w.css("table-layout","");var x=Math.ceil(Math.max(c(th),c(m.find("tr").eq(0).children("td:visible").eq(n)),c(v.find("tr").eq(0).children("td:visible").eq(n))));if(col.width(x),t.width=x,l.scrollable){for(var k,C=r.find("col"),S=0,T=0,D=C.length;T<D;T+=1){if(!(k=C[T].style.width)||-1!=k.indexOf("%")){S=0;break}S+=parseInt(k,10)}S&&w.each((function(){this.style.width=S+"px"}))}d.msie&&8==d.version&&(w.css("display","inline-table"),setTimeout((function(){w.css("display","table")}),1)),w.removeClass("k-autofitting"),this.trigger("columnResize",{column:t,oldWidth:y,newWidth:x}),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight()}},_adjustLockedHorizontalScrollBar:function(){var table=this.table,content=table.parent(),e=table[0].offsetWidth>content[0].clientWidth?kendo.support.scrollbar():0;this.lockedContent.height(content.height()-e)},_syncLockedContentHeight:function(){this.lockedTable&&(this._touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var e=this.lockedHeader.children("table"),table=this.thead.parent();this._adjustRowsHeight(e,table),function(e,t){if(e=e[0],t=t[0],e.rows.length&&t.rows.length&&e.rows.length!==t.rows.length){var n,r,o=e.offsetHeight,l=t.offsetHeight;o>l?(n=t.rows[t.rows.length-1],r=o-l):(n=e.rows[e.rows.length-1],r=l-o),n.style.height=n.offsetHeight+r+"px"}}(e,table)}},_resizable:function(){if(this.options.resizable){this.resizable&&this.resizable.destroy();var t=this;e(this.lockedHeader).find("thead").add(this.thead).on("mousemove"+R,"th",e.proxy(this._positionResizeHandle,this)),this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function(n){var header,r,th=e(n.currentTarget).data("th"),o="col:eq("+e.inArray(th[0],Q(th.closest("thead")).filter(":visible"))+")";t.wrapper.addClass("k-grid-column-resizing"),t.lockedHeader&&e.contains(t.lockedHeader[0],th[0])?(header=t.lockedHeader,r=t.lockedTable):(header=t.thead.parent(),r=t.table),this.col=r.children("colgroup").find(o).add(header.find(o)),this.th=th,this.startLocation=n.x.location,this.columnWidth=c(th),this.table=this.col.closest("table"),this.totalWidth=this.table.width()},resize:function(e){var t=H?-1:1,n=e.x.location*t-this.startLocation*t;this.columnWidth+n<11&&(n=11-this.columnWidth),this.table.width(this.totalWidth+n),this.col.width(this.columnWidth+n)},resizeend:function(){t.wrapper.removeClass("k-grid-column-resizing");var e=this.th.attr("data-field"),n=E(se(t.columns),(function(t){return t.field==e})),r=Math.floor(c(this.th));n[0].width=r,t._resize(),t._syncLockedContentHeight(),t._syncLockedHeaderHeight(),t.trigger("columnResize",{column:n,oldWidth:this.columnWidth,newWidth:r}),this.table=this.col=this.th=null}})}},_sortable:function(){var n,r,o,l,c,h,d,f=this.options.sortable,m=E(this.columns,(function(e){return e.columns!==t})).length>0;if(f)for(l=m?this.lockedHeader?K(Q(this.lockedHeader.find(">table>thead")).add(Q(this.thead))):Q(this.thead):e(this.lockedHeader).add(this.thead).find("th"),n=se(this.columns),h=0,d=l.length;h<d;h++)!1!==(r=n[h]).sortable&&!r.command&&r.field&&((o=(c=l.eq(h)).data("kendoColumnSorter"))&&o.destroy(),c.kendoColumnSorter(T({},f,r.sortable,{dataSource:this.dataSource})))},_filterable:function(){var n,r,o,l,c,h,d,f=this.options.filterable,m=E(this.columns,(function(e){return e.columns!==t})).length>0;if(f&&!this.options.columnMenu){var v=D((function(e){this.trigger("filterMenuInit",{field:e.field,container:e.container})}),this),_=D((function(e){this.trigger("filterMenuOpen",{field:e.field,container:e.container})}),this);for(n=m?this.lockedHeader?Q(this.lockedHeader.find(">table>thead")).add(Q(this.thead)):Q(this.thead):e(this.lockedHeader).add(this.thead).find("th"),l=se(this.columns),r=0,o=n.length;r<o;r++)c=l[r],(d=(h=n.eq(r)).data("kendoFilterMenu"))&&d.destroy(),c.command||!1===c.filterable||h.kendoFilterMenu(T(!0,{},f,c.filterable,{dataSource:this.dataSource,init:v,open:_}))}},_change:function(){this.trigger("change")},_isLocked:function(){return null!==this.lockedHeader},_selectable:function(){var filter,n,r,o,l=this,c=this.options.selectable,element=this.table,d=l._isLocked();c&&(c=kendo.ui.Selectable.parseOptions(c),this._hasLockedColumns&&(element=element.add(this.lockedTable),n=c.multiple&&c.cell),filter=">tbody>tr:not(.k-footer-template)",c.cell&&(filter+=">td"),this.selectable=new kendo.ui.Selectable(element,{filter:filter,aria:!0,multiple:c.multiple,change:D(this._change,this),useAllItems:n,continuousItems:D(this._continuousItems,this,filter,c.cell),relatedTarget:!c.cell&&this._hasLockedColumns?D(this._selectableTarget,this):t}),l.options.navigatable&&(r=c.multiple,o=c.cell,element.on("keydown"+R,(function(t){var n=l.current(),c=t.target;if(t.keyCode===h.SPACEBAR&&!t.shiftKey&&e.inArray(c,element)>-1&&!n.is(".k-header")){if(t.preventDefault(),t.stopPropagation(),n=o?n:n.parent(),d&&!o&&(n=n.add(l._relatedRow(n))),r)if(t.ctrlKey){if(n.hasClass(N.selected))return n.removeClass(N.selected),void l.trigger("change")}else l.selectable.clear();else l.selectable.clear();o||(l.selectable._lastActive=n),l.selectable.value(n)}else!o&&(t.shiftKey&&t.keyCode==h.LEFT||t.shiftKey&&t.keyCode==h.RIGHT||t.shiftKey&&t.keyCode==h.UP||t.shiftKey&&t.keyCode==h.DOWN||t.keyCode===h.SPACEBAR&&t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),n=n.parent(),d&&(n=n.add(l._relatedRow(n))),r?(l.selectable._lastActive||(l.selectable._lastActive=n),l.selectable.selectRange(l.selectable._firstSelectee(),n)):(l.selectable.clear(),l.selectable.value(n)))}))))},_continuousItems:function(filter,t){if(this.lockedContent){for(var n=e(filter,this.lockedTable),r=e(filter,this.table),o=t?ve(this.columns).length:1,l=t?this.columns.length-o:1,c=[],h=0;h<n.length;h+=o)M.apply(c,n.slice(h,h+o)),M.apply(c,r.splice(0,l));return c}},_selectableTarget:function(t){for(var n,r=e(),o=0,l=t.length;o<l;o++)n=this._relatedRow(t[o]),A(n[0],t)<0&&(r=r.add(n));return r},_relatedRow:function(t){var n=this.lockedTable;if(t=e(t),!n)return t;var table=t.closest(this.table.add(this.lockedTable)),r=table.find(">tbody>tr").index(t);return(table=table[0]===this.table[0]?n:this.table).find(">tbody>tr").eq(r)},select:function(t){var n=this.selectable;return n?(void 0!==t&&(n.options.multiple||(n.clear(),t=t.first()),this._hasLockedColumns&&(t=t.add(e.map(t,D(this._relatedRow,this))))),n.value(t)):e()},clearSelection:function(){this.select().length&&(this.selectable.clear(),this.trigger("change"))},_dataSource:function(e){var n=this.dataSource,r=this.options.pageable;n&&(n.unbind("change",this._refreshHandler),n.unbind("error",this._errorHandler),n.unbind("progress",this._progressHandler)),this._refreshHandler=D(this.refresh,this),this._errorHandler=D(this._error,this),this._progressHandler=D(this._progress,this),I(e)&&(T(e,{table:this.table,fields:this.columns}),I(r)&&r.pageSize!==t&&(e.pageSize=r.pageSize)),n=this.dataSource=$.create(e),r&&(n._collapsedTotal=t),n.bind("change",this._refreshHandler),n.bind("error",this._errorHandler),n.bind("progress",this._progressHandler),this._dataSourceFetchProxy=D((function(){this.dataSource.fetch()}),this)},setDataSource:function(e){this._dataSource(e),this._sortable(),this._filterable(),this._columnMenu(),this._pageable(),this._contentTree.render([]),this.options.autoBind&&this.dataSource.fetch()},dataItem:function(element){if(element instanceof U)return element;var t=e(element).closest("tr").attr(kendo.attr("uid"));return ke(t)?null:this.dataSource.getByUid(t)},editRow:function(e){var t;!this._isIncellEditable()&&this.options.editable&&("string"==typeof e&&(e=this.tbody.find(e)),(t=this._isPageable()&&this._isPopupEditable()&&e instanceof U?e:this.dataItem(e))&&(this.editor?(t._edit=!0,this._render(),this._cancelEditor()):this._preventPageSizeRestore=!1,"popup"!=this._editMode()&&(t._edit=!0),this.trigger("beforeEdit",{model:t})?this.dataSource._restorePageSizeAfterAddChild():(this._render(),this._createEditor(t),this.trigger("edit",{container:this.editor.wrapper,model:t}))))},_cancelEdit:function(t){var n;this.editor&&(t=T(t,{container:this.editor.wrapper,model:this.editor.model}),this.trigger("cancel",t)||(this.options.navigatable&&(n=this.items().index(e(this.current()).parent())),this.cancelRow(),this.options.navigatable&&(this.current(this.items().eq(n).children().filter(z).first()),ye(this.table,!0))))},cancelRow:function(){this._isIncellEditable()||(this._cancelEditor(),this._render())},saveRow:function(){var e,t=this.editor;this._isIncellEditable()||t&&(e={model:t.model,container:t.wrapper},t.end()&&!this.trigger("save",e)&&this.dataSource.sync())},addRow:function(e){var t=this,n=t.dataSource,r=t._isPageable(),o=t._isIncellEditable(),l=t._isInlineEditable(),c=this.editor,h=0,d={};if((!c||c.end())&&this.options.editable)return e?(e instanceof U||(e=this.dataItem(e)),d[e.parentIdField]=e.id,h=this.dataSource.indexOf(e)+1,void this.expand(e).then((function(){var c=r&&n._isLastItemInView(e)&&(o||l);t._insertAt(d,h,c)}))):void this._insertAt(d,h)},_insertAt:function(e,t,n){var r=this.dataSource;e=this.dataSource.insert(t,e),n&&r._setAddChildPageSize();var o,l=this._itemFor(e);this._isIncellEditable()?(o=l.children("td").eq(this._firstEditableColumnIndex(l)),this.editCell(o)):l&&l[0]?this.editRow(l):this._isPageable()&&this._isPopupEditable()&&this.editRow(e)},_firstEditableColumnIndex:function(e){var t,n,r=this.dataItem(e),o=se(this.columns),l=o.length;for(n=0;n<l;n++)if(t=o[n],r&&(!r.editable||r.editable(t.field))&&!t.command&&t.field&&!0!==t.hidden)return n;return-1},removeRow:function(t){var n=this.dataItem(t),r={model:n,row:t};this.options.editable&&n&&!this.trigger("remove",r)&&(document.activeElement===e(t).find(".k-grid-delete")[0]&&e(t).find(".k-grid-delete").blur(),this.dataSource.remove(n),this._isIncellEditable()||this.dataSource.sync())},_cancelEditor:function(){var e,t=this.editor;t&&(e=t.model,this._destroyEditor(),this._isIncellEditable()?this._shouldRestorePageSize()&&this.dataSource._restorePageSizeAfterAddChild():this.dataSource.cancelChanges(e),e._edit=!1),this._preventPageSizeRestore=!1},_shouldRestorePageSize:function(){return this._isPageable()&&this._isIncellEditable()&&!this._preventPageSizeRestore},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_createEditor:function(e){for(var t=this.itemFor(e),n=se(this.columns),r=[],o=0;o<n.length;o++)r.push(T({},n[o])),delete r[o].parentColumn;t=t.add(this._relatedRow(t));var l=this._editMode(),c={columns:r,model:e,target:this,clearContainer:!1,template:this.options.editable.template};"inline"==l?this.editor=new ee(t,c):(T(c,{window:this.options.editable.window,commandRenderer:D((function(){return this._buildCommands(["update","canceledit"])}),this),fieldRenderer:D(this._cellContent,this),save:D(this.saveRow,this),cancel:D(this._cancelEdit,this),appendTo:this.wrapper}),this.editor=new te(t,c))},_createIncellEditor:function(e,t){var n=T({},t.columns[0]);return delete n.parentColumn,new ie(e,T({},{fieldRenderer:D(this._cellContent,this),appendTo:this.wrapper,clearContainer:!1,target:this,columns:[n],model:t.model,change:t.change}))},editCell:function(t){t=e(t);var n=se(this.columns)[this.cellIndex(t)],r=this.dataItem(t);this._isIncellEditable()&&r&&xe(n,r)&&this._editCell(t,n,r)},_editCell:function(e,t,n){var r,o=this;o.trigger("beforeEdit",{model:n})?o.dataSource._restorePageSizeAfterAddChild():(o.closeCell(),n._edit=!0,o._cancelEditor(),o._render({editedColumn:t,editedColumnIndex:e.index()}),r=o.table.add(o.lockedTable).find("."+N.editCell).first(),o.editor=o._createIncellEditor(r,{columns:[t],model:n,change:function(t){o.trigger("save",{values:t.values,container:e,model:n})&&t.preventDefault()}}),o._current=r,o.trigger("edit",{container:e,model:n}))},closeCell:function(e){var tr,t,n,r,o,l,c,h=(this.editor||{}).element;h&&h[0]&&this._isIncellEditable()&&(t=this.dataItem(h),e&&this.trigger("cancel",{container:h,model:t})||(this.trigger("cellClose",{type:e?"cancel":"save",model:t,container:h}),this._cancelEditor(),h.removeClass(N.editCell),tr=h.parent().removeClass(N.editRow),this.lockedContent&&this._relatedRow(tr).removeClass(N.editRow),this._render(),this.trigger("itemChange",{item:tr,data:t,ns:f}),this.lockedContent&&(n=tr.css("height","")[0],r=this._relatedRow(tr).css("height","")[0],l=n.offsetHeight,c=r.offsetHeight,l>c?o=l+"px":l<c&&(o=c+"px"),o&&(n.style.height=r.style.height=o))))},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=(this.editor||{}).editable;(!e||!e.end())&&e||this.trigger("saveChanges")||this.dataSource.sync()},_editMode:function(){var e="inline",t=this.options.editable;return!0!==t&&(e="string"==typeof t?t:t.mode||e),e.toLowerCase()},_isIncellEditable:function(){return"incell"===this._editMode()},_isInlineEditable:function(){return"inline"===this._editMode()},_isPopupEditable:function(){return"popup"===this._editMode()},hideColumn:function(e){this._toggleColumnVisibility(e,!0)},showColumn:function(e){this._toggleColumnVisibility(e,!1)},_toggleColumnVisibility:function(e,t){(e=this._findColumn(e))&&e.hidden!==t&&(e.hidden=t,this._setParentsVisibility(e,!t),this._ensureExpandableColumn(),this._clearColsCache(),this._renderCols(),this._renderHeader(),this._render(),this._adjustTablesWidth(),this.trigger(t?"columnHide":"columnShow",{column:e}),t||e.width||this.table.add(this.thead.closest("table")).width(""),this._updateFirstColumnClass())},_findColumn:function(e){return e="number"==typeof e?this.columns[e]:I(e)?E(se(this.columns),(function(t){return t===e}))[0]:E(se(this.columns),(function(t){return t.field===e}))[0]},_adjustTablesWidth:function(){var e,t,n,r=this.thead.prev().children(),o=0;for(e=0,t=r.length;e<t;e++){if(!(n=r[e].style.width)||-1!=n.indexOf("%")){o=0;break}o+=parseInt(n,10)}o&&this.table.add(this.thead.closest("table")).width(o)},_reorderable:function(){if(this.options.reorderable){var t=(!0===this.options.scrollable?".k-grid-header:first ":"table:first>.k-grid-header ")+"th.k-header",n=this;this._draggableInstance=new f.Draggable(this.wrapper,{group:kendo.guid(),filter:t,hint:function(t){return e('<div class="k-header k-reorder-clue k-drag-clue" />').html(t.attr(kendo.attr("title"))||t.attr(kendo.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}}),this.reorderable=new f.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:D(this._allowDragOverContainers,this),inSameContainer:function(t){return e(t.source).parent()[0]===e(t.target).parent()[0]&&he(ce(n.columns),n.columns,t.sourceIndex,t.targetIndex)>-1},change:function(e){var t=ce(n.columns),r=t[e.oldIndex],o=he(t,n.columns,e.oldIndex,e.newIndex);n.trigger("columnReorder",{newIndex:o,oldIndex:A(r,t),column:r}),n.reorderColumn(o,r,"before"===e.position)}})}},_allowDragOverContainers:function(e,t){var n=ce(this.columns);return!1!==n[e].lockable&&he(n,this.columns,e,t)>-1},_reorderTrees:function(t,n,r,o,l,c,h,d){for(var f,m,v,_,w,y=e(),source=l.find("tr:eq("+o[0].rowIndex+")"),x=c.children[o[0].rowIndex],k=source.children(),C=h?t[0]:t[t.length-1],S=0;S<o.length;S++)f=o[S].cellIndex,y=y.add(k.eq(f)),r===c&&h&&(f+=S),r.children[C.rowIndex].children.splice(h?C.cellIndex+S:C.cellIndex+1+S,0,x.children[f]);if(r===c&&h?x.children.splice(o[0].cellIndex+o.length,o.length):x.children.splice(o[0].cellIndex,o.length),(w=n.find("tr:eq("+C.rowIndex+")").find(">th.k-header:eq("+C.cellIndex+")")).length&&y[0]!==w[0]&&y[h?"insertBefore":"insertAfter"](w),d>=o[0].rowIndex+1&&1!=d){for(m=[],S=0;S<o.length;S++)o[S].columns&&(m=m.concat(o[S].columns));if(!m.length)return;for(v=[],S=0;S<t.length;S++)t[S].columns&&(v=v.concat(t[S].columns));if(!v.length&&(n!==l||C.cellIndex-o[0].cellIndex>1||o[0].cellIndex-C.cellIndex>1)&&(v=[_=function e(t,n,source,r,o){if(n.columns)return(n=n.columns)[r?0:n.length-1];var l,c=de(n,t);l=c?c.columns:t;var h=A(n,l);0===h&&r&&1!==l.length?h++:h!=l.length-1||r||0===h?(h>0||0===h&&!r&&0!==h)&&(h+=r?-1:1):h--;var d=A(source,l);n=function(e,t,source,n){var r,o,l=!!source.locked;do{r=e[t],t+=n?1:-1,o=!!r.locked}while(r&&t>-1&&t<e.length&&r!=source&&!r.columns&&o===l);return r}(l,h,source,d>h);var f=A(n,o);return(!n.columns||f&&f!==l.length-1)&&n&&n!=source&&n.columns?e(t,n,source,r,o):null}(this.columns,C,o[0],h,this.columns)],!_&&m.length&&n.find("tr").length>o[0].rowIndex+1))return void this._insertTree(m,l,c,n,r);if(!v.length)return;this._reorderTrees(v,n,r,m,l,c,h,d)}},_insertTree:function(t,n,r,o,l){var c,h,d=[],f=e();c=n.find("tr:eq("+t[0].rowIndex+")"),h=r.children[t[0].rowIndex];for(var m=0;m<t.length;m++)t[m].columns&&(d=d.concat(t[m].columns)),l.children[t[0].rowIndex].children.splice(m,0,h.children[t[m].rowIndex]),f=f.add(c.find(">th.k-header:eq("+t[m].cellIndex+")"));r.children[t[0].rowIndex].children.splice(t[0].cellIndex,t.length),o.find("tr:eq("+t[0].rowIndex+")").append(f),d.length&&this._insertTree(d,n,r,o,l)},_reorderHeader:function(e,t,n){var o,l=t.columns?me([t]):1,c=e.columns?me([e]):1,h=oe(t),d=oe(e),f=d?this.lockedHeader:this.thead,m=h?this.lockedHeader:this.thead,v=d?this._lockedHeaderTree:this._headerTree,_=h?this._lockedHeaderTree:this._headerTree,w=f.find("tr");if(l===c||l<w.length)this._reorderTrees([e],f,v,[t],m,_,n,l),be(f,v),we(m,_);else{if(f!==m){o=l-w.length,w.each((function(e){for(var t=this.cells,i=0;i<t.length;i++)t[i].colSpan<=1&&t[i].attributes.rowspan&&(v.children[e].children[i].attr.rowSpan+=o,t[i].rowSpan+=o)}));for(var y=0;y<o;y++)v.children.push(r("tr",{role:"row"})),f.is("thead")?f.append("<tr role='row'></tr>"):f.find("thead").append("<tr role='row'></tr>")}this._reorderTrees([e],f,v,[t],m,_,n,l),we(m,_)}},reorderColumn:function(n,r,o){var l,c=r.parentColumn,h=c?c.columns:this.columns,d=A(r,h),f=h[n],m=!!f.locked,v=E(this.columns,(function(e){return e.columns!==t})).length>0,_=_e(h).length;if(d!==n&&(!m||r.locked||1!=_)&&(m||!r.locked||h.length-_!=1)){if(o===t&&(o=n<d),v&&this._reorderHeader(f,r,o),l=(l=!!r.locked)!=m,r.locked=m,h.splice(o?n:n+1,0,r),h.splice(d<n?d:d+1,1),this._setColumnDataIndexes(se(this.columns)),this._clearColsCache(),this._renderCols(),v)this.lockedHeader?(h=_e(this.columns),this._prepareColumns([{rowSpan:1,cells:[],index:0}],h),h=ve(this.columns),this._prepareColumns([{rowSpan:1,cells:[],index:0}],h)):this._prepareColumns([{rowSpan:1,cells:[],index:0}],this.columns);else{var w=e(this.lockedHeader).add(this.thead).find("th");w.eq(d)[o?"insertBefore":"insertAfter"](w.eq(n));var y=this._headerTree.children[0].children;this._hasLockedColumns&&(y=this._lockedHeaderTree.children[0].children.concat(y)),y.splice(o?n:n+1,0,y[d]),y.splice(d<n?d:d+1,1),this._hasLockedColumns&&(this._lockedHeaderTree.children[0].children=y.splice(0,ve(h).length),this._headerTree.children[0].children=y)}this._updateColumnCellIndex(),this._applyLockedContainersWidth(),this._syncLockedHeaderHeight(),this._updateFirstColumnClass(),this.refresh(),l&&(m?this.trigger("columnLock",{column:r}):this.trigger("columnUnlock",{column:r}))}},lockColumn:function(e){var t=this.columns;if((e="number"==typeof e?t[e]:E(t,(function(t){return t.field===e}))[0])&&!e.hidden){var n=ve(t).length-1;this.reorderColumn(n,e,!1)}},unlockColumn:function(e){var t=this.columns;if((e="number"==typeof e?t[e]:E(t,(function(t){return t.field===e}))[0])&&!e.hidden){var n=ve(t).length;this.reorderColumn(n,e,!0)}},_columnMenu:function(){var n,menu,r,o,l,c=e(this.lockedHeader).add(this.thead).find("th"),h=this.columns,d=this.options,f=d.columnMenu,m=D(this._columnMenuInit,this),v=D(this._columnMenuOpen,this),_=ve(h).length,w=E(this.columns,(function(e){return e.columns!==t})).length>0;if(w?(h=se(h),c=this.lockedHeader?K(Q(this.lockedHeader.find(">table>thead")).add(Q(this.thead))):Q(this.thead)):c=e(this.lockedHeader).add(this.thead).find("th"),f){"boolean"==typeof f&&(f={});for(var i=0;i<c.length;i++)(n=h[i]).field&&((menu=c.eq(i).data("kendoColumnMenu"))&&menu.destroy(),o=!1,!1!==n.sortable&&!1!==f.sortable&&!1!==d.sortable&&(o=T({},d.sortable,{compare:(n.sortable||{}).compare})),l=!1,d.filterable&&!1!==n.filterable&&!1!==f.filterable&&(l=T({pane:this.pane},n.filterable,d.filterable)),r={dataSource:this.dataSource,values:n.values,columns:f.columns,sortable:o,filterable:l,messages:f.messages,owner:this,closeCallback:e.noop,init:m,open:v,pane:this.pane,lockedColumns:!w&&!1!==n.lockable&&_>0},d.$angular&&(r.$angular=d.$angular),c.eq(i).kendoColumnMenu(r))}},_columnMenuInit:function(e){this.trigger("columnMenuInit",{field:e.field,container:e.container})},_pageable:function(){var t,n=this,r=n.options.pageable;r&&((t=n.wrapper.children("div.k-grid-pager")).length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(n.wrapper)),n._destroyPager(),"object"==typeof r&&r instanceof kendo.ui.TreeListPager?n.pager=r:n.dataSource&&!n.dataSource.options.serverPaging&&n._createPager(t),n.pager&&n.pager.bind("pageChange",(function(e){n.trigger("page",{page:e.index})&&e.preventDefault()})))},_createPager:function(element,e){this.pager=new Z(element,T({},this.options.pageable,{dataSource:this.dataSource},e))},_destroyPager:function(){this.pager&&this.pager.destroy()},_isPageable:function(){return this.options.pageable&&(!this.dataSource||this.dataSource&&this.dataSource._isPageable())},_togglePagerVisibility:function(){var e=this.options.pageable;e&&(I(e)||e instanceof Z)&&!1===e.alwaysVisible&&this.wrapper.find(".k-grid-pager").toggle((this.dataSource.collapsedTotal()||0)>=this.dataSource.pageSize())}});function re(element){return e(element).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon")}function oe(e){return e.parentColumn?!!oe(e.parentColumn):!!e.locked}function se(e){for(var t=[],n=0;n<e.length;n++)e[n].columns?t=t.concat(se(e[n].columns)):t.push(e[n]);return t}function ae(e){return E(e,(function(e){return!e.hidden}))}function le(e){return E(e,(function(e){var t=!e.hidden;return t&&e.columns&&(t=le(e.columns).length>0),t}))}function ce(e){return pe(ve(e)).concat(pe(_e(e)))}function he(e,t,n,r){var o=e[n],l=e[r],c=de(o,t);return t=c?c.columns:t,A(l,t)}function de(e,t){var n=[];return ue(e,t,n),n[n.length-1]}function ue(e,t,n){n=n||[];for(var r=0;r<t.length;r++){if(e===t[r])return!0;if(t[r].columns){var o=n.length;if(n.push(t[r]),ue(e,t[r].columns,n))return!0;n.splice(o,n.length-o)}}return!1}function pe(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),e[r].columns&&(n=n.concat(e[r].columns));return n.length&&(t=t.concat(pe(n))),t}function fe(e,t,n,r){var o,l;for((r=r||{})[n=n||0]=r[n]||0,l=0;l<t.length;l++){if(t[l]==e){o={cell:r[n],row:n};break}if(t[l].columns&&(o=fe(e,t[l].columns,n+1,r)))break;r[n]++}return o}function ge(thead,t,n){var r;n=n||0;var o=t;t=se(t);for(var l={},c=thead.find(">tr:not(.k-filter-row)"),filter=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},h=0,d=t.length;h<d;h++)l[(r=fe(t[h],o)).row]||(l[r.row]=c.eq(r.row).find(".k-header").filter(filter)),l[r.row].eq(r.cell).attr(kendo.attr("index"),n+h);return t.length}function me(e){for(var t=0,n=0;n<e.length;n++)if(e[n].columns){var r=me(e[n].columns);r>t&&(t=r)}return 1+t}function ve(e){return E(e,j("locked"))}function _e(e){return E(e,G(j("locked")))}function be(e,t){var n=e.find("tr"),r=n.length;n.each((function(e){for(var n=this.cells,i=0;i<n.length;i++)n[i].colSpan<=1&&n[i].attributes.rowspan&&(t.children[e].children[i].attr.rowSpan=r-e,n[i].rowSpan=r-e)}))}function we(t,n){var r=t.find("tr"),o=[];r.filter((function(t){var n=!e(this).children().length;return n&&o.push(t),n})).remove();for(var i=o.length-1;i>=0;i--)n.children.splice(o[i],1);be(t,n)}function ye(table,t){var n,r;!0===t?(n=(table=e(table)).parent().scrollTop(),r=table.parent().scrollLeft(),kendo.focusElement(table),table.parent().scrollTop(n).scrollLeft(r)):e(table).one("focusin",(function(e){e.preventDefault()})).focus()}function xe(e,t){return!(!(e&&t&&e.field)||e.selectable||e.command||e.editable&&!e.editable(t))&&e.field&&t.editable&&t.editable(e.field)}function ke(e){return void 0===e}kendo.ExcelMixin&&kendo.ExcelMixin.extend(ne.prototype),kendo.PDFMixin&&(kendo.PDFMixin.extend(ne.prototype),ne.prototype._drawPDF=function(progress){var n=this;if(n.options.pdf.paperSize&&"auto"!=n.options.pdf.paperSize)return n._drawPDF_autoPageBreak(progress);var r=new e.Deferred,o=n.dataSource,l=n.options.pdf.allPages;this._initPDFProgress(progress);var c=new kendo.drawing.Group,h=o.page();function d(){n._drawPDFShadow({width:n.wrapper.width()},{avoidLinks:n.options.pdf.avoidLinks}).done((function(e){var n=o.page(),f=l?o.totalPages():1,m={page:e,pageNumber:n,progress:n/f,totalPages:f};progress.notify(m),c.append(m.page),n<f?o.page(n+1):l&&h!==t?(o.unbind("change",d),o.one("change",(function(){r.resolve(c)})),o.page(h)):r.resolve(c)})).fail((function(e){r.reject(e)}))}return l?(o.bind("change",d),o.page(1)):d(),r.promise()},ne.prototype._initPDFProgress=function(t){var n=e("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");n.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(n);var r=e("<div class='k-loading-pdf-progress'>").appendTo(n).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");t.progress((function(e){r.value(e.progress)})).always((function(){kendo.destroy(n),n.remove()}))},ne.prototype._drawPDF_autoPageBreak=function(progress){var n=this,r=new e.Deferred,o=n.dataSource,l=n.options.pdf.allPages,c=n.wrapper.find('table[role="treeList"] > tbody'),h=e("<div>").css({position:"absolute",left:-1e4,top:-1e4}),d=n.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(h);d.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),d.find('table[role="treeList"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"}),d.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),d.find(".k-grid-header, .k-grid-footer").css({paddingRight:0}),this._initPDFProgress(progress);var body=d.find('table[role="treeList"] > tbody').empty(),f=o.page();function m(){h.appendTo(document.body);var t=e.extend({},n.options.pdf,{_destructive:!0,progress:function(p){progress.notify({page:p.page,pageNumber:p.pageNum,progress:.5+p.pageNum/p.totalPages/2,totalPages:p.totalPages})}});kendo.drawing.drawDOM(d,t).always((function(){h.remove()})).then((function(e){r.resolve(e)})).fail((function(e){r.reject(e)}))}function v(){var e=o.page(),r=l?o.totalPages():1;body.append(c.find("tr")),e<r?o.page(e+1):(o.unbind("change",v),l&&f!==t?(o.one("change",m),o.page(f)):(n.refresh(),m()))}return l?(o.bind("change",v),o.page(1)):v(),r.promise()}),T(!0,kendo.data,{TreeListDataSource:$,TreeListModel:U}),f.plugin(ne),f.plugin(Z)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1364:function(e,t){e.exports=n(121)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1316)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1147:function(e,t){e.exports=n(141)},1196:function(e,t){e.exports=n(68)},1210:function(e,t){e.exports=n(135)},1212:function(e,t){e.exports=n(136)},1316:function(e,t,n){var r,o,l;n(3),o=[n(1147),n(1318),n(1319),n(1210),n(1212),n(1196),n(1320),n(1321),n(1322),n(1323),n(1324),n(1325),n(1326),n(1327),n(1328),n(1329),n(1330),n(1331),n(1332),n(1333),n(1334),n(1317),n(1335),n(1336),n(1337),n(1338),n(1339),n(1340),n(1341),n(1342),n(1343),n(1344),n(1345),n(1346),n(1347),n(1348),n(1349),n(1350),n(1351),n(1352),n(1353),n(1354)],void 0===(l="function"==typeof(r=function(){return function(e,t){if(!(e.support.browser.msie&&e.support.browser.version<9)){var n=e.jQuery,r=n.extend({F10:121,F11:122,B:66,I:73,U:85,N:78,H:72,A:65,PAGEDOWN:34,PAGEUP:33,DELETE:46,R:82},e.keys),o=e.ui.Widget,l=e.spreadsheet.Workbook,c=e.spreadsheet.Controller,h=e.spreadsheet.View,d=".kendoSpreadsheet",f={recalc:!0,selection:!0,activeCell:!0,layout:!0,sheetSelection:!0,resize:!0,editorChange:!1,editorClose:!1},m=e.ui.Widget.extend({init:function(element,e){o.fn.init.call(this,element,e),this.element.addClass(m.classNames.wrapper),this._view=new h(this.element,{messages:this.options.messages.view,toolbar:this.options.toolbar,sheetsbar:this.options.sheetsbar}),this._workbook=new l(this.options,this._view),this._controller=new c(this._view,this._workbook),this._autoRefresh=!0,this._bindWorkbookEvents(),this._view.workbook(this._workbook),this._view.enableClipboard(!1),this.refresh(),this._view.enableClipboard(!0),this._resizeHandler=function(){this.resize()}.bind(this),n(window).on("resize"+d,this._resizeHandler),this.element.on("keydown"+d,this._keyDown.bind(this))},_keyDown:function(e){var t=e.keyCode,o=n(".k-spreadsheet-quick-access-toolbar [title=Redo]");if(t===r.F11&&e.shiftKey)return this._view.sheetsbar._onAddSelect(),void e.preventDefault();if(e.altKey&&t===r.PAGEDOWN)this._view.sheetsbar.trigger("select",{name:this._view.sheetsbar._sheets[this._view.sheetsbar._selectedIndex+1].name(),isAddButton:!1});else if(e.altKey&&t===r.PAGEUP)this._view.sheetsbar.trigger("select",{name:this._view.sheetsbar._sheets[this._view.sheetsbar._selectedIndex-1].name(),isAddButton:!1});else{if(e.altKey&&t===r.DELETE){var l=function(e){e.sender.isConfirmed()&&this._view.sheetsbar.trigger("remove",{name:this.activeSheet()._name(),confirmation:!0})}.bind(this);return this._view.sheetsbar._openDialog("confirmation",{close:l}),void e.preventDefault()}if(e.altKey&&t===r.R)return this._view.sheetsbar._createEditor(),void e.preventDefault();if(t===r.F10&&this._view.tabstrip||t===r.TAB&&!e.shiftKey&&n(document.activeElement).is(o))return this._view.tabstrip.toolbars[this._view.tabstrip.element.find("li.k-state-active").text().toLowerCase()].element.find(":not(.k-overflow-anchor):kendoFocusable:first").focus(),this._view.tabstrip.toolbars[this._view.tabstrip.element.find("li.k-state-active").text().toLowerCase()].element.find(".k-toolbar-first-visible").addClass("k-state-focused"),void e.preventDefault();if(e.ctrlKey&&t===r.B)n("[data-tool=bold]")[0].click();else if(e.ctrlKey&&t===r.I)n("[data-tool=italic]")[0].click();else if(e.ctrlKey&&t===r.U)n("[data-tool=underline]")[0].click();else{if(e.altKey&&t===r.H)return this._view.tabstrip.select(0),void e.preventDefault();if(e.altKey&&t===r.N)return this._view.tabstrip.select(1),void e.preventDefault();if(e.altKey&&t===r.A)return this._view.tabstrip.select(2),void e.preventDefault()}}},_resize:function(){this.refresh({layout:!0})},_workbookChanging:function(e){this.trigger("changing",e)&&e.preventDefault()},_workbookChange:function(t){if(this._autoRefresh&&this.refresh(t),t.recalc&&t.ref){var n=t.range||new e.spreadsheet.Range(t.ref,this.activeSheet());this.trigger("change",{range:n})}},_workbookCut:function(e){this.trigger("cut",e)},_workbookCopy:function(e){this.trigger("copy",e)},_workbookPaste:function(e){this.trigger("paste",e)},activeSheet:function(e){return this._workbook.activeSheet(e)},moveSheetToIndex:function(e,t){return this._workbook.moveSheetToIndex(e,t)},insertSheet:function(e){return this._workbook.insertSheet(e)},sheets:function(){return this._workbook.sheets()},removeSheet:function(e){return this._workbook.removeSheet(e)},sheetByName:function(e){return this._workbook.sheetByName(e)},sheetIndex:function(e){return this._workbook.sheetIndex(e)},sheetByIndex:function(e){return this._workbook.sheetByIndex(e)},renameSheet:function(e,t){return this._workbook.renameSheet(e,t)},refresh:function(e){return e||(e=f),e.editorClose||(this._view.sheet(this._workbook.activeSheet()),this._controller.sheet(this._workbook.activeSheet()),this._workbook.refresh(e)),e.editorChange||(this._view.refresh(e),this._controller.refresh(),this._view.render(e),this.trigger("render")),this},openDialog:function(e,t){return this._view.openDialog(e,t)},autoRefresh:function(e){return void 0!==e?(this._autoRefresh=e,!0===e&&this.refresh(),this):this._autoRefresh},toJSON:function(){return this._workbook.toJSON()},fromJSON:function(e){e.sheets?(this._workbook.destroy(),this._workbook=new l(n.extend({},this.options,e)),this._bindWorkbookEvents(),this._view.workbook(this._workbook),this._controller.workbook(this._workbook),this.activeSheet(this.activeSheet())):this.refresh()},saveJSON:function(){return this._workbook.saveJSON()},fromFile:function(e,t){return this._workbook.fromFile(e,t)},saveAsPDF:function(e){this._workbook.saveAsPDF(n.extend({},this.options.pdf,e,{workbook:this._workbook}))},saveAsExcel:function(e){this._workbook.saveAsExcel(e)},draw:function(e,t){this._workbook.draw(e,t)},_workbookExcelExport:function(e){this.trigger("excelExport",e)&&e.preventDefault()},_workbookExcelImport:function(e){this.trigger("excelImport",e)?e.preventDefault():this._initProgress(e.promise)},_initProgress:function(t){var r=n("<div class='k-loading-mask' style='width: 100%; height: 100%; top: 0;'><div class='k-loading-color'/></div>").appendTo(this.element),o=n("<div class='k-loading-progress'>").appendTo(r).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");t.progress((function(e){o.value(e.progress)})).always((function(){e.destroy(r),r.remove()}))},_workbookPdfExport:function(e){this.trigger("pdfExport",e)&&e.preventDefault()},_workbookInsertSheet:function(e){this.trigger("insertSheet",e)&&e.preventDefault()},_workbookRemoveSheet:function(e){this.trigger("removeSheet",e)&&e.preventDefault()},_workbookSelectSheet:function(e){this.trigger("selectSheet",e)&&e.preventDefault()},_workbookRenameSheet:function(e){this.trigger("renameSheet",e)&&e.preventDefault()},_workbookInsertRow:function(e){this.trigger("insertRow",e)&&e.preventDefault()},_workbookInsertColumn:function(e){this.trigger("insertColumn",e)&&e.preventDefault()},_workbookDeleteRow:function(e){this.trigger("deleteRow",e)&&e.preventDefault()},_workbookDeleteColumn:function(e){this.trigger("deleteColumn",e)&&e.preventDefault()},_workbookHideRow:function(e){this.trigger("hideRow",e)&&e.preventDefault()},_workbookHideColumn:function(e){this.trigger("hideColumn",e)&&e.preventDefault()},_workbookUnhideRow:function(e){this.trigger("unhideRow",e)&&e.preventDefault()},_workbookUnhideColumn:function(e){this.trigger("unhideColumn",e)&&e.preventDefault()},_workbookSelect:function(e){this.trigger("select",e)},_workbookChangeFormat:function(e){this.trigger("changeFormat",e)},_workbookDataBinding:function(e){this.trigger("dataBinding",e)&&e.preventDefault()},_workbookDataBound:function(e){this.trigger("dataBound",e)},_bindWorkbookEvents:function(){this._workbook.bind("cut",this._workbookCut.bind(this)),this._workbook.bind("copy",this._workbookCopy.bind(this)),this._workbook.bind("paste",this._workbookPaste.bind(this)),this._workbook.bind("changing",this._workbookChanging.bind(this)),this._workbook.bind("change",this._workbookChange.bind(this)),this._workbook.bind("excelExport",this._workbookExcelExport.bind(this)),this._workbook.bind("excelImport",this._workbookExcelImport.bind(this)),this._workbook.bind("pdfExport",this._workbookPdfExport.bind(this)),this._workbook.bind("insertSheet",this._workbookInsertSheet.bind(this)),this._workbook.bind("removeSheet",this._workbookRemoveSheet.bind(this)),this._workbook.bind("selectSheet",this._workbookSelectSheet.bind(this)),this._workbook.bind("renameSheet",this._workbookRenameSheet.bind(this)),this._workbook.bind("insertRow",this._workbookInsertRow.bind(this)),this._workbook.bind("insertColumn",this._workbookInsertColumn.bind(this)),this._workbook.bind("deleteRow",this._workbookDeleteRow.bind(this)),this._workbook.bind("deleteColumn",this._workbookDeleteColumn.bind(this)),this._workbook.bind("hideRow",this._workbookHideRow.bind(this)),this._workbook.bind("hideColumn",this._workbookHideColumn.bind(this)),this._workbook.bind("unhideRow",this._workbookUnhideRow.bind(this)),this._workbook.bind("unhideColumn",this._workbookUnhideColumn.bind(this)),this._workbook.bind("select",this._workbookSelect.bind(this)),this._workbook.bind("changeFormat",this._workbookChangeFormat.bind(this)),this._workbook.bind("dataBinding",this._workbookDataBinding.bind(this)),this._workbook.bind("dataBound",this._workbookDataBound.bind(this))},destroy:function(){e.ui.Widget.fn.destroy.call(this),this._workbook.destroy(),this._controller.destroy(),this._view.destroy(),this._resizeHandler&&n(window).off("resize"+d,this._resizeHandler)},options:{name:"Spreadsheet",toolbar:!0,sheetsbar:!0,rows:200,columns:50,rowHeight:20,columnWidth:64,headerHeight:20,headerWidth:32,excel:{proxyURL:"",fileName:"Workbook.xlsx"},messages:{},pdf:{area:"workbook",fileName:"Workbook.pdf",proxyURL:"",paperSize:"a4",landscape:!0,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+e.version,date:null},defaultCellStyle:{fontFamily:"Arial",fontSize:"12"},useCultureDecimals:!1},defineName:function(e,t,n){return this._workbook.defineName(e,t,n)},undefineName:function(e){return this._workbook.undefineName(e)},nameValue:function(e){return this._workbook.nameValue(e)},forEachName:function(e){return this._workbook.forEachName(e)},cellContextMenu:function(){return this._view.cellContextMenu},rowHeaderContextMenu:function(){return this._view.rowHeaderContextMenu},colHeaderContextMenu:function(){return this._view.colHeaderContextMenu},addImage:function(image){return this._workbook.addImage(image)},cleanupImages:function(){return this._workbook.cleanupImages()},events:["cut","copy","paste","pdfExport","excelExport","excelImport","changing","change","render","removeSheet","selectSheet","renameSheet","insertRow","insertColumn","deleteRow","insertSheet","deleteColumn","hideRow","hideColumn","unhideRow","unhideColumn","select","changeFormat","dataBinding","dataBound"]});e.spreadsheet.ALL_REASONS=f,e.ui.plugin(m),n.extend(!0,m,{classNames:{wrapper:"k-widget k-spreadsheet"}})}}(window.kendo),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1317:function(e,t){e.exports=n(346)},1318:function(e,t){e.exports=n(87)},1319:function(e,t){e.exports=n(211)},1320:function(e,t){e.exports=n(347)},1321:function(e,t){e.exports=n(348)},1322:function(e,t){e.exports=n(349)},1323:function(e,t){e.exports=n(350)},1324:function(e,t){e.exports=n(351)},1325:function(e,t){e.exports=n(352)},1326:function(e,t){e.exports=n(52)},1327:function(e,t){e.exports=n(353)},1328:function(e,t){e.exports=n(355)},1329:function(e,t){e.exports=n(356)},1330:function(e,t){e.exports=n(144)},1331:function(e,t){e.exports=n(98)},1332:function(e,t){e.exports=n(212)},1333:function(e,t){e.exports=n(213)},1334:function(e,t){e.exports=n(358)},1335:function(e,t){e.exports=n(359)},1336:function(e,t){e.exports=n(360)},1337:function(e,t){e.exports=n(361)},1338:function(e,t){e.exports=n(362)},1339:function(e,t){e.exports=n(363)},1340:function(e,t){e.exports=n(364)},1341:function(e,t){e.exports=n(365)},1342:function(e,t){e.exports=n(34)},1343:function(e,t){e.exports=n(145)},1344:function(e,t){e.exports=n(214)},1345:function(e,t){e.exports=n(366)},1346:function(e,t){e.exports=n(367)},1347:function(e,t){e.exports=n(368)},1348:function(e,t){e.exports=n(370)},1349:function(e,t){e.exports=n(371)},1350:function(e,t){e.exports=n(372)},1351:function(e,t){e.exports=n(373)},1352:function(e,t){e.exports=n(374)},1353:function(e,t){e.exports=n(375)},1354:function(e,t){e.exports=n(376)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1525),e.exports=n(1525)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1525:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e=kendo.spreadsheet,t=e.CellRef,n=e.RangeRef,r=e.UnionRef,o=e.NameRef,l=e.Ref,c=kendo.Class.extend({init:function(e){this.workbook=e},getRefCells:function(e,c,h,d,f,m){var v,_,w,i;if(e instanceof t)return(v=this.workbook.sheetByName(e.sheet))&&e.valid()?(_=v.formula(e),w=v.range(e.row,e.col).value(),m||null!=_||null!=w?[{formula:_,value:w,row:e.row,col:e.col,sheet:e.sheet,hidden:!!c&&(0===v.columnWidth(e.col)||0===v.rowHeight(e.row))}]:[]):[{value:new kendo.spreadsheet.calc.runtime.CalcError("REF")}];if(e instanceof n){var y=[],x=i=this.workbook.sheetIndex(e.sheet);if(e.endSheet&&i>(x=this.workbook.sheetIndex(e.endSheet))){var k=i;i=x,x=k}if(i<0||x<0||!e.valid())return[{value:new kendo.spreadsheet.calc.runtime.CalcError("REF")}];for(;i<=x;)for(var C=(v=this.workbook.sheetByIndex(i++))._grid.normalize(e.topLeft),br=v._grid.normalize(e.bottomRight),S=v._grid.cellRefIndex(C),T=v._grid.cellRefIndex(br),D=v._properties.iterator("value",S,T),col=C.col;col<=br.col;++col)for(var E=C.row;E<=br.row;++E){var A=v._grid.index(E,col);_=v._properties.get("formula",A),w=D.at(A),(m||null!=_||null!=w)&&y.push({formula:_,value:w,row:E,col:col,sheet:v.name(),hidden:!!c&&(0===v.columnWidth(col)||0===v.rowHeight(E))})}return y}if(e instanceof r){var a=[];for(i=0;i<e.refs.length;++i)a=a.concat(this.getRefCells(e.refs[i],c,h,d,f));return a}if(e instanceof o){var I=this.nameValue(e,h,d,f);return I instanceof l?this.getRefCells(I,c,h,d,f):[{value:null==I?new kendo.spreadsheet.calc.runtime.CalcError("NAME"):I}]}return[]},nameValue:function(e,t,n,r){var o;return e.hasSheet()?o=this.workbook.nameValue(e.print()):(e=e.clone().setSheet(t,!0),null==(o=this.workbook.nameValue(e.print()))&&(o=this.workbook.nameValue(e.name))),o instanceof l&&(o=o.absolute(n,r)),o},getData:function(e,n,r,l,c){var h=e instanceof t;e instanceof o&&(h=this.workbook.nameValue(e.name)instanceof t);var data=this.getRefCells(e,!1,n,r,l,c).map((function(e){var t=e.value;return t instanceof kendo.spreadsheet.calc.runtime.Formula&&(t=t.value),t}));return h?data[0]:data},onFormula:function(e){var t=this.workbook.sheetByName(e.sheet),n=e.row,col=e.col,r=e.value;if(t.formula({row:n,col:col})!==e)return!1;var o=e.arrayFormulaRange;if(o){var c,h,d=r.width,f=r.height;t.forEach(o,(function(e,col){void 0===c&&(c=e,h=col);var n,o=e-c,l=col-h;n=o<f&&l<d?r.get(o,l):new kendo.spreadsheet.calc.runtime.CalcError("N/A"),t._value(e,col,n)}))}else r instanceof l&&(r=this.getData(r,e.sheet,n,col),Array.isArray(r)&&(r=r[0]),void 0===r&&(r=null)),r instanceof kendo.spreadsheet.calc.runtime.Matrix&&(r=r.get(0,0)),t._value(n,col,r);return clearTimeout(t._formulaContextRefresh),t._formulaContextRefresh=setTimeout((function(){t.batch((function(){}),{layout:!0})}),50),!0}}),h=c.extend({onFormula:function(){return!0}});e.FormulaContext=c,e.ValidationFormulaContext=h}})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1506),e.exports=n(1506)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},943:function(e,t){e.exports=n(21)},1486:function(e,t){e.exports=n(26)},1506:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1486),n(943),n(1507),n(1508)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n="autoFill",r="clear",o="cut",l="edit",c="paste",h="validation",d=e.spreadsheet.Command=e.Class.extend({init:function(e){this.options=e,this._workbook=e.workbook,this._property=e&&e.property,this._state={}},range:function(e){return void 0!==e&&this._setRange(e),this._range},_setRange:function(e){this._range=e},redo:function(){this.range().select(),this.exec()},undo:function(){this.setState(this._state)},getState:function(){this._state=this.range().getState(this._property)},setState:function(e){this.range().setState(e)},rejectState:function(e){return this.undo(),{title:e.title,body:e.message,reason:"error",type:"validationError"}},_forEachCell:function(e){var t=this.range();t._ref.forEach(function(n){t.sheet().forEach(n.toRangeRef(),e.bind(this))}.bind(this))},usesImage:function(){return!1}});e.spreadsheet.DrawingUpdateCommand=d.extend({init:function(e){this._sheet=e.sheet,this._drawing=e.drawing,this._orig=this._drawing.clone(),this._previous=e.previous},exec:function(){},undo:function(){this._drawing.reset(this._previous),this._sheet._activeDrawing=this._drawing,this._sheet.triggerChange({layout:!0})},redo:function(){this._drawing.reset(this._orig),this._sheet._activeDrawing=this._drawing,this._sheet.triggerChange({layout:!0})},usesImage:function(img){return this._drawing.image===img||this._orig.image===img||this._previous.image===img}});var f=d.extend({init:function(e){d.fn.init.call(this,e),this._drawing=e.drawing},usesImage:function(img){return this._drawing.image===img}});e.spreadsheet.InsertImageCommand=f.extend({init:function(e){f.fn.init.call(this,e),this._blob=e.blob,this._width=e.width,this._height=e.height},exec:function(){var e=this.range(),t=e.sheet(),n=this._width,r=this._height,o=n/r;n>r?r=(n=Math.min(n,300))/o:n=(r=Math.min(r,300))*o,this._drawing=t.addDrawing({topLeftCell:e.topLeft(),offsetX:5,offsetY:5,width:n,height:r,opacity:1,image:this._workbook.addImage(this._blob)},!0),this._blob=null},undo:function(){var e=this.range().sheet();e._activeDrawing=null,e.removeDrawing(this._drawing)},redo:function(){var e=this.range().sheet();e._activeDrawing=this._drawing,e.addDrawing(this._drawing)}}),e.spreadsheet.DeleteDrawingCommand=f.extend({exec:function(){var e=this.range().sheet();e._activeDrawing=null,e.removeDrawing(this._drawing)},undo:function(){var e=this.range().sheet();e._activeDrawing=this._drawing,e.addDrawing(this._drawing)},redo:function(){this.exec()}});var m=f.extend({exec:function(){var e=this.range().sheet();this._origIndex=e._drawings.indexOf(this._drawing),e._drawings.splice(this._origIndex,1),this._newIndex=this._reorder(),e._drawings.splice(this._newIndex,0,this._drawing),e.triggerChange({drawings:!0})},undo:function(){var e=this.range().sheet();e._drawings.splice(this._newIndex,1),e._drawings.splice(this._origIndex,0,this._drawing),e.triggerChange({drawings:!0})}});e.spreadsheet.BringToFrontCommand=m.extend({_reorder:function(){return this.range().sheet()._drawings.length}}),e.spreadsheet.SendToBackCommand=m.extend({_reorder:function(){return 0}});var v=d.extend({init:function(e){d.fn.init.call(this,e),this._target=e.target,this._value=e.value},exec:function(){this.getState(),this.setState(this._value)}});e.spreadsheet.ColumnWidthCommand=v.extend({getState:function(){this._state=this.range().sheet().columnWidth(this._target)},setState:function(e){this.range().sheet().columnWidth(this._target,e)}}),e.spreadsheet.RowHeightCommand=v.extend({getState:function(){this._state=this.range().sheet().rowHeight(this._target)},setState:function(e){this.range().sheet().rowHeight(this._target,e)}}),e.spreadsheet.HyperlinkCommand=d.extend({init:function(e){d.fn.init.call(this,e),this._link=e.link},exec:function(){var e=this.range();this._prevLink=e.link(),this._prevUnderline=e.underline(),e.link(this._link),e.underline(!0),null==e.value()&&(this._hasSetValue=!0,e.value(this._link))},undo:function(){var e=this.range();e.link(this._prevLink),e.underline(this._prevUnderline),this._hasSetValue&&e.value(null)}}),e.spreadsheet.GridLinesChangeCommand=v.extend({getState:function(){this._state=this._range.sheet().showGridLines()},setState:function(e){this._range.sheet().showGridLines(e)}});var _=e.spreadsheet.PropertyChangeCommand=d.extend({_setRange:function(e){d.prototype._setRange.call(this,e.skipHiddenCells())},init:function(e){d.fn.init.call(this,e),this._value=e.value},exec:function(){var e=this.range();e.enable()&&(this.getState(),"format"===this.options.property&&this._workbook.trigger("changeFormat",{range:e}),e[this._property](this._value))}});e.spreadsheet.ClearContentCommand=d.extend({exec:function(){var e,t,n,o,l,c=[];return this.range().enable()?this.range().canEditArrayFormula()?(this.getState(),(e=this.range().skipHiddenCells())._ref.refs&&e._ref.refs.length>1?e._ref.refs.forEach((function(t){l=e.sheet().range(t),c=c.concat(l.values())})):c=e.values(),n=[],c.forEach((function(e){t=[],e.forEach((function(){t.push(null)})),n.push(t)})),e.sheet().trigger("changing",{data:n,range:e,changeType:r})?void 0:(e.clearContent(),(o=e._getValidationState())?this.rejectState(o):void 0)):{reason:"error",type:"intersectsArray"}:{reason:"error",type:"cannotModifyDisabled"}},undo:function(){var e,t=this.range().skipHiddenCells(),n=t.sheet(),data=this._state.data,o=[];data.forEach((function(t){e=[],t.forEach((function(t){e.push(t.value)})),o.push(e)})),n.trigger("changing",{data:o,range:t,changeType:r})||this.setState(this._state)}}),e.spreadsheet.EditCommand=_.extend({init:function(e){e.property=e.property||"input",_.fn.init.call(this,e)},_setRange:function(e){_.prototype._setRange.apply(this,arguments),this._editRange=this.options.arrayFormula?e:e.sheet().activeCellSelection()},getState:function(){this._state=this.range().getState()},exec:function(){return this.range().sheet().withCultureDecimals(this._exec.bind(this))},undo:function(){var e=this._editRange,t=this._state;e.sheet().trigger("changing",{data:t.data[0][0].value,range:e,changeType:l})||this.setState(this._state)},_exec:function(){var t=this.options.arrayFormula,n=this._editRange;if(!n.enable())return{reason:"error",type:"rangeDisabled"};if(!n.canEditArrayFormula())return{reason:"error",type:"intersectsArray"};var r=this._value;if(this.getState(),!this.range().sheet().trigger("changing",{data:r,range:this._editRange,changeType:l}))if("value"!=this._property)try{n.link(null),""===r?n.value(null):(n.input(r,{arrayFormula:t}),/\n/.test(n.value())&&n.wrap(!0)),n._adjustRowHeight();var o=n._getValidationState();if(o)return this.rejectState(o)}catch(t){if(t instanceof e.spreadsheet.calc.ParseError)return{title:"Error in formula",body:t+"",reason:"error"};throw t}else n.value(r)}}),e.spreadsheet.InsertCommentCommand=_.extend({init:function(e){e.property="comment",_.fn.init.call(this,e)}}),e.spreadsheet.TextWrapCommand=_.extend({init:function(e){e.property="wrap",_.fn.init.call(this,e),this._value=e.value},getState:function(){var e={};this.range().forEachRow((function(t){var n=t.topLeft().row;e[n]=t.sheet().rowHeight(n)})),this._state=this.range().getState(this._property),this._rowHeight=e},undo:function(){var e=this.range().sheet(),t=this._rowHeight;for(var n in this.range().setState(this._state),t)e.rowHeight(n,t[n])}}),e.spreadsheet.AdjustDecimalsCommand=d.extend({init:function(e){this._delta=e.value,e.property="format",d.fn.init.call(this,e)},exec:function(){var t=this.range().sheet(),n=this._delta,r=e.spreadsheet.formatting;this.getState(),t.batch(function(){this.range().forEachCell((function(e,col,o){var l=o.format;if(!l){var c=o.value;"number"==typeof c&&/\./.test(c)&&(l="0."+String(c).split(".")[1].replace(/\d/g,"0"))}(l||n>0)&&(l=r.adjustDecimals(l||"0",n),t.range(e,col).format(l))}))}.bind(this))}}),e.spreadsheet.BorderChangeCommand=d.extend({init:function(e){e.property="border",d.fn.init.call(this,e),this._type=e.border,this._style=e.style},_batch:function(e){return this.range().sheet().batch(e,{})},exec:function(){var e=this;e.getState(),e._batch((function(){e[e._type](e._style)}))},noBorders:function(){this.range().insideBorders(null),this.outsideBorders(null)},allBorders:function(style){this.range().insideBorders(style),this.outsideBorders(style)},leftBorder:function(style){this.range().leftColumn().borderLeft(style)},rightBorder:function(style){this.range().rightColumn().borderRight(style)},topBorder:function(style){this.range().topRow().borderTop(style)},bottomBorder:function(style){this.range().bottomRow().borderBottom(style)},outsideBorders:function(style){var e=this.range();e.leftColumn().borderLeft(style),e.topRow().borderTop(style),e.rightColumn().borderRight(style),e.bottomRow().borderBottom(style)},insideBorders:function(style){this.range().insideBorders(style),this.outsideBorders(null)},insideHorizontalBorders:function(style){this.range().insideHorizontalBorders(style)},insideVerticalBorders:function(style){this.range().insideVerticalBorders(style)}}),e.spreadsheet.MergeCellCommand=d.extend({init:function(e){d.fn.init.call(this,e),this._type=e.value},exec:function(){this.getState(),this[this._type]()},activate:function(e){this.range().sheet().activeCell(e)},getState:function(){this._state=this.range().getState()},undo:function(){"unmerge"!==this._type&&(this.range().unmerge(),this.activate(this.range().topLeft())),this.range().setState(this._state)},cells:function(){var e=this.range(),t=e._ref;e.merge(),this.activate(t)},horizontally:function(){var e=this.range().topRow()._ref;this.range().forEachRow((function(e){e.merge()})),this.activate(e)},vertically:function(){var e=this.range().leftColumn()._ref;this.range().forEachColumn((function(e){e.merge()})),this.activate(e)},unmerge:function(){var e=this.range(),t=e._ref.topLeft;e.unmerge(),this.activate(t)}}),e.spreadsheet.FreezePanesCommand=d.extend({init:function(e){d.fn.init.call(this,e),this._type=e.value},exec:function(){this.getState(),this._topLeft=this.range().topLeft(),this[this._type]()},getState:function(){this._state=this.range().sheet().getState()},undo:function(){this.range().sheet().setState(this._state)},panes:function(){var e=this._topLeft;this.range().sheet().frozenColumns(e.col).frozenRows(e.row)},rows:function(){var e=this._topLeft;this.range().sheet().frozenRows(e.row)},columns:function(){var e=this._topLeft;this.range().sheet().frozenColumns(e.col)},unfreeze:function(){this.range().sheet().frozenRows(0).frozenColumns(0)}}),e.spreadsheet.PasteCommand=d.extend({init:function(e){d.fn.init.call(this,e),this._clipboard=e.workbook.clipboard(),this._clipboard.parse(),this._event=e.event,this._clipboardContent=this._clipboard._content,this._clipboardPasteRef=this._clipboard.pasteRef(),this._sheet=this._workbook.activeSheet(),this._range=this._sheet.range(this._clipboard.pasteRef()),this._state=this._range.getState()},exec:function(){return this.range().sheet().withCultureDecimals(this._exec.bind(this))},undo:function(){var e=this._sheet,t=e.range(this._clipboardPasteRef);e.trigger("changing",{data:this._state.data,range:t,changeType:c})||this.setState(this._state)},_exec:function(){var e=this._clipboard.canPaste();if(!e.canPaste)return e.menuInvoked?{reason:"error",type:"useKeyboard"}:e.pasteOnMerged?{reason:"error",type:"modifyMerged"}:e.overflow?{reason:"error",type:"overflow"}:e.pasteOnDisabled?(this._event.preventDefault(),{reason:"error",type:"cannotModifyDisabled"}):{reason:"error"};var t=this._sheet.range(this._clipboardPasteRef);this._workbook.trigger("paste",{range:t,clipboardContent:this._clipboardContent})||this._sheet.trigger("changing",{data:this._clipboardContent.data,range:t,changeType:c})?this._event.preventDefault():(this._sheet.range(this._clipboardPasteRef).setState(this._clipboardContent,this._clipboard),t._adjustRowHeight())}}),e.spreadsheet.AdjustRowHeightCommand=d.extend({exec:function(){var e=this.options,t=this._workbook.activeSheet();(e.range||t.range(e.rowIndex))._adjustRowHeight()}}),e.spreadsheet.ToolbarPasteCommand=d.extend({exec:function(){if(!e.support.clipboard.paste)return{reason:"error",type:"useKeyboard"};this._workbook._view.clipboard.focus().select(),document.execCommand("paste")}}),e.spreadsheet.CutCommand=d.extend({_eventType:"cut",init:function(e){d.fn.init.call(this,e),this._clipboard=e.workbook.clipboard(),this._event=e.event},exec:function(){var e,t=this._clipboard.canCopy(),data=[];if(!t.canCopy)return t.menuInvoked?{reason:"error",type:"useKeyboard"}:t.multiSelection?{reason:"error",type:"unsupportedSelection"}:void 0;var n=this._workbook.activeSheet().selection();if("cut"==this._eventType){if(!n.enable())return this._event.preventDefault(),{reason:"error",type:"cannotModifyDisabled"};this.getState()}if(this._workbook.trigger(this._eventType,{range:n}))this._event.preventDefault();else if("cut"==this._eventType){if(n.values().forEach((function(t){e=[],t.forEach((function(){e.push({})})),data.push(e)})),n.sheet().trigger("changing",{data:data,range:n,changeType:o}))return;this._clipboard.cut()}else this._clipboard.copy()},undo:function(){var e=this.range();e.sheet().trigger("changing",{data:this._state.data,range:e,changeType:o})||this.setState(this._state)}}),e.spreadsheet.CopyCommand=e.spreadsheet.CutCommand.extend({_eventType:"copy",undo:t.noop}),e.spreadsheet.ToolbarCopyCommand=d.extend({init:function(e){d.fn.init.call(this,e),this._clipboard=e.workbook.clipboard()},undo:t.noop,exec:function(){if(!e.support.clipboard.copy)return{reason:"error",type:"useKeyboard"};var t=this._workbook._view.clipboard;C(t.html()),t.trigger("copy")}}),e.spreadsheet.AutoFillCommand=d.extend({init:function(e){d.fn.init.call(this,e)},origin:function(e){this._origin=e},exec:function(){var t,r=this.range();if(!r.enable())return{reason:"error",type:"rangeDisabled"};if(r.intersectingArrayFormula())return{reason:"error",type:"intersectsArray"};this.getState();try{if(t=r._previewFillFrom(this._origin),r.sheet().trigger("changing",{data:t.props,range:t.dest,changeType:n}))return;t.dest._properties(t.props,!0)}catch(t){if(t instanceof e.spreadsheet.Range.FillError)return{reason:"error",type:t.code};throw t}},undo:function(){var e=this.range(),t=this._state;e.sheet().trigger("changing",{data:t.data,range:e,changeType:n})||this.setState(this._state)}}),e.spreadsheet.ToolbarCutCommand=d.extend({cannotUndo:!0,init:function(e){d.fn.init.call(this,e),this._clipboard=e.workbook.clipboard()},exec:function(){if(!e.support.clipboard.copy)return{reason:"error",type:"useKeyboard"};var t=this._workbook._view.clipboard;C(t.html()),t.trigger("cut")}}),e.spreadsheet.FilterCommand=d.extend({undo:function(){this.range().filter(this._state)},exec:function(){var e=this.range();this._state=e.hasFilter(),e.filter(!this._state)}}),e.spreadsheet.SortCommand=d.extend({undo:function(){this.range().sheet().setState(this._state)},exec:function(){var e=this.range(),t=e.sheet(),n=t.activeCell(),col=this.options.sheet?n.topLeft.col:this.options.column||0,r="asc"===this.options.value;this._state=t.getState(),this.options.sheet&&(e=this.expandRange());var o=e.cantSort();if(o)return{reason:"error",type:o.code};e.sort({column:col,ascending:r})},expandRange:function(){var t=this.range().sheet();return new e.spreadsheet.Range(t._sheetRef,t)}});var w=e.spreadsheet.ApplyFilterCommand=d.extend({column:function(){return this.options.column||0},undo:function(){this.range().sheet().clearFilter(this.column()),this._state.length&&this.range().filter(this._state)},getState:function(){var e=this.range().sheet().filter();e&&(this._state=e.columns.filter(function(e){return e.index==this.column()}.bind(this)))},exec:function(){var t,n,r=this.range(),o=this.column(),l=r.sheet().filter(),c=!1;this.options.valueFilter?n={column:o,filter:new e.spreadsheet.ValueFilter(this.options.valueFilter)}:this.options.customFilter&&(n={column:o,filter:new e.spreadsheet.CustomFilter(this.options.customFilter)}),this.getState(),l&&l.ref.eq(r._ref)&&l.columns.length?(l.columns.forEach((function(element){element.index===o&&(c=!0)})),t=l.columns.map((function(element){return element.index===o?n:{column:element.index,filter:element.filter}})),c||t.push(n)):t=n,r.filter(t)}});e.spreadsheet.ClearFilterCommand=w.extend({exec:function(){var e=this.range(),t=this.column();this.getState(),e.clearFilter(t)}}),e.spreadsheet.HideLineCommand=d.extend({init:function(e){d.fn.init.call(this,e),this.axis=e.axis},undo:function(){this.range().sheet().setAxisState(this._state)},exec:function(){var e=this.range().sheet();this._state=e.getAxisState(),"row"==this.axis?e.axisManager().hideSelectedRows():e.axisManager().hideSelectedColumns()}}),e.spreadsheet.UnHideLineCommand=e.spreadsheet.HideLineCommand.extend({exec:function(){var e=this.range().sheet();this._state=e.getAxisState(),"row"==this.axis?e.axisManager().unhideSelectedRows():e.axisManager().unhideSelectedColumns()}});var y=d.extend({exec:function(){this._expandedRange=this._expand(this.range()),this._state=this._expandedRange.getState(),this._indexes=this._exec(this._expandedRange.sheet())},undo:function(){var e=this,t=e._expandedRange,n=t.sheet();n.batch((function(){e._indexes.forEach((function(t){e._undoOne(n,t),n._restoreModifiedFormulas(t.formulas)})),t.setState(e._state)}),{layout:!0,recalc:!0,ref:t._ref})}});e.spreadsheet.DeleteRowCommand=y.extend({_expand:function(e){return e.resize({left:-1/0,right:1/0})},_exec:function(e){return e.axisManager().deleteSelectedRows()},_undoOne:function(e,t){e.insertRow(t.index),e.rowHeight(t.index,t.height)}}),e.spreadsheet.DeleteColumnCommand=y.extend({_expand:function(e){return e.resize({top:-1/0,bottom:1/0})},_exec:function(e){return e.axisManager().deleteSelectedColumns()},_undoOne:function(e,t){e.insertColumn(t.index),e.columnWidth(t.index,t.width)}});var x=d.extend({init:function(e){d.fn.init.call(this,e),this._value=e.value},undo:function(){var e=this,t=e.range().sheet();t.batch((function(){for(var i=e._pos.count;--i>=0;)e._undoOne(t,e._pos.base)}),{layout:!0,recalc:!0})}});e.spreadsheet.AddColumnCommand=x.extend({exec:function(){var e=this.range().sheet(),t=e.axisManager().preventAddColumn();if(t)return t;"left"===this._value?this._pos=e.axisManager().addColumnLeft():this._pos=e.axisManager().addColumnRight()},_undoOne:function(e,t){e.deleteColumn(t)}}),e.spreadsheet.AddRowCommand=x.extend({exec:function(){var e=this.range().sheet(),t=e.axisManager().preventAddRow();if(t)return t;"above"===this._value?this._pos=e.axisManager().addRowAbove():this._pos=e.axisManager().addRowBelow()},_undoOne:function(e,t){e.deleteRow(t)}}),e.spreadsheet.EditValidationCommand=d.extend({init:function(e){d.fn.init.call(this,e),this._value=e.value},exec:function(){var e=this,t=e.range().sheet();this.getState(),t.trigger("changing",{data:e._value,range:e.range(),changeType:h})||t.withCultureDecimals((function(){e.range().validation(e._value)}))},undo:function(){var e=this.range(),t=this._state;e.sheet().trigger("changing",{data:t.data[0][0].validation,range:e,changeType:h})||this.setState(this._state)}}),e.spreadsheet.OpenCommand=d.extend({cannotUndo:!0,exec:function(){if(null===this.options.file.name.match(/.xlsx$/i))return{reason:"error",type:"openUnsupported"};var e=this.options.workbook;e.fromFile(this.options.file).then((function(){var t=e.excelImportErrors;t&&t.length&&e._view.openDialog("importError",{errors:t})}))}}),e.spreadsheet.SaveAsCommand=d.extend({cannotUndo:!0,exec:function(){var e=this.options.name+this.options.extension;".xlsx"===this.options.extension?this.options.workbook.saveAsExcel({fileName:e}):".pdf"===this.options.extension&&this.options.workbook.saveAsPDF(t.extend(this.options.pdf,{workbook:this.options.workbook,fileName:e}))}});var k=d.extend({init:function(e){d.fn.init.call(this,e),this._name=e.name,this._value=e.value},getState:function(){this._state=this._workbook.nameDefinition(this._name)},setState:function(){this._workbook.nameDefinition(this._name,this._state),this._workbook.trigger("change",{recalc:!0})}});e.spreadsheet.DefineNameCommand=k.extend({exec:function(){this.getState();try{this._workbook.defineName(this._name,this._value),this._workbook.trigger("change",{recalc:!0})}catch(e){return{title:"Error",body:e+"",reason:"error"}}}}),e.spreadsheet.DeleteNameCommand=k.extend({exec:function(){this.getState(),this._workbook.undefineName(this._name),this._workbook.trigger("change",{recalc:!0})}})}function C(html){var textarea=document.createElement("textarea");t(textarea).addClass("k-spreadsheet-clipboard").val(html).appendTo(document.body).focus().select(),document.execCommand("copy"),t(textarea).remove()}}(kendo)})?r.apply(t,o):r)||(e.exports=l)},1507:function(e,t){e.exports=n(49)},1508:function(e,t){e.exports=n(138)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1524),e.exports=n(1524)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1524:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.ui.Widget.extend({init:function(element,r){e.ui.Widget.call(this,element,r),element=this.element.addClass(n.classNames.wrapper),this.formulaInput=new e.spreadsheet.FormulaInput(t("<div/>").appendTo(element))},destroy:function(){this.formulaInput&&this.formulaInput.destroy(),this.formulaInput=null}});e.spreadsheet.FormulaBar=n,t.extend(!0,n,{classNames:{wrapper:"k-spreadsheet-formula-bar"}})}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1526),e.exports=n(1526)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1526:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e,t){if(!(e.support.browser.msie&&e.support.browser.version<9)){var n=e.jQuery,r=e.ui.Widget,o=".kendoFormulaInput",l=e.keys,c=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],h={27:"esc",37:"left",39:"right",35:"end",36:"home",32:"spacebar"},d=/(^_|[^a-z0-9]$)/i,f=r.extend({init:function(element,e){r.call(this,element,e),(element=this.element).addClass(f.classNames.wrapper).attr("contenteditable",!0).attr("spellcheck",!1).css("white-space","pre"),this.options.autoScale&&element.on("input",this.scale.bind(this)),this._highlightedRefs=[],this._staticTokens=[],this._formulaSource(),this._formulaList(),this._popup(),this._tooltip(),element.on("keydown",this._keydown.bind(this)).on("keyup",this._keyup.bind(this)).on("blur",this._blur.bind(this)).on("input click",this._input.bind(this)).on("focus",this._focus.bind(this)).on("paste",this._paste.bind(this))},options:{name:"FormulaInput",autoScale:!1,filterOperator:"startswith",scalePadding:30,minLength:1},events:["keyup","focus"],enable:function(e){if(void 0===e)return"true"===this.element.attr("contenteditable");e?this.element.attr("contenteditable",e):this.element.removeAttr("contenteditable"),this.element.toggleClass("k-state-disabled",!e)},getPos:function(){var div=this.element[0],e=t.getSelection(),a=r(e.focusNode,e.focusOffset),b=r(e.anchorNode,e.anchorOffset);if(null!=a&&null!=b){if(a>b){var n=a;a=b,b=n}return{begin:a,end:b,collapsed:a==b}}function r(e,t){try{!function n(r){if(r===e)throw t;if(1==r.nodeType)for(var i=r.firstChild;i;i=i.nextSibling)n(i);else 3==r.nodeType&&(t+=r.nodeValue.length)}(div)}catch(e){return e}}},setPos:function(e,n){var a,b,r=this.element[0];if(e=h(r,e),n=null!=n?h(r,n):e,e&&n){var o=document.createRange();o.setStart(e.node,e.pos),o.setEnd(n.node,n.pos);var l=t.getSelection(),c=l.getRangeAt(0);b=c,((a=o).startOffset!=b.startOffset||a.endOffset!=b.endOffset||a.startContainer!=b.endContainer||a.endContainer!=b.endContainer)&&(l.removeAllRanges(),l.addRange(o))}function h(e,t){try{!function e(n){if(3==n.nodeType){var r=n.nodeValue.length;if(r>=t)throw n;t-=r}else if(1==n.nodeType)for(var i=n.firstChild;i;i=i.nextSibling)e(i)}(e)}catch(e){return{node:e,pos:t}}}},end:function(){this.setPos(this.length())},home:function(){this.setPos(0)},select:function(){this.setPos(0,this.length())},length:function(){return this.value().length},_formulaSource:function(){var t,n=[];for(var r in e.spreadsheet.calc.runtime.FUNCS)d.test(r)||(t=r.toUpperCase(),n.push({value:t,text:t}));this.formulaSource=new e.data.DataSource({data:n})},_formulaList:function(){this.list=new e.ui.StaticList(n("<ul />").addClass(f.classNames.listWrapper).insertAfter(this.element),{autoBind:!1,selectable:!0,change:this._formulaListChange.bind(this),dataSource:this.formulaSource,dataValueField:"value",template:"#:data.value#"}),this.list.element.on("mousedown",(function(e){e.preventDefault()}))},_formulaListChange:function(){var e=this._tokenContext();if(e&&!this._mute){var t=e.token,n=this.list.value()[0],r={replace:!0,token:t,end:t.end};e.nextToken&&"("==e.nextToken.value||(n+="("),this._replaceAt(r,n),this.popup.close()}},_popup:function(){this.popup=new e.ui.Popup(this.list.element,{anchor:this.element})},_blur:function(){this.popup.close(),clearTimeout(this._focusId),this.trigger("blur")},_isFormula:function(){return/^=/.test(this.value())},_keydown:function(e){var t=e.keyCode;h[t]?(this.popup.close(),this._navigated=!0):this._move(t)&&(this._navigated=!0,e.preventDefault()),this._keyDownTimeout=setTimeout(this._syntaxHighlight.bind(this))},_keyup:function(){var e,t=this.popup;this._isFormula()&&!this._navigated&&(e=((this._tokenContext()||{}).token||{}).value,this.filter(e),e&&this.formulaSource.view().length?(t[t.visible()?"position":"open"](),this.list.focusFirst()):t.close()),this._navigated=!1,this._syntaxHighlight(),this.trigger("keyup")},_input:function(){this._syntaxHighlight()},_focus:function(){setTimeout(this._sync.bind(this)),this._focusTimeout=setTimeout(this._syntaxHighlight.bind(this)),this.trigger("focus")},_paste:function(n){n.preventDefault();var text,r=this.getPos();text=e.support.browser.msie?t.clipboardData.getData("Text"):n.originalEvent.clipboardData.getData("text/plain");var o=this.value();o=o.substr(0,r.begin)+text+o.substr(r.end),this.value(o),this.setPos(r.begin+text.length),this.scale()},_move:function(e){var t=this.list,n=this.popup;if(n.visible()){if(e===l.DOWN)return t.focusNext(),t.focus()||t.focusFirst(),!0;if(e===l.UP)return t.focusPrev(),t.focus()||t.focusLast(),!0;if(e===l.ENTER)return t.select(t.focus()),n.close(),!0;if(e===l.TAB)return t.select(t.focus()),n.close(),!0;if(e===l.PAGEUP)return t.focusFirst(),!0;if(e===l.PAGEDOWN)return t.focusLast(),!0}return e===l.ENTER||e===l.TAB},_tokenContext:function(){var t=this.getPos(),n=this.value();if(!n||!t||!t.collapsed)return null;for(var r,o=e.spreadsheet.calc.tokenize(n,this.row(),this.col()),i=0;i<o.length;++i)if(v(r=o[i],t)&&/^(?:str|sym|func)$/.test(r.type))return{token:r,nextToken:o[i+1]};return null},_sync:function(){this._editorToSync&&this.isActive()&&this._editorToSync.value(this.value())},_textContainer:function(){var t=e.getComputedStyles(this.element[0],c);t.position="absolute",t.visibility="hidden",t.whiteSpace="pre",t.top=-3333,t.left=-3333,this._span=n("<span style='white-space: pre'/>").css(t).insertAfter(this.element)},_tooltip:function(){this._cellTooltip=n('<div class="k-widget k-tooltip" style="position:absolute; display:none">A1</div>').insertAfter(this.element)},tooltip:function(e){this._cellTooltip.text(e)},toggleTooltip:function(e){this._cellTooltip.toggle(e)},isActive:function(){return this.element[0]===e._activeElement()},filter:function(e){!e||e.length<this.options.minLength||(this._mute=!0,this.list.select(-1),this._mute=!1,this.formulaSource.filter({field:this.list.options.dataValueField,operator:this.options.filterOperator,value:e}))},hide:function(){this.enable(!1),this.element.hide(),this._cellTooltip.hide()},show:function(){this.enable(!0),this.element.show()},row:function(){if(this.activeCell)return this.activeCell.row},col:function(){if(this.activeCell)return this.activeCell.col},position:function(e){e&&(this.show(),this.element.css({top:e.top+1+"px",left:e.left+1+"px"}),this._cellTooltip.css({top:e.top-this._cellTooltip.height()-10+"px",left:e.left}))},resize:function(e){e&&this.element.css({width:e.width-1,height:e.height-1})},canInsertRef:function(e){var t,n,r,o=this._canInsertRef(e),l=o&&o.token;if(l)for(t=0;t<this._staticTokens.length;t++)if(n=l,r=this._staticTokens[t],n&&r&&("ref"==n.type&&"ref"==r.type?n.ref.eq(r.ref):n.value===r.value))return null;return o},_canInsertRef:function(t){if(this.popup.visible())return null;var n,r,o=t,l=this.getPos();if(l&&this._isFormula()){if(0===l.begin)return null;n=e.spreadsheet.calc.tokenize(this.value(),this.row(),this.col());for(var i=0;i<n.length;++i){if(v(r=n[i],l))return h(r);if(c(r))return d(n[i-1],r)}return d(r,null)}return null;function c(e){return e.begin>l.begin}function h(e){if(e){if(/^(?:num|str|bool|sym|ref)$/.test(e.type))return{replace:!0,token:e,end:e.end};if(/^(?:op|punc|startexp)$/.test(e.type))return e.end==l.end?d(e,n[i+1]):d(n[i-1],e)}}function d(e,t){if(null==e)return null;if(null==t)return/^(?:op|startexp)$/.test(e.type)||m(e.value)?{token:e,end:l.end}:null;if(o){if("op"==e.type&&/^(?:punc|op)$/.test(t.type))return{token:e,end:l.end}}else{if("startexp"==e.type)return{token:e,end:l.end};if(/^(?:op|punc)$/.test(e.type)&&/^[,;({]$/.test(e.value))return{token:e,end:l.end};if(/^(?:ref|sym)/.test(e.type))return{token:e,replace:!0,end:e.end};if(/^(?:ref|sym)/.test(t.type))return{token:t,replace:!0,end:t.end}}return!1}},refAtPoint:function(e){var t=this._canInsertRef();if(t){var n=e.selection()._ref.simplify().clone().relative(0,0,3);e!==this.activeSheet&&(n=n.setSheet(e.name(),!0)),this._replaceAt(t,n.print(0,0))}},_replaceAt:function(e,t){var n=this.value(),r=e.token,o=n.substr(e.end),l=(n=n.substr(0,e.replace?r.begin:e.end)+t).length;n+=o,this._value(n),this.setPos(l),this.scale(),this._syntaxHighlight()},syncWith:function(t){var n,r="input"+o,l=this._sync.bind(this);e.support.browser.msie&&(r="keydown"+o,n=function(){setTimeout(l)}),this._editorToSync=t,this.element.off(r).on(r,n||l)},scale:function(){var e,t,element=this.element;this._span||this._textContainer(),this._span.html(element.html()),e=this._span.width()+this.options.scalePadding,t=this._span.height(),e>element.width()&&element.width(e),t>element.height()&&element.height(t),this._sync()},_value:function(e){this.element.text(e)},value:function(e){if(void 0===e)return this.element[0].innerText.replace(/\n$/,"");this._value(e),this._syntaxHighlight()},highlightedRefs:function(){return this._highlightedRefs.slice()},_syntaxHighlight:function(){var t,n=this.getPos(),r=this.value(),o=e.spreadsheet.Pane.classNames.series,l=[],c=0,h=[],d=[];if(!n||n.collapsed){if(!/^=/.test(r))return(this._staticTokens.length||this._highlightedRefs.length)&&(this._staticTokens=[],this._highlightedRefs=[],this.element.text(r)),void(this.popup&&this.popup.close());(d=e.spreadsheet.calc.tokenize(r,this.row(),this.col())).forEach((function(r){if(r.active=!1,r.cls=["k-syntax-"+r.type],"ref"==r.type&&(r.colorClass=o[c++%o.length],r.cls.push(r.colorClass),l.push(r)),n&&"punc"==r.type)if(m(r.value))h.unshift(r);else if(")"==(f=r.value)||"]"==f||"}"==f){var d=h.shift();d?function(e,t){return"("==t?")"==e:"["==t?"]"==e:"{"==t&&"}"==e}(r.value,d.value)?(v(r,n)||v(d,n))&&(r.cls.push("k-syntax-paren-match"),d.cls.push("k-syntax-paren-match")):(r.cls.push("k-syntax-error"),d.cls.push("k-syntax-error")):r.cls.push("k-syntax-error")}var f;n&&v(r,n)&&(r.cls.push("k-syntax-at-point"),r.active=!0,t=r),"func"!=r.type||function(t){return e.spreadsheet.calc.runtime.FUNCS[t.toLowerCase()]}(r.value)||n&&v(r,n)||r.cls.push("k-syntax-error")})),d.reverse().forEach((function(t){var n=t.begin,o=t.end,text=e.htmlEncode(r.substring(n,o));r=r.substr(0,n)+"<span class='"+t.cls.join(" ")+"'>"+text+"</span>"+r.substr(o)})),this.element.html(r),n&&this.setPos(n.begin,n.end),t&&/^(?:startexp|op|punc)$/.test(t.type)&&this._setStaticTokens(d),this._highlightedRefs=l}},_setStaticTokens:function(e){var t,n;for(this._staticTokens=[],t=0;t<e.length;t++)n=e[t],/^(?:num|str|bool|sym|ref)$/.test(n.type)&&this._staticTokens.push(n)},destroy:function(){this._editorToSync=null,this.element.off(o),clearTimeout(this._focusTimeout),clearTimeout(this._keyDownTimeout),this._cellTooltip=null,this._span=null,this.popup.destroy(),this.popup=null,r.fn.destroy.call(this)},insertNewline:function(){var e=this.value(),t=this.getPos(),n=t.end==e.length;e=e.substr(0,t.begin)+(n?"\n\n":"\n"+e.substr(t.end)),this.value(e),this.setPos(t.begin+1)}});e.spreadsheet.FormulaInput=f,n.extend(!0,f,{classNames:{wrapper:"k-spreadsheet-formula-input",listWrapper:"k-spreadsheet-formula-list"}})}function m(e){return"("==e||"["==e||"{"==e}function v(e,t){return e.begin<=t.begin&&e.end>=t.end}}(kendo,window)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1516),e.exports=n(1516)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1516:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n={8:"backspace",9:"tab",13:"enter",27:"esc",37:"left",38:"up",39:"right",40:"down",35:"end",36:"home",32:"spacebar",33:"pageup",34:"pagedown",46:"delete",113:":edit"},r=navigator.platform.toUpperCase().indexOf("MAC")>=0,o=e.Class.extend({init:function(e,n,r){if(this._handlers={},this.target=e,this._observer=n||window,this.keyDownProxy=this.keyDown.bind(this),this.mouseProxy=this.mouse.bind(this),this.touchProxy=this.touch.bind(this),this.threshold=5,this._pressLocation=null,e.on("keydown",this.keyDownProxy),e.on("contextmenu mousedown cut copy paste scroll wheel click dblclick focus",this.mouseProxy),e.on("touchmove touchend",this.touchProxy),t(document.documentElement).on("mousemove mouseup",this.mouseProxy),t(document.documentElement).on("touchmove touchend",this.touchProxy),r)for(var o in r)this.on(o,r[o])},keyDown:function(e){this.handleEvent(e,function(e){var t=e.keyCode,r=n[t];return!r&&function(e){return e>47&&e<58||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223||229===e}(t)&&(r=":alphanum"),!r&&e.key&&1==e.key.length&&(r=":alphanum"),r}(e.originalEvent))},touch:function(e){this.handleEvent(e,e.type)},mouse:function(e){var t;e.which?t=3==e.which:e.button&&(t=2==e.button);var n=e.type;if("mousedown"===n&&(t?n="rightmousedown":this._pressLocation={x:e.pageX,y:e.pageY}),"mouseup"===n&&(t||(this._pressLocation=null)),"mousemove"===n&&this._pressLocation){var r=this._pressLocation.x-e.pageX,o=this._pressLocation.y-e.pageY;Math.sqrt(r*r+o*o)>this.threshold&&(n="mousedrag")}this.handleEvent(e,n)},handleEvent:function(e,t){var n="";e.mod=r?e.metaKey:e.ctrlKey&&!e.altKey,e.altKey&&(n+="alt+"),e.shiftKey&&(n+="shift+"),e.ctrlKey&&(n+="ctrl+"),n+=t;var o=this._handlers["*+"+t];o&&o.call(this._observer,e,n);var l=this._handlers[n];l&&l.call(this._observer,e,n)},on:function(e,t){var n=this._handlers;"string"==typeof t&&(t=this._observer[t]),"string"==typeof e&&(e=e.split(",")),e.forEach((function(e){n[e]=t}))},destroy:function(){this.target.off("keydown",this.keyDownProxy),this.target.off("keydown",this.mouseProxy),t(document.documentElement).off("mousemove mouseup",this.mouseProxy)}});e.spreadsheet.EventListener=o}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1540),e.exports=n(1540)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1540:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.Class.extend({init:function(e,t,n,r){this.level=e,this.value=t,this.left=n,this.right=r}}),n=new function(){this.left=this,this.right=this,this.level=0},r=e.Class.extend({init:function(e,t,n){this.start=e,this.end=t,this.value=n},intersects:function(e){return e.start<=this.end&&e.end>=this.start},clone:function(){return new r(this.start,this.end,this.value)}}),o=e.Class.extend({init:function(){this.root=n},insert:function(e){this.root=function e(r,o){return r===n?new t(1,o,n,n):(r.value.start>o.start?r.left=e(r.left,o):r.right=e(r.right,o),f(d(r)))}(this.root,e)},remove:function(e){this.root=function e(t,r){if(t===n)return t;var o=t.value.start-r.start;if(0===o)if(t.left!==n&&t.right!==n){for(var l=t.left;l.right!==n;)l=l.right;t.value=l.value,t.left=e(t.left,t.value)}else t=t.left===n?t.right:t.left;else o>0?t.left=e(t.left,r):t.right=e(t.right,r);return(t.left.level<t.level-1||t.right.level<t.level-1)&&(t.level-=1,t.right.level>t.level&&(t.right.level=t.level),(t=d(t)).right=d(t.right),t.right.right=d(t.right.right),(t=f(t)).right=f(t.right)),t}(this.root,e)},findrange:function(e){for(var t=this.root;t!=n;)if(e<t.value.start)t=t.left;else{if(!(e>t.value.end))return t.value;t=t.right}return null},values:function(){var e=[];return function e(t,r){t!==n&&(e(t.left,r),r.push(t.value),e(t.right,r))}(this.root,e),e},intersecting:function(e,t){var o=[];return function e(t,r,o){if(t!==n){var l=t.value;r.start<l.start&&e(t.left,r,o),l.intersects(r)&&o.push(l),r.end>l.end&&e(t.right,r,o)}}(this.root,new r(e,t),o),o},map:function(e){var t=new o;return function map(e,t,r){t!==n&&(map(e,t.left,r),e.insert(r(t.value)),map(e,t.right,r))}(t,this.root,e),t},clone:function(){return this.map((function(e){return e.clone()}))},first:function(){for(var e=this.root;e.left!=n;)e=e.left;return e},last:function(){for(var e=this.root;e.right!=n;)e=e.right;return e}}),l=e.Class.extend({init:function(e,t,n){void 0===t?this.tree=e:(this.tree=new o,this.tree.insert(new r(e,t,n)))},values:function(){return this.tree.values()},map:function(e){return new l(this.tree.map(e))},intersecting:function(e,t){return this.tree.intersecting(e,t)},first:function(){return this.tree.first().value},last:function(){return this.tree.last().value},insert:function(e,t,n){return this.tree.insert(new r(e,t,n))},value:function(e,t,n){if(void 0===n)return void 0===t&&(t=e),this.intersecting(e,t)[0].value;var r=this.tree.intersecting(e-1,t+1);if(r.length){var o=r[0],l=r[r.length-1];o.end<e&&(o.value===n?e=o.start:r.shift()),l.start>t&&(l.value===n?t=l.end:r.pop());for(var i=0,c=r.length;i<c;i++){var h=r[i],d=h.value,f=h.start,m=h.end;this.tree.remove(h),f<e&&(d!==n?this.insert(f,e-1,d):e=f),m>t&&(d!==n?this.insert(t+1,m,d):t=m)}}this.insert(e,t,n)},expandedValues:function(e,t){for(var n=this.intersecting(e,t),r=[],o=0,i=e;i<=t;i++)n[o].end<i&&o++,r.push({index:i-e,value:n[o].value});return r},sortedIndices:function(e,t,n,r){var o=this.expandedValues(e,t),l=function(a,b){return a.value===b.value?a.index-b.index:n(a.value,b.value)};return r&&(l=function(a,b){var e=r[a.index],t=r[b.index];return e.value===t.value?n(a.value,b.value):a.index-b.index}),o.sort(l),o},sort:function(e,t,n){if(1!==this.intersecting(e,t).length)for(var r=this.expandedValues(e,t),i=0,o=n.length;i<o;i++)this.value(i+e,i+e,r[n[i].index].value)},copy:function(e,t,n){for(var r,o=this.intersecting(e,t),l=n,i=0,c=o.length;i<c;i++){var h=o[i].start;h<e&&(h=e);var d=o[i].end;d>t&&(d=t),r=l+(d-h),this.value(l,r,o[i].value),l=++r}},iterator:function(e,t){return new c(e,t,this.intersecting(e,t))},getState:function(){return this.tree.clone()},setState:function(e){this.tree=e.clone()},toJSON:function(){return this.values()},fromJSON:function(e){e.forEach((function(e){this.value(e.start,e.end,e.value)}),this)}}),c=e.Class.extend({init:function(e,t,n){this.start=e,this.end=t,this.index=0,this.ranges=n},unique:function(){return this.ranges.map((function(e){return e.value}))},at:function(e){for(;this.ranges[this.index]&&this.ranges[this.index].end<e;)this.index++;return this.ranges[this.index]&&this.ranges[this.index].value},forEach:function(e){for(var i=this.start;i<=this.end;i++)e(this.at(i),i);this.index=0}}),h=l.extend({init:function(e,t,n){this.tree=new o,this.range=new r(e,t,n)},intersecting:function(e,t){var n,o=this.tree.intersecting(e,t),l=[];if(!o.length)return[this.range];for(var i=0,c=o.length;i<c;i++)(n=o[i]).start>e&&l.push(new r(e,n.start-1,this.range.value)),l.push(n),e=n.end+1;return n.end<t&&l.push(new r(n.end+1,t,this.range.value)),l},insert:function(e,t,n){n!==this.range.value&&this.tree.insert(new r(e,t,n))},lastRangeStart:function(){var e=this.tree.root;if(e===n)return this.range.start;for(;e.right!==n;)e=e.right;return e.value.end+1}});e.spreadsheet.RangeTree=o,e.spreadsheet.RangeList=l,e.spreadsheet.SparseRangeList=h,e.spreadsheet.ValueRange=r}function d(e){if(e.left.level===e.level){var t=e;e=e.left,t.left=e.right,e.right=t}return e}function f(e){if(e.right.right.level===e.level){var t=e;e=e.right,t.right=e.left,e.left=t,e.level+=1}return e}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1538),e.exports=n(1538)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1538:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.Class.extend({init:function(e){this.list=e},get:function(e){return this.parse(this.list.value(e,e))},set:function(e,t,n){void 0===n&&(n=t,t=e),this.list.value(e,t,n)},parse:function(e){return e},copy:function(e,t,n){this.list.copy(e,t,n)},iterator:function(e,t){return this.list.iterator(e,t)}}),n=t.extend({set:function(e,t,n){this.list.value(e,t,JSON.stringify(n))},parse:function(e){return JSON.parse(e)}}),r=t.extend({init:function(e,n){t.prototype.init.call(this,e),this.formats=n},set:function(t,n,r){r instanceof Date?(r=e.spreadsheet.dateToNumber(r),this.formats.value(t,n)||this.formats.value(t,n,e.culture().calendar.patterns.d.replace(/M/g,"m").replace(/'/g,'"').replace(/tt/,"am/pm"))):"number"==typeof r&&(r=e.spreadsheet.calc.runtime.limitPrecision(r)),this.list.value(t,n,r)}});e.spreadsheet.PropertyBag=e.Class.extend({specs:[{property:t,name:"format",value:null,sortable:!0,serializable:!0},{property:r,name:"value",value:null,sortable:!0,serializable:!0,depends:"format"},{property:t,name:"formula",value:null,sortable:!0,serializable:!0},{property:t,name:"background",value:null,sortable:!0,serializable:!0},{property:n,name:"vBorders",value:null,sortable:!1,serializable:!1},{property:n,name:"hBorders",value:null,sortable:!1,serializable:!1},{property:t,name:"color",value:null,sortable:!0,serializable:!0},{property:t,name:"fontFamily",value:null,sortable:!0,serializable:!0},{property:t,name:"underline",value:null,sortable:!0,serializable:!0},{property:t,name:"fontSize",value:null,sortable:!0,serializable:!0},{property:t,name:"italic",value:null,sortable:!0,serializable:!0},{property:t,name:"bold",value:null,sortable:!0,serializable:!0},{property:t,name:"textAlign",value:null,sortable:!0,serializable:!0},{property:t,name:"indent",value:null,sortable:!0,serializable:!0},{property:t,name:"verticalAlign",value:null,sortable:!0,serializable:!0},{property:t,name:"wrap",value:null,sortable:!0,serializable:!0},{property:t,name:"validation",value:null,sortable:!1,serializable:!0},{property:t,name:"enable",value:null,sortable:!1,serializable:!0},{property:t,name:"link",value:null,sortable:!0,serializable:!0},{property:t,name:"editor",value:null,sortable:!0,serializable:!0},{property:t,name:"comment",value:null,sortable:!0,serializable:!0}],init:function(t,n,r){r=r||{};var o=t*n-1;this.rowCount=t,this.columnCount=n,this.cellCount=o,this.properties={},this.lists={},this.specs.forEach((function(t){var n=t.name,l=r[n];void 0===l&&(l=t.value),this.lists[n]=new e.spreadsheet.SparseRangeList(0,o,l),(this.properties[n]=new t.property(this.lists[n],this.lists[t.depends])).spec=t}),this),this.lists.formula.tree.clone=l,this.lists.validation.tree.clone=l},getState:function(){var e={};return this.specs.forEach((function(t){e[t.name]=this.lists[t.name].getState()}),this),e},setState:function(e){this.specs.forEach((function(t){this.lists[t.name].setState(e[t.name])}),this)},get:function(e,t){if(void 0===t)return this.lists[e];switch(e){case"borderRight":t+=this.rowCount;case"borderLeft":e="vBorders";break;case"borderBottom":t++;case"borderTop":e="hBorders"}return t>this.cellCount?null:this.properties[e].get(t)},set:function(e,t,n,r){switch(e){case"borderRight":t+=this.rowCount,n+=this.rowCount;case"borderLeft":e="vBorders";break;case"borderBottom":t++,n++;case"borderTop":e="hBorders"}t<=n&&n<=this.cellCount&&this.properties[e].set(t,n,r)},fromJSON:function(e,t){for(var n=0;n<this.specs.length;n++){var r=this.specs[n];r.serializable&&void 0!==t[r.name]&&this.set(r.name,e,e,t[r.name],!1)}["borderLeft","borderRight","borderTop","borderBottom"].forEach((function(b){void 0!==t[b]&&this.set(b,e,e,t[b])}),this)},copy:function(e,t,n){this.specs.forEach((function(r){this.properties[r.name].copy(e,t,n)}),this)},iterator:function(e,t,n){var r=this.properties[e],o=r.iterator(t,n),l=o.at,c=this.cellCount;return o.at=function(e){return e>c?null:r.parse(l.call(o,e))},o.name=e,o.value=r.spec.value,o},sortable:function(){return this.specs.filter((function(e){return e.sortable})).map((function(e){return this.lists[e.name]}),this)},iterators:function(e,t){return this.specs.reduce(function(n,r){return r.serializable&&n.push(this.iterator(r.name,e,t)),n}.bind(this),[])},forEach:function(e,t,n){var r,o,l=this.iterators(e,t),c=this.iterator("hBorders",e,t+1),h=this.iterator("vBorders",e,t),d=this.iterator("vBorders",e+this.rowCount,t+this.rowCount);function f(e,t,n){var o=t.at(n);o!==t.value&&(r[e]=o)}for(o=e;o<=t;o++){r={};for(var i=0;i<l.length;i++){var m=l[i],v=m.at(o);v!==m.value&&(r[m.name]=v)}f("borderLeft",h,o),f("borderRight",d,o+this.rowCount),f("borderTop",c,o),(o+1)%this.rowCount&&f("borderBottom",c,o+1),n(r)}},forEachProperty:function(e){for(var t in this.properties)e(this.properties[t])}}),e.spreadsheet.ALL_PROPERTIES=e.spreadsheet.PropertyBag.prototype.specs.reduce((function(a,e){return e.serializable&&a.push(e.name),a}),["borderTop","borderRight","borderBottom","borderLeft"])}function o(e){return(e=e.clone()).value=e.value.deepClone(),e}function l(){var e=this.map(o);return e.clone=l,e}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1530),e.exports=n(1530)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1530:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1531)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.spreadsheet.RangeRef,n=e.spreadsheet.CellRef,r=e.Class.extend({init:function(e,t,n,r){this.rangeGetter=n,this.prevLeft=function(n){var o=r(this.range(n)),l=this.range(t.prevVisible(o.topLeft[e]));return r(l).topLeft[e]},this.nextRight=function(n){var o=r(this.range(n)),l=this.range(t.nextVisible(o.bottomRight[e]));return r(l).bottomRight[e]},this.nextLeft=function(n){var o=r(this.range(n));return t.nextVisible(o.bottomRight[e])},this.prevRight=function(n){var o=r(this.range(n));return t.prevVisible(o.topLeft[e])}},boundary:function(e,t){this.top=e,this.bottom=t},range:function(e){return this.rangeGetter(e,this.top,this.bottom)}}),o=e.Class.extend({init:function(t){this._sheet=t,this.columns=this._sheet._grid._columns,this.autoFillCalculator=new e.spreadsheet.AutoFillCalculator(t._grid),this.colEdge=new r("col",this._sheet._grid._columns,this.columnRange.bind(this),this.union.bind(this)),this.rowEdge=new r("row",this._sheet._grid._rows,this.rowRange.bind(this),this.union.bind(this))},height:function(e){this._viewPortHeight=e},union:function(e){return this._sheet.unionWithMerged(e)},columnRange:function(col,e,t){return this._sheet._ref(e,col,t-e,1)},rowRange:function(e,t,n){return this._sheet._ref(e,t,1,n-t)},selectionIncludesMergedCells:function(){return this._sheet.select().contains(this._sheet._mergedCells)},setSelectionValue:function(e){var t=this._sheet.selection();setTimeout((function(){t.value(e())}))},selectAll:function(){this._sheet.select(this._sheet._sheetRef)},select:function(e,t,n){e=this.refForMode(e,t),n&&(e=this._sheet.select().concat(e)),this._sheet.select(e)},refForMode:function(e,t){var n=this._sheet._grid;switch(t){case"range":e=n.normalize(e);break;case"row":e=n.rowRef(e.row);break;case"column":e=n.colRef(e.col);break;case"sheet":e=this._sheet._sheetRef}return e},startSelection:function(e,n,r,o,view){if("autofill"==n)this._sheet.startAutoFill();else if(o&&"range"==n){var l=new t(this._sheet.activeCell().first(),e);this._sheet.select(l,!1,!1),this._sheet.startSelection(view)}else this._sheet.startSelection(view),this.select(e,n,r)},completeSelection:function(){this._sheet.completeSelection()},selectForContextMenu:function(e,t){var n=this._sheet;n._activeDrawing=null,n.select().contains(this.refForMode(e,t))||this.select(e,t)},selectDrawingForContextMenu:function(e){var t=this._sheet;t._activeDrawing=e,t.triggerChange({selection:!0})},modifySelection:function(e){var n,r=this.determineDirection(e),o=this._sheet,l=this._viewPortHeight,c=o._grid._rows,h=o._grid._columns,d=o.currentOriginalSelectionRange(),f=o.select().toRangeRef(),m=o.activeCell(),v=d.topLeft.clone(),_=d.bottomRight.clone();switch(this.colEdge.boundary(f.topLeft.row,f.bottomRight.row),this.rowEdge.boundary(f.topLeft.col,f.bottomRight.col),r){case"expand-left":v.col=this.colEdge.prevLeft(v.col),n=v;break;case"shrink-right":v.col=this.colEdge.nextLeft(v.col),n=v;break;case"expand-right":_.col=this.colEdge.nextRight(_.col),n=_;break;case"shrink-left":_.col=this.colEdge.prevRight(_.col),n=_;break;case"expand-up":v.row=this.rowEdge.prevLeft(v.row),n=v;break;case"shrink-down":v.row=this.rowEdge.nextLeft(v.row),n=v;break;case"expand-down":_.row=this.rowEdge.nextRight(_.row),n=_;break;case"shrink-up":_.row=this.rowEdge.prevRight(_.row),n=_;break;case"expand-page-up":v.row=c.prevPage(v.row,l);break;case"shrink-page-up":_.row=c.prevPage(_.row,l);break;case"expand-page-down":_.row=c.nextPage(_.row,l);break;case"shrink-page-down":v.row=c.nextPage(v.row,l);break;case"first-col":v.col=h.firstVisible(),_.col=m.bottomRight.col,n=v;break;case"last-col":_.col=h.lastVisible(),v.col=m.topLeft.col,n=_;break;case"first-row":v.row=c.firstVisible(),_.row=m.bottomRight.row,n=v;break;case"last-row":_.row=c.lastVisible(),v.row=m.topLeft.row,n=_;break;case"last":_.row=c.lastVisible(),_.col=h.lastVisible(),v=m.topLeft,n=_;break;case"first":v.row=c.firstVisible(),v.col=h.firstVisible(),_=m.bottomRight,n=v}var w=new t(v,_);this.union(w).intersects(m)?(n&&o.focus(n),this.updateCurrentSelectionRange(w)):this.modifySelection(r.replace("shrink","expand"))},moveActiveCell:function(e){var t=this._sheet,r=t.activeCell(),o=r.topLeft,l=r.bottomRight,c=t.originalActiveCell(),h=t._grid._rows,d=t._grid._columns,f=c.row,m=c.col;switch(e){case"left":m=d.prevVisible(o.col);break;case"up":f=h.prevVisible(o.row);break;case"right":m=d.nextVisible(l.col);break;case"down":f=h.nextVisible(l.row);break;case"first-col":m=d.firstVisible();break;case"last-col":m=d.lastVisible();break;case"first-row":f=h.firstVisible();break;case"last-row":f=h.lastVisible();break;case"last":f=h.lastVisible(),m=d.lastVisible();break;case"first":f=h.firstVisible(),m=d.firstVisible();break;case"next-page":f=h.nextPage(l.row,this._viewPortHeight);break;case"prev-page":f=h.prevPage(l.row,this._viewPortHeight)}t.select(new n(f,m))},navigateInSelection:function(e){var t,r,o,l=this._sheet,c=l.activeCell().topLeft,h=l.originalActiveCell(),d=l._grid._rows,f=l._grid._columns,m=h.row,v=h.col,_=c.col,w=c.row;function y(e){t=e.topLeft,r=e.bottomRight}y(l.currentNavigationRange());for(var x=!1;!x;){var k=new n(m,v);switch(e){case"next":r.eq(k)?(y(l.nextNavigationRange()),m=t.row,v=t.col):((v=f.nextVisible(_))==_||v>r.col)&&(v=t.col,m=(o=d.nextVisible(m))==m||o>r.row?t.row:o);break;case"previous":t.eq(k)?(y(l.previousNavigationRange()),m=r.row,v=r.col):((v=f.prevVisible(_))==_||v<t.col)&&(v=r.col,m=(o=d.prevVisible(m))==m||o<t.row?r.row:o);break;case"lower":r.eq(k)?(y(l.nextNavigationRange()),m=t.row,v=t.col):((m=d.nextVisible(w))==w||m>r.row)&&(m=t.row,v=(o=f.nextVisible(v))==v||o>r.col?t.col:o);break;case"upper":t.eq(k)?(y(l.previousNavigationRange()),m=r.row,v=r.col):((m=d.prevVisible(w))==w||m<t.row)&&(m=r.row,v=(o=f.prevVisible(v))==v||o<t.col?r.col:o);break;default:throw new Error("Unknown entry navigation: "+e)}x=!this.shouldSkip(m,v),_=v,w=m}l.singleCellSelection()?l.select(new n(m,v)):l.activeCell(new n(m,v))},extendSelection:function(e,n){var r=this._sheet,o=r._grid;if("autofill"!==n){"range"===n?e=o.normalize(e):"row"===n?e=o.rowRef(e.row).bottomRight:"column"===n&&(e=o.colRef(e.col).bottomRight);var l=r.originalActiveCell().toRangeRef();this.updateCurrentSelectionRange(new t(l.topLeft,e))}else this.resizeAutoFill(e)},shouldSkip:function(e,col){if(this._sheet.isHiddenRow(e)||this._sheet.isHiddenColumn(col))return!0;var t=new n(e,col),r=!1;return this._sheet.forEachMergedCell((function(e){e.intersects(t)&&!e.collapse().eq(t)&&(r=!0)})),r},resizeAutoFill:function(e){var t,n,r=this._sheet,o=r.select(),l=r._autoFillOrigin,c=this.autoFillCalculator.autoFillDest(o,e),h=this.punch(o,c);if(!h){var d=r.range(c)._previewFillFrom(r.range(l));d&&(n=d.direction,t=d.hint)}r.updateAutoFill(c,h,t,n)},determineDirection:function(e){var t=this._sheet.currentSelectionRange(),n=this._sheet.activeCell(),r=n.topLeft.col==t.topLeft.col,o=n.bottomRight.col==t.bottomRight.col,l=n.topLeft.row==t.topLeft.row,c=n.bottomRight.row==t.bottomRight.row;switch(e){case"left":e=o?"expand-left":"shrink-left";break;case"right":e=r?"expand-right":"shrink-right";break;case"up":e=c?"expand-up":"shrink-up";break;case"down":e=l?"expand-down":"shrink-down";break;case"prev-page":e=c?"expand-page-up":"shrink-page-up";break;case"next-page":e=l?"expand-page-down":"shrink-page-down"}return e},updateCurrentSelectionRange:function(e){var t=this._sheet;t.select(t.originalSelect().replaceAt(t.selectionRangeIndex(),e),!1)},punch:function(e,r){var o;if(r.topLeft.eq(e.topLeft))if(r.bottomRight.row<e.bottomRight.row){var l=this.rowEdge.nextRight(r.bottomRight.row);o=new t(new n(l,e.topLeft.col),e.bottomRight)}else if(r.bottomRight.col<e.bottomRight.col){var c=this.colEdge.nextRight(r.bottomRight.col);o=new t(new n(e.topLeft.row,c),e.bottomRight)}return o}});e.spreadsheet.SheetNavigator=o}}(kendo)})?r.apply(t,o):r)||(e.exports=l)},1531:function(e,t){e.exports=n(354)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1500),e.exports=n(1500)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1500:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.spreadsheet.RangeRef,n=e.spreadsheet.CellRef,r=e.Class.extend({init:function(e){this._grid=e},rectIsVertical:function(e,t,n,r){var o=this._grid.rectangle(e.toRangeRef()),l=this._grid.rectangle(t.toRangeRef());return Math.abs(l[r]-o[r])>Math.abs(o[n]-l[n])},autoFillDest:function(e,cursor){var r,o,l,c,h=e.topLeft,d=e.bottomRight,f=cursor.row>=h.row,m=cursor.col>=h.col;if(4==(r=f?m?4:3:m?2:1))o=h,l=d,(cursor.row>l.row||cursor.col>l.col)&&(cursor=new n(Math.max(cursor.row,l.row),Math.max(cursor.col,l.col))),c=this.rectIsVertical(l,cursor,"right","bottom")?new n(cursor.row,l.col):new n(l.row,cursor.col);else if(3===r){var v=new n(h.col,d.row);cursor.row>d.row&&this.rectIsVertical(v,cursor,"left","bottom")?(o=h,c=new n(cursor.row,d.col)):(o=d,c=new n(h.row,cursor.col))}else if(2===r){var _=new n(h.row,d.col);cursor.col>d.col&&!this.rectIsVertical(_,cursor,"right","top")?(o=h,c=new n(d.row,cursor.col)):(o=d,c=new n(cursor.row,h.col))}else o=d,c=this.rectIsVertical(h,cursor,"left","top")?new n(cursor.row,h.col):new n(h.row,cursor.col);return this._grid.normalize(new t(o,c))}});e.spreadsheet.AutoFillCalculator=r}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1502),e.exports=n(1502)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1502:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.Class.extend({init:function(e){this._sheet=e},forEachSelectedColumn:function(e){var t=this._sheet;t.batch((function(){t.select().forEachColumnIndex((function(n,i){e(t,n,i)}))}),{layout:!0,recalc:!0})},forEachSelectedRow:function(e){var t=this._sheet;t.batch((function(){t.select().forEachRowIndex((function(n,i){e(t,n,i)}))}),{layout:!0,recalc:!0})},includesHiddenColumns:function(e){return this._sheet._grid._columns.includesHidden(e.topLeft.col,e.bottomRight.col)},includesHiddenRows:function(e){return this._sheet._grid._rows.includesHidden(e.topLeft.row,e.bottomRight.row)},selectionIncludesHiddenColumns:function(){return this.includesHiddenColumns(this._sheet.select())},selectionIncludesHiddenRows:function(){return this.includesHiddenRows(this._sheet.select())},deleteSelectedColumns:function(){var e=[],t=0;return this.forEachSelectedColumn((function(n,r){if(r-=t,!n.isHiddenColumn(r)){t++;var o=[];e.unshift({index:r,formulas:o,width:n.columnWidth(r)}),n._saveModifiedFormulas(o,(function(){n.deleteColumn(r)}))}})),e},deleteSelectedRows:function(){var e=[],t=0;return this.forEachSelectedRow((function(n,r){if(r-=t,!n.isHiddenRow(r)){t++;var o=[];e.unshift({index:r,formulas:o,height:n.rowHeight(r)}),n._saveModifiedFormulas(o,(function(){n.deleteRow(r)}))}})),e},hideSelectedColumns:function(){this.forEachSelectedColumn((function(e,t){e.hideColumn(t)}));for(var t=this._sheet,n=t.select().toRangeRef(),r=n.topLeft.col,o=n.bottomRight.col,l=null;;){var c=o<t._columns._count,h=r>=0;if(!h&&!c)break;if(c&&!t.isHiddenColumn(o)){l=o;break}if(h&&!t.isHiddenColumn(r)){l=r;break}r--,o++}null!==l&&(n=new e.spreadsheet.RangeRef(new e.spreadsheet.CellRef(0,l),new e.spreadsheet.CellRef(t._rows._count-1,l)),t.range(n).select())},hideSelectedRows:function(){this.forEachSelectedRow((function(e,t){e.hideRow(t)}));for(var t=this._sheet,n=t.select().toRangeRef(),r=n.topLeft.row,o=n.bottomRight.row,l=null;;){var c=o<t._rows._count,h=r>=0;if(!h&&!c)break;if(c&&!t.isHiddenRow(o)){l=o;break}if(h&&!t.isHiddenRow(r)){l=r;break}r--,o++}null!==l&&(n=new e.spreadsheet.RangeRef(new e.spreadsheet.CellRef(l,0),new e.spreadsheet.CellRef(l,t._columns._count-1)),t.range(n).select())},unhideSelectedColumns:function(){this.forEachSelectedColumn((function(e,t){e.unhideColumn(t)}))},unhideSelectedRows:function(){this.forEachSelectedRow((function(e,t){e.unhideRow(t)}))},preventAddRow:function(){var e=this._sheet.select().toRangeRef().height();return this._sheet.preventInsertRow(0,e)},preventAddColumn:function(){var e=this._sheet.select().toRangeRef().width();return this._sheet.preventInsertColumn(0,e)},addColumnLeft:function(){var base,e=this._sheet,t=0;return e.batch((function(){e.select().forEachColumnIndex((function(n){base||(base=n),e.insertColumn(base),++t}))}),{recalc:!0,layout:!0}),{base:base,count:t}},addColumnRight:function(){var base,e=this._sheet,t=0;return e.batch((function(){e.select().forEachColumnIndex((function(e){base=e+1,++t}));for(var i=0;i<t;++i)e.insertColumn(base)}),{recalc:!0,layout:!0}),{base:base,count:t}},addRowAbove:function(){var base,e=this._sheet,t=0;return e.batch((function(){e.select().forEachRowIndex((function(n){base||(base=n),e.insertRow(base),++t}))}),{recalc:!0,layout:!0}),{base:base,count:t}},addRowBelow:function(){var base,e=this._sheet,t=0;return e.batch((function(){e.select().forEachRowIndex((function(e){base=e+1,++t}));for(var i=0;i<t;++i)e.insertRow(base)}),{recalc:!0,layout:!0}),{base:base,count:t}}});e.spreadsheet.AxisManager=t}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1505),e.exports=n(1505)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1505:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.spreadsheet.CellRef,r=e.Class.extend({init:function(t){this._content={},this._externalContent={},this._internalContent={},this.workbook=t,this.origin=e.spreadsheet.NULLREF,this.iframe=document.createElement("iframe"),this.iframe.className="k-spreadsheet-clipboard-paste",this.menuInvoked=!1,this._uid=e.guid(),document.body.appendChild(this.iframe)},destroy:function(){document.body.removeChild(this.iframe)},canCopy:function(){var t={canCopy:!0},n=this.workbook.activeSheet().select();return n===e.spreadsheet.NULLREF&&(t.canCopy=!1),n instanceof e.spreadsheet.UnionRef&&(t.canCopy=!1,t.multiSelection=!0),this.menuInvoked&&(t.canCopy=!1,t.menuInvoked=!0),t},canPaste:function(){var e=this.workbook.activeSheet(),t=this.pasteRef(),n={canPaste:!0,pasteOnMerged:!1,pasteOnDisabled:!1};return e.range(t).enable()||(n.canPaste=!1,n.pasteOnDisabled=!0),t.eq(e.unionWithMerged(t))||(n.canPaste=!1,n.pasteOnMerged=!0),this.menuInvoked&&(n.canPaste=!1,n.menuInvoked=!0),(t.bottomRight.row>=e._rows._count||t.bottomRight.col>=e._columns._count)&&(n.canPaste=!1,n.overflow=!0),n},intersectsMerged:function(){var e=this.workbook.activeSheet();this.parse(),this.origin=this._content.origRef;var t=this.pasteRef();return!t.eq(e.unionWithMerged(t))},copy:function(){var e=this.workbook.activeSheet();this.origin=e.select(),this._internalContent=e.selection().getState(),delete this._externalContent.html,delete this._externalContent.plain},cut:function(){var e=this.workbook.activeSheet();this.copy(),e.range(e.select()).clear()},pasteRef:function(){var t=this.workbook.activeSheet();if(this.origin===e.spreadsheet.NULLREF)return t.select();var n=t.activeCell().first(),r=this.origin.first(),o=r.row-n.row,l=r.col-n.col;return this.origin.relative(o,l,3)},paste:function(){var e=this.workbook.activeSheet(),t=this.pasteRef();e.range(t).setState(this._content,this),e.triggerChange({recalc:!0,ref:t})},external:function(data){if(!data||!data.html&&!data.plain)return this._externalContent;this._externalContent=data},isExternal:function(){return!this._isInternal()},parse:function(){var t=o();if(this._isInternal())t=this._internalContent;else{var data=this._externalContent;if(data.html){var r=this.iframe.contentWindow.document;r.open(),r.write(data.html),r.close();var table=r.querySelector("table");t=table?function(table){for(var t=o(),r=[],c=0,col=0,i=0;i<table.rows.length;++i)r.push([]);for(var d=new e.spreadsheet.calc.runtime.Matrix,f=new e.spreadsheet.calc.runtime.Matrix,m=0;m<table.rows.length;++m,++c){var tr=table.rows[m];col=0;for(var v=0;v<tr.cells.length;++v){for(var td=tr.cells[v],_=td.rowSpan,w=td.colSpan;r[c][col];)col++;var style=td.getAttribute("style"),y=/mso-ignore:colspan/.test(style);l(t,c,col,h(c,col,td,d,f)),(_>1||w>1&&!y)&&t.mergedCells.push(new e.spreadsheet.RangeRef(new n(c,col),new n(c+_-1,col+w-1)).toString());for(var x=c+_;--x>=c;)for(var k=col+w;--k>=col;)x<r.length&&(r[x][k]=!0,x==c&&k==col||l(t,x,k,{}))}}return t}(table):d(data.plain)}else t=d(data.plain);this.origin=t.origRef}this._content=t},_isInternal:function(){if(void 0===this._externalContent.html)return!0;var e=!!t("<div/>").html(this._externalContent.html).find("table.kendo-clipboard-"+this._uid).length,n=!!t("<div/>").html(this._externalContent.plain).find("table.kendo-clipboard-"+this._uid).length;return e||n}});e.spreadsheet.Clipboard=r}function o(){var e=new n(0,0,0);return{ref:e,mergedCells:[],data:[],foreign:!0,origRef:e.toRangeRef()}}function l(e,t,col,n){var data=e.data||(e.data=[]);data[t]||(data[t]=[]),data[t][col]=n;var br=e.origRef.bottomRight;br.row=Math.max(br.row,t),br.col=Math.max(br.col,col)}function c(style){return style.replace(/^-(?:ms|moz|webkit)-/,"")}function h(e,col,element,t,n){var r=window.getComputedStyle(element),text=element.innerText.replace(/\t$/,""),o=function(e){var t={};return["borderBottom","borderRight","borderLeft","borderTop"].forEach((function(n){t[n]="none"==e[n+"Style"]?null:{size:1,color:e[n+"Color"]}})),t}(r),l={value:""===text?null:text,borderTop:o.borderTop||t.get(e,col)||null,borderBottom:o.borderBottom||t.get(e+1,col)||null,borderLeft:o.borderLeft||n.get(e,col)||null,borderRight:o.borderRight||n.get(e,col+1)||null,fontSize:parseInt(r["font-size"],10)};return t.set(e,col,l.borderTop),t.set(e+1,col,l.borderBottom),n.set(e,col,l.borderLeft),n.set(e,col+1,l.borderRight),"rgb(0, 0, 0)"!==r["background-color"]&&"rgba(0, 0, 0, 0)"!==r["background-color"]&&(l.background=r["background-color"]),"rgb(0, 0, 0)"!==r.color&&"rgba(0, 0, 0, 0)"!==r.color&&(l.color=r.color),"underline"==r["text-decoration"]&&(l.underline=!0),"italic"==r["font-style"]&&(l.italic=!0),"bold"==r["font-weight"]&&(l.bold=!0),"right"!==c(r["text-align"])&&(l.textAlign=c(r["text-align"])),"middle"!==r["vertical-align"]&&(l.verticalAlign=r["vertical-align"]),"normal"!==r["word-wrap"]&&(l.wrap=!0),l}function d(data){var e=o();if(-1===data.indexOf("\t")&&-1==data.indexOf("\n"))l(e,0,0,{value:data});else for(var t=data.split("\n"),n=0;n<t.length;n++)for(var r=t[n].split("\t"),c=0;c<r.length;c++)l(e,n,c,{value:r[c]});return e}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1553),e.exports=n(1553)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1499:function(e,t){e.exports=n(34)},1553:function(e,t,n){var r,o,l;n(3),o=[n(1499)],void 0===(l="function"==typeof(r=function(){"use strict";var e=kendo.jQuery;if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var t=kendo.spreadsheet,n={};t.validation=n;var r=t.calc,o=kendo.Class,l="_matrix({0})",c='DATEVALUE("{0}")';r.runtime.defineFunction("_matrix",(function(e){return"string"==typeof e&&(e=this.asMatrix([e.split(/\s*,\s*/)])),e})).args([["m",["or","matrix","string"]]]);var h=o.extend({init:function(e){this.handler=e.handler,this.from=e.from,this.to=e.to,this.dataType=e.dataType,this.comparerType=e.comparerType,this.type=e.type?e.type:"warning",this.allowNulls=!!e.allowNulls,this.fromIsDateValue=!!e.fromIsDateValue,this.toIsDateValue=!!e.toIsDateValue,this.showButton=e.showButton,this.fromIsListValue=!!e.fromIsListValue,this.sheet=e.sheet,this.row=e.row,this.col=e.col,e.tooltipMessageTemplate&&(this.tooltipMessageTemplate=e.tooltipMessageTemplate),e.tooltipTitleTemplate&&(this.tooltipTitleTemplate=e.tooltipTitleTemplate),e.messageTemplate&&(this.messageTemplate=e.messageTemplate),e.titleTemplate&&(this.titleTemplate=e.titleTemplate)},_formatMessages:function(e){var t=this.from?this.from_value:"",n=this.to?this.to_value:"",r=this.from?this.from.toString():"",o=this.to?this.to.toString():"",l=this.dataType,c=this.type,h=this.comparerType;return kendo.format(e,t,n,r,o,l,c,h)},_setMessages:function(){this.title="",this.message="",this.tooltipTitleTemplate&&(this.tooltipTitle=this._formatMessages(this.tooltipTitleTemplate)),this.tooltipMessageTemplate&&(this.tooltipMessage=this._formatMessages(this.tooltipMessageTemplate)),this.titleTemplate&&(this.title=this._formatMessages(this.titleTemplate)),this.messageTemplate&&(this.message=this._formatMessages(this.messageTemplate))},_getListData:function(){if(!this.from_value||!this.from_value.data)return[];var i,e,t=this.from_value.data,data=[];for(i=0;i<t.length;i++){var n=t[i];if(n)for(e=0;e<n.length;e++)data.push(n[e])}return data},clone:function(t,n,col){var r=this._getOptions();return r.from&&(r.from=r.from.clone(t,n,col)),r.to&&(r.to=r.to.clone(t,n,col)),new h(e.extend(r,{handler:this.handler},{sheet:t,row:n,col:col}))},deepClone:function(){var e=new h(this);return e.from=e.from.deepClone(),e.to&&(e.to=e.to.deepClone()),e},exec:function(e,t,n,r){var o=this;function l(t){return t instanceof kendo.spreadsheet.Ref&&(t=e.getData(t),Array.isArray(t)&&(t=t[0])),t}var c=function(e){o.from_value=l(e),o.value=o.handler.call(o,t,n),o._setMessages(),r&&r(o.value)};o.to?o.to.exec(e,(function(t){o.to_value=l(t),o.from.exec(e,c)})):o.from.exec(e,c)},reset:function(){this.from&&this.from.reset(),this.to&&this.to.reset(),delete this.value},adjust:function(e,t,n,r){var o,l,c,d=this.row,f=this.col;if(this.from&&(o=this.from.adjust(e,t,n,r)),this.to&&(l=this.to.adjust(e,t,n,r)),this.sheet.toLowerCase()==e.toLowerCase())switch(t){case"row":d>=n&&(c=!0,this.row+=r);break;case"col":f>=n&&(c=!0,this.col+=r)}if(c||o||l){var m=new h(this);return m.from=o,m.to=l,m.row=d,m.col=f,m}},toJSON:function(){var e=this._getOptions();return e.from&&(e.from=e.from.toString(),"list"===e.dataType&&(e.from=e.from.replace(/^_matrix\((.*)\)$/i,"$1"),delete e.fromIsListValue),"date"===e.dataType&&this.fromIsDateValue&&(e.from=e.from.replace(/^DATEVALUE\("(.*)"\)$/i,"$1"),delete e.fromIsDateValue)),e.to&&(e.to=e.to.toString(),"date"===e.dataType&&this.toIsDateValue&&(e.to=e.to.replace(/^DATEVALUE\("(.*)"\)$/i,"$1"),delete e.toIsDateValue)),e},_getOptions:function(){return{from:this.from,to:this.to,dataType:this.dataType,type:this.type,comparerType:this.comparerType,row:this.row,col:this.col,sheet:this.sheet,allowNulls:this.allowNulls,fromIsListValue:this.fromIsListValue,fromIsDateValue:this.fromIsDateValue,toIsDateValue:this.toIsDateValue,tooltipMessageTemplate:this.tooltipMessageTemplate,tooltipTitleTemplate:this.tooltipTitleTemplate,messageTemplate:this.messageTemplate,titleTemplate:this.titleTemplate,showButton:this.showButton}}});n.compile=function(t,o,col,h){var d,f;if("string"==typeof h&&(h=JSON.parse(h)),h.from&&("list"!==h.dataType||h.fromIsListValue||(h.from=kendo.format(l,h.from),h.fromIsListValue=!0),"date"===h.dataType&&r.runtime.parseDate(h.from)&&(h.from=kendo.format(c,h.from),h.fromIsDateValue=!0),h.from=r.compile(r.parseFormula(t,o,col,h.from))),h.to&&("date"===h.dataType&&r.runtime.parseDate(h.to)&&(h.to=kendo.format(c,h.to),h.toIsDateValue=!0),h.to=r.compile(r.parseFormula(t,o,col,h.to))),!(f="custom"==h.dataType?n.validationComparers.custom:"list"==h.dataType?n.validationComparers.list:n.validationComparers[h.comparerType]))throw kendo.format("'{0}' comparer is not implemented.",h.comparerType);return d=function(e){var t=this.to&&(this.to_value||0===this.to_value)?this.to_value:void 0;if(null===e||""===e)this.allowNulls?this.value=!0:this.value=!1;else if("custom"==this.dataType)this.value=f(e,this.from_value,t);else if("list"==this.dataType){var data=this._getListData();this.value=f(e,data,t)}else this.value=f(e,this.from_value,t);return this.value},new kendo.spreadsheet.validation.Validation(e.extend(h,{handler:d,sheet:t,row:o,col:col}))},n.validationComparers={greaterThan:function(e,t){return e>t},lessThan:function(e,t){return e<t},between:function(e,t,n){return e>=t&&e<=n},equalTo:function(e,t){return e==t},notEqualTo:function(e,t){return e!=t},greaterThanOrEqualTo:function(e,t){return e>=t},lessThanOrEqualTo:function(e,t){return e<=t},notBetween:function(e,t,n){return e<t||e>n},custom:function(e,t){return t},list:function(e,data){return data.indexOf(e)>-1}},n.Validation=h}})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1557),e.exports=n(1557)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1499:function(e,t){e.exports=n(34)},1528:function(e,t){e.exports=n(52)},1557:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1499),n(1528),n(1558)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.spreadsheet.calc.runtime.Formula,r=e.spreadsheet.Ref,o=e.spreadsheet.CalcError;e.spreadsheet.messages.workbook={defaultSheetName:"Sheet"};var l=e.Observable.extend({options:{},init:function(t,view){e.Observable.fn.init.call(this),this.options=t,this._view=view,this._sheets=[],this._images={},this._imgID=0,this._sheetsSearchCache={},this._sheet=this.insertSheet({rows:this.options.rows,columns:this.options.columns,rowHeight:this.options.rowHeight,columnWidth:this.options.columnWidth,headerHeight:this.options.headerHeight,headerWidth:this.options.headerWidth,dataSource:this.options.dataSource}),this.undoRedoStack=new e.util.UndoRedoStack,this.undoRedoStack.bind(["undo","redo"],this._onUndoRedo.bind(this)),this._context=new e.spreadsheet.FormulaContext(this),this._validationContext=new e.spreadsheet.ValidationFormulaContext(this),this._names=Object.create(null),this.fromJSON(this.options)},clipboard:function(){return this._clipboard||(this._clipboard=new e.spreadsheet.Clipboard(this)),this._clipboard},destroy:function(){this.unbind(),this._clipboard&&this._clipboard.destroy()},events:["cut","copy","paste","changing","change","excelImport","excelExport","insertSheet","removeSheet","selectSheet","renameSheet","insertRow","insertColumn","deleteRow","deleteColumn","hideRow","hideColumn","unhideRow","unhideColumn","select","changeFormat","dataBinding","dataBound"],_sheetChanging:function(e){this.trigger("changing",e)&&e.preventDefault()},_sheetChange:function(e){this.trigger("change",e)},_sheetInsertRow:function(e){this.trigger("insertRow",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetInsertColumn:function(e){this.trigger("insertColumn",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetDeleteRow:function(e){this.trigger("deleteRow",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetDeleteColumn:function(e){this.trigger("deleteColumn",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetHideRow:function(e){this.trigger("hideRow",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetHideColumn:function(e){this.trigger("hideColumn",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetUnhideRow:function(e){this.trigger("unhideRow",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetUnhideColumn:function(e){this.trigger("unhideColumn",{sheet:e.sender,index:e.index})&&e.preventDefault()},_sheetSelect:function(e){this.trigger("select",e)},_sheetDataBinding:function(e){this.trigger("dataBinding",{sheet:e.sender})&&e.preventDefault()},_sheetDataBound:function(e){this.trigger("dataBound",{sheet:e.sender})},_sheetCommandRequest:function(e){this.trigger("commandRequest",e)},_inputForRef:function(t){var n=this;return n._sheet.withCultureDecimals((function(){return new e.spreadsheet.Range(t,n._sheet).input()}))},_onUndoRedo:function(e){e.command.range().select()},execute:function(n){var r=t.extend({workbook:this},n.options),o=new e.spreadsheet[n.command](r),l=this.activeSheet();r.origin&&o.origin(r.origin),r.operatingRange?o.range(r.operatingRange):o.range(l.selection());var c=o.exec();return c&&"error"===c.reason||o.cannotUndo||this.undoRedoStack.push(o),this.cleanupImages(),c},resetFormulas:function(){this._sheets.forEach((function(e){e.resetFormulas()}))},resetValidations:function(){this._sheets.forEach((function(e){e.resetValidations()}))},refresh:function(e){e.recalc&&(this.resetFormulas(),this.resetValidations(),this._sheet.recalc(this._context),this._sheet.revalidate(this._validationContext))},activeSheet:function(t){if(void 0===t)return this._sheet;this.sheetByName(t.name())&&(this._sheet=t,t.triggerChange(e.spreadsheet.ALL_REASONS))},moveSheetToIndex:function(e,t){var n=this.sheetIndex(e),r=this._sheets;-1!==n&&(this._sheetsSearchCache={},r.splice(t,0,r.splice(n,1)[0]),this.trigger("change",{sheetSelection:!0}))},insertSheet:function(t){var n,r=this,o="number"==typeof(t=t||{}).index?t.index:r._sheets.length,l=r._sheets,c=function(t){t=t||1;var n=e.spreadsheet.messages.workbook.defaultSheetName+t;return r.sheetByName(n)?c(t+1):n};if(!t.name||!r.sheetByName(t.name)){this._sheetsSearchCache={},n=t.name||c();var h=new e.spreadsheet.Sheet(t.rows||this.options.rows,t.columns||this.options.columns,t.rowHeight||this.options.rowHeight,t.columnWidth||this.options.columnWidth,t.headerHeight||this.options.headerHeight,t.headerWidth||this.options.headerWidth,t.defaultCellStyle||this.options.defaultCellStyle);return h._workbook=this,h._name(n),this._bindSheetEvents(h),l.splice(o,0,h),t.data&&h.fromJSON(t.data),t.dataSource&&h.setDataSource(t.dataSource),this.trigger("change",{sheetSelection:!0}),h}},_bindSheetEvents:function(e){e.bind("changing",this._sheetChanging.bind(this)),e.bind("change",this._sheetChange.bind(this)),e.bind("insertRow",this._sheetInsertRow.bind(this)),e.bind("insertColumn",this._sheetInsertColumn.bind(this)),e.bind("deleteRow",this._sheetDeleteRow.bind(this)),e.bind("deleteColumn",this._sheetDeleteColumn.bind(this)),e.bind("hideRow",this._sheetHideRow.bind(this)),e.bind("hideColumn",this._sheetHideColumn.bind(this)),e.bind("unhideRow",this._sheetUnhideRow.bind(this)),e.bind("unhideColumn",this._sheetUnhideColumn.bind(this)),e.bind("select",this._sheetSelect.bind(this)),e.bind("commandRequest",this._sheetCommandRequest.bind(this)),e.bind("dataBinding",this._sheetDataBinding.bind(this)),e.bind("dataBound",this._sheetDataBound.bind(this))},sheets:function(){return this._sheets.slice()},sheetByName:function(e){return this._sheets[this.sheetIndex(e)]},sheetByIndex:function(e){return this._sheets[e]},sheetIndex:function(e){var t=this._sheets,n=("string"==typeof e?e:e.name()).toLowerCase(),r=this._sheetsSearchCache[n];if(r>=0)return r;for(r=0;r<t.length;r++){var o=t[r].name().toLowerCase();if(this._sheetsSearchCache[o]=r,o===n)return r}return-1},renameSheet:function(e,t){var o=e.name().toLowerCase();if(t&&o!==t.toLowerCase()&&!this.sheetByName(t)&&(e=this.sheetByName(o))&&(this._sheetsSearchCache={},!this.trigger("renameSheet",{sheet:e,newSheetName:t})))return this._sheets.forEach((function(e){e._forFormulas((function(e){e.renameSheet(o,t)}))})),this.forEachName(function(e,l){e.nameref.renameSheet(o,t)&&(this.undefineName(l),e.name=e.nameref.print(),this.nameDefinition(e.name,e)),(e.value instanceof r||e.value instanceof n)&&e.value.renameSheet(o,t)}.bind(this)),e._name(t),this.trigger("change",{sheetSelection:!0}),e},removeSheet:function(e){var t=this._sheets,n=e.name(),r=this.sheetIndex(e);if(1!==t.length&&!this.trigger("removeSheet",{sheet:e})&&(this._sheetsSearchCache={},r>-1))if(e.unbind(),t.splice(r,1),this.activeSheet().name()===n){var o=t[r===t.length?r-1:r];this.activeSheet(o)}else this.trigger("change",{recalc:!0,sheetSelection:!0})},_clearSheets:function(){for(var i=0;i<this._sheets.length;i++)this._sheets[i]._activeDrawing=[],this._sheets[i]._drawings=[],this._sheets[i].unbind();this._sheets=[],this._sheetsSearchCache={},this._names={},this._images={},this._imgID=0},fromJSON:function(e){if(e.sheets){this._clearSheets(),e.images&&(this._imgID=0,this._images={},Object.keys(e.images).forEach((function(t){if(!isNaN(t)){var n=parseFloat(t);isFinite(n)&&(this._imgID=Math.max(this._imgID,n))}this._images[t]={url:e.images[t]}}),this));for(var t=0;t<e.sheets.length;t++){var data=e.sheets[t],n=c(data,this.options),r=this.insertSheet({rows:n.rowCount,columns:n.columnCount,rowHeight:n.rowHeight,columnWidth:n.columnWidth,headerHeight:n.headerHeight,headerWidth:n.headerWidth,data:data});data.dataSource&&r.setDataSource(data.dataSource)}}e.activeSheet?this.activeSheet(this.sheetByName(e.activeSheet)):this.activeSheet(this._sheets[0]),e.names&&e.names.forEach((function(e){this.defineName(e.name,e.value,e.hidden)}),this)},toJSON:function(){this.resetFormulas(),this.resetValidations();var e=Object.keys(this._names).map((function(e){var t=this._names[e],l=t.value;return l instanceof r||l instanceof n?l=l.print(0,0,!0):l instanceof o?l+="":l=JSON.stringify(l),{value:l,hidden:t.hidden,name:t.name,sheet:t.nameref.sheet,localName:t.nameref.name}}),this);return{activeSheet:this.activeSheet().name(),sheets:this._sheets.map((function(e){return e.recalc(this._context),e.revalidate(this._validationContext),e.toJSON()}),this),names:e,columnWidth:this.options.columnWidth,rowHeight:this.options.rowHeight}},saveJSON:function(){var e=this,n=new t.Deferred,data=e.toJSON(),r=Object.keys(e._images).filter((function(t){return 1===e.usesImage(t)})),o=r.length;return data.images={},o?r.forEach((function(t){var img=e._images[t];if(img.blob){var n=new FileReader;n.onload=function(){data.images[t]=n.result,l()},n.readAsDataURL(img.blob)}else data.images[t]=img.url,l()})):l(),n.promise();function l(){--o<=0&&n.resolve(data)}},fromFile:function(n){var r=new t.Deferred,o=r.promise(),l={file:n,promise:o};return n&&!this.trigger("excelImport",l)?(this._clearSheets(),e.spreadsheet.readExcel(n,this,r)):r.reject(),o},saveAsExcel:function(n){var r=this;n=t.extend({},r.options.excel,n);var data=r.toJSON();if(!r.trigger("excelExport",{workbook:data})){var o=Object.keys(r._images).filter((function(e){return 1===r.usesImage(e)})),l=o.length,c=l?{}:null;l?o.forEach((function(e){var t,n,o,img=r._images[e];if(img.blob){var l=new FileReader;l.onload=function(){c[e]={type:img.blob.type,name:img.blob.name,data:l.result},h()},l.readAsArrayBuffer(img.blob)}else t=img.url,n=function(data,t){c[e]={type:t,data:data},h()},(o=new XMLHttpRequest).onload=function(){n(o.response,o.getResponseHeader("Content-Type"))},o.onerror=function(){n(null)},o.open("GET",t),o.responseType="arraybuffer",o.send()})):h()}function h(){if(--l<=0){data.images=c;var t=new e.ooxml.Workbook(data);e.saveAs({dataURI:n.forceProxy?t.toDataURL():t.toBlob(),fileName:data.fileName||n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy})}}},draw:function(t,n){"function"!=typeof t||n||(n=t,t={});var r=[],o=this._sheets;!function l(i){if(i<o.length)o[i].draw(e.spreadsheet.SHEETREF,t,(function(e){r.push(e),l(i+1)}));else{var c=r[0];for(i=1;i<r.length;++i)c.children=c.children.concat(r[i].children);n(c)}}(0)},nameForRef:function(e,t){void 0===t&&(t=e.sheet),t=t.toLowerCase();var n=e+"";for(var o in this._names){var l=this._names[o],c=l.value;if(c instanceof r&&(!c.sheet||c.sheet&&t==c.sheet.toLowerCase())&&c+""==n)return l}return{name:n}},defineName:function(t,n,r){var o=e.spreadsheet.calc.parseNameDefinition(t,n);t=o.name.print(),this._names[t.toLowerCase()]={value:o.value,hidden:r,name:t,nameref:o.name}},undefineName:function(e){delete this._names[e.toLowerCase()]},nameValue:function(e){return(e=e.toLowerCase())in this._names?this._names[e].value:null},nameDefinition:function(e,t){return e=e.toLowerCase(),arguments.length>1&&(void 0===t?delete this._names[e]:this._names[e]=t),this._names[e]},forEachName:function(e){Object.keys(this._names).forEach((function(t){e(this._names[t],t)}),this)},adjustNames:function(e,t,o,l){e=e.toLowerCase(),Object.keys(this._names).forEach((function(c){var h=this._names[c],d=h.value;d instanceof r&&d.sheet.toLowerCase()==e?h.value=d.adjust(null,null,null,null,t,o,l):d instanceof n&&d.adjust(e,t?"row":"col",o,l)}),this)},addImage:function(image){var e=String(++this._imgID);return this._images[e]="string"==typeof image?{url:image}:{blob:image},e},imageUrl:function(e){var img=this._images[e],t=img.url;return t||(t=img.url=window.URL.createObjectURL(img.blob)),t},cleanupImages:function(){Object.keys(this._images).forEach((function(e){if(!this.usesImage(e)){var t=this._images[e].url;t&&window.URL.revokeObjectURL(t),delete this._images[e]}}),this)},usesImage:function(img){var i,e=this._sheets;for(i=e.length;--i>=0;)if(e[i].usesImage(img))return 1;var t=this.undoRedoStack.stack;for(i=t.length;--i>=0;)if(t[i].usesImage(img))return 2;return!1}});e.spreadsheet.Workbook=l,e.PDFMixin&&(e.PDFMixin.extend(l.prototype),l.prototype.saveAsPDF=function(n){var progress=new t.Deferred,r=progress.promise(),o={promise:r};if(!this.trigger("pdfExport",o))return this._drawPDF(n,progress).then((function(t){return n.forceProxy?e.pdf.exportPDF(t):e.pdf.exportPDFToBlob(t)})).done((function(t){e.saveAs({dataURI:t,fileName:n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy,proxyTarget:n.proxyTarget}),progress.resolve()})).fail((function(e){progress.reject(e)})),r},l.prototype._drawPDF=function(e){var n=new t.Deferred,r=function(e){n.resolve(e)};switch(e.area){case"workbook":e.workbook.draw(e,r);break;case"sheet":e.workbook.activeSheet().draw(e,r);break;case"selection":e.workbook.activeSheet().selection().draw(e,r)}return n.promise()})}function c(data,e){function t(a,b,e){return void 0!==a?a:void 0!==b?b:e}var n=t(data.rowCount,e.rows,200),r=t(data.columnCount,e.columns,50),o=t(data.rowHeight,e.rowHeight,20),l=t(data.columnWidth,e.columnWidth,64),c=t(data.headerHeight,e.headerHeight,20),h=t(data.headerWidth,e.headerWidth,32);if(void 0!==data.rows)for(var i=0;i<data.rows.length;++i){var d=data.rows[i],f=t(d.index,i);if(f>=n&&(n=f+1),d.cells)for(var m=0;m<d.cells.length;++m){var v=t(d.cells[m].index,m);v>=r&&(r=v+1)}}return{rowCount:n,columnCount:r,rowHeight:o,columnWidth:l,headerHeight:c,headerWidth:h}}}(kendo)})?r.apply(t,o):r)||(e.exports=l)},1558:function(e,t){e.exports=n(213)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1509),e.exports=n(1509)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1509:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){"use strict";if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=/:alphanum$/,r={up:"up",down:"down",left:"left",right:"right",home:"first-col","ctrl+left":"first-col",end:"last-col","ctrl+right":"last-col","ctrl+up":"first-row","ctrl+down":"last-row","ctrl+home":"first","ctrl+end":"last",pageup:"prev-page",pagedown:"next-page"},o={tab:"next","shift+tab":"previous",enter:"lower","shift+enter":"upper",delete:"clearContents",backspace:"clearContents","shift+:alphanum":"edit","alt+:alphanum":"edit",":alphanum":"edit","ctrl+:alphanum":"ctrl","alt+ctrl+:alphanum":"edit",":edit":"edit"},l={wheel:"onWheel","*+mousedown":"onMouseDown",contextmenu:"onContextMenu","*+mousedrag":"onMouseDrag","*+mouseup":"onMouseUp","*+dblclick":"onDblClick",mousemove:"onMouseMove",touchmove:"onTouchMove",touchend:"onTouchEnd"},c={pageup:"onPageUp",pagedown:"onPageDown",mouseup:"onMouseUp","*+cut":"onCut","*+paste":"onPaste","*+copy":"onCopy"},h={esc:"onEditorEsc",enter:"onEditorBlur","alt+enter":"insertNewline","shift+enter":"onEditorBlur",tab:"onEditorBlur","shift+tab":"onEditorBlur","shift+ctrl+enter":"onEditorArrayFormula"},d=t.extend({focus:"onEditorBarFocus"},h),f=t.extend({focus:"onEditorCellFocus"},h),m={cell:"range",rowheader:"row",columnheader:"column",topcorner:"sheet",autofill:"autofill"},v=S(["cut","copy","paste","insert-left","insert-right","insert-above","insert-below"]),_=S(["unhide-row","unhide-column"]),w=[],y=[],x=[];for(var k in r)w.push(k),y.push("shift+"+k);for(k in o)x.push(k);c[w]="onAction",c[y]="onShiftAction",c[x]="onEntryAction",f[w]="onEditorAction",f[y]="onEditorShiftAction";var C=e.Class.extend({init:function(view,n){this.view=view,this.workbook(n),this.container=t(view.container),this.clipboardElement=t(view.clipboard),this.cellContextMenu=view.cellContextMenu,this.rowHeaderContextMenu=view.rowHeaderContextMenu,this.colHeaderContextMenu=view.colHeaderContextMenu,this.drawingContextMenu=view.drawingContextMenu,this.scroller=view.scroller,this.tabstrip=view.tabstrip,this.sheetsbar=view.sheetsbar,view.nameEditor.bind("enter",this.onNameEditorEnter.bind(this)),view.nameEditor.bind("cancel",this.onNameEditorCancel.bind(this)),view.nameEditor.bind("select",this.onNameEditorSelect.bind(this)),view.nameEditor.bind("delete",this.onNameEditorDelete.bind(this)),this.editor=view.editor,this.editor.bind("change",this.onEditorChange.bind(this)),this.editor.bind("activate",this.onEditorActivate.bind(this)),this.editor.bind("deactivate",this.onEditorDeactivate.bind(this)),this.editor.bind("update",this.onEditorUpdate.bind(this)),t(view.scroller).on("scroll",this.onScroll.bind(this)),this.listener=new e.spreadsheet.EventListener(this.container,this,l),this._enableEditorEvents(),this.sheetsbar&&(this.sheetsbar.bind("select",this.onSheetBarSelect.bind(this)),this.sheetsbar.bind("reorder",this.onSheetBarReorder.bind(this)),this.sheetsbar.bind("rename",this.onSheetBarRename.bind(this)),this.sheetsbar.bind("remove",this.onSheetBarRemove.bind(this))),this.cellContextMenu.bind("select",this.onContextMenuSelect.bind(this)),this.rowHeaderContextMenu.bind("select",this.onContextMenuSelect.bind(this)),this.colHeaderContextMenu.bind("select",this.onContextMenuSelect.bind(this)),this.drawingContextMenu.bind("select",this.onContextMenuSelect.bind(this)),this.cellContextMenu.element.add(this.rowHeaderContextMenu.element).add(this.colHeaderContextMenu.element).add(this.drawingContextMenu.element).on("contextmenu",!1),this.tabstrip&&(this.tabstrip.bind("action",this.onCommandRequest.bind(this)),this.tabstrip.bind("dialog",this.onDialogRequest.bind(this)))},_enableEditorEvents:function(t){void 0===t||t?(this.keyListener=new e.spreadsheet.EventListener(this.clipboardElement,this,c),this.barKeyListener=new e.spreadsheet.EventListener(this.editor.barElement(),this,d),this.inputKeyListener=new e.spreadsheet.EventListener(this.editor.cellElement(),this,f)):(this.keyListener.destroy(),this.barKeyListener.destroy(),this.inputKeyListener.destroy())},_execute:function(e){var t=this._workbook.execute(e);return"EditCommand"!==e.command||t||this._workbook.trigger("change",{editorClose:!0}),t&&(this._preventNavigation=!0,"error"===t.reason?(this.editor.deactivate(!0),this.view.showError(t,function(){this.activateEditor(!1),this.editor.value(this._lastEditorValue),this.editor._value=this._workbook._inputForRef(this._workbook.activeSheet()._viewActiveCell()),this.editor.select()}.bind(this))):this.view.openDialog(t.reason)),t},_activeTooltip:function(){return this._workbook.activeSheet().activeCell().simplify().toString()},onContextMenuSelect:function(e){var n;switch(t(e.item).data("action")){case"cut":n={command:"ToolbarCutCommand",options:{workbook:this._workbook}};break;case"copy":n={command:"ToolbarCopyCommand",options:{workbook:this._workbook}};break;case"paste":n={command:"ToolbarPasteCommand",options:{workbook:this._workbook}};break;case"delete-drawing":n={command:"DeleteDrawingCommand",options:{drawing:this.navigator._sheet._activeDrawing}};break;case"bring-to-front":n={command:"BringToFrontCommand",options:{drawing:this.navigator._sheet._activeDrawing}};break;case"send-to-back":n={command:"SendToBackCommand",options:{drawing:this.navigator._sheet._activeDrawing}};break;case"unmerge":n={command:"MergeCellCommand",options:{value:"unmerge"}};break;case"merge":this.view.openDialog("merge");break;case"hide-row":n={command:"HideLineCommand",options:{axis:"row"}};break;case"hide-column":n={command:"HideLineCommand",options:{axis:"column"}};break;case"unhide-row":n={command:"UnHideLineCommand",options:{axis:"row"}};break;case"unhide-column":n={command:"UnHideLineCommand",options:{axis:"column"}};break;case"delete-row":n={command:"DeleteRowCommand"};break;case"delete-column":n={command:"DeleteColumnCommand"}}n&&this._execute(n)},onSheetBarRemove:function(e){var t=this._workbook.sheetByName(e.name);t&&this._workbook.removeSheet(t)},destroy:function(){this.listener.destroy(),this._enableEditorEvents(!1),this.keyListener.destroy(),this.inputKeyListener.destroy()},onSheetBarSelect:function(e){var t,n=this._workbook;if(e.isAddButton){if(this._workbook.trigger("insertSheet"))return;t=n.insertSheet()}else t=n.sheetByName(e.name);if(n.activeSheet().name()!==t.name()){if(this._workbook.trigger("selectSheet",{sheet:t}))return;this.editor.canInsertRef(!1)||this.editor.deactivate(),n.activeSheet(t)}},onSheetBarReorder:function(e){var t=this._workbook.sheetByIndex(e.oldIndex);this._workbook.moveSheetToIndex(t,e.newIndex),this._workbook.activeSheet(t)},onSheetBarRename:function(e){var t=this._workbook.sheetByIndex(e.sheetIndex);this._workbook.sheetByName(e.name)?this.view.showError({reason:"error",type:"duplicateSheetName"}):(this._workbook.renameSheet(t,e.name),this.clipboardElement.focus())},sheet:function(e){this.navigator=e.navigator(),this.axisManager=e.axisManager()},workbook:function(e){this._workbook=e,this.clipboard=e.clipboard(),e.bind("commandRequest",this.onCommandRequest.bind(this))},refresh:function(){var e=this.editor,t=this._workbook.activeSheet();this._viewPortHeight=this.view.scroller.clientHeight,this.navigator.height(this._viewPortHeight),e.isActive()||this.isEditorDisabled||(e.enable(!1!==t.selection().enable()),this.resetEditorValue());var n=t.selection()._ref.simplify(),r=this._workbook.nameForRef(n,t.name());this.view.nameEditor.value(r.name)},onScroll:function(){this.view.render({scroll:!0})},onWheel:function(e){var t=e.originalEvent.deltaX,n=e.originalEvent.deltaY;1===e.originalEvent.deltaMode&&(t*=10,n*=10),this.scrollWith(t,n),e.preventDefault()},onTouchMove:function(){this.view.forceScrollerStackingOrder(2)},onTouchEnd:function(){this.view.forceScrollerStackingOrder(1)},onAction:function(e,t){this._workbook.activeSheet()._activeDrawing=null,this.navigator.moveActiveCell(r[t]),e.preventDefault()},onPageUp:function(){this.scrollDown(-this._viewPortHeight)},onPageDown:function(){this.scrollDown(this._viewPortHeight)},onEntryAction:function(e,t){var r=this._workbook.activeSheet();if(e.mod){var l=!0;switch(String.fromCharCode(e.keyCode)){case"A":r._activeDrawing=null,this.navigator.selectAll();break;case"Y":this._workbook.undoRedoStack.redo();break;case"Z":this._workbook.undoRedoStack.undo();break;default:l=!1}l&&e.preventDefault()}else{var c=!1===r.selection().enable(),h=":edit"!==t;if("delete"==t||"backspace"==t)r._activeDrawing?this._execute({command:"DeleteDrawingCommand",options:{drawing:r._activeDrawing}}):c||this._execute({command:"ClearContentCommand"}),e.preventDefault();else if(n.test(t)||!h){if(r._activeDrawing=null,c)return void e.preventDefault();h&&this.editor.value(""),this.activateEditor(h)}else this.navigator.navigateInSelection(o[t]),e.preventDefault()}},onShiftAction:function(e,t){this.navigator.modifySelection(r[t.replace("shift+","")],this.appendSelection),e.preventDefault()},onMouseMove:function(e){var t=this._workbook.activeSheet();if(!t.resizingInProgress()&&!t.selectionInProgress()){var object=this.objectAt(e);"columnresizehandle"===object.type||"rowresizehandle"===object.type?t.positionResizeHandle(object.ref):t.removeResizeHandle(),t._renderComment("cell"==object.type?object.ref:null)}},onMouseDown:function(t){var object=this.objectAt(t);if(object.pane&&(this.originFrame=object.pane),this._startResizingDrawing(t,object))t.stopPropagation();else{var n=this._workbook.activeSheet(),r=this.container.closest('[data-role="window"]');if(r.length&&(r=e.widgetInstance(r))&&r.options.modal&&t.stopPropagation(),n._activeDrawing=null,"drawing"===object.type)return n._activeDrawing=object.drawing,object.copy=object.drawing.clone(),object.startBox=n.drawingBoundingBox(object.copy),n.startDragging(object),n.triggerChange({dragging:!0}),void t.preventDefault();if("editor"===object.type)return this.onEditorEsc(),this.openCustomEditor(),void t.preventDefault();if(this.editor.canInsertRef(!1)&&object.ref)return this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs()),this.navigator.startSelection(object.ref,this._selectionMode,this.appendSelection,t.shiftKey,this.view),void t.preventDefault();if(this._preventNavigation=!1,this.editor.deactivate(),!this._preventNavigation){if("columnresizehandle"===object.type||"rowresizehandle"===object.type)return n.startResizing({x:object.x,y:object.y}),void t.preventDefault();if("filtericon"===object.type)return this.openFilterMenu(t),void t.preventDefault();this._selectionMode=m[object.type],this.appendSelection=t.mod,this.navigator.startSelection(object.ref,this._selectionMode,this.appendSelection,t.shiftKey,this.view)}}},_startResizingDrawing:function(e){var n=t(e.target).closest(".k-spreadsheet-drawing-handle");if(n.length){var r=this.translateCoords(e),o=n.data("direction"),l=this._workbook.activeSheet(),c=l._activeDrawing;return l.startDragging({pane:this.originFrame,drawing:c,copy:c.clone(),startBox:l.drawingBoundingBox(c),resize:o,startX:r.x,startY:r.y}),!0}},onContextMenu:function(t){var n=this._workbook.activeSheet();if(t.preventDefault(),!n.resizingInProgress()&&!n.draggingInProgress()){var menu;this.cellContextMenu.close(),this.colHeaderContextMenu.close(),this.rowHeaderContextMenu.close(),this.drawingContextMenu.close();var object=this.objectAt(t);if("columnresizehandle"!==object.type&&"rowresizehandle"!==object.type){object.ref?this.navigator.selectForContextMenu(object.ref,m[object.type]):"drawing"==object.type&&this.navigator.selectDrawingForContextMenu(object.drawing);var r=this.navigator._sheet.select()instanceof e.spreadsheet.UnionRef,o=!1,l=!1;"columnheader"==object.type?(menu=this.colHeaderContextMenu,o=!r&&this.axisManager.selectionIncludesHiddenColumns()):"rowheader"==object.type?(menu=this.rowHeaderContextMenu,o=!r&&this.axisManager.selectionIncludesHiddenRows()):"drawing"==object.type?menu=this.drawingContextMenu:(menu=this.cellContextMenu,l=this.navigator.selectionIncludesMergedCells()),menu.element.find(v).toggle(!r),menu.element.find(_).toggle(o),menu.element.find("[data-action=unmerge]").toggle(l),setTimeout((function(){menu.open(t.pageX,t.pageY)}))}}},prevent:function(e){e.preventDefault()},constrainResize:function(e,t){var n=this._workbook.activeSheet().resizeHandlePosition();return!n||"outside"===e||"topcorner"===e||t.col<n.col||t.row<n.row},_dragDrawing:function(e){var t=this._workbook.activeSheet(),n=t.draggingInProgress();if(!n)return!1;var r=this.translateCoords(e),o=n.drawing,l=r.x-n.startX,c=r.y-n.startY;return"SE"==n.resize?n.aspect?Math.abs(l)>Math.abs(c)?(o.width=Math.max(n.copy.width+l,20),o.height=o.width/n.aspect):(o.height=Math.max(n.copy.height+c,20),o.width=o.height*n.aspect):(o.width=Math.max(n.copy.width+l,20),o.height=Math.max(n.copy.height+c,20)):"E"==n.resize?o.width=Math.max(n.copy.width+l,20):"S"==n.resize?o.height=Math.max(n.copy.height+c,20):"N"==n.resize?n.copy.height-c>20&&(o.height=n.copy.height-c,o.offsetY=n.copy.offsetY+c):"W"==n.resize?n.copy.width-l>20&&(o.width=n.copy.width-l,o.offsetX=n.copy.offsetX+l):"NE"==n.resize?(o.width=Math.max(n.copy.width+l,20),n.copy.height-c>20&&(o.height=n.copy.height-c,o.offsetY=n.copy.offsetY+c)):"SW"==n.resize?(o.height=Math.max(n.copy.height+c,20),n.copy.width-l>20&&(o.width=n.copy.width-l,o.offsetX=n.copy.offsetX+l)):"NW"==n.resize?(n.copy.height-c>20&&(o.height=n.copy.height-c,o.offsetY=n.copy.offsetY+c),n.copy.width-l>20&&(o.width=n.copy.width-l,o.offsetX=n.copy.offsetX+l)):(o.offsetX=n.copy.offsetX+l,o.offsetY=n.copy.offsetY+c),t.triggerChange({dragging:!0}),!0},onMouseDrag:function(e){if("sheet"!==this._selectionMode){var t={clientX:e.clientX,clientY:e.clientY},n=this._workbook.activeSheet();if(!this._dragDrawing(e)){var object=this.objectAt(t);if(n.resizingInProgress())this.constrainResize(object.type,object.ref)||n.resizeHintPosition({x:object.x,y:object.y});else if("outside"!==object.type){if(this.originFrame===object.pane)this.selectToLocation(t);else{var r=this.originFrame._grid;object.x>r.right&&this.scrollLeft(),object.y>r.bottom&&this.scrollTop(),object.y<r.top||object.x<r.left?this.startAutoScroll(object,t):this.selectToLocation(t)}e.preventDefault()}else this.startAutoScroll(object)}}},onMouseUp:function(e){var t=this._workbook.activeSheet();t.completeResizing(),t.completeDragging(),this.navigator.completeSelection(),this.stopAutoScroll();var n=this.editor.activeEditor();if(n){for(var r=e.target;r;){if(r===n.element[0])return;r=r.parentNode}var object=this.objectAt(e);object&&object.ref&&n.canInsertRef(!1)&&(n.refAtPoint(t),t._setFormulaSelections(n.highlightedRefs()))}},onDblClick:function(e){var object=this.objectAt(e),t=!1===this._workbook.activeSheet().selection().enable();if("cell"===object.type&&!t){var n=this._workbook.activeSheet().selection();this.activateEditor(!n.value()&&!n.formula()),this.onEditorUpdate()}},onCut:function(e){if(e){var table=this.clipboardElement.find("table.kendo-clipboard-"+this.clipboard._uid).detach();this.clipboardElement.append(table.clone(!1)),setTimeout(function(){this.clipboardElement.empty().append(table)}.bind(this))}this.clipboard.menuInvoked=void 0===e,this._execute({command:"CutCommand",options:{workbook:this.view._workbook,event:e.originalEvent||e}})},clipBoardValue:function(){return this.clipboardElement.html()},_pasteImage:function(e){var t=this,n=e.getAsFile(),img=new window.Image;img.src=window.URL.createObjectURL(n),img.onload=function(){t._execute({command:"InsertImageCommand",options:{blob:n,width:img.width,height:img.height}})},setTimeout((function(){window.URL.revokeObjectURL(img.src)}),10)},onPaste:function(t){var n=this,html="",r="";if(n.clipboard.menuInvoked=void 0===t,t){var o=t.originalEvent.clipboardData;if(!o||!o.getData){var table=n.clipboardElement.find("table.kendo-clipboard-"+n.clipboard._uid).detach();return n.clipboardElement.empty(),void setTimeout((function(){var html=n.clipboardElement.html(),e=window.clipboardData.getData("Text").trim();(html||e)&&(n.clipboard.external({html:html,plain:e}),n.clipboardElement.empty().append(table),n._execute({command:"PasteCommand",options:{workbook:n.view._workbook,event:t.originalEvent||t}}),n.clipboard.menuInvoked=!0)}))}t.preventDefault();var l=!1,c=!1;if(window.DOMStringList&&o.types instanceof window.DOMStringList?(l=o.types.contains("text/html"),c=o.types.contains("text/plain")):Array.isArray(o.types)?(l=o.types.indexOf("text/html")>=0,c=o.types.indexOf("text/plain")>=0):(l=/text\/html/.test(o.types),c=/text\/plain/.test(o.types)),l&&(html=o.getData("text/html")),c&&(r=o.getData("text/plain").trim()),!l&&!c&&o.items&&o.items.length)for(var i=0;i<o.items.length;++i){var h=o.items[i];if("file"==h.kind&&/^image\/(?:png|jpe?g|gif)$/i.test(h.type))return n._pasteImage(h)}}else{if(e.support.browser.msie)return n.clipboardElement.focus().select(),void document.execCommand("paste");n.clipboard.menuInvoked=!0}(html||r)&&(n.clipboard.external({html:html,plain:r}),n._execute({command:"PasteCommand",options:{workbook:n.view._workbook,event:t.originalEvent||t}}))},onCopy:function(e){this.clipboard.menuInvoked=void 0===e,this._execute({command:"CopyCommand",options:{workbook:this.view._workbook,event:e.originalEvent||e}})},scrollTop:function(){this.scroller.scrollTop=0},scrollLeft:function(){this.scroller.scrollLeft=0},scrollDown:function(e){this.scroller.scrollTop+=e},scrollRight:function(e){this.scroller.scrollLeft+=e},scrollWith:function(e,t){this.scroller.scrollTop+=t,this.scroller.scrollLeft+=e},translateCoords:function(e){var t=this.container[0].getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},objectAt:function(e,t){if(e)return e=this.translateCoords(e),this.view.objectAt(e.x,e.y,t)},selectToLocation:function(e){var object=this.objectAt(e,!0);object.pane&&object.ref&&(this.extendSelection(object),this.lastKnownCellLocation=e,this.originFrame=object.pane),this.stopAutoScroll()},extendSelection:function(object){this.navigator.extendSelection(object.ref,this._selectionMode,this.appendSelection)},autoScroll:function(){var e=this._autoScrollTarget.x,t=this._autoScrollTarget.y,n=this.originFrame._grid,r=this.view.scroller,o=r.scrollLeft,l=r.scrollTop;e<n.left&&this.scrollRight(-8),e>n.right&&this.scrollRight(8),t<n.top&&this.scrollDown(-8),t>n.bottom&&this.scrollDown(8),l===r.scrollTop&&o===r.scrollLeft?this.selectToLocation(this.finalLocation):this.extendSelection(this.objectAt(this.lastKnownCellLocation))},startAutoScroll:function(e,t){this._scrollInterval||(this._scrollInterval=setInterval(this.autoScroll.bind(this),50)),this.finalLocation=t||this.lastKnownCellLocation,this._autoScrollTarget=e},stopAutoScroll:function(){clearInterval(this._scrollInterval),this._scrollInterval=null},openCustomEditor:function(){this.view.openCustomEditor()},openFilterMenu:function(e){var object=this.objectAt(e),t=this._workbook.activeSheet().filterColumn(object.ref),n=this.view.createFilterMenu(t);n.bind("action",this.onCommandRequest.bind(this)),n.bind("action",n.close.bind(n)),n.openFor(e.target)},_saveEditorValue:function(e){var t=this.editor._range.sheet(),n=this.editor.value();this._workbook.activeSheet()!==t&&(this._workbook.activeSheet()._setFormulaSelections(),this._workbook.activeSheet(t)),t.isInEditMode(!1),this._lastEditorValue=n,this._execute({command:"EditCommand",options:{value:n,arrayFormula:e}})},onEditorChange:function(){this._saveEditorValue(!1)},onEditorArrayFormula:function(){this._saveEditorValue(!0),this.editor.deactivate(!0)},onEditorActivate:function(){var e=this._workbook.activeSheet();e._setFormulaSelections(this.editor.highlightedRefs()),e.isInEditMode(!0)},onEditorDeactivate:function(){var e=this._workbook.activeSheet();e.isInEditMode(!1),e._setFormulaSelections([])},onEditorUpdate:function(){this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs())},onEditorBarFocus:function(){!1===this._workbook.activeSheet().selection().enable()||this.editor.activate({range:this._workbook.activeSheet().selection(),rect:this.view.activeCellRectangle(),tooltip:this._activeTooltip()})},onEditorCellFocus:function(){this.editor.scale()},onEditorEsc:function(){this.resetEditorValue(),this.editor.deactivate(),this.clipboardElement.focus()},insertNewline:function(e){e.preventDefault(),this.editor.insertNewline()},onEditorBlur:function(e,t){this.editor.isFiltered()||(this._preventNavigation=!1,this.editor.deactivate(),this._preventNavigation||(this.clipboardElement.focus(),this.navigator.navigateInSelection(o[t])))},onEditorAction:function(e,t){var n=this.editor,o=this._workbook.activeSheet();this._casualEditing&&/^(?:up|right|down|left)$/.test(t)?(this.deactivateEditor(),this.navigator.moveActiveCell(r[t]),e.preventDefault()):n.canInsertRef(!0)&&(this.navigator.moveActiveCell(r[t]),n.activeEditor().refAtPoint(o),o._setFormulaSelections(n.highlightedRefs()),e.preventDefault())},onEditorShiftAction:function(e,t){var n=this.editor,o=this._workbook.activeSheet();n.canInsertRef(!0)&&(this.navigator.modifySelection(r[t.replace("shift+","")],this.appendSelection),n.activeEditor().refAtPoint(o),o._setFormulaSelections(n.highlightedRefs()),e.preventDefault())},resetEditorValue:function(){var e=this._workbook.activeSheet(),t=e.activeCell(),input=this._workbook._inputForRef(t),n=e.range(t).intersectingArrayFormula();n&&(input="="+n.formula),this.editor.value(input,!!n)},activateEditor:function(e){this._casualEditing=e,this.editor.activate({range:this._workbook.activeSheet().selection(),rect:this.view.activeCellRectangle(),tooltip:this._activeTooltip()}).focus()},deactivateEditor:function(){this.view.editor.deactivate()},onCommandRequest:function(e){e.command?this._execute(e):this._workbook.undoRedoStack[e.action]()},onDialogRequest:function(e){var n={pdfExport:this._workbook.options.pdf,excelExport:this._workbook.options.excel};e.options?t.extend(!0,e.options,n):e.options=n,this.view.openDialog(e.name,e.options)},onNameEditorEnter:function(){var t,n=this._workbook,r=n.activeSheet(),o=this.view.nameEditor.value();if((t=e.spreadsheet.calc.parseReference(o,!0)||n.nameValue(o))instanceof e.spreadsheet.Ref){if(t.sheet&&t.sheet.toLowerCase()!=r.name().toLowerCase()){var l=n.sheetByName(t.sheet);l&&(n.activeSheet(l),r=l)}r.range(t).select()}else t=r.selection()._ref.clone().simplify().setSheet(r.name(),!0),this._execute({command:"DefineNameCommand",options:{name:o,value:t}}),this.clipboardElement.focus()},onNameEditorCancel:function(){this.clipboardElement.focus()},onNameEditorSelect:function(t){var n=t.name,r=this._workbook,o=r.activeSheet(),l=r.nameValue(n);if(l instanceof e.spreadsheet.Ref){if(l.sheet&&l.sheet.toLowerCase()!=o.name().toLowerCase()){var c=r.sheetByName(l.sheet);c&&(r.activeSheet(c),o=c)}o.range(l).select()}else this.clipboardElement.focus()},onNameEditorDelete:function(e){this._execute({command:"DeleteNameCommand",options:{name:e.name}}),this.clipboardElement.focus()}});e.spreadsheet.Controller=C}function S(e){return e.map((function(e){return'[data-action="'+e+'"]'})).join(",")}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1554),e.exports=n(1554)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1534:function(e,t){e.exports=n(51)},1554:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1555),n(1556),n(1534)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.spreadsheet.CellRef,r={view:"k-spreadsheet-view",fixedContainer:"k-spreadsheet-fixed-container",editContainer:"k-spreadsheet-edit-container",scroller:"k-spreadsheet-scroller",viewSize:"k-spreadsheet-view-size",clipboard:"k-spreadsheet-clipboard",cellEditor:"k-spreadsheet-cell-editor",barEditor:"k-spreadsheet-editor",topCorner:"k-spreadsheet-top-corner",filterHeadersWrapper:"k-filter-wrapper",filterRange:"k-filter-range",filterButton:"k-spreadsheet-filter",filterButtonActive:"k-state-active",horizontalResize:"k-horizontal-resize",verticalResize:"k-vertical-resize",icon:"k-icon",iconFilterDefault:"k-i-arrow-60-down",sheetsBar:"k-spreadsheet-sheets-bar",sheetsBarActive:"k-spreadsheet-sheets-bar-active",sheetsBarInactive:"k-spreadsheet-sheets-bar-inactive",cellContextMenu:"k-spreadsheet-cell-context-menu",rowHeaderContextMenu:"k-spreadsheet-row-header-context-menu",colHeaderContextMenu:"k-spreadsheet-col-header-context-menu",drawingContextMenu:"k-spreadsheet-drawing-context-menu"};e.spreadsheet.messages.view={nameBox:"Name Box",errors:{openUnsupported:"Unsupported format. Please select an .xlsx file.",shiftingNonblankCells:"Cannot insert cells due to data loss possibility. Select another insert location or delete the data from the end of your worksheet.",insertColumnWhenRowIsSelected:"Cannot insert column when all columns are selected.",insertRowWhenColumnIsSelected:"Cannot insert row when all rows are selected.",filterRangeContainingMerges:"Cannot create a filter within a range containing merges",sortRangeContainingMerges:"Cannot sort a range containing merges",cantSortMultipleSelection:"Cannot sort multiple selection",cantSortNullRef:"Cannot sort empty selection",cantSortMixedCells:"Cannot sort range containing cells of mixed shapes",validationError:"The value that you entered violates the validation rules set on the cell.",cannotModifyDisabled:"Cannot modify disabled cells."},tabs:{home:"Home",insert:"Insert",data:"Data"}},e.spreadsheet.messages.menus={cut:"Cut",copy:"Copy",paste:"Paste",merge:"Merge",unmerge:"Unmerge",delete:"Delete",hide:"Hide",unhide:"Unhide",bringToFront:"Bring to front",sendToBack:"Send to back"};var o=e.Class.extend({init:function(){this.cols=[],this.trs=[],this._height=0,this._width=0},addColumn:function(t){this._width+=t;var col=e.dom.element("col",{style:{width:t+"px"}});col.visible=t>0,this.cols.push(col)},addRow:function(t){var n;n={style:{height:t+"px"}},this._height+=t;var tr=e.dom.element("tr",n);tr.visible=t>0,this.trs.push(tr)},addCell:function(t,text,style,n,r){null==text&&(text=""),text instanceof e.dom.Node||(text=e.dom.text(text));var o=[text],l={style:style};r&&!r.value&&(o.push(e.dom.element("span",{className:"k-dirty"})),n=(n||"")+(n?" ":"")+"k-dirty-cell",l.title=r.message),n&&(l.className=n);var td=e.dom.element("td",l,o);return this.trs[t].children.push(td),td},toDomTree:function(t,n,r){this.trs=this.trs.filter((function(tr){return tr.visible}));var o=0;return this.cols=this.cols.filter((function(col,e){return col.visible||(this.trs.forEach((function(tr){tr.children.splice(e-o,1)})),o++),col.visible}),this),e.dom.element("table",{style:{left:t+"px",top:n+"px",height:this._height+"px",width:this._width+"px"},className:r},[e.dom.element("colgroup",null,this.cols),e.dom.element("tbody",null,this.trs)])}});e.spreadsheet.ContextMenu=e.ui.ContextMenu;var l=e.template('<div class="#=classNames.view#"><div class="#=classNames.fixedContainer#"></div><div class="#=classNames.scroller#"><div class="#=classNames.viewSize#"></div></div><div tabindex="0" class="#=classNames.clipboard#" contenteditable=true></div><div class="#=classNames.cellEditor#"></div></div><div class="#=classNames.sheetsBar#"></div><ul class="#=classNames.cellContextMenu#"><li data-action=cut>#: messages.cut #</li><li data-action=copy>#: messages.copy #</li><li data-action=paste>#: messages.paste #</li><li class="k-separator"></li><li data-action=merge>#: messages.merge #</li><li data-action=unmerge>#: messages.unmerge #</li></ul><ul class="#=classNames.rowHeaderContextMenu#"><li data-action=cut>#: messages.cut #</li><li data-action=copy>#: messages.copy #</li><li data-action=paste>#: messages.paste #</li><li class="k-separator"></li><li data-action="delete-row">#: messages.delete #</li><li data-action="hide-row">#: messages.hide #</li><li data-action="unhide-row">#: messages.unhide #</li></ul><ul class="#=classNames.colHeaderContextMenu#"><li data-action=cut>#: messages.cut #</li><li data-action=copy>#: messages.copy #</li><li data-action=paste>#: messages.paste #</li><li class="k-separator"></li><li data-action="delete-column">#: messages.delete #</li><li data-action="hide-column">#: messages.hide #</li><li data-action="unhide-column">#: messages.unhide #</li></ul><ul class="#=classNames.drawingContextMenu#"><li data-action="bring-to-front">#: messages.bringToFront #</li><li data-action="send-to-back">#: messages.sendToBack #</li><li class="k-separator"></li><li data-action="delete-drawing">#: messages.delete #</li></ul>'),c=e.Class.extend({init:function(element,n){var r=c.classNames;this.element=element,this.options=t.extend(!0,{messages:e.spreadsheet.messages.view},this.options,n),this._chrome(),this._dialogs=[],element.append(l({classNames:r,messages:e.spreadsheet.messages.menus})),this._formulaInput(),this.wrapper=element.find("."+r.view),this.container=element.find("."+r.fixedContainer)[0],this.scroller=element.find("."+r.scroller)[0],this.clipboard=element.find("."+r.clipboard),this.viewSize=t(this.scroller.firstChild),this.tree=new e.dom.Tree(this.container),this.clipboardContents=new e.dom.Tree(this.clipboard[0]),this.editor=new e.spreadsheet.SheetEditor(this),this._sheetsbar();var o={target:element,animation:!1,showOn:"never"};this.cellContextMenu=new e.spreadsheet.ContextMenu(element.find("."+r.cellContextMenu),o),this.colHeaderContextMenu=new e.spreadsheet.ContextMenu(element.find("."+r.colHeaderContextMenu),o),this.rowHeaderContextMenu=new e.spreadsheet.ContextMenu(element.find("."+r.rowHeaderContextMenu),o),this.drawingContextMenu=new e.spreadsheet.ContextMenu(element.find("."+r.drawingContextMenu),o)},enableClipboard:function(e){this.isClipboardDeactivated=!e,e?this.clipboard.attr("contenteditable",e):this.clipboard.removeAttr("contenteditable")},_resize:function(){var n=t(this.formulaBar.element).parents(".k-spreadsheet-action-bar"),r=e._outerHeight,o=this.tabstrip?r(this.tabstrip.element):0,l=n?r(n):0,c=this.sheetsbar?r(this.sheetsbar.element):0;this.wrapper.height(this.element.height()-(o+l+c)),this.tabstrip&&this.tabstrip.quickAccessAdjust()},_chrome:function(){var n=t("<div class='k-spreadsheet-action-bar' />").prependTo(this.element),r=t("<div class='k-spreadsheet-name-editor' />").appendTo(n);this.nameEditor=new e.spreadsheet.NameEditor(r,this.options);var o=t("<div />").appendTo(n);this.formulaBar=new e.spreadsheet.FormulaBar(o),this.options.toolbar&&this._tabstrip()},_formulaInput:function(){var t=this.element.find("."+c.classNames.cellEditor);this.formulaInput=new e.spreadsheet.FormulaInput(t,{autoScale:!0})},_sheetsbar:function(){if(this.options.sheetsbar){var n=t.extend(!0,{openDialog:this.openDialog.bind(this)},this.options.sheetsbar);this.sheetsbar=new e.spreadsheet.SheetsBar(this.element.find("."+c.classNames.sheetsBar),n)}},_tabstrip:function(){var n=this.options.messages.tabs,r=t.extend(!0,{home:!0,insert:!0,data:!0},this.options.toolbar),o=[];for(var l in this.tabstrip&&(this.tabstrip.destroy(),this.element.children(".k-tabstrip").remove()),r)(!0===r[l]||r[l]instanceof Array)&&o.push({id:l,text:n[l],content:""});this.tabstrip=new e.spreadsheet.TabStrip(t("<div />").prependTo(this.element),{animation:!1,dataTextField:"text",dataContentField:"content",dataSource:o,toolbarOptions:r,view:this}),this.tabstrip.select(0)},_executeCommand:function(e){this._sheet.trigger("commandRequest",e)},workbook:function(e){this._workbook=e,e._view=this,this.nameEditor._workbook=e},sheet:function(e){this._sheet=e},activeCellRectangle:function(){return this.cellRectangle(this._sheet._viewActiveCell())},_rectangle:function(e,t){return e._grid.boundingRectangle(t.toRangeRef())},isColumnResizer:function(e,t,col){return e-=this._sheet._grid._headerWidth,t._grid.columns.frozen||(e+=this.scroller.scrollLeft),null===(col=this._sheet._grid._columns.locate(0,col,(function(t){return Math.abs(e-t)<=3.5})))||this._sheet.isHiddenColumn(col)?null:col},isRowResizer:function(e,t,n){return e-=this._sheet._grid._headerHeight,t._grid.rows.frozen||(e+=this.scroller.scrollTop),null===(n=this._sheet._grid._rows.locate(0,n,(function(t){return Math.abs(e-t)<=3.5})))||this._sheet.isHiddenRow(n)?null:n},isFilterIcon:function(t,n,r,o){var l=this,c=r._grid,h=c.rows.frozen?0:l.scroller.scrollTop,d=c.columns.frozen?0:l.scroller.scrollLeft;return t-=l._sheet._grid._headerWidth-d,n-=l._sheet._grid._headerHeight-h,e.util.withExit((function(e){l._sheet.forEachFilterHeader(o,(function(o){var rect=l._rectangle(r,o);r.filterIconRect(rect).intersects(t,n)&&e(!0)}))}))},isAutoFill:function(e,t,n){var r=this._sheet.select();if(r.size>1)return!1;e-=this._sheet._grid._headerWidth,t-=this._sheet._grid._headerHeight,n._grid.columns.frozen||(e+=this.scroller.scrollLeft),n._grid.rows.frozen||(t+=this.scroller.scrollTop);var o=this._rectangle(n,r);return Math.abs(o.right-e)<8&&Math.abs(o.bottom-t)<8},isEditButton:function(e,t,n){if(this._sheet.activeCellCustomEditor()){var r=this.activeCellRectangle();if(t>=r.top&&t<=r.bottom)return n._editorInLastColumn?e<r.left&&e>=r.left-20:e>r.right&&e<=r.right+20}},drawingAt:function(e,t,n){e-=this._sheet._grid._headerWidth,t-=this._sheet._grid._headerHeight,n._grid.columns.frozen||(e+=this.scroller.scrollLeft),n._grid.rows.frozen||(t+=this.scroller.scrollTop);for(var r=this._sheet,o=this._sheet._drawings,i=o.length;--i>=0;){var l=o[i],c=r.drawingBoundingBox(l);if(c.intersects(e,t))return{drawing:l,drx:c.left-e,dry:c.top-t}}},objectAt:function(e,t,r){var object,o,l=this._sheet._grid;if(e<0||t<0||e>this.scroller.clientWidth||t>this.scroller.clientHeight)object={type:"outside"};else if(e<l._headerWidth&&t<l._headerHeight)object={type:"topcorner"};else if(o=this.paneAt(e,t)){if(!r){var c=this.drawingAt(e,t,o);if(c)return{type:"drawing",drawing:c.drawing,drx:c.drx,dry:c.dry,pane:o,startX:e,startY:t}}var h=o._grid.rows.indexVisible(t,this.scroller.scrollTop),d=o._grid.columns.indexVisible(e,this.scroller.scrollLeft),f="cell",m=new n(h,d),v=this._sheet.selectionInProgress();this.isAutoFill(e,t,o)?f="autofill":this.isFilterIcon(e,t,o,m)?f="filtericon":!v&&e<l._headerWidth?(f="rowheader",null!==(h=this.isRowResizer(t,o,h))&&(m=new n(h,-1/0),f="rowresizehandle")):!v&&t<l._headerHeight?(f="columnheader",null!==(d=this.isColumnResizer(e,o,d))&&(m=new n(-1/0,d),f="columnresizehandle")):this.isEditButton(e,t,o)&&(f="editor"),"cell"==f&&this._sheet.forEachMergedCell(m,(function(e){m=e.topLeft})),object={type:f,ref:m}}else object={type:"outside"};return object.pane=o,object.x=e,object.y=t,object},paneAt:function(e,t){return this.panes.filter((function(n){var r=n._grid;return _(t,r.top,r.bottom)&&_(e,r.left,r.right)}))[0]},containingPane:function(e){return this.panes.filter((function(t){return!!t._grid.contains(e)}))[0]},cellRectangle:function(e){var t=this.containingPane(e)._grid;return this._sheet._grid.rectangle(e).offset(t.headerWidth-(t.columns.frozen?0:this.scroller.scrollLeft),t.headerHeight-(t.rows.frozen?0:this.scroller.scrollTop))},refresh:function(e){var t=this._sheet;if(this.tabstrip&&this.tabstrip.refreshTools(t.range(t.activeCell())),e.sheetSelection&&this.sheetsbar&&this.sheetsbar.renderSheets(this._workbook.sheets(),this._workbook.sheetIndex(this._sheet)),this._resize(),this.viewSize[0].style.height=t._grid.totalHeight()+"px",this.viewSize[0].style.width=t._grid.totalWidth()+"px",e.layout){var n=t.frozenColumns(),r=t.frozenRows();this.panes=[this._pane(r,n)],n>0&&this.panes.push(this._pane(r,0,null,n)),r>0&&this.panes.push(this._pane(0,n,r,null)),r>0&&n>0&&this.panes.push(this._pane(0,0,r,n))}e.filter&&this._destroyFilterMenu(),e.activeCell&&(this._focus=t.activeCell().toRangeRef())},createFilterMenu:function(n){if(this._filterMenu&&this._filterMenu.options.column==n)return this._filterMenu;this._destroyFilterMenu();var r=this._sheet,o=r.filter().ref,l=new e.spreadsheet.Range(o,r),element=t("<div />").appendTo(this.element),c={column:n,range:l},h=new e.spreadsheet.FilterMenu(element,c);return this._filterMenu=h,h},selectClipboardContents:function(){this.isClipboardDeactivated||(this.clipboard.focus(),function(e){var t=window.getSelection();t.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),t.addRange(n)}(this.clipboard[0]))},scrollIntoView:function(e){var t=!1,n=this.containingPane(e)._grid,r=n.scrollBoundaries(e),o=this.scroller,l=n.rows.frozen?0:o.scrollTop,c=n.columns.frozen?0:o.scrollLeft;return r.top<l&&(t=!0,o.scrollTop=r.scrollTop),r.bottom>l&&(t=!0,o.scrollTop=r.scrollBottom),r.left<c&&(t=!0,o.scrollLeft=r.scrollLeft),r.right>c&&(t=!0,o.scrollLeft=r.scrollRight),t},_destroyDialog:function(){this._dialogs.pop()},openCustomEditor:function(){var e=this,t=e._sheet.activeCell().first(),n=e._sheet.activeCellCustomEditor(),r=e._sheet.range(t);n.edit({range:r,rect:e.activeCellRectangle(),view:this,validation:this._sheet.validation(t),callback:function(t,n){e._executeCommand({command:"EditCommand",options:{operatingRange:r,property:n?"input":"value",value:t}})}})},openDialog:function(t,n){var r=this._sheet;return r.withCultureDecimals(function(){var dialog=e.spreadsheet.dialogs.create(t,n);if(dialog){dialog.bind("action",this._executeCommand.bind(this)),dialog.bind("deactivate",this._destroyDialog.bind(this)),this._dialogs.push(dialog);var o=r.activeCell(),l=new e.spreadsheet.Range(o,r);return dialog.open(l),dialog}}.bind(this))},showError:function(n,r){var o=this._dialogs,l=this.options.messages.errors,c=!1;if(o.length>0&&o.forEach((function(dialog){dialog.options&&"Error"===dialog.options.title&&(c=!0)})),!c){var h=function(t){var n=t.sender.dialog().element;n.find(".k-button:first").focus(),n.find(".k-button, input").on("keydown",(function(n){n.keyCode==e.keys.ESC&&t.sender.close()}))},d=function(e){var t=e.sender;this.selectClipboardContents(),t._retry&&r&&r()}.bind(this);if(e.spreadsheet.dialogs.registered(n.type)){var f={close:d};"validationError"===n.type&&(f=t.extend(f,{title:n.title||"Error",text:n.body?n.body:l[n.type],activate:h})),this.openDialog(n.type,f)}else this.openDialog("message",{title:n.title||"Error",text:n.body?n.body:l[n.type],activate:h,close:d})}},destroy:function(){this._dialogs.forEach((function(dialog){dialog.destroy()})),this.cellContextMenu.destroy(),this.rowHeaderContextMenu.destroy(),this.colHeaderContextMenu.destroy(),this.drawingContextMenu.destroy(),this.cellContextMenu=this.rowHeaderContextMenu=this.colHeaderContextMenu=this.drawingContextMenu=null,this.tabstrip&&(this.tabstrip.destroy(),this.tabstrip=null),this._destroyFilterMenu()},_destroyFilterMenu:function(){this._filterMenu&&(this._filterMenu.destroy(),this._filterMenu=void 0,this._filterMenuColumn=void 0)},render:function(n){if(this.element.is(":visible")){var o=this._sheet,l=o.focus();if(!l||!this.scrollIntoView(l)){var h=o.resizingInProgress()?o.resizeHandlePosition().col===-1/0?"column":"row":"none";this.wrapper.toggleClass(r.editContainer,this.editor.isActive()).toggleClass(r.horizontalResize,"row"==h).toggleClass(r.verticalResize,"column"==h);var d=o._grid,f=this.scroller,m=this.panes.map((function(e){return e.render(f)})),v=e.dom.element("div",{style:{width:d._headerWidth+"px",height:d._headerHeight+"px"},className:c.classNames.topCorner});m.push(v),o.resizeHandlePosition()&&o.resizeHintPosition()&&m.push(this.renderResizeHint()),this.tree.render(m);var _=e.support.scrollbar();t(this.container).css({width:this.wrapper[0].clientWidth-_,height:this.wrapper[0].clientHeight-_}),this.editor.isActive()?this.editor.toggleTooltip(this.activeCellRectangle()):n.resize||n.scroll||n.comment||o.selectionInProgress()||o.resizingInProgress()||o.draggingInProgress()||o.isInEditMode()||this.renderClipboardContents()}}},renderResizeHint:function(){var style,t=this._sheet,n=t.resizeHandlePosition().col!==-1/0;style=n?{height:this.scroller.clientHeight+"px",width:"7px",left:t.resizeHintPosition().x+"px",top:"0px"}:{height:"7px",width:this.scroller.clientWidth+"px",top:t.resizeHintPosition().y+"px",left:"0px"};var r=d.classNames;return e.dom.element("div",{className:r.resizeHint+(n?"":" "+r.resizeHintVertical),style:style},[e.dom.element("div",{className:r.resizeHintHandle}),e.dom.element("div",{className:r.resizeHintMarker})])},renderClipboardContents:function(){var t=this._sheet,r=t._grid,l=r.normalize(t.select().toRangeRef()),c=this._workbook.clipboard().canCopy();if(!1===c.canCopy&&c.multiSelection)return this.clipboardContents.render([]),void this.selectClipboardContents();l=t.trim(l);var table=new o,h=r.rangeDimensions(l);h.rows.forEach((function(e){table.addRow(e)})),h.columns.forEach((function(e){table.addColumn(e)}));var d=t._getMergedCells(l),m=d.primary,v=d.secondary;t.forEach(l,(function(t,col,r){var o=new n(t,col).print();if(!v[o]){var td=function(table,t,n){var style={};n.background&&(style.backgroundColor=n.background),n.color&&(style.color=n.color),n.fontFamily&&(style.fontFamily=n.fontFamily),n.underline&&(style.textDecoration="underline"),n.italic&&(style.fontStyle="italic"),n.textAlign&&(style.textAlign=n.textAlign),n.verticalAlign&&(style.verticalAlign="center"===n.verticalAlign?"middle":n.verticalAlign),n.bold&&(style.fontWeight="bold"),n.fontSize&&(style.fontSize=n.fontSize+"px"),!0===n.wrap&&(style.whiteSpace="pre-wrap"),n.borderRight?style.borderRight=f(n.borderRight):n.background&&(style.borderRightColor=n.background),n.borderBottom?style.borderBottom=f(n.borderBottom):n.background&&(style.borderBottomColor=n.background);var data=n.value,r=typeof data,o=n.format;if(o||"number"!=r||data==Math.floor(data)||(o="0.##############"),o&&null!=data&&(data=e.spreadsheet.formatting.format(data,o)).__dataType&&(r=data.__dataType),!style.textAlign)switch(r){case"number":case"date":case"percent":case"currency":style.textAlign="right";break;case"boolean":style.textAlign="center"}var l=null;!1===n.enable&&(l="k-state-disabled");var c,h,td=table.addCell(t,data,style,l,n.validation);return n.borderLeft?(h=function(table,e){var t=table.trs[e].children;return t[t.length-2]}(table,t),c=f(n.borderLeft),h&&c&&(h.attr.style.borderRight=c)):n.background&&(style.borderLeftColor=n.background),n.borderTop?(h=function(table,e){var t=table.trs[e-1],n=table.trs[e].children.length-1;if(t&&n>=0)return t.children[n]}(table,t),c=f(n.borderTop),h&&c&&(h.attr.style.borderBottom=c)):n.background&&(style.borderTopColor=n.background),td}(table,t-l.topLeft.row,r),c=m[o];c&&(td.attr.colspan=c.width(),td.attr.rowspan=c.height())}})),this.clipboardContents.render([table.toDomTree(0,0,"kendo-clipboard-"+this._workbook.clipboard()._uid)]),this.selectClipboardContents()},_pane:function(e,t,n,r){var o=new d(this._sheet,this._sheet._grid.pane({row:e,column:t,rowCount:n,columnCount:r}));return o.refresh(this.scroller.clientWidth,this.scroller.clientHeight),o},forceScrollerStackingOrder:function(e){t(this.scroller).css("z-index",e)}}),h={cell:"k-spreadsheet-cell",vaxis:"k-spreadsheet-vaxis",haxis:"k-spreadsheet-haxis",vborder:"k-spreadsheet-vborder",hborder:"k-spreadsheet-hborder",rowHeader:"k-spreadsheet-row-header",columnHeader:"k-spreadsheet-column-header",pane:"k-spreadsheet-pane",data:"k-spreadsheet-data",mergedCell:"k-spreadsheet-merged-cell",mergedCellsWrapper:"k-merged-cells-wrapper",activeCell:"k-spreadsheet-active-cell",selection:"k-spreadsheet-selection",selectionWrapper:"k-selection-wrapper",autoFillWrapper:"k-auto-fill-wrapper",single:"k-single",top:"k-top",right:"k-right",bottom:"k-bottom",left:"k-left",resizeHandle:"k-resize-handle",columnResizeHandle:"k-column-resize-handle",rowResizeHandle:"k-row-resize-handle",resizeHint:"k-resize-hint",resizeHintHandle:"k-resize-hint-handle",resizeHintMarker:"k-resize-hint-marker",resizeHintVertical:"k-resize-hint-vertical",selectionHighlight:"k-spreadsheet-selection-highlight",series:["k-series-a","k-series-b","k-series-c","k-series-d","k-series-e","k-series-f"]},d=e.Class.extend({init:function(e,t){this._sheet=e,this._grid=t},refresh:function(e,t){this._grid.refresh(e,t)},isVisible:function(e,t,n){return this._grid.view(e,t).ref.intersects(n)},render:function(t){var n=t.scrollLeft,r=t.scrollTop;r<0&&(r=0),n<0&&(n=0);var o=d.classNames,l=this._sheet,c=this._grid,view=c.view(n,r);this._currentView=view,this._currentRect=this._rectangle(view.ref),this._selectedHeaders=l.selectedHeaders();var h=[];if(h.push(this.renderData()),l._activeDrawing||h.push(this.renderSelection(t)),h.push(this.renderAutoFill()),h.push(this.renderEditorSelection()),h.push(this.renderFilterHeaders()),c.hasRowHeader){var f=e.dom.element("div",{className:o.rowHeader,style:{width:c.headerWidth+"px",top:view.rowOffset+"px"}});h.push(f),l.forEach(view.ref.leftColumn(),function(t){if(!l.isHiddenRow(t)){var text=t+1,n=l.rowHeight(t);f.children.push(e.dom.element("div",{className:this.headerClassName(t,"row"),style:{width:c.headerWidth+"px",height:n+"px"}},[e.dom.element("div",{className:"k-vertical-align-center"},[e.dom.text(text+"")])]))}}.bind(this))}if(c.hasColumnHeader){var m=e.dom.element("div",{className:o.columnHeader,style:{top:"0px",left:view.columnOffset+"px",width:this._currentRect.width+"px",height:c.headerHeight+"px"}});h.push(m);var v=0;l.forEach(view.ref.topRow(),function(t,col){if(!l.isHiddenColumn(col)){var text=e.spreadsheet.Ref.display(null,1/0,col),n=l.columnWidth(col);m.children.push(e.dom.element("div",{className:this.headerClassName(col,"col"),style:{position:"absolute",left:v+"px",width:n+"px",height:c.headerHeight+"px"}},[e.dom.element("div",{className:"k-vertical-align-center"},[e.dom.text(text+"")])])),v+=n}}.bind(this))}l.resizeHandlePosition()&&(c.hasColumnHeader||c.hasRowHeader)&&(l.resizeHintPosition()||this.renderResizeHandle(h));var _=[o.pane];return c.hasColumnHeader&&_.push(o.top),c.hasRowHeader&&_.push(o.left),e.dom.element("div",{style:c.style,className:_.join(" ")},h)},headerClassName:function(e,t){var n,r,o=this._selectedHeaders;"row"===t?(n=o.rows[e],r=o.allRows):(n=o.cols[e],r=o.allCols);var l=n||(o.all?"full":r?"partial":"none");return l&&(l="k-selection-"+l),l},renderData:function(){var t,n=this._sheet,view=this._currentView,r=e.dom.element("div",{className:d.classNames.data,style:{position:"relative",left:view.columnOffset+"px",top:view.rowOffset+"px"}}),rect=this._currentRect,o=e.spreadsheet.draw.doLayout(n,view.ref,{forScreen:!0}),l=n._showGridLines;l&&(t=null,o.xCoords.forEach((function(o){o!==t&&(t=o,r.children.push(e.dom.element("div",{className:h.vaxis,style:{left:o+"px",height:rect.height+"px",borderColor:n.gridLinesColor()}})))})),t=null,o.yCoords.forEach((function(o){o!==t&&(t=o,r.children.push(e.dom.element("div",{className:h.haxis,style:{top:o+"px",width:rect.width+"px",borderColor:n.gridLinesColor()}})))})));var c=e.spreadsheet.draw.Borders(),f=n.activeCell().toRangeRef(),m=f.topLeft;return o.cells.forEach((function(t){var o=null,h=t.row+view.ref.topLeft.row,_=t.col+view.ref.topLeft.col;if(n._activeDrawing){var w=n._activeDrawing.topLeftCell;w&&w.row==h&&w.col==_&&(o="k-spreadsheet-drawing-anchor-cell")}else h==m.row&&_==m.col&&(o=[d.classNames.activeCell].concat(this._activeFormulaColor(),this._directionClasses(f)),n.singleCellSelection()&&o.push(d.classNames.single),o=o.join(" "));if(c.add(t),v(r.children,t,o,l),t.comment&&n._commentRef&&h==n._commentRef.row&&_==n._commentRef.col){var div=e.dom.element("div",{className:"k-tooltip k-spreadsheet-cell-comment",style:{left:t.right+4+"px",top:t.top+"px"}},[e.dom.text(t.comment)]);r.children.push(div)}}),this),c.vert.forEach((function(a){a.forEach((function(b){if(!b.rendered){b.rendered=!0;var style={left:b.x+"px",top:b.top+"px",height:b.bottom-b.top+1+"px",borderWidth:b.size+"px",borderColor:b.color};1!=b.size&&(style.transform="translateX(-"+(b.size-1)/2+"px)"),r.children.push(e.dom.element("div",{className:h.vborder,style:style}))}}))})),c.horiz.forEach((function(a){a.forEach((function(b){if(!b.rendered){b.rendered=!0;var style={top:b.y+"px",left:b.left+"px",width:b.right-b.left+"px",borderWidth:b.size+"px",borderColor:b.color};1!=b.size&&(style.transform="translateY(-"+(b.size-1)/2+"px)"),r.children.push(e.dom.element("div",{className:h.hborder,style:style}))}}))})),this.renderDrawings(o,r.children),r},renderDrawings:function(t,n){var r=this._sheet,o=r._workbook;t.drawings.forEach((function(t){var l=t.drawing,div=t.box.toDiv("k-spreadsheet-drawing");l.image&&div.children.push(e.dom.element("div",{className:"k-spreadsheet-drawing-image",style:{backgroundImage:"url('"+o.imageUrl(l.image)+"')",opacity:l.opacity}})),l===r._activeDrawing&&(div.attr.className+=" k-spreadsheet-active-drawing",function(t){["N","NE","E","SE","S","SW","W","NW"].forEach((function(n){t.push(e.dom.element("div",{className:"k-spreadsheet-drawing-handle "+n,"data-direction":n}))}))}(div.children)),n.push(div)}))},renderResizeHandle:function(t){var style,n=this._sheet.resizeHandlePosition(),o=this._rectangle(n),l=[d.classNames.resizeHandle];if(n.col!==-1/0){if(this._grid.rows._start>0)return;style={height:this._grid.headerHeight+"px",width:"7px",left:o.right-3.5+"px",top:"0px"},l.push(r.horizontalResize)}else{if(this._grid.columns._start>0)return;style={height:"7px",width:this._grid.headerWidth+"px",top:o.bottom-3.5+"px",left:"0px"},l.push(r.verticalResize)}t.push(e.dom.element("div",{className:l.join(" "),style:style}))},filterIconRect:function(rect){return new e.spreadsheet.Rectangle(rect.right-16-3,rect.top+3,16,16)},renderFilterHeaders:function(){var t=this._sheet,n=[],r=c.classNames,filter=t.filter();function o(t){return e.dom.element("span",{className:r.icon+" "+t})}return filter&&this._addDiv(n,filter.ref,r.filterRange),t.forEachFilterHeader(this._currentView.ref,function(t){var rect=this._rectangle(t),l=this.filterIconRect(rect),c=this._sheet.filterColumn(t),button=function(t,n,r){var style={left:n.left+"px",top:n.top+"px"},l=filter&&filter.columns.some((function(e){return e.index===r})),c=t.filterButton;return l&&(c+=" "+t.filterButtonActive),e.dom.element("span",{className:c,style:style},[o(t.iconFilterDefault)])}(r,l,c);n.push(button)}.bind(this)),e.dom.element("div",{className:r.filterHeadersWrapper},n)},renderEditorSelection:function(){var t=d.classNames,n=this._sheet,r=[];return n._formulaSelections.forEach(function(n){var o=n.ref;o!==e.spreadsheet.NULLREF&&this._addDiv(r,o,t.selectionHighlight+" "+n.colorClass)}.bind(this)),e.dom.element("div",{className:t.selectionWrapper},r)},renderSelection:function(t){var n=d.classNames,r=[],o=[n.selection],l=this._sheet,c=l.activeCell().toRangeRef(),h=l.select();return o=o.concat(this._activeFormulaColor()),1===h.size()&&o.push("k-single-selection"),this._sheet.autoFillPunch()&&o.push("k-dim-auto-fill-handle"),h.forEach(function(t){t!==e.spreadsheet.NULLREF&&this._addDiv(r,t,o.join(" "))}.bind(this)),this._renderCustomEditorButton(r,c,t),e.dom.element("div",{className:n.selectionWrapper},r)},renderAutoFill:function(){var t=[];if(this._sheet.autoFillInProgress()){var r=this._sheet.autoFillRef(),o=this._sheet.autoFillPunch(),l=this._sheet._autoFillDirection;if(this._addDiv(t,r,"k-auto-fill"),o)this._addDiv(t,o,"k-auto-fill-punch");else if(void 0!==l){var c,h;switch(l){case 0:case 1:c=r.bottomRight,h="k-auto-fill-br-hint";break;case 2:c=new n(r.topLeft.row,r.bottomRight.col),h="k-auto-fill-tr-hint";break;case 3:c=new n(r.bottomRight.row,r.topLeft.col),h="k-auto-fill-bl-hint"}var f=this._addDiv(t,c,h);if(f){var m=e.dom.element("span",{className:"k-tooltip"},[e.dom.text(this._sheet._autoFillHint)]);f.children.push(m)}}}return e.dom.element("div",{className:d.classNames.autoFillWrapper},t)},_addDiv:function(e,t,n){var div;return this._currentView.ref.intersects(t)&&(div=this._rectangle(t).resize(1,1).toDiv(n),e.push(div)),div},_renderCustomEditorButton:function(t,n,r){var o=this,l=o._sheet,view=o._currentView,c=o._grid.columns._axis._count,h=l.activeCellCustomEditor();if(h&&view.ref.intersects(n)){var d=o._rectangle(n);l.forEach(n.collapse(),(function(n,col,l){l.left=d.left,l.top=d.top,l.width=d.width,l.height=d.height;var f="k-button k-spreadsheet-editor-button",m=col==c-1||o._buttonOutOfVisiblePane(n,col,r);m&&(f+=" k-spreadsheet-last-column"),o._editorInLastColumn=m;var v=e.dom.element("div",{className:f,style:{left:l.left+(m?0:l.width)+"px",top:l.top+"px",height:l.height+"px"}});h.icon&&v.children.push(e.dom.element("span",{className:"k-icon "+h.icon})),t.push(v)}))}},_activeFormulaColor:function(){var e,t=[];return this._sheet.isInEditMode()&&(e=this._sheet._formulaSelections.filter((function(e){return e.active&&"ref"==e.type}))[0])&&t.push(e.colorClass),t},_directionClasses:function(e){var t=[],n=d.classNames,view=this._currentView.ref;return e.move(0,-1).intersects(view)||t.push(n.left),e.move(-1,0).intersects(view)||t.push(n.top),e.move(0,1).intersects(view)||t.push(n.right),e.move(1,0).intersects(view)||t.push(n.bottom),t},_rectangle:function(e){return this._grid.boundingRectangle(e.toRangeRef()).offset(-this._currentView.mergedCellLeft,-this._currentView.mergedCellTop)},_buttonOutOfVisiblePane:function(e,col,t){var n=this._grid,r=this._sheet,o=r.range(e,col)._ref,l=n.scrollBoundaries(o),c=n.columns.frozen?0:t.scrollLeft;if(l.right+20>c||col+1===r.frozenColumns())return!0}});e.spreadsheet.View=c,e.spreadsheet.Pane=d,e.spreadsheet.drawCell=v,t.extend(!0,c,{classNames:r}),t.extend(!0,d,{classNames:h})}function f(e){return(e.size||1)+"px solid "+(e.color||"#000")}function m(link){return/:\/\//.test(link)||(link="http://"+link),link}function v(t,n,r,o){function l(t){var link=n.link;if(link||"object"==typeof n.value&&(link=n.value.link),link){var style={textDecoration:"none"};return n.color&&(style.color=n.color),n.underline&&(style.textDecoration="underline"),e.dom.element("a",{href:m(link),style:style,target:"_blank"},t?[t]:[])}return t}var c=null!=n.value||null!=n.validation&&!n.validation.value||n.background||n.merged||n.comment;if(r||c){var style={},d=n.background;if(d){var v=d;o&&((v=e.parseColor(v).toHSV()).v*=.9,v=v.toCssRgba()),v=f({color:v}),style.outline=v}d&&(style.backgroundColor=d),n.color&&(style.color=n.color),n.fontFamily&&(style.fontFamily=n.fontFamily),n.underline&&(style.textDecoration="underline"),n.italic&&(style.fontStyle="italic"),n.textAlign&&(style.textAlign=n.textAlign),n.bold&&(style.fontWeight="bold"),n.fontSize&&(style.fontSize=n.fontSize+"px"),!0===n.wrap?(style.whiteSpace="pre-wrap",style.overflowWrap="break-word",style.wordWrap="break-word"):(style.whiteSpace="pre",style.overflowWrap="normal",style.wordWrap="normal"),style.left=n.left+1+"px",style.top=n.top+1+"px",style.width=n.width-1+"px",style.height=n.height-1+"px";var data=n.value,_=typeof data,w=n.format;if(w||"number"!=_||data==Math.floor(data)||(w="0.##############"),w&&null!=data?(data=e.spreadsheet.formatting.format(data,w)).__dataType&&(_=data.__dataType):null!=data&&(data=e.dom.text(data)),!style.textAlign)switch(_){case"number":case"date":case"percent":case"currency":style.textAlign="right";break;case"boolean":style.textAlign="center"}e.spreadsheet.draw.applyIndent(n,style);var y=[h.cell];r&&y.push(r),!1===n.enable&&y.push("k-state-disabled"),n.merged&&y.push("k-spreadsheet-merged-cell"),n.comment&&y.push("k-spreadsheet-has-comment");var x=n.verticalAlign||"bottom",k=(data=x&&data?e.dom.element("div",{className:"k-vertical-align-"+x},[l(data)]):l(data))?[data]:[],C={style:style},S=n.validation;S&&!S.value&&(k.push(e.dom.element("span",{className:"k-dirty"})),y.push("k-dirty-cell"),C.title=S.message),C.className=y.join(" ");var div=e.dom.element("div",C,k);return t.push(div),div}}function _(e,t,n){return e>=t&&e<=n}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},1555:function(e,t){e.exports=n(92)},1556:function(e,t){e.exports=n(212)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1510),e.exports=n(1510)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},928:function(e,t){e.exports=n(4)},1510:function(e,t,n){var r,o,l;n(3),o=[n(19),n(928),n(1511),n(1512),n(1513)],void 0===(l="function"==typeof(r=function(){!function(e){"use strict";if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n={},r=e.spreadsheet.registerEditor=function(e,t){n[e]=t};e.spreadsheet.Sheet.prototype.activeCellCustomEditor=function(){var e=this.activeCell().first();if(this.range(e).enable()){var t,r=this.validation(e),o=this._properties.get("editor",this._grid.cellRefIndex(e));return null!=o?t=n[o]:r&&r.showButton&&(o="_validation_"+r.dataType,t=n[o]),"function"==typeof t&&(t=n[o]=t()),t}},r("_validation_date",(function(){var n,r,o;function l(){r||(r=t("<div>").kendoCalendar(),o=t("<div>").kendoPopup(),r.appendTo(o),r=r.getKendoCalendar(),o=o.getKendoPopup(),r.bind("change",(function(){o.close();var t=r.value();n.range.format()||n.range.format("yyyy-mm-dd"),n.callback(e.spreadsheet.dateToNumber(t))}))),o.setOptions({anchor:n.view.element.find(".k-spreadsheet-editor-button")});var l=n.range.value();null!=l?r.value(e.spreadsheet.numberToDate(l)):r.value(null);var c=n.validation;if(c){var h=e.ui.Calendar.fn.options.min,d=e.ui.Calendar.fn.options.max;/^(?:greaterThan|between)/.test(c.comparerType)&&(h=e.spreadsheet.numberToDate(c.from.value)),"between"==c.comparerType&&(d=e.spreadsheet.numberToDate(c.to.value)),"lessThan"==c.comparerType&&(d=e.spreadsheet.numberToDate(c.from.value)),r.setOptions({disableDates:function(t){var n=c.from?0|c.from.value:0,r=c.to?0|c.to.value:0;return t=0|e.spreadsheet.dateToNumber(t),!e.spreadsheet.validation.validationComparers[c.comparerType](t,n,r)},min:h,max:d})}else r.setOptions({disableDates:null,min:null,max:null});o.open()}return{edit:function(e){n=e,l()},icon:"k-i-calendar"}})),r("_validation_list",(function(){var n,r,o;function l(){r||(r=t("<ul class='k-list k-reset'/>").kendoStaticList({template:"#:value#",selectable:!0,autoBind:!1}),o=t("<div>").kendoPopup(),r.appendTo(o),o=o.getKendoPopup(),(r=r.getKendoStaticList()).bind("change",(function(){o.close();var e=r.value()[0];e&&n.callback(e.value)}))),o.setOptions({anchor:n.view.element.find(".k-spreadsheet-editor-button")});var l=n.validation.from.value,data=[],c=function(e){data.push({value:e})};l instanceof e.spreadsheet.calc.runtime.Matrix?l.each(c):(l+"").split(/\s*,\s*/).forEach(c);var h=new e.data.DataSource({data:data});r.setDataSource(h),h.read(),o.open()}return{edit:function(e){n=e,l()},icon:"k-i-arrow-60-down"}}))}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},1511:function(e,t){e.exports=n(94)},1512:function(e,t){e.exports=n(128)},1513:function(e,t){e.exports=n(98)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1527),e.exports=n(1527)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1527:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1528)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.spreadsheet.CellRef,n=e.spreadsheet.RangeRef,r=e.spreadsheet.UnionRef,o=e.Class.extend({init:function(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r,this.right=this.left+this.width,this.bottom=this.top+this.height},offset:function(e,t){return new o(this.left+e,this.top+t,this.width,this.height)},resize:function(e,t){return new o(this.left,this.top,this.width+e,this.height+t)},intersects:function(e,t){return e instanceof o?this.intersectsRect(e):this.left<e&&e<this.left+this.width&&this.top<t&&t<this.top+this.height},intersectsRect:function(b){var a=this;return a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom},toDiv:function(t){return e.dom.element("div",{className:t,style:{width:this.width+"px",height:this.height+"px",top:this.top+"px",left:this.left+"px"}})}}),l=e.Class.extend({init:function(e,t,n,r,o,l){this.rowCount=n,this.columnCount=r,this._columns=t,this._rows=e,this._headerHeight=o,this._headerWidth=l},isAxis:function(e){var t=(e=e.toRangeRef()).topLeft,n=e.bottomRight;return 0===t.row&&n.row===this.rowCount-1||0===t.col&&n.col===this.columnCount-1},width:function(e,t){return this._columns.sum(e,t)},height:function(e,t){return this._rows.sum(e,t)},totalHeight:function(){return this._rows.total+this._headerHeight},totalWidth:function(){return this._columns.total+this._headerWidth},index:function(e,t){return t*this.rowCount+e},cellRef:function(e){return new t(e%this.rowCount,e/this.rowCount>>0)},rowRef:function(e){return new n(new t(e,0),new t(e,this.columnCount-1))},colRef:function(col){return new n(new t(0,col),new t(this.rowCount-1,col))},cellRefIndex:function(e){return this.index(e.row,e.col)},normalize:function(e){return e instanceof n?new n(this.normalize(e.topLeft),this.normalize(e.bottomRight)).setSheet(e.sheet,e.hasSheet()):e instanceof r?e.map((function(e){return this.normalize(e)}),this):(e instanceof t&&((e=e.clone()).col=Math.max(0,Math.min(this.columnCount-1,e.col)),e.row=Math.max(0,Math.min(this.rowCount-1,e.row))),e)},rectangle:function(e){var t=this.normalize(e.topLeft),n=this.normalize(e.bottomRight);return new o(this.width(0,t.col-1),this.height(0,t.row-1),this.width(t.col,n.col),this.height(t.row,n.row))},pane:function(t){return new c(new e.spreadsheet.PaneAxis(this._rows,t.row,t.rowCount,this._headerHeight),new e.spreadsheet.PaneAxis(this._columns,t.column,t.columnCount,this._headerWidth),this)},rangeDimensions:function(e){return{rows:this._rows.values.iterator(e.topLeft.row,e.bottomRight.row),columns:this._columns.values.iterator(e.topLeft.col,e.bottomRight.col)}},forEach:function(e,n){for(var r=this.normalize(e.topLeft),o=this.normalize(e.bottomRight),l=r.col;l<=o.col;l++)for(var c=r.row;c<=o.row;c++)n(new t(c,l))},trim:function(e,r){for(var o=this.normalize(e.topLeft),l=this.normalize(e.bottomRight),c=o.row,h=o.col,d=o.col;d<=l.col;d++){var f=this.index(o.row,d),m=this.index(l.row,d),v=r.tree.intersecting(f,m);if(v.length){var _=this.cellRef(v[v.length-1].end);c=Math.max(c,_.row),h=d}}return new n(e.topLeft,new t(Math.min(c,e.bottomRight.row),h))}}),c=e.Class.extend({init:function(e,t,n){this.rows=e,this.columns=t,this._grid=n,this.headerHeight=e.headerSize,this.headerWidth=t.headerSize,this.hasRowHeader=t.hasHeader,this.hasColumnHeader=e.hasHeader},refresh:function(e,t){this.columns.viewSize(e),this.rows.viewSize(t);var n=this.columns.paneSegment(),r=this.rows.paneSegment();this.left=n.offset,this.top=r.offset,this.right=n.offset+n.length,this.bottom=r.offset+r.length,this.style={top:r.offset+"px",left:n.offset+"px",height:r.length+"px",width:n.length+"px"}},view:function(e,r){var o=this.rows.visible(r),l=this.columns.visible(e);return{rows:o,columns:l,rowOffset:o.offset,columnOffset:l.offset,mergedCellLeft:l.start,mergedCellTop:o.start,ref:new n(new t(o.values.start,l.values.start),new t(o.values.end,l.values.end))}},contains:function(e){return this.rows.contains(e.topLeft.row,e.bottomRight.row)&&this.columns.contains(e.topLeft.col,e.bottomRight.col)},index:function(e,t){return this._grid.index(e,t)},boundingRectangle:function(e){return this._grid.rectangle(e)},cellRefIndex:function(e){return this._grid.cellRefIndex(e)},scrollBoundaries:function(e){var t=this.boundingRectangle(e),n={top:Math.max(0,t.top-this.top+(this.hasColumnHeader?0:this.headerHeight)),left:Math.max(0,t.left-this.left+(this.hasRowHeader?0:this.headerWidth)),right:t.right-this.columns._viewSize+this.headerWidth,bottom:t.bottom-this.rows._viewSize+this.headerHeight},r=this.columns.defaultValue/2,o=this.rows.defaultValue/2;return n.scrollTop=n.top-o,n.scrollBottom=n.bottom+o,n.scrollLeft=n.left-r,n.scrollRight=n.right+r,n}});e.spreadsheet.Grid=l,e.spreadsheet.PaneGrid=c,e.spreadsheet.Rectangle=o}}(kendo)})?r.apply(t,o):r)||(e.exports=l)},1528:function(e,t){e.exports=n(52)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1501),e.exports=n(1501)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1501:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.Class.extend({init:function(t,n){this._value=n,this._count=t,this.values=new e.spreadsheet.RangeList(0,t-1,n),this._hidden=new e.spreadsheet.RangeList(0,t-1,0),this.scrollBarSize=e.support.scrollbar(),this._refresh()},adjust:function(e,t){t<0?(this.values.copy(e-t,this._count-1,e),this._hidden.copy(e-t,this._count-1,e)):(this.values.copy(e,this._count,e+t),this._hidden.copy(e,this._count,e+t),this.values.value(e,e+t-1,this._value),this._hidden.value(e,e+t-1,0)),this._refresh()},toJSON:function(e,t){for(var n=[],r=this.values.iterator(0,this._count-1),o=0;o<this._count;o++){var l=r.at(o),c=this._hidden.value(o,o);if(l!==this._value||c){var h=t[o];if(void 0===h){h=n.length;var d={index:o};d[e]=l,c&&(d.hidden=c),n.push(d),t[o]=h}}}return n},fromJSON:function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.index;void 0===o&&(o=n);var l=r[e];0===l?(this._hidden.value(o,o,r.hidden||this._value),this.value(o,o,0)):this.value(o,o,l)}},hide:function(e){if(!this.hidden(e)){var t=this.value(e,e);this._hidden.value(e,e,t),this.value(e,e,0)}},hidden:function(e){return 0!==this._hidden.value(e,e)},includesHidden:function(e,t){return this._hidden.intersecting(e,t).length>1},nextVisible:function(e){for(var t=this._count-1,i=e;++i<=t;)if(!this.hidden(i))return i;return e},nextPage:function(e,t){return this.index(this.sum(0,e-1)+t)},prevPage:function(e,t){return this.index(this.sum(0,e)-t)},firstVisible:function(){var e=this._hidden.first();return 0===e.value?0:e.end+1},lastVisible:function(){var e=this._hidden.last();return 0===e.value?this._count-1:e.start-1},prevVisible:function(e){for(var i=e;--i>=0;)if(!this.hidden(i))return i;return e},unhide:function(e){if(this.hidden(e)){var t=this._hidden.value(e,e);this._hidden.value(e,e,0),this.value(e,e,t)}},value:function(e,t,n){if(void 0===n)return this.values.iterator(e,t).at(0);this.values.value(e,t,n),this._refresh()},sum:function(e,t){for(var n=this.values.iterator(e,t),r=0,o=e;o<=t;o++)r+=n.at(o);return r},locate:function(e,t,n){for(var r=this.values.iterator(e,t),o=0,l=e;l<=t;l++)if(n(o+=r.at(l)))return l;return null},visible:function(e,t){var n,r,o=!1;t>=this.total+this.scrollBarSize&&(o=!0);var l=this._pixelValues.intersecting(e,t);if(n=l[0],r=l[l.length-1],!n)return{values:this.values.iterator(0,0),offset:0};var c=e-n.start,h=(c/n.value.value>>0)+n.value.start,d=c-(h-n.value.start)*n.value.value,f=t-r.start,m=(f/r.value.value>>0)+r.value.start;return m>r.value.end&&(m=r.value.end),o&&(d+=r.value.value-(f-(m-r.value.start)*r.value.value)),d=Math.min(-d,0),{values:this.values.iterator(h,m),offset:d}},index:function(e){for(var t=0,n=this.values.iterator(0,this._count-1),r=n.at(0);r<e&&t<this._count-1;)r+=n.at(++t);return t},indexVisible:function(e){var t=this.index(e);return this.hidden(t)&&(t=this.prevVisible(t)),t},_refresh:function(){var t=0;this._pixelValues=this.values.map((function(n){var r=t,o=(t+=(n.end-n.start+1)*n.value)-1;return new e.spreadsheet.ValueRange(r,o,n)})),this.total=t},getState:function(){return{values:this.values.getState(),hidden:this._hidden.getState()}},setState:function(e){this.values.setState(e.values),this._hidden.setState(e.hidden),this._refresh()}}),n=e.Class.extend({init:function(e,t,n,r){this._axis=e,this._start=t,this._count=n,this.hasHeader=0===t,this.headerSize=r,this.defaultValue=e._value,this.frozen=n>0},viewSize:function(e){this._viewSize=e},sum:function(e,t){return this._axis.sum(e,t-1)},start:function(){return this.sum(0,this._start)},size:function(){return this.sum(this._start,this._start+this._count)},index:function(e,t){return this._axis.index(e+(this.frozen?0:t)-this.headerSize)},indexVisible:function(e,t){return this._axis.indexVisible(e+(this.frozen?0:t)-this.headerSize)},paneSegment:function(){var e,t=this.start();return this.hasHeader||(t+=this.headerSize),this.frozen?(e=this.size(),this.hasHeader?e+=this.headerSize:e-=this.headerSize):e=this._viewSize-t,{offset:t,length:e}},visible:function(e){var t,n=this.start();this.frozen?(t=this.size(),this.hasHeader||(t-=this.headerSize)):(t=this._viewSize-n-this.headerSize,n+=e);var r=this._axis.visible(n,n+t-1);return this.frozen&&(r.offset=0),r.start=n,this.hasHeader&&(r.offset+=this.headerSize,r.start-=this.headerSize),r},contains:function(e,t){return this.frozen?!(e>this._start+this._count||t<this._start):t>=this._start}});e.spreadsheet.Axis=t,e.spreadsheet.PaneAxis=n}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1520),e.exports=n(1520)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},5:function(e,t){e.exports=n(3)},19:function(e,t){e.exports=n(0)},1520:function(e,t,n){var r,o,l;n(3),o=[n(19),n(5)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.spreadsheet.Filter=e.Class.extend({prepare:function(){},value:function(e){return e.value},matches:function(){throw new Error("The 'matches' method is not implemented.")},toJSON:function(){throw new Error("The 'toJSON' method is not implemented.")}});t.create=function(t){var filter=t.filter;if(!filter)throw new Error("Filter type not specified.");var n=e.spreadsheet[filter.charAt(0).toUpperCase()+filter.substring(1)+"Filter"];if(!n)throw new Error("Filter type not recognized.");return new n(t)},e.spreadsheet.ValueFilter=t.extend({_values:[],_dates:[],_blanks:!1,init:function(e){void 0!==e.values&&(this._values=e.values),void 0!==e.blanks&&(this._blanks=e.blanks),void 0!==e.dates&&(this._dates=e.dates)},value:function(t){var n=t.value;return this._dates.length>0&&t.format&&"number"==typeof n&&"date"===e.spreadsheet.formatting.type(n,t.format)&&(n=e.spreadsheet.numberToDate(n)),n},matches:function(e){return null==e?this._blanks:e instanceof Date?this._dates.some((function(t){return!(t.year!==e.getFullYear()||void 0!==t.month&&t.month!==e.getMonth()||void 0!==t.day&&t.day!==e.getDate()||void 0!==t.hours&&t.hours!==e.getHours()||void 0!==t.minutes&&t.minutes!==e.getMinutes()||void 0!==t.seconds&&t.seconds!==e.getSeconds())})):this._values.indexOf(e)>=0},toJSON:function(){return{filter:"value",blanks:this._blanks,values:this._values.slice(0)}}}),e.spreadsheet.CustomFilter=t.extend({_logic:"and",init:function(t){if(void 0!==t.logic&&(this._logic=t.logic),void 0===t.criteria)throw new Error("Must specify criteria.");this._criteria=t.criteria;var n=e.data.Query.filterExpr({logic:this._logic,filters:this._criteria}).expression;this._matches=new Function("d","return "+n)},matches:function(e){return null!==e&&this._matches(e)},value:function(t){var n=t.value,r=this._criteria[0].value,o=r instanceof Date?"date":typeof r,l=typeof n;return t.format&&(l=e.spreadsheet.formatting.type(n,t.format)),l!=o?"string"==o&&(t.format&&(n=e.spreadsheet.formatting.text(n,t.format)),n+=""):"date"==l&&(n=e.spreadsheet.numberToDate(n)),n},toJSON:function(){return{filter:"custom",logic:this._logic,criteria:this._criteria}}}),e.spreadsheet.TopFilter=t.extend({init:function(e){this._type=e.type,this._value=e.value,this._values=[]},prepare:function(e){var t=e.map(this.value).sort().filter((function(e,t,n){return 0===t||e!==n[t-1]}));"topNumber"===this._type||"topPercent"==this._type?t.sort((function(e,t){return t-e})):t.sort((function(e,t){return e-t}));var n=this._value;"topPercent"!==this._type&&"bottomPercent"!==this._type||(n=t.length*n/100>>0),this._values=t.slice(0,n)},matches:function(e){return this._values.indexOf(e)>=0},toJSON:function(){return{filter:"top",type:this._type,value:this._value}}}),e.spreadsheet.DynamicFilter=t.extend({init:function(e){if(this._type=e.type,this._predicate=this[e.type],"function"!=typeof this._predicate)throw new Error("DynamicFilter type '"+e.type+"' not recognized.")},value:function(t){var n=t.value;return t.format&&"date"===e.spreadsheet.formatting.type(n,t.format)&&(n=e.spreadsheet.numberToDate(n)),n},prepare:function(e){for(var t=0,n=0,r=0;r<e.length;r++){var o=this.value(e[r]);"number"==typeof o&&(t+=o,n++)}this._average=n>0?t/n:0},matches:function(e){return this._predicate(e)},aboveAverage:function(t){return t instanceof Date&&(t=e.spreadsheet.dateToNumber(t)),"number"==typeof t&&t>this._average},belowAverage:function(t){return t instanceof Date&&(t=e.spreadsheet.dateToNumber(t)),"number"==typeof t&&t<this._average},tomorrow:function(t){if(t instanceof Date){var n=e.date.addDays(e.date.today(),1);return e.date.getDate(t).getTime()===n.getTime()}return!1},today:function(t){return t instanceof Date&&e.date.isToday(t)},yesterday:function(t){if(t instanceof Date){var n=e.date.addDays(e.date.today(),-1);return e.date.getDate(t).getTime()===n.getTime()}return!1},nextWeek:function(t){return l(e.date.addDays(e.date.today(),7),t)},thisWeek:function(t){return l(e.date.today(),t)},lastWeek:function(t){return l(e.date.addDays(e.date.today(),-7),t)},nextMonth:function(e){return o(e,1)},thisMonth:function(e){return o(e,0)},lastMonth:function(e){return o(e,-1)},nextQuarter:function(t){if(t instanceof Date){var r=e.date.today(),o=n(t)-n(r);return 1===o&&r.getFullYear()===t.getFullYear()||-3==o&&r.getFullYear()+1===t.getFullYear()}return!1},thisQuarter:function(t){if(t instanceof Date){var r=e.date.today();return 0==n(t)-n(r)&&r.getFullYear()===t.getFullYear()}return!1},lastQuarter:function(t){if(t instanceof Date){var r=e.date.today(),o=n(r)-n(t);return 1===o&&r.getFullYear()===t.getFullYear()||-3==o&&r.getFullYear()-1===t.getFullYear()}return!1},nextYear:function(e){return r(e,1)},thisYear:function(e){return r(e,0)},lastYear:function(e){return r(e,-1)},yearToDate:function(t){if(t instanceof Date){var n=e.date.today();return t.getFullYear()===n.getFullYear()&&t<=n}return!1},toJSON:function(){return{filter:"dynamic",type:this._type}}}),[1,2,3,4].forEach((function(t){e.spreadsheet.DynamicFilter.prototype["quarter"+t]=function(e){return e instanceof Date&&n(e)===t}})),e.cultures["en-US"].calendar.months.names.forEach((function(t,n){e.spreadsheet.DynamicFilter.prototype[t.toLowerCase()]=function(e){return e instanceof Date&&e.getMonth()===n}}))}function n(e){var t=e.getMonth()+1;return t>=1&&t<=3?1:t>=4&&t<=6?2:t>=7&&t<=9?3:4}function r(t,n){if(t instanceof Date){var r=e.date.today();return r.setFullYear(r.getFullYear()+n),r.getFullYear()===t.getFullYear()}return!1}function o(t,n){if(t instanceof Date){var r=e.date.firstDayOfMonth(e.date.today());return r.setMonth(r.getMonth()+n,1),r.getTime()===e.date.firstDayOfMonth(t).getTime()}return!1}function l(a,b){if(b instanceof Date){var t=e.date.dayOfWeek(e.date.getDate(a),1),n=e.date.dayOfWeek(e.date.getDate(b),1);return t.getTime()===n.getTime()}return!1}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1550),e.exports=n(1550)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1550:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.Class.extend({init:function(e,t){this._grid=e,this._lists=t},indices:function(e,n,r,o){var l=t.ascendingComparer;return!1===r&&(l=t.descendingComparer),n.sortedIndices(this._grid.cellRefIndex(e.topLeft),this._grid.cellRefIndex(e.bottomRight),l,o)},sortBy:function(e,t,n,r,o){for(var l=this.indices(e.toColumn(t),n,r,o),c=e.topLeft.col;c<=e.bottomRight.col;c++)for(var h=this._grid.index(e.topLeft.row,c),d=this._grid.index(e.bottomRight.row,c),li=0;li<this._lists.length;li++)h<this._lists[li].lastRangeStart()&&this._lists[li].sort(h,d,l);return l}});t.ascendingComparer=function(a,b){if(null===a&&null===b)return 0;if(null===a)return 1;if(null===b)return-1;var t=typeof a,n=typeof b;if("number"===t)return"number"===n?a-b:-1;if("string"===t)switch(n){case"number":return 1;case"string":return a.localeCompare(b);default:return-1}if("boolean"===t)switch(n){case"number":case"string":return 1;case"boolean":return a-b;default:return-1}if(a instanceof e.spreadsheet.calc.runtime.CalcError)return b instanceof e.spreadsheet.calc.runtime.CalcError?0:1;throw new Error("Cannot compare "+a+" and "+b)},t.descendingComparer=function(a,b){return null===a&&null===b?0:null===a?1:null===b?-1:t.ascendingComparer(b,a)},e.spreadsheet.Sorter=t}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1543),e.exports=n(1543)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1499:function(e,t){e.exports=n(34)},1534:function(e,t){e.exports=n(51)},1543:function(e,t,n){var r,o,l;n(3),o=[n(1499),n(1534)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e=kendo.util,t=kendo.spreadsheet,n=t.calc,r=n.runtime,o=r.defineFunction,l=r.defineAlias,c=r.CalcError,h=t.RangeRef,d=t.CellRef,f=t.UnionRef,m=r.Matrix,v=t.Ref,_=r.daysInMonth,w=r.packDate,y=r.unpackDate,x=r.daysInYear;["abs","cos","sin","acos","asin","tan","atan","exp","sqrt"].forEach((function(e){o(e,Math[e]).args([["*n","number"]])})),o("ln",Math.log).args([["*n","number"]]),o("log",(function(e,base){return Math.log(e)/Math.log(base)})).args([["*num","number++"],["*base",["or","number++",["null",10]]],["?",["assert","$base != 1","DIV/0"]]]),o("log10",(function(e){return Math.log(e)/Math.log(10)})).args([["*num","number++"]]),o("pi",(function(){return Math.PI})).args([]),o("sqrtpi",(function(e){return Math.sqrt(e*Math.PI)})).args([["*num","number+"]]),o("degrees",(function(e){return 180*e/Math.PI%360})).args([["*radians","number"]]),o("radians",(function(e){return Math.PI*e/180})).args([["*degrees","number"]]),o("cosh",F).args([["*num","number"]]),o("acosh",(function(e){return Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1))})).args([["*num","number"],["?",["assert","$num >= 1"]]]),o("sinh",P).args([["*num","number"]]),o("asinh",(function(e){return Math.log(e+Math.sqrt(e*e+1))})).args([["*num","number"]]),o("sec",(function(e){return 1/Math.cos(e)})).args([["*num","number"]]),o("sech",(function(e){return 1/F(e)})).args([["*num","number"]]),o("csc",(function(e){return 1/Math.sin(e)})).args([["*num","number"]]),o("csch",(function(e){return 1/P(e)})).args([["*num","number"]]),o("atan2",(function(e,t){return Math.atan(t/e)})).args([["*x","divisor"],["*y","number"]]),o("tanh",z).args([["*num","number"]]),o("atanh",(function(e){return Math.log(Math.sqrt(1-e*e)/(1-e))})).args([["*num",["and","number",["(between)",-1,1]]]]),o("cot",(function(e){return 1/Math.tan(e)})).args([["*num","divisor"]]),o("coth",(function(e){return 1/z(e)})).args([["*num","divisor"]]),o("acot",(function(e){return Math.PI/2-Math.atan(e)})).args([["*num","number"]]),o("acoth",(function(e){return Math.log((e+1)/(e-1))/2})).args([["*num","number"],["?",["or",["assert","$num < -1"],["assert","$num > 1"]]]]),o("power",(function(a,b){return Math.pow(a,b)})).args([["*a","number"],["*b","number"]]),o("mod",(function(a,b){return a%b})).args([["*a","number"],["*b","divisor"]]),o("quotient",(function(a,b){return Math.floor(a/b)})).args([["*a","number"],["*b","divisor"]]),o("ceiling",(function(e,s){return s?s*Math.ceil(e/s):0})).args([["*number","number"],["*significance","number"],["?",["assert","$significance >= 0 || $number < 0"]]]),o("ceiling.precise",(function(e,s){return(s=Math.abs(s))?s*Math.ceil(e/s):0})).args([["*number","number"],["*significance",["or","number",["null",1]]]]),l("iso.ceiling","ceiling.precise"),o("ceiling.math",(function(e,s,t){return s&&e?(e<0&&(!t&&s<0||t&&s>0)&&(s=-s),s?s*Math.ceil(e/s):0):0})).args([["*number","number"],["*significance",["or","number",["null","$number < 0 ? -1 : 1"]]],["*mode",["or","logical",["null",0]]]]),o("floor",(function(e,s){return s?s*Math.floor(e/s):0})).args([["*number","number"],["*significance","number"],["?",["assert","$significance >= 0 || $number < 0"]]]),o("floor.precise",(function(e,s){return(s=Math.abs(s))?s*Math.floor(e/s):0})).args([["*number","number"],["*significance",["or","number",["null",1]]]]),o("floor.math",(function(e,s,t){return s&&e?(e<0&&(!t&&s<0||t&&s>0)&&(s=-s),s?s*Math.floor(e/s):0):0})).args([["*number","number"],["*significance",["or","number",["null","$number < 0 ? -1 : 1"]]],["*mode",["or","logical",["null",0]]]]),o("int",Math.floor).args([["*number","number"]]),o("mround",(function(e,t){return t?t*Math.round(e/t):0})).args([["*number","number"],["*multiple","number"]]),o("round",(function(e,t){var n=e<0?-1:1;return n<0&&(e=-e),e*=t=Math.pow(10,t),n*(e=Math.round(e))/t})).args([["*number","number"],["*digits","number"]]),o("roundup",(function(e,t){return(e=(e*=t=Math.pow(10,t))<0?Math.floor(e):Math.ceil(e))/t})).args([["*number","number"],["*digits","number"]]),o("rounddown",(function(e,t){return(e=(e*=t=Math.pow(10,t))<0?Math.ceil(e):Math.floor(e))/t})).args([["*number","number"],["*digits","number"]]),o("even",(function(e){var t=e<0?Math.floor(e):Math.ceil(e);return t%2?t+(t<0?-1:1):t})).args([["*number","number"]]),o("odd",(function(e){var t=e<0?Math.floor(e):Math.ceil(e);return t%2?t:t+(t<0?-1:1)})).args([["*number","number"]]),o("sign",(function(e){return e<0?-1:e>0?1:0})).args([["*number","number"]]),o("gcd",(function(e){for(var a=e[0],i=1;i<e.length;++i)a=B(a,e[i]);return a})).args([["numbers",["collect","number"]]]),o("lcm",(function(e){for(var a=e[0],i=1;i<e.length;++i)a=L(a,e[i]);return a})).args([["numbers",["collect","number"]]]),o("sum",(function(e){return e.reduce((function(e,t){return e+t}),0)})).args([["numbers",["collect","number"]]]),o("product",(function(e){return e.reduce((function(e,t){return e*t}),1)})).args([["numbers",["collect","number"]]]),o("sumproduct",(function(e,t){var n=0;return e.each((function(p,e,col){if("number"==typeof p){for(var i=0;i<t.length;++i){var r=t[i].get(e,col);if("number"!=typeof r)return;p*=r}n+=p}})),n})).args([["a1","matrix"],["+",["a2",["and","matrix",["assert","$a2.width == $a1.width"],["assert","$a2.height == $a1.height"]]]]]),o("sumsq",(function(e){return e.reduce((function(e,t){return e+t*t}),0)})).args([["numbers",["collect","number"]]]),o("sumx2my2",(function(a,b){var e=0;return a.each((function(t,n,col){var r=b.get(n,col);"number"==typeof t&&"number"==typeof r&&(e+=t*t-r*r)})),e})).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]),o("sumx2py2",(function(a,b){var e=0;return a.each((function(t,n,col){var r=b.get(n,col);"number"==typeof t&&"number"==typeof r&&(e+=t*t+r*r)})),e})).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]),o("sumxmy2",(function(a,b){var e=0;return a.each((function(t,n,col){var r=b.get(n,col);"number"==typeof t&&"number"==typeof r&&(e+=(t-r)*(t-r))})),e})).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]),o("seriessum",(function(e,t,n,a){var r=0;return a.each((function(o){if("number"!=typeof o)throw new c("VALUE");r+=o*Math.pow(e,t),t+=n})),r})).args([["x","number"],["y","number"],["m","number"],["a","matrix"]]),o("min",(function(e){return e.length?Math.min.apply(Math,e):0})).args([["numbers",["collect","number"]]]),o("max",(function(e){return e.length?Math.max.apply(Math,e):0})).args([["numbers",["collect","number"]]]),o("counta",(function(e){return e.length})).args([["values",["#collect","anyvalue"]]]),o("count",(function(e){return e.length})).args([["numbers",["#collect","number"]]]),o("countunique",(function(e){var t=0,n=[];return e.forEach((function(e){n.indexOf(e)<0&&(t++,n.push(e))})),t})).args([["values",["#collect","anyvalue"]]]),o("countblank",(function(a){var e=0;function t(t){null!=t&&""!==t||e++}return function(e){for(var i=0;i<e.length;++i){var n=e[i];n instanceof m?n.each(t,!0):t(n)}}(a),e})).args([["+",["args",["or","matrix","anyvalue"]]]]),o("iseven",(function(e){return e%2==0})).args([["*number","number"]]),o("isodd",(function(e){return e%2!=0})).args([["*number","number"]]),o("n",(function(e){return"boolean"==typeof e?e?1:0:"number"==typeof e?e:0})).args([["*value","anyvalue"]]),o("na",(function(){return new c("N/A")})).args([]);var k=[["m1","matrix"],["c1","anyvalue"],[["m2","matrix"],["c2","anyvalue"]]];o("countifs",(function(e,t,n){var r=0;return n.unshift(e,t),H(n,(function(){r++})),r})).args(k);var C=[["range","matrix"]].concat(k);o("sumifs",(function(e,t,n,r){r.unshift(e,Z,t,n);var o=0;return H(r,(function(t,col){var n=e.get(t,col);n&&(o+=n)})),o})).args(C),o("averageifs",(function(e,t,n,r){r.unshift(e,Z,t,n);var o=0,l=0;return H(r,(function(t,col){var n=e.get(t,col);null!=n&&""!==n||(n=0),o+=n,l++})),l?o/l:new c("DIV/0")})).args(C),o("countif",(function(e,t){t=R(t);var n=0;return e.each((function(e){t(e)&&n++})),n})).args([["range","matrix"],["*criteria","anyvalue"]]);var S,T=[["range","matrix"],["*criteria","anyvalue"],["sumRange",["or",["and","matrix",["assert","$sumRange.width == $range.width"],["assert","$sumRange.height == $range.height"]],["null","$range"]]]];o("sumif",(function(e,t,n){var r=0;return t=R(t),e.each((function(e,o,col){if(t(e)){var l=n.get(o,col);Z(l)&&(r+=l||0)}})),r})).args(T),o("averageif",(function(e,t,n){var r=0,o=0;return t=R(t),e.each((function(e,l,col){if(t(e)){var c=n.get(l,col);Z(c)&&(r+=c||0,o++)}})),o?r/o:new c("DIV/0")})).args(T),(S=function(e,t){o(e,(function(e,n){var r=[],o=e.each((function(e){if(e instanceof c)return e;"number"==typeof e&&r.push(e)}));return o||(n>r.length?new c("NUM"):t(r,n-1))})).args([["array","matrix"],["*nth","number++"]])})("large",(function(e,t){return e.sort(te)[t]})),S("small",(function(e,t){return e.sort(ee)[t]})),o("stdev.s",(function(e){return V(e,e.length-1)})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),o("stdev.p",(function(e){return V(e,e.length)})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),o("var.s",(function(e){return O(e,e.length-1)})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),o("var.p",(function(e){return O(e,e.length)})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),o("median",(function(e){var t=e.length;return e.sort(ee),t%2?e[t>>1]:(e[t>>=1]+e[t-1])/2})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","N/A"]]]),o("mode.sngl",(function(e){e.sort(ee);for(var t=null,n=0,r=1,o=null,i=0;i<e.length;++i){var l=e[i];l!=t?(n=1,t=l):n++,n>r&&(r=n,o=l)}return null==o?new c("N/A"):o})).args([["numbers",["collect","number"]]]),o("mode.mult",(function(e){var t=Object.create(null),n=2,r=[];e.forEach((function(e){var s=t[e]||0;t[e]=++s,s==n?r.push(e):s>n&&(n=s,r=[e])}));var o=new m(this);return r.forEach((function(e,i){o.set(i,0,e)})),o})).args([["numbers",["collect","number"]]]),o("geomean",(function(e){var t=e.length,p=e.reduce((function(p,e){if(e<0)throw new c("NUM");return p*e}),1);return Math.pow(p,1/t)})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","NUM"]]]),o("harmean",(function(e){return e.length/e.reduce((function(s,e){if(!e)throw new c("DIV/0");return s+1/e}),0)})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","NUM"]]]),o("trimmean",(function(e,p){var t=e.length;e.sort(ee);var n=Math.floor(t*p);n%2&&--n;for(var r=0,i=n/=2;i<t-n;++i)r+=e[i];return r/(t-2*n)})).args([["numbers",["collect","number",1]],["percent",["and","number",["[between)",0,1]]],["?",["assert","$numbers.length > 0","NUM"]]]),o("frequency",(function(data,e){data.sort(ee),e.sort(ee);var t=-1/0,i=0;function n(e){for(var n=0;i<data.length&&data[i]>t&&data[i]<=e;)++n,++i;return n}var r=new m(this);return e.forEach((function(e,i){var o=n(e);t=e,r.set(i,0,o)})),r.set(r.height,0,data.length-i),r})).args([["data",["collect","number",1]],["bins",["collect","number",1]]]),o("rank.eq",(function(e,t,n){t.sort(n?ee:te);var r=t.indexOf(e);return r<0?new c("N/A"):r+1})).args([["value","number"],["numbers",["collect","number"]],["order",["or","logical",["null",!1]]]]),l("rank","rank.eq"),o("rank.avg",(function(e,t,n){t.sort(n?ee:te);var r=t.indexOf(e);if(r<0)return new c("N/A");for(var i=r;t[i]==e;++i);return(r+i+1)/2})).args([["value","number"],["numbers",["collect","number"]],["order",["or","logical",["null",!1]]]]),o("kurt",(function(e){var t=e.length,n=N(e),r=O(e,t-1,n),o=Math.sqrt(r);return t*(t+1)/((t-1)*(t-2)*(t-3))*e.reduce((function(e,t){return e+Math.pow((t-n)/o,4)}),0)-3*Math.pow(t-1,2)/((t-2)*(t-3))})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 4","NUM"]]]);var D=[["array",["collect","number",1]],["x","number"],["significance",["or",["null",3],"integer++"]],["?",["assert","$array.length > 0","NUM"]]];o("percentrank.inc",(function(e,t,n){var p=W(e,t,0);return p=p.toFixed(n+1),parseFloat(p.substr(0,p.length-1))})).args(D),o("percentrank.exc",(function(e,t,n){var p=W(e,t,1);return p=p.toFixed(n+1),parseFloat(p.substr(0,p.length-1))})).args(D),l("percentrank","percentrank.inc"),o("covariance.p",(function(e,t){return U(e,t,e.length)})).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length == $array2.length","N/A"]],["?",["assert","$array1.length > 0","DIV/0"]]]),o("covariance.s",(function(e,t){return U(e,t,e.length-1)})).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length == $array2.length","N/A"]],["?",["assert","$array1.length > 1","DIV/0"]]]),l("covar","covariance.p");var E=e.memoize((function(e){for(var i=2,t=1;i<=e;++i)t*=i;return t}));o("fact",E).args([["*n","integer+"]]),o("factdouble",(function(e){for(var i=2+(1&e),t=1;i<=e;i+=2)t*=i;return t})).args([["*n","integer+"]]),o("multinomial",(function(e){var div=1,t=0;return e.forEach((function(e){if(e<0)throw new c("NUM");t+=e,div*=E(e)})),E(t)/div})).args([["numbers",["collect","number"]]]);var A=e.memoize((function(e,t){for(var n=t+1,r=1,o=1,l=1;r<=e-t;++n,++r)o*=n,l*=r;return o/l}));o("combin",A).args([["*n","integer++"],["*k",["and","integer",["[between]",0,"$n"]]]]),o("combina",(function(e,t){return A(e+t-1,e-1)})).args([["*n","integer++"],["*k",["and","integer",["[between]",1,"$n"]]]]),o("average",(function(e){return e.reduce((function(e,t){return e+t}),0)/e.length})).args([["numbers",["collect","number!"]],["?",["assert","$numbers.length > 0","DIV/0"]]]),o("averagea",(function(e){var t=0,n=0;return e.forEach((function(e){"string"!=typeof e&&(t+=e),++n})),n?t/n:new c("DIV/0")})).args([["values",["collect","anyvalue"]]]),o("percentile.inc",G).args([["numbers",["collect","number",1]],["p",["and","number",["[between]",0,1]]]]),o("percentile.exc",$).args([["numbers",["collect","number",1]],["p",["and","number",["(between)",0,1]]]]),o("quartile.inc",(function(e,t){return G(e,t/4)})).args([["numbers",["collect","number",1]],["quarter",["values",0,1,2,3,4]]]),o("quartile.exc",(function(e,t){return $(e,t/4)})).args([["numbers",["collect","number",1]],["quarter",["values",0,1,2,3,4]]]),l("quartile","quartile.inc"),l("percentile","percentile.inc");var I=["AVERAGE","COUNT","COUNTA","MAX","MIN","PRODUCT","STDEV.S","STDEV.P","SUM","VAR.S","VAR.P","MEDIAN","MODE.SNGL","LARGE","SMALL","PERCENTILE.INC","QUARTILE.INC","PERCENTILE.EXC","QUARTILE.EXC"];o("aggregate",(function(e,t,n,r){var o=this;o.resolveCells(r,(function(){var l;if(t>12){l=Y(o,r[0],n);var h=r[1];if(h instanceof d&&(h=o.getRefData(h)),"number"!=typeof h)return e(new c("VALUE"))}else l=Y(o,r,n);o.func(I[t-1],e,l)}))})).argsAsync([["funcId",["values",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]],["options",["or",["null",0],["values",0,1,2,3,4,5,6,7]]],["args","rest"]]),o("subtotal",(function(e,t){var n=this,r=t>100;r&&(t-=100);for(var o=[],i=2;i<arguments.length;++i)o.push(arguments[i]);n.resolveCells(o,(function(){var l=Y(n,o,r?1:0);n.func(I[t-1],e,l)}))})).argsAsync([["funcId",["values",1,2,3,4,5,6,7,8,9,10,11,101,102,103,104,105,106,107,108,109,110,111]],["+",["ref",["or","ref","#matrix"]]]]),o("avedev",(function(e){var t=e.reduce((function(e,t){return e+t}),0)/e.length;return e.reduce((function(e,n){return e+Math.abs(n-t)}),0)/e.length})).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]),o("binom.dist",K).args([["successes","integer+"],["trials",["and","integer",["assert","$trials >= $successes"]]],["probability",["and","number",["[between]",0,1]]],["cumulative","logical"]]),l("binomdist","binom.dist"),o("binom.inv",(function(e,p,t){for(var n=0;n<=e;++n)if(K(n,e,p,!0)>=t)return n;return new c("N/A")})).args([["trials","integer+"],["probability",["and","number",["[between]",0,1]]],["alpha",["and","number",["[between]",0,1]]]]),l("critbinom","binom.inv"),o("binom.dist.range",(function(e,p,s,t){for(var n=0,r=s;r<=t;++r)n+=A(e,r)*Math.pow(p,r)*Math.pow(1-p,e-r);return n})).args([["trials","integer+"],["probability",["and","number",["[between]",0,1]]],["successes_min",["and","integer",["[between]",0,"$trials"]]],["successes_max",["or",["and","integer",["[between]","$successes_min","$trials"]],["null","$successes_min"]]]]),o("negbinom.dist",(function(e,t,p,n){if(n){for(var r=0;e>=0;)r+=A(e+t-1,e)*Math.pow(p,t)*Math.pow(1-p,e),e--;return r}return A(e+t-1,e)*Math.pow(p,t)*Math.pow(1-p,e)})).args([["number_f","integer+"],["number_s","integer+"],["probability_s",["and","number",["[between]",0,1]]],["cumulative","logical"]]),l("negbinomdist","negbinom.dist"),o("address",(function(e,col,t,n,r){var o=new d(e-1,col-1,t-1);return r&&o.setSheet(r,!0),n?o.print(0,0):o.print()})).args([["row","integer++"],["col","integer++"],["abs",["or",["null",1],["values",1,2,3,4]]],["a1",["or",["null",!0],"logical"]],["sheet",["or","null","string"]]]),o("areas",(function(e){var t=0;return function e(n){n instanceof d||n instanceof h?t++:n instanceof f&&n.refs.forEach(e)}(e),t})).args([["ref","ref"]]),o("choose",(function(e,t){return e>t.length?new c("N/A"):t[e-1]})).args([["*index","integer"],["+",["value","anything"]]]),o("column",(function(e){return e?e instanceof d?e.col+1:this.asMatrix(e).mapCol((function(col){return col+e.topLeft.col+1})):this.formula.col+1})).args([["ref",["or","area","null"]]]),o("columns",(function(e){return e instanceof v?e.width():e.width})).args([["ref",["or","area","#matrix"]]]),o("formulatext",(function(e){var t=this.getRefCells(e)[0];return t.formula?t.formula.print(t.row,t.col):new c("N/A")})).args([["ref","ref"]]),o("hlookup",(function(e,t,n,r){var o=null;return t.eachCol((function(col){var data=t.get(0,col);if(r){if(data>e)return!0;o=col}else if(data===e)return o=col,!0})),null==o?new c("N/A"):t.get(n-1,o)})).args([["value","anyvalue"],["range","matrix"],["row","integer++"],["approx",["or","logical",["null",!0]]]]),o("index",(function(e,t,n,col,r){var o=this;if(t instanceof f&&(t=t.refs[r-1]),!n&&!col||!t)return e(new c("N/A"));if(t instanceof d&&(t=t.toRangeRef()),t instanceof h){if(n&&col){if(col>t.width()||n>t.height())return e(new c("REF"));var l=t.toCell(n-1,col-1);return void o.resolveCells([l],(function(){e(o.getRefData(l))}))}if(!n){var v=t.toColumn(col-1);return void o.resolveCells([v],(function(){e(o.asMatrix(v))}))}if(!col){var _=t.toRow(n-1);return void o.resolveCells([_],(function(){e(o.asMatrix(_))}))}}else if(t instanceof m){if(t.width>1&&t.height>1){if(n&&col)return e(t.get(n-1,col-1));if(!n)return e(t.mapRow((function(e){return t.get(e,col-1)})));if(!col)return e(t.mapCol((function(col){return t.get(n-1,col)})))}if(1==t.width)return e(t.get(n-1,0));if(1==t.height)return e(t.get(0,col-1))}else e(new c("REF"))})).argsAsync([["range",["or","ref","matrix"]],["row",["or","integer+","null"]],["col",["or","integer+","null"]],["areanum",["or","integer++",["null",1]]]]),o("indirect",(function(e){try{var t=this.formula,r=n.parseFormula(t.sheet,t.row,t.col,e);if(!(r.ast instanceof v))throw 1;return r.ast.absolute(t.row,t.col)}catch(e){return new c("REF")}})).args([["thing","string"]]),o("match",(function(e,t,n){var r,o=1;return 0===n?r=R(e):-1===n?r=R("<="+e):1===n&&(r=R(">="+e)),t.each((function(t){if(null!=t&&r(t))return 0!==n&&e!=t&&--o,!0;o++}),!0)&&o>0?o:new c("N/A")})).args([["value","anyvalue"],["range","matrix"],["type",["or",["values",-1,0,1],["null",1]]]]),o("offset",(function(e,t,n,r,o){var l=(e instanceof d?e:e.topLeft).clone();return l.row+=t,l.col+=n,l.row<0||l.col<0?new c("VALUE"):r>1||o>1?new h(l,new d(l.row+r-1,l.col+o-1)).setSheet(e.sheet,e.hasSheet()):l})).args([["ref","area"],["*rows","integer"],["*cols","integer"],["*height",["or","integer++",["null","$ref.height()"]]],["*width",["or","integer++",["null","$ref.width()"]]]]),o("row",(function(e){return e?e instanceof d?e.row+1:this.asMatrix(e).mapRow((function(t){return t+e.topLeft.row+1})):this.formula.row+1})).args([["ref",["or","area","null"]]]),o("rows",(function(e){return e instanceof v?e.height():e.height})).args([["ref",["or","area","#matrix"]]]),o("vlookup",(function(e,t,col,n){var r=null;return"number"!=typeof e&&(n=!1),"string"==typeof e&&(e=e.toLowerCase()),t.eachRow((function(o){var data=t.get(o,0);if(n){if(data>e)return!0;r=o}else if("string"==typeof data&&(data=data.toLowerCase()),data===e)return r=o,!0})),null==r?new c("N/A"):t.get(r,col-1)})).args([["value","anyvalue"],["range","matrix"],["col","integer++"],["approx",["or","logical",["null",!0]]]]),o("date",(function(e,t,n){return w(e,t-1,n)})).args([["*year","integer"],["*month","integer"],["*date","integer"]]),o("day",(function(e){return y(e).date})).args([["*date","date"]]),o("month",(function(e){return y(e).month+1})).args([["*date","date"]]),o("year",(function(e){return y(e).year})).args([["*date","date"]]),o("weekday",(function(e){return y(e).day+1})).args([["*date","date"]]),o("weeknum",(function(e,t){var n,r=w(y(e).year,0,1),o=y(r);return 21==t?((n=3-(o.day+6)%7)<0&&(n+=7),r+=n,o.date+=n,o.day=4,t=1):t=1==t?0:2==t?1:(t-10)%7,(n=o.day-t)<0&&(n+=7),r-=n,Math.ceil((e+1-r)/7)})).args([["*date","date"],["*type",["or",["null",1],["values",1,2,11,12,13,14,15,16,17,21]]]]),o("isoweeknum",(function(e){var t=y(e),n=t.day||7,r=Math.floor((t.ord-n+10)/7);return r<1?Q(t.year-1):53==r&&r>Q(t.year)?1:r})).args([["*date","date"]]),o("now",(function(){return r.dateToSerial(new Date)})).args([]),o("today",(function(){return 0|r.dateToSerial(new Date)})).args([]),o("time",(function(e,t,n){return r.packTime(e,t,n,0)})).args([["*hours","integer"],["*minutes","integer"],["*seconds","integer"]]),o("hour",(function(time){return r.unpackTime(time).hours})).args([["*time","datetime"]]),o("minute",(function(time){return r.unpackTime(time).minutes})).args([["*time","datetime"]]),o("second",(function(time){return r.unpackTime(time).seconds})).args([["*time","datetime"]]),o("edate",(function(base,e){var t=y(base),n=t.month+e,r=t.year+Math.floor(n/12);return(n%=12)<0&&(n+=12),t=Math.min(t.date,_(r,n)),w(r,n,t)})).args([["*start_date","date"],["*months","integer"]]),o("eomonth",(function(base,e){var t=y(base),n=t.month+e,r=t.year+Math.floor(n/12);return(n%=12)<0&&(n+=12),t=_(r,n),w(r,n,t)})).args([["*start_date","date"],["*months","integer"]]),o("workday",(function(e,t,n){var r=t>0?1:-1;t=Math.abs(t);for(var o=y(e).day;t>0;)e+=r,(o=(o+r)%7)>0&&o<6&&n.indexOf(e)<0&&--t;return e})).args([["start_date","date"],["days","integer"],["holidays",["collect","date"]]]),o("networkdays",(function(e,t,n){if(e>t){var r=e;e=t,t=r}for(var o=0,l=y(e).day;e<=t;)l>0&&l<6&&n.indexOf(e)<0&&o++,e++,l=(l+1)%7;return o})).args([["start_date","date"],["end_date","date"],["holidays",["collect","date"]]]),o("days",(function(e,t){return t-e})).args([["*start_date","date"],["*end_date","date"]]),r._days_360=X,o("days360",X).args([["*start_date","date"],["*end_date","date"],["*method",["or","logical",["null",!1]]]]),o("yearfrac",(function(e,t,n){switch(n){case 0:return X(e,t,!1)/360;case 1:return(t-e)/x(y(e).year);case 2:return(t-e)/360;case 3:return(t-e)/365;case 4:return X(e,t,!0)/360}})).args([["*start_date","date"],["*end_date","date"],["*method",["or",["null",0],["values",0,1,2,3,4]]]]),o("datevalue",(function(text){var e=r.parseDate(text);return e?r.dateToSerial(e):new c("VALUE")})).args([["*text","string"]]),o("timevalue",(function(text){var e=text.toLowerCase().match(/(\d+):(\d+)(:(\d+)(\.(\d+))?)?\s*(am?|pm?)?/);if(e){var t=parseFloat(e[1]),n=parseFloat(e[2]),o=e[3]?parseFloat(e[4]):0,l=e[7];return l&&(t>12||t<1)?new c("VALUE"):(/^p/.test(l)&&(t+=12),r.packTime(t,n,o,0))}return new c("VALUE")})).args([["*text","string"]]),o("mdeterm",(function(e){return e.each((function(e){if("number"!=typeof e)return new c("VALUE")}),!0)||e.determinant()})).args([["m",["and","matrix",["assert","$m.width == $m.height"]]]]),o("transpose",(function(e){return e.transpose()})).args([["range","matrix"]]),o("mmult",(function(a,b){return a.multiply(b)})).args([["a","matrix"],["b",["and","matrix",["assert","$b.height == $a.width"]]]]),o("munit",(function(e){return new m(this).unit(e)})).args([["n","integer+"]]),o("minverse",(function(e){return e.each((function(e){if("number"!=typeof e)return new c("VALUE")}),!0)||e.inverse()||new c("VALUE")})).args([["m",["and","matrix",["assert","$m.width == $m.height"]]]]),o("rand",(function(){return Math.random()})).args([]),o("randbetween",(function(e,t){return e+Math.floor((t-e+1)*Math.random())})).args([["min","integer"],["max",["and","integer",["assert","$max >= $min"]]]]),o("true",(function(){return!0})).args([]),o("false",(function(){return!0})).args([]),o("roman",(function(t){return e.arabicToRoman(t).toUpperCase()})).args([["*number","integer"]]),o("arabic",(function(t){var n=e.romanToArabic(t);return null==n?new c("VALUE"):n})).args([["*roman","string"]]),o("base",(function(e,t,n){for(var r=e.toString(t).toUpperCase();r.length<n;)r="0"+r;return r})).args([["*number","integer"],["*radix",["and","integer",["[between]",2,36]]],["*minLen",["or","integer+",["null",0]]]]),o("decimal",(function(text,e){text=text.toUpperCase();for(var t=0,i=0;i<text.length;++i){var n=text.charCodeAt(i);if(n>=48&&n<=57)n-=48;else{if(!(n>=65&&n<55+e))return new c("VALUE");n-=55}t=t*e+n}return t})).args([["*text","string"],["*radix",["and","integer",["[between]",2,36]]]]),o("char",(function(code){return String.fromCharCode(code)})).args([["*code","integer+"]]);var M=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g;o("clean",(function(text){return text.replace(M,"")})).args([["*text","string"]]),o("code",(function(text){return text.charAt(0)})).args([["*text","string"]]),l("unichar","char"),l("unicode","code"),o("concatenate",(function(e){for(var t="",i=0;i<e.length;++i)t+=e[i];return t})).args([["+",["*text","string"]]]),o("dollar",(function(e,n){for(var r="$#,##0DECIMALS;($#,##0DECIMALS)",o="",l=1;n-- >0;)o+="0";for(;++n<0;)l*=10;return""!==o?o="."+o:1!==l&&(e=Math.round(e/l)*l),r=r.replace(/DECIMALS/g,o),t.formatting.text(e,r)})).args([["*number","number"],["*decimals",["or","integer",["null",2]]]]),o("exact",(function(a,b){return a===b})).args([["*text1","string"],["*text2","string"]]),o("find",(function(e,t,n){var r=t.indexOf(e,n-1);return r<0?new c("VALUE"):r+1})).args([["*substring","string"],["*string","string"],["*start",["or","integer++",["null",1]]]]),o("fixed",(function(e,n,r){var o=Math.pow(10,n);e=Math.round(e*o)/o;var l=r?"0":"#,##0";if(n>0)for(l+=".";n-- >0;)l+="0";return t.formatting.text(e,l)})).args([["*number","number"],["*decimals",["or","integer",["null",2]]],["*noCommas",["or","boolean",["null",!1]]]]),o("left",(function(text,e){return text.substr(0,e)})).args([["*text","string"],["*length",["or","integer+",["null",1]]]]),o("right",(function(text,e){return text.substr(-e)})).args([["*text","string"],["*length",["or","integer+",["null",1]]]]),o("len",(function(text){return text.length})).args([["*text","string"]]),o("lower",(function(text){return text.toLowerCase()})).args([["*text","string"]]),o("upper",(function(text){return text.toUpperCase()})).args([["*text","string"]]),o("ltrim",(function(text){return text.replace(/^\s+/,"")})).args([["*text","string"]]),o("rtrim",(function(text){return text.replace(/\s+$/,"")})).args([["*text","string"]]),o("trim",(function(text){return text.replace(/^\s+|\s+$/,"")})).args([["*text","string"]]),o("mid",(function(text,e,t){return text.substr(e-1,t)})).args([["*text","string"],["*start","integer++"],["*length","integer+"]]),o("proper",(function(text){return text.toLowerCase().replace(/\b./g,(function(s){return s.toUpperCase()}))})).args([["*text","string"]]),o("replace",(function(text,e,t,n){return text.substr(0,--e)+n+text.substr(e+t)})).args([["*text","string"],["*start","integer++"],["*length","integer+"],["*newText","string"]]),o("rept",(function(text,e){for(var t="";e-- >0;)t+=text;return t})).args([["*text","string"],["*number","integer+"]]),o("search",(function(e,t,n){var r=t.toLowerCase().indexOf(e.toLowerCase(),n-1);return r<0?new c("VALUE"):r+1})).args([["*substring","string"],["*string","string"],["*start",["or","integer++",["null",1]]]]),o("substitute",(function(text,e,t,n){if(e===t)return text;var a=text.split(e);if(null==n)return a.join(t);text="",n--;for(var i=0;i<a.length;++i)text+=a[i],i<a.length-1&&(text+=i===n?t:e);return text})).args([["*text","string"],["*oldText","string"],["*newText","string"],["*nth",["or","integer++","null"]]]),o("t",(function(e){return"string"==typeof e?e:""})).args([["*value","anyvalue"]]),o("text",(function(e,n){return t.formatting.text(e,n)})).args([["*value","anyvalue"],["*format","string"]]),o("value",(function(e){return"number"==typeof e?e:"boolean"==typeof e?+e:(e=(e+"").replace(/[$€,]/g,""),e=parseFloat(e),isNaN(e)?new c("VALUE"):e)})).args([["*value","anyvalue"]]),J.prototype.toString=function(){return this.text},o("hyperlink",(function(link,text){return new J(link,text)})).args([["*link","string"],["*text",["or","string",["null","$link"]]]]),o("iferror",(function(e,t){return e instanceof c?t:e})).args([["*value","forced!"],["*value_if_error","anyvalue!"]]);var R=function(){var e=Object.create(null);function t(e,t){if("string"==typeof t){var n=parseFloat(t);isNaN(n)||n!=t||(t=n)}return function(a){var b=t;return"string"==typeof a&&"string"==typeof b&&(a=a.toLowerCase(),b=b.toLowerCase()),e(a,b)}}function n(a){var e,t;return"string"==typeof a&&(a=a.toLowerCase()),/^[0-9.]+%$/.test(a)?(t=a.substr(0,a.length-1),e=parseFloat(t),isNaN(e)||e!=t||(a=e/100)):/^[0-9.]+$/.test(a)&&(e=parseFloat(a),isNaN(e)||e!=a||(a=e)),a}function r(a,b){return n(a)<n(b)}function o(a,b){return n(a)<=n(b)}function l(a,b){return n(a)>n(b)}function c(a,b){return n(a)>=n(b)}function h(a,b){return!d(a,b)}function d(a,b){return b instanceof RegExp?b.test(a):("string"!=typeof a&&"string"!=typeof b||(a=String(a),b=String(b)),n(a)==n(b))}return function(n){if("function"==typeof n)return n;var f;if(f=/^=(.*)$/.exec(n))return t(d,f[1]);if(f=/^<>(.*)$/.exec(n))return t(h,f[1]);if(f=/^<=(.*)$/.exec(n))return t(o,f[1]);if(f=/^<(.*)$/.exec(n))return t(r,f[1]);if(f=/^>=(.*)$/.exec(n))return t(c,f[1]);if(f=/^>(.*)$/.exec(n))return t(l,f[1]);if(/[?*]/.exec(n)){var m=e[n];return m||(m=n.replace(/(~\?|~\*|[\]({\+\.\|\^\$\\})\[]|[?*])/g,(function(s){switch(s){case"~?":return"\\?";case"~*":return"\\*";case"?":return".";case"*":return".*";default:return"\\"+s}})),m=e[n]=new RegExp("^"+m+"$","i")),t(d,m)}return t(d,n)}}()}function F(e){return(Math.exp(e)+Math.exp(-e))/2}function P(e){return(Math.exp(e)-Math.exp(-e))/2}function z(e){return P(e)/F(e)}function B(a,b){for(;b;){var e=a%b;a=b,b=e}return a}function L(a,b){return Math.abs(a*b)/B(a,b)}function H(e,t){for(var n=[],i=0,r=e[0];i<e.length;)n.push({matrix:e[i++],pred:R(e[i++])});for(var o=0;o<r.height;++o)e:for(var col=0;col<r.width;++col){for(i=0;i<n.length;++i){var l=n[i].matrix.get(o,col);if(!n[i].pred(null==l||""===l?0:l))continue e}t(o,col)}}function N(e){return e.reduce((function(e,t){return e+t}),0)/e.length}function O(e,t,n){return null==n&&(n=N(e)),e.reduce((function(e,t){return e+Math.pow(t-n,2)}),0)/t}function V(e,t){return Math.sqrt(O(e,t))}function W(e,t,n){var r=0,o=0,l=null,h=null,d=!1;return e.forEach((function(e){e<t?(r++,l=null==l?e:Math.max(l,e)):e>t?(o++,h=null==h?e:Math.min(h,e)):d=!0})),r||o?d?n?(r+1)/(e.length+1):r/(r+o):((h-t)*W(e,l,n)+(t-l)*W(e,h,n))/(h-l):new c("N/A")}function U(e,t,n){for(var r=0,o=N(e),l=N(t),c=e.length,i=0;i<c;++i)r+=(e[i]-o)*(t[i]-l);return r/n}function j(e,t){e.sort(ee);var n=e.length,r=0|t,o=t-r;return 0===r?e[0]:r>=n?e[n-1]:e[--r]+o*(e[r+1]-e[r])}function G(e,p){return j(e,p*(e.length-1)+1)}function $(e,p){return j(e,p*(e.length+1))}function Y(e,t,n){var r=[];return function t(o){if(o instanceof v)e.getRefCells(o,!0).forEach((function(e){var t=e.value;if(!(1&n&&e.hidden)){if(e.formula){var o=e.formula.print(e.row,e.col);if(/^\s*(?:aggregate|subtotal)\s*\(/i.test(o)&&!(4&n))return}2&n&&t instanceof c||("number"==typeof t||t instanceof c)&&r.push(t)}}));else if(Array.isArray(o))for(var i=0;i<o.length;++i)t(o[i]);else o instanceof m?o.each(t):"number"==typeof o?r.push(o):o instanceof c&&!(2&n)&&r.push(o)}(t),r}function K(e,t,p,n){if(n){for(var r=0,o=0;o<=e;++o)r+=A(t,o)*Math.pow(p,o)*Math.pow(1-p,t-o);return r}return A(t,e)*Math.pow(p,e)*Math.pow(1-p,t-e)}function Q(e){var t=y(w(e,0,1));return 4==t.day||3==t.day&&r.isLeapYear(e)?53:52}function X(e,t,n){var r=y(e),o=y(t);return n?(31==r.date&&(r.date=30),31==o.date&&(o.date=30)):(1==r.month&&1==o.month&&r.date==_(r.year,1)&&o.date==_(o.year,1)&&(o.date=30),r.date==_(r.year,r.month)?(r.date=30,31==o.date&&(o.date=30)):30==r.date&&31==o.date&&(o.date=30)),360*(o.year-r.year)+30*(o.month-r.month)+(o.date-r.date)}function J(link,text){this.link=link,this.text=text}function Z(e){return"number"==typeof e||"boolean"==typeof e||null==e||""===e}function ee(a,b){return a===b?0:a<b?-1:1}function te(a,b){return a===b?0:a<b?1:-1}})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1544),e.exports=n(1544)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1499:function(e,t){e.exports=n(34)},1544:function(e,t,n){var r,o,l;n(3),o=[n(1499)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e=kendo.spreadsheet.calc.runtime,t=e.defineFunction,n=e.CalcError,r=e.packDate,o=e.unpackDate,l=e.isLeapYear,c=e.daysInMonth,h=e._days_360;t("ERF",(function(e,ul){return null==ul?w(e):w(ul)-w(e)})).args([["lower_limit","number"],["upper_limit",["or","number","null"]]]),t("ERFC",y).args([["x","number"]]),t("GAMMALN",x).args([["x","number++"]]),t("GAMMA",k).args([["x","number"]]),t("GAMMA.DIST",D).args([["x","number+"],["alpha","number++"],["beta","number++"],["cumulative","logical"]]),t("GAMMA.INV",E).args([["p",["and","number",["[between]",0,1]]],["alpha","number++"],["beta","number++"]]),t("NORM.S.DIST",A).args([["z","number"],["cumulative","logical"]]),t("NORM.S.INV",I).args([["p",["and","number",["[between]",0,1]]]]),t("NORM.DIST",(function(e,t,s,n){return n?A((e-t)/s,!0):Math.exp(-(e-t)*(e-t)/(2*s*s))/(s*Math.sqrt(2*Math.PI))})).args([["x","number"],["mean","number"],["stddev","number++"],["cumulative","logical"]]),t("NORM.INV",M).args([["p",["and","number",["[between]",0,1]]],["mean","number"],["stddev","number++"]]),t("BETADIST",(function(e,a,b,t,n){return R((e-t)/(n-t),a,b)})).args([["x","number"],["alpha","number++"],["beta","number++"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]],["?",["assert","$x >= $A","NUM"]],["?",["assert","$x <= $B","NUM"]],["?",["assert","$A < $B","NUM"]]]),t("BETA.DIST",(function(e,a,b,t,n,r){return t?R((e-n)/(r-n),a,b):function(e,a,b){return Math.exp((a-1)*Math.log(e)+(b-1)*Math.log(1-e)-C(a,b))}((e-n)/(r-n),a,b)/(r-n)})).args([["x","number"],["alpha","number++"],["beta","number++"],["cumulative","logical"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]],["?",["assert","$x >= $A","NUM"]],["?",["assert","$x <= $B","NUM"]],["?",["assert","$A < $B","NUM"]]]),t("BETA.INV",z).args([["p",["and","number",["[between]",0,1]]],["alpha","number++"],["beta","number++"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]]]),t("CHISQ.DIST",B).args([["x","number+"],["deg_freedom","integer++"],["cumulative","logical"]]),t("CHISQ.DIST.RT",L).args([["x","number+"],["deg_freedom","integer++"]]),t("CHISQ.INV",H).args([["p",["and","number",["[between]",0,1]]],["deg_freedom","integer++"]]),t("CHISQ.INV.RT",(function(p,e){return H(1-p,e)})).args([["p",["and","number",["[between]",0,1]]],["deg_freedom","integer++"]]),t("CHISQ.TEST",(function(e,t){return function(e,t){var i,n,r=e.length,o=e[0].length,l=0;for(i=0;i<r;i++)for(n=0;n<o;n++){var c=t[i][n],h=e[i][n]-c;l+=(h*=h)/c}return L(l,(r-1)*(o-1))}(e.data,t.data)})).args([["actual_range","matrix"],["expected_range","matrix"],["?",["assert","$actual_range.width == $expected_range.width"]],["?",["assert","$actual_range.height == $expected_range.height"]]]),t("EXPON.DIST",(function(e,t,n){return n?1-Math.exp(-t*e):t*Math.exp(-t*e)})).args([["x","number+"],["lambda","number++"],["cumulative","logical"]]),t("POISSON.DIST",(function(e,t,n){if(n)return 1-B(2*t,2*(e+1),!0);for(var r=0,i=2;i<=e;i++)r+=Math.log(i);return Math.exp(e*Math.log(t)-t-r)})).args([["x","integer+"],["mean","number+"],["cumulative","logical"]]),t("F.DIST",N).args([["x","number+"],["deg_freedom1","integer++"],["deg_freedom2","integer++"],["cumulative","logical"]]),t("F.DIST.RT",(function(e,t,n){return 1-N(e,t,n,!0)})).args([["x","number+"],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]),t("F.INV",(function(p,e,t){return t/e*(1/z(1-p,t/2,e/2,0,1)-1)})).args([["p",["and","number",["[between]",0,1]]],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]),t("F.INV.RT",(function(p,e,t){return t/e*(1/z(p,t/2,e/2,0,1)-1)})).args([["p",["and","number",["[between]",0,1]]],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]),t("F.TEST",(function(e,t){var r=e.length-1,o=t.length-1,l=V(e,O(e)),c=V(t,O(t));if(!l||!c)throw new n("DIV/0");return 2*N(l/c,r,o,!0)})).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length >= 2","DIV/0"]],["?",["assert","$array2.length >= 2","DIV/0"]]]),t("FISHER",(function(e){return.5*Math.log((1+e)/(1-e))})).args([["x",["and","number",["(between)",-1,1]]]]),t("FISHERINV",(function(e){var t=Math.exp(2*e);return(t-1)/(t+1)})).args([["y","number"]]),t("T.DIST",W).args([["x","number"],["deg_freedom","integer++"],["cumulative","logical"]]),t("T.DIST.RT",U).args([["x","number"],["deg_freedom","integer++"]]),t("T.DIST.2T",j).args([["x","number+"],["deg_freedom","integer++"]]),t("T.INV",G).args([["p",["and","number",["(between]",0,1]]],["deg_freedom","integer++"]]),t("T.INV.2T",(function(p,e){return G(1-p/2,e)})).args([["p",["and","number",["(between]",0,1]]],["deg_freedom","integer++"]]),t("T.TEST",(function(e,t,n,r){var o,l,c=e.length,h=t.length;if(1==r){for(var d=0,f=0,i=0;i<c;i++){var m=e[i]-t[i];d+=m,f+=m*m}var v=d/c;return o=v/Math.sqrt((f-d*v)/(c*(c-1))),1==n?U(o,c-1):j(o,c-1)}var w=O(e),y=O(t),x=V(e,w),k=V(t,y);if(3==r){var C=x/c,S=k/h,u=C+S,T=C/u,D=S/u;return l=1/(T*T/(c-1)+D*D/(h-1)),o=_(w-y)/Math.sqrt(u),1==n?U(o,l):j(o,l)}return l=c+h-2,o=_(w-y)*Math.sqrt(l*c*h/((c+h)*((c-1)*x+(h-1)*k))),1==n?U(o,l):j(o,l)})).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["tails",["and","integer",["values",1,2]]],["type",["and","integer",["values",1,2,3]]],["?",["assert","$type != 1 || $array1.length == $array2.length","N/A"]],["?",["assert","$array1.length >= 2","DIV/0"]],["?",["assert","$array2.length >= 2","DIV/0"]]]),t("CONFIDENCE.T",(function(e,t,n){return-G(e/2,n-1)*t/Math.sqrt(n)})).args([["alpha",["and","number",["(between)",0,1]]],["standard_dev","number++"],["size",["and","integer++",["assert","$size != 1","DIV/0"]]]]),t("CONFIDENCE.NORM",(function(e,t,n){return-I(e/2)*t/Math.sqrt(n)})).args([["alpha",["and","number",["(between)",0,1]]],["standard_dev","number++"],["size",["and","integer++"]]]),t("GAUSS",(function(e){return A(e,!0)-.5})).args([["z","number"]]),t("PHI",(function(e){return A(e)})).args([["x","number"]]),t("LOGNORM.DIST",(function(e,t,s,n){if(n)return.5+.5*w((Math.log(e)-t)/(s*Math.sqrt(2)));var r=Math.log(e)-t;return Math.exp(-r*r/(2*s*s))/(e*s*Math.sqrt(2*Math.PI))})).args([["x","number++"],["mean","number"],["standard_dev","number++"],["cumulative","logical"]]),t("LOGNORM.INV",(function(p,e,s){return Math.exp(M(p,e,s))})).args([["probability",["and","number",["(between)",0,1]]],["mean","number"],["standard_dev","number++"]]),t("PROB",(function(e,t,r,o){var i,l=e.length,s=0;for(i=0;i<l;i++){if(t[i]<=0||t[i]>1)throw new n("NUM");s+=t[i]}if(1!=s)throw new n("NUM");var c=0;for(i=0;i<l;i++){var h=e[i];h>=r&&h<=o&&(c+=t[i])}return c})).args([["x_range",["collect","number",1]],["prob_range",["collect","number",1]],["lower_limit","number"],["upper_limit",["or","number",["null","$lower_limit"]]],["?",["assert","$prob_range.length == $x_range.length","N/A"]]]),t("SLOPE",(function(e,t){for(var n=O(t),r=O(e),o=0,l=0,i=0,c=e.length;i<c;i++){var h=t[i]-n;o+=h*(e[i]-r),l+=h*h}return o/l})).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]),t("INTERCEPT",(function(e,t){for(var n=O(t),r=O(e),o=0,l=0,i=0,c=e.length;i<c;i++){var h=t[i]-n;o+=h*(e[i]-r),l+=h*h}return r-o*n/l})).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]),t("PEARSON",$).args([["array1",["collect!","anything",1]],["array2",["collect!","anything",1]],["?",["assert","$array2.length == $array1.length","N/A"]],["?",["assert","$array2.length > 0 && $array1.length > 0","N/A"]]]),t("RSQ",(function(e,t){var n=$(e,t);return n*n})).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]],["?",["assert","$known_x.length != 1 && $known_y.length != 1","N/A"]]]),t("STEYX",(function(e,t){for(var n=t.length,r=O(t),o=O(e),l=0,c=0,h=0,i=0;i<n;i++){var d=t[i]-r,f=e[i]-o;l+=f*f,c+=d*f,h+=d*d}return Math.sqrt((l-c*c/h)/(n-2))})).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length >= 3 && $known_y.length >= 3","DIV/0"]]]),t("FORECAST",(function(e,t,r){for(var o=O(r),l=O(t),c=0,h=0,i=0,d=r.length;i<d;i++){var f=r[i]-o,m=t[i]-l;c+=f*m,h+=f*f}if(0===h)throw new n("N/A");var b=c/h;return l-b*o+b*e})).args([["x","number"],["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]),t("LINEST",Q).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]],["stats",["or","logical",["null",!1]]]]),t("LOGEST",(function(e,t,n,r){return Q.call(this,e.map(Math.log),t,n,r).map(Math.exp)})).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]],["stats",["or","logical",["null",!1]]]]),t("TREND",X).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["new_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]]]),t("GROWTH",(function(e,t,n,r){return X.call(this,e.map(Math.log),t,n,r).map(Math.exp)})).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["new_x",["or","matrix","null"]],["const",["or","logical",["null",!0]]]]),t("FV",Z).args([["rate","number"],["nper","number"],["pmt",["or","number",["null",0]]],["pv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$pmt || $pv"]]]),t("PV",(function(e,t,n,r,o){if(!e)return-r-n*t;var h1=Math.pow(1+e,t);return-(r+n*(h1-1)/e*(1+e*o))/h1})).args([["rate","number"],["nper","number"],["pmt",["or","number",["null",0]]],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]]]),t("PMT",ee).args([["rate","number"],["nper","number"],["pmt","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]]]),t("NPER",(function(e,t,n,r,o){if(!e)return-(r+n)/t;var h1=t*(1+e*o);return Math.log((h1-r*e)/(h1+n*e))/Math.log(1+e)})).args([["rate","number"],["pmt","number"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]]]),t("RATE",(function(e,t,n,r,o,l){return J((function(l){var h2=Math.pow(1+l,e-1),h1=h2*(1+l);return[n*h1+t*(1/l+o)*(h1-1)+r,e*n*h2+t*(-(h1-1)/(l*l)+(1/l+o)*e*h2)]}),l)})).args([["nper","number"],["pmt",["or","number",["null",0]]],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["guess",["or","number++",["null",.01]]],["?",["assert","$pmt || $fv"]]]),t("IPMT",te).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$per >= 1 && $per <= $nper"]]]),t("PPMT",(function(e,t,n,r,o,l){return ee(e,n,r,o,l)-te(e,t,n,r,o,l)})).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$per >= 1 && $per <= $nper"]]]),t("CUMPRINC",(function(e,t,n,r,o,l){1==l&&(r--,o--);var c=Math.pow(1+e,t),h=Math.pow(1+e,r-1),d=Math.pow(1+e,o),f=e*n*c/(c-1);return d*n-(d-1)/e*f-(h*n-(h-1)/e*f)})).args([["rate","number++"],["nper","number++"],["pv","number++"],["start_period","number++"],["end_period","number++"],["type",["or",["values",0,1],["null",0]]],["?",["assert","$end_period >= $start_period","NUM"]]]),t("CUMIPMT",(function(e,t,n,r,o,l){for(var c=0,i=r;i<=o;i++)c+=te(e,i,t,n,0,l);return c})).args([["rate","number++"],["nper","number++"],["pv","number++"],["start_period","number++"],["end_period","number++"],["type",["or",["values",0,1],["null",0]]],["?",["assert","$end_period >= $start_period","NUM"]]]),t("NPV",(function(e,t){for(var n=0,i=0,r=t.length;i<r;i++)n+=t[i]*Math.pow(1+e,-i-1);return n})).args([["rate","number"],["values",["collect","number"]],["?",["assert","$values.length > 0","N/A"]]]),t("IRR",(function(e,t){return J((function(t){for(var n=0,r=0,o=0,l=e.length;o<l;o++)n+=e[o]*Math.pow(1+t,-o-1),r+=-o*e[o]*Math.pow(1+t,-o-2);return[n,r]}),t)})).args([["values",["collect","number",1]],["guess",["or","number",["null",.1]]]]),t("EFFECT",(function(e,t){return Math.pow(1+e/t,t)-1})).args([["nominal_rate","number++"],["npery","integer++"]]),t("NOMINAL",(function(e,t){return t*(Math.pow(e+1,1/t)-1)})).args([["effect_rate","number++"],["npery","integer++"]]),t("XNPV",(function(e,t,n){for(var r=0,i=0,o=t.length;i<o;i++)r+=t[i]*Math.pow(1+e,(n[0]-n[i])/365);return r})).args([["rate","number"],["values",["collect","number",1]],["dates",["collect","date",1]],["?",["assert","$values.length == $dates.length","NUM"]]]),t("XIRR",(function(e,t,n){return J((function(n){for(var r=e[0],o=0,l=1,c=e.length;l<c;l++){var h=(t[0]-t[l])/365;r+=e[l]*Math.pow(1+n,h),o+=h*e[l]*Math.pow(1+n,h-1)}return[r,o]}),n)})).args([["values",["collect","number",1]],["dates",["collect","date",1]],["guess",["or","number",["null",.1]]],["?",["assert","$values.length == $dates.length","NUM"]]]),t("ISPMT",(function(e,t,n,r){return-r*e*(1-t/n)})).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["?",["assert","$per >= 1 && $per <= $nper"]]]),t("DB",(function(e,t,n,r,o){var l=1-Math.pow(t/e,1/n);l=Math.floor(1e3*l+.5)/1e3;var c=e*l*o/12;if(1==r)return c;for(var i=1;i<n;i++){if(i==r-1)return(e-c)*l;c+=(e-c)*l}return(e-c)*l*(12-o)/12})).args([["cost","number"],["salvage","number"],["life","number++"],["period","number++"],["month",["or","number",["null",12]]]]),t("DDB",(function(e,t,n,r,o){var l=o/n,c=-e*(Math.pow(1-l,r-1)-1),h=(e-c)*l;return h=Math.min(h,Math.max(0,e-c-t))})).args([["cost","number"],["salvage","number"],["life","number++"],["period","number++"],["factor",["or","number",["null",2]]]]),t("SLN",(function(e,t,n){return(e-t)/n})).args([["cost","number"],["salvage","number"],["life","number++"]]),t("SYD",(function(e,t,n,r){return(e-t)*(n-r+1)*2/(n*(n+1))})).args([["cost","number"],["salvage","number"],["life","number++"],["per","number++"]]),t("VDB",(function(e,t,n,r,o,l,c){var h=l>=n?1:l/n;function d(e,n){var r,o,l;return o=1==h?1==n?e:0:e*Math.pow(1-h,n-1),(r=(l=e*Math.pow(1-h,n))<t?o-t:o-l)<0?0:r}function f(e,n,r){for(var o,l=e-t,c=Math.ceil(r),h=0,f=0,m=!1,i=1;i<=c;i++){if(m)o=h;else{var v=d(e,i);(h=l/(n-i+1))>v?(o=h,m=!0):(o=v,l-=v)}i==c&&(o*=r+1-c),f+=o}return f}var m=Math.floor(r),v=Math.ceil(o),_=0;if(c)for(var i=m+1;i<=v;i++){var w=d(e,i);i==m+1?w*=Math.min(o,m+1)-r:i==v&&(w*=o+1-v),_+=w}else{var y=n;if(r!=Math.floor(r)&&l>1&&r>=n/2){var x=r-n/2;r=n/2,o-=x,y+=1}e-=f(e,y,r),_=f(e,n-r,o-r)}return _})).args([["cost","number+"],["salvage","number+"],["life","number++"],["start_period","number+"],["end_period","number+"],["factor",["or","number+",["null",2]]],["no_switch",["or","logical",["null",!1]]],["?",["assert","$end_period >= $start_period","NUM"]]]);var d=[["settlement","date"],["maturity","date"],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]];t("COUPDAYBS",(function(e,t,n,r){return ne(re(e,t,n)[0],e,r)})).args(d),t("COUPDAYS",(function(e,t,n,r){if(1==r){var o=re(e,t,n);return ne(o[0],o[1],1)}return 3==r?365/n:360/n})).args(d),t("COUPDAYSNC",(function(e,t,n,r){var o=re(e,t,n)[1];return ne(e,o,r)})).args(d),t("COUPPCD",(function(e,t,n){return re(e,t,n)[0]})).args(d),t("COUPNCD",(function(e,t,n){return re(e,t,n)[1]})).args(d),t("COUPNUM",(function(e,t,n){var r=o(e),l=o(t);return 1+((12*(l.year-r.year)+l.month-r.month)*n/12|0)})).args(d),t("ACCRINTM",(function(e,t,n,r,l){var c=oe(o(t).year,l);return n*r*ne(e,t,l)/c})).args([["issue","date"],["settlement","date"],["rate","number++"],["par",["or",["null",1e3],"number++"]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$issue < $settlement","NUM"]]]),t("ACCRINT",(function(e,t,n,r,l,c,h,d){var f,m,v,_,w,y,x=0,k=l*r/c,C=h%2==0?360:365;function S(e,t){return(t-e)*c/C|0}return n<=t?(f=re(n,t,c),m=f[0],v=f[1],m<=e?k*ne(e,n,h)/ne(m,v,h):(f=re(e,m,c),_=f[0],w=f[1],y=S(w,n),k*(y+ne(e,w,h)/ne(_,w,h)+(n<v?ne(m,n,h)/ne(m,v,h):0)))):(f=function(e,t,n){var r=o(t),base=o(e),l=r.year-base.year;l>0&&(l=(l-1)*n);for(var c,h=e,d=12/n;t>h;)c=h,l++,h=ie(e,l*d);return[c,h]}(t,n,c),m=f[0],v=f[1],y=S(t,n),x=v==n?k*y:k*(y+ne(m,n,h)/ne(m,v,h)),d?(f=re(e,t,c),m=f[0],v=f[1],y=S(e,t),x+=k*(y+ne(e,v,h)/ne(m,v,h))):x)})).args([["issue","date"],["first_interest","date"],["settlement","date"],["rate","number++"],["par",["or",["null",1e3],"number++"]],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["calc_method",["or","logical",["null",!0]]],["?",["assert","$issue < $settlement","NUM"]]]),t("DISC",(function(e,t,n,r,c){var h=c%2==0?360:l(o(e).year)?366:365;return(r-n)/r*h/ne(e,t,c)})).args([["settlement","date"],["maturity","date"],["pr","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),t("INTRATE",(function(e,t,n,r,c){var h=c%2==0?360:l(o(e).year)?366:365;return(r-n)/n*h/ne(e,t,c)})).args([["settlement","date"],["maturity","date"],["investment","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),t("RECEIVED",(function(e,t,n,r,c){var h=c%2==0?360:l(o(e).year)?366:365;return n/(1-r*ne(e,t,c)/h)})).args([["settlement","date"],["maturity","date"],["investment","number++"],["discount","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),t("PRICE",(function(e,t,n,r,o,l,c){var h=1+((t-e)*l/(c%2==0?360:365)|0),d=re(e,t,l),f=d[0],m=d[1],v=ne(f,e,c),_=ne(e,m,c),w=ne(f,m,c),y=100*n/l,x=r/l,k=_/w;return 1==h?(o+y)/(1+k*x)-v/w*y:o/Math.pow(1+x,h-1+k)+y*Math.pow(1+x,1-h-k)*(Math.pow(1+x,h)-1)/x-v/w*y})).args([["settlement","date"],["maturity","date"],["rate","number++"],["yld","number++"],["redemption","number++"],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]),t("PRICEDISC",(function(e,t,n,r,l){var c=ne(e,t,l),h=oe(o(t).year,l);return r-n*r*c/h})).args([["settlement","date"],["maturity","date"],["discount","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]);var f=300,m=22204e-20,v=1e-30,_=Math.abs}function w(e){if(_(e)>=3.3)return 1-y(e);var t=e>0?1:-1;-1==t&&(e=-e);for(var n=0,r=1,o=1;o<100;o++)n+=r,r*=2*e*e/(2*o+1);return 2*t/Math.sqrt(Math.PI)*e*Math.exp(-e*e)*n}function y(e){if(_(e)<3.3)return 1-w(e);var s=1;e<0&&(s=-1,e=-e);for(var t=e,n=8;n>=1;n-=.5)t=e+n/t;return t=1/(e+t),1==s?Math.exp(-e*e)/Math.sqrt(Math.PI)*t:2-Math.exp(-e*e)/Math.sqrt(Math.PI)*t}function x(e){var t=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],n=e,r=e+5.5,o=t[0];r-=(e+.5)*Math.log(r);for(var l=1;l<=6;l++)o+=t[l]/(n+=1);return-r+Math.log(Math.sqrt(2*Math.PI)*o/e)}function k(e){if(e>0)return Math.exp(x(e));var t=Math.PI,n=-e;return-t/(n*k(n)*Math.sin(t*n))}function C(a,b){return x(a)+x(b)-x(a+b)}function S(a,b){return Math.exp(C(a,b))}function T(a,e){return e<a+1?function(a,e){var t,n=1/a,r=n,o=a,l=x(a);for(t=1;t<=f&&(o++,n+=r*=e/o,!(_(r)<_(n)*m));t++);return n*Math.exp(-e+a*Math.log(e)-l)}(a,e):1-function(a,e){for(var t=v,n=t,r=0,o=1,l=e+1-a,c=x(a),i=1;i<=f;i++){_(r=l+o*r)<v&&(r=v),_(n=l+o/n)<v&&(n=v);var h=n*(r=1/r);if(t*=h,_(h-1)<m)break;l+=2,o=-i*(i-a)}return t*Math.exp(-e-c+a*Math.log(e))}(a,e)}function D(e,a,b,t){return t?T(a,e/b):Math.pow(e/b,a-1)*Math.exp(-e/b)/(b*k(a))}function E(p,a,b){if(0===p)return 0;if(1==p)return 1/0;var e=0,t=10,n=0,r=a*b;r>1&&(t*=r);for(var i=0;i<f;i++){var q=D(n=.5*(e+t),a,b,!0);if(_(p-q)<1e-16)break;q>p?t=n:e=n}return n}function A(e,t){return t?.5+.5*w(e/Math.sqrt(2)):Math.exp(-e*e/2)/Math.sqrt(2*Math.PI)}function I(p){var q,e,a=[-39.69683028665376,220.9460984245205,-275.9285104469687,138.357751867269,-30.66479806614716,2.506628277459239],b=[-54.47609879822406,161.5858368580409,-155.6989798598866,66.80131188771972,-13.28068155288572],t=[-.007784894002430293,-.3223964580411365,-2.400758277161838,-2.549732539343734,4.374664141464968,2.938163982698783],n=[.007784695709041462,.3224671290700398,2.445134137142996,3.754408661907416];return p<.02425?(q=Math.sqrt(-2*Math.log(p)),(((((t[0]*q+t[1])*q+t[2])*q+t[3])*q+t[4])*q+t[5])/((((n[0]*q+n[1])*q+n[2])*q+n[3])*q+1)):.97575<p?(q=Math.sqrt(-2*Math.log(1-p)),-(((((t[0]*q+t[1])*q+t[2])*q+t[3])*q+t[4])*q+t[5])/((((n[0]*q+n[1])*q+n[2])*q+n[3])*q+1)):(((((a[0]*(e=(q=p-.5)*q)+a[1])*e+a[2])*e+a[3])*e+a[4])*e+a[5])*q/(((((b[0]*e+b[1])*e+b[2])*e+b[3])*e+b[4])*e+1)}function M(p,e,s){return e+s*I(p)}function R(e,a,b){var t=Math.exp(a*Math.log(e)+b*Math.log(1-e)-C(a,b));return e<(a+1)/(a+b+2)?t*F(a,b,e)/a:1-t*F(b,a,1-e)/b}function F(a,b,e){var t,n,r,o,l,del,c,h,d,w;for(d=a-1,o=1,_(l=1-(h=a+b)*e/(w=a+1))<v&&(l=v),c=l=1/l,t=1;t<=f&&(_(l=1+(r=t*(b-t)*e/((d+(n=2*t))*(a+n)))*l)<v&&(l=v),_(o=1+r/o)<v&&(o=v),c*=(l=1/l)*o,_(l=1+(r=-(a+t)*(h+t)*e/((a+n)*(w+n)))*l)<v&&(l=v),_(o=1+r/o)<v&&(o=v),c*=del=(l=1/l)*o,!(_(del-1)<m));t++);return c}function P(p,a,b){for(var e=0,t=1,n=0,i=0;i<f;i++){var q=R(n=.5*(e+t),a,b);if(_(p-q)<m)break;q>p?t=n:e=n}return n}function z(p,a,b,e,t){return e+(t-e)*P(p,a,b)}function B(e,t,n){return D(e,t/2,2,n)}function L(e,t){return 1-B(e,t,!0)}function H(p,e){return E(p,e/2,2)}function N(e,t,n,r){if(r)return R(t*e/(n+t*e),t/2,n/2);var u=t/n;return u/S(t/=2,n/=2)*Math.pow(u*e,t-1)/Math.pow(1+u*e,t+n)}function O(e){for(var t=0,n=e.length,i=0;i<n;i++)t+=e[i];return t/n}function V(e,t){for(var n=0,r=e.length,i=0;i<r;i++){var o=e[i]-t;n+=o*o}return n/(r-1)}function W(e,t,n){return n?1-.5*R(t/(e*e+t),t/2,.5):1/(Math.sqrt(t)*S(.5,t/2))*Math.pow(1+e*e/t,-(t+1)/2)}function U(e,t){return 1-W(e,t,!0)}function j(e,t){return e<0&&(e=-e),2*U(e,t)}function G(p,e){var t=P(2*Math.min(p,1-p),e/2,.5);return t=Math.sqrt(e*(1-t)/t),p>.5?t:-t}function $(e,t){!function(a,b){for(var i=a.length;--i>=0;)"number"==typeof a[i]&&"number"==typeof b[i]||(a.splice(i,1),b.splice(i,1))}(e,t);for(var n=O(e),r=O(t),o=0,l=0,c=0,i=0,h=e.length;i<h;i++){var d=e[i]-n,f=t[i]-r;o+=d*f,l+=d*d,c+=f*f}return o/Math.sqrt(l*c)}function Y(e){for(var t=e.height,n=0,i=0;i<t;i++)n+=e.data[i][0];return n/t}function K(e,t){for(var n=e.height,r=0,i=0;i<n;i++){var o=e.data[i][0]-t;r+=o*o}return r}function Q(e,t,n,r){var i=0;t||(t=e.map((function(){return++i}))),n&&((t=t.clone()).eachRow((function(e){t.data[e].unshift(1)})),++t.width);var o=t.transpose(),l=o.multiply(t).inverse().multiply(o).multiply(e),c=[];for(i=l.height-1;i>=0;i--)c.push(l.data[i][0]);if(n||c.push(0),!r)return this.asMatrix([c]);var h=t.multiply(l),d=e.adds(h,!0),f=K(h,n?Y(h):0),m=K(d,n?Y(d):0),v=[];v.push(f,m);var _=f/(f+m),w=e.height-t.width,y=Math.sqrt(m/w),x=[];x.push(_,y);var k=n?f/(t.width-1)/(m/w):_/t.width/((1-_)/w),C=[];C.push(k,w);var S=o.multiply(t).inverse(),T=[];for(i=S.height-1;i>=0;i--)T.push(Math.sqrt(S.data[i][i]*m/w));return this.asMatrix([c,T,x,C,v])}function X(e,t,n,r){var i=0;t||(t=e.map((function(){return++i}))),r&&((t=t.clone()).eachRow((function(e){t.data[e].unshift(1)})),++t.width);var o=t.transpose(),l=o.multiply(t).inverse().multiply(o).multiply(e);return n?r&&((n=n.clone()).eachRow((function(e){n.data[e].unshift(1)})),++n.width):n=t,n.multiply(l)}function J(e,t,r,o){for(var l=r||20,c=o||1e-7,h=t,d=1;d<=l;d++){var f=e(h),m=f[0]/f[1];if(h-=m,Math.abs(m)<c)return h}return new n("NUM")}function Z(e,t,n,r,o){var h1=Math.pow(1+e,t);return-(r*h1+n*(e?(h1-1)/e:t)*(1+e*o))}function ee(e,t,n,r,o){if(!e)return-(r+n)/t;var h1=Math.pow(1+e,t);return-e*(r+n*h1)/((1+e*o)*(h1-1))}function te(e,t,n,r,o,l){if(1==l&&1==t)return 0;var c=Z(e,t-1,ee(e,n,r,o,l),r,l)*e;return l?c/(1+e):c}function ie(base,e){var t=o(base),n=t.month+e,l=t.year+Math.floor(n/12);return(n%=12)<0&&(n+=12),t=Math.min(t.date,c(l,n)),r(l,n,t)}function ne(e,t,n){return 1==n||2==n||3==n?t-e:h(e,t,n)}function re(e,t,n){var r=o(e),l=o(t).year-r.year;l>0&&(l=(l-1)*n);var c,h=12/n;do{c=ie(t,-++l*h)}while(e<c);return[c,ie(t,- --l*h)]}function oe(e,t){return 3==t?365:1==t?l(e)?366:365:360}})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1551),e.exports=n(1551)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},6:function(e,t){e.exports=n(39)},928:function(e,t){e.exports=n(4)},942:function(e,t){e.exports=n(13)},944:function(e,t){e.exports=n(67)},1496:function(e,t){e.exports=n(69)},1551:function(e,t,n){var r,o,l;n(3),o=[n(1496),n(944),n(6),n(942),n(928),n(1552)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.ui.ToolBar,r=e.spreadsheet.messages.toolbar={addColumnLeft:"Add column left",addColumnRight:"Add column right",addRowAbove:"Add row above",addRowBelow:"Add row below",alignment:"Alignment",alignmentButtons:{justtifyLeft:"Align left",justifyCenter:"Center",justifyRight:"Align right",justifyFull:"Justify",alignTop:"Align top",alignMiddle:"Align middle",alignBottom:"Align bottom"},backgroundColor:"Background",bold:"Bold",borders:"Borders",copy:"Copy",cut:"Cut",deleteColumn:"Delete column",deleteRow:"Delete row",filter:"Filter",fontFamily:"Font",fontSize:"Font size",format:"Custom format...",formatTypes:{automatic:"Automatic",text:"Text",number:"Number",percent:"Percent",financial:"Financial",currency:"Currency",date:"Date",time:"Time",dateTime:"Date time",duration:"Duration",moreFormats:"More formats..."},formatDecreaseDecimal:"Decrease decimal",formatIncreaseDecimal:"Increase decimal",freeze:"Freeze panes",freezeButtons:{freezePanes:"Freeze panes",freezeRows:"Freeze rows",freezeColumns:"Freeze columns",unfreeze:"Unfreeze panes"},insertComment:"Insert comment",insertImage:"Insert image",italic:"Italic",merge:"Merge cells",mergeButtons:{mergeCells:"Merge all",mergeHorizontally:"Merge horizontally",mergeVertically:"Merge vertically",unmerge:"Unmerge"},open:"Open...",paste:"Paste",quickAccess:{redo:"Redo",undo:"Undo"},exportAs:"Export...",toggleGridlines:"Toggle gridlines",sort:"Sort",sortButtons:{sortRangeAsc:"Sort range A to Z",sortRangeDesc:"Sort range Z to A"},textColor:"Text Color",textWrap:"Wrap text",underline:"Underline",validation:"Data validation...",hyperlink:"Link"},o={open:{type:"open",overflow:"never",iconClass:"file-excel"},exportAs:{type:"exportAsDialog",dialogName:"exportAs",overflow:"never",text:"",iconClass:"file-excel"},bold:{type:"button",command:"PropertyChangeCommand",property:"bold",value:!0,iconClass:"bold",togglable:!0},italic:{type:"button",command:"PropertyChangeCommand",property:"italic",value:!0,iconClass:"italic",togglable:!0},underline:{type:"button",command:"PropertyChangeCommand",property:"underline",value:!0,iconClass:"underline",togglable:!0},formatDecreaseDecimal:{type:"button",command:"AdjustDecimalsCommand",value:-1,iconClass:"decimal-decrease"},formatIncreaseDecimal:{type:"button",command:"AdjustDecimalsCommand",value:1,iconClass:"decimal-increase"},textWrap:{type:"button",command:"TextWrapCommand",property:"wrap",value:!0,iconClass:"text-wrap",togglable:!0},cut:{type:"button",command:"ToolbarCutCommand",iconClass:"cut"},copy:{type:"button",command:"ToolbarCopyCommand",iconClass:"copy"},paste:{type:"button",command:"ToolbarPasteCommand",iconClass:"paste"},separator:{type:"separator"},alignment:{type:"alignment",iconClass:"align-left"},backgroundColor:{type:"colorPicker",property:"background",iconClass:"paint"},textColor:{type:"colorPicker",property:"color",iconClass:"foreground-color"},fontFamily:{type:"fontFamily",property:"fontFamily",iconClass:"font-family"},fontSize:{type:"fontSize",property:"fontSize",iconClass:"font-size"},format:{type:"format",property:"format",iconClass:"custom-format"},filter:{type:"filter",property:"hasFilter",iconClass:"filter"},merge:{type:"merge",iconClass:"cells-merge"},freeze:{type:"freeze",iconClass:"pane-freeze"},borders:{type:"borders",iconClass:"borders-all"},formatCells:{type:"dialog",dialogName:"formatCells",overflow:"never"},hyperlink:{type:"dialog",dialogName:"hyperlink",iconClass:"link-horizontal",overflow:"never",text:""},toggleGridlines:{type:"button",command:"GridLinesChangeCommand",property:"gridLines",value:!0,iconClass:"border-no",togglable:!0},insertComment:{type:"dialog",dialogName:"insertComment",property:"comment",togglable:!0,overflow:"never",iconClass:"comment",text:""},insertImage:{type:"dialog",dialogName:"insertImage",overflow:"never",iconClass:"image",text:""},addColumnLeft:{type:"button",command:"AddColumnCommand",value:"left",iconClass:"table-column-insert-left"},addColumnRight:{type:"button",command:"AddColumnCommand",value:"right",iconClass:"table-column-insert-right"},addRowBelow:{type:"button",command:"AddRowCommand",value:"below",iconClass:"table-row-insert-below"},addRowAbove:{type:"button",command:"AddRowCommand",value:"above",iconClass:"table-row-insert-above"},deleteColumn:{type:"button",command:"DeleteColumnCommand",iconClass:"table-column-delete"},deleteRow:{type:"button",command:"DeleteRowCommand",iconClass:"table-row-delete"},sort:{type:"sort",iconClass:"sort-desc"},validation:{type:"dialog",dialogName:"validation",iconClass:"exception",overflow:"never"}},l=n.extend({init:function(element,e){e.items=this._expandTools(e.tools||l.prototype.options.tools[e.toolbarName]),n.fn.init.call(this,element,e);var r=this._click.bind(this);this.element.addClass("k-spreadsheet-toolbar"),this._addSeparators(this.element);var o=this;this.element.on("keydown",(function(e){var n;9===e.keyCode&&(n=o._nextTool(e.shiftKey?-1:1))&&(document.activeElement.blur(),t(n).is(".k-upload-button")&&t(n).addClass("k-state-focused"),t(n).find("input").length?t(n).find("input").focus():n.focus(),e.preventDefault())})),this.element.on("focusout",(function(){t(this).find(".k-toolbar-first-visible").removeClass("k-state-focused")})),this.bind({click:r,toggle:r})},_nextTool:function(e){var n=this.element.find(".k-widget, .k-button, .k-button-group > a"),r=n.index(t(document.activeElement).closest(".k-widget, .k-button, .k-button-group > a"));if(r>0)return n[r+e]},_addSeparators:function(element){element.children(".k-widget, a.k-button, .k-button-group").before("<span class='k-separator' />")},_expandTools:function(e){function n(e){var l=t.isPlainObject(e)?e:o[e]||{},c="k-icon k-i-"+l.iconClass,h=l.type,d={button:{showText:"overflow"},colorPicker:{toolIcon:c,spriteCssClass:c},borders:{spriteCssClass:c},alignment:{spriteCssClass:c},merge:{spriteCssClass:c},freeze:{spriteCssClass:c}},f=t.extend({name:l.name||e,text:r[l.name||e],icon:l.iconClass,attributes:{title:r[l.name||e],"aria-label":r[l.name||e]}},d[h],l);return"splitButton"==h&&(f.menuButtons=f.menuButtons.map(n)),f.attributes["data-tool"]=e,l.property&&(f.attributes["data-property"]=l.property),f}return e.reduce((function(e,r){return t.isArray(r)?e.push({type:"buttonGroup",buttons:r.map(n)}):e.push(n.call(this,r)),e}),[])},_click:function(e){var t=e.target.attr("data-tool"),n=o[t]||{},r=n.command;if(r){var l={command:r,options:{property:n.property||null,value:n.value||null}};"boolean"==typeof l.options.value&&(l.options.value=!!e.checked||null),this.action(l)}},events:["click","toggle","open","close","overflowOpen","overflowClose","action","dialog"],options:{name:"SpreadsheetToolBar",resizable:!0,tools:{home:["open","exportAs",["cut","copy","paste"],["bold","italic","underline"],"hyperlink","insertComment","insertImage","backgroundColor","textColor","borders","fontSize","fontFamily","alignment","textWrap",["formatDecreaseDecimal","formatIncreaseDecimal"],"format","merge","freeze","filter","toggleGridlines"],insert:[["addColumnLeft","addColumnRight","addRowBelow","addRowAbove"],["deleteColumn","deleteRow"]],data:["sort","filter","validation"]}},action:function(e){this.trigger("action",e)},dialog:function(e){this.trigger("dialog",e)},refresh:function(t){var n=t,r=this._tools();function o(e,t){var n=e.toolbar,r=e.overflow;if(n&&n.options.togglable||r&&r.options.togglable){var o=!1;"boolean"==typeof t?o=t:"string"==typeof t&&(o=n.options.hasOwnProperty("value")?n.options.value===t:null!=t),n.toggle(o),r&&r.toggle(o)}}function l(e,t){var n=e.toolbar,r=e.overflow;n&&n.update&&n.update(t),r&&r.update&&r.update(t)}for(var i=0;i<r.length;i++){var c=r[i].property,h=r[i].tool,d=e.isFunction(n[c])?n[c]():n;"gridLines"==c&&(d=n.sheet().showGridLines()),"button"===h.type?o(h,d):l(h,d)}this.resize()},_tools:function(){return this.element.find("[data-property]").toArray().map(function(element){return{property:(element=t(element)).attr("data-property"),tool:this._getItem(element)}}.bind(this))},destroy:function(){this.element.find("[data-command],.k-button").each((function(){var e=t(this).data("instance");e&&e.destroy&&e.destroy()})),n.fn.destroy.call(this)}});e.spreadsheet.ToolBar=l;var c=e.toolbar.Item.extend({init:function(e,n){var r=t("<select />").attr("title",e.attributes.title).attr("aria-label",e.attributes.title).kendoDropDownList({height:"auto"}).data("kendoDropDownList");this.dropDownList=r,this.element=r.wrapper,this.options=e,this.toolbar=n,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),r.bind("open",this._open.bind(this)),r.bind("change",this._change.bind(this)),this.element.width(e.width).attr({"data-command":"PropertyChangeCommand","data-property":e.property})},_open:function(){var t,n=this.dropDownList,r=n.list;r.css({whiteSpace:"nowrap",width:"auto"}),(t=r.width())>0?t+=20:t=n._listWidth,r.css("width",t+e.support.scrollbar()),n._listWidth=t},_change:function(e){var t=this,n=e.sender,r=n.value(),o=n.dataItem(),l=o?o.popup:void 0;l?setTimeout((function(){t.toolbar.dialog({name:l})})):t.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:"null"==r?null:r}})},value:function(e){if(void 0===e)return this.dropDownList.value();this.dropDownList.value(e)}}),h=e.toolbar.Item.extend({init:function(e,n){this.element=t("<a href='#' class='k-button k-button-icon'><span class='"+e.spriteCssClass+"'></span><span class='k-icon k-i-arrow-60-down'></span></a>"),this.element.on("click touchend",this.open.bind(this)).attr("data-command",e.command),this.options=e,this.toolbar=n,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this._popup()},destroy:function(){this.popup.destroy()},open:function(e){e.preventDefault(),this.popup.toggle()},_popup:function(){var element=this.element;this.popup=t("<div class='k-spreadsheet-popup' />").appendTo(element).kendoPopup({anchor:element}).data("kendoPopup")}});e.toolbar.registerComponent("dialog",e.toolbar.ToolBarButton.extend({init:function(t,n){e.toolbar.ToolBarButton.fn.init.call(this,t,n),this._dialogName=t.dialogName,this.element.bind("click touchend",this.open.bind(this)).data("instance",this)},open:function(){this.toolbar.dialog({name:this._dialogName})}})),e.toolbar.registerComponent("exportAsDialog",e.toolbar.Item.extend({init:function(e,n){this._dialogName=e.dialogName,this.toolbar=n,this._title=e.attributes.title,this.element=t("<button type='button' class='k-button k-button-icon'><span class='k-icon k-i-download' /></button>").attr("title",this._title).attr("aria-label",this._title).data("instance",this),this.element.bind("click",this.open.bind(this)).data("instance",this)},open:function(){this.toolbar.dialog({name:this._dialogName})}}));var d=e.toolbar.OverflowButton.extend({init:function(t,n){e.toolbar.OverflowButton.fn.init.call(this,t,n),this.element.on("click touchend",this._click.bind(this)),this.message=this.options.text;var r=this.element.data("button");this.element.data(this.options.type,r)},_click:t.noop}),f=h.extend({init:function(t,n){h.fn.init.call(this,t,n),this.popup.element.addClass("k-spreadsheet-colorpicker"),this.colorChooser=new e.spreadsheet.ColorChooser(this.popup.element,{change:this._colorChange.bind(this)}),this.element.attr({"data-property":t.property}),this.element.data({type:"colorPicker",colorPicker:this,instance:this})},destroy:function(){this.colorChooser.destroy(),h.fn.destroy.call(this)},update:function(e){this.value(e)},value:function(e){this.colorChooser.value(e)},_colorChange:function(e){this.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:e.sender.value()}}),this.popup.close()}}),m=d.extend({init:function(e,t){e.iconName="text",d.fn.init.call(this,e,t)},_click:function(){this.toolbar.dialog({name:"colorPicker",options:{title:this.options.property,property:this.options.property}})}});e.toolbar.registerComponent("colorPicker",f,m);var v=[8,9,10,11,12,13,14,16,18,20,22,24,26,28,36,48,72],_=e.toolbar.Item.extend({init:function(e,n){var r=t("<input />").attr("aria-label",e.attributes.title).kendoComboBox({change:this._valueChange.bind(this),clearButton:!1,dataSource:e.fontSizes||v,value:12}).data("kendoComboBox");this.comboBox=r,this.element=r.wrapper,this.options=e,this.toolbar=n,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.element.width(e.width).attr({"data-command":"PropertyChangeCommand","data-property":e.property}),this.element.data({type:"fontSize",fontSize:this})},_valueChange:function(t){this.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:e.parseInt(t.sender.value())}})},update:function(t){this.value(e.parseInt(t)||12)},value:function(e){if(void 0===e)return this.comboBox.value();this.comboBox.value(e)}}),w=d.extend({_click:function(){this.toolbar.dialog({name:"fontSize",options:{sizes:v,defaultSize:12}})},update:function(e){this._value=e||12,this.element.find(".k-text").text(this.message+" ("+this._value+") ...")}});e.toolbar.registerComponent("fontSize",_,w);var y=["Arial","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana"],x=c.extend({init:function(e,t){c.fn.init.call(this,e,t);var n=this.dropDownList;n.setDataSource(e.fontFamilies||y),n.value("Arial"),this.element.data({type:"fontFamily",fontFamily:this})},update:function(e){this.value(e||"Arial")}}),k=d.extend({_click:function(){this.toolbar.dialog({name:"fontFamily",options:{fonts:y,defaultFont:"Arial"}})},update:function(e){this._value=e||"Arial",this.element.find(".k-text").text(this.message+" ("+this._value+") ...")}});e.toolbar.registerComponent("fontFamily",x,k);var C=e.spreadsheet.formats={automatic:null,text:"@",number:"#,0.00",percent:"0.00%",financial:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',currency:"$#,##0.00;[Red]$#,##0.00",date:"m/d/yyyy",time:"h:mm:ss AM/PM",dateTime:"m/d/yyyy h:mm",duration:"[h]:mm:ss"},S=c.extend({_revertTitle:function(e){e.sender.value(""),e.sender.wrapper.width("auto")},init:function(e,t){c.fn.init.call(this,e,t);var n=this.dropDownList,o="<span class='k-icon k-i-"+e.iconClass+"' style='line-height: 1em; width: 1.35em;'></span>";n.bind("change",this._revertTitle.bind(this)),n.bind("dataBound",this._revertTitle.bind(this)),n.setOptions({dataValueField:"format",dataTextField:"name",dataValuePrimitive:!0,valueTemplate:o,template:"# if (data.sample) { #<span class='k-spreadsheet-sample'>#: data.sample #</span># } ##: data.name #"}),n.text(o),n.setDataSource([{format:C.automatic,name:r.formatTypes.automatic},{format:C.text,name:r.formatTypes.text},{format:C.number,name:r.formatTypes.number,sample:"1,499.99"},{format:C.percent,name:r.formatTypes.percent,sample:"14.50%"},{format:C.financial,name:r.formatTypes.financial,sample:"(1,000.12)"},{format:C.currency,name:r.formatTypes.currency,sample:"$1,499.99"},{format:C.date,name:r.formatTypes.date,sample:"4/21/2012"},{format:C.time,name:r.formatTypes.time,sample:"5:49:00 PM"},{format:C.dateTime,name:r.formatTypes.dateTime,sample:"4/21/2012 5:49:00"},{format:C.duration,name:r.formatTypes.duration,sample:"168:05:00"},{popup:"formatCells",name:r.formatTypes.moreFormats}]),this.element.data({type:"format",format:this})}}),T=d.extend({_click:function(){this.toolbar.dialog({name:"formatCells"})}});e.toolbar.registerComponent("format",S,T);var D=h.extend({init:function(e,t){h.fn.init.call(this,e,t),this._borderPalette(),this.element.data({type:"borders",instance:this})},destroy:function(){this.borderPalette.destroy(),h.fn.destroy.call(this)},_borderPalette:function(){var element=t("<div />").appendTo(this.popup.element);this.borderPalette=new e.spreadsheet.BorderPalette(element,{change:this._action.bind(this)})},_action:function(e){this.toolbar.action({command:"BorderChangeCommand",options:{border:e.type,style:{size:1,color:e.color}}})}}),E=d.extend({_click:function(){this.toolbar.dialog({name:"borders"})}});e.toolbar.registerComponent("borders",D,E);var A=h.extend({init:function(e,n){h.fn.init.call(this,e,n),this.element.attr({"data-property":"alignment"}),this._defineButtons(),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget))}.bind(this)),this.element.data({type:"alignment",alignment:this,instance:this})},_defineButtons:function(){this.buttons=[{property:"textAlign",value:"left",iconClass:"align-left",text:r.alignmentButtons.justtifyLeft},{property:"textAlign",value:"center",iconClass:"align-center",text:r.alignmentButtons.justifyCenter},{property:"textAlign",value:"right",iconClass:"align-right",text:r.alignmentButtons.justifyRight},{property:"textAlign",value:"justify",iconClass:"align-justify",text:r.alignmentButtons.justifyFull},{property:"verticalAlign",value:"top",iconClass:"align-top",text:r.alignmentButtons.alignTop},{property:"verticalAlign",value:"center",iconClass:"align-middle",text:r.alignmentButtons.alignMiddle},{property:"verticalAlign",value:"bottom",iconClass:"align-bottom",text:r.alignmentButtons.alignBottom}]},destroy:function(){this.popup.element.off(),h.fn.destroy.call(this)},update:function(e){var t=e.textAlign(),n=e.verticalAlign(),element=this.popup.element;element.find(".k-button").removeClass("k-state-active"),t&&element.find("[data-property=textAlign][data-value="+t+"]").addClass("k-state-active"),n&&element.find("[data-property=verticalAlign][data-value="+n+"]").addClass("k-state-active")},_commandPalette:function(){var e=this.buttons,element=t("<div />").appendTo(this.popup.element);e.forEach((function(n,r){var button="<a title='"+n.text+"' data-property='"+n.property+"' data-value='"+n.value+"' class='k-button k-button-icon'><span class='k-icon k-i-"+n.iconClass+"'></span></a>";0!==r&&e[r-1].property!==n.property&&element.append(t("<span class='k-separator' />")),element.append(button)}))},_action:function(button){var e=button.attr("data-property"),t=button.attr("data-value");this.toolbar.action({command:"PropertyChangeCommand",options:{property:e,value:t}})}}),I=d.extend({_click:function(){this.toolbar.dialog({name:"alignment"})}});e.toolbar.registerComponent("alignment",A,I);var M=h.extend({init:function(e,n){h.fn.init.call(this,e,n),this._defineButtons(),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget))}.bind(this)),this.element.data({type:"merge",merge:this,instance:this})},_defineButtons:function(){this.buttons=[{value:"cells",iconClass:"cells-merge",text:r.mergeButtons.mergeCells},{value:"horizontally",iconClass:"cells-merge-horizontally",text:r.mergeButtons.mergeHorizontally},{value:"vertically",iconClass:"cells-merge-vertically",text:r.mergeButtons.mergeVertically},{value:"unmerge",iconClass:"table-unmerge",text:r.mergeButtons.unmerge}]},destroy:function(){this.popup.element.off(),h.fn.destroy.call(this)},_commandPalette:function(){var element=t("<div />").appendTo(this.popup.element);this.buttons.forEach((function(e){var button="<a title='"+e.text+"' data-value='"+e.value+"' class='k-button k-button-icontext'><span class='k-icon k-i-"+e.iconClass+"'></span>"+e.text+"</a>";element.append(button)}))},_action:function(button){var e=button.attr("data-value");this.toolbar.action({command:"MergeCellCommand",options:{value:e}})}}),R=d.extend({_click:function(){this.toolbar.dialog({name:"merge"})}});e.toolbar.registerComponent("merge",M,R);var F=h.extend({init:function(e,n){h.fn.init.call(this,e,n),this._defineButtons(),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget))}.bind(this)),this.element.data({type:"freeze",freeze:this,instance:this})},_defineButtons:function(){this.buttons=[{value:"panes",iconClass:"pane-freeze",text:r.freezeButtons.freezePanes},{value:"rows",iconClass:"row-freeze",text:r.freezeButtons.freezeRows},{value:"columns",iconClass:"column-freeze",text:r.freezeButtons.freezeColumns},{value:"unfreeze",iconClass:"table-unmerge",text:r.freezeButtons.unfreeze}]},destroy:function(){this.popup.element.off(),h.fn.destroy.call(this)},_commandPalette:function(){var element=t("<div />").appendTo(this.popup.element);this.buttons.forEach((function(e){var button="<a title='"+e.text+"' data-value='"+e.value+"' class='k-button k-button-icontext'><span class='k-icon k-i-"+e.iconClass+"'></span>"+e.text+"</a>";element.append(button)}))},_action:function(button){var e=button.attr("data-value");this.toolbar.action({command:"FreezePanesCommand",options:{value:e}})}}),P=d.extend({_click:function(){this.toolbar.dialog({name:"freeze"})}});e.toolbar.registerComponent("freeze",F,P);var z=c.extend({_revertTitle:function(e){e.sender.value(""),e.sender.wrapper.width("auto")},init:function(e,t){c.fn.init.call(this,e,t);var n=this.dropDownList;n.bind("change",this._revertTitle.bind(this)),n.bind("dataBound",this._revertTitle.bind(this)),n.setOptions({valueTemplate:"<span class='k-icon k-i-"+e.iconClass+"' style='line-height: 1em; width: 1.35em;'></span>",template:"<span class='k-icon k-i-#= iconClass #' style='line-height: 1em; width: 1.35em;'></span>#=text#",dataTextField:"text",dataValueField:"value"}),n.setDataSource([{value:"asc",sheet:!1,text:r.sortButtons.sortRangeAsc,iconClass:"sort-asc"},{value:"desc",sheet:!1,text:r.sortButtons.sortRangeDesc,iconClass:"sort-desc"}]),n.select(0),this.element.data({type:"sort",sort:this})},_change:function(e){var t=e.sender.dataItem();t&&this.toolbar.action({command:"SortCommand",options:{value:t.value,sheet:t.sheet}})},value:t.noop}),B=d.extend({_click:function(){this.toolbar.dialog({name:"sort"})}});e.toolbar.registerComponent("sort",z,B);var L=e.toolbar.ToolBarButton.extend({init:function(t,n){t.showText="overflow",e.toolbar.ToolBarButton.fn.init.call(this,t,n),this.element.on("click",this._click.bind(this)),this.element.data({type:"filter",filter:this})},_click:function(){this.toolbar.action({command:"FilterCommand"})},update:function(e){this.toggle(e)}}),H=d.extend({init:function(e,t){d.fn.init.call(this,e,t),this.element.data({type:"filter",filter:this})},_click:function(){this.toolbar.action({command:"FilterCommand"})},update:function(e){this.toggle(e)}});e.toolbar.registerComponent("filter",L,H);var N=e.toolbar.Item.extend({init:function(e,n){this.toolbar=n,this.element=t("<div class='k-button k-upload-button k-button-icon'><span class='k-icon k-i-folder-open' /></div>").data("instance",this),this._title=e.attributes.title,this._reset()},_reset:function(){this.element.find("input").remove(),t("<input type='file' autocomplete='off' accept='.xlsx'/>").attr("title",this._title).attr("aria-label",this._title).one("change",this._change.bind(this)).appendTo(this.element)},_change:function(e){this.toolbar.action({command:"OpenCommand",options:{file:e.target.files[0]}}),this._reset()}});e.toolbar.registerComponent("open",N),e.spreadsheet.TabStrip=e.ui.TabStrip.extend({init:function(element,n){e.ui.TabStrip.fn.init.call(this,element,n),element.addClass("k-spreadsheet-tabstrip"),this._quickAccessButtons(),this.toolbars={};var r=n.dataSource;this.contentElements.each(function(e,element){this._toolbar(t(element),r[e].id,n.toolbarOptions[r[e].id])}.bind(this)),this.one("activate",(function(){this.toolbars[this.options.dataSource[0].id].resize()}))},events:e.ui.TabStrip.fn.events.concat(["action","dialog"]),destroy:function(){for(var t in this.quickAccessToolBar.off("click"),e.ui.TabStrip.fn.destroy.call(this),this.toolbars)this.toolbars[t].destroy()},action:function(e){this.trigger("action",e)},dialog:function(e){this.trigger("dialog",e)},refreshTools:function(e){var t=this.toolbars;for(var n in t)t.hasOwnProperty(n)&&t[n].refresh(e)},_quickAccessButtons:function(){var n=[{title:r.quickAccess.undo,iconClass:"undo",action:"undo"},{title:r.quickAccess.redo,iconClass:"redo",action:"redo"}],o=e.template("<a href='\\#' title='#= title #' data-action='#= action #' class='k-button k-button-icon' aria-label='#= title #'><span class='k-icon k-i-#=iconClass#'></span></a>");this.quickAccessToolBar=t("<div />",{class:"k-spreadsheet-quick-access-toolbar",html:e.render(o,n)}).insertBefore(this.wrapper),this.quickAccessToolBar.on("click",".k-button",function(e){e.preventDefault();var n=t(e.currentTarget).attr("data-action");this.action({action:n})}.bind(this)),this.quickAccessAdjust()},quickAccessAdjust:function(){this.tabGroup.css("padding-left",e._outerWidth(this.quickAccessToolBar))},_toolbar:function(t,n,r){var element,o;this.toolbars[n]&&(this.toolbars[n].destroy(),t.children(".k-toolbar").remove()),r&&(element=t.html("<div />").children("div"),o={tools:"boolean"==typeof r?void 0:r,toolbarName:n,action:this.action.bind(this),dialog:this.dialog.bind(this)},this.toolbars[n]=new e.spreadsheet.ToolBar(element,o))}})}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},1552:function(e,t){e.exports=n(369)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1503),e.exports=n(1503)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},928:function(e,t){e.exports=n(4)},944:function(e,t){e.exports=n(67)},1503:function(e,t,n){var r,o,l;n(3),o=[n(19),n(944),n(928)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=["allBorders","insideBorders","insideHorizontalBorders","insideVerticalBorders","outsideBorders","leftBorder","topBorder","rightBorder","bottomBorder","noBorders"],r=e.spreadsheet.messages.borderPalette={allBorders:"All borders",insideBorders:"Inside borders",insideHorizontalBorders:"Inside horizontal borders",insideVerticalBorders:"Inside vertical borders",outsideBorders:"Outside borders",leftBorder:"Left border",topBorder:"Top border",rightBorder:"Right border",bottomBorder:"Bottom border",noBorders:"No border"},o=e.spreadsheet.messages.colorPicker={reset:"Reset color",customColor:"Custom color...",apply:"Apply",cancel:"Cancel"},l=e.ui.Widget.extend({init:function(element,t){e.ui.Widget.call(this,element,t),this.element=element,this.color=t.color,this._resetButton(),this._colorPalette(),this._customColorPalette(),this._customColorButton(),this.resetButton.on("click",h(this.resetColor.bind(this))),this.customColorButton.on("click",h(this.customColor.bind(this)))},options:{name:"ColorChooser"},events:["change"],destroy:function(){e.unbind(this.dialog.element.find(".k-action-buttons")),this.dialog.destroy(),this.colorPalette.destroy(),this.resetButton.off("click"),this.customColorButton.off("click")},value:function(e){if(void 0===e)return this.color;this.color=e,this.customColorButton.find(".k-icon").css("background-color",this.color),this.colorPalette.value(null),this.flatColorPicker.value(this.color)},_change:function(e){this.color=e,this.trigger("change",{value:e})},_colorPalette:function(){var element=t("<div />",{class:"k-spreadsheet-color-palette"}),e=this.colorPalette=t("<div />").kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],value:this.color,change:function(e){this.customColorButton.find(".k-icon").css("background-color","transparent"),this.flatColorPicker.value(null),this._change(e.value)}.bind(this)}).data("kendoColorPalette");element.append(e.wrapper).appendTo(this.element)},_customColorPalette:function(){var element=t("<div />",{class:"k-spreadsheet-window",html:"<div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>"+o.apply+"</button><button class='k-button' data-bind='click: close'>"+o.cancel+"</button></div>"}),dialog=this.dialog=element.appendTo(document.body).kendoWindow({animation:!1,scrollable:!1,resizable:!1,maximizable:!1,modal:!0,visible:!1,width:"auto",open:function(){this.center()}}).data("kendoWindow");dialog.one("activate",(function(){this.element.find("[data-role=flatcolorpicker]").data("kendoFlatColorPicker")._hueSlider.resize()}));var n=this.flatColorPicker=dialog.element.children().first().kendoFlatColorPicker().data("kendoFlatColorPicker"),r=e.observable({apply:function(){this.customColorButton.find(".k-icon").css("background-color",n.value()),this.colorPalette.value(null),this._change(n.value()),dialog.close()}.bind(this),close:function(){n.value(null),dialog.close()}});e.bind(dialog.element.find(".k-action-buttons"),r)},_resetButton:function(){this.resetButton=t("<a class='k-button k-reset-color' href='#'><span class='k-icon k-i-reset-color'></span>"+o.reset+"</a>").appendTo(this.element)},_customColorButton:function(){this.customColorButton=t("<a class='k-button k-custom-color' href='#'><span class='k-icon'></span>"+o.customColor+"</a>").appendTo(this.element)},resetColor:function(){this.colorPalette.value(null),this.flatColorPicker.value(null),this._change(null)},customColor:function(){this.dialog.open()}}),c=e.ui.Widget.extend({init:function(element,t){e.ui.Widget.call(this,element,t),this.element=element,this.color="#000",this.element.addClass("k-spreadsheet-border-palette"),this._borderTypePalette(),this._borderColorPalette(),this.element.on("click",".k-spreadsheet-border-type-palette .k-button",h(this._click.bind(this)))},options:{name:"BorderPalette"},events:["change"],destroy:function(){this.colorChooser.destroy(),this.element.off("click")},_borderTypePalette:function(){var o=r,l=n.map((function(t){return'<a title="'+o[t]+'" aria-label="'+o[t]+'" href="#" data-border-type="'+t+'" class="k-button k-button-icon"><span class="k-icon k-i-'+e.toHyphens(t)+'"></span></a>'})).join("");t("<div />",{class:"k-spreadsheet-border-type-palette",html:l}).appendTo(this.element)},_borderColorPalette:function(){var element=t("<div />",{class:"k-spreadsheet-border-color-palette"});element.appendTo(this.element),this.colorChooser=new l(element,{color:this.color,change:this._colorChange.bind(this)})},_click:function(e){this.type=t(e.currentTarget).data("borderType"),this.trigger("change",{type:this.type,color:this.color})},_colorChange:function(e){this.color=e.value,this.type&&this.trigger("change",{type:this.type,color:this.color})}});e.spreadsheet.ColorChooser=l,e.spreadsheet.BorderPalette=c}function h(e){return function(t){return t.preventDefault(),e.apply(this,arguments)}}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1514),e.exports=n(1514)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},8:function(e,t){e.exports=n(91)},19:function(e,t){e.exports=n(0)},1486:function(e,t){e.exports=n(26)},1514:function(e,t,n){var r,o,l;n(3),o=[n(19),n(1486),n(8)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.data.ObservableObject,r=e.spreadsheet.messages.dialogs={apply:"Apply",save:"Save",cancel:"Cancel",remove:"Remove",retry:"Retry",revert:"Revert",okText:"OK",formatCellsDialog:{title:"Format",categories:{number:"Number",currency:"Currency",date:"Date"}},fontFamilyDialog:{title:"Font"},fontSizeDialog:{title:"Font size"},bordersDialog:{title:"Borders"},alignmentDialog:{title:"Alignment",buttons:{justtifyLeft:"Align left",justifyCenter:"Center",justifyRight:"Align right",justifyFull:"Justify",alignTop:"Align top",alignMiddle:"Align middle",alignBottom:"Align bottom"}},mergeDialog:{title:"Merge cells",buttons:{mergeCells:"Merge all",mergeHorizontally:"Merge horizontally",mergeVertically:"Merge vertically",unmerge:"Unmerge"}},freezeDialog:{title:"Freeze panes",buttons:{freezePanes:"Freeze panes",freezeRows:"Freeze rows",freezeColumns:"Freeze columns",unfreeze:"Unfreeze panes"}},confirmationDialog:{text:"Are you sure you want to remove this sheet?",title:"Sheet remove"},validationDialog:{title:"Data Validation",hintMessage:"Please enter a valid {0} value {1}.",hintTitle:"Validation {0}",criteria:{any:"Any value",number:"Number",text:"Text",date:"Date",custom:"Custom Formula",list:"List"},comparers:{greaterThan:"greater than",lessThan:"less than",between:"between",notBetween:"not between",equalTo:"equal to",notEqualTo:"not equal to",greaterThanOrEqualTo:"greater than or equal to",lessThanOrEqualTo:"less than or equal to"},comparerMessages:{greaterThan:"greater than {0}",lessThan:"less than {0}",between:"between {0} and {1}",notBetween:"not between {0} and {1}",equalTo:"equal to {0}",notEqualTo:"not equal to {0}",greaterThanOrEqualTo:"greater than or equal to {0}",lessThanOrEqualTo:"less than or equal to {0}",custom:"that satisfies the formula: {0}"},labels:{criteria:"Criteria",comparer:"Comparer",min:"Min",max:"Max",value:"Value",start:"Start",end:"End",onInvalidData:"On invalid data",rejectInput:"Reject input",showWarning:"Show warning",showHint:"Show hint",hintTitle:"Hint title",hintMessage:"Hint message",ignoreBlank:"Ignore blank",showListButton:"Display button to show list",showCalendarButton:"Display button to show calendar"},placeholders:{typeTitle:"Type title",typeMessage:"Type message"}},exportAsDialog:{title:"Export...",defaultFileName:"Workbook",xlsx:{description:"Excel Workbook (.xlsx)"},pdf:{description:"Portable Document Format (.pdf)",area:{workbook:"Entire Workbook",sheet:"Active Sheet",selection:"Selection"},paper:{a2:"A2 (420 mm × 594 mm)",a3:"A3 (297 mm x 420 mm)",a4:"A4 (210 mm x 297 mm)",a5:"A5 (148 mm x 210 mm)",b3:"B3 (353 mm × 500 mm)",b4:"B4 (250 mm x 353 mm)",b5:"B5 (176 mm x 250 mm)",folio:'Folio (8.5" x 13")',legal:'Legal (8.5" x 14")',letter:'Letter (8.5" x 11")',tabloid:'Tabloid (11" x 17")',executive:'Executive (7.25" x 10.5")'},margin:{normal:"Normal",narrow:"Narrow",wide:"Wide"}},labels:{scale:"Scale",fit:"Fit to page",fileName:"File name",saveAsType:"Save as type",exportArea:"Export",paperSize:"Paper size",margins:"Margins",orientation:"Orientation",print:"Print",guidelines:"Guidelines",center:"Center",horizontally:"Horizontally",vertically:"Vertically"}},modifyMergedDialog:{errorMessage:"Cannot change part of a merged cell."},rangeDisabledDialog:{errorMessage:"Destination range contains disabled cells."},intersectsArrayDialog:{errorMessage:"You cannot alter part of an array"},incompatibleRangesDialog:{errorMessage:"Incompatible ranges"},noFillDirectionDialog:{errorMessage:"Cannot determine fill direction"},duplicateSheetNameDialog:{errorMessage:"Duplicate sheet name"},overflowDialog:{errorMessage:"Cannot paste, because the copy area and the paste area are not the same size and shape."},useKeyboardDialog:{title:"Copying and pasting",errorMessage:"These actions cannot be invoked through the menu. Please use the keyboard shortcuts instead:",labels:{forCopy:"for copy",forCut:"for cut",forPaste:"for paste"}},unsupportedSelectionDialog:{errorMessage:"That action cannot be performed on multiple selection."},linkDialog:{title:"Hyperlink",labels:{text:"Text",url:"Address",removeLink:"Remove link"}},insertCommentDialog:{title:"Insert comment",labels:{comment:"Comment",removeComment:"Remove comment"}},insertImageDialog:{title:"Insert image",info:"Drag an image here, or click to select",typeError:"Please select a JPEG, PNG or GIF image"}},o={};e.spreadsheet.dialogs={register:function(e,t){o[e]=t},registered:function(e){return!!o[e]},create:function(e,t){var n=o[e];if(n)return new n(t)}};var l=e.spreadsheet.SpreadsheetDialog=e.Observable.extend({init:function(n){e.Observable.fn.init.call(this,n),this.options=O(t.extend(!0,{},this.options,n)),this.bind(this.events,n)},events:["close","activate"],options:{autoFocus:!0},dialog:function(){if(!this._dialog){var n={autoFocus:!1,scrollable:!1,resizable:!1,modal:!0,visible:!1,width:this.options.width||320,title:this.options.title,open:function(){this.center()},close:this._onDialogClose.bind(this),activate:this._onDialogActivate.bind(this),deactivate:this._onDialogDeactivate.bind(this)};this._dialog=t("<div class='k-spreadsheet-window k-action-window k-popup-edit-form' />").addClass(this.options.className||"").append(e.template(this.options.template)({messages:e.spreadsheet.messages.dialogs||r,errors:this.options.errors})).kendoWindow(n).data("kendoWindow")}return this._dialog},_onDialogClose:function(){this.trigger("close",{action:this._action})},_onDialogActivate:function(){this.trigger("activate")},_onDialogDeactivate:function(){this.trigger("deactivate"),this.destroy()},destroy:function(){this._dialog&&(this._dialog.destroy(),this._dialog=null)},open:function(){this.dialog().open(),this.dialog().element.find(".k-primary").focus()},apply:function(){this.close()},close:function(){this._action="close",this.dialog().close()}}),c=e.spreadsheet.FormatCellsViewModel=n.extend({init:function(e){n.fn.init.call(this,e),this.useCategory(this.category)},useCategory:function(e){var t=e&&e.type||"number",n="currency"==t;this.category=e,this.set("showCurrencyFilter",n&&this.currencies.length>1),n?this.currency(this.currencies[0]):this.set("formats",this.allFormats[t+"Formats"]),this.useFirstFormat()},useFirstFormat:function(){this.formats.length&&this.set("format",this.formats[0].value)},currency:function(e){if(void 0!==e){this._currency=e;var t=e.value,n=[{currency:t,decimals:!0},{currency:t,decimals:!0,iso:!0},{currency:t,decimals:!1}];n=n.map((function(e){return{value:e=c.convert.currency(e),name:z(1e3,e)}})),this.set("formats",n),this.useFirstFormat()}return this._currency||this.currencies[0]},categoryFilter:function(e){return void 0!==e&&this.useCategory(e),this.category},preview:function(){var e=this.get("format"),t=this.value||0;return e&&e.length?z(t,e):t}});c.convert={currency:function(e){var t,n,r=e.currency,o=r.pattern[1];return e.decimals&&(o=o.replace(/n/g,"n"+r["."]+(t="0",n=r.decimals,new Array(n+1).join(t)))),o=(o=e.iso?'"'+r.abbr+'" '+o.replace(/\s*\$\s*/g,""):o.replace(/\$/g,JSON.stringify(r.symbol))).replace(/n/g,"?")},date:function(e){return/T|Z/.test(e)?"":e.toLowerCase().replace(/tt/g,"AM/PM").replace(/'/g,'"')}};var h=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.formatCellsDialog||r,c={title:o.title,categories:[{type:"number",name:o.categories.number},{type:"currency",name:o.categories.currency},{type:"date",name:o.categories.date}]};l.fn.init.call(this,t.extend(c,n)),this._generateFormats()},options:{className:"k-spreadsheet-format-cells",template:"<div class='k-edit-form-container'><div class='k-root-tabs' data-role='tabstrip' data-text-field='name' data-bind='source: categories, value: categoryFilter' data-animation='false' /><div class='k-spreadsheet-preview' data-bind='text: preview' /><script type='text/x-kendo-template' id='format-item-template'>\\#: data.name \\#<\/script><select data-role='dropdownlist' class='k-format-filter' data-text-field='description' data-value-field='value.name' data-bind='visible: showCurrencyFilter, value: currency, source: currencies' /><ul data-role='staticlist' tabindex='0' class='k-list k-reset' data-template='format-item-template' data-value-primitive='true' data-value-field='value' data-bind='source: formats, value: format' /><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div></div>"},_generateFormats:function(){var n=this.options;if(n.currencies||(n.currencies=h.currenciesFrom(e.cultures)),n.numberFormats||(n.numberFormats=[{value:"#.00%",name:"100.00%"},{value:"#%",name:"100%"},{value:"#.00",name:"1024.00"},{value:"#,###.00",name:"1,024.00"}]),!n.dateFormats){var r=e.cultures.current.calendars.standard.patterns;n.dateFormats=B("value",t.map(r,(function(e){if(e=c.convert.date(e))return{value:e,name:z(34567.7678,e)}})))}},open:function(t){var element,n=this.options,r=t.value(),o=n.categories.slice(0);this.viewModel=new c({currencies:n.currencies.slice(0),allFormats:{numberFormats:n.numberFormats.slice(0),dateFormats:n.dateFormats.slice(0)},categories:o,format:t.format(),category:r instanceof Date?o[2]:o[0],apply:this.apply.bind(this),close:this.close.bind(this),value:r}),l.fn.open.call(this),element=this.dialog().element,e.bind(element,this.viewModel);var h=element.find("select.k-format-filter").data("kendoDropDownList");n.currencies.length>10&&h.setOptions({filter:"contains"}),element.find(e.roleSelector("staticlist")).parent().addClass("k-list-wrapper")},apply:function(){var e=this.viewModel.format;l.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:"format",value:e}})}});h.currenciesFrom=function(n){return B("description",t.map(n,(function(t,n){if(/-/.test(n)){var r=t.numberFormat.currency;return{description:e.format("{0} ({1}, {2})",r.name,r.abbr,r.symbol),value:r}}})))},e.spreadsheet.dialogs.register("formatCells",h),e.spreadsheet.dialogs.FormatCellsDialog=h;var d=l.extend({options:{className:"k-spreadsheet-message",title:"",messageId:"",text:"",template:"<div class='k-spreadsheet-message-content' data-bind='text: text' /><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: close'>#= messages.okText #</button></div>"},open:function(){l.fn.open.call(this);var t=this.options,text=t.text;t.messageId&&(text=e.getter(t.messageId,!0)(e.spreadsheet.messages.dialogs)),e.bind(this.dialog().element,{text:text,close:this.close.bind(this)})}});e.spreadsheet.dialogs.register("message",d);var f=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.confirmationDialog||r,c={title:o.title,text:o.text};l.fn.init.call(this,t.extend(c,n))},options:{className:"k-spreadsheet-message",messageId:"",template:"<div class='k-spreadsheet-message-content' data-bind='text: text' /><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: confirm'>#= messages.okText #</button><button class='k-button' data-bind='click: cancel'>#= messages.cancel #</button></div>"},open:function(){l.fn.open.call(this);var t=this.options,text=t.text;t.messageId&&(text=e.getter(t.messageId,!0)(e.spreadsheet.messages.dialogs)),e.bind(this.dialog().element,{text:text,confirm:this.confirm.bind(this),cancel:this.close.bind(this)})},isConfirmed:function(){return this._confirmed},confirm:function(){this._confirmed=!0,this.close()}});e.spreadsheet.dialogs.register("confirmation",f);var m=l.extend({options:{className:"k-spreadsheet-message",title:"",messageId:"",text:"",template:"<div class='k-spreadsheet-message-content' data-bind='text: text' /><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: retry'>#= messages.retry #</button><button class='k-button' data-bind='click: cancel'>#= messages.cancel #</button></div>"},open:function(){l.fn.open.call(this);var t=this.options,text=t.text;t.messageId&&(text=e.getter(t.messageId,!0)(e.spreadsheet.messages.dialogs)),e.bind(this.dialog().element,{text:text,retry:this.retry.bind(this),cancel:this.close.bind(this)})},retry:function(){this._retry=!0,this.close()}});e.spreadsheet.dialogs.register("validationError",m);var v=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.fontFamilyDialog||r;l.fn.init.call(this,t.extend({title:o.title},n)),this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var ul=this.dialog().element.find("ul"),t=this.options.fonts,n=this.options.defaultFont;this.list=new e.ui.StaticList(ul,{dataSource:new e.data.DataSource({data:t}),template:"#: data #",value:n,change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){l.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:"fontFamily",value:e.sender.value()[0]}})}});e.spreadsheet.dialogs.register("fontFamily",v);var _=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.fontSizeDialog||r;l.fn.init.call(this,t.extend({title:o.title},n)),this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var ul=this.dialog().element.find("ul"),t=this.options.sizes,n=this.options.defaultSize;this.list=new e.ui.StaticList(ul,{dataSource:new e.data.DataSource({data:t}),template:"#: data #",value:n,change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){l.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:"fontSize",value:e.parseInt(t.sender.value()[0])}})}});e.spreadsheet.dialogs.register("fontSize",_);var w=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.bordersDialog||r;l.fn.init.call(this,t.extend({title:o.title},n)),this.element=this.dialog().element,this._borderPalette(),this.viewModel=e.observable({apply:this.apply.bind(this),close:this.close.bind(this)}),e.bind(this.element.find(".k-action-buttons"),this.viewModel)},options:{width:177,template:"<div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},apply:function(){l.fn.apply.call(this);var e=this.value();this.trigger("action",{command:"BorderChangeCommand",options:{border:e.type,style:{size:1,color:e.color}}})},_borderPalette:function(){var element=this.dialog().element.find("div:first");this.borderPalette=new e.spreadsheet.BorderPalette(element,{change:this.value.bind(this)})},value:function(e){if(void 0===e)return this._state;this._state=e}});e.spreadsheet.dialogs.register("borders",w);var y=l.extend({init:function(t){l.fn.init.call(this,t),this.element=this.dialog().element,this.property=t.property,this.options.title=t.title,this.viewModel=e.observable({apply:this.apply.bind(this),close:this.close.bind(this)}),e.bind(this.element.find(".k-action-buttons"),this.viewModel)},options:{template:"<div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},apply:function(){l.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:this.property,value:this.value()}})},value:function(e){if(void 0===e)return this._value;this._value=e.value}}),x=y.extend({init:function(e){e.width=177,y.fn.init.call(this,e),this._colorPalette()},_colorPalette:function(){var element=this.dialog().element.find("div:first");this.colorPalette=element.kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],change:this.value.bind(this)}).data("kendoColorPalette")}});e.spreadsheet.dialogs.register("colorPicker",x);var k=y.extend({init:function(e){e.width=268,y.fn.init.call(this,e),this.dialog().setOptions({animation:!1}),this.dialog().one("activate",this._colorPicker.bind(this))},_colorPicker:function(){var element=this.dialog().element.find("div:first");this.colorPicker=element.kendoFlatColorPicker({change:this.value.bind(this)}).data("kendoFlatColorPicker")}});e.spreadsheet.dialogs.register("customColor",k);var C=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.alignmentDialog||r,c={title:o.title,buttons:[{property:"textAlign",value:"left",iconClass:"align-left",text:o.buttons.justtifyLeft},{property:"textAlign",value:"center",iconClass:"align-center",text:o.buttons.justifyCenter},{property:"textAlign",value:"right",iconClass:"align-right",text:o.buttons.justifyRight},{property:"textAlign",value:"justify",iconClass:"align-justify",text:o.buttons.justifyFull},{property:"verticalAlign",value:"top",iconClass:"align-top",text:o.buttons.alignTop},{property:"verticalAlign",value:"center",iconClass:"align-middle",text:o.buttons.alignMiddle},{property:"verticalAlign",value:"bottom",iconClass:"align-bottom",text:o.buttons.alignBottom}]};l.fn.init.call(this,t.extend(c,n)),this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var ul=this.dialog().element.find("ul");this.list=new e.ui.StaticList(ul,{dataSource:new e.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-property='#=property#' data-value='#=value#'><span class='k-icon k-i-#=iconClass#'></span>#=text#</a>",change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){var t=e.sender.value()[0];l.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",options:{property:t.property,value:t.value}})}});e.spreadsheet.dialogs.register("alignment",C);var S=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.mergeDialog||r,c={title:o.title,buttons:[{value:"cells",iconClass:"cells-merge",text:o.buttons.mergeCells},{value:"horizontally",iconClass:"cells-merge-horizontally",text:o.buttons.mergeHorizontally},{value:"vertically",iconClass:"cells-merge-vertically",text:o.buttons.mergeVertically},{value:"unmerge",iconClass:"table-unmerge",text:o.buttons.unmerge}]};l.fn.init.call(this,t.extend(c,n)),this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var ul=this.dialog().element.find("ul");this.list=new e.ui.StaticList(ul,{dataSource:new e.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-value='#=value#'><span class='k-icon k-icon k-i-#=iconClass#'></span>#=text#</a>",change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){var t=e.sender.value()[0];l.fn.apply.call(this),this.trigger("action",{command:"MergeCellCommand",options:{value:t.value}})}});e.spreadsheet.dialogs.register("merge",S);var T=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.freezeDialog||r,c={title:o.title,buttons:[{value:"panes",iconClass:"pane-freeze",text:o.buttons.freezePanes},{value:"rows",iconClass:"row-freeze",text:o.buttons.freezeRows},{value:"columns",iconClass:"column-freeze",text:o.buttons.freezeColumns},{value:"unfreeze",iconClass:"table-unmerge",text:o.buttons.unfreeze}]};l.fn.init.call(this,t.extend(c,n)),this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var ul=this.dialog().element.find("ul");this.list=new e.ui.StaticList(ul,{dataSource:new e.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-value='#=value#'><span class='k-icon k-icon k-i-#=iconClass#'></span>#=text#</a>",change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){var t=e.sender.value()[0];l.fn.apply.call(this),this.trigger("action",{command:"FreezePanesCommand",options:{value:t.value}})}});e.spreadsheet.dialogs.register("freeze",T);var D=e.spreadsheet.ValidationCellsViewModel=n.extend({init:function(e){n.fn.init.call(this,e),this.bind("change",function(e){"criterion"===e.field&&(this.reset(),"custom"!==this.criterion&&"list"!==this.criterion||this.setHintMessageTemplate()),"comparer"===e.field&&this.setHintMessageTemplate(),"hintMessage"!=e.field&&"hintTitle"!=e.field||this._mute||(this.shouldBuild=!1),"from"!=e.field&&"to"!=e.field&&"hintMessageTemplate"!=e.field&&"type"!=e.field||!this.shouldBuild||this.buildMessages()}.bind(this)),this.reset()},buildMessages:function(){this._mute=!0,this.set("hintTitle",this.hintTitleTemplate?e.format(this.hintTitleTemplate,this.type):""),this.set("hintMessage",this.hintMessageTemplate?e.format(this.hintMessageTemplate,this.from,this.to):""),this._mute=!1},reset:function(){this.setComparers(),this.set("comparer",this.comparers[0].type),this.set("from",null),this.set("to",null),this.set("useCustomMessages",!1),this.shouldBuild=!0,this.hintTitleTemplate=this.defaultHintTitle,this.buildMessages()},setComparers:function(){var e=this.defaultComparers,t=[];if("text"===this.criterion)for(var n=["equalTo","notEqualTo"],r=0;r<e.length;r++)n[0]==e[r].type&&(t.push(e[r]),n.shift());else t=e.slice();this.set("comparers",t)},setHintMessageTemplate:function(){"custom"!==this.criterion&&"list"!==this.criterion?this.set("hintMessageTemplate",e.format(this.defaultHintMessage,this.criterion,this.comparerMessages[this.comparer])):(this.set("hintMessageTemplate",""),this.set("hintMessage",""))},isAny:function(){return"any"===this.get("criterion")},isNumber:function(){return"number"===this.get("criterion")},showToForNumber:function(){return this.showTo()&&this.isNumber()},showToForDate:function(){return this.showTo()&&this.isDate()},isText:function(){return"text"===this.get("criterion")},isDate:function(){return"date"===this.get("criterion")},isList:function(){return"list"===this.get("criterion")},isCustom:function(){return"custom"===this.get("criterion")},showRemove:function(){return this.get("hasValidation")},showTo:function(){return"between"==this.get("comparer")||"notBetween"==this.get("comparer")},update:function(e){this.set("hasValidation",!!e),e&&this.fromValidationObject(e)},fromValidationObject:function(e){this.set("criterion",e.dataType),this.set("comparer",e.comparerType),this.set("from",e.from),this.set("to",e.to),this.set("type",e.type),this.set("ignoreBlank",e.allowNulls),this.set("showButton",e.showButton),e.messageTemplate||e.titleTemplate?(this.hintMessageTemplate=e.messageTemplate,this.hintMessage=e.messageTemplate,this.hintTitleTemplate=e.titleTemplate,this.hintTitle=e.titleTemplate,this.useCustomMessages=!0,this.buildMessages()):this.useCustomMessages=!1},toValidationObject:function(){if("any"===this.criterion)return null;var e={type:this.type,dataType:this.criterion,comparerType:this.comparer,from:this.from,to:this.to,allowNulls:this.ignoreBlank,showButton:this.showButton};return this.useCustomMessages&&(e.messageTemplate=this.shouldBuild?this.hintMessageTemplate:this.hintMessage,e.titleTemplate=this.hintTitle),e}}),E=l.extend({init:function(n){var o=e.spreadsheet.messages.dialogs.validationDialog||r,c={title:o.title,hintMessage:o.hintMessage,hintTitle:o.hintTitle,criteria:[{type:"any",name:o.criteria.any},{type:"number",name:o.criteria.number},{type:"text",name:o.criteria.text},{type:"date",name:o.criteria.date},{type:"custom",name:o.criteria.custom},{type:"list",name:o.criteria.list}],comparers:[{type:"greaterThan",name:o.comparers.greaterThan},{type:"lessThan",name:o.comparers.lessThan},{type:"between",name:o.comparers.between},{type:"notBetween",name:o.comparers.notBetween},{type:"equalTo",name:o.comparers.equalTo},{type:"notEqualTo",name:o.comparers.notEqualTo},{type:"greaterThanOrEqualTo",name:o.comparers.greaterThanOrEqualTo},{type:"lessThanOrEqualTo",name:o.comparers.lessThanOrEqualTo}],comparerMessages:o.comparerMessages};l.fn.init.call(this,t.extend(c,n))},options:{width:450,criterion:"any",type:"reject",ignoreBlank:!0,showButton:!0,useCustomMessages:!1,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-i-warning"> </span>#= message #<div class="k-callout k-callout-n"></div></div>',template:'<div class="k-edit-form-container"><div class="k-edit-label"><label>#: messages.validationDialog.labels.criteria #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" title="#: messages.validationDialog.labels.criteria #"data-text-field="name" data-value-field="type" data-bind="value: criterion, source: criteria" /></div><div data-bind="visible: isNumber"><div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" title="#: messages.validationDialog.labels.comparer #"data-text-field="name" data-value-field="type" data-bind="value: comparer, source: comparers" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.min #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.min #" title="#: messages.validationDialog.labels.min #" placeholder="e.g. 10" class="k-textbox" data-bind="value: from, enabled: isNumber" required="required" /></div><div data-bind="visible: showTo"><div class="k-edit-label"><label>#: messages.validationDialog.labels.max #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.max #" title="#: messages.validationDialog.labels.max #" placeholder="e.g. 100" class="k-textbox" data-bind="value: to, enabled: showToForNumber" required="required" /></div></div></div><div data-bind="visible: isText"><div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" title="#: messages.validationDialog.labels.comparer #"data-text-field="name" data-value-field="type" data-bind="value: comparer, source: comparers" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.value #" title="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isText" required="required" /></div></div><div data-bind="visible: isDate"><div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div><div class="k-edit-field"><select data-role="dropdownlist" title="#: messages.validationDialog.labels.comparer #"data-text-field="name" data-value-field="type" data-bind="value: comparer, source: comparers" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.start #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.start #" title="#: messages.validationDialog.labels.start #" class="k-textbox" data-bind="value: from, enabled: isDate" required="required" /></div><div data-bind="visible: showTo"><div class="k-edit-label"><label>#: messages.validationDialog.labels.end #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.end #" title="#: messages.validationDialog.labels.end #" class="k-textbox" data-bind="value: to, enabled: showToForDate" required="required" /></div></div></div><div data-bind="visible: isCustom"><div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.value #" title="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isCustom" required="required" /></div></div><div data-bind="visible: isList"><div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div><div class="k-edit-field"><input name="#: messages.validationDialog.labels.value #" title="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isList" required="required" /></div></div><div data-bind="visible: isList"><div class="k-edit-field"><input type="checkbox" name="showButton" id="listShowButton" class="k-checkbox" data-bind="checked: showButton"/><label for="listShowButton" class="k-checkbox-label"> #: messages.validationDialog.labels.showListButton #</label></div></div><div data-bind="visible: isDate"><div class="k-edit-field"><input type="checkbox" name="showButton" id="dateShowButton" class="k-checkbox" data-bind="checked: showButton"/><label for="dateShowButton" class="k-checkbox-label"> #: messages.validationDialog.labels.showCalendarButton #</label></div></div><div data-bind="invisible: isAny"><div class="k-edit-field"><input type="checkbox" title="#: messages.validationDialog.labels.ignoreBlank #" name="ignoreBlank" id="ignoreBlank" class="k-checkbox" data-bind="checked: ignoreBlank"/><label for="ignoreBlank" class="k-checkbox-label"> #: messages.validationDialog.labels.ignoreBlank #</label></div></div><div data-bind="invisible: isAny"><div class="k-hr"></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.onInvalidData #:</label></div><div class="k-edit-field"><input type="radio" title="#: messages.validationDialog.labels.rejectInput #" id="validationTypeReject" name="validationType" value="reject" data-bind="checked: type" class="k-radio" /><label for="validationTypeReject" class="k-radio-label">#: messages.validationDialog.labels.rejectInput #</label> <input type="radio" title="#: messages.validationDialog.labels.showWarning #" id="validationTypeWarning"  name="validationType" value="warning" data-bind="checked: type" class="k-radio" /><label for="validationTypeWarning" class="k-radio-label">#: messages.validationDialog.labels.showWarning #</label></div></div><div data-bind="invisible: isAny" class="hint-wrapper"><div class="k-edit-field"><input type="checkbox" title="#: messages.validationDialog.labels.showHint #" name="useCustomMessages" id="useCustomMessages" class="k-checkbox" data-bind="checked: useCustomMessages" /><label class="k-checkbox-label" for="useCustomMessages"> #: messages.validationDialog.labels.showHint #</label></div><div data-bind="visible: useCustomMessages"><div class="k-edit-label"><label>#: messages.validationDialog.labels.hintTitle #:</label></div><div class="k-edit-field"><input class="k-textbox" title="#: messages.validationDialog.labels.hintTitle #" placeholder="#: messages.validationDialog.placeholders.typeTitle #" data-bind="value: hintTitle" /></div><div class="k-edit-label"><label>#: messages.validationDialog.labels.hintMessage #:</label></div><div class="k-edit-field"><input class="k-textbox" title="#: messages.validationDialog.labels.hintMessage #" placeholder="#: messages.validationDialog.placeholders.typeMessage #" data-bind="value: hintMessage" /></div></div></div><div class="k-action-buttons"><button class="k-button" data-bind="visible: showRemove, click: remove">#: messages.remove #</button><button class="k-button k-primary" data-bind="click: apply">#: messages.apply #</button><button class="k-button" data-bind="click: close">#: messages.cancel #</button></div></div>'},open:function(t){var element,n=this.options;this.viewModel=new D({type:n.type,defaultHintMessage:n.hintMessage,defaultHintTitle:n.hintTitle,defaultComparers:n.comparers.slice(0),comparerMessages:n.comparerMessages,criteria:n.criteria.slice(0),criterion:n.criterion,ignoreBlank:n.ignoreBlank,showButton:n.showButton,apply:this.apply.bind(this),close:this.close.bind(this),remove:this.remove.bind(this)}),this.viewModel.update(t.validation()),l.fn.open.call(this),element=this.dialog().element,this.validatable&&this.validatable.destroy(),e.bind(element,this.viewModel),this.validatable=new e.ui.Validator(element.find(".k-edit-form-container"),{validateOnBlur:!1,errorTemplate:this.options.errorTemplate||void 0})},apply:function(){this.validatable.validate()&&(l.fn.apply.call(this),this.trigger("action",{command:"EditValidationCommand",options:{value:this.viewModel.toValidationObject()}}))},remove:function(){this.viewModel.set("criterion","any"),this.apply()}});e.spreadsheet.dialogs.register("validation",E),e.spreadsheet.dialogs.ValidationDialog=E;var A=l.extend({init:function(t){l.fn.init.call(this,t),t=this.options,this.viewModel=e.observable({title:t.title,name:t.name,extension:t.extension,fileFormats:t.fileFormats,excel:t.excelExport,pdf:{proxyURL:t.pdfExport.proxyURL,forceProxy:t.pdfExport.forceProxy,title:t.pdfExport.title,author:t.pdfExport.author,subject:t.pdfExport.subject,keywords:t.pdfExport.keywords,creator:t.pdfExport.creator,date:t.pdfExport.date,fitWidth:t.pdf.fitWidth,area:t.pdf.area,areas:t.pdf.areas,paperSize:t.pdf.paperSize,paperSizes:t.pdf.paperSizes,margin:t.pdf.margin,margins:t.pdf.margins,landscape:t.pdf.landscape,guidelines:t.pdf.guidelines,hCenter:t.pdf.hCenter,vCenter:t.pdf.vCenter},apply:this.apply.bind(this),close:this.close.bind(this)});var dialog=this.dialog();this.viewModel.bind("change",(function(e){"extension"===e.field&&(this.set("showPdfOptions",".pdf"===this.extension),dialog.center())})),e.bind(dialog.element,this.viewModel)},options:{title:N("exportAsDialog.title","Export..."),name:N("exportAsDialog.defaultFileName","Workbook"),extension:".xlsx",fileFormats:[{description:N("exportAsDialog.xlsx.description","Excel Workbook (.xlsx)"),extension:".xlsx"},{description:N("exportAsDialog.pdf.description","Portable Document Format (.pdf)"),extension:".pdf"}],pdf:{fitWidth:!0,area:"workbook",areas:[{area:"workbook",text:N("exportAsDialog.pdf.area.workbook","Entire Workbook")},{area:"sheet",text:N("exportAsDialog.pdf.area.sheet","Active Sheet")},{area:"selection",text:N("exportAsDialog.pdf.area.selection","Selection")}],paperSize:"a4",paperSizes:["a2","a3","a4","a5","b3","b4","b5","folio","legal","letter","tabloid","executive"].map((function(e){return{value:e,text:N("exportAsDialog.pdf.paper."+e)}})),margin:{bottom:"0.75in",left:"0.7in",right:"0.7in",top:"0.75in"},margins:[{value:{bottom:"0.75in",left:"0.7in",right:"0.7in",top:"0.75in"},text:N("exportAsDialog.pdf.margin.normal","Normal")},{value:{bottom:"0.75in",left:"0.25in",right:"0.25in",top:"0.75in"},text:N("exportAsDialog.pdf.margin.narrow","Narrow")},{value:{bottom:"1in",left:"1in",right:"1in",top:"1in"},text:N("exportAsDialog.pdf.margin.wide","Wide")}],landscape:!0,guidelines:!0,hCenter:!0,vCenter:!0},width:520,template:"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.fileName #:</label></div><div class='k-edit-field'><input class='k-textbox' data-bind='value: name' /></div><div ><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='description' data-value-field='extension' data-bind='value: extension, source: fileFormats' /></div></div><div class='k-export-config' data-bind='visible: showPdfOptions'><hr class='k-hr' /><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.exportArea #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='text' data-value-field='area' data-bind='value: pdf.area, source: pdf.areas' /></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.paperSize#:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='text' data-value-field='value' data-bind='value: pdf.paperSize, source: pdf.paperSizes' /></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.margins #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-value-primitive='true'data-text-field='text' data-value-field='value' data-bind='value: pdf.margin, source: pdf.margins' /></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.orientation #:</label></div><div class='k-edit-field'><div class='k-button-group'><input type='radio' id='k-orientation-portrait' name='orientation' data-type='boolean' data-bind='checked: pdf.landscape' value='false' /><label class='k-button k-button-icon k-group-start k-orientation-button' for='k-orientation-portrait'><span class='k-icon k-i-page-portrait'></span></label><input type='radio' id='k-orientation-landscape' name='orientation' data-type='boolean' data-bind='checked: pdf.landscape' value='true' /><label class='k-button k-button-icon k-group-end k-orientation-button' for='k-orientation-landscape'><span class='k-icon k-i-page-landscape'></span></label></div></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.print #:</label></div><div class='k-edit-field'><input class='k-checkbox' id='guidelines' type='checkbox' data-bind='checked: pdf.guidelines'/><label class='k-checkbox-label' for='guidelines'>#: messages.exportAsDialog.labels.guidelines#</label></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.scale #:</label></div><div class='k-edit-field'><input class='k-checkbox' id='fitWidth' type='checkbox' data-bind='checked: pdf.fitWidth'/><label class='k-checkbox-label' for='fitWidth'>#: messages.exportAsDialog.labels.fit #</label></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.center #:</label></div><div class='k-edit-field'><input class='k-checkbox' id='hCenter' type='checkbox' data-bind='checked: pdf.hCenter'/><label class='k-checkbox-label' for='hCenter'>#: messages.exportAsDialog.labels.horizontally #</label><input class='k-checkbox' id='vCenter' type='checkbox' data-bind='checked: pdf.vCenter'/><label class='k-checkbox-label' for='vCenter'>#: messages.exportAsDialog.labels.vertically #</label></div><div class='k-page-orientation'><span class='k-icon k-i-page-portrait' data-bind='invisible: pdf.landscape'></span><span class='k-icon k-i-page-landscape' data-bind='visible: pdf.landscape'></span></div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.save #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},apply:function(){l.fn.apply.call(this),this.trigger("action",{command:"SaveAsCommand",options:this.viewModel})}});e.spreadsheet.dialogs.register("exportAs",A),L("modifyMerged","modifyMergedDialog.errorMessage"),L("rangeDisabled","rangeDisabledDialog.errorMessage"),L("intersectsArray","intersectsArrayDialog.errorMessage"),L("overflow","overflowDialog.errorMessage"),L("unsupportedSelection","unsupportedSelectionDialog.errorMessage"),L("incompatibleRanges","incompatibleRangesDialog.errorMessage"),L("noFillDirection","noFillDirectionDialog.errorMessage"),L("duplicateSheetName","duplicateSheetNameDialog.errorMessage");var I=d.extend({options:{width:640,title:"Errors in import",template:"<div class='k-spreadsheet-message-content k-spreadsheet-import-errors'><div class='k--header-message'>We encountered #= errors.length # errors while reading this file.  Please be aware that some formulas might be missing, or contain invalid results.</div><div class='k--errors'><table><thead><tr><th>Context</th><th>Error message</th></tr></thead># for (var i = 0; i < errors.length; ++i) { ## var err = errors[i]; #<tr><td>#: err.context #</td><td>#: err.error #</td></tr># } #</table></div></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: close'>#: messages.okText #</button></div>"}});e.spreadsheet.dialogs.register("importError",I);var M=d.extend({options:{title:N("useKeyboardDialog.title","Copying and pasting"),template:"#: messages.useKeyboardDialog.errorMessage #<div>Ctrl+C #: messages.useKeyboardDialog.labels.forCopy #</div><div>Ctrl+X #: messages.useKeyboardDialog.labels.forCut #</div><div>Ctrl+V #: messages.useKeyboardDialog.labels.forPaste #</div><div class=\"k-action-buttons\"><button class='k-button k-primary' data-bind='click: close'>#= messages.okText #</button></div>"}});e.spreadsheet.dialogs.register("useKeyboard",M);var R=l.extend({options:{title:N("linkDialog.title","Hyperlink"),template:"<div class='k-edit-label'><label>#: messages.linkDialog.labels.url #:</label></div><div class='k-edit-field'><input class='k-textbox' data-bind='value: url' title='#: messages.linkDialog.labels.url #' /></div><div class='k-action-buttons'><button class='k-button k-left' data-bind='click: remove'>#= messages.linkDialog.labels.removeLink #</button><button class='k-button k-primary' data-bind='click: apply'>#= messages.okText #</button><button class='k-button' data-bind='click: cancel'>#= messages.cancel #</button></div>",autoFocus:!1},open:function(n){var r=this;l.fn.open.apply(r,arguments);var element=r.dialog().element,o=e.observable({url:n.link(),apply:function(){/\S/.test(o.url)||(o.url=null),r.trigger("action",{command:"HyperlinkCommand",options:{link:o.url}}),r.close()},remove:function(){o.url=null,o.apply()},cancel:r.close.bind(r)});e.bind(element,o),element.find("input").focus().on("keydown",(function(e){13==e.keyCode?(o.url=t(this).val(),e.stopPropagation(),e.preventDefault(),o.apply()):27==e.keyCode&&(e.stopPropagation(),e.preventDefault(),o.cancel())}))}});e.spreadsheet.dialogs.register("hyperlink",R);var F=l.extend({options:{className:"k-spreadsheet-insert-comment",template:"\t<div class='k-edit-label'><label>#: messages.insertCommentDialog.labels.comment #:</label></div>\t<div class='k-edit-field'><textarea rows='5' class='k-textbox' data-bind='value: comment'></textarea></div>\t<div class='k-action-buttons'>\t  <button class='k-button k-left' data-bind='click: remove'>#: messages.insertCommentDialog.labels.removeComment #</button>\t  <button class='k-button k-primary' data-bind='click: apply'>#: messages.okText #</button>\t  <button class='k-button' data-bind='click: cancel'>#= messages.cancel #</button>\t</div>\t",title:N("insertCommentDialog.title","Insert comment"),autoFocus:!1,width:450},open:function(t){var n=this;l.fn.open.apply(n,arguments);var element=n.dialog().element,r=e.observable({comment:t.comment(),apply:function(){/\S/.test(r.comment)||(r.comment=null),n.trigger("action",{command:"InsertCommentCommand",options:{value:r.comment}}),n.close()},remove:function(){r.comment=null,r.apply()},cancel:n.close.bind(n)});e.bind(element,r),element.find("textarea").focus()}});e.spreadsheet.dialogs.register("insertComment",F);var P=l.extend({options:{template:"\t<div class='k-spreadsheet-insert-image-dialog'>\t  <label data-bind='style: { background-image: imageUrl },\t                    css: { k-spreadsheet-has-image: hasImage, k-state-hovered: isHovered },\t                    events: { dragenter: dragEnter, dragover: stopEvent, dragleave: dragLeave, drop: drop }'>\t    <div data-bind='text: info'></div>\t    <input type='file' data-bind='events: { change: change }'\t           accept='image/png, image/jpeg, image/gif' />\t  </label>\t</div>\t<div class='k-action-buttons'>\t  <button class='k-button k-primary' data-bind='enabled: okEnabled, click: apply'>#: messages.okText #</button>\t  <button class='k-button' data-bind='click: cancel'>#= messages.cancel #</button>\t</div>",title:N("insertImageDialog.title","Insert image"),width:"auto"},open:function(){var t=this;l.fn.open.apply(t,arguments);var element=t.dialog().element,n=e.observable({okEnabled:!1,info:e.spreadsheet.messages.dialogs.insertImageDialog.info,imageUrl:"",hasImage:!1,isHovered:!1,_url:null,_image:null,apply:function(){window.URL.revokeObjectURL(n._url),t.trigger("action",{command:"InsertImageCommand",options:{blob:n._image,width:n._width,height:n._height}}),t.close()},cancel:t.close.bind(t),stopEvent:function(e){e.stopPropagation(),e.preventDefault()},drop:function(e){n.stopEvent(e),n.selectFile(e.originalEvent.dataTransfer.files),n.set("isHovered",!1)},dragEnter:function(e){n.stopEvent(e),n.set("isHovered",!0)},dragLeave:function(e){n.stopEvent(e),n.set("isHovered",!1)},change:function(e){n.selectFile(e.target.files)},selectFile:function(t){for(var image,i=0;i<t.length;++i)if(/^image\//i.test(t[i].type)){image=t[i];break}if(n._url&&window.URL.revokeObjectURL(n._url),image){n._image=image,n._url=window.URL.createObjectURL(image);var img=new Image;img.src=n._url,img.onload=function(){n._width=img.width,n._height=img.height,n.set("info",e.spreadsheet.messages.dialogs.insertImageDialog.info),n.set("okEnabled",!0),n.set("imageUrl","url('"+n._url+"')"),n.set("hasImage",!0)}}else n._image=null,n.set("info",e.spreadsheet.messages.dialogs.insertImageDialog.typeError),n.set("okEnabled",!1),n.set("imageUrl",""),n.set("hasImage",!1)}});e.bind(element,n)}});e.spreadsheet.dialogs.register("insertImage",P),H.prototype.trans=function(){for(var t=e.spreadsheet.messages.dialogs,i=0;i<this.path.length;++i)if(!(t=t[this.path[i]]))return this.def;return t}}function z(t,n){return e.spreadsheet.formatting.text(t,n)}function B(e,n){for(var r=[],o=[],i=0;i<n.length;i++)-1==t.inArray(n[i][e],o)&&(r.push(n[i]),o.push(n[i][e]));return r}function L(t,n){e.spreadsheet.dialogs.register(t,d.extend({options:{messageId:n}}))}function H(path,e){this.path=path.split("."),this.def=e}function N(path,e){return new H(path,e)}function O(e){return e instanceof H?e.trans():Array.isArray(e)?e.map(O):null!=e&&"object"==typeof e?Object.keys(e).reduce((function(t,n){return t[n]=O(e[n]),t}),{}):e}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1547),e.exports=n(1547)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},5:function(e,t){e.exports=n(3)},19:function(e,t){e.exports=n(0)},1513:function(e,t){e.exports=n(98)},1547:function(e,t,n){var r,o,l;n(3),o=[n(19),n(5),n(1513)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=function(e){return e},n=e.Class.extend({init:function(t){this.options=e.jQuery.extend({},this.options,t),this.columns=this._normalizeColumns(this.options.columns),this._sheet(),this._dataSource(),this._header(),this._boundRowsCount=0,this.dataSource.fetch()},_sheet:function(){this.sheet=this.options.sheet,this._sheetChangeHandler=this._sheetChange.bind(this),this._sheetDeleteRowHandler=this._sheetDeleteRow.bind(this),this._sheetInsertRowHandler=this._sheetInsertRow.bind(this),this.sheet.bind("change",this._sheetChangeHandler).bind("afterDeleteRow",this._sheetDeleteRowHandler).bind("afterInsertRow",this._sheetInsertRowHandler)},_sheetInsertRow:function(e){void 0!==e.index&&this.dataSource.insert(Math.max(e.index-1,0),{})},_sheetDeleteRow:function(e){if(void 0!==e.index){var t=this.dataSource,n=t.view()[e.index-1];n&&t.remove(n)}},_header:function(){this.sheet.batch(function(){this.columns.forEach(function(e,t){this.sheet.range(0,t).value(e.title)}.bind(this))}.bind(this))},_sheetChange:function(n){if(!n.insertRow&&!n.deleteRow&&n.recalc&&n.ref){var r,o=this.dataSource,data=o.view(),l=this.columns;o.reader.model&&(r=o.reader.model.fields),!l.length&&data.length&&(l=Object.keys(data[0].toJSON()));var c=l.map((function(n){var o=n.field;return o&&r&&r[o]&&"date"==r[o].type?e.spreadsheet.numberToDate:t}));this._skipRebind=!0;var h=this.sheet._grid.normalize(n.ref),d=this.sheet.range(h).values();h.forEach((function(e){for(var t,n=0,r=(e=e.toRangeRef()).topLeft.row;r<=e.bottomRight.row;r++){(t=data[r-1])||(t=o.insert(r-1,{}),data=o.view());for(var h=0,f=e.topLeft.col;f<=e.bottomRight.col&&f<l.length;f++)t.set(l[f].field,c[f](d[n][h++]));n++}})),this._boundRowsCount=o.view().length,this._skipRebind=!1}},_normalizeColumns:function(e){return e.map((function(e){var t=e.field||e;return{field:t,title:e.title||t}}))},_dataSource:function(){var t=this.options.dataSource;t=Array.isArray(t)?{data:t}:t,this.dataSource&&this._changeHandler?this.dataSource.unbind("change",this._changeHandler):this._changeHandler=this._change.bind(this),this.dataSource=e.data.DataSource.create(t).bind("change",this._changeHandler)},_change:function(){if(!this._skipRebind&&!this.sheet.trigger("dataBinding")){var data=this.dataSource.view(),t=this.columns;!t.length&&data.length&&(this.columns=t=this._normalizeColumns(Object.keys(data[0].toJSON())),this._header());var n=t.map((function(t){return e.getter(t.field)}));this.sheet.batch(function(){for(var e=Math.max(data.length,this._boundRowsCount),t=0;t<e;t++)for(var r=0;r<n.length;r++){var o=data[t]?n[r](data[t]):null;this.sheet.range(t+1,r).value(o)}}.bind(this)),this._boundRowsCount=data.length,this.sheet.trigger("dataBound")}},destroy:function(){this.dataSource.unbind("change",this._changeHandler),this.sheet.unbind("change",this._sheetChangeHandler).unbind("deleteRow",this._sheetDeleteRowHandler).unbind("insertRow",this._sheetInsertRowHandler)},options:{columns:[]}});e.spreadsheet.SheetDataSourceBinder=n}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1521),e.exports=n(1521)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},928:function(e,t){e.exports=n(4)},931:function(e,t){e.exports=n(90)},1487:function(e,t){e.exports=n(33)},1521:function(e,t,n){var r,o,l;n(3),o=[n(19),n(928),n(931),n(1487),n(1522),n(1523)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n=e.ui.Widget,r={details:"k-details",button:"k-button",detailsSummary:"k-details-summary",detailsContent:"k-details-content",icon:"k-icon",iconCollapse:"k-i-arrow-45-down-right",iconExpand:"k-i-arrow-60-right",iconSearch:"k-i-zoom",textbox:"k-textbox",wrapper:"k-spreadsheet-filter-menu",filterByCondition:"k-spreadsheet-condition-filter",filterByValue:"k-spreadsheet-value-filter",valuesTreeViewWrapper:"k-spreadsheet-value-treeview-wrapper",actionButtons:"k-action-buttons"};e.spreadsheet.messages.filterMenu={all:"All",sortAscending:"Sort range A to Z",sortDescending:"Sort range Z to A",filterByValue:"Filter by value",filterByCondition:"Filter by condition",apply:"Apply",search:"Search",addToCurrent:"Add to current selection",clear:"Clear",blanks:"(Blanks)",operatorNone:"None",and:"AND",or:"OR",operators:{string:{contains:"Text contains",doesnotcontain:"Text does not contain",startswith:"Text starts with",endswith:"Text ends with",matches:"Text matches",doesnotmatch:"Text does not match"},date:{eq:"Date is",neq:"Date is not",lt:"Date is before",gt:"Date is after"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"}}};var o=n.extend({init:function(element,r){n.fn.init.call(this,element,r),this.element.addClass(d.classNames.details),this._summary=this.element.find("."+d.classNames.detailsSummary).on("click",this._toggle.bind(this));var o=r.expanded?d.classNames.iconCollapse:d.classNames.iconExpand;this._icon=t("<span />",{class:d.classNames.icon+" "+o}).prependTo(this._summary),this._container=e.wrap(this._summary.next(),!0),r.expanded||this._container.hide()},options:{name:"Details"},events:["toggle"],visible:function(){return this.options.expanded},toggle:function(t){e.fx(this._container).expand("vertical").stop()[t?"reverse":"play"](),this._icon.toggleClass(d.classNames.iconExpand,t).toggleClass(d.classNames.iconCollapse,!t),this.options.expanded=!t},_toggle:function(){var e=this.visible();this.toggle(e),this.trigger("toggle",{show:e})}});e.data.binders.spreadsheetFilterValue=e.data.Binder.extend({init:function(element,n,r){e.data.Binder.fn.init.call(this,element,n,r),this._change=t.proxy(this.change,this),t(this.element).on("change",this._change)},refresh:function(){var e=this.bindings.spreadsheetFilterValue.get();t(this.element).val(e instanceof Date?"":e)},change:function(){var e=this.element.value;this.bindings.spreadsheetFilterValue.set(e)}}),e.data.binders.widget.spreadsheetFilterValue=e.data.Binder.extend({init:function(n,r,o){e.data.Binder.fn.init.call(this,n.element[0],r,o),this.widget=n,this._change=t.proxy(this.change,this),this.widget.first("change",this._change)},refresh:function(){var e=this.bindings.spreadsheetFilterValue.get(),n=t(this.widget.element).data("filterType");"date"===n&&e instanceof Date||"number"===n&&!isNaN(e)?this.widget.value(e):this.widget.value(null)},change:function(){var e=this.widget.value();this.bindings.spreadsheetFilterValue.set(e)}});var l={filterByValue:"<div class='"+r.detailsSummary+"'>#= messages.filterByValue #</div><div class='"+r.detailsContent+"'><div class='k-textbox k-space-right'><input placeholder='#= messages.search #' data-#=ns#bind='events: { input: filterValues }' /><span class='k-icon k-i-zoom' /></div><div data-#=ns#bind='visible: hasActiveSearch'><input class='k-checkbox' type='checkbox' data-#=ns#bind='checked: appendToSearch' id='_#=guid#' /><label class='k-checkbox-label' for='_#=guid#'>#= messages.addToCurrent #</label></div><div class='"+r.valuesTreeViewWrapper+"'><div data-#=ns#role='treeview' data-#=ns#checkboxes='{ checkChildren: true }' data-#=ns#bind='source: valuesDataSource, events: { check: valuesChange, select: valueSelect }' /></div></div>",filterByCondition:"<div class='"+r.detailsSummary+"'>#= messages.filterByCondition #</div><div class='"+r.detailsContent+'\'><div><select data-#=ns#role="dropdownlist"data-#=ns#bind="value: operator, source: operators, events: { change: operatorChange } "data-value-primitive="false"data-option-label="#=messages.operatorNone#"data-height="auto"data-text-field="text"data-value-field="unique"></select></div><div data-#=ns#bind="visible: isString"><input data-filter-type="string" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" class="k-textbox" /></div><div data-#=ns#bind="visible: isNumber"><input data-filter-type="number" data-#=ns#role="numerictextbox" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" /></div><div data-#=ns#bind="visible: isDate"><input data-filter-type="date" data-#=ns#role="datepicker" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" /></div></div>',menuItem:"<li data-command='#=command#' data-dir='#=dir#'><span class='k-icon k-i-#=iconClass#'></span>#=text#</li>",actionButtons:"<button data-#=ns#bind='click: apply' class='k-button k-primary'>#=messages.apply#</button><button data-#=ns#bind='click: clear' class='k-button'>#=messages.clear#</button>"},c=e.spreadsheet.FilterMenuViewModel=e.data.ObservableObject.extend({valuesChange:function(t){var n=(t?t.sender.dataSource:this.valuesDataSource).data()[0].children.data().toJSON(),r=n.filter((function(e){return"blank"===e.dataType}));r=!!r.length&&r[0].checked,n=n.filter((function(e){return e.checked})).map((function(t){return"date"===t.dataType?e.spreadsheet.dateToNumber(t.value):t.value})),this.appendToSearch&&this.valueFilter&&this.valueFilter.values.length&&(n=n.concat(this.valueFilter.values.toJSON()).sort().filter((function(e,t,n){return n.lastIndexOf(e)===t}))),this.set("valueFilter",{values:n,blanks:r})},valueSelect:function(e){e.preventDefault();var t=e.sender.dataItem(e.node);t.set("checked",!t.checked)},hasActiveSearch:!1,appendToSearch:!1,filterValues:function(n){var r="string"==typeof n?n:t(n.target).val().toLowerCase(),o=this.valuesDataSource;this.set("hasActiveSearch",!!r);var l=filter.bind(this.valueFilter);!function t(n){for(var data=n instanceof e.data.HierarchicalDataSource&&n.data(),i=0;i<data.length;i++){var r=data[i];r.checked=!1,r.hasChildren&&t(r.children)}}(o),l(o,r)},reset:function(){this.set("customFilter",{logic:"and",criteria:[{operator:null,value:null}]}),this.set("valueFilter",{values:[]})},operatorChange:function(e){var t=e.sender.dataItem();this.set("operatorType",t.type),this.get("customFilter")||this.reset(),this.set("customFilter.criteria[0].operator",t.value)},isNone:function(){return void 0===this.get("operatorType")},isString:function(){return"string"===this.get("operatorType")},isNumber:function(){return"number"===this.get("operatorType")},isDate:function(){return"date"===this.get("operatorType")}}),h=e.spreadsheet.FilterMenuController={valuesTree:function(t,n){return[{text:e.spreadsheet.messages.filterMenu.all,expanded:!0,checked:!1,items:this.values(t.resize({top:1}),n)}]},values:function(t,n){var r=[],o=e.spreadsheet.messages.filterMenu,l=t.column(n),c=t.sheet();return l.forEachCell((function(t,col,n){var l=!0;c.isHiddenRow(t)&&(l=!1);var h=n.value,d=n.dataType,text=n.text;d=void 0===h?"blank":n.format?e.spreadsheet.formatting.type(h,n.format):typeof h,text=null!==h&&n.format?e.spreadsheet.formatting.text(h,n.format):"blank"==d?o.blanks:h,"percent"!==d&&"currency"!==d||(d="number"),"date"===d&&(h=e.spreadsheet.numberToDate(h)),r.push({dataType:d,value:h,text:text,checked:l})})),(r=function(e){for(var t={},n=[],i=0;i<e.length;i++)t[e[i].value]?!t[e[i].value].checked&&e[i].checked&&(t[e[i].value].checked=!0):(t[e[i].value]=e[i],n.push(e[i]));return n}(r)).sort((function(a,b){return a.dataType===b.dataType?0:"blank"===a.dataType||"blank"===b.dataType?"blank"===a.dataType?-1:1:"number"===a.dataType||"number"===b.dataType?"number"===a.dataType?-1:1:"date"===a.dataType||"date"===b.dataType?"date"===a.dataType?-1:1:0})),r},filterType:function(e,t){var n,r=e.sheet(),filter=this.filterForColumn(t,r);if((filter=filter&&filter.filter.toJSON())&&"custom"==filter.filter){var o=filter.criteria[0].value;o instanceof Date?n="date":"string"==typeof o?n="string":"number"==typeof o&&(n="number")}if(!n){var l=this.values(e.row(1),t)[0];"blank"==(n=l&&l.dataType)&&(n=null)}return n},filterForColumn:function(e,t){var n,r=t.filter();return r&&(n=r.columns.filter((function(t){return t.index===e}))[0]),n},filter:function(e,t){var n=this.filterForColumn(e,t);if(n){var r=n.filter.toJSON(),o=r.filter;delete r.filter;var l={type:o,options:r},c=r.criteria;return c&&c.length&&(l.operator=c[0].operator),l}}},d=n.extend({init:function(element,e){n.call(this,element,e),this.element.addClass(d.classNames.wrapper),this.viewModel=new c({active:"value",operator:null,operators:f(this.options.operators),clear:this.clear.bind(this),apply:this.apply.bind(this)}),this._filterInit(),this._popup(),this._sort(),this._filterByCondition(),this._filterByValue(),this._actionButtons()},options:{name:"FilterMenu",column:0,range:null,operators:{string:{contains:"Text contains",doesnotcontain:"Text does not contain",startswith:"Text starts with",endswith:"Text ends with",matches:"Text matches",doesnotmatch:"Text does not match"},date:{eq:"Date is",neq:"Date is not",lt:"Date is before",gt:"Date is after"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"}}},events:["action"],destroy:function(){n.fn.destroy.call(this),this.menu.destroy(),this.valuesTreeView.destroy(),this.popup.destroy()},openFor:function(e){this.popup.setOptions({anchor:e}),this.popup.open()},close:function(){this.popup.close()},clear:function(){this.action({command:"ClearFilterCommand",options:{column:this.options.column}}),this.viewModel.reset(),this.close()},apply:function(){this._active();var e,t,n={operatingRange:this.options.range,column:this.options.column};"value"===this.viewModel.active?(this.viewModel.valuesChange({sender:this.valuesTreeView}),((e=this.viewModel.valueFilter.toJSON()).blanks||e.values&&e.values.length)&&(n.valueFilter=e)):"custom"===this.viewModel.active&&(t=this.viewModel.customFilter.toJSON()).criteria.length&&null!==t.criteria[0].value&&(n.customFilter=t),(n.valueFilter||n.customFilter)&&this.action({command:"ApplyFilterCommand",options:n})},action:function(e){this.trigger("action",t.extend({},e))},_filterInit:function(){var e=this.options.column,t=this.options.range,n=t.sheet(),r=h.filter(e,n);if(r){var o=h.filterType(t,e);this.viewModel.set("active",r.type),this.viewModel.set(r.type+"Filter",r.options),"custom"==r.type&&(this.viewModel.set("operator",o+"_"+r.operator),this.viewModel.set("operatorType",o))}else this.viewModel.reset()},_popup:function(){this.popup=this.element.kendoPopup({copyAnchorStyles:!1}).data("kendoPopup")},_sort:function(){var template=e.template(d.templates.menuItem),n=e.spreadsheet.messages.filterMenu,r=[{command:"sort",dir:"asc",text:n.sortAscending,iconClass:"sort-asc"},{command:"sort",dir:"desc",text:n.sortDescending,iconClass:"sort-desc"}],ul=t("<ul />",{html:e.render(template,r)}).appendTo(this.element);this.menu=ul.kendoMenu({orientation:"vertical",select:function(e){var n={value:t(e.item).data("dir"),sheet:!1,operatingRange:this.options.range.resize({top:1}),column:this.options.column};this.action({command:"SortCommand",options:n})}.bind(this)}).data("kendoMenu")},_appendTemplate:function(template,n,details,r){var l=e.template(template),c=t("<div class='"+n+"'/>").html(l({messages:e.spreadsheet.messages.filterMenu,guid:e.guid(),ns:e.ns}));return this.element.append(c),details&&(details=new o(c,{expanded:r,toggle:this._detailToggle.bind(this)})),e.bind(c,this.viewModel),c},_detailToggle:function(e){this.element.find("[data-role=details]").not(e.sender.element).data("kendoDetails").toggle(!e.show)},_filterByCondition:function(){var e="custom"===this.viewModel.active;this._appendTemplate(d.templates.filterByCondition,d.classNames.filterByCondition,!0,e)},_filterByValue:function(){var t="value"===this.viewModel.active,n=this._appendTemplate(d.templates.filterByValue,d.classNames.filterByValue,!0,t);this.valuesTreeView=n.find("[data-role=treeview]").data("kendoTreeView");var r=h.valuesTree(this.options.range,this.options.column);this.viewModel.set("valuesDataSource",new e.data.HierarchicalDataSource({data:r}))},_actionButtons:function(){this._appendTemplate(d.templates.actionButtons,d.classNames.actionButtons,!1)},_active:function(){var e=this.element.find("[data-role=details]").filter((function(e,element){return t(element).data("kendoDetails").visible()}));e.hasClass(d.classNames.filterByValue)?this.viewModel.set("active","value"):e.hasClass(d.classNames.filterByCondition)&&this.viewModel.set("active","custom")}});e.spreadsheet.FilterMenu=d,t.extend(!0,d,{classNames:r,templates:l})}function filter(t,n){for(var r=!1,data=t instanceof e.data.HierarchicalDataSource&&t.data(),o=this.values,i=0;i<data.length;i++){var l=data[i],text=l.text.toString().toLowerCase(),c=!0===n||""===n||text.indexOf(n)>=0,h=filter.bind(this)(l.children,n);r=r||h||c,l.hidden=!c&&!h,n.length||o&&!o.length?l.checked=!l.hidden:o&&-1!=o.indexOf(l.text)&&(l.checked=!0)}return data&&t.filter({field:"hidden",operator:"neq",value:!0}),r}function f(t){var n=e.spreadsheet.messages.filterMenu.operators,r=[];for(var o in t)if(t.hasOwnProperty(o))for(var l in t[o])t[o].hasOwnProperty(l)&&r.push({text:n[o][l],value:l,unique:o+"_"+l,type:o});return r}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)},1522:function(e,t){e.exports=n(32)},1523:function(e,t){e.exports=n(96)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1515),e.exports=n(1515)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1515:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.Observable.extend({init:function(view){e.Observable.fn.init.call(this),this.view=view,this.formulaBar=view.formulaBar,this._active=!1,this.barInput=view.formulaBar.formulaInput,this.cellInput=view.formulaInput,this.barInput.syncWith(this.cellInput),this.cellInput.syncWith(this.barInput),this.barInput.bind("keyup",this._triggerUpdate.bind(this)),this.cellInput.bind("keyup",this._triggerUpdate.bind(this)),this.barInput.bind("blur",this._blur.bind(this)),this.cellInput.bind("blur",this._blur.bind(this))},events:["activate","deactivate","change","update"],_blur:function(){this.deactivate()},_triggerUpdate:function(){this.trigger("update",{value:this.value()})},activeEditor:function(){var t=null,n=e._activeElement();return this.barElement()[0]===n?t=this.barInput:this.cellElement()[0]===n&&(t=this.cellInput),t},activate:function(e){return this._active=!0,this._rect=e.rect,this._range=e.range,this.cellInput.position(e.rect),this.cellInput.resize(e.rect),this.cellInput.tooltip(e.tooltip),this.cellInput.activeCell=this.barInput.activeCell=this._range.topLeft(),this.cellInput.activeSheet=this.barInput.activeSheet=this._range._sheet,this.trigger("activate"),this},deactivate:function(e){var t=this.cellInput;this._active&&(this._active=!1,e||t.value()==this._value||this.trigger("change",{value:t.value(),range:this._range}),this._rect=null,t.hide(),this.trigger("deactivate"))},enable:function(e){this.barInput.enable(e),this.cellInput.enable(e)},barElement:function(){return this.barInput.element},cellElement:function(){return this.cellInput.element},focus:function(e){"cell"===(e=e||"cell")?(this.cellInput.element.focus(),this.cellInput.end()):this.barInput.element.focus()},isActive:function(){return this._active},isFiltered:function(){return this.barInput.popup.visible()||this.cellInput.popup.visible()},canInsertRef:function(e){var t=this.activeEditor();return t&&t.canInsertRef(e)},highlightedRefs:function(){var e=this.activeEditor(),t=[];return e&&(t=e.highlightedRefs()),t},scale:function(){this.cellInput.scale()},toggleTooltip:function(rect){var e,t;this.cellInput.toggleTooltip((e=this._rect,t=rect,e&&(e.top!==t.top||e.left!==t.left)))},value:function(e,t){if(void 0===e)return this.barInput.value();null===e&&(e=""),this._value=e,this.barInput.value(e),this.cellInput.value(e),this.barInput.element.toggleClass("k-spreadsheet-array-formula",!!t)},insertNewline:function(){this.activeEditor().insertNewline(),this.scale()},select:function(){this.activeEditor().select()}});e.spreadsheet.SheetEditor=t}}(kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1498),e.exports=n(1498)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},939:function(e,t){e.exports=n(144)},1498:function(e,t,n){var r,o,l;n(3),o=[n(1499),n(939)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e=kendo.spreadsheet,t=e.Range,n=e.calc.runtime.Formula,r=t.FillError=function(e){this.code=e};t.prototype._previewFillFrom=function(e,t){var n=this._sheet;"string"==typeof e&&(e=n.range(e));var o=e._ref.toRangeRef().clone().setSheet(n.name()),c=this._ref.toRangeRef().clone().setSheet(n.name());if(o.intersects(c)){if(o.eq(c))return null;if(c=c.clone(),o.topLeft.eq(c.topLeft))if(o.width()==c.width())c.topLeft.row+=o.height(),t=0;else{if(o.height()!=c.height())throw new r("incompatibleRanges");c.topLeft.col+=o.width(),t=1}else{if(!o.bottomRight.eq(c.bottomRight))throw new r("incompatibleRanges");if(o.width()==c.width())c.bottomRight.row-=o.height(),t=2;else{if(o.height()!=c.height())throw new r("incompatibleRanges");c.bottomRight.col-=o.width(),t=3}}return n.range(c)._previewFillFrom(e,t)}if(null==t)if(o.topLeft.col==c.topLeft.col)t=o.topLeft.row<c.topLeft.row?0:2;else{if(o.topLeft.row!=c.topLeft.row)throw new r("noFillDirection");t=o.topLeft.col<c.topLeft.col?1:3}var d=1&t,f=2&t;if(d&&o.height()!=c.height()||!d&&o.width()!=c.width())throw new r("incompatibleRanges");var m,data=e._properties();d?m=c.width():(data=h(data),m=c.height());for(var v=new Array(data.length),_=null,i=0;i<data.length;++i)for(var s=data[i],w=l(s),a=v[i]=new Array(m),y=0;y<m;++y){var x=f?-y-1:s.length+y,k=f?s.length-y%s.length-1:y%s.length,C=a[f?m-y-1:y]=w(x,k);null!=C.value&&(_=C.value)}return d||(v=h(v)),{props:v,direction:t,dest:this,hint:_}},t.prototype.fillFrom=function(e,t){var n=this._previewFillFrom(e,t);return n.dest._properties(n.props,!0),n.dest}}function o(data){for(var e=data.length,t=(e+1)/2,n=data.reduce((function(a,b){return a+b}),0)/e,r=0,o=0,i=0;i<e;i++){var l=i+1-t;r+=l*(data[i]-n),o+=l*l}if(!o)return function(e){return data[e%data.length]};var b=r/o,a=n-b*t;return function(e){return a+b*(e+1)}}function l(e){function t(a){return a.map((function(e){return e.number}))}var r=[],data=e.map((function(e){return e.formula||e.value}));return function(data,e){for(var t,n=null,r=0,a=[],i=0;i<data.length;++i)t=c(data[i]),a.push(t),null!=n&&t.type!==n.type&&(e(r,i,n.type,a.slice(r,i)),r=i),n=t;e(r,i,n.type,a.slice(r,i))}(data,(function(e,n,l,a){var c,h;if("number"==l)c=o(h=t(a));else if("string"==l||"formula"==l||"boolean"==l)c=function(e,i){return data[i]};else if(Array.isArray(l))if(1==a.length)c=function(e){return l[(a[0].number+e)%l.length]};else{var d=function(a){for(var e=a[1]-a[0],i=2;i<a.length;++i)if(a[i]-a[i-1]!=e)return null;return e}(t(a));c=null==d?function(e){return a[e%a.length].value}:function(e){var t=a[0].number+d*e;return l[t%l.length]}}else"null"!=l?(1==(h=t(a)).length&&h.push(h[0]+1),h=o(h),c=function(e,i){return data[i].replace(/^(.*\D)\d+/,"$1"+h(e,i))}):c=function(){return null};for(var s={f:c,begin:e,end:n,len:n-e},i=e;i<n;++i)r[i]=s})),function(t,i){var o,l,s=r[i],q=t/data.length|0,c=t%data.length,h=q*s.len+c-s.begin,d=s.f(h,i),f=(o=e[i],l={},Object.keys(o||{}).forEach((function(e){l[e]=o[e]})),l);return delete f.enable,d instanceof n?f.formula=d:f.value=d,f}}function c(e){if("number"==typeof e)return{type:"number",number:e};if("string"==typeof e){var t=function(e){for(var t=e.toLowerCase(),n=(o=void 0,[(o=kendo.culture()).calendars.standard.days.namesAbbr,o.calendars.standard.days.names,o.calendars.standard.months.namesAbbr,o.calendars.standard.months.names]),i=0;i<n.length;++i)for(var a=n[i],r=a.length;--r>=0;)if(a[r].toLowerCase()==t)return{type:a,number:r,value:e};var o}(e);if(t)return t;var r=/^(.*\D)(\d+)/.exec(e);return r?{type:e=e.replace(/^(.*\D)\d+/,"$1-######"),match:r,number:parseFloat(r[2])}:{type:"string"}}if("boolean"==typeof e)return{type:"boolean"};if(null==e)return{type:"null"};if(e instanceof n)return{type:"formula"};throw window.console.error(e),new Error("Cannot fill data")}function h(a){for(var e=a.length,t=a[0].length,n=[],i=0;i<t;++i){n[i]=[];for(var r=0;r<e;++r)n[i][r]=a[r][i]}return n}})?r.apply(t,o):r)||(e.exports=l)},1499:function(e,t){e.exports=n(34)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1529),e.exports=n(1529)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1529:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(e){if(!(e.support.browser.msie&&e.support.browser.version<9)){var t=e.jQuery,n="k-spreadsheet-name-editor",r=e.ui.Widget.extend({init:function(element,r){e.ui.Widget.call(this,element,r),element.addClass(n);var o=r.messages.nameBox||"Name Box",l=new e.data.DataSource({transport:{read:function(t){var data=[];this._workbook.forEachName((function(t){!t.hidden&&t.value instanceof e.spreadsheet.Ref&&data.push({name:t.name})})),t.success(data)}.bind(this),cache:!1}}),c=t("<input />").attr("title",o).attr("aria-label",o);this.combo=c.appendTo(element).kendoComboBox({clearButton:!1,dataTextField:"name",dataValueField:"name",template:"#:data.name#<a class='k-button-delete' href='\\#'><span class='k-icon k-i-close'></span></a>",dataSource:l,autoBind:!1,ignoreCase:!0,change:this._on_listChange.bind(this),noDataTemplate:"<div></div>",open:function(){l.read()}}).getKendoComboBox(),this.combo.input.on("keydown",this._on_keyDown.bind(this)).on("focus",this._on_focus.bind(this)),this.combo.popup.element.addClass("k-spreadsheet-names-popup").on("mousemove",(function(e){e.stopPropagation()})).on("click",".k-button-delete",function(e){e.preventDefault(),e.stopPropagation();var n=t(e.target).closest(".k-item");n=this.combo.dataItem(n),this._deleteItem(n.name)}.bind(this))},value:function(e){if(void 0===e)return this.combo.value();this.combo.value(e)},_deleteItem:function(e){this.trigger("delete",{name:e})},_on_keyDown:function(e){switch(e.keyCode){case 27:this.combo.value(this._prevValue),this.trigger("cancel");break;case 13:this.trigger("enter")}},_on_focus:function(){this._prevValue=this.combo.value()},_on_listChange:function(){var e=this.combo.value();e&&this.trigger("select",{name:e})}});e.spreadsheet.NameEditor=r}}(window.kendo)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1535),e.exports=n(1535)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},924:function(e,t){e.exports=n(87)},939:function(e,t){e.exports=n(144)},1513:function(e,t){e.exports=n(98)},1528:function(e,t){e.exports=n(52)},1535:function(e,t,n){var r,o,l;n(3),o=[n(1536),n(1513),n(939),n(1528),n(1537),n(924)],void 0===(l="function"==typeof(r=function(){"use strict";if(!(kendo.support.browser.msie&&kendo.support.browser.version<9)){var e,t=kendo.spreadsheet,n=t.CellRef,r=kendo.drawing,o=t.formatting,l=kendo.geometry,c=.8;t.Sheet.prototype.draw=function(e,t,n){var r=this;r._workbook?r.recalc(r._workbook._context,(function(){T(r,e,t,n)})):T(r,e,t,n)},D.prototype={forEach:function(e){Object.keys(this).forEach((function(t){e(this[t],t,this)}),this)}};var h={},d=function(e,t){var n=t+":"+e,r=h[n];if(!r){var span,div=document.createElement("div");div.style.position="fixed",div.style.left="-10000px",div.style.top="-10000px",div.style.fontFamily=e,div.style.fontSize=t+"px",div.style.whiteSpace="pre";for(var i=32;i<128;++i)(span=document.createElement("span")).appendChild(document.createTextNode(String.fromCharCode(i))),div.appendChild(span);document.body.appendChild(div);var o={};for(i=32,span=div.firstChild;i<128&&span;++i,span=span.nextSibling)o[i]=span.offsetWidth;for(;span=div.firstChild;)div.removeChild(span);r=h[n]=function(e){var code=e.charCodeAt(0),t=o[code];return null==t&&((span=document.createElement("span")).appendChild(document.createTextNode(String.fromCharCode(code))),div.appendChild(span),t=o[code]=span.offsetWidth,div.removeChild(span)),t}}return r};t.draw={Borders:E,doLayout:m,applyIndent:S},t.drawTabularData=function(e){var progress=new $.Deferred,t=progress.promise();e=v(e,{dataSource:null,guidelines:!0,guideColor:"#000",columns:null,headerBackground:"#999",headerColor:"#000",oddBackground:null,evenBackground:null,fontFamily:"Arial",fontSize:12,paperSize:"A4",margin:"1cm",landscape:!0,fitWidth:!1,scale:1,rowHeight:20,maxEmpty:1,useGridFormat:!0}),kendo.drawing.pdf.defineFont(kendo.drawing.drawDOM.getFontFaces(document));var n=d(e.fontFamily,e.fontSize);function r(e){if(null!=e){for(var t=12,i=e.length;--i>=0;)t+=n(e.charAt(i));return t}return 0}var o=e.guidelines?{size:1,color:e.guideColor}:null;function l(data){return o?v(data,{borderLeft:o,borderTop:o,borderRight:o,borderBottom:o}):data}return e.dataSource.fetch((function(){var data=e.dataSource.data();if(!data.length)return progress.reject("Empty dataset");var t=e.columns.map((function(col){return"string"==typeof col?{title:col,field:col}:col})),n=t.map((function(col){return col.title||col.field})),o=n.map(r),c=data.map((function(n,c){return{cells:t.map((function(col,t){var h=n[col.field];return e.useGridFormat&&(null!=h&&(col.format?h=kendo.format(col.format,h):h+=""),o[t]=Math.max(r(h),o[t])),l({value:h,format:e.useGridFormat?null:col.format,background:c%2?e.evenBackground:e.oddBackground})}))}}));c.unshift({cells:n.map((function(label){return l({value:label,background:e.headerBackground,color:e.headerColor})}))});var h=new kendo.spreadsheet.Sheet(c.length+1,t.length+1,e.rowHeight,50,20,20,{fontFamily:e.fontFamily,fontSize:e.fontSize,verticalAlign:"center"});h.fromJSON({name:"Sheet1",rows:c,columns:o.map((function(e,i){return{index:i,width:e}}))}),h.draw({paperSize:e.paperSize,landscape:e.landscape,margin:e.margin,guidelines:!1,scale:e.scale,fitWidth:e.fitWidth,maxEmpty:e.maxEmpty,headerRows:1},progress.resolve.bind(progress))})),t}}function f(e,t,n,r,o){var l=0,c=[],h=t,header=0;return t&&n&&(n*=t),e.forEach((function(e,i){null!=r&&i<r&&(header+=e),t&&l+e>h&&(h-l<n&&(l=t*Math.ceil(l/t)+header,header>0&&o.push(l-header)),h+=t*Math.ceil(e/t)),c.push(l),l+=e})),c.push(l),c}function m(e,t,r){var o=e._grid;t=o.normalize(t);var l=o.rectangle(t),c=[];e._drawings.forEach((function(t){var n=e.drawingBoundingBox(t);n.intersects(l)&&c.push({drawing:t,box:n.offset(-l.left,-l.top)})}));var h=[],d=[],m=[],_=e._getMergedCells(t),C=-1,S=-1;e.forEach(t,(function(o,col,l){var f=o-t.topLeft.row,v=col-t.topLeft.col,w=e.rowHeight(o),y=e.columnWidth(col);if(r.forScreen||(l.drawings=c.filter((function(t){var n=t.drawing.topLeftCell;if(n&&n.row==o&&n.col==col)return C=Math.max(C,e._rows.index(t.box.bottom)),S=Math.max(S,e._columns.index(t.box.right)),!0}))),v||d.push(w),f||m.push(y),!e.isHiddenColumn(col)&&!e.isHiddenRow(o)&&w&&y){var x=r.forScreen||function(e){return null!=e.value||e.merged||null!=e.background||null!=e.borderRight||null!=e.borderBottom||null!=e.validation&&!e.validation.value||e.drawings&&e.drawings.length}(l);if(r.emptyCells||x){var k=new n(o,col).print();if(!_.secondary[k]){x?(C=Math.max(C,f),S=Math.max(S,v)):l.empty=!0,l.row=f,l.col=v;var T=_.primary[k];T?(delete _.primary[k],l.merged=!0,l.rowspan=T.height(),l.colspan=T.width(),r.forScreen&&(l.width=e._columns.sum(T.topLeft.col,T.bottomRight.col),l.height=e._rows.sum(T.topLeft.row,T.bottomRight.row))):(l.rowspan=1,l.colspan=1),h.push(l)}}}})),d=d.slice(0,C+1),m=m.slice(0,S+1);var T=r.pageWidth,D=r.pageHeight,E=r.scale||1;if(r.fitWidth){var A=m.reduce(w,0);A>T&&(E=T/A)}T=Math.ceil(T/E),D=Math.ceil(D/E);var I=[],M=f(d,D||0,r.maxEmpty,r.headerRows,I),R=f(m,T||0,r.maxEmpty),F=0,P=0,z=[];return h=h.filter((function(e){return!(e.empty&&(e.row>C||e.col>S)||(r.headerRows&&e.row<r.headerRows&&z.push(e),e.left=R[e.col],e.top=M[e.row],e.merged?r.forScreen?(e.right=e.left+e.width,e.bottom=e.top+e.height):(e.right=y(R,e.col+e.colspan),e.bottom=y(M,e.row+e.rowspan),e.width=e.right-e.left,e.height=e.bottom-e.top):(e.width=m[e.col],e.height=d[e.row],e.bottom=e.top+e.height,e.right=e.left+e.width),r.forScreen||e.drawings.forEach((function(t){var n=t.box;n.left=e.left+t.drawing.offsetX,n.top=e.top+t.drawing.offsetY,n.right=n.left+n.width,n.bottom=n.top+n.height})),F=Math.max(F,e.right),P=Math.max(P,e.bottom),0))})),Object.keys(_.primary).forEach((function(n){var r=_.primary[n];e.forEach(r.topLeft.toRangeRef(),(function(n,col,o){var l=n-t.topLeft.row,c=col-t.topLeft.col;o.merged=!0,o.colspan=r.width(),o.rowspan=r.height(),o.top=l<0?-e._rows.sum(n,n-l-1):M[l],o.left=c<0?-e._columns.sum(col,col-c-1):R[c],o.height=e._rows.sum(r.topLeft.row,r.bottomRight.row),o.width=e._columns.sum(r.topLeft.col,r.bottomRight.col),o.height>0&&o.width>0&&(o.right=o.left+o.width,o.bottom=o.top+o.height,o.row=l,o.col=c,h.push(o))}))})),r.headerRows&&(I.forEach((function(e){z.forEach((function(t){(t=v(t)).top+=e,t.bottom=t.top+t.height,h.push(t)})),M.push(e)})),M.sort(k)),{width:F,height:P,cells:h.sort(x),scale:E,xCoords:R,yCoords:M,drawings:c}}function v(e,t){return t||(t={}),Object.assign?Object.assign(t,e):Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)}function _(a,b){return a.size===b.size&&a.color===b.color}function w(a,b){return a+b}function y(a,i){return i<a.length?a[i]:a[a.length-1]}function x(a,b){return a.top<b.top?-1:a.top==b.top?a.left<b.left?-1:a.left==b.left?0:1:1}function k(a,b){return a<b?-1:a>b?1:0}function C(t,n,h,d){for(var f=Math.ceil(n.width/d.pageWidth),m=Math.ceil(n.height/d.pageHeight),v=Math.ceil(d.pageWidth/n.scale),_=Math.ceil(d.pageHeight/n.scale),w=0;w<m;++w)for(var i=0;i<f;++i)y(w,i);function y(f,col){var m=col*v,w=m+v,y=f*_,x=y+_,k=0,C=0;function T(e){return!(e.right<=m||e.left>=w||e.bottom<=y||e.top>=x||(k=Math.max(e.bottom,k),C=Math.max(e.right,C),0))}var D=n.cells.filter(T),A=n.drawings.filter((function(e){return T(e.box)}));if(k=Math.min(k,x),C=Math.min(C,w),D.length||A.length){var I=new r.Group;h.append(I);var content=new r.Group;I.append(content),content.clip(r.Path.fromRect(new l.Rect([m-1,y-1],[C+1,k+1])));var M=l.Matrix.scale(n.scale,n.scale).multiplyCopy(l.Matrix.translate(-m,-y));if((d.hCenter||d.vCenter)&&(M=M.multiplyCopy(l.Matrix.translate(d.hCenter?(w-C)/2:0,d.vCenter?(x-k)/2:0))),content.transform(M),d.guidelines){var R=null;n.xCoords.forEach((function(e){(e=Math.min(e,C))!==R&&e>=m&&e<=w&&(R=e,content.append((new r.Path).moveTo(e,y).lineTo(e,k).close().stroke(d.guideColor,c)))})),R=null,n.yCoords.forEach((function(e){(e=Math.min(e,k))!==R&&e>=y&&e<=x&&(R=e,content.append((new r.Path).moveTo(m,e).lineTo(C,e).close().stroke(d.guideColor,c)))}))}var F=E();D.forEach((function(n){!function(t,content,n){var g=new r.Group;content.append(g);var rect=new l.Rect([t.left,t.top],[t.width,t.height]);if(t.background||t.merged){var h=rect;n.guidelines&&((h=rect.clone()).origin.x+=c/2+.1,h.origin.y+=c/2+.1,h.size.width-=c+.2,h.size.height-=c+.2),g.append(new r.Rect(h).fill(t.background||"#fff").stroke(null))}var d=t.value;if(null!=d){var f="number"==typeof d?"number":null,m=new r.Group;m.clip(r.Path.fromRect(rect)),g.append(m);var v,_=t.format;if(_||"number"!=f||d==Math.floor(d)||(_="0.##############"),_?(v=o.textAndColor(d,_),d=v.text,v.type&&(f=v.type)):d+="",!t.textAlign)switch(f){case"number":case"date":case"percent":case"currency":t.textAlign="right";break;case"boolean":t.textAlign="center"}!function(text,t,n,r){e||((e=document.createElement("div")).style.position="fixed",e.style.left="0px",e.style.top="0px",e.style.visibility="hidden",e.style.overflow="hidden",e.style.boxSizing="border-box",e.style.lineHeight="normal",document.body.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.style.padding="2px 4px",e.style.color=t,e.style.font=function(e){var t=[];return e.italic&&t.push("italic"),e.bold&&t.push("bold"),t.push((e.fontSize||12)+"px"),t.push(e.fontFamily||"Arial"),t.join(" ")}(n),e.style.width=n.width+"px",e.style.textAlign=n.textAlign||"left",e.style.textDecoration=n.underline?"underline":"none",S(n,e.style),n.wrap?(e.style.whiteSpace="pre-wrap",e.style.overflowWrap=e.style.wordWrap="break-word"):(e.style.whiteSpace="pre",e.style.overflowWrap=e.style.wordWrap="normal"),e.appendChild(document.createTextNode(text));var o=0;switch(n.verticalAlign){case"center":o=n.height-e.offsetHeight>>1;break;case void 0:case null:case"bottom":o=n.height-e.offsetHeight}o<0&&(o=0);var c=kendo.drawing.drawDOM.drawText(e);c.transform(l.Matrix.translate(n.left,n.top+o)),r.append(c)}(d,v&&v.color||t.color||"#000",t,m)}}(n,content,d),F.add(n,t)}));var P=new r.Group;F.vert.forEach((function(a){a.forEach((function(b){b.rendered||(b.rendered=!0,P.append((new r.Path).moveTo(b.x,b.top).lineTo(b.x,b.bottom).close().stroke(b.color,b.size)))}))})),F.horiz.forEach((function(a){a.forEach((function(b){b.rendered||(b.rendered=!0,P.append((new r.Path).moveTo(b.left,b.y).lineTo(b.right,b.y).close().stroke(b.color,b.size)))}))})),content.append(P),A.forEach((function(e){var n=e.drawing,image=n.image;if(null!=image){var o=e.box,c=t._workbook.imageUrl(image);content.append(new r.Image(c,new l.Rect([o.left,o.top],[o.width,o.height])).opacity(n.opacity))}}))}}}function S(e,style){if(e.indent){var t=1.4*e.indent;switch(style.textAlign){case null:case"left":style.paddingLeft=t+"ch";break;case"right":style.paddingRight=t+"ch";break;case"center":style.paddingLeft=t/2+"ch",style.paddingRight=t/2+"ch"}}}function T(e,n,o,l){null==o&&null==l&&(l=n,o={},n=t.SHEETREF),null==l&&(l=o,n instanceof t.Range||n instanceof t.Ref||"string"==typeof n?o={}:(o=n,n=t.SHEETREF)),o=kendo.jQuery.extend({paperSize:"A4",landscape:!0,margin:"1cm",guidelines:!0,guideColor:"#aaa",emptyCells:!0,fitWidth:!1,center:!1,headerRows:null,maxEmpty:.2,scale:1},o);var c=new r.Group,h=kendo.pdf.getPaperOptions(o);c.options.set("pdf",{author:o.author,creator:o.creator,date:o.date,keywords:o.keywords,margin:h.margin,multiPage:!0,paperSize:h.paperSize,subject:o.subject,title:o.title});var d=h.paperSize[0],f=h.paperSize[1];h.margin&&(d-=h.margin.left+h.margin.right+1,f-=h.margin.top+h.margin.bottom+1),o.pageWidth=d,o.pageHeight=f;var v=m(e,e._ref(n),o);C(e,v,c,o),l(c)}function D(){}function E(){var e=new D,t=new D;function n(e,col,n,r,o,l){var a=t[col]||(t[col]=new D),c=e>0&&a[e-1];c&&_(c,n)?(a[e]=c,c.bottom=l):a[e]={size:n.size,color:n.color,x:r,top:o,bottom:l}}function r(t,col,n,r,o,l){var a=e[t]||(e[t]=new D),c=col>0&&a[col-1];c&&_(c,n)?(a[col]=c,c.right=l):a[col]={size:n.size,color:n.color,y:r,left:o,right:l}}return{add:function(e,t){if(t){var o=t._properties,l=t._grid;e.borderLeft=o.get("vBorders",l.index(e.row,e.col)),e.borderRight=o.get("vBorders",l.index(e.row,e.col+e.colspan)),e.borderTop=o.get("hBorders",l.index(e.row,e.col)),e.borderBottom=o.get("hBorders",l.index(e.row+e.rowspan,e.col))}e.borderLeft&&n(e.row,e.col,e.borderLeft,e.left,e.top,e.bottom),e.borderRight&&n(e.row,e.col+e.colspan,e.borderRight,e.right,e.top,e.bottom),e.borderTop&&r(e.row,e.col,e.borderTop,e.top,e.left,e.right),e.borderBottom&&r(e.row+e.rowspan,e.col,e.borderBottom,e.bottom,e.left,e.right)},horiz:e,vert:t}}})?r.apply(t,o):r)||(e.exports=l)},1536:function(e,t){e.exports=n(68)},1537:function(e,t){e.exports=n(214)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1284)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1004:function(e,t){e.exports=n(25)},1284:function(e,t,n){var r,o,l;n(3),o=[n(1004)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=".kendoPivotConfigurator",c=n.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"/>');function h(e){return{name:e.uniqueName,type:e.type}}function d(t){var n=e(t).closest(".k-pivot-setting");return n.length?n.data("kendoPivotSettingTarget"):null}var f=o.extend({init:function(element,e){o.fn.init.call(this,element,e),this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container"),this._dataSource(),this._layout(),this.refresh(),n.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:!1,sortable:!1,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("error",this._errorHandler).unbind("progress",this._progressHandler):(this._errorHandler=e.proxy(this._error,this),this._refreshHandler=e.proxy(this.refresh,this),this._progressHandler=e.proxy(this._requestStart,this)),this.dataSource=n.data.PivotDataSource.create(this.options.dataSource),this.dataSource.bind("change",this._refreshHandler).bind("error",this._errorHandler).bind("progress",this._progressHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.measures&&this.measures.setDataSource(e),this.rows&&this.rows.setDataSource(e),this.columns&&this.columns.setDataSource(e),this.refresh()},_treeViewDataSource:function(){var t=this;return n.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(e){return!("hierarchyUniqueName"in e||"aggregator"in e)}}},transport:{read:function(n){var r,o;e.isEmptyObject(n.data)?t.dataSource.schemaDimensions().done((function(data){t.dataSource.cubeBuilder||function(data){for(var e,t=0,n=data.length;t<n;t++)if(2==data[t].type){e=!0;break}e&&data.splice(t+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}(data),n.success(data)})).fail(n.error):("[KPIs]"===(r=t.treeView.dataSource.get(n.data.uniqueName)).uniqueName?(o=!0,t.dataSource.schemaKPIs().done((function(data){n.success(function(data){for(var e=0,t=data.length;e<t;e++)data[e].uniqueName=data[e].name,data[e].type="kpi";return data}(data))})).fail(n.error)):"kpi"==r.type&&(o=!0,n.success(v(r))),o||(2==r.type?t.dataSource.schemaMeasures():r.dimensionUniqueName?t.dataSource.schemaLevels(n.data.uniqueName):t.dataSource.schemaHierarchies(n.data.uniqueName)).done(n.success).fail(n.error))}}})},_progress:function(e){n.ui.progress(this.element,e)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_layout:function(){this.form=e('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element),this._fields(),this._targets()},_fields:function(){var t=e('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form);this.treeView=e("<div/>").appendTo(t).kendoTreeView({template:'# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-arrows-dimensions"></span># } ##: item.caption || item.name #',dataTextField:"caption",dragAndDrop:!0,autoBind:!1,dataSource:this._treeViewDataSource(),dragstart:function(e){var t=this.dataItem(e.sourceNode);(t.hasChildren||t.aggregator||t.measure)&&2!=t.type&&"[KPIs]"!==t.uniqueName||e.preventDefault()},drag:function(e){var t="k-i-cancel",n=d(e.dropTarget);n&&n.validate(this.dataItem(e.sourceNode))&&(t="k-i-plus"),e.setStatusClass(t)},drop:function(e){e.preventDefault();var t,n,r,o,l=d(e.dropTarget),c=this.dataItem(e.sourceNode);if(l&&l.validate(c)){if(o=c.defaultHierarchy||c.uniqueName,"kpi"===c.type)for(n=(r=v(c)).length,o=[],t=0;t<n;t++)o.push(h(r[t]));else c.kpi&&(o=[h(c)]);l.add(o)}}}).data("kendoTreeView")},_createTarget:function(element,t){var template='<li class="k-item k-header" data-'+n.ns+'name="${data.name}">${data.name}',r=t.sortable,o="";return r&&(o+="#if (data.sortIcon) {#",o+='<span class="k-icon ${data.sortIcon}-sm"></span>',o+="#}#"),(t.filterable||r)&&(o+='<span class="k-icon k-i-more-vertical k-setting-fieldmenu"></span>'),template+='<span class="k-field-actions">'+(o+='<span class="k-icon k-i-close k-setting-delete"></span>')+"</span></li>",new n.ui.PivotSettingTarget(element,e.extend({dataSource:this.dataSource,hint:function(element){var t=e('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');return t.find(".k-list").append(element.clone()),t},template:template,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},t))},_targets:function(){var t=e('<div class="k-state-default"/>').appendTo(this.form),n=e(c({name:this.options.messages.columnsLabel,icon:"k-i-columns"})).appendTo(t),r=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(n.last()),o=e(c({name:this.options.messages.rowsLabel,icon:"k-i-rows"})).appendTo(t),l=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(o.last()),h=e(c({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(t),d=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(h.last()),f=this.options;this.columns=this._createTarget(r,{filterable:f.filterable,sortable:f.sortable,connectWith:l,messages:{empty:f.messages.columns,fieldMenu:f.messages.fieldMenu}}),this.rows=this._createTarget(l,{filterable:f.filterable,sortable:f.sortable,setting:"rows",connectWith:r,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}}),this.measures=this._createTarget(d,{setting:"measures",messages:{empty:f.messages.measures}}),r.add(l).add(d).on("mouseenter.kendoPivotConfigurator mouseleave.kendoPivotConfigurator",".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_resize:function(){var e,t,element=this.element,r=this.options.height,o=n._outerHeight;r&&(element.height(r),element.is(":visible")&&(t=element.children(".k-columns").children("div.k-state-default"),r=element.innerHeight(),e=(o(element)-r)/2,r=r-(o(t,!0)-t.height())-e,t.height(r)))},refresh:function(){var e=this.dataSource;(e.cubeBuilder||this._cube!==e.cube()||this._catalog!==e.catalog())&&this.treeView.dataSource.fetch(),this._catalog=this.dataSource.catalog(),this._cube=this.dataSource.cube(),this._resize(),this._progress(!1)},destroy:function(){o.fn.destroy.call(this),this.dataSource.unbind("change",this._refreshHandler),this.form.find(".k-list").off(l),this.rows.destroy(),this.columns.destroy(),this.measures.destroy(),this.treeView.destroy(),this.element=null,this._refreshHandler=null}});function m(e,t,n){return{hierarchyUniqueName:e,uniqueName:t,caption:t,measure:t,name:t,type:n,kpi:!0}}function v(e){var t=e.name;return[m(t,e.value,"value"),m(t,e.goal,"goal"),m(t,e.status,"status"),m(t,e.trend,"trend")]}r.plugin(f)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1295)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1295:function(e,t,n){var r,o,l;n(3),o=[n(1296)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=r.Widget,l=e.extend,c=n.util.ripple,h=o.extend({init:function(element,e){o.fn.init.call(this,element),element=this.wrapper=this.element,this.options=l({},this.options,e),this.registerListeners()},options:{name:"RippleContainer",elements:[{selector:".k-button:not(li)"},{selector:".k-list > .k-item",options:{global:!0}},{selector:".k-checkbox-label, .k-radio-label"},{selector:".k-checkbox, .k-radio",options:{events:["focusin"],container:function(e){if(/\b(k-checkbox|k-radio)\b/.test(e.className))return e.nextElementSibling}}}]},removeListeners:function(){},registerListeners:function(){var e=this.element[0],t=this.options.elements;this.removeListeners();var n=c.register(e,t);this.removeListeners=n},destroy:function(){o.fn.destroy.call(this),this.removeListeners()}});r.plugin(h)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1296:function(e,t){e.exports=n(379)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1561),e.exports=n(1561)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1561:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){!function(){window.kendo.util=window.kendo.util||{},window.kendo.util.ripple=window.kendo.util.ripple||{};var e=function(element,e,t){var n=function(){t(),element.removeEventListener(e,n,!1)},r=function(){return element.addEventListener(e,n,!1)};return r(),{remove:r}},t=function(t,o){return function(l){var c,h=l.target,d=h.document||h.ownerDocument;if((c=o.container?o.container(h):function(element,e){if(element.closest)return element.closest(e);for(var t=Element.prototype.matches?function(e,t){return e.matches(t)}:function(e,t){return e.msMatchesSelector(t)},n=element;n;){if(t(n,e))return n;n=n.parentElement}}(h,t))&&(!/focus/i.test(l.type)||!c.classList.contains("k-ripple-target"))){c.classList.add("k-ripple-target");var f=function(e){var t=e.createElement("div");t.className="k-ripple";var n=e.createElement("div");return n.className="k-ripple-blob",t.appendChild(n),[t,n]}(d),m=f[0],v=f[1],_={animated:!1,released:!1,blob:v,container:c,ripple:m},w={focusin:"focusout",keydown:"keyup",mousedown:"mouseup",pointerdown:"pointerup",touchdown:"touchup"}[l.type];e(l.currentTarget,w,(function(){return r(_)})),c.appendChild(m),window.getComputedStyle(m).getPropertyValue("opacity");var rect=c.getBoundingClientRect(),y=0,x=0;/mouse|pointer|touch/.test(l.type)?(y=l.clientX-rect.left,x=l.clientY-rect.top):(y=rect.width/2,x=rect.height/2);var k=y-(y<rect.width/2?rect.width:0),C=x-(x<rect.height/2?rect.height:0),S=2*Math.sqrt(k*k+C*C);if(v.style.width=v.style.height=S+"px",v.offsetWidth<0)throw new Error("Inconceivable!");v.style.cssText="\n    width: "+S+"px;\n    height: "+S+"px;\n    transform: translate(-50%, -50%) scale(1);\n    left: "+y+"px;\n    top: "+x+"px;\n  ",setTimeout((function(){return n(_)}),500)}}},n=function(e){e.animated=!0,o(e)},r=function(e){e.released=!0,o(e)},o=function(t){if(t.released&&t.animated){var n=t.blob,r=t.ripple,o=t.container;o&&e(o,"blur",(function(){return o.classList.remove("k-ripple-target")})),n&&(e(n,"transitionend",(function(){r&&r.parentNode&&r.parentNode.removeChild(r)})),n.style.transition="opacity 200ms linear",n.style.opacity="0")}};kendo.deepExtend(kendo.util.ripple,{register:function(e,n){var r,o=(r=n.map((function(n){var r={events:["mousedown","touchdown"],global:!1},o=n.selector,l=n.options,c=void 0===l?r:l,h=t(o,c),d=c.events||r.events,f=c.global?document.body:e;return d.forEach((function(e){return f.addEventListener(e,h,!1)})),{events:d,options:c,activator:h}})),[].concat.apply([],r));return function(){e&&(o.forEach((function(t){var n=t.events,r=t.options,o=t.activator,l=r.global?document.body:e;n.forEach((function(e){return l.removeEventListener(e,o,!1)}))})),e=null)}}})}()})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1276)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1025:function(e,t){e.exports=n(19)},1276:function(e,t,n){var r,o,l;n(3),o=[n(1025),n(1277),n(1278),n(1279),n(1280),n(1281),n(1282),n(1283)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=".kendoPDFViewer",o=window.kendo,l=o.ui,c=e.proxy,h=e.extend,d=o.drawing,f=e.extend({PLUS:187,MINUS:189,ZERO:48,NUMPAD_ZERO:96},o.keys),m=l.Widget,progress=o.ui.progress,v="pdfjs",_="dpl",w="k-pdf-viewer k-widget",y="k-canvas k-list-scroller",x="k-enable-text-select",k="k-enable-panning",C="k-search-highlight",S="k-text-char",T=m.extend({init:function(element,e){m.fn.init.call(this,element,o.deepExtend({},this.options,e)),this._wrapper(),this.options.toolbar&&this._renderToolbar(),this._initProcessor(e||{}),this._renderPageContainer(),this._loadDocument(),this._tabindex(),o.notify(this,o.ui)},events:["render","open","error","zoomStart","zoomEnd"],options:{name:"PDFViewer",view:{type:"canvas"},pdfjsProcessing:{file:null},dplProcessing:{read:{url:null,type:"GET",dataType:"json",pageField:"pageNumber"},upload:{url:null,saveField:"file"},download:{url:null},loadOnDemand:!1},toolbar:{items:[]},width:1e3,height:1200,page:1,defaultPageSize:{width:794,height:1123},scale:null,zoomMin:.5,zoomMax:4,zoomRate:.25,messages:{defaultFileName:"Document",toolbar:{zoom:{zoomOut:"Zoom Out",zoomIn:"Zoom In",actualWidth:"Actual Width",autoWidth:"Automatic Width",fitToWidth:"Fit to Width",fitToPage:"Fit to Page"},open:"Open",exportAs:"Export",download:"Download",pager:{first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",of:" of {0} ",page:"page",pages:"pages"},print:"Print",toggleSelection:"Enable Selection",togglePan:"Enable Panning",search:"Search"},errorMessages:{notSupported:"Only pdf files allowed.",parseError:"PDF file fails to process.",notFound:"File is not found."},dialogs:{exportAsDialog:{title:"Export...",defaultFileName:"Document",pdf:"Portable Document Format (.pdf)",png:"Portable Network Graphics (.png)",svg:"Scalable Vector Graphics (.svg)",labels:{fileName:"File name",saveAsType:"Save as",page:"Page"}},okText:"OK",save:"Save",cancel:"Cancel",search:{inputLabel:"Search Text",matchCase:"Match Case",next:"Next Match",previous:"Previous Match",close:"Close",of:"of"}}}},_wrapper:function(){var e=this,t=e.options;e.wrapper=e.element,e.wrapper.width(t.width).height(t.height).addClass(w).on("focus.kendoPDFViewer",c(e._focus,e)).on("keydown.kendoPDFViewer",c(e._keydown,e)),e._allowResize=null===e.options.scale,e._autoZoomScale=1.25,e.zoomScale=e.options.scale||e._autoZoomScale,e._resizeHandler=o.onResize((function(){e.resize()})),e._pageNum=e.options.page},_focus:function(e){this.toolbar?this.toolbar.wrapper.focus():this.pageContainer.focus(),e.preventDefault()},_keydown:function(e){var t=[f.PLUS,f.NUMPAD_PLUS],n=[f.MINUS,f.NUMPAD_MINUS],r=[f.ZERO,f.NUMPAD_ZERO],o=!1,l={command:"ZoomCommand",options:{updateComboBox:!0}};e.ctrlKey&&!this._blankPage&&this.processingLib!==_&&(t.includes(e.keyCode)?(l.options.zoomIn=!0,o=!0):n.includes(e.keyCode)?(l.options.zoomOut=!0,o=!0):r.includes(e.keyCode)&&(l.options.scale=1.25,o=!0),o&&(this.execute(l),e.preventDefault()))},_initProcessor:function(e){var t;t=e.dplProcessing?this.options.dplProcessing:this.options.pdfjsProcessing,this.processingLib=e.dplProcessing?_:v,this.processor=new o.pdfviewer[this.processingLib].processor(t,this),n=o.pdfviewer[this.processingLib].Page},_renderToolbar:function(){var t=this.options,n={pager:{messages:t.messages.toolbar.pager},scale:t.scale,resizable:!0,items:t.toolbar.items,width:t.width,action:this.execute.bind(this),messages:t.messages.toolbar,viewer:this},r=e("<div />");r.appendTo(this.element),this.toolbar=new o.pdfviewer.Toolbar(r,n)},_initErrorDialog:function(e){if(!this._errorDialog){e=h(e,{messages:this.options.messages});var t=new o.pdfviewer.dialogs.ErrorDialog(e);this._errorDialog=t._dialog}return this._errorDialog},_renderPageContainer:function(){this.pageContainer||(this.pageContainer=e("<div />"),this.pageContainer.addClass(y),this.pageContainer.attr("tabindex",0),this.wrapper.append(this.pageContainer))},_triggerError:function(e){var dialog=this._initErrorDialog();h(e,{dialog:dialog}),this.pageContainer&&progress(this.pageContainer,!1),this.trigger("error",e)||dialog.open().content(e.message)},_renderPages:function(){var e,t=this.document;if(this.pages=[],t&&t.total){e=t.pages;for(var i=1;i<=t.total;i++){var r,o={processor:this.processor,number:i};e&&e.length&&(o=h(o,e[i-1])),r=new n(o,this),this.pages.push(r),this.pageContainer.append(r.element)}this._attachContainerEvents(),this._getVisiblePagesCount()}else this._renderBlankPage()},_renderBlankPage:function(){this._blankPage=new n(this.options.defaultPageSize,this),this.pageContainer.append(this._blankPage.element),this.trigger("update",{isBlank:!0})},_resize:function(){var e;this._allowResize&&(this.pages&&this.pages.length?(this.toolbar&&this.toolbar.resize(!0),this._resizeHandler&&clearTimeout(this._resizeHandler),this._resizeHandler=setTimeout(this._resizePages.bind(this),100)):this._blankPage&&(e=void 0/this._blankPage.element.width(),this._blankPage.resize(e)))},_resizePages:function(){var e=this.pageContainer[0].clientWidth,t=0;this.pages.forEach((function(n){var r=e/n.element.width();r>t&&(t=r)})),this._autoFit?this.zoom(this._autoFit,!0):(t=Math.min(Math.max(t,this.options.zoomMin),1.25))!=this.zoomScale&&(this.zoom(t,!0),this.zoomScale=t,this._allowResize=!0)},_attachContainerEvents:function(){var e=this;e._wheel=o.throttle(e._wheel.bind(e),300),e.processingLib!==_&&e.pageContainer.on("DOMMouseScroll.kendoPDFViewer mousewheel.kendoPDFViewer",(function(t){t.ctrlKey&&(document.activeElement!==e.pageContainer[0]&&e.pageContainer.focus(),e._wheel(t),t.preventDefault())})),e._scroller=new o.mobile.ui.Scroller(e.pageContainer,{zoom:!1,elastic:!0}),e._scroller.scrollElement.addClass(k),e._scroller.bind("scroll",c(e._scroll,this))},_scroll:function(e){var t,n,r,o,l,c,h=this.pageContainer[0].scrollHeight,d=this.pageContainer.height(),f=e.scrollTop,m=this.pageContainer.offset().top,v=this.pages.length,_=this._pageNum,w=_-1,y=_,x=f-this._prevScrollTop>0?1:-1;if(!this._preventScroll&&v){if(this._scrollingStarted=!0,n=(t=this.pages[w]).element.offset().top-m,r=t.element.height(),-1==x&&this.pages[w+x]&&(l=(o=this.pages[w-this._visiblePagesCount]||this.pages[w+x]).element.offset().top-m,c=o.element.height()),Math.abs(f-(this._prevScrollTop||0))>d*this.zoomScale?y=Math.floor(f*(1/(h/v)))+1:n<0&&Math.abs(n)>=r/2&&1===x?y++:o&&Math.abs(l)<=c/2&&y--,_!==y&&y>=1&&y<=v){if(this.pages[y-1].element.offset().top>d)return;this._pageNum=y,this._loadVisiblePages(),this.trigger("update",{action:"pagechange",page:y,total:v})}this._prevScrollTop=f}else this._preventScroll=!1},_wheel:function(e){var t=e.originalEvent,n=(t.wheelDelta?-t.wheelDelta:t.detail)<0;this.execute({command:"ZoomCommand",options:{zoomIn:n,zoomOut:!n,updateComboBox:!0}}),e.preventDefault()},zoom:function(e,t){return e?this.execute({command:"ZoomCommand",options:{scale:e,updateComboBox:!t}}):this.zoomScale},execute:function(e){var t=h({viewer:this},e.options);return new o.pdfviewer[e.command](t).exec()},_loadDocument:function(){var e=this,t=e.options.page;progress(e.pageContainer,!0),e.processor.fetchDocument().done((function(n){e._clearPages(),e.document=n,e._renderPages(),e.resize(!0),n&&(t=t>=1&&t<=n.total?t:1,e.activatePage(t)),progress(e.pageContainer,!1)}))},loadPage:function(e){var t=this.pages&&this.pages[e-1];if(t)return t.load(this.zoomScale)},activatePage:function(e){var t,n,r,o,l=this.pages&&this.pages[e-1],c=this._scroller;l&&(t=c.scrollTop,n=c.element.offset().top,r=l.element.offset().top,o=this._autoFit?0:parseInt(l.element.css("marginTop"),10),this._pageNum=e,this._loadVisiblePages(),this._preventScroll=!0,this._scroller.scrollTo(0,-t-r+n+o),this.trigger("update",{action:"pagechange",page:e,total:this.pages.length}))},_getVisiblePagesCount:function(){for(var e=0,t=0,n=this.pageContainer[0].clientHeight,r=0;e<=n&&r<this.pages.length;)e+=this.pages[r].element.height(),t++,r++;this._visiblePagesCount=t},_loadVisiblePages:function(){var e=this.pages&&this.pages.length,t=Math.max(this._pageNum-this._visiblePagesCount,1),n=Math.min(this._pageNum+this._visiblePagesCount,e);this._visiblePages=this.pages.slice(t-1,n);for(var i=t;i<=n;i++)this.loadPage(i)},_loadAllPages:function(){for(var e=this.pages&&this.pages.length,t=[],i=0;i<=e;i++)t.push(this.loadPage(i));return t},fromFile:function(e){this.zoomScale=this.options.scale||1.25,this.trigger("update",{action:"zoom",zoom:this.options.scale||"auto"}),this.processor._updateDocument(e),this._loadDocument()},exportImage:function(e){var t=this,n=e.page,r=t.pages[n-1]||t._blankPage,l=new d.Group;r.load();var c=o.drawing.Path.fromRect(new o.geometry.Rect([0,0],[r.width,r.height]),{fill:{color:"#ffffff"},stroke:null});progress(t.pageContainer,!0),l.append(c,r.group),d.exportImage(l).done((function(data){progress(t.pageContainer,!1),o.saveAs({dataURI:data,fileName:e.fileName,proxyURL:e.proxyURL||"",forceProxy:e.forceProxy,proxyTarget:e.proxyTarget})}))},exportSVG:function(e){var t=this,n=e.page,r=t.pages[n-1]||t._blankPage;progress(t.pageContainer,!0),r.load(),d.exportSVG(r.group).done((function(data){progress(t.pageContainer,!1),o.saveAs({dataURI:data,fileName:e.fileName,proxyURL:e.proxyURL||"",forceProxy:e.forceProxy,proxyTarget:e.proxyTarget})}))},setOptions:function(t){(t.pdfjsProcessing||t.dplProcessing)&&this._initProcessor(),t=e.extend(this.options,t),m.fn.setOptions.call(this,t),t.page&&(this._pageNum=t.page,this.activatePage(t.page)),t.width&&this.element.width(t.width),t.height&&this.element.height(t.height)},destroy:function(){this._resizeHandler&&o.unbindResize(this._resizeHandler),this._errorDialog&&this._errorDialog.destroy(),this._saveDialog&&this._saveDialog.destroy(),this._upload&&this._upload.destroy(),this.toolbar&&(this.toolbar.unbind(),this.toolbar.destroy(),this.toolbar=null),this.pages&&this.pages.length&&(this.pages.forEach((function(e){e.destroy()})),this.pages=[]),this._scroller&&(this._scroller.unbind(),this._scroller.destroy()),this.pageContainer.off(r),m.fn.destroy.call(this)},_clearPages:function(){this.pages=[],this.document=null,this._pageNum=1,this.pageContainer.off(r),this.pageContainer.empty(),this._scroller&&(this._scroller.reset(),this._scroller.unbind(),this._scroller.destroy())},_toggleSelection:function(e){void 0===e&&(e=!0),this._scroller.userEvents._shouldNotMove=e,this._scroller.scrollElement.toggleClass(x,e),this._scroller.scrollElement.toggleClass(k,!e)},_initSearchDOM:function(){var e=this;return new Promise((function(t){Promise.all(e._loadAllPages()).then((function(){e._searchDOM=new o.pdfviewer.SearchDOM({target:e._getTextLayers(),highlightClass:C,charClass:S}),t()}))}))},_getTextLayers:function(){return this.pages.map((function(e){return e.textLayer}))}});l.plugin(T)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1277:function(e,t){e.exports=n(381)},1278:function(e,t){e.exports=n(383)},1279:function(e,t){e.exports=n(384)},1280:function(e,t){e.exports=n(386)},1281:function(e,t){e.exports=n(387)},1282:function(e,t){e.exports=n(388)},1283:function(e,t){e.exports=n(389)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1492)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1492:function(e,t,n){var r,o,l;n(3),o=[n(1493)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n,r=window.kendo,o=r.Class,l=e.extend,c=window.atob,h=o.extend({init:function(e,t){r.pdfviewer.pdfjs.isLoaded()&&(n=r.pdfviewer.pdfjs.lib),this.file=e.file,this.viewer=t},fetchDocument:function(){var t=this,r=e.Deferred(),o=t.viewer.options.messages.errorMessages;return t.file?(t._isBase64Data()&&c&&(t.file.data=c(t.file.data)),n.getDocument(this.file).promise.then((function(n){var l=[];t.pdf=n,t.pagePromises=[],t._downloadData=e.Deferred(),n.getData().then((function(data){var e=new Blob([data],{type:"application/pdf"});t._downloadData.resolve({file:e})}));for(var i=1;i<=n.numPages;i++)t.pagePromises.push(n.getPage(i));Promise.all(t.pagePromises).then((function(e){l=e.map((function(e){var t=e.getViewport({scale:4/3});return{width:t.width,height:t.height}})),r.resolve({total:n.numPages,pages:l})})).catch((function(e){t.viewer._triggerError({error:e.message,message:o.parseError})}))})).catch((function(e){var n=e.name.includes("Missing"),r=n?o.notFound:o.parseError;t.viewer._triggerError({error:e.message,message:r}),n&&t.viewer._renderBlankPage()})),r):r.resolve()},fetchPageData:function(e){return this.pagePromises[e-1]},downloadFile:function(e){var t=this;r.ui.progress(t.viewer.pageContainer,!0),t._downloadData.done((function(n){r.ui.progress(t.viewer.pageContainer,!1);var o=new FileReader;o.readAsDataURL(n.file),o.onload=function(){r.saveAs({dataURI:o.result,fileName:e+".pdf",proxyURL:function(){return o.result}})}}))},_updateDocument:function(e){this.pdf&&this.pdf.loadingTask&&this.pdf.loadingTask.destroy(),this.file=e},_isBase64Data:function(){var e,data=this.file.data,t=data&&data.length;return!(!t||t%4!=0||/[^A-Z0-9+\/=]/i.test(data))&&(-1===(e=data.indexOf("="))||e===t-1||e===t-2&&"="===data[t-1])},renderTextLayer:function(e){n.renderTextLayer(e)}});l(r.pdfviewer.pdfjs,{processor:h})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1493:function(e,t){e.exports=n(382)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1490),e.exports=n(1490)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1490:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return(0,window.kendo.jQuery.extend)(kendo,{pdfviewer:{pdfjs:{lib:window.pdfjsLib,isLoaded:function(){if(!window.pdfjsLib){var e=window.console;return e&&e.error&&e.error("PDF.JS required."),!1}return kendo.pdfviewer.pdfjs.lib=window.pdfjsLib,!0}}}}),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1491)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},862:function(e,t){e.exports=n(0)},1491:function(e,t,n){var r,o,l;n(3),o=[n(862)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=e.extend,o=n.Class.extend({init:function(e,t){this.options=e,this.read=e.read,this.upload=e.upload,this.download=e.download,this.viewer=t},fetchDocument:function(){var t=this,r=e.Deferred(),o=t.viewer.options.messages.errorMessages;return t.read?(e.ajax({type:t.read.type,url:t.read.url,dataType:t.read.dataType,success:function(data){"string"!=typeof data&&(data=n.stringify(data)),r.resolve(JSON.parse(data))},error:function(e){t.viewer._triggerError({error:e.responseText,message:o.parseError})}}),r):r.resolve()},fetchPageData:function(t){var n=this,r=e.Deferred(),o=n.viewer.document.pages[t-1],data={};return data[n.read.pageField]=t,o.geometries.length?r.resolve(o):e.ajax({type:n.read.type,url:n.read.url,data:data,success:function(data){r.resolve(JSON.parse(data))},error:function(e){n.viewer._triggerError({error:e.responseText,message:n.viewer.options.messages.errorMessages.parseError})}}),r},downloadFile:function(e){window.location=this.download.url+"?file="+e},fromJSON:function(e){var t=this.viewer;t._clearPages(),t.document=e,t.document.total=t.document.pages.length,t._renderPages(),t.resize(!0),t.activatePage(1)}});r(n.pdfviewer,{dpl:{processor:o}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1495),e.exports=n(1495)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},6:function(e,t){e.exports=n(39)},1495:function(e,t,n){var r,o,l;n(3),o=[n(1496),n(6),n(1497)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=e.extend,o=e.proxy,l=n.support.click,c="zoomin",h="zoomout",d=n.toolbar.Item,f=n.ui.ToolBar,m={auto:"auto",actual:"actual",fitToWidth:"fitToWidth",fitToPage:"fitToPage"},v={zoomOutIcon:"k-i-zoom-out",zoomInIcon:"k-i-zoom-in",zoomButtons:"k-button-icon k-flat",zoomOverflowButtons:"k-button-icontext k-overflow-button",overflowHidden:"k-overflow-hidden"},_=n.template('<a href="\\#" aria-label="#=text#" title="#=text#" data-command="#=command#" class="k-button #=className#"><span class="k-icon #= iconClass #"></span> ${showText ? text : ""}</a>'),w=n.template('<select>#for(var zoomIndex in zoomLevels){## var zoomLevel = zoomLevels[zoomIndex]; #<option value="#= zoomLevel.percent || (zoomLevel + "%") #">${zoomLevel.text ? zoomLevel.text : zoomLevel + "%"}</option>#}#</select>'),y={pager:{type:"pager",overflow:"never",command:"PageChangeCommand"},spacer:{type:"spacer"},zoom:{type:"zoom",command:"ZoomCommand",zoomInOut:!0,combobox:{zoomLevels:[50,100,150,200,300,400]}},toggleSelection:{type:"buttonGroup",attributes:{class:"k-toggle-selection-group"},buttons:[{togglable:!0,text:"Enable Selection",command:"EnableSelectionCommand",icon:"cursor",showText:"overflow",name:"toggleSelection",group:"toggle-pan"},{togglable:!0,text:"Enable Panning",command:"EnablePanCommand",icon:"hand",showText:"overflow",name:"togglePan",group:"toggle-pan",selected:!0}]},spacer2:{type:"spacer"},search:{type:"button",text:"Search",command:"OpenSearchCommand",icon:"search",name:"search",showText:"overflow"},open:{type:"button",text:"Open",showText:"overflow",name:"open",icon:"folder-open",command:"OpenCommand"},download:{type:"button",text:"Download",showText:"overflow",name:"download",icon:"download",command:"DownloadCommand"},print:{type:"button",text:"Print",showText:"overflow",name:"print",icon:"print",command:"PrintCommand"}},x=r({},y,{exportAs:{type:"button",text:"Export",showText:"overflow",name:"exportAs",icon:"image-export",command:"ExportCommand"}}),k=d.extend({init:function(t,l){var c=e("<div />");this.options=r(!0,t,l.options.pager),this.toolbar=l,this.toolbar.pager=new n.pdfviewer.Pager(c,r({},t,{change:o(this._change,this)})),this.element=c,this.element.on("keydown",o(this._keydown,this)),this.attributes(),this.addUidAttr(),this.addOverflowAttr()},_change:function(e){this.options.change&&this.options.change(e.page)||this.toolbar.action({command:"PageChangeCommand",options:{value:e.page}})},_keydown:function(t){var r=e(t.target),o=t.keyCode,l=this.element.find(":kendoFocusable"),c=l.index(r),h=t.shiftKey?-1:1;o===n.keys.TAB&&l[c+h]&&(l[c+h].focus(),t.preventDefault(),t.stopPropagation())}});function C(element,e,t){var n=t?v.zoomOverflowButtons:v.zoomButtons;element.append(_({text:e.zoomOut,command:h,iconClass:v.zoomOutIcon,showText:t,className:n})),element.append(_({text:e.zoomIn,command:c,iconClass:v.zoomInIcon,showText:t,className:n}))}n.toolbar.registerComponent("pager",k);var S=d.extend({init:function(e,t){this._init(e,t),this.toolbar.zoom=this,t.options.scale&&(this._initValue=100*t.options.scale+"%"),this._appendElements(),this._click=n.throttle(this._click.bind(this),200),this._keydown=n.throttle(this._keydown.bind(this),200),this.element.on(l,".k-button",this._click),this.element.on("keydown",".k-button",this._keydown),this.attributes(),this.addUidAttr(),this.addOverflowAttr()},_init:function(t,n){var o=e("<div />");this.options=r(!0,t,{messages:n.options.messages.zoom}),this.toolbar=n,this.element=o},_appendElements:function(){var e=this.options;e.zoomInOut&&C(this.element,e.messages,!1),e.combobox&&this._buildComboBox()},_buildComboBox:function(){var t,o=this.options.messages,l=this.options.combobox,c=[{percent:m.auto,text:o.autoWidth},{percent:m.actual,text:o.actualWidth},{percent:m.fitToWidth,text:o.fitToWidth},{percent:m.fitToPage,text:o.fitToPage}];c=c.concat(l.zoomLevels),t=e(w({zoomLevels:c})),n.support.mobileOS?this.element.append(t):(t=t.kendoComboBox(r({autoWidth:!0,clearButton:!1,value:this._initValue},l)).getKendoComboBox(),this.element.append(t.wrapper),this.combobox=t,this._currentValue=t.value()),t.bind("change",n.throttle(this.change.bind(this),300))},change:function(e){var t,n=e.sender?e.sender.value():e.target.value;if(n.toString().match(/^[0-9]+%?$/))t=parseInt(n.replace("%",""),10)/100;else if(!m[n])return this.combobox&&this.combobox.value(this._currentValue),void e.preventDefault();this._currentValue=n,this.toolbar.action({command:"ZoomCommand",options:{scale:t||n}})},_buttonCommand:function(t){var n=e(t).closest(".k-button").data("command");this.toolbar.action({command:"ZoomCommand",options:{zoomIn:n===c,zoomOut:n===h,updateComboBox:!0}})},_click:function(e){this._buttonCommand(e.target)},_keydown:function(e){e.keyCode===n.keys.ENTER&&(this._buttonCommand(e.target),e.preventDefault())},enable:function(e){this.element.find(".k-button, select").toggleClass("k-state-disabled",!e),this.combobox&&this.combobox.enable(e)},destroy:function(){this.combobox&&this.combobox.destroy()}}),T=S.extend({_init:function(t,n){var o=e("<li></li>");this.options=r(!0,t,{messages:n.options.messages.zoom}),this.toolbar=n,this.element=o},_appendElements:function(){var e=this.options;e.zoomInOut&&C(this.element,e.messages,!0)},overflowHidden:function(){this.element.addClass(v.overflowHidden)}});n.toolbar.registerComponent("zoom",S,T);var D=f.extend({init:function(element,e){var t=e.items&&e.items.length?e.items:Object.keys(y);this.options=e,e.items=this._updateItems(t),f.fn.init.call(this,element,e),this.bind({click:this._click,toggle:this._click}),e.viewer.bind({update:this._update.bind(this)})},events:["action"],_updateItems:function(t){var r=this,o=this.options.messages;return t.map((function(t){t=e.isPlainObject(t)&&1===Object.keys(t).length&&t.name?t.name:t;var l,c=e.isPlainObject(t)?t:x[t],h=c.name;return"buttonGroup"===c.type?c.buttons=r._updateItems(c.buttons):l="pager"!==c.type?{name:h,attributes:{"aria-label":o[h],title:o[h],"data-command":c.command,class:"k-flat"},overflow:c.overflow}:{overflow:"never"},n.deepExtend(c,l),c}))},_click:function(t){var n=e(t.target).data("command");n&&this.action({command:n,options:t.options})},_update:function(e){var t={page:e.page||1,total:e.total||1};this.zoom&&(this.zoom.enable(!e.isBlank),"zoom"===e.action&&this._updateZoomComboBox(e.zoom)),("pagechange"===e.action||e.isBlank)&&this.pager&&this.pager.setOptions(t),this.enable(this.wrapper.find(".k-toggle-selection-group"),!e.isBlank),this.enable(this.wrapper.find("[data-command='OpenSearchCommand']"),!e.isBlank),this.enable(this.wrapper.find("[data-command='DownloadCommand']"),!e.isBlank),this.enable(this.wrapper.find("[data-command='PrintCommand']"),!e.isBlank)},_updateZoomComboBox:function(e){e===m.auto||e===m.actual||(e=Math.round(100*e)+"%"),this.zoom&&this.zoom.combobox&&(this.zoom._currentValue=e,this.zoom.combobox.value(e))},action:function(e){this.trigger("action",e)},destroy:function(){this.pager&&this.pager.destroy(),this.zoom&&this.zoom.destroy(),f.fn.destroy.call(this)}});r(n.pdfviewer,{Toolbar:D,DefaultTools:y})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1496:function(e,t){e.exports=n(69)},1497:function(e,t){e.exports=n(385)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1489),e.exports=n(1489)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1489:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=".kendoPDFViewer",r=kendo.ui.Widget,o=kendo.support.click,l=kendo.attr,c=e.proxy,h=e.extend,d="k-pager-wrap",f="k-i-arrow-end-left",m="k-i-arrow-end-right",v="k-i-arrow-60-left",_="k-i-arrow-60-right",w="k-pager-first",y="k-pager-last",x="k-pager-nav",k="k-state-disabled",C=r.extend({init:function(element,e){r.fn.init.call(this,element,e),this.linkTemplate=kendo.template(this.options.linkTemplate),this.element.addClass(d),this._renderLinks(),this._toggleDisabledClass(),this._attachEvents()},options:{linkTemplate:'<a href="\\#" aria-label="#=text#" title="#=text#" class="k-button k-button-icon k-flat k-pager-nav #= wrapClass #" data-page="#=pageIdx#"><span class="k-icon #= iconClass #"></span></a>',previousNext:!0,input:!0,page:1,total:1,messages:{}},events:["change"],_pagerLink:function(e,text,t,n){return this.linkTemplate({iconClass:e,text:text,wrapClass:n||"",pageIdx:t})},_renderLinks:function(){var t=this.options;t.previousNext&&(this.firstLink=e(this._pagerLink(f,t.messages.first,1,w)),this.prevLink=e(this._pagerLink(v,t.messages.previous,t.page-1)),this.nextLink=e(this._pagerLink(_,t.messages.next,t.page+1)),this.lastLink=e(this._pagerLink(m,t.messages.last,t.total,y))),this.element.append(this.firstLink),this.element.append(this.prevLink),t.input&&this._renderInput(),this.element.append(this.nextLink),this.element.append(this.lastLink)},_toggleDisabledClass:function(){var e=this.options,t=!e.total;this.nextLink&&this.prevLink&&(this.prevLink.toggleClass(k,t||1===e.page),this.nextLink.toggleClass(k,t||e.page===e.total),this.lastLink.toggleClass(k,t||e.page===e.total),this.firstLink.toggleClass(k,t||1===e.page)),this.input&&this.input.toggleClass(k,e.total<=1)},_attachEvents:function(){var e=this;e.element.on(o+n,"."+x,c(e._click,e)),e.element.on("keydown"+n,"."+x,(function(t){t.keyCode===kendo.keys.ENTER&&(e._click(t),t.preventDefault())})),e.input&&e.input.on("keydown"+n,c(e._keydown,e))},_click:function(t){var n=e(t.currentTarget),r=parseInt(n.attr(l("page")),10);t.isDefaultPrevented()||this._change(r)},_keydown:function(t){var n=t.keyCode,r=kendo.keys,input=e(t.target),o=parseInt(input.val(),10),l=n===r.UP||n===r.DOWN,c=n===r.RIGHT||n===r.LEFT||n===r.BACKSPACE||n===r.DELETE,h=l&&n===r.UP?1:-1;if(l&&(o+=h),n===r.ENTER||l){if(isNaN(o)||o<1||o>this.options.total)return o=this.options.page,void input.val(o);this._change(o),t.preventDefault()}else t.key.match(/^\d+$/)||c||t.preventDefault()},_change:function(e){e>=1&&e<=this.options.total&&(this.options.page=e,this.input&&this.input.val(e),this.prevLink.attr(l("page"),e-1),this.nextLink.attr(l("page"),e+1),this._toggleDisabledClass()),this.trigger("change",{page:e})},setOptions:function(t){var o=this.options.total;t=e.extend(this.options,t),r.fn.setOptions.call(this,t),t.input&&(o!=t.total?(this._renderInput(),this.input.on("keydown"+n,c(this._keydown,this))):this.input.val(t.total>0?t.page:1)),t.total>1&&(this.prevLink.attr(l("page"),t.page-1),this.nextLink.attr(l("page"),t.page+1),this.lastLink.attr(l("page"),t.total)),this._toggleDisabledClass()},_renderInput:function(){var e,t,r=this.options,o=this.element.parent().width()<=480,l=this.element.find(".k-pager-input");this.input&&this.input.off(n),e=r.total>0?kendo.format(r.messages.of,r.total):"",o||(e+=r.total>1?r.messages.pages:r.messages.page),t='<input class="k-textbox" aria-label="'+r.page+e+'">'+e,l.length?l.html(t):this.element.append('<span class="k-pager-input k-label">'+t+"</span>"),this.input=this.element.find("input").val(r.total>0?r.page:1)},destroy:function(){this.element.off(n),this.input&&this.input.off(n),r.fn.destroy.call(this)}});h(kendo.pdfviewer,{Pager:C})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1488),e.exports=n(1488)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1478:function(e,t){e.exports=n(7)},1488:function(e,t,n){var r,o,l;n(3),o=[n(1478)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=e.extend,r=e.noop,o=kendo.drawing,l=o.Group,c=o.Surface,h=kendo.Class,d={Path:"path",MultiPath:"multipath",Rect:"rect",Image:"image",Text:"text"},f=h.extend({init:function(t,n){this.viewer=n,this.processor=t.processor,this.options=t,this.pageNumber=t.number,this.element=e("<div class='k-page' />"),this.element.attr(kendo.attr("number"),this.pageNumber),this._updatePageSize(t),this.width=t.width,this.height=t.height},resize:function(e){var t=this.element;this._updatePageSize({width:Math.min(t.width()*e,this.width),height:Math.min(t.height()*e,this.height)})},_updatePageSize:function(e){this.element.width(e.width).height(e.height)},destroy:function(){kendo.destroy(this.element)},render:r}),m=f.extend({draw:function(){var e=this.options.geometries;this.group=new l,this.surface.draw(this.group),this._drawGeometries(e),this.viewer.trigger("render",{page:this}),kendo.ui.progress(this.element,!1)},load:function(){var e=this;!e.loaded&&e.processor&&(e.processor.fetchPageData(e.pageNumber).then((function(data){e.options=data,e._initSurface(),e.draw()})),e.loaded=!0)},_initSurface:function(){var e={width:this.element.width(),height:this.element.height()},t=n({width:this.width,height:this.height},this.viewer.options.view);this.surface=new c(this.element,t),this._updatePageSize(e)},_drawGeometries:function(e){var t;if(e)for(var i=0;i<=e.length;i++){var n=e[i];if(n){switch(n.type){case d.Path:case d.MultiPath:t=this._drawPath(n);break;case d.Rect:t=this._drawRect(n);break;case d.Image:t=this._drawImage(n);break;case d.Text:t=this._drawText(n);break;default:t=null}t&&this.group.append(t)}}},_drawRect:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new o.Rect(t,{transform:this._getMatrix(e.transform),fill:e.fillOptions,stroke:e.strokeOptions})},_drawImage:function(e){var t=new kendo.geometry.Rect(e.point,e.size);return new o.Image(e.src,t,{transform:this._getMatrix(e.transform)})},_drawText:function(e){var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions,font:e.font};return new kendo.drawing.Text(e.content,e.point,t)},_drawPath:function(e){for(var t={transform:this._getMatrix(e.transform),stroke:e.strokeOptions,fill:e.fillOptions},path=new o.MultiPath(t),i=0;i<e.paths.length;i++){var n=e.paths[i];if(!n.segments)return;path.moveTo.apply(path,n.point);for(var r=0;r<n.segments.length;r++){var l=n.segments[r];(1===l.points.length?path.lineTo:path.curveTo).apply(path,l.points)}n.closed&&path.close()}return path},_getMatrix:function(e){var t=Object.create(kendo.geometry.Matrix.prototype);return kendo.geometry.Matrix.apply(t,e),t}}),v=f.extend({init:function(t,n){var canvas;canvas=e("<canvas style='width: 100%; height: 100%;' />"),this.canvas=canvas.get(0),f.fn.init.call(this,t,n),this.canvas.width=this.width,this.canvas.height=this.height,this.element.append(canvas)},load:function(e,t){var n=this;if(n._scale!==e||t){if(n._scale&&n._scale!==e&&!t)return n._scale=e,void n.render(e);n.processor&&n.processor.fetchPageData(n.pageNumber).then((function(t){return n._page=t,n.render(e).then((function(){n.viewer.trigger("render",{page:n})}))})),n._scale=e,n.loaded=!0}},render:function(e){var t=this,n=this.canvas.getContext("2d"),r=this._page.getViewport({scale:e});return this._scale=e,this.canvas.width=r.width,this.canvas.height=r.height,this._renderTask&&(this._renderTask.cancel(),this._renderTask=null),this._updatePageSize({width:r.width,height:r.height}),this._renderTask=this._page.render({canvasContext:n,viewport:r}),this._renderTextLayer(r),this._renderTask.promise.then((function(){t._renderTask=null})).catch((function(){}))},_renderTextLayer:function(t){var n=this,r=n._page;n.textLayer&&n.textLayer.remove(),n.textLayer=e("<div class='k-text-layer'></div>").get(0),n.element.append(n.textLayer),r.getTextContent({normalizeWhitespace:!0}).then((function(r){e(n.textLayer).css({height:t.height,width:t.width}).html("");var o={textContent:r,container:n.textLayer,viewport:t,textDivs:[],enhanceTextSelection:!0};n.processor.renderTextLayer(o)}))}});n(kendo.pdfviewer.dpl,{geometryTypes:d,Page:m}),n(kendo.pdfviewer.pdfjs,{Page:v})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1494),e.exports=n(1494)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},19:function(e,t){e.exports=n(0)},1494:function(e,t,n){var r,o,l;n(3),o=[n(19)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=kendo.Class,r=e.extend,o=e.isArray,l=n.extend({init:function(e){this.options=r({},this.options,e),this.processDom()},options:{highlightClass:"k-search-highlight",charClass:"k-text-char"},processDom:function(){var e=this;e.targets=o(e.options.target)?e.options.target:[e.options.target],e.textNodes=[],e.charIndex=0,e.text="",e.targets.forEach((function(t){e.traverseToTextNode(t)}));for(var i=0;i<e.textNodes.length;i++)e.processTextNode(e.textNodes[i])},traverseToTextNode:function(e){if(3===e.nodeType)this.textNodes.push(e);else for(var i=0;i<e.childNodes.length;i++)this.traverseToTextNode(e.childNodes[i])},processTextNode:function(t){var span,text=t.textContent;this.text=this.text+text,text.length>0&&((span=e(t).wrap("<span>").parent()).empty(),this.splitChars(span.get(0),text),span.children().unwrap())},splitChars:function(span,text){for(var e="",i=0;i<text.length;i++)e=e+"<span class='"+this.options.charClass+"' "+kendo.attr("char-index")+"="+this.charIndex+">"+text[i]+"</span>",this.charIndex++;span.innerHTML=e},search:function(e,t){var n,r=new RegExp(e,t?"g":"gi");if(this.matches=[],this.resetMark(),this.resetHighlight(),this.resetMatchIndex(),""!==e){for(n=r.exec(this.text);n;)this.matches.push({startOffset:n.index,endOffset:n.index+n[0].length}),n=r.exec(this.text);this.highlightAll(),this.mark()}},highlightAll:function(){var e=this;e.matches.forEach((function(t,n){var r=t.startOffset,o=t.endOffset;e.highlight(r,o,n+1)}))},highlight:function(t,n,r){for(var i=t;i<n;i++)e(this.targets).find("."+this.options.charClass+"["+kendo.attr("char-index")+"="+i+"]").addClass(this.options.highlightClass).attr(kendo.attr("match-index"),r)},resetHighlight:function(){e(this.targets).find("."+this.options.highlightClass).removeClass(this.options.highlightClass)},resetMatchIndex:function(){e(this.targets).find("."+this.options.charClass+"["+kendo.attr("match-index")+"]").removeAttr(kendo.attr("match-index"))},mark:function(){this.currentIndex||0===this.currentIndex?this.currentIndex>this.matches.length?this.currentIndex=this.matches.length:this.resetMark():this.currentIndex=0,e(this.targets).find("."+this.options.charClass+"["+kendo.attr("match-index")+"="+this.currentIndex+"]").wrapInner("<mark>")},resetMark:function(){e(this.targets).find("mark").contents().unwrap()},nextMatch:function(){this.currentIndex++,this.currentIndex>this.matches.length&&(this.currentIndex=1),this.mark()},previousMatch:function(){this.currentIndex--,this.currentIndex<1&&(this.currentIndex=this.matches.length),this.mark()},getMarkedIndex:function(){return this.matches.length?this.currentIndex:0},getFirstMarked:function(){return e(this.targets).find("mark").eq(0)},destroy:function(){this.resetMark(),e(this.targets).children("span:not(."+this.options.charClass+")").each((function(i,t){e(t).text(e(t).text())}))}});r(kendo.pdfviewer,{SearchDOM:l})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1484),e.exports=n(1484)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},942:function(e,t){e.exports=n(13)},943:function(e,t){e.exports=n(21)},1484:function(e,t,n){var r,o,l;n(3),o=[n(1485),n(943),n(1486),n(1487),n(942)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=e.extend,o=n.Class,l=".svg",c=".png",h=n.keys,d=o.extend({init:function(t){this.options=r(t,{actions:[{text:t.messages.dialogs.okText}]}),this._dialog=e("<div />").kendoDialog(this.options).getKendoDialog()},open:function(){this._dialog.center().open()}}),f=o.extend({init:function(e){return this.options=r(e,this.options,{fileFormats:[{description:e.messages.dialogs.exportAsDialog.png,extension:c},{description:e.messages.dialogs.exportAsDialog.svg,extension:l}],title:e.messages.dialogs.exportAsDialog.title,open:function(){this.center()}}),this._initializeDialog(),this},options:{extension:c,autoFocus:!0,resizable:!1,modal:{preventScroll:!0},width:"90%",maxWidth:520,template:"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.fileName #:</label></div><div class='k-edit-field'><input class='k-textbox' data-bind='value: name' /></div><div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div><div class='k-edit-field'><select data-role='dropdownlist' class='k-file-format' data-text-field='description' data-value-field='extension' data-bind='value: extension, source: fileFormats' /></div></div><div class='k-edit-label'><label>#: messages.exportAsDialog.labels.page #:</label></div><div class='k-edit-field'><input data-role='numerictextbox' data-format='n0' data-min='1' data-max='#: total #' data-bind='value: page' /></div><div class='k-action-buttons'><button class='k-button k-primary' data-bind='click: apply'>#: messages.save #</button><button class='k-button' data-bind='click: close'>#: messages.cancel #</button></div>"},_updateModel:function(e){e.pagesCount&&this.viewModel.set("pagesCount",e.pagesCount),e.page&&this.viewModel.set("page",e.page)},_initializeDialog:function(){var t=this.options,r=t.messages.dialogs,dialog=e("<div class='k-pdf-viewer-window k-action-window k-popup-edit-form' />").append(n.template(t.template)({total:t.pagesCount,messages:r})).kendoWindow(t).getKendoWindow();return this.viewModel=n.observable({title:r.exportAsDialog.title,name:r.exportAsDialog.defaultFileName,extension:t.extension,fileFormats:t.fileFormats,pagesCount:t.pagesCount,page:1,apply:this.apply.bind(this),close:function(){dialog.close()}}),this._dialog=dialog,n.bind(dialog.element,this.viewModel),dialog},open:function(){this._dialog.center().open()},apply:function(){this._dialog.close(),this.options.apply({fileName:this.viewModel.name+this.viewModel.extension,extension:this.viewModel.extension,page:this.viewModel.page})}}),m=o.extend({init:function(e){this.options=r({},e,this.options)},options:{resizable:!1,template:"<div class='k-search-container'><button class='k-button k-button-icon k-flat k-search-dialog-draghandle'><span class='k-icon k-i-handler-drag'></span></button><span class='k-textbox'><input class='k-search-dialog-input' data-bind='value: boundValue, events: { keyup: onKeyup, input: onInput }' aria-label='#: messages.inputLabel #' title='#: messages.inputLabel #' /><button class='k-button k-button-icon k-flat k-match-case-button' data-bind='css: {k-state-selected: matchCase}, click: matchCaseClick' aria-label='#: messages.matchCase #' title='#: messages.matchCase #'><span class='k-icon k-i-convert-lowercase'></span></button></span><span class='k-search-matches'><span data-bind='text: matchIndex'></span> #: messages.of # <span data-bind='text: matches'></span></span><button class='k-button k-button-icon k-flat' data-bind='click: prev' aria-label='#: messages.previous #' title='#: messages.previous #'><span class='k-icon k-i-arrow-up'></span></button><button class='k-button k-button-icon k-flat' data-bind='click: next' aria-label='#: messages.next #' title='#: messages.next #'><span class='k-icon k-i-arrow-down'></span></button><button class='k-button k-button-icon k-flat' data-bind='click: close' aria-label='#: messages.close #' title='#: messages.close #'><span class='k-icon k-i-close'></<span></button></div>"},open:function(){this.dialog||this._initializeDialog(),this.dialog.open()},_initializeDialog:function(){var t=this,template=n.template(t.options.template),o=e("<div class='k-pdf-viewer-search-dialog'></div>").append(template({messages:t.options.messages})),l={top:t.options.position.top+16,left:t.options.position.left+16};t.dialog=new n.ui.Window(o,r({},t.options,{autoFocus:!1,title:!1,position:{top:l.top,left:l.left},minHeight:30,draggable:{dragHandle:".k-search-dialog-draghandle"},activate:function(e){e.sender.element.find(".k-search-dialog-input").focus()}})),t.searchModel=n.observable({boundValue:"",searchText:"",matchCase:!1,matchIndex:0,matches:0,matchCaseClick:function(){this.set("matchCase",!this.matchCase)},next:t.options.next,prev:t.options.prev,close:function(){this.set("boundValue",""),t.dialog.close()},onKeyup:function(e){var t=e.keyCode,n=e.shiftKey?this.prev:this.next;t===h.ENTER&&(n(),e.preventDefault())},onInput:function(e){this.set("searchText",e.target.value)}}),n.bind(t.dialog.element,t.searchModel)}});r(n.pdfviewer,{dialogs:{ErrorDialog:d,ExportAsDialog:f,SearchDialog:m}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1485:function(e,t){e.exports=n(97)},1486:function(e,t){e.exports=n(26)},1487:function(e,t){e.exports=n(33)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){n(1482),e.exports=n(1482)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1482:function(e,t,n){var r,o,l;n(3),o=[n(1483)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=e.proxy,o=e.extend,l=e.parseJSON,progress=n.ui.progress,c=n.Class,h=c.extend({init:function(e){this.options=e,this.viewer=e.viewer,this.errorMessages=this.viewer.options.messages.errorMessages}}),d=h.extend({init:function(e){h.fn.init.call(this,e),this.upload=this.viewer.processor.upload},exec:function(){(this.viewer._upload||this._initUpload()).element.click()},_initUpload:function(){var t={select:r(this._onSelect,this),success:r(this._onSuccess,this),error:r(this._onError,this),complete:r(this._onComplete,this),showFileList:!1,multiple:!1,validation:{allowedExtensions:[".pdf"]}};this.upload&&o(t,{async:{saveUrl:this.upload.url,autoUpload:!0,saveField:this.upload.saveField}});var n=e('<input name="files" accept=".pdf" type="file" />').kendoUpload(t).getKendoUpload();return this.viewer._upload=n,n},_onComplete:function(){progress(this.viewer.pageContainer,!1)},_onSuccess:function(t){var n=l(t.response);e.isPlainObject(n)?this.viewer.processor.fromJSON(n):this.viewer._triggerError({error:n,message:this.errorMessages.parseError})},_onError:function(e){this.viewer._triggerError({error:e.XMLHttpRequest.responseText,message:this.errorMessages.notSupported})},_onSelect:function(e){var t=this,n=e.files[0];if(progress(t.viewer.pageContainer,!0),!t.viewer.trigger("open",{file:n})&&!t.upload)if(".pdf"===n.extension.toLowerCase()){var r=new FileReader;r.onload=function(e){var n=e.target.result;t.viewer.fromFile(n)},r.onerror=function(){t.viewer._triggerError({error:n,message:t.errorMessages.parseError})},r.readAsArrayBuffer(n.rawFile)}else t.viewer._triggerError({error:n,message:t.errorMessages.notSupported})}}),f=h.extend({exec:function(){var e=this.options.value;this.viewer.activatePage(e)}}),m=h.extend({exec:function(){if(this.viewer.document){var e=this.viewer.document.info&&this.viewer.document.info.title||this.viewer.options.messages.defaultFileName;this.viewer.processor.downloadFile(e)}else this.viewer._triggerError({message:this.errorMessages.notFound})}}),v=h.extend({init:function(t){t=e.extend(t,this.options),h.fn.init.call(this,t)},exec:function(){var dialog=this.viewer._saveDialog||this._initDialog();dialog._updateModel({pagesCount:this.viewer.document&&this.viewer.document.total||1,page:this.viewer.options.page}),dialog.open()},apply:function(e){var t=e.extension;".png"===t?this.viewer.exportImage(e):".svg"===t&&this.viewer.exportSVG(e)},_initDialog:function(){return this.viewer._saveDialog=new n.pdfviewer.dialogs.ExportAsDialog({apply:this.apply.bind(this),pagesCount:this.viewer.document&&this.viewer.document.total||1,messages:this.viewer.options.messages}),this.viewer._saveDialog}}),_=h.extend({exec:function(){this.viewer._toggleSelection(!0)}}),w=h.extend({exec:function(){this.viewer._toggleSelection(!1)}}),y=h.extend({init:function(e){this.viewer=e.viewer,this.viewer.searchDialog||(this.viewer.searchDialog=new n.pdfviewer.dialogs.SearchDialog({position:{top:this.viewer.pageContainer.offset().top,left:this.viewer.pageContainer.offset().left},messages:this.viewer.options.messages.dialogs.search,open:r(this._open,this),next:r(this._next,this),prev:r(this._prev,this),close:r(this._close,this)})),h.fn.init.call(this,e)},exec:function(){this.viewer.searchDialog.open()},_open:function(){this.changeHandler=r(this._change,this),this.zoomStartHandler=r(this._closeDialog,this),this.openFileHandler=r(this._closeDialog,this),this.viewer._searchDOM||(this.viewer._initSearchDOM(),this.viewer.searchDialog.searchModel.bind("change",this.changeHandler),this.viewer.bind("zoomStart",this.zoomStartHandler),this.viewer.bind("open",this.openFileHandler))},_close:function(){var e=this.viewer._searchDOM;this.viewer.searchDialog.searchModel.unbind("change",this.changeHandler),this.viewer.unbind("zoomStart",this.zoomStartHandler),this.viewer.unbind("open",this.openFileHandler),e.destroy(),delete this.viewer._searchDOM,this._updateSearchModel()},_change:function(e){var t=this.viewer._searchDOM,n=e.field,r=this.viewer.searchDialog.searchModel,o=r[n];if(t)switch(n){case"searchText":t.search(o,r.matchCase),this._updateSearchModel();break;case"matchCase":t.search(r.searchText,o),this._updateSearchModel()}},_next:function(){var e=this.viewer._searchDOM;e.matches&&e.matches.length&&(e.nextMatch(),this._updateSearchModel())},_prev:function(){var e=this.viewer._searchDOM;e.matches&&e.matches.length&&(e.previousMatch(),this._updateSearchModel())},_updateSearchModel:function(){var e=this.viewer._searchDOM,t=this.viewer.searchDialog.searchModel;e?(t.set("matches",e.matches.length),t.set("matchIndex",e.getMarkedIndex()),this._scrollToMark()):(t.set("searchText",""),t.set("matches",0),t.set("matchIndex",0),t.set("matchCase",!1))},_scrollToMark:function(){var e,t=this.viewer._searchDOM.getFirstMarked(),n=this.viewer._scroller;t.length&&(e=t.offset().top-n.scrollElement.offset().top-100,n.scrollTo(n.scrollLeft,-1*e))},_closeDialog:function(){this.viewer.searchDialog.dialog.close()}}),x=h.extend({exec:function(){var e=this,t=e.options,n=e.viewer,r=t.scale,o=0,l=e.viewer._pageNum,c=n.pageContainer[0].clientHeight,h=1,d=[];if("dpl"!==n.processingLib){r=e._calculateZoom();var f=function(){var t=e.viewer._scroller,r=n._scrollingStarted;t.scrollTop>t.scrollHeight()&&t._resize(),r||(n.activatePage(l),n._scrollingStarted=!1)};r&&(n.zoomScale=r,n._scrollingStarted=!1,n.pages.forEach((function(e){var t;-1!==n._visiblePages.indexOf(e)&&e.loaded?(d.push(e.render(r)),t=e._page.getViewport({scale:r}).height):(e.resize(r),t=e.element.height()),(o+=t)<=c&&h++})),n._visiblePagesCount!=h&&(n._visiblePagesCount=h,n._loadVisiblePages()),Promise.all(d).then((function(){f(),e._triggerZoomEnd(r)})).catch((function(){f(),e._triggerZoomEnd(r)})))}},_calculateZoom:function(){var e=this.options,t=this.viewer,n=t.options,r=t.pageContainer,o=t._visiblePages&&t._visiblePages[0].canvas,l=e.scale,c=l;if(t._allowResize=!1,t._autoFit=!1,e.zoomIn?c=l=t.zoomScale+n.zoomRate:e.zoomOut?c=l=t.zoomScale-n.zoomRate:"auto"===l?(t._allowResize=!0,c=t._autoZoomScale):"actual"===l?c=1:"fitToWidth"===l?(t._allowResize=!0,t._autoFit="fitToWidth",c=r.width()/(o.width/t.zoomScale)):"fitToPage"===l&&(t._allowResize=!0,t._autoFit="fitToPage",c=r.height()/(o.height/t.zoomScale)),!(l<n.zoomMin||l>n.zoomMax||t.trigger("zoomStart",{scale:l})))return e.updateComboBox&&t.toolbar._updateZoomComboBox(l),c},_triggerZoomEnd:function(e){this.viewer.trigger("zoomEnd",{scale:e})}}),k=h.extend({init:function(e){h.fn.init.call(this,e)},exec:function(){this.viewer.document?(this._renderPrintContainer(),this._loadAllPages()):this.viewer._triggerError({message:this.errorMessages.notFound})},_renderPrintContainer:function(){this.printContainer=e("<div></div>")},_loadAllPages:function(){for(var e,t=this,n=t.viewer.pages,r=t.viewer.zoom(),o=20,l=!0,i=0;i<n.length;i++)n[i].loaded||(l=!1,n[i].load(4/3,!0),o+=20);var c=function(){clearTimeout(e),e=setTimeout((function(){t.viewer.unbind("render",c),t._renderPrintPages(),setTimeout((function(){t._printDocument(),t.viewer.zoom(r)}),0)}),o)};l?c():t.viewer.bind("render",c)},_renderPrintPages:function(){for(var e=this.viewer.pages,i=0;i<e.length;i++)this._renderPrintImage(e[i])},_renderPrintImage:function(t){var canvas=t.canvas,div=e("<div></div>"),img="<img src='"+canvas.toDataURL()+"' width='"+t.width+"px' height='"+t.height+"px' />";div.append(img),this.printContainer.append(div)},_printDocument:function(){var e=this.viewer.pages,t=e[0].width,n=e[0].height,r=window.open("","","innerWidth="+t+",innerHeight="+n+"location=no,titlebar=no,toolbar=no");r.document.write(this.printContainer.html()),r.document.close(),r.focus(),r.print(),r.close()}});o(n.pdfviewer,{OpenCommand:d,PageChangeCommand:f,DownloadCommand:m,EnableSelectionCommand:_,EnablePanCommand:w,ExportCommand:v,PrintCommand:k,OpenSearchCommand:y,ZoomCommand:x})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},1483:function(e,t){e.exports=n(129)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1291)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1004:function(e,t){e.exports=n(25)},1007:function(e,t){e.exports=n(0)},1291:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1004)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui,o=".kendoRating",l=r.Widget,c=e.extend,h=e.proxy,d=n.keys,f=n.parseFloat,m="k-rating-item",v="k-state-focused",_="single",w="continuous",y="item",x="half",k={item:"itemTemplate",hovered:"hoveredTemplate",selected:"selectedTemplate"},C={selected:"k-state-selected",hovered:"k-state-hover",hoveredPrecise:"k-state-hover-precise"},S="part-value",T="data-value",D="value",E="title",A={widget:"k-rating k-widget",container:"k-rating-container",item:"k-rating-item",icon:"k-icon k-i-star-outline",iconSelected:"k-icon k-i-star",label:"k-rating-label",disabled:"k-state-disabled",readonly:"k-state-readonly",active:"k-state-active",hidden:"k-hidden"},I=n.template('<span class="#=styles.widget#"></span>'),M=n.template('<span class="#=styles.container#"></span>'),R=n.template('<span class="#=styles.label#"></span>'),F=n.template("<span>#=value# / #=maxValue#</span>"),P=n.template('<span class="#=styles.item#" data-value="#=value#"></span>'),z=n.template('<span class="#=icon#"></span>'),B=l.extend({init:function(element,e){l.fn.init.call(this,element,e),this.options=c({},this.options,e),this._element(),this._wrapper(),this._aria(),this._initSettings(),this._renderItems(),this._renderTooltip(),this._renderLabel(),this._selectInitial(),this._attachEvents(),n.notify(this)},events:["select","change"],options:{name:"Rating",messages:{},min:1,max:5,selection:w,precision:y,tooltip:!0,label:!0,readonly:!1,enabled:!0,selectValueOnFocus:null,itemTemplate:null,selectedTemplate:null,hoveredTemplate:null},_element:function(){this.element.attr("type","number"),this.element.addClass(A.hidden)},_wrapper:function(){this.wrapper=e(I({styles:A})),this.wrapper=this.element.wrap(this.wrapper).parent(),this.wrapper.addClass(this.element[0].className.replace(A.hidden,"")).append(e(M({styles:A}))),this.wrapper[0].style.cssText=this.element[0].style.cssText,this.container=this.wrapper.find("."+A.container)},_aria:function(){var t=this.wrapper,element=this.element,r=element.attr("id"),o=e('label[for="'+r+'"]'),l=element.attr("aria-label"),c=element.attr("aria-labelledby");if(this.wrapper.attr("tabindex",0).attr("role","slider").attr("aria-valuemin",f(this.element.attr("min"))||this.options.min).attr("aria-valuemax",f(this.element.attr("max"))||this.options.max).attr("aria-valuenow",this.options.value),l)t.attr("aria-label",l);else if(c)t.attr("aria-labelledby",c);else if(o.length){var h=o.attr("id");h||(h=(r||n.guid())+"_label",o.attr("id",h)),t.attr("aria-labelledby",h)}},_initSettings:function(){var e=this.options.precision!=y,t=this.options;t.value=f(t.value),null===t.value&&(t.value=f(this.element.val())),t.min=f(this.element.attr("min"))||this.options.min,t.max=f(this.element.attr("max"))||this.options.max,this._valueMin=e?this.options.min-.5:this.options.min,t.enabled=t.enabled&&!this.element.attr("disabled"),t.readonly=t.readonly||!!this.element.attr("readonly"),this._setState()},_renderItems:function(){for(var t=this.container,r=this.options.min,o=this.options.max,l=this.options.itemTemplate?n.template(this.options.itemTemplate):z,i=r;i<=o;i+=1){var c=e(P({styles:A,value:i}));c.append(l({icon:A.icon,index:i})),t.append(c)}},_renderTooltip:function(){var t=this.container.find("."+m);if(!0===this.options.tooltip)for(var i=0;i<t.length;i+=1)e(t[i]).attr(E,e(t[i]).data(D));else t.removeAttr(E)},_renderLabel:function(){var label=this.wrapper.find("."+A.label),t=!0===this.options.label||void 0!==this.options.label.template,template=this.options.label&&this.options.label.template?n.template(this.options.label.template):F;if(!t||null===this.value())return label.remove(),void(this.label=null);label.length||(this.label=label=e(R({styles:A})),this.wrapper.append(label)),label.html(template({styles:A,value:this.value(),maxValue:this.options.max}))},_selectInitial:function(){isNaN(this.options.value)||this.value(this.options.value)},_attachEvents:function(){var e=this.options.precision==x;this.wrapper.on("focus.kendoRating",h(this._focus,this)).on("blur.kendoRating",h(this._blur,this)).on("keydown.kendoRating",h(this._keydown,this)),this.container.on("click.kendoRating","."+m,h(this._click,this)).on("mouseenter.kendoRating","."+m,h(this._mouseenter,this)).on("mouseleave.kendoRating","."+m,h(this._mouseleave,this)).on("mousedown.kendoRating",h(this._mousedown,this)),e&&this.container.on("mousemove.kendoRating","."+m,h(this._mousemove,this))},_focus:function(){var e,t,n,r=this.container,o=this.wrapper,l=this.container.find("."+v),c=this.options.selectValueOnFocus,h=r.children().first();!this.options.enabled||this.options.readonly||this.preventFocus?this.options.readonly&&this.wrapper.addClass(v):(o.addClass(v),l.removeClass(v),null===this.value()&&null!==c&&this.value(c),e=r.find("."+C.selected).last(),t=r.find("."+C.hovered).last(),(n=(n=e.length?e:t).length?n:h).addClass(v))},_blur:function(){this.preventFocus=!1,this.wrapper.removeClass(v),this.container.find("."+v).removeClass(v),this.element.blur()},_mousedown:function(){this.preventFocus=!0},_keydown:function(t){var r,o,l,c,h=this.container,f=this.parsedValue,_=this.options.precision!=y?.5:1,w=h.find("."+m),x=h.find("."+v),k=w.index(x),C=n.support.isRtl(this.wrapper),S=isNaN(f),T=t.keyCode;this.options.enabled&&!this.options.readonly&&(r=T===d.RIGHT&&C||T===d.LEFT&&!C,o=T===d.LEFT&&C||T===d.RIGHT&&!C,r||T===d.DOWN?(l=S?w.eq(0):e(w[k-1]),c=S?this._valueMin:f-_,this._select(l,c),t.preventDefault()):o||T===d.UP?(l=S?w.eq(0):e(w[k+1]),c=S?this._valueMin:f+_,this._select(l,c),t.preventDefault()):T===d.HOME?(l=w.eq(0),this._select(l,this._valueMin),t.preventDefault()):T===d.END&&(l=w.eq(w.length-1),this._select(l),t.preventDefault()))},_getTemplateType:function(e){return this.options[e]?n.template(this.options[e]):z},_renderTemplate:function(t,n){var template=this._getTemplateType(n),r=A.icon;n!=k.selected&&n!=k.hovered||(r=A.iconSelected);for(var i=0;i<t.length;i+=1)e(t[i]).html(template({icon:r,index:e(t[i]).index()}))},_updateItemTemplates:function(e,t){var n=_==this.options.selection,r=this.options.precision==x,o=this.container.find("."+C.selected),l=n?t:t.prevAll().addBack(),c=n?o:t.nextAll(),h=k[e],d=C[e];c.removeClass(d),l.addClass(d),this._renderTemplate(l,h),(!n||n&&"selected"==e&&l.get(0)!=o.get(0))&&this._renderTemplate(c,k.item),r&&this._renderTemplate(t,k.item)},_change:function(e,t){var n=this.value();this.value(t),this.trigger("change",{target:e,oldValue:n,newValue:this.value()})},_click:function(t){var n=e(t.target).closest("."+m),r=n.attr(T);this.options.enabled&&!this.options.readonly&&(n.data(S)&&(r=n.data(S)),this._select(n,r))},_select:function(e,t){var n=isNaN(t)?e.attr(T):t;n==this.value()||n<this._valueMin||n>this.options.max||(this.trigger("select",{target:e}),this._change(e,n),this._focus())},_mouseenter:function(t){var n=e(t.target),r=n.closest("."+m);this.options.enabled&&!this.options.readonly&&(this.enableMove=!0,n.is("."+m)&&this._updateItemTemplates("hovered",r))},_mouseleave:function(t){var n,template,r=this,o=r.options.selection,l=r.options.precision==x,c=o==_,h=e(t.target).closest("."+m),d=r.container.find("."+m);r.enableMove=!1;var f=function(e){n=r.parsedValue%1!=0&&e.is(r.container.find("[data-value="+Math.ceil(r.value())+"]")),template=!e.hasClass(C.selected)&&!e.hasClass(C.hovered)||n?k.item:k.selected,r._renderTemplate(e,template),l&&n&&e.hasClass(C.selected)&&r._togglePrecisionElements(e,"selected")};if(d.removeClass(C.hovered),c)f(h);else for(var i=0;i<d.length;i+=1)f(e(d[i]))},_mousemove:function(t){var n,r,o,l=e(t.target).closest("."+m);this.enableMove&&(l.length&&(n=t.clientX,r=l.offset().left,o=Math.abs(n-r),this._togglePrecisionElements(l,"hovered"),this._updatePrecisionElements(l,o)),t.preventDefault())},_togglePrecisionElements:function(t,n){var r,o=t.find(".k-rating-precision-part"),l=this._getTemplateType(k[n]);o.length?o.html(l({icon:A.iconSelected})):(r=this.parsedValue%1!=0,(o=e("<span></span>").addClass("k-rating-precision-part")).append(l({icon:A.iconSelected})),o.width(r?t.width()/2:t.width()),t.append(o),t.append(e("<span></span>").css({width:t.width(),height:t.height(),display:"block"})),this._createUpdatePrecisionComplement(t,r))},_createUpdatePrecisionComplement:function(t,r){var o=t.find(".k-rating-precision-complement"),l=t.children().first(),c=n.support.isRtl(this.wrapper),h=c?"right":"left";o.length||(o=l.wrap(e("<span></span>").addClass("k-rating-precision-complement")).parent()),o.width(r?t.width()/2:0),o.css(h,r||c?"50%":0)},_updatePrecisionElements:function(e,t){var r=e.find(".k-rating-precision-part"),o=n.parseFloat(e.data(D)),l=n.support.isRtl(this.wrapper),c=e.width(),h=c/2,d=f(e.outerWidth()/2),m=l?t>d:t<d;e.length&&r.length&&(r.width(m?h:c),this.options.tooltip&&e.attr(E,m?o-.5:o),e.data(S,m?o-.5:o),this._createUpdatePrecisionComplement(e,m))},_updateElement:function(e){var t=null===e?"":e;this.element.val(t),null===this.value?this.wrapper.removeAttr("aria-valuenow"):this.wrapper.attr("aria-valuenow",e)},_updateItemsRendering:function(e){var t=this.options.precision==x,n=null===e?"item":"selected",r=null===e?this.container.find("."+C.selected).last():this.container.find("."+m+"[data-value='"+Math.ceil(e)+"']");null===e&&this.container.find("."+m).removeClass(C.selected),this._updateItemTemplates(n,r),t&&null!==e&&this._togglePrecisionElements(r,"selected"),this._renderLabel()},_setState:function(){var element=this.element,e=this.wrapper,t=this.options.readonly,n=this.options.enabled;t&&n?(element.attr("readonly","readonly"),e.attr("aria-readonly",!0)):(element.removeAttr("readonly"),e.removeAttr("aria-readonly")),n?(element.removeAttr("disabled"),e.removeAttr("aria-disabled"),e.attr("tabindex",0)):(element.attr("disabled","disabled"),e.attr("aria-disabled",!0),e.removeAttr("tabindex")),e.toggleClass(A.disabled,!n),e.toggleClass(A.readonly,t&&n)},value:function(e){var t=this.options.precision==x;return null===e?(this._updateElement(e),void this._updateItemsRendering(e)):null===(e=f(e))?e=f(this.element.val()):(e=Math.max(this._valueMin,Math.min(e,this.options.max)),this.parsedValue=t?f((Math.ceil(2*e)/2).toFixed(1)):Math.round(e),this._updateElement(e),void this._updateItemsRendering(e))},reset:function(){this.value(null)},enable:function(e){void 0===e&&(e=!0),this.options.enabled=e,this.options.readonly=!1,this._setState()},readonly:function(e){void 0===e&&(e=!0),this.options.readonly=e,this.options.enabled=!0,this._setState()},setOptions:function(t){this.options=e.extend(this.options,t),void 0!==t.enabled&&this.enable(t.enabled),void 0!==t.readonly&&this.readonly(t.readonly),void 0!==t.label&&this._renderLabel(),void 0!==t.tooltip&&this._renderTooltip(),void 0!==t.value&&this.value(t.value),(t.min||void 0!==t.max||void 0!==t.itemTemplate||void 0!==t.selectedTemplate||void 0!==t.hoveredTemplate)&&(this.container.empty(),this._renderItems(),this._renderLabel(),this._renderTooltip(),this._selectInitial())},destroy:function(){this.wrapper.off(o),this.container.off(o),l.fn.destroy.call(this)}});r.plugin(B)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1055)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1003:function(e,t){e.exports=n(7)},1007:function(e,t){e.exports=n(0)},1016:function(e,t){e.exports=n(3)},1025:function(e,t){e.exports=n(19)},1039:function(e,t){e.exports=n(4)},1041:function(e,t){e.exports=n(8)},1050:function(e,t){e.exports=n(88)},1051:function(e,t){e.exports=n(89)},1055:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1057),n(1058),n(1059),n(1050),n(1051),n(1016),n(1060),n(1061),n(1041),n(1062),n(1025),n(1039),n(1056),n(1003),n(1063),n(1064),n(1065),n(1066),n(1067),n(1068),n(1069),n(1070),n(1071),n(1072),n(1073),n(1074)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1056:function(e,t){e.exports=n(65)},1057:function(e,t){e.exports=n(20)},1058:function(e,t){e.exports=n(93)},1059:function(e,t){e.exports=n(66)},1060:function(e,t){e.exports=n(123)},1061:function(e,t){e.exports=n(26)},1062:function(e,t){e.exports=n(5)},1063:function(e,t){e.exports=n(17)},1064:function(e,t){e.exports=n(72)},1065:function(e,t){e.exports=n(146)},1066:function(e,t){e.exports=n(396)},1067:function(e,t){e.exports=n(399)},1068:function(e,t){e.exports=n(400)},1069:function(e,t){e.exports=n(401)},1070:function(e,t){e.exports=n(403)},1071:function(e,t){e.exports=n(405)},1072:function(e,t){e.exports=n(413)},1073:function(e,t){e.exports=n(415)},1074:function(e,t){e.exports=n(124)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(864)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},864:function(e,t,n){var r,o,l;n(3),o=[n(865)],void 0===(l="function"==typeof(r=function(){!function(e){var t=kendo.dataviz,n=t.services,r=kendo.drawing;t.SASS_THEMES=["sass","default-v2","bootstrap-v4","material-v2"],t.ExportMixin={extend:function(e,t){if(!e.exportVisual)throw new Error("Mixin target has no exportVisual method defined.");e.exportSVG=this.exportSVG,e.exportImage=this.exportImage,e.exportPDF=this.exportPDF,t||(e.svg=this.svg,e.imageDataURL=this.imageDataURL)},exportSVG:function(e){return r.exportSVG(this.exportVisual(),e)},exportImage:function(e){return r.exportImage(this.exportVisual(e),e)},exportPDF:function(e){return r.exportPDF(this.exportVisual(),e)},svg:function(){if(r.svg.Surface)return r.svg.exportGroup(this.exportVisual());throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")},imageDataURL:function(){if(!kendo.support.canvas)return null;if(r.canvas.Surface){var t=e("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),n=new r.canvas.Surface(t[0]);n.draw(this.exportVisual());var image=n._rootElement.toDataURL();return n.destroy(),t.remove(),image}throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}},n.IntlService.register({format:function(e){return kendo.format.apply(null,[e].concat(Array.prototype.slice.call(arguments,1)))},toString:kendo.toString,parseDate:kendo.parseDate}),n.TemplateService.register({compile:kendo.template}),t.Point2D=t.Point,t.Box2D=t.Box,t.mwDelta=function(e){return t.mousewheelDelta(e.originalEvent)}}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},865:function(e,t){e.exports=n(215)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(915)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},857:function(e,t){e.exports=n(17)},915:function(e,t,n){var r,o,l;n(3),o=[n(857)],void 0===(l="function"==typeof(r=function(){!function(e){var t;kendo.dataviz.autoTheme=function(n){if(!n&&t)return t;var r={chart:kendo.dataviz.chartBaseTheme()},o=e('<div style="display: none">  <div class="k-var--accent"></div>  <div class="k-var--accent-contrast"></div>  <div class="k-var--base"></div>  <div class="k-var--background"></div>  <div class="k-var--normal-background"></div>  <div class="k-var--normal-text-color"></div>  <div class="k-var--hover-background"></div>  <div class="k-var--hover-text-color"></div>  <div class="k-var--selected-background"></div>  <div class="k-var--selected-text-color"></div>  <div class="k-var--chart-error-bars-background"></div>  <div class="k-var--chart-notes-background"></div>  <div class="k-var--chart-notes-border"></div>  <div class="k-var--chart-notes-lines"></div>  <div class="k-var--chart-crosshair-background"></div>  <div class="k-var--chart-inactive"></div>  <div class="k-var--chart-major-lines"></div>  <div class="k-var--chart-minor-lines"></div>  <div class="k-var--chart-area-opacity"></div>  <div class="k-widget">      <div class="k-var--chart-font"></div>      <div class="k-var--chart-title-font"></div>      <div class="k-var--chart-label-font"></div>  </div>  <div class="k-var--series">    <div class="k-var--series-a"></div>    <div class="k-var--series-b"></div>    <div class="k-var--series-c"></div>    <div class="k-var--series-d"></div>    <div class="k-var--series-e"></div>    <div class="k-var--series-f"></div>  </div>  <div class="k-var--gauge-pointer"></div>  <div class="k-var--gauge-track"></div></div>').appendTo(document.body);function l(e,t){h(e,c(t,"backgroundColor"))}function c(e,t){return o.find(".k-var--"+e).css(t)}function h(path,e){for(var t=r,n=path.split("."),o=n.shift();n.length>0;)t=t[o]=t[o]||{},o=n.shift();t[o]=e}return l("chart.axisDefaults.crosshair.color","chart-crosshair-background"),l("chart.axisDefaults.labels.color","normal-text-color"),l("chart.axisDefaults.line.color","chart-major-lines"),l("chart.axisDefaults.majorGridLines.color","chart-major-lines"),l("chart.axisDefaults.minorGridLines.color","chart-minor-lines"),l("chart.axisDefaults.notes.icon.background","chart-notes-background"),l("chart.axisDefaults.notes.icon.border.color","chart-notes-border"),l("chart.axisDefaults.notes.line.color","chart-notes-lines"),l("chart.axisDefaults.title.color","normal-text-color"),l("chart.chartArea.background","background"),l("chart.legend.inactiveItems.labels.color","chart-inactive"),l("chart.legend.inactiveItems.markers.color","chart-inactive"),l("chart.legend.labels.color","normal-text-color"),l("chart.seriesDefaults.boxPlot.downColor","chart-major-lines"),l("chart.seriesDefaults.boxPlot.mean.color","base"),l("chart.seriesDefaults.boxPlot.median.color","base"),l("chart.seriesDefaults.boxPlot.whiskers.color","accent"),l("chart.seriesDefaults.bullet.target.color","accent"),l("chart.seriesDefaults.candlestick.downColor","normal-text-color"),l("chart.seriesDefaults.candlestick.line.color","normal-text-color"),l("chart.seriesDefaults.errorBars.color","chart-error-bars-background"),l("chart.seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),l("chart.seriesDefaults.icon.border.color","chart-major-lines"),l("chart.seriesDefaults.labels.background","background"),l("chart.seriesDefaults.labels.color","normal-text-color"),l("chart.seriesDefaults.notes.icon.background","chart-notes-background"),l("chart.seriesDefaults.notes.icon.border.color","chart-notes-border"),l("chart.seriesDefaults.notes.line.color","chart-notes-lines"),l("chart.seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),l("chart.seriesDefaults.verticalBoxPlot.mean.color","base"),l("chart.seriesDefaults.verticalBoxPlot.median.color","base"),l("chart.seriesDefaults.verticalBoxPlot.whiskers.color","accent"),l("chart.seriesDefaults.verticalBullet.target.color","accent"),l("chart.seriesDefaults.waterfall.line.color","chart-major-lines"),l("chart.title.color","normal-text-color"),h("chart.seriesDefaults.labels.opacity",c("chart-area-opacity","opacity")),l("diagram.shapeDefaults.fill.color","accent"),l("diagram.shapeDefaults.content.color","accent-contrast"),l("diagram.shapeDefaults.connectorDefaults.fill.color","normal-text-color"),l("diagram.shapeDefaults.connectorDefaults.stroke.color","accent-contrast"),l("diagram.shapeDefaults.connectorDefaults.hover.fill.color","accent-contrast"),l("diagram.shapeDefaults.connectorDefaults.hover.stroke.color","normal-text-color"),l("diagram.editable.resize.handles.stroke.color","normal-text-color"),l("diagram.editable.resize.handles.fill.color","normal-background"),l("diagram.editable.resize.handles.hover.stroke.color","normal-text-color"),l("diagram.editable.resize.handles.hover.fill.color","normal-text-color"),l("diagram.selectable.stroke.color","normal-text-color"),l("diagram.connectionDefaults.stroke.color","normal-text-color"),l("diagram.connectionDefaults.content.color","normal-text-color"),l("diagram.connectionDefaults.selection.handles.fill.color","accent-contrast"),l("diagram.connectionDefaults.selection.handles.stroke.color","normal-text-color"),l("diagram.connectionDefaults.selection.stroke.color","normal-text-color"),l("gauge.pointer.color","gauge-pointer"),l("gauge.scale.labels.color","normal-text-color"),l("gauge.scale.minorTicks.color","normal-text-color"),l("gauge.scale.majorTicks.color","normal-text-color"),l("gauge.scale.line.color","normal-text-color"),l("gauge.scale.rangePlaceholderColor","gauge-track"),function(){function e(e){return c(e,"fontSize")+" "+c(e,"fontFamily")}var t=e("chart-font"),n=e("chart-title-font"),r=e("chart-label-font");h("chart.axisDefaults.labels.font",r),h("chart.axisDefaults.notes.label.font",t),h("chart.axisDefaults.title.font",t),h("chart.legend.labels.font",t),h("chart.seriesDefaults.labels.font",r),h("chart.seriesDefaults.notes.label.font",t),h("chart.title.font",n)}(),h("chart.seriesColors",e(".k-var--series div").toArray().reduce((function(t,n){return t[function(e){return e.match(/series-([a-z])$/)[1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0)}(n.className)]=e(n).css("backgroundColor"),t}),[])),o.remove(),t=r,r}}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(917)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},917:function(e,t,n){var r,o,l;n(3),o=[n(918)],void 0===(l="function"==typeof(r=function(){return function(e){var t,n,r=window.kendo,o=r.dataviz.ui,l=r.deepExtend,c="#fff",h=r.dataviz.chartBaseTheme({gradients:!0}),d={scale:{labels:{font:"12px Arial,Helvetica,sans-serif"}}},f={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}},m=o.themes,v=o.registerTheme=function(e,t){var n={};n.chart=l({},h,t.chart),n.gauge=l({},d,t.gauge),n.diagram=l({},f,t.diagram),n.treeMap=l({},t.treeMap);var r=n.chart.seriesDefaults;r.verticalLine=l({},r.line),r.verticalArea=l({},r.area),r.rangeArea=l({},r.area),r.verticalRangeArea=l({},r.rangeArea),r.verticalBoxPlot=l({},r.boxPlot),r.polarArea=l({},r.radarArea),r.polarLine=l({},r.radarLine),m[e]=n};function _(t,n){return e.map(t,(function(e,t){return[[e,n[t]]]}))}v("black",{chart:{title:{color:c},legend:{labels:{color:c},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:c},errorBars:{color:c},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:c},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:c},border:{_brightness:1.5,opacity:1},highlight:{border:{color:c,opacity:.2}}},ohlc:{line:{color:c}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:c},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:c},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:c},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:c},minorTicks:{color:c},majorTicks:{color:c},line:{color:c}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:c},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:c}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:c}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:c}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}}),v("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:"#000",background:c,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}}),v("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:c},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:c}}},content:{color:c}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:c}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:c}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:c}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}}),v("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:"#000",background:c,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:c},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}}),v("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:c},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}}),v("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#000"},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:"#000"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#000"}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:c},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}}),v("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:c},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:c}}},content:{color:c}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:c}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}}),v("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:c,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:c},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:c},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:c}}},content:{color:c}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:c}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:c}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:"#414550"},stroke:{color:c}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}}),v("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:c},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}}),v("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:c},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}}),v("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:c},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}}),v("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:c},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),v("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:c},hover:{fill:{color:c},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:c},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:c},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),function(){var e="#333333",t="#c8c8c8",n=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"],r=n[0];function o(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:t}}}v("fiori",{chart:{title:{color:e},legend:{labels:{color:e},inactiveItems:{labels:{color:"#7f7f7f"},markers:{color:"#7f7f7f"}}},seriesDefaults:{labels:{color:e},errorBars:{color:e},notes:o(),candlestick:{downColor:t,line:{color:"#bdbdbd"}},area:{opacity:.8},waterfall:{line:{color:t}},horizontalWaterfall:{line:{color:t}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:n,axisDefaults:{line:{color:t},labels:{color:e},minorGridLines:{color:"#dddddd"},majorGridLines:{color:t},title:{color:e},crosshair:{color:"#7f7f7f"},notes:o()}},gauge:{pointer:{color:r},scale:{rangePlaceholderColor:t,labels:{color:e},minorTicks:{color:e},majorTicks:{color:e},line:{color:e}}},diagram:{shapeDefaults:{fill:{color:r},connectorDefaults:{fill:{color:e},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:e}}},content:{color:e}},editable:{resize:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"},hover:{fill:{color:"#bdbdbd"},stroke:{color:"#bdbdbd"}}}},rotate:{thumb:{stroke:{color:"#bdbdbd"},fill:{color:"#bdbdbd"}}}},selectable:{stroke:{color:"#bdbdbd"}},connectionDefaults:{stroke:{color:"#bdbdbd"},content:{color:"#bdbdbd"},selection:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"}},stroke:{color:"#bdbdbd"}}}},treeMap:{colors:_(n,["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"])}})}(),function(){var e="#4e4e4e",t="#c8c8c8",n=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"],r=n[0];function o(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:t}}}v("office365",{chart:{title:{color:e},legend:{labels:{color:e},inactiveItems:{labels:{color:"#7f7f7f"},markers:{color:"#7f7f7f"}}},seriesDefaults:{labels:{color:e},errorBars:{color:e},notes:o(),candlestick:{downColor:t,line:{color:"#bdbdbd"}},area:{opacity:.8},waterfall:{line:{color:t}},horizontalWaterfall:{line:{color:t}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:n,axisDefaults:{line:{color:t},labels:{color:e},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:t},title:{color:e},crosshair:{color:"#7f7f7f"},notes:o()}},gauge:{pointer:{color:r},scale:{rangePlaceholderColor:t,labels:{color:e},minorTicks:{color:e},majorTicks:{color:e},line:{color:e}}},diagram:{shapeDefaults:{fill:{color:r},connectorDefaults:{fill:{color:e},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:e}}},content:{color:e}},editable:{resize:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"},hover:{fill:{color:"#bdbdbd"},stroke:{color:"#bdbdbd"}}}},rotate:{thumb:{stroke:{color:"#bdbdbd"},fill:{color:"#bdbdbd"}}}},selectable:{stroke:{color:"#bdbdbd"}},connectionDefaults:{stroke:{color:"#bdbdbd"},content:{color:"#bdbdbd"},selection:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"}},stroke:{color:"#bdbdbd"}}}},treeMap:{colors:_(n,["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"])}})}(),function(){var e="#32364c",t="#dfe0e1",n=["#ff4350","#ff9ea5","#00acc1","#80deea","#ffbf46","#ffd78c"],r=n[0];function o(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:t}}}v("nova",{chart:{title:{color:e},legend:{labels:{color:e},inactiveItems:{labels:{color:"#7f7f7f"},markers:{color:"#7f7f7f"}}},seriesDefaults:{labels:{color:e},errorBars:{color:e},notes:o(),candlestick:{downColor:t,line:{color:"#bdbdbd"}},area:{opacity:.8},waterfall:{line:{color:t}},horizontalWaterfall:{line:{color:t}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:n,axisDefaults:{line:{color:t},labels:{color:e},minorGridLines:{color:"#dfe0e1"},majorGridLines:{color:t},title:{color:e},crosshair:{color:e},notes:o()}},gauge:{pointer:{color:r},scale:{rangePlaceholderColor:t,labels:{color:e},minorTicks:{color:e},majorTicks:{color:e},line:{color:e}}},diagram:{shapeDefaults:{fill:{color:r},connectorDefaults:{fill:{color:e},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:e}}},content:{color:e}},editable:{resize:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"},hover:{fill:{color:"#bdbdbd"},stroke:{color:"#bdbdbd"}}}},rotate:{thumb:{stroke:{color:"#bdbdbd"},fill:{color:"#bdbdbd"}}}},selectable:{stroke:{color:"#bdbdbd"}},connectionDefaults:{stroke:{color:"#bdbdbd"},content:{color:"#bdbdbd"},selection:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"}},stroke:{color:"#bdbdbd"}}}},treeMap:{colors:_(n,["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}})}(),v("default-v2",{chart:{},gauge:{},diagram:{},treeMap:{colors:_(["#ff6358","#ffd246","#78d237","#28b4c8","#2d73f5","#aa46be"],["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}}),m.sass=m["default-v2"],v("bootstrap-v4",{chart:{},gauge:{pointer:{color:(n=["#0275d8","#5bc0de","#5cb85c","#f0ad4e","#e67d4a","#d9534f"])[0]},scale:{rangePlaceholderColor:"rgba(0, 0, 0, .04)",labels:{color:t="#292b2c"},minorTicks:{color:t},majorTicks:{color:t},line:{color:t}}},diagram:{},treeMap:{colors:_(n,["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},918:function(e,t){e.exports=n(216)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(854)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},854:function(e,t,n){var r,o,l;n(3),o=[n(855),n(856),n(857),n(858),n(859),n(860)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=".kendoChart",r=window.kendo,o=r.Class,l=r._outerWidth,c=r._outerHeight,h=r.dataviz,d=h.constants,f=h.Chart,m=h.SeriesBinder,v=r.ui.Widget,_=r.data.DataSource,w=r.deepExtend,y=h.defined,x=h.getField,k=h.InstanceObserver,C=h.inArray,S=h.services,T=e.proxy,D=e.isArray,E=e.extend,template=r.template,A="mouseleave"+n,I=d.AXIS_LABEL_CLICK,M=d.LEGEND_ITEM_CLICK,R=d.LEGEND_ITEM_HOVER,F=d.LEGEND_ITEM_LEAVE,P=d.SERIES_CLICK,z=d.SERIES_HOVER,B=d.SERIES_OVER,L=d.SERIES_LEAVE,H=d.PANE_RENDER,N=d.PLOT_AREA_CLICK,O=d.PLOT_AREA_HOVER,V=d.PLOT_AREA_LEAVE,W=d.DRAG,U=d.DRAG_END,j=d.DRAG_START,G=d.ZOOM_START,$=d.ZOOM,Y=d.ZOOM_END,K=d.SELECT_START,Q=d.SELECT,X=d.SELECT_END,J=d.RENDER,Z=d.NOTE_CLICK,ee=d.NOTE_HOVER,te=d.NOTE_LEAVE,ie=d.VALUE,ne=d.PIE,re=d.DONUT,oe=d.FUNNEL,se=r.Observable;S.DomEventsBuilder.register({create:function(element,e){return new r.UserEvents(element,w({global:!0,multiTouch:!0,fastTap:!0},e))}});var ae=k.extend({handlerMap:{showTooltip:"_showTooltip",hideTooltip:"_hideTooltip",legendItemClick:"_onLegendItemClick",render:"_onRender",init:"_onInit"}}),le=v.extend({init:function(element,e){var t;r.destroy(element),v.fn.init.call(this,element),e&&(t=e.dataSource,delete e.dataSource),this.options=w({},this.options,e),this.wrapper=this.element,this._attachEvents(),e&&(e.dataSource=t),this._seriesVisibility=new pe,this.bind(this.events,this.options),this._initDataSource(e),r.notify(this,h.ui)},events:["dataBound",P,z,B,L,I,M,R,F,H,N,O,V,j,W,U,G,$,Y,K,Q,X,Z,ee,te,J],options:{name:"Chart",renderAs:"",theme:"default",axisDefaults:{},chartArea:{},legend:{},categoryAxis:{},autoBind:!0,seriesDefaults:{},series:[],seriesColors:null,tooltip:{},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1},items:function(){return e()},refresh:function(){var e=this._instance;e.applyDefaults(this.options),e.applySeriesColors(),this._bindSeries(),this._bindCategories(),this.trigger("dataBound"),this._redraw()},getSize:function(){return r.dimensions(this.element)},redraw:function(e){this._size=null,this._instance.redraw(e)},setOptions:function(e){var t=e.dataSource;delete e.dataSource,v.fn._setEvents.call(this,e),this._instance.applyOptions(e,this._getThemeOptions(e)),this.options=this._instance.options,this._tooltip.setOptions(this.options.tooltip),this._seriesVisibility.setOptions(this.options),this._sourceSeries=null,t&&this.setDataSource(t),this._hasDataSource?this._onDataChanged():(this._bindCategories(),this.redraw()),this._instance.updateMouseMoveHandler()},setDataSource:function(e){this.dataSource.unbind("change",this._dataChangeHandler),this.dataSource=e=_.create(e),this._hasDataSource=!0,this._hasData=!1,e.bind("change",this._dataChangeHandler),this.options.autoBind&&e.fetch()},destroy:function(){var e=this.dataSource;this.element.off(n),e&&e.unbind("change",this._dataChangeHandler),this._instance&&(this._instance.destroy(),delete this._instance),this._tooltip&&(this._tooltip.destroy(),delete this._tooltip),this._destroyCrosshairTooltips(),v.fn.destroy.call(this)},findPaneByName:function(e){for(var t=this._plotArea.panes,n=0;n<t.length;n++)if(t[n].options.name===e)return new ve(this,t[n])},findPaneByIndex:function(e){var t=this._plotArea.panes;if(t[e])return new ve(this,t[e])},findSeries:function(e){for(var t=this._plotArea,n=t.srcSeries||t.series,r=0;r<n.length;r++)if(e(n[r]))return new _e(this,n[r])},findSeriesByName:function(e){return this._createSeries({name:e})},findSeriesByIndex:function(e){return this._createSeries({index:e})},exportVisual:function(e){var t=this._instance;if(t){var n;if(e&&(e.width||e.height)){var r=t.options.chartArea,o=t._originalOptions.chartArea;w(r,e);var l=t._getModel();r.width=o.width,r.height=o.height,l.renderVisual(),function(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}(l._plotArea.panes),n=l.visual}else n=t.exportVisual();return n}},_createSeries:function(e){var t=this._seriesOptions(e);if(t)return new _e(this,t)},_seriesOptions:function(e){var t,n=this._plotArea,r=n.srcSeries||n.series;if(y(e.index))t=r[e.index];else if(y(e.name))for(var o=0;o<r.length;o++)if(r[o].name===e.name){t=r[o];break}return t},_attachEvents:function(){this.element.on(A,T(this._mouseleave,this))},_mouseleave:function(t){var n=this._instance,r=this._tooltip,o=t.relatedTarget;o&&e(o).closest(r.element).length||!n||n.handlingTap||n.hideElements()},_getThemeOptions:function(e){var t=(e||{}).theme;if(t&&-1!==h.SASS_THEMES.indexOf(t.toLowerCase()))return h.autoTheme().chart;if(y(t)){var n=h.ui.themes||{};return(n[t]||n[t.toLowerCase()]||{}).chart||{}}},_initChart:function(){this._createChart(this.options,this._getThemeOptions(this.options)),this.options=this._instance.options,this._seriesVisibility.setOptions(this.options)},_createChart:function(e,t){this._instance=new f(this.element[0],e,t,{observer:new ae(this),sender:this,rtl:this._isRtl()})},_onInit:function(e){this._instance=e.sender},_initDataSource:function(e){var t=(e||{}).dataSource;this._dataChangeHandler=T(this._onDataChanged,this),this.dataSource=_.create(t).bind("change",this._dataChangeHandler),this._bindCategories(),t&&(this._hasDataSource=!0),this._initChart(),this._initTooltip(),t&&this.options.autoBind&&this.dataSource.fetch()},_destroyCrosshairTooltips:function(){var e=this._crosshairTooltips;if(e)for(var t in e)e[t].destroy();this._crosshairTooltips={}},_getCrosshairTooltip:function(e,t){var n=this._crosshairTooltips=this._crosshairTooltips||{},r=e+t,o=n[r];return o||(o=n[r]=new me(this.element)),o},_showTooltip:function(e){e.crosshair?this._getCrosshairTooltip(e.axisName,e.axisIndex).show(e):this._tooltip&&this._tooltip.show(e)},_hideTooltip:function(e){e.crosshair?this._getCrosshairTooltip(e.axisName,e.axisIndex).hide():this._tooltip&&this._tooltip.hide(e)},_onRender:function(e){this._destroyCrosshairTooltips(),this._copyMembers(e.sender),this._hasDataSource&&!this._hasData&&this.options.autoBind||this.trigger(J)},_copyMembers:function(e){this.options=e.options,this._originalOptions=e._originalOptions,this.surface=e.surface,this._plotArea=e._plotArea,this._model=e._model,this._highlight=e._highlight,this._selections=e._selections,this._pannable=e._pannable,this._zoomSelection=e._zoomSelection,this._mousewheelZoom=e._mousewheelZoom},requiresHandlers:function(e){for(var t=this._events,n=0;n<e.length;n++)if(y(t[e[n]]))return!0},_initTooltip:function(){this._tooltip=this._createTooltip(),this._tooltip.bind("leave",T(this._tooltipleave,this))},_onLegendItemClick:function(e){this.trigger(M,e)||this._legendItemClick(e.seriesIndex,e.pointIndex)},_legendItemClick:function(t,n){var r=this._instance,o=r._plotArea,l=(o.srcSeries||o.series)[t];if(e.inArray(l.type,[ne,re,oe])>=0){var c=l.data[n];if(c&&y(c.visible))c.visible=!c.visible;else{var h=l.pointVisibility=l.pointVisibility||{},d=h[n];h[n]=!!y(d)&&!d}}else l.visible=!l.visible,this._seriesVisibility.save(l);r._noTransitionsRedraw()},_createTooltip:function(){return new ge(this.element,E({},this.options.tooltip,{rtl:this._isRtl()}))},_tooltipleave:function(){this._instance&&this._instance.hideElements()},_bindData:function(e){var t,n,r,o=this.options,l=this._sourceSeries||o.series,c=l.length,data=this.dataSource.view(),h=(this.dataSource.group()||[]).length>0,d=[],f=this._seriesVisibility;for(f.read(),t=0;t<c;t++)n=l[t],this._isBindable(n)&&h?(r=ue(n,data),d=d.concat(r),f.applyByGroup(r,e)):(n=E({},n),d.push(n),f.applyByIndex(n,e));this._sourceSeries=l,o.series=d,this._instance.applySeriesColors(),this._bindSeries(),this._bindCategories(),this._hasData=!0},_onDataChanged:function(e){this._bindData(e),this.trigger("dataBound"),this._instance&&this._instance.fontLoaded&&this._redraw()},_bindSeries:function(){var e,t,n,r,data=this.dataSource.view(),o=this.options.series,l=o.length;for(e=0;e<l;e++)t=o[e],this._isBindable(t)&&(n=t._groupIx,r=y(n)?(data[n]||{}).items:data,!1!==t.autoBind&&(t.data=r))},_bindCategories:function(){var e,t,data=this.dataSource.view()||[],n=(this.dataSource.group()||[]).length>0,r=data,o=this.options,l=[].concat(o.categoryAxis);for(n&&data.length&&(r=data[0].items),e=0;e<l.length;e++)!1!==(t=l[e]).autoBind&&this._bindCategoryAxis(t,r,e)},_bindCategoryAxis:function(e,data,t){var n,r,o,l=(data||[]).length;if(e.field)for(e.categories=[],n=0;n<l;n++)o=data[n],r=x(e.field,o),0===n?(e.categories=[r],e.dataItems=[o]):(e.categories.push(r),e.dataItems.push(o));else this._instance&&this._instance.bindCategoryAxisFromSeries(e,t)},_isBindable:function(e){var t,i,n=m.current.valueFields(e),r=!0;for(i=0;i<n.length;i++)if((t=n[i])===ie?t="field":t+="Field",!y(e[t])){r=!1;break}return r},_isRtl:function(){return r.support.isRtl(this.element)&&"rtl"===this.element.css("direction")}}),ce=["getAxis","findAxisByName","plotArea","toggleHighlight","showTooltip","hideTooltip","_resize","_redraw","_noTransitionsRedraw","_legendItemHover","_eventCoordinates"];function he(e){le.fn[e]=function(){var t=this._instance;if(t)return t[e].apply(t,arguments)}}for(var de=0;de<ce.length;de++)he(ce[de]);function ue(e,data){var n,o,l,c=[],h=e.groupNameTemplate,d=data.length;if(0===d)return(l=w({},e)).visibleInLegend=!1,[l];for(y(h)?(r.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),h&&(n=template(h))):0===(n=template(e.name||""))._slotCount&&(n=template(y(e.name)?"#= group.value #: #= series.name #":"#= group.value #")),o=0;o<d;o++)l=w({},e),r.isFunction(l.color)||(l.color=t),l._groupIx=o,l._groupValue=data[o].value,c.push(l),n&&(l.name=n({series:l,group:data[o]}));return c}h.ExportMixin.extend(le.fn),r.PDFMixin&&r.PDFMixin.extend(le.fn),h.ui.plugin(le);var pe=o.extend({init:function(){this.groups={},this.index={},this.options={}},applyByGroup:function(e,t){if(t&&t.action||this.options.persistSeriesVisibility)for(var n=0;n<e.length;n++)!1===this.groups[e[n]._groupValue]&&(e[n].visible=!1);else this.groups={}},applyByIndex:function(e,t){t&&t.action||this.options.persistSeriesVisibility?!1===this.index[e.index]&&(e.visible=!1):this.index={}},save:function(e){e&&(this.options.persistSeriesVisibility?this.options.series[e.index].visible=e.visible:this.saveState(e))},setOptions:function(e){this.options=e,this.groups={},this.index={}},read:function(){var e=this.options;if(e.persistSeriesVisibility)for(var t=e.series,n=0;n<t.length;n++)this.saveState(t[n])},saveState:function(e){y(e._groupValue)?this.groups[e._groupValue]=e.visible:this.index[e.index]=e.visible}}),fe=r.geometry,ge=se.extend({init:function(t,n){se.fn.init.call(this),this.setOptions(n),this.chartElement=t,this.template=ge.template,this.template||(this.template=ge.template=r.template("<div class='k-tooltip k-chart-tooltip#= d.rtl ? \" k-rtl\" : \"\"#' style='display:none; position: absolute; font: #= d.font #;#if (d.border) {# border: #= d.border.width #px solid; #}#opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>",{useWithBlock:!1,paramName:"d"})),this.element=e(this.template(this.options)),this.move=T(this.move,this),this._mouseleave=T(this._mouseleave,this);var o=r.format("[{0}='content'],[{0}='scroller']",r.attr("role"));this._mobileScroller=t.closest(o).data("kendoMobileScroller")},destroy:function(){this._clearShowTimeout(),this.element&&(this.element.off(A).remove(),this.element=null)},setOptions:function(e){this.options=w({},this.options,e)},options:{opacity:1,animation:{duration:150},sharedTemplate:"<table><th colspan='#= colspan #'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(colorMarker) { # <td><span class='k-chart-shared-tooltip-marker' style='background-color:#:point.series.color#'></span></td># } ## if(nameColumn) { # <td> #if (point.series.name) {# #: point.series.name #: #} else {# &nbsp; #}#</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},move:function(){var e,t=this.options,element=this.element;this.anchor&&this.element&&(e=this._offset(),this.visible||element.css({top:e.top,left:e.left}),this.visible=!0,this._ensureElement(document.body),element.stop(!0,!0).show().animate({left:e.left,top:e.top},t.animation.duration))},_clearShowTimeout:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},getAnchor:function(e){var t=this.anchor,n=t.point,r=t.align,o=n.left,l=n.top;return"center"===r.horizontal?o-=e.width/2:"right"===r.horizontal&&(o-=e.width),"center"===r.vertical?l-=e.height/2:"bottom"===r.vertical&&(l-=e.height),{x:o,y:l}},_offset:function(){var t=this._measure(),n=this.getAnchor(t),o=n.y,h=n.x,d=r.support.zoomLevel(),f=e(window),m=window.pageYOffset||document.documentElement.scrollTop||0,v=window.pageXOffset||document.documentElement.scrollLeft||0,_=(this._mobileScroller||{}).movable;if(_&&1!==_.scale){var w=fe.transform().scale(_.scale,_.scale,[_.x,_.y]),y=new fe.Point(h,o).transform(w);h=y.x,o=y.y}else o+=this._fit(o-m,t.height,c(f)/d),h+=this._fit(h-v,t.width,l(f)/d);return{top:o,left:h}},show:function(e){this.anchor=e.anchor,this.element.css(function(style){for(var e in style)style[e]===t&&(style[e]="");return style}(e.style)),this.element.toggleClass("k-chart-tooltip-inverse",!!e.className),this.element.toggleClass("k-chart-shared-tooltip",!!e.shared);var content=e.shared?this._sharedContent(e):this._pointContent(e.point);this.element.html(content),this._clearShowTimeout(),this.showTimeout=setTimeout(this.move,100)},hide:function(){clearTimeout(this.showTimeout),this._hideElement(),this.visible&&(this.point=null,this.visible=!1,this.index=null)},_sharedContent:function(e){var t=e.points,n=h.grep(t,(function(e){return y(e.series.name)})).length,o=e.series.length>1,l=1;return n&&l++,o&&l++,r.template(this.options.sharedTemplate)({points:t,category:e.category,categoryText:e.categoryText,content:this._pointContent,colorMarker:o,nameColumn:n,colspan:l})},_measure:function(){return this._ensureElement(),{width:l(this.element),height:c(this.element)}},_ensureElement:function(){this.element&&this.element.appendTo(document.body).on(A,this._mouseleave)},_mouseleave:function(t){var n=t.relatedTarget,r=this.chartElement[0];n&&n!==r&&!e.contains(r,n)&&this.trigger("leave")},_hideElement:function(){var e=this,element=this.element;element&&element.fadeOut({always:function(){e.visible||element.off(A).remove()}})},_pointContent:function(e){var content,t=w({},this.options,e.options.tooltip);return y(e.value)&&(content=e.value.toString()),t.template?content=template(t.template)({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage,runningTotal:e.runningTotal,total:e.total,low:e.low,high:e.high,xLow:e.xLow,xHigh:e.xHigh,yLow:e.yLow,yHigh:e.yHigh}):t.format&&(content=e.formatValue(t.format)),content},_fit:function(e,t,n){var output=0;return e+t>n&&(output=n-(e+t)),e<0&&(output=-e),output}}),me=ge.extend({init:function(e,t){ge.fn.init.call(this,e,t),this.element.addClass("k-chart-crosshair-tooltip")},show:function(e){this.element&&(this.anchor=e.anchor,this.element.css(e.style),this.element.html(this.content(e)),this.move())},move:function(){var element=this.element,e=this._offset();this._ensureElement(),element.css({top:e.top,left:e.left}).show()},content:function(e){var content=e.value,t=e.crosshair.options.tooltip;return t.template&&(content=template(t.template)({value:content})),content},hide:function(){this.element.hide()}}),ve=o.extend({init:function(e,t){this._chart=e,this._pane=t,this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this.name=t.options.name},series:function(){var e=this._chart,t=e._plotArea.groupSeriesByPane()[this.name||"default"],n=[];if(t)for(var r=0;r<t.length;r++)n.push(new _e(e,t[r]));return n}}),_e=o.extend({init:function(e,t){this._chart=e,this._options=t},points:function(filter){var e=this._points;if(!e){var t=this._seriesOptions(),n=this._chart._plotArea;this._points=e=n.pointsBySeriesIndex(t.index)}return r.isFunction(filter)&&(e=this._filterPoints(e,filter)),e},data:function(data){var e=this._seriesOptions();if(data){var t=this._chart,n=t._plotArea;if(e.data=data,e.categoryField){var r=n.seriesCategoryAxis(e),o=[].concat(t.options.categoryAxis);t._instance.bindCategoryAxisFromSeries(o[r.axisIndex],r.axisIndex)}t._noTransitionsRedraw(),this._clearFields()}return e.data},findPoint:function(filter){for(var e=this.points(),t=0;t<e.length;t++)if(filter(e[t]))return e[t]},toggleHighlight:function(e,t){t=t?r.isFunction(t)?this.points(t):D(t)?t:[t]:this.points(),this._chart._instance.togglePointsHighlight(e,t)},toggleVisibility:function(e,filter){var t=this._chart,n=this._seriesOptions();if(r.isFunction(filter))if(C(n.type,[ne,re,oe]))for(var data=this._filterData(filter),o=0;o<data.length;o++)data[o].visible=e;else n.visible=function(data){return!filter(data.dataItem)||e};else n.visible=e,t._seriesVisibility.save(n);t._noTransitionsRedraw(),this._clearFields()},_filterData:function(filter){for(var data=this._seriesOptions().data,e=data.length,t=[],n=0;n<e;n++)filter(data[n])&&t.push(data[n]);return t},_filterPoints:function(e,filter){for(var t=[],n=e.length,r=0;r<n;r++)filter(e[r])&&t.push(e[r]);return t},_seriesOptions:function(){var e=this._series;return e||(e=this._series=this._chart._seriesOptions(this._options)),e},_clearFields:function(){delete this._points,delete this._series}});h.Tooltip=ge,h.CrosshairTooltip=me,h.ChartInstanceObserver=ae,h.ChartPane=ve,h.ChartSeries=_e}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},855:function(e,t){e.exports=n(217)},856:function(e,t){e.exports=n(3)},857:function(e,t){e.exports=n(17)},858:function(e,t){e.exports=n(72)},859:function(e,t){e.exports=n(7)},860:function(e,t){e.exports=n(8)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1089)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1064:function(e,t){e.exports=n(72)},1089:function(e,t,n){var r,o,l;n(3),o=[n(1090),n(1064)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1090:function(e,t){e.exports=n(397)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(884)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},884:function(e,t,n){var r,o,l;n(3),o=[n(885)],void 0===(l="function"==typeof(r=function(){return function(e){var t=window.kendo,n=t.ui.Widget,r=t.dataviz,o=r.LinearGauge,l=r.RadialGauge,c=r.ArcGauge,h=t.drawing;function d(e){var t=r.ui.themes||{},n=e.theme||"",o=n.toLowerCase();return-1!=r.SASS_THEMES.indexOf(o)?r.autoTheme().gauge:(t[n]||t[o]||{}).gauge}var f=n.extend({init:function(element,o){t.destroy(element),e(element).empty(),n.fn.init.call(this,element),this.options=t.deepExtend(this.options,o),this.wrapper=this.element,this._createInstance(),this.element.addClass("k-gauge"),t.notify(this,r.ui)},options:{theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{background:""},transitions:!0},setOptions:function(e){this._instance.setOptions(e,d(e)),this._copyFields()},redraw:function(){this._instance.redraw(),this._copyFields()},destroy:function(){n.fn.destroy.call(this),this._instance.destroy()},_createInstance:function(){var e=this._gaugeType();this._instance=new e(this.element[0],this.options,d(this.options)),this._copyFields()},_copyFields:function(){this._originalOptions=this._instance._originalOptions,this.options=this._instance.options,this.surface=this._instance.surface,this.bbox=this._instance.bbox,this.gaugeArea=this._instance.gaugeArea,this.pointers=this._instance.pointers,this.scale=this._instance.scale},_resize:function(){this._instance.resize()}}),m=["getSize","value","allValues","exportVisual"];function v(e){f.fn[e]=function(){return this._instance[e].apply(this._instance,arguments)}}for(var _=0;_<m.length;_++)v(m[_]);r.ExportMixin.extend(f.fn);var w=f.extend({options:{name:"RadialGauge"},_gaugeType:function(){return l}}),y=f.extend({options:{name:"LinearGauge",scale:{vertical:!0}},_gaugeType:function(){return o}}),x=f.extend({init:function(element,e){f.fn.init.call(this,element,e),this.element.css("position","relative"),this.element.addClass("k-arcgauge"),this._centerTemplate()},options:{name:"ArcGauge"},setOptions:function(e){f.fn.setOptions.call(this,e),this._centerTemplate()},redraw:function(){f.fn.redraw.call(this),this._centerTemplate()},value:function(e){var t=this._instance;if(0===arguments.length)return t.value();t.value(e),this._centerTemplate()},destroy:function(){f.fn.destroy.call(this),delete this._centerElement},exportVisual:function(){return!this._centerElement&&f.fn.exportVisual.call(this)},_resize:function(){this._instance.resize(),this._centerTemplate()},_centerTemplate:function(){if(this.options.centerTemplate){var template=t.template(this.options.centerTemplate),e=this._instance,n=this._getCenterElement();n.html(template({color:e.currentColor(),value:e.value()}));var r=e.centerLabelPosition(n.width(),n.height());n.css(r)}else this._centerElement&&(this._centerElement.remove(),this._centerElement=null)},_getCenterElement:function(){var t=this._centerElement;return t||(t=this._centerElement=e("<div></div>").addClass("k-arcgauge-label"),this.element.append(t)),t},_gaugeType:function(){return c}});function k(e){x.fn[e]=function(t){var n=h[e];return this._centerElement?h.drawDOM(this.element).then((function(e){return n(e,t)})):n(this.exportVisual(),t)}}var C=["exportSVG","exportImage","exportPDF"];for(_=0;_<C.length;_++)k(C[_]);r.ui.plugin(y),r.ui.plugin(w),r.ui.plugin(x),t.deepExtend(r,{Gauge:f,LinearGauge:y,RadialGauge:w,ArcGauge:x})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)},885:function(e,t){e.exports=n(398)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(883)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},857:function(e,t){e.exports=n(17)},859:function(e,t){e.exports=n(7)},862:function(e,t){e.exports=n(0)},863:function(e,t){e.exports=n(38)},883:function(e,t,n){var r,o,l;n(3),o=[n(862),n(863),n(859),n(857)],void 0===(l="function"==typeof(r=function(){!function(e){window.kendo.dataviz=window.kendo.dataviz||{};var t=kendo.dataviz,n=t.getSpacing,r=t.defined,o=t.constants,l=o.BLACK,c=o.COORD_PRECISION,h=t.services,d=t.deepExtend,f=t.isArray,m=t.setDefaultOptions,v=t.NumericAxis,_=t.limitValue,w=t.Box,y=t.interpolateValue,x=t.round,k=kendo.drawing,C=k.Group,S=k.Path,T=k.Animation,D=k.AnimationFactory,E=kendo.geometry,A=E.Rect,I=E.Point,M=E.transform,R=Math.PI/180;function F(e,t){var r=e.getOrigin(),o=e.getSize(),l=n(t);return e.setOrigin([r.x-l.left,r.y-l.top]),e.setSize([o.width+(l.left+l.right),o.height+(l.top+l.bottom)]),e}var P=C,z=S,B=k.Text;function L(label,e){var t=label.box,n=label.children[0].box,r=e.border||{},o=e.background||"",l=z.fromRect(new A([t.x1,t.y1],[t.width(),t.height()]),{stroke:{}}),text=new B(label.text,new I(n.x1,n.y1),{font:e.font,fill:{color:e.color}}),c=F(text.bbox().clone(),e.padding),h=z.fromRect(c,{stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),d=new P;return d.append(l),d.append(h),d.append(text),d}function H(e,t,n){var l=r(e.from)?e.from:o.MIN_VALUE,c=r(e.to)?e.to:o.MAX_VALUE;return e.from=Math.max(Math.min(c,l),t),e.to=Math.min(Math.max(c,l),n),e}function N(e,t){var r=n(t);return r.left=-r.left,r.top=-r.top,r.right=-r.right,r.bottom=-r.bottom,F(e,r)}var O=S,V=k.Surface,W=t.Class.extend({init:function(element,e,t,n){void 0===n&&(n={}),this.element=element,this.theme=t,this.contextService=new h.ChartService(this,n),this._originalOptions=d({},this.options,e),this.options=d({},this._originalOptions),this._initTheme(t),this.redraw()},destroy:function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},value:function(e){var t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)},_draw:function(){var e=this.surface;e.clear(),e.draw(this._visuals)},exportVisual:function(){return this._visuals},allValues:function(e){var n=this.pointers,r=[];if(0===arguments.length){for(var i=0;i<n.length;i++)r.push(n[i].value());return r}if(f(e))for(var o=0;o<e.length;o++)t.isNumber(e[o])&&n[o].value(e[o]);this._setValueOptions(e)},_setValueOptions:function(e){for(var t=[].concat(this.options.pointer),n=[].concat(e),i=0;i<n.length;i++)t[i].value=n[i]},resize:function(){this.noTransitionsRedraw()},noTransitionsRedraw:function(){var e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)},redraw:function(){var e=this._surfaceSize(),t=new A([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=N(t.bbox(),this._gaugeAreaMargin);this.reflow(n)},setOptions:function(e,t){this._originalOptions=d(this._originalOptions,e),this.options=d({},this._originalOptions),this._initTheme(t),this.redraw()},setDirection:function(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},setIntlService:function(e){this.contextService.intl=e},_initTheme:function(e){var t=e||this.theme||{};this.theme=t,this.options=d({},t,this.options);var n=this.options,r=n.pointer;if(f(r)){for(var o=[],i=0;i<r.length;i++)o.push(d({},t.pointer,r[i]));n.pointer=o}},_createGaugeArea:function(){var e=this.options.gaugeArea,t=this.surface.size(),n=e.border||{},r=new A([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,n.width>0&&(r=N(r,n.width)),O.fromRect(r,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})},_initSurface:function(){var e=this.options,n=this.surface,element=this._surfaceElement(),r=this._surfaceSize();t.elementSize(element,r),n&&n.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(n&&n.destroy(),this.surface=V.create(element,{type:e.renderAs}))},_surfaceSize:function(){var e=this.options,t=this._getSize();return e.gaugeArea&&d(t,e.gaugeArea),t},_surfaceElement:function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},getSize:function(){return this._getSize()},_getSize:function(){var element=this.element,e=this._defaultSize(),t=element.offsetWidth,n=element.offsetHeight;return t||(t=e.width),n||(n=e.height),{width:t,height:n}},_defaultSize:function(){return{width:200,height:200}},_toggleTransitions:function(e){this.options.transitions=e;for(var i=0;i<this.pointers.length;i++)this.pointers[i].options.animation.transitions=e}});m(W,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var U=S,j=C,G=I;function $(e,t){var n,r,o=e.position,l=e.tickX,c=e.tickY;return e.vertical?(n=new G(l,o),r=new G(l+t.size,o)):(n=new G(o,c),r=new G(o,c+t.size)),new U({stroke:{color:t.color,width:t.width}}).moveTo(n).lineTo(r)}function Y(e,t,n,r){var o=t.length;if(r.visible)for(var l=n.mirror,c=n.lineBox,i=r.skip;i<o;i+=r.step)i%r.skipUnit!=0&&(n.tickX=l?c.x2:c.x2-r.size,n.tickY=l?c.y1-r.size:c.y1,n.position=t[i],e.append($(n,r)))}var K=v.extend({init:function(t,n){var o=t||{};!r(o.reverse)&&!1===o.vertical&&(n||{}).rtl&&(o=e.extend({},o,{reverse:!0})),v.fn.init.call(this,0,1,o,n),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10},initUserOptions:function(e){var n=d({},this.options,e);return(n=d({},n,{labels:{mirror:n.mirror}})).majorUnit=n.majorUnit||t.autoMajorUnit(n.min,n.max),n},initFields:function(){},render:function(){var e=this.elements=new j,t=this.renderLabels(),n=this.renderLine(),r=this.renderTicks(),o=this.renderRanges();return e.append(n,t,r,o),e},renderRanges:function(){for(var e=this.options,t=e.min,n=e.max,r=e.vertical,o=e.labels.mirror,l=e.ranges||[],c=new j,h=l.length,d=e.rangeSize||e.minorTicks.size/2,i=0;i<h;i++){var f=H(l[i],t,n),slot=this.getSlot(f.from,f.to),m=r?this.lineBox():slot,v=r?slot:this.lineBox();r?m.x1-=d*(o?-1:1):v.y2+=d*(o?-1:1),c.append(U.fromRect(new A([m.x1,v.y1],[m.x2-m.x1,v.y2-v.y1]),{fill:{color:f.color,opacity:f.opacity},stroke:{}}))}return c},renderLabels:function(){for(var e=this.labels,t=this.options,n=new j,i=0;i<e.length;i++)n.append(L(e[i],t.labels));return n},renderLine:function(){var line=this.options.line,e=this.lineBox(),t=new j;if(line.width>0&&line.visible){var n=new U({stroke:{color:line.color,dashType:line.dashType,width:line.width}});n.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),t.append(n)}return t},renderTicks:function(){var e=new j,t=this.options,n=t.majorTicks.visible?t.majorUnit:0,r={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return Y(e,this.getMajorTickPositions(),r,t.majorTicks),Y(e,this.getMinorTickPositions(),r,d({},{skipUnit:n/t.minorUnit},t.minorTicks)),e}});m(K,{min:0,max:50,majorTicks:{size:15,align:"inside",color:l,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:l,width:.5,visible:!0},line:{width:.5},labels:{position:"inside",padding:2},mirror:!1,_alignLines:!1});var Q=t.Class.extend({init:function(e,t){var n=e.options,o=n.min,l=n.max,c=this.options=d({},this.options,t);c.fill=c.color,this.scale=e,r(c.value)?c.value=_(c.value,o,l):c.value=o},value:function(e){var t=this.options,n=t.value;if(0===arguments.length)return n;var o=this.scale.options,l=o.min,c=o.max;t._oldValue=r(t._oldValue)?t.value:l,t.value=_(e,l,c),this.elements&&this.repaint()}});m(Q,{color:l});var X=Q.extend({init:function(e,t){Q.fn.init.call(this,e,t),this.options=d({track:{visible:r(t.track)}},this.options)},reflow:function(){var e,t,r,o=this.options,l=this.scale,c=l.options,h=c.mirror,d=c.vertical,f=l.lineBox(),m=o.track.size||o.size,v=o.size/2,_=n(o.margin),y=d?_[h?"left":"right"]:_[h?"bottom":"top"];y=h?-y:y,d?(r=new w(f.x1+y,f.y1,f.x1+y,f.y2),h?r.x1-=m:r.x2+=m,"barPointer"!==o.shape&&(e=t=new w(f.x2+y,f.y1-v,f.x2+y,f.y2+v))):(r=new w(f.x1,f.y1-y,f.x2,f.y1-y),h?r.y2+=m:r.y1-=m,"barPointer"!==o.shape&&(e=t=new w(f.x1-v,f.y1-y,f.x2+v,f.y1-y))),this.trackBox=r,this.pointerRangeBox=t,this.box=e||r.clone().pad(o.border.width)},getElementOptions:function(){var e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:r(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}},_margin:function(){var e=this.scale,t=this.options,r=e.options,o=r.mirror,l=r.vertical,c=n(t.margin);return l?c[o?"left":"right"]:c[o?"bottom":"top"]}});m(X,{shape:"barPointer",track:{border:{width:1}},color:l,border:{width:1},opacity:1,margin:n(3),animation:{type:"barPointer"},visible:!0});var J=T.extend({setup:function(){var e=this.options,t=e.margin,n=e.from,r=e.to,o=e.vertical,l=o?"x1":"y1";e.mirror===o?(n[l]-=t,r[l]-=t):(n[l]+=t,r[l]+=t);var c=this.fromScale=new I(n.x1,n.y1),h=this.toScale=new I(r.x1,r.y1);0!==e.duration&&(e.duration=Math.max(c.distanceTo(h)/e.duration*1e3,1))},step:function(e){var t=y(this.fromScale.x,this.toScale.x,e),n=y(this.fromScale.y,this.toScale.y,e);this.element.transform(M().translate(t,n))}});m(J,{easing:"linear",duration:250}),D.current.register("arrowPointer",J);var Z=I,ee=S,te=X.extend({init:function(e,t){X.fn.init.call(this,e,t),r(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)},pointerShape:function(){var e=this.scale,t=this.options.size,n=t/2,r=e.options.mirror?-1:1;return e.options.vertical?[new Z(0,0-n),new Z(0-r*t,0),new Z(0,0+n)]:[new Z(0-n,0),new Z(0,0+r*t),new Z(0+n,0)]},repaint:function(){var e=this.scale,t=this.options,n=new J(this.elements,d(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(n.options.duration=0),n.setup(),n.play()},render:function(){var e=this.scale,t=this.options,n=this.getElementOptions(),r=this.pointerShape(t.value);t.animation.type="arrowPointer";var o=new ee({stroke:n.stroke,fill:n.fill}).moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).close(),slot=e.getSlot(t.value);return o.transform(M().translate(slot.x1,slot.y1)),this.elements=o,o}}),ie=T.extend({setup:function(){var e=this.options,t=this.axis=e.vertical?o.Y:o.X,n=this.to=e.newPoints[0][t],r=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(n-r)/e.speed*1e3,1)),this._set(r)},step:function(e){var t=y(this.from,this.to,e);this._set(t)},_set:function(e){var t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)}});m(ie,{easing:"linear",speed:250}),D.current.register("barPointer",ie);var ne=C,re=S,oe=X.extend({init:function(e,t){X.fn.init.call(this,e,t),r(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)},pointerShape:function(e){var t=this.scale,n=this.options,r=t.options,l=r.mirror,c=r.vertical,h=l===c?-1:1,d=n.size*h,f=t.getSlot(t.options.min),slot=t.getSlot(e),m=c?o.Y:o.X,v=c?o.X:o.Y,_=this._margin()*h,w=new I;w[m]=f[m+"1"],w[v]=f[v+"1"];var y=new I;y[m]=slot[m+"1"],y[v]=slot[v+"1"],c?(w.translate(_,0),y.translate(_,0)):(w.translate(0,_),y.translate(0,_));var x=y.clone(),k=w.clone();return c?(x.translate(d,0),k.translate(d,0)):(x.translate(0,d),k.translate(0,d)),[w,y,x,k]},repaint:function(){var e=this.scale,t=this.options,n=this.pointerShape(t.value),r=this.pointerPath,o=this.pointerShape(t._oldValue);r.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();var l=new ie(r,d(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[o[1],o[2]],newPoints:[n[1],n[2]]}));!1===t.animation.transitions&&(l.options.duration=0),l.setup(),l.play()},render:function(){var e=new ne,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());var n=this.pointerPath=new re({stroke:t.stroke,fill:t.fill});return e.append(n),this.elements=e,e},renderTrack:function(){var e=this.options.track,t=e.border||{},n=this.trackBox.clone().pad(t.width||0);return new re.fromRect(n.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})}}),se=C,ae=W.extend({reflow:function(e){var t=this.pointers,n=e.origin.x,r=e.origin.y,o=new w(n,r,n+e.width(),r+e.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(var i=0;i<t.length;i++)t[i].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},_buildVisual:function(){var e=new se,t=this.scale.render(),n=this.pointers;e.append(this.gaugeArea),e.append(t);for(var i=0;i<n.length;i++){var r=n[i];e.append(r.render()),r.value(r.options.value)}this._visuals=e},_createModel:function(){var e=this.options,t=this.scale=new K(e.scale,this.contextService);this.pointers=[];var n=e.pointer;n=f(n)?n:[n];for(var i=0;i<n.length;i++){var r=d({},n[i],{animation:{transitions:e.transitions}}),o="arrow"===r.shape?te:oe;this.pointers.push(new o(t,r))}},_defaultSize:function(){var e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}},_getBox:function(e){for(var t,n=this.scale,r=this.pointers,o=e.center(),l=r[0].box.clone().wrap(n.box),i=0;i<r.length;i++)l.wrap(r[i].box.clone());return n.options.vertical?(t=l.width()/2,l=new w(o.x-t,e.y1,o.x+t,e.y2)):(t=l.height()/2,l=new w(e.x1,o.y-t,e.x2,o.y+t)),l},_alignElements:function(){for(var e,t=this.scale,n=this.pointers,r=t.box,o=n[0].box.clone().wrap(t.box),l=this.bbox,i=0;i<n.length;i++)o.wrap(n[i].box.clone());t.options.vertical?(e=l.center().x-o.center().x,t.reflow(new w(r.x1+e,l.y1,r.x2+e,l.y2))):(e=l.center().y-o.center().y,t.reflow(new w(r.x1,r.y1+e,r.x2,r.y2+e)));for(var c=0;c<n.length;c++)n[c].reflow(this.bbox)},_shrinkScaleWidth:function(e){var t=this.scale;if(!t.options.vertical){var n=t.contentBox().width()-e.width();n>0&&(t.box.shrink(n,0),t.box.alignTo(e,"center"),t.reflow(t.box))}},_shrinkElements:function(){for(var e=this.scale,t=this.pointers,n=e.box.clone(),r=e.options.vertical?"y":"x",o=t[0].box,i=0;i<t.length;i++)o.wrap(t[i].box.clone());n[r+1]+=Math.max(n[r+1]-o[r+1],0),n[r+2]-=Math.max(o[r+2]-n[r+2],0),e.reflow(n);for(var l=0;l<t.length;l++)t[l].reflow(this.bbox)}});m(ae,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var le=k.Arc,ce=S,he=C;function de(e,t,n,r){var o=new he,l=e.center,c=e.getRadiusX();if(r.visible)for(var i=0;i<t.length;i++){var h=e.pointAt(t[i]),d=new I(l.x+c-r.size,l.y).rotate(t[i],l);o.append(new ce({stroke:{color:r.color,width:r.width}}).moveTo(h).lineTo(d))}return o}function ue(e,t,n,r){return{from:e,to:t,color:n,opacity:r}}var pe=v.extend({init:function(e,t){v.fn.init.call(this,0,1,e,t)},initUserOptions:function(e){var n=d({},this.options,e);return n.majorUnit=n.majorUnit||t.autoMajorUnit(n.min,n.max),n.minorUnit=n.minorUnit||n.majorUnit/10,n},initFields:function(){},render:function(e,t){var n=this.renderArc(e,t);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},reflow:function(e){var t=e.center(),n=Math.min(e.height(),e.width())/2;if(!r(this.bbox))return this.render(t,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()},slotAngle:function(e){var t=this.options,n=t.min,r=t.max,o=t.reverse,l=t.startAngle,c=t.endAngle,h=c-l;return(o?c-(e-n)/(r-n)*h:(e-n)/(r-n)*h+l)+180},hasRanges:function(){var e=this.options.ranges;return e&&e.length},ticksSize:function(){var e=this.options,t=e.majorTicks,n=e.minorTicks,r=0;return t.visible&&(r=t.size),n.visible&&(r=Math.max(n.size,r)),r},renderLabels:function(){var e=this.options,t=this.arc.clone(),n=t.getRadiusX(),o=this.tickAngles(t,e.majorUnit),l=e.rangeSize=e.rangeSize||.1*n,c=new he,h=.05*n;r(e.rangeDistance)?h=e.rangeDistance:e.rangeDistance=h;var d=e.labels,f="inside"===d.position,m=r(this.labelElements);f&&(n-=this.ticksSize(),this.hasRanges()&&!m&&(n-=l+h),t.setRadiusX(n).setRadiusY(n));for(var v=this.labels,_=v.length,y=d.padding,i=0;i<_;i++){var label=v[i],x=label.box.width()/2,k=label.box.height()/2,C=o[i],S=(C-180)*R,T=t.pointAt(C),D=T.x+Math.cos(S)*(x+y)*(f?1:-1),E=T.y+Math.sin(S)*(k+y)*(f?1:-1);label.reflow(new w(D-x,E-k,D+x,E+k));var F=new I(label.box.x1,label.box.y1),P=void 0;if(m){var z=(P=this.labelElements.children[i]).bbox().origin,B=P.transform()||M();B.translate(F.x-z.x,F.y-z.y),P.transform(B)}else P=L(label,e.labels),c.append(P);this.bbox=A.union(this.bbox,P.bbox())}return c},repositionRanges:function(){var e=this.ranges.children;if(e.length>0){var t=this.options,n=t.rangeDistance,r=t.rangeSize,o=this.getRangeRadius();"inside"===this.options.labels.position&&(o+=r+n);for(var l=o+r/2,i=0;i<e.length;i++)e[i]._geometry.setRadiusX(l).setRadiusY(l);this.bbox=A.union(this.bbox,this.ranges.bbox())}},renderRanges:function(){var e=this.rangeSegments(),t=e.length,n=new he;if(t){var r=this.options,o=r.rangeSize,l=r.reverse,c=r.rangeDistance,h=this.getRangeRadius();this.radius(this.radius()-o-c);for(var i=0;i<t;i++){var d=e[i],f=this.slotAngle(d[l?"to":"from"]),m=this.slotAngle(d[l?"from":"to"]);m-f!=0&&n.append(this.createRange(f,m,h,d))}}return n},createRange:function(e,t,n,r){var o=this.options.rangeSize,l=new E.Arc(this.arc.center,{radiusX:n+o/2,radiusY:n+o/2,startAngle:e,endAngle:t});return new le(l,{stroke:{width:o,color:r.color,opacity:r.opacity,lineCap:r.lineCap}})},rangeSegments:function(){var e=this.options,t=e.ranges||[],n=t.length,r=[];if(n){var o=e.min,l=e.max,c=e.rangePlaceholderColor;r.push(ue(o,l,c));for(var i=0;i<n;i++)for(var h=H(t[i],o,l),d=r.length,f=0;f<d;f++){var m=r[f];if(m.from<=h.from&&h.from<=m.to){r.push(ue(h.from,h.to,h.color,h.opacity)),m.from<=h.to&&h.to<=m.to&&r.push(ue(h.to,m.to,c,h.opacity)),m.to=h.from;break}}}return r},getRangeRadius:function(){var e=this.arc,t=this.options,n=t.rangeSize,r=t.rangeDistance,o=t.majorTicks.size;return"outside"===t.labels.position?e.getRadiusX()-o-r-n:e.getRadiusX()-n},renderArc:function(e,t){var n=this.options;return this.arc=new E.Arc(e,{radiusX:t,radiusY:t,startAngle:n.startAngle+180,endAngle:n.endAngle+180})},renderTicks:function(){var e=this.arc,t=this.options,n=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=de(n,this.majorTickAngles,t.majorUnit,t.majorTicks);var r=new he;r.append(this.majorTicks);var o=t.majorTicks.size,l=t.minorTicks.size;if(this._tickDifference=o-l,"outside"===t.labels.position){var c=n.getRadiusX();n.setRadiusX(c-o+l).setRadiusY(c-o+l)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=de(n,this.minorTickAngles,t.minorUnit,t.minorTicks),r.append(this.minorTicks),r},normalizeTickAngles:function(e){for(var t=this.options,n=t.majorUnit/t.minorUnit,i=e.length-1;i>=0;i--)i%n==0&&e.splice(i,1);return e},tickAngles:function(e,t){var n=this.options,r=n.reverse,o=n.max-n.min,l=e.endAngle-e.startAngle,h=o/t,d=e.startAngle,f=l/h;r&&(d+=l,f=-f);for(var m=[],i=0;i<h;i++)m.push(x(d,c)),d+=f;return x(d)<=e.endAngle&&m.push(d),m},radius:function(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)},repositionTicks:function(e,t,n){var r=n&&this._tickDifference||0,o=this.arc,l=o.getRadiusX();n&&"outside"===this.options.labels.position&&0!==r&&(o=this.arc.clone()).setRadiusX(l-r).setRadiusY(l-r);for(var i=0;i<e.length;i++){var c=o.pointAt(t[i]),h=e[i].segments,d=c.x-h[0].anchor().x,f=c.y-h[0].anchor().y;e[i].transform((new M).translate(d,f))}}});m(pe,{min:0,max:100,majorTicks:{size:15,align:"inside",color:l,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:l,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:"inside",padding:2}});var fe=T.extend({init:function(element,e){T.fn.init.call(this,element,e);var t=this.options;t.duration=Math.max(Math.abs(t.newAngle-t.oldAngle)/t.duration*1e3,1)},step:function(e){var t=this.options,n=y(t.oldAngle,t.newAngle,e);this.element.transform(M().rotate(n,t.center))}});m(fe,{easing:"linear",duration:150}),D.current.register("radialPointer",fe);var ge=k.Circle,me=C,ve=S,_e=Q.extend({setAngle:function(e){this.elements.transform(M().rotate(e,this.center))},repaint:function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),r=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(r):new fe(this.elements,d(t.animation,{oldAngle:n,newAngle:r})).play()},render:function(){var e=this.scale,t=this.options,n=new me;return!1!==t.animation&&d(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(R),n},reflow:function(e){var t=this.center=e.center,n=_(this.options.length||1,.1,1.5),r=this.radius=e.getRadiusX()*n,o=this.capSize=Math.round(r*this.options.cap.size);this.bbox=A.fromPoints(new I(t.x-o,t.y-o),new I(t.x+o,t.y+o))},_renderNeedle:function(){var e=this.scale.options.minorTicks.size,t=this.center,n=this.options.color,r=new ve({fill:{color:n},stroke:{color:n,width:.5}});return r.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),r},_renderCap:function(){var e=this.options,t=e.cap.color||e.color,circle=new E.Circle(this.center,this.capSize);return new ge(circle,{fill:{color:t},stroke:{color:t}})}});m(_e,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:"radialPointer",duration:150}});var be=C,we=W.extend({reflow:function(e){var t=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(var i=0;i<t.length;i++)t[i].reflow(this.scale.arc),this._initialPlotArea=A.union(this._initialPlotArea,t[i].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,t,this.scale),this._draw()},_buildVisual:function(e,t,n){var r=this._visuals=new be;r.append(e),r.append(n.ticks),r.append(n.ranges),this._buildPointers(t),r.append(n.labelElements)},_buildPointers:function(e){for(var i=0;i<e.length;i++){var t=e[i];t.render(),this._visuals.append(t.elements),t.value(t.options.value)}},fitScale:function(e){for(var t,n,r,o,l,h=this.scale.arc,d=this._initialPlotArea,f=Math.abs(this.getDiff(d,e)),m=x(f,c),v=x(-f,c),_=0,i=0;!(!(i++<100)||(_=l===r?_+1:0)>5||m!==o&&0<=(t=this.getPlotBox(m,e,h))&&t<=2||v!==o&&0<=(r=this.getPlotBox(v,e,h))&&r<=2||(o=t>0&&r>0?2*m:t<0&&r<0?2*v:x((m+v)/2||1,c),0<=(n=this.getPlotBox(o,e,h))&&n<=2));)l=r,n>0?(v=o,r=n):(m=o,t=n)},getPlotBox:function(e,t,n){var r=this.scale,o=this.pointers,l=n.getRadiusX(),c=n.clone();c.setRadiusX(l+e).setRadiusY(l+e),r.arc=c,r.reflow(t),this.plotBbox=r.bbox;for(var i=0;i<o.length;i++)o[i].reflow(c),this.plotBbox=A.union(this.plotBbox,o[i].bbox);return this.getDiff(this.plotBbox,t)},getDiff:function(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())},alignScale:function(e){var t=this.plotBbox.center(),n=e.center(),r=t.x-n.x,o=t.y-n.y,l=this.scale,c=this.pointers;l.arc.center.x-=r,l.arc.center.y-=o,l.reflow(e);for(var i=0;i<c.length;i++)c[i].reflow(l.arc),this.plotBbox=A.union(l.bbox,c[i].bbox)},_createModel:function(){var e=this.options,t=e.pointer,n=this.scale=new pe(e.scale,this.contextService);this.pointers=[];for(var r=f(t)?t:[t],i=0;i<r.length;i++){var o=new _e(n,d({},r[i],{animation:{transitions:e.transitions}}));this.pointers.push(o)}}});m(we,{transitions:!0,gaugeArea:{background:""}});var ye=pe.extend({rangeSegments:function(){var e=this.options;return[{from:e.min,to:e.max,color:e.rangePlaceholderColor,lineCap:e.rangeLineCap}]},hasRanges:function(){return!0},placeholderRangeAngle:function(e){var t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)},addRange:function(e,t,n){var r=this.options.reverse,o=this.slotAngle(r?t:e),l=this.slotAngle(r?e:t),c=this.createRange(o,l,this.getRangeRadius(),n);return this.ranges.append(c),c}});m(ye,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var xe=T.extend({init:function(element,e){T.fn.init.call(this,element,e);var t=this.options,n=Math.abs(t.newAngle-t.oldAngle)/t.duration*1e3;t.duration=_(n,150,800);var r=element.elements.options.get("stroke.color"),o=element.currentColor();r!==o&&(this.startColor=new kendo.Color(r),this.color=new kendo.Color(o))},step:function(e){var t=this.options,n=this.startColor,r=this.color,o=y(t.oldAngle,t.newAngle,e);if(this.element.angle(o),r){var l=x(y(n.r,r.r,e)),g=x(y(n.g,r.g,e)),b=x(y(n.b,r.b,e));this.element.stroke(new kendo.Color(l,g,b).toHex())}}});m(xe,{easing:"linear",duration:150}),D.current.register("radialRangePointer",xe);var ke=Q.extend({repaint:function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),r=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(r),this.stroke(this.currentColor())):(this.animation=new xe(this,d(t.animation,{oldAngle:n,newAngle:r})),this.animation.play())},angle:function(e){var t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)},stroke:function(e){this.elements.stroke(e)},render:function(){if(!this.elements){var e=this.scale,t=this.options;!1!==t.animation&&d(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}},currentColor:function(){var e=this.scale.options,n=e.min,r=e.max,o=this.options,l=o.colors,c=o.color,h=o.value,d=t.isNumber(h)?h:n;if(l)for(var f=0;f<l.length;f++){var m=l[f],v=m.color,_=m.from;void 0===_&&(_=n);var w=m.to;if(void 0===w&&(w=r),_<=d&&d<=w)return v}return c},reflow:function(){this.render(),this.bbox=this.elements.bbox()}});m(ke,{animation:{type:"radialRangePointer",duration:150}});var Ce=we.extend({_initTheme:function(e){we.fn._initTheme.call(this,e),this.options.color=this.options.color||(this.theme.pointer||{}).color},_createModel:function(){var e=this.options,t=this.scale=new ye(e.scale,this.contextService),n=new ke(t,d({},{colors:e.colors,color:e.color,value:e.value,opacity:e.opacity,animation:{transitions:e.transitions}}));this.pointers=[n]},_buildPointers:function(e){for(var i=0;i<e.length;i++){var t=e[i];t.render(),t.value(t.options.value)}},_setValueOptions:function(e){this.options.value=e},currentColor:function(){var e=this.pointers[0];if(e)return e.currentColor()},centerLabelPosition:function(e,t){var n=this.getSize(),r=this.scale.arc.center,o=r.x-e/2,l=r.y-t/2;if(e<n.width){var c=o+e;o=Math.max(o,0),c>n.width&&(o-=c-n.width)}if(t<n.height){var h=this.scale.bbox,d=h.bottomRight().y,f=l+t;l=Math.max(l,h.origin.y),f>d&&(l-=f-d)}return{left:o,top:l}}});kendo.deepExtend(kendo.dataviz,{Gauge:W,LinearGauge:ae,LinearPointer:X,ArrowLinearPointer:te,BarLinearPointer:oe,LinearScale:K,RadialGauge:we,RadialPointer:_e,RadialScale:pe,ArcGauge:Ce,RangePointer:ke,ArcScale:ye})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1075)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1003:function(e,t){e.exports=n(7)},1063:function(e,t){e.exports=n(17)},1075:function(e,t,n){var r,o,l;n(3),o=[n(1063),n(1003)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.ui.Widget,o=e.extend,l=n.deepExtend,c=e.inArray,h=e.isPlainObject,d=n.drawing,f=n.geometry,m=n.drawing.util.defined,v=n.dataviz,_=v.Box2D,w=v.TextBox,y=/^\d+$/,x=/^[a-z0-9]+$/i;function k(e,t,n){return e.substring(t,t+n)}var C=n.Class.extend({init:function(e){this.setOptions(e)},setOptions:function(e){this.options=o({},this.options,e),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},encode:function(e,t,n){return m(e)&&(e+=""),this.initValue(e,t,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},options:{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||10)},addData:function(){},invalidCharacterError:function(e){throw new Error(n.format("Character '{0}' is not valid for symbology {1}",e,this.name))}}),S={},T=C.extend({minBaseUnitLength:.7,addData:function(){var e=this.value;this.addStart();for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},addCharacter:function(e){var t=this.characterMap[e];t||this.invalidCharacterError(e),this.addBase(t)},addBase:function(){}}),D={addCharacter:function(e){this.characterMap[e]?this.addBase(this.characterMap[e]):e.charCodeAt(0)>127?this.invalidCharacterError(e):this.addExtended(e.charCodeAt(0))},addExtended:function(code){for(var e,i=0;i<this.extendedMappings.length;i++)if(e=this.extendedMappings[i].call(this,code)){for(var t=0;t<e.length;t++)this.addBase(e[t]);return void(this.dataLength+=e.length-1)}},extendedMappings:[function(code){if(97<=code&&code<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(code-32)]]},function(code){if(33<=code&&code<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(code+32)]]},function(code){if(1<=code&&code<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(code+64)]]},function(code){var e,t;if(this.specialAsciiCodes[code]){e=[];for(var i=0;i<this.specialAsciiCodes[code].length;i++)e.push(this.characterMap[this.shiftCharacters[3]]),e.push(this.characterMap[this.specialAsciiCodes[code][i]])}else t=6*Math.floor(code/32)+(code-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(t)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};S.code39=T.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(e,t,n){this.width=t,this.height=n,this.value=e,this.dataLength=e.length,this.pattern=[],this.patternString=""},prepareValues:function(){var e,t=this.minBaseUnitLength,n=this.maxRatio,r=this.minRatio,o=Math.max(.15*this.width,24);if(this.height<o)throw new Error("Insufficient Height. The minimum height for value: "+this.value+" is: "+o);for(;(e=this.getBaseUnit(n))<t&&n>r;)n=parseFloat((n-.1).toFixed(1));if(e<t){var l=Math.ceil(this.getBaseWidth(r)*t);throw new Error("Insufficient width. The minimum width for value: "+this.value+" is: "+l)}this.ratio=n,this.baseUnit=e,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,n).split(this.splitCharacter))},getBaseUnit:function(e){return this.width/this.getBaseWidth(e)},getBaseWidth:function(e){var t=3*(e+2);return this.quietZoneLength+t*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},addStart:function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},addBase:function(e){this.addPattern(e.pattern),this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(pattern){for(var i=0;i<pattern.length;i++)this.patternString+=this.patternMappings[pattern.charAt(i)]},addCharacterGap:function(){this.patternString+=this.gapWidth+this.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}}),S.code39extended=S.code39.extend(l({},D,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})),S.code93=T.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(e,t,n){this.value=e,this.width=t,this.height=n,this.pattern=[],this.values=[],this.dataLength=e.length},prepareValues:function(){var e=Math.max(.15*this.width,24);if(this.height<e)throw new Error("Insufficient Height");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength)throw new Error("Insufficient Width")},setBaseUnit:function(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)},addStart:function(){var pattern=this.characterMap.START.pattern;this.addPattern(pattern)},addStop:function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},addBase:function(e){this.addPattern(e.pattern),this.values.push(e.value)},pushCheckSum:function(){var e,t=this._getCheckValues();this.checksum=t.join("");for(var i=0;i<t.length;i++)e=this.characterMap[this._findCharacterByValue(t[i])],this.addPattern(e.pattern)},_getCheckValues:function(){var e,t,n=this.values,r=n.length,o=0;for(t=r-1;t>=0;t--)o+=this.weightedValue(n[t],r-t,this.cCheckSumTotal);for(e=o%this.checkSumMod,o=this.weightedValue(e,1,this.kCheckSumTotal),t=r-1;t>=0;t--)o+=this.weightedValue(n[t],r-t+1,this.kCheckSumTotal);return[e,o%this.checkSumMod]},_findCharacterByValue:function(e){for(var t in this.characterMap)if(this.characterMap[t].value===e)return t},weightedValue:function(e,t,n){return(t%n||n)*e},addPattern:function(pattern){for(var e,i=0;i<pattern.length;i++)e=parseInt(pattern.charAt(i),10),this.pattern.push(e)},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),S.code93extended=S.code93.extend(l({},D,{name:"Code 93 extended",pushCheckSum:function(){var e,t=this._getCheckValues();this.checksum=t.join("");for(var i=0;i<t.length;i++)e=t[i],this.shiftValuesAsciiCodes[e]?this.addExtended(this.shiftValuesAsciiCodes[e]):this.addPattern(this.characterMap[this._findCharacterByValue(e)].pattern)}}));var E=n.Class.extend({init:function(e){this.encoding=e},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),A=E.extend({FNC4:"FNC4",init:function(e,t){this.encoding=e,this.states=t,this._initMoves(t)},addStart:function(){this.encoding.addPattern(this.START)},is:function(e,t){var code=e.charCodeAt(t);return this.isCode(code)},move:function(e){for(var t=0;!this._moves[t].call(this,e)&&t<this._moves.length;)t++},pushState:function(e){var code,t=this.states,n=e.value,r=n.length;if(c("C",t)>=0){var o=n.substr(e.index).match(/\d{4,}/g);o&&(r=n.indexOf(o[0],e.index))}for(;(code=e.value.charCodeAt(e.index))>=0&&this.isCode(code)&&e.index<r;)this.encoding.addPattern(this.getValue(code)),e.index++},_initMoves:function(e){this._moves=[],c(this.FNC4,e)>=0&&this._moves.push(this._moveFNC),c(this.shiftKey,e)>=0&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},_moveFNC:function(e){if(e.fnc)return e.fnc=!1,e.previousState==this.key},_shiftState:function(e){if(e.previousState==this.shiftKey&&(e.index+1>=e.value.length||this.encoding[this.shiftKey].is(e.value,e.index+1)))return this.encoding.addPattern(this.SHIFT),e.shifted=!0,!0},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),I={};I.A=A.extend({key:"A",shiftKey:"B",isCode:function(code){return 0<=code&&code<96},getValue:function(code){return code<32?code+64:code-32},MOVE:101,START:103}),I.B=A.extend({key:"B",shiftKey:"A",isCode:function(code){return 32<=code&&code<128},getValue:function(code){return code-32},MOVE:100,START:104}),I.C=E.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(e,t){var n=k(e,t,4);return(t+4<=e.length||2==e.length)&&y.test(n)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(e){for(var code;(code=k(e.value,e.index,2))&&y.test(code)&&2==code.length;)this.encoding.addPattern(parseInt(code,10)),e.index+=2},getValue:function(code){return code},MOVE:99,START:105}),I.FNC4=E.extend({key:"FNC4",dependentStates:["A","B"],init:function(e,t){this.encoding=e,this._initSubStates(t)},addStart:function(e){var code=e.value.charCodeAt(0)-128,t=this._getSubState(code);this.encoding[t].addStart()},is:function(e,t){var code=e.charCodeAt(t);return this.isCode(code)},isCode:function(code){return 128<=code&&code<256},pushState:function(e){var t=this._initSubState(e),n=this.encoding,r=t.value.length;if(e.index+=r,r<3)for(var code;t.index<r;t.index++)code=t.value.charCodeAt(t.index),t.state=this._getSubState(code),t.previousState!=t.state&&(t.previousState=t.state,n[t.state].move(t)),n.addPattern(n[t.state].MOVE),n.addPattern(n[t.state].getValue(code));else t.state!=t.previousState&&n[t.state].move(t),this._pushStart(t),n.pushData(t,this.subStates),e.index<e.value.length&&this._pushStart(t);e.fnc=!0,e.state=t.state},_pushStart:function(e){this.encoding.addPattern(this.encoding[e.state].MOVE),this.encoding.addPattern(this.encoding[e.state].MOVE)},_initSubState:function(e){var t={value:this._getAll(e.value,e.index),index:0};return t.state=this._getSubState(t.value.charCodeAt(0)),t.previousState=e.previousState==this.key?t.state:e.previousState,t},_initSubStates:function(e){this.subStates=[];for(var i=0;i<e.length;i++)c(e[i],this.dependentStates)>=0&&this.subStates.push(e[i])},_getSubState:function(code){for(var i=0;i<this.subStates.length;i++)if(this.encoding[this.subStates[i]].isCode(code))return this.subStates[i]},_getAll:function(e,t){for(var code,n="";(code=e.charCodeAt(t++))&&this.isCode(code);)n+=String.fromCharCode(code-128);return n}}),I.FNC1=E.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(e,t){this.encoding=e,this.states=t},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return c(this.key,this.states)>=0},pushState:function(e){var t,n,r,o=this.encoding,l=e.value.replace(/\s/g,""),c=new RegExp("["+this.startAI+this.endAI+"]","g"),h=e.index,d={state:this.startState};for(o.addPattern(this.START);;){if(d.index=0,(t=(r=l.charAt(h)===this.startAI?2:0)>0?this.getBySeparator(l,h):this.getByLength(l,h)).ai.length)n=h+r+t.id.length+t.ai.length;else if((n=l.indexOf(this.startAI,h+1))<0){if(h+t.ai.max+t.id.length+r<l.length)throw new Error("Separators are required after variable length identifiers");n=l.length}if(d.value=l.substring(h,n).replace(c,""),this.validate(t,d.value),o.pushData(d,this.dependentStates),n>=l.length)break;h=n,d.state!=this.startState&&(o[this.startState].move(d),d.state=this.startState),t.ai.length||o.addPattern(this.START)}e.index=e.value.length},validate:function(e,t){var code=t.substr(e.id.length),n=e.ai;if(!n.type&&!y.test(code))throw new Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"==n.type&&!x.test(code))throw new Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(n.length&&n.length!==code.length)throw new Error("Application identifier "+e.id+" must be "+n.length+" characters long.");if(n.min&&n.min>code.length)throw new Error("Application identifier "+e.id+" must be at least "+n.min+" characters long.");if(n.max&&n.max<code.length)throw new Error("Application identifier "+e.id+" must be at most "+n.max+" characters long.")},getByLength:function(e,t){for(var n,r,i=2;i<=4;i++)if(n=k(e,t,i),r=this.getAI(n)||this.getAI(n.substring(0,n.length-1)))return{id:n,ai:r};this.unsupportedAIError(n)},unsupportedAIError:function(e){throw new Error(n.format("'{0}' is not a supported Application Identifier"),e)},getBySeparator:function(e,t){var n=e.indexOf(this.startAI,t),r=e.indexOf(this.endAI,n),o=e.substring(n+1,r),l=this.getAI(o)||this.getAI(o.substr(o.length-1));return l||this.unsupportedAIError(o),{ai:l,id:o}},getAI:function(e){var t=this.applicationIdentifiers,n=t.multiKey;if(t[e])return t[e];for(var i=0;i<n.length;i++){if(n[i].ids&&c(e,n[i].ids)>=0)return n[i].type;if(n[i].ranges)for(var r=n[i].ranges,o=0;o<r.length;o++)if(r[o][0]<=e&&e<=r[o][1])return n[i].type}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102});var M=C.extend({init:function(e){C.fn.init.call(this,e),this._initStates()},_initStates:function(){for(var i=0;i<this.states.length;i++)this[this.states[i]]=new I[this.states[i]](this,this.states)},initValue:function(e,t,n){this.pattern=[],this.value=e,this.width=t,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},addData:function(){var e={value:this.value,index:0,state:""};0!==this.value.length&&(e.state=e.previousState=this.getNextState(e,this.states),this.addStart(e),this.pushData(e,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},pushData:function(e,t){for(;this[e.state].pushState(e),!(e.index>=e.value.length);)if(e.shifted){var n=e.state;e.state=e.previousState,e.previousState=n,e.shifted=!1}else e.previousState=e.state,e.state=this.getNextState(e,t),this[e.state].move(e)},addStart:function(e){this[e.state].addStart(e),this.position=1},addCheckSum:function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},addPattern:function(code){for(var e,pattern=this.characterMap[code].toString(),i=0;i<pattern.length;i++)e=parseInt(pattern.charAt(i),10),this.pattern.push(e),this.totalUnits+=e;this.checkSum+=code*this.position++},getNextState:function(e,t){for(var i=0;i<t.length;i++)if(this[t[i]].is(e.value,e.index))return t[i];this.invalidCharacterError(e.value.charAt(e.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106});S.code128a=M.extend({name:"Code 128 A",states:["A"]}),S.code128b=M.extend({name:"Code 128 B",states:["B"]}),S.code128c=M.extend({name:"Code 128 C",states:["C"]}),S.code128=M.extend({name:"Code 128",states:["C","B","A","FNC4"]}),S["gs1-128"]=M.extend({name:"Code GS1-128",states:["FNC1","C","B"]});var R=C.extend({initValue:function(e,t){this.pattern=[],this.value=e,this.checkSumLength=0,this.width=t},setBaseUnit:function(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)},addData:function(){var e=this.value;this.addPattern(this.START);for(var i=0;i<e.length;i++)this.addCharacter(e.charAt(i));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},addCharacter:function(e){var pattern=this.characterMap[e];pattern||this.invalidCharacterError(e),this.addPattern(pattern)},addPattern:function(pattern){for(var i=0;i<pattern.length;i++)this.pattern.push(parseInt(pattern.charAt(i),10))},addCheckSum:function(){var e;e=this.checkSums[this.checkSumType].call(this.checkSums,this.value),this.checksum=e.join("");for(var i=0;i<e.length;i++)this.checkSumLength++,this.addPattern(this.characterMap[e[i]])},checkSums:{Modulo10:function(e){var t,n,r,o=[0,""],l=e.length%2;for(t=0;t<e.length;t++)o[(t+l)%2]+=parseInt(e.charAt(t),10);for(r=o[0],n=(2*o[1]).toString(),t=0;t<n.length;t++)r+=parseInt(n.charAt(t),10);return[(10-r%10)%10]},Modulo11:function(e){for(var t,n=0,r=e.length,i=0;i<r;i++)n+=(((r-i)%6||6)+1)*e.charAt(i);return 10!=(t=(11-n%11)%11)?[t]:[1,0]},Modulo11Modulo10:function(e){var t,n=this.Modulo11(e);return t=e+n[0],n.concat(this.Modulo10(t))},Modulo10Modulo10:function(e){var t,n=this.Modulo10(e);return t=e+n[0],n.concat(this.Modulo10(t))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""});S.msimod10=R.extend({name:"MSI Modulo10",checkSumType:"Modulo10"}),S.msimod11=R.extend({name:"MSI Modulo11",checkSumType:"Modulo11"}),S.msimod1110=R.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"}),S.msimod1010=R.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"}),S.code11=C.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(e,t){this.pattern=[],this.value=e,this.width=t,this.totalUnits=0},addData:function(){var e=this.value;this.addPattern(this.START);for(var i=0;i<e.length;i++)this.addCharacter(e.charAt(i));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},setBaseUnit:function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},addCheckSum:function(){var e,t=this.value,n=t.length;if(e=this.getWeightedSum(t,n,this.cCheckSumTotal)%this.checkSumMod,this.checksum=e+"",this.addPattern(this.characterMap[e]),++n>=this.kCheckSumMinLength){var r=(e+this.getWeightedSum(t,n,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=r,this.addPattern(this.characterMap[r])}},getWeightedSum:function(e,t,n){for(var r=0,i=0;i<e.length;i++)r+=this.weightedValue(this.getValue(e.charAt(i)),t,i,n);return r},weightedValue:function(e,t,n,r){return((t-n)%r||r)*e},getValue:function(e){return isNaN(e)?(e!==this.DASH&&this.invalidCharacterError(e),this.DASH_VALUE):parseInt(e,10)},addCharacter:function(e){var t=this.getValue(e),pattern=this.characterMap[t];this.addPattern(pattern)},addPattern:function(pattern){for(var e,i=0;i<pattern.length;i++)e=parseInt(pattern.charAt(i),10),this.pattern.push(e),this.totalUnits+=e},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}}),S.postnet=C.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(e,t,n){this.height=n,this.width=t,this.baseHeight=n/2,this.value=e.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},addData:function(){var e=this.value;this.addPattern(this.START);for(var i=0;i<e.length;i++)this.addCharacter(e.charAt(i));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},addCharacter:function(e){var pattern=this.characterMap[e];this.checkSum+=parseInt(e,10),this.addPattern(pattern)},addCheckSum:function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},setBaseUnit:function(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)},validate:function(e){if(y.test(e)||this.invalidCharacterError(e.match(/[^0-9]/)[0]),c(e.length,this.VALID_CODE_LENGTHS)<0)throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(","))},addPattern:function(pattern){for(var e,i=0;i<pattern.length;i++)e=this.height-this.baseHeight*pattern.charAt(i),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),S.ean13=C.extend({initValue:function(e,t,n){if(12!=(e+="").length||/\D/.test(e))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=t/(95+this.quietZoneLength),this.value=e,this.checksum=this.calculateChecksum(),this.leftKey=e[0],this.leftPart=e.substr(1,6),this.rightPart=e.substr(7)+this.checksum},addData:function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},addSide:function(e,t){for(var i=0;i<e.length;i++)t&&parseInt(this.keyTable[t].charAt(i),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[e.charAt(i)]).reverse(),!0):this.addPieces(this.characterMap.digits[e.charAt(i)],!0)},addPieces:function(e,t){for(var i=0;i<e.length;i++)t?this.pattern.push({y1:0,y2:.95*this.options.height,width:e[i]}):this.pattern.push(e[i])},calculateChecksum:function(){for(var e=0,t=0,n=this.value.split("").reverse().join(""),i=0;i<n.length;i++)i%2?t+=parseInt(n.charAt(i),10):e+=parseInt(n.charAt(i),10);return(10-(3*e+t)%10)%10},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),S.ean8=S.ean13.extend({initValue:function(e,t,n){if(7!=e.length||/\D/.test(e))throw new Error("Invalid value provided");this.value=e,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=t/(67+this.quietZoneLength)}});var F=r.extend({init:function(element,t){r.fn.init.call(this,element,t),this.element=e(element),this.wrapper=this.element,this.element.addClass("k-barcode").css("display","block"),this.surfaceWrap=e("<div />").css("position","relative").appendTo(this.element),this.surface=d.Surface.create(this.surfaceWrap,{type:this.options.renderAs}),this._setOptions(t),t&&m(t.value)&&this.redraw()},setOptions:function(e){this._setOptions(e),this.redraw()},redraw:function(){var e=this._getSize();this.surface.clear(),this.surface.setSize({width:e.width,height:e.height}),this.createVisual(),this.surface.draw(this.visual)},getSize:function(){return n.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var e,t,n=this.options,r=n.value,o=n.text,l=v.getSpacing(o.margin),c=this._getSize(),h=n.border||{},f=this.encoding,w=new _(0,0,c.width,c.height).unpad(h.width).unpad(n.padding),y=w.height(),x=new d.Group;return this.contentBox=w,x.append(this._getBackground(c)),o.visible&&(y-=d.util.measureText(r,{font:o.font}).height+l.top+l.bottom),e=f.encode(r,w.width(),y),o.visible&&(t=r,n.checksum&&m(f.checksum)&&(t+=" "+f.checksum),x.append(this._getText(t))),this.barHeight=y,this._bandsGroup=this._getBands(e.pattern,e.baseUnit),x.append(this._bandsGroup),x},exportVisual:function(){return this._render()},_getSize:function(){var element=this.element,e=new f.Size(300,100);return element.width()>0&&(e.width=element.width()),element.height()>0&&(e.height=element.height()),this.options.width&&(e.width=this.options.width),this.options.height&&(e.height=this.options.height),e},value:function(e){if(!m(e))return this.options.value;this.options.value=e+"",this.redraw()},_getBands:function(pattern,e){for(var t,n,r=this.contentBox,o=r.x1,l=new d.Group,i=0;i<pattern.length;i++){if(t=(n=h(pattern[i])?pattern[i]:{width:pattern[i],y1:0,y2:this.barHeight}).width*e,i%2){var rect=f.Rect.fromPoints(new f.Point(o,n.y1+r.y1),new f.Point(o+t,n.y2+r.y1)),path=d.Path.fromRect(rect,{fill:{color:this.options.color},stroke:null});l.append(path)}o+=t}return l},_getBackground:function(e){var t=this.options,n=t.border||{},r=new _(0,0,e.width,e.height).unpad(n.width/2);return d.Path.fromRect(r.toRect(),{fill:{color:t.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})},_getText:function(e){var t=this.options.text,text=this._textbox=new w(e,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return text.reflow(this.contentBox),text.renderVisual(),text.visual},_setOptions:function(e){if(this.type=(e.type||this.options.type).toLowerCase(),"upca"==this.type&&(this.type="ean13",e.value="0"+e.value),"upce"==this.type&&(this.type="ean8",e.value="0"+e.value),!S[this.type])throw new Error("Encoding "+this.type+"is not supported.");this.encoding=new S[this.type],this.options=o(!0,this.options,e)},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}});v.ExportMixin.extend(F.fn),v.ui.plugin(F),n.deepExtend(v,{encodings:S,Encoding:C})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1105)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1003:function(e,t){e.exports=n(7)},1063:function(e,t){e.exports=n(17)},1105:function(e,t,n){var r,o,l;n(3),o=[n(1063),n(1003)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=e.extend,o=n.drawing,l=n.dataviz,c=n.ui.Widget,h=l.Box2D,d={1:0},f={0:1},m=[[1,0],[1,25,0]],v={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},_=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],w=[1,0,1,1,1],y=[1,0,1],x={L:"01",M:"00",Q:"11",H:"10"},k=["11101100","00010001"],C=93,S=[function(e,t){return(e+t)%2==0},function(e){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return((e+t)%2+e*t%3)%2==0}],T=/^\d+/,D=new RegExp("^[A-Z $%*+./:-]+"),E=new RegExp("^[A-Z0-9 $%*+./:-]+"),A=new RegExp("^[^A-Z0-9 $%*+./:-]+"),I=Math.round;function M(e){return parseInt(e,2)}function R(e,t){var n=Number(e).toString(2);return n.length<t&&(n=new Array(t-n.length+1).join(0)+n),n}function F(e,t){for(var n=[],r=0;r<e.length;)n.push(e.substring(r,r+t)),r+=t;return n}var P=n.Class.extend({getVersionIndex:function(e){return e<10?0:e>26?2:1},getBitsCharacterCount:function(e){return this.bitsInCharacterCount[this.getVersionIndex(e||40)]},getModeCountString:function(e,t){return this.modeIndicator+R(e,this.getBitsCharacterCount(t))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]}),z={};z.numeric=P.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(e){return parseInt(e,10)},encode:function(e,t){for(var n=F(e,3),r=this.getModeCountString(e.length,t),i=0;i<n.length-1;i++)r+=R(n[i],10);return r+R(n[i],1+3*n[i].length)},getStringBitsLength:function(e,t){var n=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*n+(0===n?0:1)}}),z.alphanumeric=P.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(e){return this.characters[e]},encode:function(e,t){for(var n=F(e,2),r=this.getModeCountString(e.length,t),i=0;i<n.length-1;i++)r+=R(45*this.getValue(n[i].charAt(0))+this.getValue(n[i].charAt(1)),11);return r+R(2==n[i].length?45*this.getValue(n[i].charAt(0))+this.getValue(n[i].charAt(1)):this.getValue(n[i].charAt(0)),1+5*n[i].length)},getStringBitsLength:function(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+e%2*6}}),z.byte=P.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(e){var code=e.charCodeAt(0);if(code<=127||160<=code&&code<=255)return code;throw new Error("Unsupported character: "+e)},encode:function(e,t){for(var n=this.getModeCountString(e.length,t),i=0;i<e.length;i++)n+=R(this.getValue(e.charAt(i)),8);return n},getStringBitsLength:function(e,t){return 4+this.getBitsCharacterCount(t)+8*e}});var B={};for(var L in z)B[L]=new z[L];var H=function(e){var n=this,r=e.length-1,o=e.length-1,l=o,c=-1,h=0;n.move=function(){r+=c*h,o=l-(h^=1)},n.getNextCell=function(){for(;e[r][o]!==t;)n.move(),(r<0||r>=e.length)&&(o=l-=8!=l?2:3,r=(c=-c)<0?e.length-1:0);return{row:r,column:o}},n.getNextRemainderCell=function(){if(n.move(),e[r][o]===t)return{row:r,column:o}}};function N(e,t,n,r){for(var i=0;i<e.length;i++)e[i][n][r]=t}function O(e,t,n,r){for(var i=0;i<S.length;i++)e[i][n][r]=S[i](n,r)?1^t:parseInt(t,10)}var V=function(e,t){for(var n,r,o,l=new H(e[0]),c=0;c<t.length;c++)for(n=t[c],r=0;n.length>0;){for(var i=0;i<n.length;i++)for(var h=0;h<8;h++)o=l.getNextCell(),O(e,n[i][r].charAt(h),o.row,o.column);for(r++;n[0]&&r==n[0].length;)n.splice(0,1)}for(;o=l.getNextRemainderCell();)O(e,0,o.row,o.column)},W=function(e,t){for(var n=8*t,r=0,o=0;e.length<n&&r<"0000".length;)e+="0000".charAt(r++);for(e.length%8!=0&&(e+=new Array(9-e.length%8).join("0"));e.length<n;)e+=k[o],o^=1;return e},U=function(e,t){for(var n=[],i=e.length-2;i>=0;i--)n[i]=e[i]^t[i];return n},j=function(e,n){for(var r=[],i=0;i<e.length;i++)for(var o=0;o<n.length;o++)r[i+o]===t?r[i+o]=(e[i]+(n[o]>=0?n[o]:0))%255:r[i+o]=d[f[r[i+o]]^f[(e[i]+n[o])%255]];return r};function G(e,n){var r=[],o=e.length-1;do{r[o]=f[(e[o]+n)%255],o--}while(e[o]!==t);return r}!function(){for(var e,t=1;t<255;t++)(e=2*f[t-1])>255&&(e^=285),f[t]=e,d[e]=t;e=2*f[t-1]^285,f[t]=e,f[-1]=0}(),function(){for(var e=2;e<=68;e++){var t=m[e-1],n=[e,0];m[e]=j(t,n)}}();var $=function(data,e){var t,n,r=m[e-1],o=new Array(e).concat(data),l=new Array(o.length-r.length).concat(r),c=data.length,h=[];for(n=0;n<c;n++)t=G(l,d[o[o.length-1]]),l.splice(0,1),o=U(t,o);for(n=o.length-1;n>=0;n--)h[e-1-n]=R(o[n],8);return h},Y=function(e,t){for(var n,r,o,l,c,h=0,d=[],f=[],m=t.groups,v=0;v<m.length;v++){o=m[v][0];for(var _=0;_<o;_++){r=m[v][1],n=[],l=[];for(var w=1;w<=r;w++)c=e.substring(h,h+8),n.push(c),l[r-w]=M(c),h+=8;d.push(n),f.push($(l,t.errorCodewordsPerBlock))}}return[d,f]},K=function(e,t,n,r,o){var l,c,h=T.exec(e),d=h?h[0]:"",f=D.exec(e),m=f?f[0]:"",v=E.exec(e),_=v?v[0]:"";return d&&(d.length>=t||e.length==d.length||d.length>=n&&!E.test(e.charAt(d.length)))?(l="numeric",c=d):_&&(e.length==_.length||_.length>=r||"alphanumeric"==o)?(l="alphanumeric",c=d||m):(l="byte",c=_?_+A.exec(e.substring(_.length))[0]:A.exec(e)[0]),{mode:l,modeString:c}},Q=function(e){var t,n=[],r=0;for(n.push(K(e,8,5,8,t)),t=n[0].mode,e=e.substr(n[0].modeString.length);e.length>0;){var o=K(e,17,9,16,t);o.mode!=t?(t=o.mode,n.push(o),r++):n[r].modeString+=o.modeString,e=e.substr(o.modeString.length)}return n},X=function(e){for(var t=0,i=0;i<e.length;i++)t+=B[e[i].mode].getStringBitsLength(e[i].modeString.length);return Math.ceil(t/8)},J=function(e,t){var n=0,r=_.length-1,o=Math.floor(_.length/2);do{e<_[o][t].totalDataCodewords?r=o:n=o,o=n+Math.floor((r-n)/2)}while(r-n>1);return e<=_[n][t].totalDataCodewords?o+1:r+1},Z=function(e,t){for(var n="",i=0;i<e.length;i++)n+=B[e[i].mode].encode(e[i].modeString,t);return n},ee=function(e){var t,n="";if(0===M(e))return"101010000010010";t=te(M(e),"10100110111",15);for(var i=0;i<t.length;i++)n+=t.charAt(i)^"101010000010010".charAt(i);return n},te=function(e,t,n){var r=M(t),o=t.length-1,l=e<<o,c=R(e,n-o),h=ie(l,r);return h=c+R(h,o)},ie=function(e,t){var n=t.toString(2).length,r=e.toString(2).length;do{r=(e^=t<<r-n).toString(2).length}while(r>=n);return e};function ne(e,t){return parseInt(e.charAt(t),10)}var re=function(e){for(var t=[],n=17+4*e,i=0;i<S.length;i++){t[i]=new Array(n);for(var r=0;r<n;r++)t[i][r]=new Array(n)}return t},oe=function(e,t){var n,r,o=e[0],l=0,c=t.length;for(n=0,r=8;n<=8;n++)6!==n&&N(e,ne(t,c-1-l++),n,r);for(n=8,r=7;r>=0;r--)6!==r&&N(e,ne(t,c-1-l++),n,r);for(l=0,r=o.length-1,n=8;r>=o.length-8;r--)N(e,ne(t,c-1-l++),n,r);for(N(e,1,o.length-8,8),n=o.length-7,r=8;n<o.length;n++)N(e,ne(t,c-1-l++),n,r)},se=function(e){return te(e,"1111100100101",18)},ae=function(e,t){for(var n,r,o,l=e[0].length,c=l-11,h=l-11,d=0;d<t.length;d++)n=Math.floor(d/3),r=d%3,N(e,o=ne(t,t.length-d-1),0+n,c+r),N(e,o,h+r,0+n)},le=function(e,pattern,t,n){for(var r,o=pattern.length+2,l=pattern.length+1,i=0;i<pattern.length;i++)for(var c=i;c<o-i;c++)N(e,r=pattern[i],t+c,n+i),N(e,r,t+i,n+c),N(e,r,t+l-c,n+l-i),N(e,r,t+l-i,n+l-c)},ce=function(e,t,n,r){var o=n,l=r,c=e[0];do{N(e,0,o,r),N(e,0,n,l),o+=t[0],l+=t[1]}while(o>=0&&o<c.length)},he=function(e){var t=e[0].length;le(e,w,0,0),ce(e,[-1,-1],7,7),le(e,w,t-7,0),ce(e,[1,-1],t-8,7),le(e,w,0,t-7),ce(e,[-1,1],7,t-8)},de=function(e,n){if(!(n<2)){var r,o,l=e[0],c=l.length,h=Math.floor(n/7),d=[6],f=0;for((r=v[n])?o=(c-13-r)/h:r=o=(c-13)/(h+1),d.push(d[f++]+r);d[f]+o<c;)d.push(d[f++]+o);for(var i=0;i<d.length;i++)for(var m=0;m<d.length;m++)l[d[i]][d[m]]===t&&le(e,y,d[i]-2,d[m]-2)}},ue=function(e){for(var t=1,n=e[0].length,i=8;i<n-8;i++)N(e,t,6,i),N(e,t,i,6),t^=1},pe=function(e){var t,i,n=[],r=[],o=[],l=[],c=[],h=e[0].length;for(i=0;i<e.length;i++)n[i]=0,o[i]=0,c[i]=[0,0],l[i]=[0,0],r[i]=[];for(i=0;i<h;i++)for(var d=0;d<h;d++)for(var f=0;f<e.length;f++)t=e[f],o[f]+=parseInt(t[i][d],10),r[f][0]===t[i][d]&&i+1<h&&d-1>=0&&t[i+1][d]==r[f][0]&&t[i+1][d-1]==r[f][0]&&(n[f]+=3),fe(f,l,n,0,t[i][d]),fe(f,l,n,1,t[d][i]),ge(f,n,r,t[i][d],c,0),ge(f,n,r,t[d][i],c,1);var m,v=h*h,_=Number.MAX_VALUE;for(i=0;i<n.length;i++)n[i]+=me(o[i],v),n[i]<_&&(_=n[i],m=i);return m};function fe(e,t,n,r,o){t[e][r]=(t[e][r]<<1^o)%128,t[e][r]==C&&(n[e]+=40)}function ge(e,t,n,r,o,l){n[e][l]==r?o[e][l]++:(n[e][l]=r,o[e][l]>=5&&(t[e]+=3+o[e][l]-5),o[e][l]=1)}function me(e,t){var n=Math.floor(e/t*100),r=n%5,o=Math.abs(n-r-50),l=Math.abs(n+5-r-50);return 10*Math.min(o/5,l/5)}var ve=function(e,t){this.dataString=e,this.version=t},_e=function(){this.getEncodingResult=function(e,t){var n=Q(e),r=X(n),o=J(r,t),l=Z(n,o);return new ve(l,o)}},be=function(){this.mode=B[this.encodingMode]};be.fn=be.prototype={encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(e,t){var data=this.encode(e),n=this.getDataCodewordsCount(data),r=J(n,t),o=this.mode.getModeCountString(data.length/8,r)+data;return new ve(o,r)},getDataCodewordsCount:function(data){var e=data.length;return Math.ceil((this.initialModeCountStringLength+e)/8)},encode:function(e){for(var t=this.utfBOM,i=0;i<e.length;i++)t+=this.encodeCharacter(e.charCodeAt(i));return t},encodeCharacter:function(code){var e=this.getBytesCount(code),t=e-1,n="";if(1==e)n=R(code,8);else{for(var r=8-e,i=0;i<t;i++)n=R(code>>6*i&63|128,8)+n;n=(code>>6*t|255>>r<<r).toString(2)+n}return n},getBytesCount:function(code){for(var e=this.ranges,i=0;i<e.length;i++)if(code<e[i])return i+1},ranges:[128,2048,65536,2097152,67108864]};var we=function(e){return e&&e.toLowerCase().indexOf("utf_8")>=0?new be:new _e},ye=function(e,t,n){var r=new we(n).getEncodingResult(e,t),o=r.version,l=_[o-1][t],c=W(r.dataString,l.totalDataCodewords),h=Y(c,l),d=re(o);he(d),de(d,o),ue(d),o>=7&&ae(d,R(0,18)),oe(d,R(0,15)),V(d,h);var f=pe(d),m=d[f];o>=7&&ae([m],se(o));var v=x[t]+R(f,3);return oe([m],ee(v)),m},xe={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},ke=c.extend({init:function(element,t){c.fn.init.call(this,element,t),this.element=e(element),this.wrapper=this.element,this.element.addClass("k-qrcode"),this.surfaceWrap=e("<div />").css("position","relative").appendTo(this.element),this.surface=o.Surface.create(this.surfaceWrap,{type:this.options.renderAs}),this.setOptions(t)},redraw:function(){var e=this._getSize();this.surfaceWrap.css({width:e,height:e}),this.surface.clear(),this.createVisual(),this.surface.draw(this.visual)},getSize:function(){return n.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},exportVisual:function(){return this._render()},_render:function(){var e,t,n,r,l,c=this._value,h=this.options.border||{},d=this.options.padding||0,f=h.width||0;h.width=f;var m=new o.Group;return c&&(n=ye(c,this.options.errorCorrection,this.options.encoding),l=(r=this._getSize())-2*(f+d),e=this._calculateBaseUnit(l,n.length),t=f+d+(l-n.length*e)/2,m.append(this._renderBackground(r,h)),m.append(this._renderMatrix(n,e,t))),m},_getSize:function(){var e;if(this.options.size)e=parseInt(this.options.size,10);else{var element=this.element,t=Math.min(element.width(),element.height());e=t>0?t:xe.DEFAULT_SIZE}return e},_calculateBaseUnit:function(e,t){var n=Math.floor(e/t);if(n<xe.MIN_BASE_UNIT_SIZE)throw new Error("Insufficient size.");return n*t>=e&&n-1>=xe.MIN_BASE_UNIT_SIZE&&n--,n},_renderMatrix:function(e,t,n){for(var path=new o.MultiPath({fill:{color:this.options.color},stroke:null}),r=0;r<e.length;r++)for(var l=n+r*t,c=0;c<e.length;){for(;0===e[r][c]&&c<e.length;)c++;if(c<e.length){for(var h=c;1==e[r][c];)c++;var d=I(n+h*t),f=I(l),m=I(n+c*t),v=I(l+t);path.moveTo(d,f).lineTo(d,v).lineTo(m,v).lineTo(m,f).close()}}return path},_renderBackground:function(e,t){var n=new h(0,0,e,e).unpad(t.width/2);return o.Path.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})},setOptions:function(e){e=e||{},this.options=r(this.options,e),e.value!==t&&(this._value=this.options.value+""),this.redraw()},value:function(e){if(e===t)return this._value;this._value=e+"",this.redraw()},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:xe.DEFAULT_ERROR_CORRECTION_LEVEL,background:xe.DEFAULT_BACKGROUND,color:xe.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}});l.ExportMixin.extend(ke.fn),l.ui.plugin(ke),n.deepExtend(l,{QRCode:ke,QRCodeDefaults:xe,QRCodeFunctions:{FreeCellVisitor:H,fillData:V,padDataString:W,generateErrorCodewords:$,xorPolynomials:U,getBlocks:Y,multiplyPolynomials:j,chooseMode:K,getModes:Q,getDataCodewordsCount:X,getVersion:J,getDataString:Z,encodeFormatInformation:ee,encodeBCH:te,dividePolynomials:ie,initMatrices:re,addFormatInformation:oe,encodeVersionInformation:se,addVersionInformation:ae,addCentricPattern:le,addFinderSeparator:ce,addFinderPatterns:he,addAlignmentPatterns:de,addTimingFunctions:ue,scoreMaskMatrixes:pe,encodeData:ye,UTF8Encoder:be},QRCodeFields:{modes:B,powersOfTwo:d,powersOfTwoResult:f,generatorPolynomials:m}})}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1109)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1109:function(e,t,n){var r,o,l;n(3),o=[n(1110),n(1111)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1110:function(e,t){e.exports=n(218)},1111:function(e,t){e.exports=n(402)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(913)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},913:function(e,t,n){var r,o,l;n(3),o=[n(914)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.dataviz,r=n.ChartInstanceObserver,o=n.ui.Chart,l=n.StockChart,c=n.constants,h=c.NAVIGATOR_AXIS,d=c.NAVIGATOR_PANE,f=t.deepExtend,m=n.defined,v=e.proxy,_=r.extend({handlerMap:{navigatorFilter:"_onNavigatorFilter",navigatorCreated:"_onNavigatorCreated"}}),w=o.extend({options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1},persistSeriesVisibility:!0},_createChart:function(e,t){this._initNavigatorOptions(e),this._instance=new l(this.element[0],e,t,{observer:new _(this),sender:this,rtl:this._isRtl()})},_initNavigatorOptions:function(e){var n=e.navigator||{},r=t.support,o=r.touch,l=r.browser.mozilla;f(n,{autoBindElements:!n.dataSource,partialRedraw:n.dataSource,liveDrag:!o&&!l})},_initDataSource:function(e){var r=e||{},l=r.dataSource,c=l&&l.serverFiltering,h=[].concat(r.categoryAxis)[0],select=(r.navigator||{}).select,d=select&&select.from&&select.to;if(c&&d){var filter=[].concat(l.filter||[]),m=t.parseDate(select.from),v=t.parseDate(select.to),_=new n.DateCategoryAxis(f({baseUnit:"fit"},h,{categories:[m,v]}),t);l.filter=y(_.range().min,v).concat(filter)}o.fn._initDataSource.call(this,e)},_onNavigatorCreated:function(e){this._instance=e.sender,this.options=e.sender.options,this._navigator=this.navigator=e.navigator,this._initNavigatorDataSource()},_initNavigatorDataSource:function(){var e=this.options.navigator,n=e.autoBind,r=e.dataSource;r&&(this._navigatorDataChangedHandler=this._navigatorDataChangedHandler||v(this._onNavigatorDataChanged,this),this._navigatorDataSource=t.data.DataSource.create(r).bind("change",this._navigatorDataChangedHandler),m(n)||(n=this.options.autoBind),n&&this._navigatorDataSource.fetch())},_bindNavigatorSeries:function(e,data){var t,n,r=e.length;for(t=0;t<r;t++)(n=e[t]).axis==h&&this._isBindable(n)&&(n.data=data)},_onNavigatorDataChanged:function(){var e,t,n,r=this._instance,o=this.options.categoryAxis,l=o.length,data=this._navigatorDataSource.view();for(this._bindNavigatorSeries(this.options.series,data),this._sourceSeries&&this._bindNavigatorSeries(this._sourceSeries,data),e=0;e<l;e++)(t=o[e]).pane==d&&(t.name==h?(this._bindCategoryAxis(t,data,e),n=t.categories):t.categories=n);if(r._model){var c=this.navigator;c.redraw(),c.setRange(),(!this.options.dataSource||this.options.dataSource&&this._dataBound)&&c.redrawSlaves()}},_bindCategories:function(){o.fn._bindCategories.call(this),this._instance&&this._instance.copyNavigatorCategories()},_onDataChanged:function(){o.fn._onDataChanged.call(this),this._dataBound=!0},setOptions:function(e){this._removeNavigatorDataSource(),this._initNavigatorOptions(e),this._instance.destroyNavigator(),o.fn.setOptions.call(this,e)},_onNavigatorFilter:function(e){this.dataSource.filter(y(e.from,e.to))},requiresHandlers:function(e){if(n.inArray("navigatorFilter",e)){var t=this.dataSource;return t&&t.options.serverFiltering&&this.options.navigator.dataSource}return o.fn.requiresHandlers.call(this,e)},_removeNavigatorDataSource:function(){var e=this._navigatorDataSource;e&&(e.unbind("change",this._navigatorDataChangedHandler),delete this._navigatorDataSource)},destroy:function(){o.fn.destroy.call(this),this._removeNavigatorDataSource()}});function y(e,t){return[{field:"Date",operator:"gte",value:e},{field:"Date",operator:"lt",value:t}]}n.ui.plugin(w)}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},914:function(e,t){e.exports=n(218)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1106)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1106:function(e,t,n){var r,o,l;n(3),o=[n(1107),n(1108)],void 0===(l="function"==typeof(r=function(){})?r.apply(t,o):r)||(e.exports=l)},1107:function(e,t){e.exports=n(219)},1108:function(e,t){e.exports=n(404)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(910)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},910:function(e,t,n){var r,o,l;n(3),o=[n(911)],void 0===(l="function"==typeof(r=function(){!function(e){var t=kendo.dataviz,n=t.ui.Chart,r=t.Sparkline,o=t.ChartInstanceObserver,l=e.extend,c=n.extend({init:function(element,e){var t=e;t instanceof kendo.data.ObservableArray&&(t={seriesDefaults:{data:t}}),n.fn.init.call(this,element,r.normalizeOptions(t))},_createChart:function(e,t){this._instance=new r(this.element[0],e,t,{observer:new o(this),sender:this,rtl:this._isRtl()})},_createTooltip:function(){return new h(this.element,l({},this.options.tooltip,{rtl:this._isRtl()}))},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]}});t.ui.plugin(c);var h=t.Tooltip.extend({options:{animation:{duration:0}},_hideElement:function(){this.element&&this.element.hide().remove()}});t.SparklineTooltip=h}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},911:function(e,t){e.exports=n(219)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1091)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1025:function(e,t){e.exports=n(19)},1041:function(e,t){e.exports=n(8)},1056:function(e,t){e.exports=n(65)},1062:function(e,t){e.exports=n(5)},1063:function(e,t){e.exports=n(17)},1091:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1041),n(1056),n(1025),n(1062),n(1063),n(1093),n(1094),n(1095),n(1092),n(1096),n(1097),n(1098),n(1099),n(1100),n(1101),n(1102),n(1103)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1092:function(e,t){e.exports=n(406)},1093:function(e,t){e.exports=n(43)},1094:function(e,t){e.exports=n(407)},1095:function(e,t){e.exports=n(408)},1096:function(e,t){e.exports=n(220)},1097:function(e,t){e.exports=n(99)},1098:function(e,t){e.exports=n(221)},1099:function(e,t){e.exports=n(409)},1100:function(e,t){e.exports=n(222)},1101:function(e,t){e.exports=n(410)},1102:function(e,t){e.exports=n(411)},1103:function(e,t){e.exports=n(412)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(907)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},862:function(e,t){e.exports=n(0)},907:function(e,t,n){var r,o,l;n(3),o=[n(862)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.ui.Widget,r=t.keys,o=e.proxy;function button(e,n){return t.format('<button class="k-button k-zoom-{0}" title="zoom-{0}" aria-label="zoom-{0}"><span class="k-icon {1}"></span></button>',e,n)}var l=button("in","k-i-plus")+button("out","k-i-minus"),c=n.extend({init:function(element,e){n.fn.init.call(this,element,e),this._initOptions(e),this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal k-button-group k-group-horizontal").append(l).on("click.kendoZoomControl",".k-button",o(this,"_click"));var r=this.element.parent().closest("["+t.attr("role")+"]");this._keyroot=r.length>0?r:this.element,this._tabindex(this._keyroot),this._keydown=o(this._keydown,this),this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(e){var t=this.options.zoomStep;this.trigger("change",{delta:e*t})},_click:function(t){var n=1;e(t.currentTarget).is(".k-zoom-out")&&(n=-1),this._change(n),t.preventDefault()},_keydown:function(e){switch(e.which){case r.NUMPAD_PLUS:case 187:case 61:this._change(1);break;case r.NUMPAD_MINUS:case 189:case 173:this._change(-1)}}});t.dataviz.ui.plugin(c)}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(886)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},859:function(e,t){e.exports=n(7)},886:function(e,t,n){var r,o,l;n(3),o=[n(859)],void 0===(l="function"==typeof(r=function(){!function(){var e=window.kendo,t=e.ui.Widget,template=e.template,n=e.drawing.util,r=n.valueOrDefault,o=n.defined,l=t.extend({init:function(element,e){t.fn.init.call(this,element,e),this._initOptions(e),this.items=[],this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(e,t){this._extent=e,this._zoom=t,this._render()},add:function(e){o(e)&&("string"==typeof e&&(e={text:e}),this.items.push(e),this._render())},remove:function(text){for(var e=[],i=0;i<this.items.length;i++){var t=this.items[i];t.text!==text&&e.push(t)}this.items=e,this._render()},clear:function(){this.items=[],this.element.empty()},_render:function(){for(var e=[],t=template(this.options.itemTemplate),i=0;i<this.items.length;i++){var n=this.items[i],text=this._itemText(n);""!==text&&e.push(t({text:text}))}e.length>0?this.element.empty().append(e.join(this.options.separator)).show():this.element.hide()},_itemText:function(e){var text="",t=this._inZoomLevel(e.minZoom,e.maxZoom),n=this._inArea(e.extent);return t&&n&&(text+=e.text),text},_inZoomLevel:function(e,t){return e=r(e,-Number.MAX_VALUE),t=r(t,Number.MAX_VALUE),this._zoom>e&&this._zoom<t},_inArea:function(area){var e=!0;return area&&(e=area.contains(this._extent)),e}});e.dataviz.ui.plugin(l)}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(906)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},862:function(e,t){e.exports=n(0)},906:function(e,t,n){var r,o,l;n(3),o=[n(862)],void 0===(l="function"==typeof(r=function(){!function(e){var t=window.kendo,n=t.ui.Widget,r=t.keys,o=e.proxy;function button(e){return t.format('<button class="k-button k-navigator-{0}" aria-label="move {0}"><span class="k-icon k-i-arrow-60-{0}"/></button>',e)}var l=button("up")+button("right")+button("down")+button("left"),c=n.extend({init:function(element,e){n.fn.init.call(this,element,e),this._initOptions(e),this.element.addClass("k-widget k-header k-shadow k-navigator").append(l).on("click.kendoNavigator",".k-button",o(this,"_click"));var r=this.element.parent().closest("["+t.attr("role")+"]");this._keyroot=r.length>0?r:this.element,this._tabindex(this._keyroot),this._keydown=o(this._keydown,this),this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(e,t){var n=this.options.panStep;this.trigger("pan",{x:e*n,y:t*n})},_click:function(t){var n=0,r=0,button=e(t.currentTarget);button.is(".k-navigator-up")?r=1:button.is(".k-navigator-down")?r=-1:button.is(".k-navigator-right")?n=1:button.is(".k-navigator-left")&&(n=-1),this._pan(n,r),t.preventDefault()},_keydown:function(e){switch(e.which){case r.UP:this._pan(0,1),e.preventDefault();break;case r.DOWN:this._pan(0,-1),e.preventDefault();break;case r.RIGHT:this._pan(1,0),e.preventDefault();break;case r.LEFT:this._pan(-1,0),e.preventDefault()}}});t.dataviz.ui.plugin(c)}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(894)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},894:function(e,t,n){var r,o,l;n(3),o=[n(895)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.getter,o=n.dataviz,l=n.deepExtend,g=n.geometry,c=n.drawing,h=c.util.defined,map=o.map,d=map.Location,f=map.layers.ShapeLayer.extend({options:{autoBind:!0,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(data){if(this.surface.clear(),0!==data.length){var e=this.options,t=r(e.valueField);(data=data.slice(0)).sort((function(a,b){return t(b)-t(a)}));for(var n,o=this._scaleType(),i=0;i<data.length;i++){var l=data[i],c=r(e.locationField)(l),f=r(e.valueField)(l);if(h(c)&&h(f)){n||(n=new o([0,f],[e.minSize,e.maxSize])),c=d.create(c);var m=this.map.locationToView(c),v=n.map(f),symbol=this._createSymbol({center:m,size:v,style:e.style,dataItem:l,location:c});symbol.dataItem=l,symbol.location=c,symbol.value=f,this._drawSymbol(symbol)}}}},_scaleType:function(){var e=this.options.scale;return n.isFunction(e)?e:o.map.scales[e]},_createSymbol:function(e){var symbol=this.options.symbol;return n.isFunction(symbol)||(symbol=o.map.symbols[symbol]),symbol(e)},_drawSymbol:function(e){var t={layer:this,shape:e};this.map.trigger("shapeCreated",t)||this.surface.draw(e)}}),m=n.Class.extend({init:function(e,t){this._domain=e,this._range=t;var n=Math.sqrt(e[1])-Math.sqrt(e[0]),r=t[1]-t[0];this._ratio=r/n},map:function(e){var t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t}});l(o,{map:{layers:{bubble:f,BubbleLayer:f},scales:{sqrt:m},symbols:{circle:function(e){var t=new g.Circle(e.center,e.size/2);return new c.Circle(t,e.style)},square:function(e){var path=new c.Path(e.style),t=e.size/2,n=e.center;return path.moveTo(n.x-t,n.y-t).lineTo(n.x+t,n.y-t).lineTo(n.x+t,n.y+t).lineTo(n.x-t,n.y+t).close(),path}}}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},895:function(e,t){e.exports=n(221)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(892)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},892:function(e,t,n){var r,o,l;n(3),o=[n(893)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=window.kendo,r=n.dataviz,o=n.deepExtend,l=n.drawing.util.defined,c=r.map.Extent,h=r.map.Location,d=r.map.layers.TileLayer,f=r.map.layers.TileView,m=d.extend({init:function(map,t){this.options.baseUrl=this._scheme()+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/",d.fn.init.call(this,map,t),this._onMetadata=e.proxy(this._onMetadata,this),this._fetchMetadata()},options:{imagerySet:"road"},_fetchMetadata:function(){var t=this.options;if(!t.key)throw new Error("Bing tile layer: API key is required");e.ajax({url:t.baseUrl+t.imagerySet,data:{output:"json",include:"ImageryProviders",key:t.key,uriScheme:this._scheme()},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(e){return"https"===(e=e||window.location.protocol).replace(":","")?"https":"http"},_onMetadata:function(data){if(data&&data.resourceSets.length){var e=this.resource=data.resourceSets[0].resources[0];o(this._view.options,{urlTemplate:e.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:e.imageUrlSubdomains});var t=this.options;l(t.minZoom)||(t.minZoom=e.zoomMin),l(t.maxZoom)||(t.maxZoom=e.zoomMax),this._addAttribution(),"none"!==this.element.css("display")&&this._reset()}},_viewType:function(){return v},_addAttribution:function(){var e=this.map.attribution;if(e){var t=this.resource.imageryProviders;if(t)for(var i=0;i<t.length;i++)for(var n=t[i],r=0;r<n.coverageAreas.length;r++){var area=n.coverageAreas[r];e.add({text:n.attribution,minZoom:area.zoomMin,maxZoom:area.zoomMax,extent:new c(new h(area.bbox[2],area.bbox[1]),new h(area.bbox[0],area.bbox[3]))})}}},imagerySet:function(e){if(!e)return this.options.imagerySet;this.options.imagerySet=e,this.map.attribution.clear(),this._fetchMetadata()}}),v=f.extend({options:{culture:"en-US"},tileOptions:function(e){var t=f.fn.tileOptions.call(this,e);return t.culture=this.options.culture,t.quadkey=this.tileQuadKey(this.wrapIndex(e)),t},tileQuadKey:function(e){var t,mask,i,n="";for(i=this._zoom;i>0;i--)t=0,mask=1<<i-1,0!=(e.x&mask)&&t++,0!=(e.y&mask)&&(t+=2),n+=t;return n}});o(r,{map:{layers:{bing:m,BingLayer:m,BingView:v}}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},893:function(e,t){e.exports=n(222)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(896)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},891:function(e,t){e.exports=n(43)},896:function(e,t,n){var r,o,l;n(3),o=[n(897),n(891),n(898),n(899)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=document,r=Math,o=e.inArray,l=e.proxy,c=window.kendo,h=c.Class,d=c.data.DataSource,f=c.ui.Tooltip,m=c.dataviz,v=c.deepExtend,map=m.map,_=map.Location,w=map.layers.Layer,y=w.extend({init:function(map,e){w.fn.init.call(this,map,e),this._markerClick=l(this._markerClick,this),this.element.on("click",".k-marker",this._markerClick),this.items=[],this._initDataSource()},destroy:function(){w.fn.destroy.call(this),this.element.off("click",".k-marker",this._markerClick),this.dataSource.unbind("change",this._dataChange),this.clear()},options:{zIndex:1e3,autoBind:!0,dataSource:{},locationField:"location",titleField:"title"},add:function(t){if(!e.isArray(t))return this._addOne(t);for(var i=0;i<t.length;i++)this._addOne(t[i])},remove:function(marker){marker.destroy();var e=o(marker,this.items);e>-1&&this.items.splice(e,1)},clear:function(){for(var i=0;i<this.items.length;i++)this.items[i].destroy();this.items=[]},update:function(marker){var e=marker.location();if(e){marker.showAt(this.map.locationToView(e));var t={marker:marker,layer:this};this.map.trigger("markerActivate",t)}},_reset:function(){w.fn._reset.call(this);for(var e=this.items,i=0;i<e.length;i++)this.update(e[i])},bind:function(e,t){var marker=map.Marker.create(e,this.options);marker.dataItem=t;var n={marker:marker,layer:this};if(!this.map.trigger("markerCreated",n))return this.add(marker),marker},setDataSource:function(e){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=c.data.DataSource.create(e),this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_addOne:function(e){var marker=x.create(e,this.options);return marker.addTo(this),marker},_initDataSource:function(){var e=this.options.dataSource;this._dataChange=l(this._dataChange,this),this.dataSource=d.create(e).bind("change",this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(e){this._load(e.sender.view())},_load:function(data){this._data=data,this.clear();for(var e=c.getter(this.options.locationField),t=c.getter(this.options.titleField),i=0;i<data.length;i++){var n=data[i];this.bind({location:e(n),title:t(n)},n)}},_markerClick:function(t){var n={marker:e(t.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",n)}}),x=h.extend({init:function(e){this.options=e||{}},addTo:function(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this)},location:function(e){return e?(this.options.location=_.create(e).toArray(),this.layer&&this.layer.update(this),this):_.create(this.options.location)},showAt:function(e){this.render(),this.element.css({left:r.round(e.x),top:r.round(e.y)}),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},hide:function(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},destroy:function(){this.layer=null,this.hide()},render:function(){if(!this.element){var t=this.options,r=this.layer;this.element=e(n.createElement("span")).addClass("k-marker k-icon k-i-marker-"+c.toHyphens(t.shape||"pin")).attr("title",t.title).attr(t.attributes||{}).data("kendoMarker",this).css("zIndex",t.zIndex),r&&r.element.append(this.element),this.renderTooltip()}},renderTooltip:function(){var marker=this,title=marker.options.title,e=marker.options.tooltip||{};if(e&&f){var template=e.template;if(template){var t=c.template(template);e.content=function(e){return e.location=marker.location(),e.marker=marker,t(e)}}(title||e.content||e.contentUrl)&&(this.tooltip=new f(this.element,e),this.tooltip.marker=this)}}});x.create=function(e,t){return e instanceof x?e:new x(v({},t,e))},v(m,{map:{layers:{marker:y,MarkerLayer:y},Marker:x}})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},897:function(e,t){e.exports=n(99)},898:function(e,t){e.exports=n(3)},899:function(e,t){e.exports=n(65)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(904)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},888:function(e,t){e.exports=n(43)},904:function(e,t,n){var r,o,l;n(3),o=[n(905),n(888)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=document,r=Math,o=r.min,l=r.pow,c=e.proxy,h=window.kendo,d=h.ui.Widget,f=h.deepExtend,m=h.dataviz,v=m.ui,g=h.geometry,_=g.Point,map=m.map,w=map.Extent,y=map.Location,x=map.crs.EPSG3857,k=h.util.renderPos,C=h.drawing.util,S=C.defined,T=C.limitValue,D=C.valueOrDefault,E=d.extend({init:function(element,e){h.destroy(element),d.fn.init.call(this,element),this._initOptions(e),this.bind(this.events,e),this.crs=new x,this.element.addClass("k-"+this.options.name.toLowerCase()).css("position","relative").empty().append(n.createElement("div")),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheel=c(this._mousewheel,this),this.element.bind("DOMMouseScroll mousewheel",this._mousewheel)},options:{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0},events:["beforeReset","click","markerActivate","markerClick","markerCreated","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"],destroy:function(){this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),this.markers.destroy();for(var i=0;i<this.layers.length;i++)this.layers[i].destroy();d.fn.destroy.call(this)},zoom:function(e){var t=this.options;return S(e)?(e=r.round(T(e,t.minZoom,t.maxZoom)),t.zoom!==e&&(t.zoom=e,this._reset()),this):t.zoom},center:function(e){return e?(this.options.center=y.create(e).toArray(),this._reset(),this):y.create(this.options.center)},extent:function(e){return e?(this._setExtent(e),this):this._getExtent()},setOptions:function(e){d.fn.setOptions.call(this,e),this._reset()},locationToLayer:function(e,t){var n=!this.options.wraparound;return e=y.create(e),this.crs.toPoint(e,this._layerSize(t),n)},layerToLocation:function(e,t){var n=!this.options.wraparound;return e=_.create(e),this.crs.toLocation(e,this._layerSize(t),n)},locationToView:function(e){e=y.create(e);var t=this.locationToLayer(this._viewOrigin);return this.locationToLayer(e).translateWith(t.scale(-1))},viewToLocation:function(e,t){var n=this.locationToLayer(this._getOrigin(),t);return e=(e=_.create(e)).clone().translateWith(n),this.layerToLocation(e,t)},eventOffset:function(e){var t,n,r,o=this.element.offset();if(e.x||e.y)n=e.x.location-o.left,r=e.y.location-o.top,t=new g.Point(n,r);else{var l=e.originalEvent||e;n=D(l.pageX,l.clientX)-o.left,r=D(l.pageY,l.clientY)-o.top,t=new g.Point(n,r)}return t},eventToView:function(e){var cursor=this.eventOffset(e);return this.locationToView(this.viewToLocation(cursor))},eventToLayer:function(e){return this.locationToLayer(this.eventToLocation(e))},eventToLocation:function(e){var cursor=this.eventOffset(e);return this.viewToLocation(cursor)},viewSize:function(){var element=this.element,e=this._layerSize(),t=element.width();return this.options.wraparound||(t=o(e,t)),{width:t,height:o(e,element.height())}},exportVisual:function(){return this._reset(),!1},_setOrigin:function(e,t){var n,r=this.viewSize();return e=this._origin=y.create(e),(n=this.locationToLayer(e,t)).x+=r.width/2,n.y+=r.height/2,this.options.center=this.layerToLocation(n,t).toArray(),this},_getOrigin:function(e){var t,n=this.viewSize();return!e&&this._origin||((t=this.locationToLayer(this.center())).x-=n.width/2,t.y-=n.height/2,this._origin=this.layerToLocation(t)),this._origin},_setExtent:function(e){var t=w.create(e),n=t.se.clone();this.options.wraparound&&n.lng<0&&e.nw.lng>0&&(n.lng=180+(180+n.lng)),e=new w(t.nw,n),this.center(e.center());for(var o=this.element.width(),l=this.element.height(),c=this.options.maxZoom;c>=this.options.minZoom;c--){var h=this.locationToLayer(e.nw,c),d=this.locationToLayer(e.se,c),f=r.abs(d.x-h.x),m=r.abs(d.y-h.y);if(f<=o&&m<=l)break}this.zoom(c)},_getExtent:function(){var e=this._getOrigin(),t=this.locationToLayer(e),n=this.viewSize();t.x+=n.width,t.y+=n.height;var r=this.layerToLocation(t);return new w(e,r)},_zoomAround:function(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)},_initControls:function(){var e=this.options.controls;v.Attribution&&e.attribution&&this._createAttribution(e.attribution),h.support.mobileOS||(v.Navigator&&e.navigator&&this._createNavigator(e.navigator),v.ZoomControl&&e.zoom&&this._createZoomControl(e.zoom))},_createControlElement:function(t,n){var r=t.position||n,o="."+k(r).replace(" ","."),l=e(".k-map-controls"+o,this.element);return 0===l.length&&(l=e("<div>").addClass("k-map-controls "+k(r)).appendTo(this.element)),e("<div>").appendTo(l)},_createAttribution:function(e){var element=this._createControlElement(e,"bottomRight");this.attribution=new v.Attribution(element,e)},_createNavigator:function(e){var element=this._createControlElement(e,"topLeft"),t=this.navigator=new v.Navigator(element,e);this._navigatorPan=c(this._navigatorPan,this),t.bind("pan",this._navigatorPan),this._navigatorCenter=c(this._navigatorCenter,this),t.bind("center",this._navigatorCenter)},_navigatorPan:function(e){var map=this,t=map.scroller,n=t.scrollLeft+e.x,r=t.scrollTop-e.y,o=this._virtualSize,l=this.element.height(),c=this.element.width();n=T(n,o.x.min,o.x.max-c),r=T(r,o.y.min,o.y.max-l),map.scroller.one("scroll",(function(e){map._scrollEnd(e)})),map.scroller.scrollTo(-n,-r)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(e){var element=this._createControlElement(e,"topLeft"),t=this.zoomControl=new v.ZoomControl(element,e);this._zoomControlChange=c(this._zoomControlChange,this),t.bind("change",this._zoomControlChange)},_zoomControlChange:function(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}))},_initScroller:function(){var e=h.support.mobileOS?.93:.9,t=!1!==this.options.zoomable,n=this.scroller=new h.mobile.ui.Scroller(this.element.children(0),{friction:e,velocityMultiplier:5,zoom:t,mousewheelScrolling:!1,supportDoubleTap:!0});n.bind("scroll",c(this._scroll,this)),n.bind("scrollEnd",c(this._scrollEnd,this)),n.userEvents.bind("gesturestart",c(this._scaleStart,this)),n.userEvents.bind("gestureend",c(this._scale,this)),n.userEvents.bind("doubleTap",c(this._doubleTap,this)),n.userEvents.bind("tap",c(this._tap,this)),this.scrollElement=n.scrollElement},_initLayers:function(){for(var defs=this.options.layers,e=this.layers=[],i=0;i<defs.length;i++){var t=defs[i],n=t.type||"shape",r=this.options.layerDefaults[n],o=m.map.layers[n];e.push(new o(this,f({},r,t)))}},_initMarkers:function(){this.markers=new map.layers.MarkerLayer(this,this.options.markerDefaults),this.markers.add(this.options.markers)},_scroll:function(e){var t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,r=new g.Point(n.x,n.y).scale(-1).scale(1/n.scale);t.x+=r.x,t.y+=r.y,this._scrollOffset=r,this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(e){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTS=new Date,this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}))},_panComplete:function(){return new Date-(this._panEndTS||0)>50},_scaleStart:function(e){if(this.trigger("zoomStart",{originalEvent:e})){var t=e.touches[1];t&&t.cancel()}},_scale:function(e){var t=this.scroller.movable.scale,n=this._scaleToZoom(t),r=new g.Point(e.center.x,e.center.y),o=this.viewToLocation(r,n),l=this.locationToLayer(o,n).translate(-r.x,-r.y);this._zoomAround(l,n),this.trigger("zoomEnd",{originalEvent:e})},_scaleToZoom:function(e){var t=this._layerSize()*e/this.options.minSize,n=r.log(t)/r.log(2);return r.round(n)},_reset:function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger("beforeReset"),this.trigger("reset")},_resetScroller:function(){var e=this.scroller,t=e.dimensions.x,n=e.dimensions.y,r=this._layerSize(),o=this.extent().nw,c=this.locationToLayer(o).round();e.movable.round=!0,e.reset(),e.userEvents.cancel();var h=this.zoom();e.dimensions.forcedMinScale=l(2,this.options.minZoom-h),e.dimensions.maxScale=l(2,this.options.maxZoom-h);var d={min:-c.x,max:r-c.x},f={min:-c.y,max:r-c.y};if(this.options.wraparound&&(d.max=20*r,d.min=-d.max),!1===this.options.pannable){var m=this.viewSize();d.min=f.min=0,d.max=m.width,f.max=m.height}t.makeVirtual(),n.makeVirtual(),t.virtualSize(d.min,d.max),n.virtualSize(f.min,f.max),this._virtualSize={x:d,y:f}},_renderLayers:function(){var defs=this.options.layers,e=this.layers=[];this.scrollWrap.empty();for(var i=0;i<defs.length;i++){var t=defs[i],n=t.type||"shape",r=this.options.layerDefaults[n],o=m.map.layers[n];e.push(new o(this,f({},r,t)))}},_layerSize:function(e){return e=D(e,this.options.zoom),this.options.minSize*l(2,e)},_tap:function(e){if(this._panComplete()){var cursor=this.eventOffset(e);this.trigger("click",{originalEvent:e,location:this.viewToLocation(cursor)})}},_doubleTap:function(e){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:e})){var t=this.zoom()+1,cursor=this.eventOffset(e),n=this.viewToLocation(cursor),r=this.locationToLayer(n,t).translate(-cursor.x,-cursor.y);this._zoomAround(r,t),this.trigger("zoomEnd",{originalEvent:e})}},_mousewheel:function(e){e.preventDefault();var t=m.mwDelta(e)>0?-1:1,n=this.options,r=this.zoom(),o=T(r+t,n.minZoom,n.maxZoom);if(!1!==n.zoomable&&o!==r&&!this.trigger("zoomStart",{originalEvent:e})){var cursor=this.eventOffset(e),l=this.viewToLocation(cursor),c=this.locationToLayer(l,o).translate(-cursor.x,-cursor.y);this._zoomAround(c,o),this.trigger("zoomEnd",{originalEvent:e})}}});m.ui.plugin(E)}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},905:function(e,t){e.exports=n(220)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1082)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1003:function(e,t){e.exports=n(7)},1016:function(e,t){e.exports=n(3)},1025:function(e,t){e.exports=n(19)},1041:function(e,t){e.exports=n(8)},1062:function(e,t){e.exports=n(5)},1082:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1062),n(1041),n(1025),n(1003),n(1083),n(1084),n(1085),n(1086),n(1087),n(1088)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1083:function(e,t){e.exports=n(223)},1084:function(e,t){e.exports=n(147)},1085:function(e,t){e.exports=n(148)},1086:function(e,t){e.exports=n(224)},1087:function(e,t){e.exports=n(225)},1088:function(e,t){e.exports=n(414)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(867)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},856:function(e,t){e.exports=n(3)},857:function(e,t){e.exports=n(17)},858:function(e,t){e.exports=n(72)},867:function(e,t,n){var r,o,l;n(3),o=[n(856),n(869),n(870),n(871),n(872),n(868),n(857),n(858),n(873),n(874),n(875)],void 0===(l="function"==typeof(r=function(){!function(e,t){var n=kendo.dataviz,r=kendo.drawing,o=kendo.geometry,l=n.diagram,c=kendo.ui.Widget,h=kendo.Class,d=e.proxy,f=kendo.deepExtend,m=kendo._outerWidth,v=kendo._outerHeight,_=e.extend,w=kendo.data.HierarchicalDataSource,y=l.Canvas,x=l.Group,k=l.Rectangle,C=l.Circle,S=l.CompositeTransform,T=l.Rect,D=l.Path,E=l.DeleteShapeUnit,A=l.DeleteConnectionUnit,I=l.TextBlock,M=l.Image,R=l.Point,F=l.Intersect,P=l.ConnectionEditAdorner,z=l.UndoRedoService,B=l.ToolService,L=l.Selector,H=l.ResizingAdorner,N=l.ConnectorsAdorner,O=l.Cursors,V=l.Utils,W=kendo.Observable,U=l.ToBackUnit,j=l.ToFrontUnit,G=l.PolylineRouter,$=l.CascadingRouter,Y=V.isUndefined,K=V.isDefined,Q=r.util.defined,X=e.isArray,J=kendo.isFunction,Z=V.isString,ee=e.isPlainObject,te=Math,ie=".kendoDiagram",ne="Auto",re=9007199254740992,oe=Number.MAX_VALUE,se=-Number.MAX_VALUE;l.DefaultConnectors=[{name:"Top"},{name:"Bottom"},{name:"Left"},{name:"Right"},{name:ne,position:function(e){return e.getPosition("center")}}];var ae={cancel:{text:"Cancel",imageClass:"k-i-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-i-checkmark",className:"k-diagram-update",iconClass:"k-icon"}};function le(e){return e.options.name.toLowerCase()===ne.toLowerCase()}function ce(e,t){for(var n,r,o=re,i=0;i<t.length;i++)if(!le(r=t[i])){var l=e.distanceTo(r.position());l<o&&(o=l,n=r)}return n}function he(e,t){var i,n,r=[],o=e.drawingContainer().children,l=o.length;for(i=0;i<t.length;i++){n=t[i];for(var c=0;c<l;c++)if(o[c]==n.drawingContainer()){r.push(c);break}}return r}l.shapeDefaults=function(e){var t={type:"rectangle",path:"",autoSize:!0,visual:null,x:0,y:0,minWidth:20,minHeight:20,width:100,height:100,hover:{},editable:{connect:!0,tools:[]},connectors:l.DefaultConnectors,rotation:{angle:0}};return V.simpleExtend(t,e),t};var de=W.extend({init:function(e){this.dataItem=(e||{}).dataItem,W.fn.init.call(this),this.options=f({id:l.randomId()},this.options,e),this.isSelected=!1,this.visual=new x({id:this.options.id,autoSize:this.options.autoSize}),this.id=this.options.id,this._template()},options:{hover:{},cursor:O.grip,content:{align:"center middle"},selectable:!0,serializable:!0,enable:!0},_getCursor:function(e){return this.adorner?this.adorner._getCursor(e):this.options.cursor},visible:function(e){if(Y(e))return this.visual.visible();this.visual.visible(e)},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(e){this.options.x=e.x,this.options.y=e.y,this.visual.position(e)},toString:function(){return this.options.id},serialize:function(){var e=f({},{options:this.options});return this.dataItem&&(e.dataItem=this.dataItem.toString()),e},_content:function(content){if(void 0!==content){var e=this.options;l.Utils.isString(content)?e.content.text=content:f(e.content,content);var t=e.content;this._contentVisual?this._updateContentVisual(t):this._createContentVisual(t)}return this.options.content.text},_createContentVisual:function(e){e.text&&(this._contentVisual=new I(e),this._contentVisual._includeInBBox=!1,this.visual.append(this._contentVisual))},_updateContentVisual:function(e){this._contentVisual.redraw(e)},_hitTest:function(e){var t=this.bounds();return this.visible()&&t.contains(e)&&this.options.enable},_template:function(){if(this.options.content.template){var data=this.dataItem||{},e=kendo.template(this.options.content.template,{paramName:"dataItem"});this.options.content.text=e(data)}},_canSelect:function(){return!1!==this.options.selectable},toJSON:function(){return{id:this.options.id}}}),ue=h.extend({init:function(e,t){this.options=f({},this.options,t),this.connections=[],this.shape=e},options:{width:7,height:7,fill:{color:"Yellow"},hover:{}},position:function(){return this.options.position?this.options.position(this.shape):this.shape.getPosition(this.options.name)},toJSON:function(){return{shapeId:this.shape.toString(),connector:this.options.name}}});ue.parse=function(e,t){for(var n=t.split(":"),r=n[0],o=n[1]||ne,i=0;i<e.shapes.length;i++){var l=e.shapes[i];if(l.options.id==r)return l.getConnector(o.trim())}};var pe=de.extend({init:function(e,t){de.fn.init.call(this,e),this.diagram=t,this.updateOptionsFromModel(),e=this.options,this.connectors=[],this.type=e.type,this.createShapeVisual(),this.updateBounds(),this.content(this.content()),this._createConnectors()},options:l.shapeDefaults(),_setOptionsFromModel:function(e){var t=me(e||this.dataItem);this.options=f({},this.options,t),this.redrawVisual()},updateOptionsFromModel:function(e,t){if(this.diagram&&this.diagram._isEditable){var r=me(e||this.dataItem);if(e&&t)if(n.inArray(t,["x","y","width","height"])){var o=this.bounds();o[t]=e[t],this.bounds(o)}else this.options.visual?this._redrawVisual():r.type&&(this.options=f({},this.options,r),this._redrawVisual()),this.options.content&&(this._template(),this.content(this.options.content));else this.options=f({},this.options,r)}},_redrawVisual:function(){this.visual.clear(),this._contentVisual=null,this.options.dataItem=this.dataItem,this.createShapeVisual(),this.updateBounds()},redrawVisual:function(){this._redrawVisual(),this.options.content&&(this._template(),this.content(this.options.content))},updateModel:function(e){var t=this.diagram;if(t&&t._isEditable){var n=this._bounds,r=this.dataItem;r&&(t._suspendModelRefresh(),Q(r.x)&&n.x!==r.x&&r.set("x",n.x),Q(r.y)&&n.y!==r.y&&r.set("y",n.y),Q(r.width)&&n.width!==r.width&&r.set("width",n.width),Q(r.height)&&n.height!==r.height&&r.set("height",n.height),this.dataItem=r,t._resumeModelRefresh(),e&&t._syncShapeChanges())}},updateBounds:function(){var e=this.visual._measure(!0),t=this.options;this.bounds(new T(t.x,t.y,e.width,e.height)),this._rotate(),this._alignContent()},content:function(content){var e=this._content(content);return this._alignContent(),e},_alignContent:function(){var e=this.options.content||{},t=this._contentVisual;if(t&&e.align){var n=this.visual._measure(),r=new l.RectAlign(n),o=t.drawingElement.bbox(null),c=new T(0,0,o.width(),o.height()),h=r.align(c,e.align);t.position(h.topLeft())}},_createConnectors:function(){var e,i,t=this.options,n=t.connectors.length,r=t.connectorDefaults;for(i=0;i<n;i++)e=new ue(this,f({},r,t.connectors[i])),this.connectors.push(e)},bounds:function(e){var t;if(e)if(Z(e))switch(e){case"transformed":t=this._transformedBounds();break;case"absolute":t=this._transformedBounds();var n=this.diagram._pan;t.x+=n.x,t.y+=n.y;break;case"rotated":t=this._rotatedBounds();break;default:t=this._bounds}else this._setBounds(e),this._triggerBoundsChange(),this.diagram&&this.diagram._layouting||this.refreshConnections();else t=this._bounds;return t},_setBounds:function(rect){var e=this.options,t=rect.topLeft(),n=e.x=t.x,r=e.y=t.y,o=e.width=te.max(rect.width,e.minWidth),l=e.height=te.max(rect.height,e.minHeight);this._bounds=new T(n,r,o,l),this.visual.redraw({x:n,y:r,width:o,height:l})},position:function(e){if(!e)return this._bounds.topLeft();this.bounds(new T(e.x,e.y,this._bounds.width,this._bounds.height))},clone:function(){var e=this.serialize();return e.options.id=l.randomId(),this.diagram&&this.diagram._isEditable&&Q(this.dataItem)&&(e.options.dataItem=Te(this.dataItem)),new pe(e.options)},select:function(e){var t,n,r=this.diagram;if(Y(e)&&(e=!0),this._canSelect()&&this.isSelected!=e)return t=[],n=[],this.isSelected=e,this.isSelected?(r._selectedItems.push(this),t.push(this)):(V.remove(r._selectedItems,this),n.push(this)),r._internalSelection||r._selectionChanged(t,n),!0},rotate:function(e,t,n){var r=this.visual.rotate();if(void 0!==e){!1!==n&&this.diagram&&this.diagram.undoRedoService&&e!==r.angle&&this.diagram.undoRedoService.add(new l.RotateUnit(this.diagram._resizingAdorner,[this],[r.angle]),!1);var o,c,b=this.bounds(),h=new R(b.width/2,b.height/2);t&&(o=e-r.angle,c=b.center().rotate(t,360-o).minus(h),this._rotationOffset=this._rotationOffset.plus(c.minus(b.topLeft())),this.position(c)),this.visual.rotate(e,h),this.options.rotation.angle=e,this.diagram&&this.diagram._connectorsAdorner&&this.diagram._connectorsAdorner.refresh(),this.refreshConnections(),this.diagram&&this.diagram.trigger("itemRotate",{item:this})}return r},connections:function(e){var i,t,n,r,o=[];for(i=0;i<this.connectors.length;i++)for(r=this.connectors[i].connections,t=0;t<r.length;t++)if(n=r[t],"out"==e){var source=n.source();source.shape&&source.shape==this&&o.push(n)}else if("in"==e){var l=n.target();l.shape&&l.shape==this&&o.push(n)}else o.push(n);return o},refreshConnections:function(){e.each(this.connections(),(function(){this.refresh()}))},getConnector:function(e){var i,t;if(!Z(e))return e instanceof R?ce(e,this.connectors):this.connectors.length?this.connectors[0]:null;for(e=e.toLocaleLowerCase(),i=0;i<this.connectors.length;i++)if((t=this.connectors[i]).options.name.toLocaleLowerCase()==e)return t},getPosition:function(e){var b=this.bounds(),t=e.charAt(0).toLowerCase()+e.slice(1);return J(b[t])?this._transformPoint(b[t]()):b.center()},redraw:function(e){if(e){var t,n=this.options;this.shapeVisual.redraw(this._visualOptions(e)),this._diffNumericOptions(e,["width","height","x","y"])&&(this.bounds(new T(n.x,n.y,n.width,n.height)),t=!0),e.connectors&&(n.connectors=e.connectors,this._updateConnectors()),n=f(n,e),(e.rotation||t)&&this._rotate(),n.content&&this.content(n.content)}},_updateConnectors:function(){var e,source,t,n=this.connections();this.connectors=[],this._createConnectors();for(var r=0;r<n.length;r++)source=(e=n[r]).source(),t=e.target(),source.shape&&source.shape===this?e.source(this.getConnector(source.options.name)||null):t.shape&&t.shape===this&&e.target(this.getConnector(t.options.name)||null),e.updateModel()},_diffNumericOptions:l.diffNumericOptions,_visualOptions:function(e){return{data:e.path,source:e.source,hover:e.hover,fill:e.fill,stroke:e.stroke}},_triggerBoundsChange:function(){this.diagram&&this.diagram.trigger("itemBoundsChange",{item:this,bounds:this._bounds.clone()})},_transformPoint:function(e){var t=this.rotate(),n=this.bounds().topLeft();return t.angle&&e.rotate(t.center().plus(n),360-t.angle),e},_transformedBounds:function(){var e=this.bounds(),t=e.topLeft(),br=e.bottomRight();return T.fromPoints(this.diagram.modelToView(t),this.diagram.modelToView(br))},_rotatedBounds:function(){var e=this.bounds().rotatedBounds(this.rotate().angle),t=e.topLeft(),br=e.bottomRight();return T.fromPoints(t,br)},_rotate:function(){var e=this.options.rotation;e&&e.angle&&this.rotate(e.angle),this._rotationOffset=new R},_hover:function(e){var t=this.options,n=t.hover,r=t.stroke,o=t.fill;e&&K(n.stroke)&&(r=f({},r,n.stroke)),e&&K(n.fill)&&(o=n.fill),this.shapeVisual.redraw({stroke:r,fill:o}),t.editable&&t.editable.connect&&this.diagram._showConnectors(this,e)},_hitTest:function(e){if(this.visible()){var t,n=this.bounds(),r=this.rotate().angle;if(e.isEmpty&&!e.isEmpty())return F.rects(e,n,r||0);if(t=e.clone().rotate(n.center(),r),n.contains(t))return this}},toJSON:function(){return{shapeId:this.options.id}},createShapeVisual:function(){var e,t,n,r=this.options,o=this._visualOptions(r),l=r.visual,c=(r.type+"").toLocaleLowerCase();o.width=r.width,o.height=r.height,J(l)?e=l.call(this,r):o.data?(e=new D(o),0===(n=(t=e).drawingContainer().clippedBBox(null)).origin.x&&0===n.origin.y||t.position(-n.origin.x,-n.origin.y)):e="rectangle"==c?new k(o):"circle"==c?new C(o):"text"==c?new I(o):"image"==c?new M(o):new D(o),this.shapeVisual=e,this.visual.append(this.shapeVisual)}}),fe=de.extend({init:function(e,t,n){de.fn.init.call(this,n),this.updateOptionsFromModel(),this._initRouter(),this.path=new l.Polyline(this.options),this.path.fill("transparent"),this.visual.append(this.path),this._sourcePoint=this._targetPoint=new R,this._setSource(e),this._setTarget(t),this.content(this.options.content),this.definers=[],Q(n)&&n.points&&this.points(n.points)},options:{hover:{stroke:{}},startCap:"none",endCap:"none",points:[],selectable:!0,fromConnector:ne,toConnector:ne},_setOptionsFromModel:function(e){this.updateOptionsFromModel(e||this.dataItem)},updateOptionsFromModel:function(e){if(this.diagram&&this.diagram._isEditable){var t=this.diagram._dataMap,n=(l=e||this.dataItem,c={},Q((l=l||{}).text)&&null!==l.text&&(c.content=l.text),Q(l.type)&&null!==l.type&&(c.type=l.type),Q(l.from)&&null!==l.from&&(c.from=l.from),Q(l.fromConnector)&&null!==l.fromConnector&&(c.fromConnector=l.fromConnector),Q(l.fromX)&&null!==l.fromX&&(c.fromX=l.fromX),Q(l.fromY)&&null!==l.fromY&&(c.fromY=l.fromY),Q(l.to)&&null!==l.to&&(c.to=l.to),Q(l.toConnector)&&null!==l.toConnector&&(c.toConnector=l.toConnector),Q(l.toX)&&null!==l.toX&&(c.toX=l.toX),Q(l.toY)&&null!==l.toY&&(c.toY=l.toY),c);if(e){if(Q(n.from)){var r=t[n.from];r&&Q(n.fromConnector)&&(r=r.getConnector(n.fromConnector)),this.source(r)}else Q(n.fromX)&&Q(n.fromY)&&this.source(new R(n.fromX,n.fromY));if(Q(n.to)){var o=t[n.to];o&&Q(n.toConnector)&&(o=o.getConnector(n.toConnector)),this.target(o)}else Q(n.toX)&&Q(n.toY)&&this.target(new R(n.toX,n.toY));Q(n.type)&&this.type()!==n.type&&(this.points([]),this.type(n.type)),this.dataItem=e,this._template(),this.redraw(this.options)}else this.options=f({},n,this.options)}var l,c},updateModel:function(e){if(this.diagram&&this.diagram._isEditable&&this.diagram.connectionsDataSource){var t=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);t&&(this.diagram._suspendModelRefresh(),Q(this.options.fromX)&&null!==this.options.fromX?(Ae("from",t),Ae("fromConnector",t),t.set("fromX",this.options.fromX),t.set("fromY",this.options.fromY)):(t.set("from",this.options.from),Q(t.fromConnector)&&t.set("fromConnector",this.sourceConnector?this.sourceConnector.options.name:null),Ae("fromX",t),Ae("fromY",t)),Q(this.options.toX)&&null!==this.options.toX?(Ae("to",t),Ae("toConnector",t),t.set("toX",this.options.toX),t.set("toY",this.options.toY)):(t.set("to",this.options.to),Q(t.toConnector)&&t.set("toConnector",this.targetConnector?this.targetConnector.options.name:null),Ae("toX",t),Ae("toY",t)),Q(this.options.type)&&Q(t.type)&&t.set("type",this.options.type),this.dataItem=t,this.diagram._resumeModelRefresh(),e&&this.diagram._syncConnectionChanges())}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},_setSource:function(source){var e,t=source instanceof pe,n=this.options.fromConnector||ne;t&&!source.getConnector(n)||(void 0!==source&&(this.from=source),this._removeFromSourceConnector(),null===source?this.sourceConnector&&(this._sourcePoint=(this._resolvedSourceConnector||this.sourceConnector).position(),this._clearSourceConnector(),this._setFromOptions(null,this._sourcePoint)):source instanceof ue?((e=source.shape.dataItem)&&this._setFromOptions(e.id),this.sourceConnector=source,this.sourceConnector.connections.push(this)):source instanceof R?(this._setFromOptions(null,source),this._sourcePoint=source,this.sourceConnector&&this._clearSourceConnector()):t&&((e=source.dataItem)&&this._setFromOptions(e.id),this.sourceConnector=source.getConnector(n),this.sourceConnector.connections.push(this)))},source:function(source,e){return K(source)&&(e&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new l.ConnectionEditUnit(this,source)),this._setSource(source),this.refresh()),this.sourceConnector?this.sourceConnector:this._sourcePoint},_setFromOptions:function(e,t){this.options.from=e,t?(this.options.fromX=t.x,this.options.fromY=t.y):(this.options.fromX=null,this.options.fromY=null)},sourceDefiner:function(e){if(!e)return this._sourceDefiner||(this._sourceDefiner=new l.PathDefiner(this.sourcePoint(),null,null)),this._sourceDefiner;if(!(e instanceof l.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";e.left=null,this._sourceDefiner=e,this.source(e.point)},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},_setTarget:function(e){var t,n=e instanceof pe,r=this.options.toConnector||ne;n&&!e.getConnector(r)||(void 0!==e&&(this.to=e),this._removeFromTargetConnector(),null===e?this.targetConnector&&(this._targetPoint=(this._resolvedTargetConnector||this.targetConnector).position(),this._clearTargetConnector(),this._setToOptions(null,this._targetPoint)):e instanceof ue?((t=e.shape.dataItem)&&this._setToOptions(t.id),this.targetConnector=e,this.targetConnector.connections.push(this)):e instanceof R?(this._setToOptions(null,e),this._targetPoint=e,this.targetConnector&&this._clearTargetConnector()):n&&((t=e.dataItem)&&this._setToOptions(t.id),this.targetConnector=e.getConnector(r),this.targetConnector.connections.push(this)))},target:function(e,t){return K(e)&&(t&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new l.ConnectionEditUnit(this,void 0,e)),this._setTarget(e),this.refresh()),this.targetConnector?this.targetConnector:this._targetPoint},_setToOptions:function(e,t){this.options.to=e,t?(this.options.toX=t.x,this.options.toY=t.y):(this.options.toX=null,this.options.toY=null)},targetDefiner:function(e){if(!e)return this._targetDefiner||(this._targetDefiner=new l.PathDefiner(this.targetPoint(),null,null)),this._targetDefiner;if(!(e instanceof l.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";e.right=null,this._targetDefiner=e,this.target(e.point)},_updateConnectors:function(){this._updateConnector(this.source(),"source"),this._updateConnector(this.target(),"target")},_updateConnector:function(e,t){var n=this,r=n.diagram;if(e instanceof ue&&!r.getShapeById(e.shape.id)){var o=e.shape.dataItem,l=e.options.name,c=function(){var c=r._dataMap[o.id];e=c.getConnector(l),n[t](e,!1),n.updateModel()};if(r._dataMap[o.id])c();else{var h=r._inactiveShapeItems.getByUid(o.uid);h&&r._deferredConnectionUpdates.push(h.onActivate(c))}}else n[t](e,!1)},content:function(content){var e=this._content(content);return Q(content)&&this._alignContent(),e},_createContentVisual:function(e){var t;return J(e.visual)?t=e.visual.call(this,e):e.text&&(t=new I(e)),t&&(this._contentVisual=t,t._includeInBBox=!1,this.visual.append(t)),t},_updateContentVisual:function(e){J(e.visual)?(this.visual.remove(this._contentVisual),this._createContentVisual(e)):this._contentVisual.redraw(e)},_alignContent:function(){if(this._contentVisual){for(var e=5,t=this.allPoints(),n=te.floor(t.length/2),o=n-1;o>0&&t[o].equals(t[n]);)o--,n++;var l,c=t[n],h=t[o],d=this._contentVisual._measure(),f=d.width,m=d.height,v=t.length%2==0,_=h.distanceTo(c);if(v&&t.length>2&&_>0&&(h.y===c.y&&_<f||h.x===c.x&&_<m)&&(v=!1,e=0),v){var w=r.util.deg(te.atan2(c.y-h.y,c.x-h.x));l=new R((c.x-h.x)/2+h.x,(c.y-h.y)/2+h.y),90===te.abs(w)?(l.x+=e,l.y-=m/2):w%180==0?(l.x-=f/2,l.y-=m+e):w<-90||0<w&&w<90?l.y-=m:(w<0||w>90)&&(l.x-=f,l.y-=m)}else{var y=te.floor(t.length/2);l=t[y].clone(),h=t[y-1],c=t[y+1];var x=h.x<=l.x&&c.x<=l.x?e:-d.width-e,k=h.y<=l.y&&c.y<=l.y?e:-d.height-e;l.x+=x,l.y+=k}this._contentVisual.position(l)}},select:function(e){var t,n,r=this.diagram;if(this._canSelect()&&this.isSelected!==e)return this.isSelected=e,t=[],n=[],this.isSelected?(this.adorner=new P(this,this.options.selection),r._adorn(this.adorner,!0),r._selectedItems.push(this),t.push(this)):this.adorner&&(r._adorn(this.adorner,!1),V.remove(r._selectedItems,this),this.adorner=void 0,n.push(this)),this.adorner&&this.adorner.refresh(),r._internalSelection||r._selectionChanged(t,n),!0},bounds:function(e){if(!e||Z(e))return this._bounds;this._bounds=e},type:function(e){var t=this.options;if(!e)return t.type;e!==t.type&&(t.type=e,this._initRouter(),this.refresh())},_initRouter:function(){var e=(this.options.type||"").toLowerCase();this._router="cascading"==e?new $(this):new G(this)},points:function(e){if(!e){var t=[];if(K(this.definers))for(var n=0;n<this.definers.length;n++)t.push(this.definers[n].point);return t}this.definers=[];for(var i=0;i<e.length;i++){var r=e[i];if(r instanceof l.Point)this.definers.push(new l.PathDefiner(r));else{if(!r.hasOwnProperty("x")||!r.hasOwnProperty("y"))throw"A Connection point needs to be a Point or an object with x and y properties.";this.definers.push(new l.PathDefiner(new R(r.x,r.y)))}}},allPoints:function(){var e=[this.sourcePoint()];if(this.definers)for(var t=0;t<this.definers.length;t++)e.push(this.definers[t].point);return e.push(this.targetPoint()),e},refresh:function(){this._resolveConnectors(),this._refreshPath(),this._alignContent(),this.adorner&&this.adorner.refresh()},_resolveConnectors:function(){var e,t,n,r,source=this.source(),o=this.target();source instanceof R?e=source:source instanceof ue&&(n=le(source)?source.shape.connectors:[source]),o instanceof R?t=o:o instanceof ue&&(r=le(o)?o.shape.connectors:[o]),e?r&&(this._resolvedTargetConnector=ce(e,r)):n&&(t?this._resolvedSourceConnector=ce(t,n):r&&this._resolveAutoConnectors(n,r))},_resolveAutoConnectors:function(e,t){var n,r,o,l,c,h,d,f,m,v,_,w=re,y=re;for(m=0;m<e.length;m++)if(!le(d=e[m]))for(o=d.position(),v=0;v<t.length;v++)le(f=t[v])||(l=f.position(),(_=te.round(o.distanceTo(l)))<w&&this.diagram&&this._testRoutePoints(o,l,d,f)&&(w=_,n=d,r=f),_<y&&(c=d,h=f,y=_));n&&(c=n,h=r),this._resolvedSourceConnector=c,this._resolvedTargetConnector=h},_testRoutePoints:function(e,t,n,r){var o=this._router,l=!0;if(o instanceof $){var c,h,rect,d,f=o.routePoints(e,t,n,r);d=this._getRouteExclude(e,t,n.shape,r.shape),f.unshift(e),f.push(t);for(var m=1;m<f.length;m++)if(c=f[m-1],h=f[m],(rect=new T(te.min(c.x,h.x),te.min(c.y,h.y),te.abs(c.x-h.x),te.abs(c.y-h.y))).width>0&&(rect.x++,rect.width-=2),rect.height>0&&(rect.y++,rect.height-=2),!rect.isEmpty()&&this.diagram._shapesQuadTree.hitTestRect(rect,d)){l=!1;break}}return l},_getRouteExclude:function(e,t,n,r){var o=[];return this._isPointInsideShape(e,n)&&o.push(n),this._isPointInsideShape(t,r)&&o.push(r),o},_isPointInsideShape:function(e,t){var n,r,o,l=t.bounds(),c=t.rotate().angle,h=l.x,d=l.y;return r=(n=e.clone().rotate(l.center(),c)).x,o=n.y,r>h&&r<h+l.width&&o>d&&o<d+l.height},redraw:function(e){if(e){this.options=f({},this.options,e);var t=this.options.points;Q(t)&&t.length>0&&(this.points(t),this._refreshPath()),(e&&e.content||e.text)&&this.content(e.content),this.path.redraw({fill:e.fill,stroke:e.stroke,startCap:e.startCap,endCap:e.endCap})}},clone:function(){var e=this.serialize();return this.diagram&&this.diagram._isEditable&&Q(this.dataItem)&&(e.options.dataItem=Te(this.dataItem)),new fe(this.from,this.to,e.options)},serialize:function(){var e=this.from.toJSON?this.from.toJSON:this.from.toString(),t=this.to.toJSON?this.to.toJSON:this.to.toString(),n=f({},{options:this.options,from:e,to:t});return Q(this.dataItem)&&(n.dataItem=this.dataItem.toString()),n.options.points=this.points(),n},_hitTest:function(e){if(this.visible()){var p=new R(e.x,e.y),t=this.sourcePoint(),n=this.targetPoint();if(e.isEmpty&&!e.isEmpty()&&e.contains(t)&&e.contains(n))return this;if(this._router.hitTest(p))return this}},_hover:function(e){var t=(this.options.stroke||{}).color;e&&K(this.options.hover.stroke.color)&&(t=this.options.hover.stroke.color),this.path.redraw({stroke:{color:t}})},_refreshPath:function(){Q(this.path)&&(this._drawPath(),this.bounds(this._router.getBounds()))},_drawPath:function(){this._router&&this._router.route();var source=this.sourcePoint(),e=this.targetPoint(),t=this.points();this.path.redraw({points:[source].concat(t,[e])})},_clearSourceConnector:function(){this.sourceConnector=void 0,this._resolvedSourceConnector=void 0},_clearTargetConnector:function(){this.targetConnector=void 0,this._resolvedTargetConnector=void 0},_removeFromSourceConnector:function(){this.sourceConnector&&V.remove(this.sourceConnector.connections,this)},_removeFromTargetConnector:function(){this.targetConnector&&V.remove(this.targetConnector.connections,this)},toJSON:function(){var e;return{from:this.from&&this.from.toJSON?this.from.toJSON():{x:(e=this._sourcePoint).x,y:e.y},to:this.to&&this.to.toJSON?this.to.toJSON():{x:(e=this._targetPoint).x,y:e.y}}}}),ge=c.extend({init:function(element,e){kendo.destroy(element),c.fn.init.call(this,element,e),this._initTheme(),this._initElements(),this._extendLayoutOptions(this.options),this._initDefaults(e),this._interactionDefaults(),this._initCanvas(),this.mainLayer=new x({id:"main-layer"}),this.canvas.append(this.mainLayer),this._shapesQuadTree=new Se(this),this._pan=new R,this._adorners=[],this.adornerLayer=new x({id:"adorner-layer"}),this.canvas.append(this.adornerLayer),this._createHandlers(),this._initialize(),this._resizingAdorner=new H(this,{editable:this.options.editable}),this._connectorsAdorner=new N(this),this._adorn(this._resizingAdorner,!0),this._adorn(this._connectorsAdorner,!0),this.selector=new L(this),this._clipboard=[],this.pauseMouseHandlers=!1,this._fetchFreshData(),this._createGlobalToolBar(),this._createOptionElements(),this.zoom(this.options.zoom),this.canvas.draw()},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:!0,template:"",autoBind:!0,editable:{rotate:{},resize:{},text:!0,tools:[],drag:{snap:{size:10,angle:10}},remove:!0},pannable:{},selectable:{key:"none"},tooltip:{enabled:!0,format:"{0}"},copy:{enabled:!0,offsetX:20,offsetY:20},shapeDefaults:l.shapeDefaults({undoable:!0}),connectionDefaults:{editable:{tools:[]},type:"cascading"},shapes:[],connections:[]},events:["zoomEnd","zoomStart","pan","select","itemRotate","itemBoundsChange","change","click","mouseEnter","mouseLeave","toolBarClick","save","cancel","edit","remove","add","dataBound","dragStart","drag","dragEnd"],items:function(){return e()},_createGlobalToolBar:function(){var e=this.options.editable;if(e){var t=e.tools;!this._isEditable||!1===t||t&&0!==t.length||(t=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]),t&&t.length&&(this.toolBar=new ve(this,{tools:t||{},click:d(this._toolBarClick,this),modal:!1}),this.toolBar.element.css({textAlign:"left"}),this.element.prepend(this.toolBar.element),this._resize())}},createShape:function(){if(this.editor&&this.editor.end()||!this.editor){var e=this.dataSource,t=(e.view()||[]).length,n=Ee(e,{}),r=this._createShape(n,{});this.trigger("add",{shape:r})||(e.insert(t,n),this._inactiveShapeItems.getByUid(n.uid).element=r,this.edit(r))}},_createShape:function(e,t){return(t=f({},this.options.shapeDefaults,t)).dataItem=e,new pe(t,this)},createConnection:function(){if(this.editor&&this.editor.end()||!this.editor){var e=this.connectionsDataSource,t=(e.view()||[]).length,n=Ee(e,{}),r=this._createConnection(n);this.trigger("add",{connection:r})||(this._connectionsDataMap[n.uid]=r,e.insert(t,n),this.addConnection(r,!1),this.edit(r))}},_createConnection:function(e,source,t){var n=f({},this.options.connectionDefaults);return n.dataItem=e,new fe(source||new R,t||new R,n)},editModel:function(e,t){var n,template;this.cancelEdit();var r=this.options.editable;if("shape"==t)n=r.shapeEditors,template=r.shapeTemplate;else{if("connection"!=t)return;var o=d(we,this);n=f({},{from:o,to:o},r.connectionEditors),template=r.connectionTemplate}this.editor=new be(this.element,{update:d(this._update,this),cancel:d(this._cancel,this),model:e,type:t,target:this,editors:n,template:template}),this.trigger("edit",this._editArgs())},edit:function(e){if(e.dataItem){var t=e instanceof pe?"shape":"connection";this.editModel(e.dataItem,t)}},cancelEdit:function(){this.editor&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},saveEdit:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&this._getEditDataSource().sync()},_update:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&(this._getEditDataSource().sync(),this._destroyEditor())},_cancel:function(){if(this.editor&&!this.trigger("cancel",this._editArgs())){var e=this.editor.model;this._getEditDataSource().cancelChanges(e);var element=this._connectionsDataMap[e.uid]||this._dataMap[e.id];element&&element._setOptionsFromModel(e),this._destroyEditor()}},_getEditDataSource:function(){return"shape"===this.editor.options.type?this.dataSource:this.connectionsDataSource},_editArgs:function(){var e={container:this.editor.wrapper};return e[this.editor.options.type]=this.editor.model,e},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram"),this.scrollable=e("<div />").appendTo(this.element)},_initDefaults:function(e){var t=this.options,n=t.editable,r=t.shapeDefaults,o=t.connectionDefaults,l=(e||{}).shapeDefaults;!1===n?(r.editable=!1,o.editable=!1):(Ie(n,r.editable,["drag","remove","connect"]),Ie(n,o.editable,["drag","remove"])),l&&l.connectors&&(t.shapeDefaults.connectors=l.connectors)},_interactionDefaults:function(){var e=this.options,t=e.selectable,n=e.pannable,r=kendo.support.mobileOS;t&&!Q(t.multiple)&&(e.selectable=f({multiple:!r},e.selectable)),n&&!Q(n.key)&&(e.pannable=f({key:r?"none":"ctrl"},e.pannable))},_initCanvas:function(){var t=e("<div class='k-layer'></div>").appendTo(this.scrollable)[0],n=this.viewport();this.canvas=new y(t,{width:n.width||600,height:n.height||600})},_createHandlers:function(){this.element.on("DOMMouseScroll.kendoDiagram mousewheel.kendoDiagram",d(this._wheel,this)).on("keydown"+ie,d(this._keydown,this)),this._userEvents=new kendo.UserEvents(this.scrollable,{multiTouch:!0,fastTap:!0,tap:d(this._tap,this),start:d(this._dragStart,this),move:d(this._drag,this),end:d(this._dragEnd,this),gesturestart:d(this._gestureStart,this),gesturechange:d(this._gestureChange,this),gestureend:d(this._gestureEnd,this),doubleTap:d(this._doubleTap,this),supportDoubleTap:!0}),this.toolService=new B(this),this.scrollable.on("mouseover"+ie,d(this._mouseover,this)).on("mouseout"+ie,d(this._mouseout,this)).on("mousemove"+ie,d(this._mouseMove,this)).on("mousedown"+ie,d(this._mouseDown,this)).on("mouseup"+ie,d(this._mouseUp,this)),this._syncHandler=d(this._syncChanges,this),this._resizeHandler=d(this.resize,this,!1),kendo.onResize(this._resizeHandler),this.bind("zoomStart",d(this._destroyToolBar,this)),this.bind("pan",d(this._destroyToolBar,this))},_dragStart:function(e){this._pauseMouseHandlers=!0;var t=this._eventPositions(e,!0),n=e.event;this.toolService.start(t,this._meta(n))&&(this._destroyToolBar(),n.preventDefault())},_drag:function(e){var p=this._eventPositions(e),t=e.event;this.toolService.move(p,this._meta(t))&&t.preventDefault()},_dragEnd:function(e){this._pauseMouseHandlers=!1;var p=this._eventPositions(e),t=e.event;this.toolService.end(p,this._meta(t))&&(this._createToolBar(),t.preventDefault())},_mouseMove:function(e){if(!this._pauseMouseHandlers){var p=this._eventPositions(e);this.toolService._updateHoveredItem(p),this.toolService._updateCursor(p)}},_mouseDown:function(){this._pauseMouseHandlers=!0},_mouseUp:function(){this._pauseMouseHandlers=!1},_tap:function(e){var t=this.toolService,n=this.options.selectable,r=this._eventPositions(e),o=this.focus();if(t._updateHoveredItem(r),t.hoveredItem){var l=t.hoveredItem;if(this.trigger("click",{item:l,point:r}),n&&!1!==l.options.selectable){var c=!1!==n.multiple,h=kendo.support.mobileOS||this._meta(e.event).ctrlKey;l.isSelected?h?(this._destroyToolBar(),l.select(!1)):this._createToolBar(o):(this._destroyToolBar(),this.select(l,{addToSelection:c&&h}),this._createToolBar(o))}}else n&&(this._destroyToolBar(),this.deselect())},_keydown:function(e){this.toolService.keyDown(e.keyCode,this._meta(e))&&e.preventDefault()},_wheel:function(e){var t=function(e){var t=e.originalEvent,n=0;return t.wheelDelta?n=(n=-t.wheelDelta/40)>0?te.ceil(n):te.floor(n):t.detail&&(n=t.detail),n}(e),p=this._eventPositions(e),meta=f(this._meta(e),{delta:t});this.toolService.wheel(p,meta)&&e.preventDefault()},_meta:function(e){return{ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey,type:e.type}},_eventPositions:function(e,t){var n;if(e.touch){var r=t?"startLocation":"location";n=new R(e.x[r],e.y[r])}else{var o=e.originalEvent;n=new R(o.pageX,o.pageY)}return this.documentToModel(n)},_gestureStart:function(e){this._destroyToolBar(),this.scroller.disable();var t=this.documentToModel(new R(e.center.x,e.center.y)),n={point:t,zoom:this.zoom()};this.trigger("zoomStart",n)||(this._gesture=e,this._initialCenter=t)},_gestureChange:function(e){var t=this._gesture,n=this._initialCenter,r=this.documentToView(new R(e.center.x,e.center.y)),o=e.distance/t.distance,l=this._zoom,c=!1;te.abs(o-1)>=.05&&(this._zoom=l=this._getValidZoom(l*o),this.options.zoom=l,this._gesture=e,c=!0);var h=n.times(l),d=r.minus(h);(c||this._pan.distanceTo(d)>=5)&&(this._panTransform(d),this._updateAdorners()),e.preventDefault()},_doubleTap:function(e){var t=this._eventPositions(e),n=this.options,r=n.zoomRate,o=this.zoom()+r,l={point:t,meta:this._meta(e),zoom:o};this.trigger("zoomStart",l)||(o=kendo.dataviz.round(Math.max(n.zoomMin,Math.min(n.zoomMax,o)),2),l.zoom=o,this.zoom(o,l),this.trigger("zoomEnd",l))},_gestureEnd:function(){!1!==this.options.pannable&&this.scroller.enable(),this.trigger("zoomEnd",{point:this._initialCenter,zoom:this.zoom()})},_resize:function(){var e=this.viewport();this.canvas&&this.canvas.size(e),this.scrollable&&this.toolBar&&this.scrollable.height(e.height)},_mouseover:function(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!0,t.srcElement)},_mouseout:function(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!1,t.srcElement)},_initTheme:function(){var e,t=((this.options||{}).theme||"").toLowerCase(),r=n.ui.themes||{};e=-1!=n.SASS_THEMES.indexOf(t)?n.autoTheme().diagram:(r[t]||{}).diagram,this.options=f({},e,this.options),!0===this.options.editable&&f(this.options,{editable:(e||{}).editable})},_createOptionElements:function(){var e=this.options,t=e.shapes.length;t&&this._createShapes(),e.connections.length&&this._createConnections(),t&&e.layout&&this.layout(e.layout)},_createShapes:function(){var e,i,t=this.options.shapes;for(i=0;i<t.length;i++)e=t[i],this.addShape(e)},_createConnections:function(){var e,source,t,i,n=this.options,r=n.connectionDefaults,o=n.connections;for(i=0;i<o.length;i++)e=o[i],source=this._findConnectionTarget(e.from),t=this._findConnectionTarget(e.to),this.connect(source,t,f({},r,e))},_findConnectionTarget:function(e){var t,n=Z(e=e||{})?e:e.shapeId||e.id;return n?(t=this.getShapeById(n),e.connector&&(t=t.getConnector(e.connector))):t=new R(e.x||0,e.y||0),t},destroy:function(){c.fn.destroy.call(this),this._userEvents&&this._userEvents.destroy(),kendo.unbindResize(this._resizeHandler),this.clear(),this.element.off(ie),this.scroller.wrapper.off(ie),this.canvas.destroy(!0),this.canvas=void 0,this._destroyEditor(),this.destroyScroller(),this._destroyGlobalToolBar(),this._destroyToolBar()},destroyScroller:function(){var e=this.scroller;e&&(e.destroy(),e.element.remove(),this.scroller=null)},save:function(){var i,e,t,n={shapes:[],connections:[]};for(i=0;i<this.shapes.length;i++)(t=this.shapes[i]).options.serializable&&n.shapes.push(t.options);for(i=0;i<this.connections.length;i++)e=this.connections[i],n.connections.push(f({},e.options,e.toJSON()));return n},focus:function(){if(!this.element.is(kendo._activeElement())){var i,element=this.element,e=element[0],t=[],n=[],r=document.documentElement;do{(e=e.parentNode).scrollHeight>e.clientHeight&&(t.push(e),n.push(e.scrollTop))}while(e!=r);for(element.focus(),i=0;i<t.length;i++)t[i].scrollTop=n[i];return!0}},load:function(e){this.clear(),this.setOptions(e),this._createShapes(),this._createConnections()},setOptions:function(e){f(this.options,e)},clear:function(){this.select(!1),this.mainLayer.clear(),this._shapesQuadTree.clear(),this._initialize()},connect:function(source,e,t){var n;if(this.connectionsDataSource&&this._isEditable){var r=this.connectionsDataSource.add({});(n=this._connectionsDataMap[r.uid]).source(source),n.target(e),n.redraw(t),n.updateModel()}else n=new fe(source,e,f({},this.options.connectionDefaults,t)),this.addConnection(n);return n},connected:function(source,e){for(var i=0;i<this.connections.length;i++){var t=this.connections[i];if(t.from==source&&t.to==e)return!0}return!1},addConnection:function(e,t){return!1!==t&&this.undoRedoService.add(new l.AddConnectionUnit(e,this),!1),e.diagram=this,e._setOptionsFromModel(),e.refresh(),this.mainLayer.append(e.visual),this.connections.push(e),this.trigger("change",{added:[e],removed:[]}),e},_addConnection:function(e,t){var n,r=this.connectionsDataSource;if(r&&this._isEditable){if(n=Ee(r,Te(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger("add",{connection:e}))return this._connectionsDataMap[n.uid]=e,r.add(n),this.addConnection(e,t),e._updateConnectors(),e}else if(!this.trigger("add",{connection:e}))return this.addConnection(e,t),e._updateConnectors(),e},addShape:function(e,t){var n,r=this.options.shapeDefaults;if(e instanceof pe)n=e;else{if(e instanceof kendo.Class)return;r=f({},r,e||{}),n=new pe(r,this)}return!1!==t&&this.undoRedoService.add(new l.AddShapeUnit(n,this),!1),this.shapes.push(n),n.diagram!==this&&(this._shapesQuadTree.insert(n),n.diagram=this),this.mainLayer.append(n.visual),this.trigger("change",{added:[n],removed:[]}),n},_addShape:function(e,t){var n,r=this.dataSource;if(r&&this._isEditable){if(n=Ee(r,Te(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger("add",{shape:e})){this.dataSource.add(n);var o=this._inactiveShapeItems.getByUid(n.uid);return o.element=e,o.undoable=t,e}}else if(!this.trigger("add",{shape:e}))return this.addShape(e,t)},remove:function(e,t){var i,n=De(e=X(e)?e.slice(0):[e]),r=n.shapes,o=n.connections;for(Q(t)||(t=!0),t&&this.undoRedoService.begin(),this._suspendModelRefresh(),i=r.length-1;i>=0;i--)this._removeItem(r[i],t,o);for(i=o.length-1;i>=0;i--)this._removeItem(o[i],t);this._resumeModelRefresh(),t&&this.undoRedoService.commit(!1),this.trigger("change",{added:[],removed:e})},_removeShapeDataItem:function(e){this._isEditable&&(this.dataSource.remove(e.dataItem),delete this._dataMap[e.dataItem.id])},_removeConnectionDataItem:function(e){this._isEditable&&(this.connectionsDataSource.remove(e.dataItem),delete this._connectionsDataMap[e.dataItem.uid])},_triggerRemove:function(e){for(var t,n,r,o=[],l=0;l<e.length;l++)r=(t=e[l]).options.editable,n=t instanceof pe?{shape:t}:{connection:t},r&&!1!==r.remove&&!this.trigger("remove",n)&&o.push(t);return o},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(e,t){if(!K(e))return this._selectedItems;var i,element,n=[],r=[];for((t=f({addToSelection:!1},t)).addToSelection||this.deselect(),this._internalSelection=!0,e instanceof Array?n=e:e instanceof de&&(n=[e]),i=0;i<n.length;i++)(element=n[i]).select(!0)&&r.push(element);this._selectionChanged(r,[]),this._internalSelection=!1},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(rect){var i,e,t;this._internalSelection=!0;var n=[];if(rect instanceof T)for(e=this.shapes.concat(this.connections),i=0;i<e.length;i++)t=e[i],rect&&!t._hitTest(rect)||!t.options.enable||t.select(!0)&&n.push(t);this._selectionChanged(n,[]),this._internalSelection=!1},deselect:function(e){this._internalSelection=!0;var element,i,t=[],n=[];for(e instanceof Array?n=e:e instanceof de?n.push(e):K(e)||(n=this._selectedItems.slice(0)),i=0;i<n.length;i++)(element=n[i]).select(!1)&&t.push(element);this._selectionChanged([],t),this._internalSelection=!1},toFront:function(e,t){e||(e=this._selectedItems.slice());var n,r=this._getDiagramItems(e);if(!Q(t)||t){n=he(this.mainLayer,r.visuals);var o=new j(this,e,n);this.undoRedoService.add(o)}else this.mainLayer.toFront(r.visuals),this._fixOrdering(r,!0)},toBack:function(e,t){e||(e=this._selectedItems.slice());var n,r=this._getDiagramItems(e);if(!Q(t)||t){n=he(this.mainLayer,r.visuals);var o=new U(this,e,n);this.undoRedoService.add(o)}else this.mainLayer.toBack(r.visuals),this._fixOrdering(r,!1)},bringIntoView:function(e,t){var n,rect,r,o,c=this.viewport(),h=new l.RectAlign(c);0!==c.width&&0!==c.height&&("none"==(t=f({animate:!1,align:"center middle"},t)).align&&(t.align="center middle"),e instanceof de?rect=e.bounds("transformed"):X(e)?rect=this.boundingBox(e):e instanceof T&&(rect=e.clone()),r=rect.clone(),rect.zoom(this._zoom),(rect.width>c.width||rect.height>c.height)&&(this._zoom=this._getValidZoom(te.min(c.width/r.width,c.height/r.height)),rect=r.clone().zoom(this._zoom)),this._zoomMainLayer(),n=rect.clone(),h.align(rect,t.align),o=rect.topLeft().minus(n.topLeft()),this.pan(o.times(-1),t.animate))},alignShapes:function(e){Y(e)&&(e="Left");var t,n,i,r=this.select();if(0!==r.length){switch(e.toLowerCase()){case"left":case"top":t=oe;break;case"right":case"bottom":t=se}for(i=0;i<r.length;i++)if((n=r[i])instanceof pe)switch(e.toLowerCase()){case"left":t=te.min(t,n.options.x);break;case"top":t=te.min(t,n.options.y);break;case"right":t=te.max(t,n.options.x);break;case"bottom":t=te.max(t,n.options.y)}var o=[],c=[];for(i=0;i<r.length;i++)if((n=r[i])instanceof pe)switch(c.push(n),o.push(n.bounds()),e.toLowerCase()){case"left":case"right":n.position(new R(t,n.options.y));break;case"top":case"bottom":n.position(new R(n.options.x,t))}var h=new l.TransformUnit(c,o);this.undoRedoService.add(h,!1)}},zoom:function(e,t){if(e){var n=t?t.point:new l.Point(0,0);if(e=this._zoom=this._getValidZoom(e),!Y(n)){var r=(n=new l.Point(te.round(n.x),te.round(n.y))).times(e),o=this.modelToView(n).minus(r);this._storePan(new l.Point(te.round(o.x),te.round(o.y)))}t&&(t.zoom=e),this._panTransform(),this.canvas.surface.hideTooltip(),this._updateAdorners()}return this._zoom},_getPan:function(e){return this.canvas.translate||(e=e.plus(this._pan)),e},pan:function(e,animate){if(!(e instanceof R))return this._pan.times(-1);var t=this,n=t.scroller;e=(e=t._getPan(e)).times(-1),animate?n.animatedScrollTo(e.x,e.y,(function(){t._updateAdorners()})):(n.scrollTo(e.x,e.y),t._updateAdorners())},viewport:function(){var element=this.element,e=element.width(),t=element.height();return this.toolBar&&(t-=v(this.toolBar.element)),new T(0,0,e,t)},copy:function(){if(this.options.copy.enabled){this._clipboard=[],this._copyOffset=1;for(var i=0;i<this._selectedItems.length;i++){var e=this._selectedItems[i];this._clipboard.push(e)}}},cut:function(){if(this.options.copy.enabled){this._clipboard=[],this._copyOffset=0;for(var i=0;i<this._selectedItems.length;i++){var e=this._selectedItems[i];this._clipboard.push(e)}this.remove(this._clipboard,!0)}},paste:function(){if(this._clipboard.length>0){var e,t,i,n={},r=De(this._clipboard),o=r.connections,l=r.shapes,c={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY};for(this.deselect(),i=0;i<l.length;i++)t=(e=l[i]).clone(),n[e.id]=t,t.position(new R(e.options.x+c.x,e.options.y+c.y)),t.diagram=this,(t=this._addShape(t))&&t.select();for(i=0;i<o.length;i++)e=o[i],(t=this._addConnection(e.clone()))&&(this._updateCopiedConnection(t,e,"source",n,c),this._updateCopiedConnection(t,e,"target",n,c),t.select(!0),t.updateModel());this._syncChanges(),this._copyOffset+=1}},_updateCopiedConnection:function(e,t,n,r,o){var l,c,h,d=t[n](),f=this;d instanceof ue&&r[d.shape.id]?(h=r[d.shape.id],f.getShapeById(h.id)?e[n](h.getConnector(d.options.name)):(c=f._inactiveShapeItems.getByUid(h.dataItem.uid))&&(l=function(t){h=f._dataMap[t.id],e[n](h.getConnector(d.options.name)),e.updateModel()},f._deferredConnectionUpdates.push(c.onActivate(l)))):e[n](new R(t[n+"Point"]().x+o.x,t[n+"Point"]().y+o.y))},boundingBox:function(e,t){var n,rect=T.empty(),r=K(e)?this._getDiagramItems(e):{shapes:this.shapes};if(r.shapes.length>0){var o=r.shapes[0];rect=o.bounds("rotated");for(var i=1;i<r.shapes.length;i++)n=(o=r.shapes[i]).bounds("rotated"),!0===t&&(n.x-=o._rotationOffset.x,n.y-=o._rotationOffset.y),rect=rect.union(n)}return rect},_containerOffset:function(){var e=this.element.offset();return this.toolBar&&(e.top+=v(this.toolBar.element)),e},documentToView:function(e){var t=this._containerOffset();return new R(e.x-t.left,e.y-t.top)},viewToDocument:function(e){var t=this._containerOffset();return new R(e.x+t.left,e.y+t.top)},viewToModel:function(e){return this._transformWithMatrix(e,this._matrixInvert)},modelToView:function(e){return this._transformWithMatrix(e,this._matrix)},modelToLayer:function(e){return this._transformWithMatrix(e,this._layerMatrix)},layerToModel:function(e){return this._transformWithMatrix(e,this._layerMatrixInvert)},documentToModel:function(e){var t=this.documentToView(e);return this.canvas.translate||(t.x=t.x+this.scroller.scrollLeft,t.y=t.y+this.scroller.scrollTop),this.viewToModel(t)},modelToDocument:function(e){return this.viewToDocument(this.modelToView(e))},_transformWithMatrix:function(e,t){var n=e;if(e instanceof R)t&&(n=t.apply(e));else{var r=this._transformWithMatrix(e.topLeft(),t),br=this._transformWithMatrix(e.bottomRight(),t);n=T.fromPoints(r,br)}return n},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setConnectionsDataSource:function(e){this.options.connectionsDataSource=e,this._connectionDataSource(),this.options.autoBind&&this.connectionsDataSource.fetch()},layout:function(e){var t,n;switch(this._layouting=!0,Y(e)&&(e=this.options.layout),(t=Y(e)||Y(e.type)?"Tree":e.type).toLowerCase()){case"tree":n=new l.TreeLayout(this);break;case"layered":n=new l.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":n=new l.SpringLayout(this);break;default:throw"Layout algorithm '"+t+"' is not supported."}var r=new l.LayoutState(this),o=n.layout(e);if(o){var c=new l.LayoutUndoUnit(r,o,e?e.animate:null);this.undoRedoService.add(c)}this._layouting=!1,this._redrawConnections()},getShapeById:function(e){var t;return(t=V.first(this.shapes,(function(s){return s.visual.id===e})))?t:t=V.first(this.connections,(function(t){return t.visual.id===e}))},getShapeByModelId:function(e){return this._isEditable?this._dataMap[e]:V.first(this.shapes,(function(t){return(t.dataItem||{}).id===e}))},getShapeByModelUid:function(e){return this._isEditable?V.first(this.shapes,(function(t){return(t.dataItem||{}).uid===e})):this._dataMap[e]},getConnectionByModelId:function(e){var t;return this.connectionsDataSource&&(t=V.first(this.connections,(function(t){return(t.dataItem||{}).id===e}))),t},getConnectionByModelUid:function(e){var t;return this.connectionsDataSource&&(t=this._connectionsDataMap[e]),t},_extendLayoutOptions:function(e){e.layout&&(e.layout=f({},l.LayoutBase.fn.defaultOptions||{},e.layout))},_selectionChanged:function(e,t){(e.length||t.length)&&this.trigger("select",{selected:e,deselected:t})},_getValidZoom:function(e){return te.min(te.max(e,this.options.zoomMin),this.options.zoomMax)},_panTransform:function(e){var t=e||this._pan;this.canvas.translate?(this.scroller.scrollTo(t.x,t.y),this._zoomMainLayer()):(this._storePan(t),this._transformMainLayer())},_finishPan:function(){this.trigger("pan",{total:this._pan,delta:Number.NaN})},_storePan:function(e){this._pan=e,this._storeViewMatrix()},_zoomMainLayer:function(){var e=this._zoom,t=new S(0,0,e,e);t.render(this.mainLayer),this._storeLayerMatrix(t),this._storeViewMatrix()},_transformMainLayer:function(){var e=this._pan,t=this._zoom,n=new S(e.x,e.y,t,t);n.render(this.mainLayer),this._storeLayerMatrix(n),this._storeViewMatrix()},_storeLayerMatrix:function(e){this._layerMatrix=e.toMatrix(),this._layerMatrixInvert=e.invert().toMatrix()},_storeViewMatrix:function(){var e=this._pan,t=this._zoom,n=new S(e.x,e.y,t,t);this._matrix=n.toMatrix(),this._matrixInvert=n.invert().toMatrix()},_toIndex:function(e,t){var n=this._getDiagramItems(e);this.mainLayer.toIndex(n.visuals,t),this._fixOrdering(n,!1)},_fixOrdering:function(e,t){var i,n,r=t?this.shapes.length-1:0,o=t?this.connections.length-1:0;for(i=0;i<e.shapes.length;i++)n=e.shapes[i],V.remove(this.shapes,n),V.insert(this.shapes,n,r);for(i=0;i<e.cons.length;i++)n=e.cons[i],V.remove(this.connections,n),V.insert(this.connections,n,o)},_getDiagramItems:function(e){var i,t={},n=e;for(t.visuals=[],t.shapes=[],t.cons=[],e?X(e)||(n=[e]):n=this._selectedItems.slice(),i=0;i<n.length;i++){var r=n[i];r instanceof pe?(t.shapes.push(r),t.visuals.push(r.visual)):r instanceof fe&&(t.cons.push(r),t.visuals.push(r.visual))}return t},_removeItem:function(e,t,n){e.select(!1),e instanceof pe?(this._removeShapeDataItem(e),this._removeShape(e,t,n)):e instanceof fe&&(this._removeConnectionDataItem(e),this._removeConnection(e,t)),this.mainLayer.remove(e.visual)},_removeShape:function(e,t,r){var i,o,l,c=[],h=[];for(this.toolService._removeHover(),t&&this.undoRedoService.addCompositeItem(new E(e)),V.remove(this.shapes,e),this._shapesQuadTree.remove(e),i=0;i<e.connectors.length;i++){l=e.connectors[i];for(var d=0;d<l.connections.length;d++)o=l.connections[d],r&&n.inArray(o,r)||(o.sourceConnector==l?c.push(o):o.targetConnector==l&&h.push(o))}for(i=0;i<c.length;i++)c[i].source(null,t),c[i].updateModel();for(i=0;i<h.length;i++)h[i].target(null,t),h[i].updateModel()},_removeConnection:function(e,t){e.sourceConnector&&V.remove(e.sourceConnector.connections,e),e.targetConnector&&V.remove(e.targetConnector.connections,e),t&&this.undoRedoService.addCompositeItem(new A(e)),V.remove(this.connections,e)},_removeDataItems:function(e,t){var n,r,o,l;for(e=X(e)?e:[e];e.length;)if(n=e.shift(),(o=this._dataMap[n.uid])&&(this._removeShapeConnections(o),this._removeItem(o,!1),delete this._dataMap[n.uid],t&&n.hasChildren&&n.loaded()))for(r=n.children.data(),l=0;l<r.length;l++)e.push(r[l])},_removeShapeConnections:function(e){var t,n=e.connections();if(n)for(t=0;t<n.length;t++)this._removeItem(n[t],!1)},_addDataItem:function(e,t){if(Q(e)){var n=this._dataMap[e.id];if(n)return n;var r=f({},this.options.shapeDefaults);return r.dataItem=e,n=new pe(r,this),this.addShape(n,!1!==t),this._dataMap[e.id]=n,n}},_addDataItemByUid:function(e){if(Q(e)){var t=this._dataMap[e.uid];if(t)return t;var n=f({},this.options.shapeDefaults);return n.dataItem=e,t=new pe(n,this),this.addShape(t),this._dataMap[e.uid]=t,t}},_addDataItems:function(e,t){var n,r,o,l;for(r=0;r<e.length;r++)n=e[r],o=this._addDataItemByUid(n),(l=this._addDataItemByUid(t))&&!this.connected(l,o)&&this.connect(l,o)},_refreshSource:function(e){var t,n,r=e.node,o=e.action,l=e.items,c=this.options;if(e.field)for(t=0;t<l.length;t++)this._dataMap[l[t].uid]&&this._dataMap[l[t].uid].redrawVisual();else{if("remove"==o)this._removeDataItems(e.items,!0);else for(o&&"itemloaded"!==o||this._bindingRoots||(this._bindingRoots=!0,n=!0),o||r||this.clear(),this._addDataItems(l,r),t=0;t<l.length;t++)l[t].load();c.layout&&(n||"remove"==o||"add"==o)&&this.layout(c.layout),n&&(this.trigger("dataBound"),this._bindingRoots=!1)}},_addItem:function(e){e instanceof pe?this.addShape(e):e instanceof fe&&this.addConnection(e)},_createToolBar:function(e){var t=this.toolService.diagram;if(!this.singleToolBar&&1===t.select().length){var element=t.select()[0];if(element&&!1!==element.options.editable){var n=element.options.editable,r=n.tools;if(this._isEditable&&0===r.length&&(element instanceof pe?r=["edit","rotateClockwise","rotateAnticlockwise"]:element instanceof fe&&(r=["edit"]),n&&!1!==n.remove&&r.push("delete")),r&&r.length){var o;this.singleToolBar=new ve(t,{tools:r,click:d(this._toolBarClick,this),modal:!0,popupZIndex:parseInt(t.element.closest(".k-window").css("zIndex"),10)+10});var l=m(this.singleToolBar._popup.element),c=v(this.singleToolBar._popup.element);if(element instanceof pe){var h=this.modelToView(element.bounds("rotated"));o=new R(h.x,h.y).minus(new R((l-h.width)/2,c+20))}else if(element instanceof fe){var f=this.modelToView(element.bounds());o=new R(f.x,f.y).minus(new R((l-f.width-20)/2,c+20))}o?(this.canvas.translate||(o=o.minus(new R(this.scroller.scrollLeft,this.scroller.scrollTop))),o=this.viewToDocument(o),o=new R(te.max(o.x,0),te.max(o.y,0)),this.singleToolBar.showAt(o),e&&this.singleToolBar._popup.one("close",Me)):this._destroyToolBar()}}}},_toolBarClick:function(e){this.trigger("toolBarClick",e),this._destroyToolBar()},_normalizePointZoom:function(e){return e.times(1/this.zoom())},_initialize:function(){this.shapes=[],this._selectedItems=[],this.connections=[],this._dataMap={},this._connectionsDataMap={},this._inactiveShapeItems=new xe,this._deferredConnectionUpdates=[],this.undoRedoService=new z({undone:this._syncHandler,redone:this._syncHandler}),this.id=l.randomId()},_fetchFreshData:function(){this._dataSource(),this._isEditable&&this._connectionDataSource(),this.options.autoBind&&(this._isEditable?(this._loadingShapes=!0,this._loadingConnections=!0,this.dataSource.fetch(),this.connectionsDataSource.fetch()):this.dataSource.fetch())},_dataSource:function(){if(Q(this.options.connectionsDataSource)){this._isEditable=!0;var e=this.options.dataSource||{},t=X(e)?{data:e}:e;this.dataSource&&this._shapesRefreshHandler?this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("requestStart",this._shapesRequestStartHandler).unbind("error",this._shapesErrorHandler):(this._shapesRefreshHandler=d(this._refreshShapes,this),this._shapesRequestStartHandler=d(this._shapesRequestStart,this),this._shapesErrorHandler=d(this._error,this)),this.dataSource=kendo.data.DataSource.create(t).bind("change",this._shapesRefreshHandler).bind("requestStart",this._shapesRequestStartHandler).bind("error",this._shapesErrorHandler)}else this._treeDataSource(),this._isEditable=!1},_connectionDataSource:function(){var e=this.options.connectionsDataSource;if(e){var t=X(e)?{data:e}:e;this.connectionsDataSource&&this._connectionsRefreshHandler?this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("requestStart",this._connectionsRequestStartHandler).unbind("error",this._connectionsErrorHandler):(this._connectionsRefreshHandler=d(this._refreshConnections,this),this._connectionsRequestStartHandler=d(this._connectionsRequestStart,this),this._connectionsErrorHandler=d(this._connectionsError,this)),this.connectionsDataSource=kendo.data.DataSource.create(t).bind("change",this._connectionsRefreshHandler).bind("requestStart",this._connectionsRequestStartHandler).bind("error",this._connectionsErrorHandler)}},_shapesRequestStart:function(e){"read"==e.type&&(this._loadingShapes=!0)},_connectionsRequestStart:function(e){"read"==e.type&&(this._loadingConnections=!0)},_error:function(){this._loadingShapes=!1},_connectionsError:function(){this._loadingConnections=!1},_refreshShapes:function(e){"remove"===e.action?this._shouldRefresh()&&this._removeShapes(e.items):"itemchange"===e.action?this._shouldRefresh()&&this._updateShapes(e.items,e.field):"add"===e.action?this._inactiveShapeItems.add(e.items):"sync"===e.action?this._syncShapes(e.items):this.refresh()},_shouldRefresh:function(){return!this._suspended},_suspendModelRefresh:function(){this._suspended=(this._suspended||0)+1},_resumeModelRefresh:function(){this._suspended=te.max((this._suspended||0)-1,0)},refresh:function(){this._loadingShapes=!1,this._loadingConnections||this._rebindShapesAndConnections()},_rebindShapesAndConnections:function(){this.clear(),this._addShapes(this.dataSource.view()),this.connectionsDataSource&&this._addConnections(this.connectionsDataSource.view(),!1),this.options.layout?this.layout(this.options.layout):this._redrawConnections(),this.trigger("dataBound")},refreshConnections:function(){this._loadingConnections=!1,this._loadingShapes||this._rebindShapesAndConnections()},_redrawConnections:function(){for(var e=this.connections,t=0;t<e.length;t++)e[t].refresh()},_removeShapes:function(e){var t,i,n=this._dataMap;for(i=0;i<e.length;i++)n[(t=e[i]).id]&&(this.remove(n[t.id],!1),n[t.id]=null)},_syncShapes:function(){var e=this,t=e._inactiveShapeItems;t.forEach((function(n){var r=n.dataItem,o=n.element;r.isNew()||(o?(o._setOptionsFromModel(),e.addShape(o,n.undoable),e._dataMap[r.id]=o):e._addDataItem(r),n.activate(),t.remove(r))}))},_updateShapes:function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=this._dataMap[n.id];r&&r.updateOptionsFromModel(n,t)}},_addShapes:function(e){for(var i=0;i<e.length;i++)this._addDataItem(e[i],!1)},_refreshConnections:function(e){"remove"===e.action?this._shouldRefresh()&&this._removeConnections(e.items):"add"===e.action?this._addConnections(e.items):"sync"===e.action||("itemchange"===e.action?this._shouldRefresh()&&this._updateConnections(e.items):this.refreshConnections())},_removeConnections:function(e){for(var i=0;i<e.length;i++)this.remove(this._connectionsDataMap[e[i].uid],!1),this._connectionsDataMap[e[i].uid]=null},_updateConnections:function(e){for(var i=0;i<e.length;i++){var t=e[i];this._connectionsDataMap[t.uid].updateOptionsFromModel(t)}},_addConnections:function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];this._addConnectionDataItem(r,t)}},_addConnectionDataItem:function(e,t){if(!this._connectionsDataMap[e.uid]){var n=this._validateConnector(e.from);Q(n)&&null!==n||(n=new R(e.fromX,e.fromY));var r=this._validateConnector(e.to);if(Q(r)&&null!==r||(r=new R(e.toX,e.toY)),Q(n)&&Q(r)){var o=f({},this.options.connectionDefaults);o.dataItem=e;var l=new fe(n,r,o);this._connectionsDataMap[e.uid]=l,this.addConnection(l,t)}}},_validateConnector:function(e){var t;return Q(e)&&null!==e&&(t=this._dataMap[e]),t},_treeDataSource:function(){var e=this.options.dataSource;if((e=X(e)?{data:e}:e)instanceof kendo.data.DataSource&&!(e instanceof kendo.data.HierarchicalDataSource))throw new Error("Incorrect DataSource type. If a single dataSource instance is set to the diagram then it should be a HierarchicalDataSource. You should set only the options instead of an instance or a HierarchicalDataSource instance or supply connectionsDataSource as well.");e.fields||(e.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource&&this._refreshHandler&&this._unbindDataSource(),this._refreshHandler=d(this._refreshSource,this),this._errorHandler=d(this._error,this),this.dataSource=w.create(e).bind("change",this._refreshHandler).bind("error",this._errorHandler)},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("error",this._errorHandler)},_adorn:function(e,t){void 0!==t&&e&&(t?(this._adorners.push(e),this.adornerLayer.append(e.visual)):(V.remove(this._adorners,e),this.adornerLayer.remove(e.visual)))},_showConnectors:function(e,t){t?this._connectorsAdorner.show(e):this._connectorsAdorner.destroy()},_updateAdorners:function(){for(var e=this._adorners,i=0;i<e.length;i++){var t=e[i];t.refreshBounds&&t.refreshBounds(),t.refresh()}},_refresh:function(){for(var i=0;i<this.connections.length;i++)this.connections[i].refresh()},_destroyToolBar:function(){this.singleToolBar&&(this.singleToolBar.hide(),this.singleToolBar.destroy(),this.singleToolBar=null)},_destroyGlobalToolBar:function(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null)},exportDOMVisual:function(){var e=this.canvas._viewBox,t=o.transform().translate(-e.x,-e.y),n=new o.Rect([0,0],[e.width,e.height]),l=r.Path.fromRect(n),c=new r.Group({transform:t}),h=new r.Group({clip:l}),d=this.canvas.drawingElement.children[0];return h.append(c),c.children.push(d),h},exportVisual:function(){var e=o.transform().scale(1/this._zoom),t=new r.Group({transform:e}),n=this.mainLayer.drawingElement;return t.children.push(n),t},_syncChanges:function(){this._syncShapeChanges(),this._syncConnectionChanges()},_syncShapeChanges:function(){this.dataSource&&this._isEditable&&this.dataSource.sync()},_syncConnectionChanges:function(){var t=this;t.connectionsDataSource&&t._isEditable&&(e.when.apply(e,t._deferredConnectionUpdates).then((function(){t.connectionsDataSource.sync()})),t.deferredConnectionUpdates=[])}});function me(e){var t={};return Q((e=e||{}).text)&&null!==e.text&&(t.text=e.text),Q(e.x)&&null!==e.x&&(t.x=e.x),Q(e.y)&&null!==e.y&&(t.y=e.y),Q(e.width)&&null!==e.width&&(t.width=e.width),Q(e.height)&&null!==e.height&&(t.height=e.height),Q(e.type)&&null!==e.type&&(t.type=e.type),t}n.ExportMixin.extend(ge.fn,!0),kendo.PDFMixin&&kendo.PDFMixin.extend(ge.fn);var ve=kendo.Observable.extend({init:function(e,t){kendo.Observable.fn.init.call(this),this.diagram=e,this.options=f({},this.options,t),this._tools=[],this.createToolBar(),this.createTools(),this.appendTools(),this.options.modal&&this.createPopup(),this.bind(this.events,t)},events:["click"],createPopup:function(){this.container=e("<div/>").append(this.element),this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){for(var i=0;i<this._tools.length;i++){var e=this._tools[i];(e.buttons&&e.buttons.length||!Q(e.buttons))&&this._toolBar.add(e)}},createToolBar:function(){this.element=e("<div/>"),this._toolBar=this.element.kendoToolBar({click:d(this.click,this),resizable:!1}).getKendoToolBar(),this.element.css("border","none")},createTools:function(){for(var i=0;i<this.options.tools.length;i++)this.createTool(this.options.tools[i])},createTool:function(e){ee(e)||(e={name:e});var t=e.name+"Tool";this[t]?this[t](e):this._tools.push(f({},e,{attributes:this._setAttributes({action:e.name})}))},showAt:function(e){var t=parseInt(this.options.popupZIndex,10);this._popup&&(this._popup.open(e.x,e.y),t&&this._popup.wrapper.css("zIndex",t))},hide:function(){this._popup&&this._popup.close()},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({icon:"edit",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({icon:"close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(e){this._appendGroup("rotate"),this._rotateGroup.buttons.push({icon:"rotate-left",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:e.step})})},rotateClockwiseTool:function(e){this._appendGroup("rotate"),this._rotateGroup.buttons.push({icon:"rotate-right",attributes:this._setAttributes({action:"rotateClockwise",step:e.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create"),this._createGroup.buttons.push({icon:"shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create"),this._createGroup.buttons.push({icon:"connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history"),this._historyGroup.buttons.push({icon:"undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history"),this._historyGroup.buttons.push({icon:"redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(e){var t="_"+e+"Group";this[t]||(this[t]=this.newGroup(),this._tools.push(this[t]))},_setAttributes:function(e){var t={};return e.action&&(t[kendo.attr("action")]=e.action),e.step&&(t[kendo.attr("step")]=e.step),t},_getAttributes:function(element){var e={},t=element.attr(kendo.attr("action"));t&&(e.action=t);var n=element.attr(kendo.attr("step"));return n&&(e.step=n),e},click:function(t){var n=this._getAttributes(e(t.target)),r=n.action;r&&this[r]&&this[r](n),this.trigger("click",this.eventData(r,t.target))},eventData:function(e,t){for(var element,n=this.selectedElements(),r=n.length,o=[],l=[],c=0;c<r;c++)(element=n[c])instanceof pe?o.push(element):l.push(element);return{shapes:o,connections:l,action:e,target:t}},delete:function(){var e=this.diagram._triggerRemove(this.selectedElements());e.length&&(this.diagram.remove(e,!0),this.diagram._syncChanges())},edit:function(){var e=this.selectedElements();1===e.length&&this.diagram.edit(e[0])},rotateClockwise:function(e){var t=parseFloat(e.step||90);this._rotate(t)},rotateAnticlockwise:function(e){var t=parseFloat(e.step||90);this._rotate(-t)},_rotate:function(e){var t=this.diagram._resizingAdorner;t.angle(t.angle()+e),t.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null,this.element=null,this.options=null,this._toolBar&&this._toolBar.destroy(),this._popup&&this._popup.destroy()}}),_e=kendo.Observable.extend({init:function(element,e){kendo.Observable.fn.init.call(this),this.options=_(!0,{},this.options,e),this.element=element,this.model=this.options.model,this.fields=this._getFields(),this._initContainer(),this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var e=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:e.target,clearContainer:!1,model:this.model})},_isEditable:function(e){return this.model.editable&&this.model.editable(e)},_getFields:function(){var e=[],t=this.model.fields;for(var n in t){var r={};if(this._isEditable(n)){var o=this.options.editors[n];o&&(r.editor=o),r.field=n,e.push(r)}}return e},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty(),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),be=_e.extend({init:function(element,e){_e.fn.init.call(this,element,e),this.bind(this.events,this.options),this.open()},events:["update","cancel"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var t=this;this.wrapper=e('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid);var n="";this.options.template?(n+=this._renderTemplate(),this.fields=[]):n+=this._renderFields(),n+=this._renderButtons(),this.wrapper.append(e('<div class="k-edit-form-container"/>').append(n)),this.window=new kendo.ui.Window(this.wrapper.appendTo(this.element),this.options.window),this.window.bind("close",(function(e){e.userTriggered&&(e.sender.element.focus(),t._cancelClick(e))})),this._attachButtonEvents()},_renderTemplate:function(){var template=this.options.template;return"string"==typeof template&&(template=kendo.unescape(template)),template=kendo.template(template)(this.model)},_renderFields:function(){for(var form="",i=0;i<this.fields.length;i++){var e=this.fields[i];form+='<div class="k-edit-label"><label for="'+e.field+'">'+(e.field||"")+"</label></div>",this._isEditable(e.field)&&(form+="<div "+kendo.attr("container-for")+'="'+e.field+'" class="k-edit-field"></div>')}return form},_renderButtons:function(){var form='<div class="k-edit-buttons k-state-default">';return form+=this._createButton("update"),form+=this._createButton("cancel"),form+="</div>"},_createButton:function(e){return kendo.template('<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>')(ae[e])},_attachButtonEvents:function(){this._cancelClickHandler=d(this._cancelClick,this),this.window.element.on("click"+ie,"a.k-diagram-cancel",this._cancelClickHandler),this._updateClickHandler=d(this._updateClick,this),this.window.element.on("click"+ie,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(e){e.preventDefault(),this.trigger("update")},_cancelClick:function(e){e.preventDefault(),this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",d(this.destroy,this)).close()},destroy:function(){this.window.close().destroy(),this.window.element.off("click"+ie,"a.k-diagram-cancel",this._cancelClickHandler),this.window.element.off("click"+ie,"a.k-diagram-update",this._updateClickHandler),this._cancelClickHandler=null,this._editUpdateClickHandler=null,this.window=null,_e.fn.destroy.call(this)}});function we(t,n){var r=this.dataSource.reader.model;if(r){var o=r.fn.fields.text?"text":r.idField;e("<input name='"+n.field+"' />").appendTo(t).kendoDropDownList({dataValueField:r.idField,dataTextField:o,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:!0})}}function ye(e){this.dataItem=e,this.callbacks=[]}function xe(){this.items={}}ye.fn=ye.prototype={onActivate:function(t){var n=e.Deferred();return this.callbacks.push({callback:t,deferred:n}),n},activate:function(){for(var e,t=this.callbacks,n=0;n<t.length;n++)(e=this.callbacks[n]).callback(this.dataItem),e.deferred.resolve();this.callbacks=[]}},xe.fn=xe.prototype={add:function(e){for(var t=0;t<e.length;t++)this.items[e[t].uid]=new ye(e[t])},forEach:function(e){for(var t in this.items)e(this.items[t])},getByUid:function(e){return this.items[e]},remove:function(e){delete this.items[e.uid]}};var ke=h.extend({init:function(){this.shapes=[]},_add:function(e,t){this.shapes.push({bounds:t,shape:e}),e._quadNode=this},insert:function(e,t){this._add(e,t)},remove:function(e){for(var t=this.shapes,n=t.length,r=0;r<n;r++)if(t[r].shape===e){t.splice(r,1);break}},hitTestRect:function(rect,e){for(var t=this.shapes,r=t.length,i=0;i<r;i++)if(this._testRect(t[i].shape,rect)&&!n.inArray(t[i].shape,e))return!0},_testRect:function(e,rect){var t=e.rotate().angle,n=e.bounds();return t?F.rects(rect,n,-t):n.overlaps(rect)}}),Ce=ke.extend({init:function(rect){ke.fn.init.call(this),this.children=[],this.rect=rect},inBounds:function(rect){var e=this.rect,t=e.bottomRight(),n=rect.bottomRight();return e.x<=rect.x&&e.y<=rect.y&&n.x<=t.x&&n.y<=t.y},overlapsBounds:function(rect){return this.rect.overlaps(rect)},insert:function(e,t){var n=!1,r=this.children,o=r.length;if(this.inBounds(t)){if(!o&&this.shapes.length<4)this._add(e,t);else{o||this._initChildren();for(var l=0;l<r.length;l++)if(r[l].insert(e,t)){n=!0;break}n||this._add(e,t)}n=!0}return n},_initChildren:function(){var e,t,rect=this.rect,n=this.children,r=this.shapes,o=rect.center(),l=rect.width/2,c=rect.height/2;for(n.push(new Ce(new T(rect.x,rect.y,l,c)),new Ce(new T(o.x,rect.y,l,c)),new Ce(new T(rect.x,o.y,l,c)),new Ce(new T(o.x,o.y,l,c))),t=r.length-1;t>=0;t--)for(e=0;e<n.length;e++)if(n[e].insert(r[t].shape,r[t].bounds)){r.splice(t,1);break}},hitTestRect:function(rect,e){var t,n=this.children,r=n.length,o=!1;if(this.overlapsBounds(rect))if(ke.fn.hitTestRect.call(this,rect,e))o=!0;else for(t=0;t<r;t++)if(n[t].hitTestRect(rect,e)){o=!0;break}return o}}),Se=h.extend({ROOT_SIZE:1e3,init:function(e){var t=d(this._boundsChange,this);e.bind("itemBoundsChange",t),e.bind("itemRotate",t),this.initRoots()},initRoots:function(){this.rootMap={},this.root=new ke},clear:function(){this.initRoots()},_boundsChange:function(e){e.item._quadNode&&e.item._quadNode.remove(e.item),this.insert(e.item)},insert:function(e){var t=e.bounds("rotated"),n=this.ROOT_SIZE,r=this.getSectors(t),o=r[0][0],l=r[1][0];this.inRoot(r)?this.root.insert(e,t):(this.rootMap[o]||(this.rootMap[o]={}),this.rootMap[o][l]||(this.rootMap[o][l]=new Ce(new T(o*n,l*n,n,n))),this.rootMap[o][l].insert(e,t))},remove:function(e){e._quadNode&&e._quadNode.remove(e)},inRoot:function(e){return e[0].length>1||e[1].length>1},getSectors:function(rect){for(var e=this.ROOT_SIZE,t=rect.bottomRight(),n=te.floor(t.x/e),r=te.floor(t.y/e),o=[[],[]],l=te.floor(rect.x/e);l<=n;l++)o[0].push(l);for(var c=te.floor(rect.y/e);c<=r;c++)o[1].push(c);return o},hitTestRect:function(rect,e){var t,n,r,o,l,c=this.getSectors(rect);if(this.root.hitTestRect(rect,e))return!0;for(t=0;t<c[0].length;t++)for(r=c[0][t],n=0;n<c[1].length;n++)if(o=c[1][n],(l=(this.rootMap[r]||{})[o])&&l.hitTestRect(rect,e))return!0;return!1}});function Te(e){var t=e;return e instanceof kendo.data.Model&&((t=e.toJSON())[e.idField]=e._defaultId),t}function De(e){var element,t,n=[],r=[];for(t=0;t<e.length;t++)(element=e[t])instanceof pe?r.push(element):n.push(element);return{shapes:r,connections:n}}function Ee(e,t){return e.reader.model?new e.reader.model(t):new kendo.data.ObservableObject(t)}function Ae(e,t){Q(t[e])&&t.set(e,null)}function Ie(e,t,n){for(var r,o=0;o<n.length;o++)r=n[o],t&&!Q(t[r])&&(t[r]=e[r])}function Me(e){e.preventDefault()}n.ui.plugin(ge),f(l,{Shape:pe,Connection:fe,Connector:ue,DiagramToolBar:ve,QuadNode:Ce,QuadRoot:ke,ShapesQuadTree:Se,PopupEditor:be})}(window.kendo.jQuery)})?r.apply(t,o):r)||(e.exports=l)},868:function(e,t){e.exports=n(13)},869:function(e,t){e.exports=n(5)},870:function(e,t){e.exports=n(69)},871:function(e,t){e.exports=n(42)},872:function(e,t){e.exports=n(21)},873:function(e,t){e.exports=n(148)},874:function(e,t){e.exports=n(224)},875:function(e,t){e.exports=n(225)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1116)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1041:function(e,t){e.exports=n(8)},1064:function(e,t){e.exports=n(72)},1116:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1041),n(1064)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=Math,r=e.proxy,o=e.isArray,l=window.kendo,c=l._outerHeight,h=l._outerWidth,d=l.Class,f=l.ui.Widget,template=l.template,m=l.deepExtend,v=l.data.HierarchicalDataSource,_=l.getter,w=l.dataviz,y=".kendoTreeMap",x=Number.MAX_VALUE,k="undefined",C=f.extend({init:function(element,t){l.destroy(element),e(element).empty(),f.fn.init.call(this,element,t),this.wrapper=this.element,this._initTheme(this.options),this.element.addClass("k-widget k-treemap"),this._setLayout(),this._originalOptions=m({},this.options),this._initDataSource(),this._attachEvents(),l.notify(this,w.ui)},options:{name:"TreeMap",theme:"default",autoBind:!0,textField:"text",valueField:"value",colorField:"color"},events:["dataBound","itemCreated"],_initTheme:function(e){var t=((w.ui.themes||{})[((e||{}).theme||"").toLowerCase()]||{}).treeMap;this.options=m({},t,e)},_attachEvents:function(){this.element.on("mouseover.kendoTreeMap",r(this._mouseover,this)).on("mouseleave.kendoTreeMap",r(this._mouseleave,this)),this._resizeHandler=r(this.resize,this,!1),l.onResize(this._resizeHandler)},_setLayout:function(){"horizontal"===this.options.type?(this._layout=new D(!1),this._view=new E(this,this.options)):"vertical"===this.options.type?(this._layout=new D(!0),this._view=new E(this,this.options)):(this._layout=new S,this._view=new T(this,this.options))},_initDataSource:function(){var e=this.options.dataSource;this._dataChangeHandler=r(this._onDataChange,this),this.dataSource=v.create(e).bind("change",this._dataChangeHandler),e&&this.options.autoBind&&this.dataSource.fetch()},setDataSource:function(e){this.dataSource.unbind("change",this._dataChangeHandler),this.dataSource=e.bind("change",this._dataChangeHandler),e&&this.options.autoBind&&this.dataSource.fetch()},_onDataChange:function(e){var t,i,n=e.node,r=e.items,o=this.options;if(n){if(r.length){var d=this._getByUid(n.uid);for(d.children=[],r=new l.data.Query(r)._sortForGrouping(o.valueField,"desc"),i=0;i<r.length;i++)t=r[i],d.children.push(this._wrapItem(t));var f=this._view.htmlSize(d);this._layout.compute(d.children,d.coord,f),this._setColors(d.children),this._view.render(d)}}else this._cleanItems(),this.element.empty(),t=this._wrapItem(r[0]),this._layout.createRoot(t,h(this.element),c(this.element),"vertical"===this.options.type),this._view.createRoot(t),this._root=t,this._colorIdx=0;for(i=0;i<r.length;i++)r[i].load();n&&this.trigger("dataBound",{node:n})},_cleanItems:function(){var e=this;e.angular("cleanup",(function(){return{elements:e.element.find(".k-leaf div,.k-treemap-title,.k-treemap-title-vertical")}}))},_setColors:function(e){var t,n,r=this.options.colors,l=r[this._colorIdx%r.length];o(l)&&(t=function(e,t,n){var r=F(e),o=F(t),l=B(e)-B(t)<0,c=[];c.push(e);for(var i=0;i<n;i++){var h={r:M(r.r,o.r,i,n,l),g:M(r.g,o.g,i,n,l),b:M(r.b,o.b,i,n,l)};c.push(R(h))}return c.push(t),c}(l[0],l[1],e.length));for(var c=!1,i=0;i<e.length;i++)I((n=e[i]).color)||(n.color=t?t[i]:l),n.dataItem.hasChildren||(c=!0);c&&this._colorIdx++},_contentSize:function(e){this.view.renderHeight(e)},_wrapItem:function(e){var t={};return I(this.options.valueField)&&(t.value=A(this.options.valueField,e)),I(this.options.colorField)&&(t.color=A(this.options.colorField,e)),I(this.options.textField)&&(t.text=A(this.options.textField,e)),t.level=e.level(),t.dataItem=e,t},_getByUid:function(e){for(var t,n=[this._root];n.length;){if((t=n.pop()).dataItem.uid===e)return t;t.children&&(n=n.concat(t.children))}},dataItem:function(t){var n=e(t).attr(l.attr("uid")),r=this.dataSource;return r&&r.getByUid(n)},findByUid:function(e){return this.element.find(".k-treemap-tile["+l.attr("uid")+"='"+e+"']")},_mouseover:function(t){var n=e(t.target);n.hasClass("k-leaf")&&(this._removeActiveState(),n.removeClass("k-state-hover").addClass("k-state-hover"))},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){f.fn.destroy.call(this),this.element.off(y),this.dataSource&&this.dataSource.unbind("change",this._dataChangeHandler),this._root=null,l.unbindResize(this._resizeHandler),l.destroy(this.element)},items:function(){return e()},getSize:function(){return l.dimensions(this.element)},_resize:function(){var e=this._root;if(e){var element=this.element,t=element.children();e.coord.width=h(element),e.coord.height=c(element),t.css({width:e.coord.width,height:e.coord.height}),this._resizeItems(e,t)}},_resizeItems:function(e,element){if(e.children&&e.children.length){var t,n,r=element.children(".k-treemap-wrap").children();this._layout.compute(e.children,e.coord,{text:this._view.titleSize(e,element)});for(var o=0;o<e.children.length;o++)t=e.children[o],n=r.filter("["+l.attr("uid")+"='"+t.dataItem.uid+"']"),this._view.setItemSize(t,n),this._resizeItems(t,n)}},setOptions:function(e){var t=e.dataSource;e.dataSource=void 0,this._originalOptions=m(this._originalOptions,e),this.options=m({},this._originalOptions),this._setLayout(),this._initTheme(this.options),f.fn._setEvents.call(this,e),t&&this.setDataSource(v.create(t)),this.options.autoBind&&this.dataSource.fetch()}}),S=d.extend({createRoot:function(e,t,n){e.coord={width:t,height:n,top:0,left:0}},leaf:function(e){return!e.children},layoutChildren:function(e,t){var i,n=t.width*t.height,r=0,o=[];for(i=0;i<e.length;i++)o[i]=parseFloat(e[i].value),r+=o[i];for(i=0;i<o.length;i++)e[i].area=n*o[i]/r;var l=this.layoutHorizontal()?t.height:t.width,c=[e[0]],h=e.slice(1);this.squarify(h,c,l,t)},squarify:function(e,t,n,r){this.computeDim(e,t,n,r)},computeDim:function(e,t,n,r){if(e.length+t.length!=1)if(e.length>=2&&0===t.length&&(t=[e[0]],e=e.slice(1)),0!==e.length){var o=e[0];if(this.worstAspectRatio(t,n)>=this.worstAspectRatio([o].concat(t),n))this.computeDim(e.slice(1),t.concat([o]),n,r);else{var l=this.layoutRow(t,n,r);this.computeDim(e,[],l.dim,l)}}else t.length>0&&this.layoutRow(t,n,r);else{var element=1==e.length?e:t;this.layoutLast(element,n,r)}},layoutLast:function(e,t,n){e[0].coord=n},layoutRow:function(e,t,n){return this.layoutHorizontal()?this.layoutV(e,t,n):this.layoutH(e,t,n)},orientation:"h",layoutVertical:function(){return"v"===this.orientation},layoutHorizontal:function(){return"h"===this.orientation},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(e,t){if(!e||0===e.length)return x;for(var r=0,o=0,l=x,i=0;i<e.length;i++){var area=e[i].area;r+=area,l=l<area?l:area,o=o>area?o:area}return n.max(t*t*o/(r*r),r*r/(t*t*l))},compute:function(e,t,n){if(t.width>=t.height&&this.layoutHorizontal()||this.layoutChange(),e&&e.length>0){var r={width:t.width,height:t.height-n.text,top:0,left:0};this.layoutChildren(e,r)}},layoutV:function(e,t,r){var o=0;t=L(this._totalArea(e)/t);for(var i=0;i<e.length;i++){var l=L(e[i].area/t);e[i].coord={height:l,width:t,top:r.top+o,left:r.left},o+=l}var c={height:r.height,width:r.width-t,top:r.top,left:r.left+t};return c.dim=n.min(c.width,c.height),c.dim!=c.height&&this.layoutChange(),c},layoutH:function(e,t,r){for(var o=L(this._totalArea(e)/t),l=r.top,c=0,i=0;i<e.length;i++)e[i].coord={height:o,width:L(e[i].area/o),top:l,left:r.left+c},c+=e[i].coord.width;var h={height:r.height-o,width:r.width,top:r.top+o,left:r.left};return h.dim=n.min(h.width,h.height),h.dim!=h.width&&this.layoutChange(),h},_totalArea:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].area;return t}}),T=d.extend({init:function(t,n){this.options=m({},this.options,n),this.treeMap=t,this.element=e(t.element),this.offset=0},titleSize:function(e,element){return element.children(".k-treemap-title").height()||0},htmlSize:function(e){var t=this._getByUid(e.dataItem.uid),n={text:0};if(e.children){if(this._clean(t),this._getText(e)){var title=this._createTitle(e);t.append(title),this._compile(title,e.dataItem),n.text=title.height()}t.append(this._createWrap()),this.offset=(h(t)-t.innerWidth())/2}return n},_compile:function(element,e){this.treeMap.angular("compile",(function(){return{elements:element,data:[{dataItem:e}]}}))},_getByUid:function(e){return this.element.find(".k-treemap-tile["+l.attr("uid")+"='"+e+"']")},render:function(e){var t=this._getByUid(e.dataItem.uid),n=e.children;if(n)for(var r=t.find(".k-treemap-wrap"),i=0;i<n.length;i++){var o=n[i],l=this._createLeaf(o);r.append(l),this._compile(l.children(),o.dataItem),this.treeMap.trigger("itemCreated",{element:l})}},createRoot:function(e){var t=this._createLeaf(e);this.element.append(t),this._compile(t.children(),e.dataItem),this.treeMap.trigger("itemCreated",{element:t})},_clean:function(e){this.treeMap.angular("cleanup",(function(){return{elements:e.children(":not(.k-treemap-wrap)")}})),e.css("background-color",""),e.removeClass("k-leaf"),e.removeClass("k-inverse"),e.empty()},_createLeaf:function(t){return this._createTile(t).css("background-color",t.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(t)>180).toggle(0!==t.value).append(e("<div></div>").html(this._getText(t)))},_createTile:function(t){var n=e("<div class='k-treemap-tile'></div>");return this.setItemSize(t,n),I(t.dataItem)&&I(t.dataItem.uid)&&n.attr(l.attr("uid"),t.dataItem.uid),n},_itemCoordinates:function(e){var t={width:e.coord.width,height:e.coord.height,left:e.coord.left,top:e.coord.top};return t.left&&this.offset?t.width+=2*this.offset:t.width+=this.offset,t.top?t.height+=2*this.offset:t.height+=this.offset,t},setItemSize:function(e,element){var t=this._itemCoordinates(e);element.css({width:t.width,height:t.height,left:t.left,top:t.top})},_getText:function(e){var text=e.text;return this.options.template&&(text=this._renderTemplate(e)),text},_renderTemplate:function(e){return template(this.options.template)({dataItem:e.dataItem,text:e.text})},_createTitle:function(t){return e("<div class='k-treemap-title'></div>").append(e("<div></div>").html(this._getText(t)))},_createWrap:function(){return e("<div class='k-treemap-wrap'></div>")},_tileColorBrightness:function(e){return B(e.color)}}),D=d.extend({createRoot:function(e,t,n,r){e.coord={width:t,height:n,top:0,left:0},e.vertical=r},init:function(e){this.vertical=e,this.quotient=e?1:0},compute:function(e,t,n){if(e.length>0){var r=t.width,o=t.height;this.vertical?o-=n.text:r-=n.text;var l={width:r,height:o,top:0,left:0};this.layoutChildren(e,l)}},layoutChildren:function(e,t){var i,n=t.width*t.height,r=0,o=[];for(i=0;i<e.length;i++){var l=e[i];o[i]=parseFloat(e[i].value),r+=o[i],l.vertical=this.vertical}for(i=0;i<o.length;i++)e[i].area=n*o[i]/r;this.sliceAndDice(e,t)},sliceAndDice:function(e,t){var n=this._totalArea(e);e[0].level%2===this.quotient?this.layoutHorizontal(e,t,n):this.layoutVertical(e,t,n)},layoutHorizontal:function(e,t,n){for(var r=0,i=0;i<e.length;i++){var o=e[i],l=o.area/(n/t.width);o.coord={height:t.height,width:l,top:t.top,left:t.left+r},r+=l}},layoutVertical:function(e,t,n){for(var r=0,i=0;i<e.length;i++){var o=e[i],l=o.area/(n/t.height);o.coord={height:l,width:t.width,top:t.top+r,left:t.left},r+=l}},_totalArea:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].area;return t}}),E=T.extend({htmlSize:function(e){var t=this._getByUid(e.dataItem.uid),n={text:0,offset:0};if(e.children){if(this._clean(t),this._getText(e)){var title=this._createTitle(e);t.append(title),this._compile(title,e.dataItem),e.vertical?n.text=title.height():n.text=title.width()}t.append(this._createWrap()),this.offset=(h(t)-t.innerWidth())/2}return n},titleSize:function(e,element){return(e.vertical?element.children(".k-treemap-title").height():element.children(".k-treemap-title-vertical").width())||0},_createTitle:function(t){return(t.vertical?e("<div class='k-treemap-title'></div>"):e("<div class='k-treemap-title-vertical'></div>")).append(e("<div></div>").html(this._getText(t)))}});function A(e,t){return null===t?t:_(e,!0)(t)}function I(e){return typeof e!==k}function M(e,t,r,o,l){var c=n.min(n.abs(e),n.abs(t)),h=n.max(n.abs(e),n.abs(t)),d=(h-c)/(o+1)*(r+1);return l?c+d:h-d}function R(e){return"#"+P(e.r)+P(e.g)+P(e.b)}function F(e){var t=function(e){var t=e.length,n={};return 3===t?(n.r=e[0],n.g=e[1],n.b=e[2]):(n.r=e.substring(0,2),n.g=e.substring(2,4),n.b=e.substring(4,6)),n}(e=e.replace("#",""));return{r:z(t.r),g:z(t.g),b:z(t.b)}}function P(e){var t=n.round(e).toString(16).toUpperCase();return 1===t.length&&(t="0"+t),t}function z(e){return parseInt(e.toString(16),16)}function B(e){var t=0;return e&&(e=F(e),t=n.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b)),t}function L(e){var t=n.pow(10,4);return n.round(e*t)/t}w.ui.plugin(C)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1225)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1014:function(e,t){e.exports=n(91)},1016:function(e,t){e.exports=n(3)},1025:function(e,t){e.exports=n(19)},1039:function(e,t){e.exports=n(4)},1041:function(e,t){e.exports=n(8)},1050:function(e,t){e.exports=n(88)},1051:function(e,t){e.exports=n(89)},1057:function(e,t){e.exports=n(20)},1058:function(e,t){e.exports=n(93)},1059:function(e,t){e.exports=n(66)},1060:function(e,t){e.exports=n(123)},1061:function(e,t){e.exports=n(26)},1062:function(e,t){e.exports=n(5)},1074:function(e,t){e.exports=n(124)},1198:function(e,t){e.exports=n(130)},1225:function(e,t,n){var r,o,l;n(3),o=[n(1007),n(1057),n(1050),n(1051),n(1016),n(1060),n(1061),n(1014),n(1058),n(1059),n(1041),n(1062),n(1039),n(1198),n(1227),n(1228),n(1025),n(1226),n(1229),n(1230),n(1231),n(1232),n(1233),n(1234),n(1235),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1074)],void 0===(l="function"==typeof(r=function(){return window.kendo})?r.apply(t,o):r)||(e.exports=l)},1226:function(e,t){e.exports=n(149)},1227:function(e,t){e.exports=n(226)},1228:function(e,t){e.exports=n(227)},1229:function(e,t){e.exports=n(101)},1230:function(e,t){e.exports=n(417)},1231:function(e,t){e.exports=n(418)},1232:function(e,t){e.exports=n(419)},1233:function(e,t){e.exports=n(100)},1234:function(e,t){e.exports=n(420)},1235:function(e,t){e.exports=n(421)},1236:function(e,t){e.exports=n(228)},1237:function(e,t){e.exports=n(422)},1238:function(e,t){e.exports=n(423)},1239:function(e,t){e.exports=n(424)},1240:function(e,t){e.exports=n(425)},1241:function(e,t){e.exports=n(426)},1242:function(e,t){e.exports=n(427)},1243:function(e,t){e.exports=n(428)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1252)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1226:function(e,t){e.exports=n(149)},1229:function(e,t){e.exports=n(101)},1252:function(e,t,n){var r,o,l;n(3),o=[n(1226),n(1229)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo.mobile.ui,r=n.Shim,o=n.Widget,l=n.View.extend({init:function(element,e){o.fn.init.call(this,element,e),this._id(),this._wrap(),this._shim(),this.options.$angular||(this._layout(),this._scroller(),this._model()),this.element.css("display",""),this.trigger("init")},events:["init","beforeOpen","open","close"],options:{name:"ModalView",modal:!0,width:null,height:null},destroy:function(){o.fn.destroy.call(this),this.shim.destroy()},open:function(t){this.target=e(t),this.shim.show(),this._invokeNgController(),this.trigger("show",{view:this})},openFor:function(e){this.trigger("beforeOpen",{target:e})||(this.open(e),this.trigger("open",{target:e}))},close:function(){this.element.is(":visible")&&!this.trigger("close")&&this.shim.hide()},_wrap:function(){var e,t,element=this.element,n=this.options;e=element[0].style.width||"auto",t=element[0].style.height||"auto",element.addClass("km-modalview").wrap('<div class="km-modalview-wrapper" />'),this.wrapper=element.parent().css({width:n.width||e||300,height:n.height||t||300}).addClass("auto"==t?" km-auto-height":""),element.css({width:"",height:""})},_shim:function(){var e=this;e.shim=new r(e.wrapper,{modal:e.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function(t){e.trigger("close")&&t.preventDefault()}})}});n.plugin(l)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1249)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1041:function(e,t){e.exports=n(8)},1229:function(e,t){e.exports=n(101)},1249:function(e,t,n){var r,o,l;n(3),o=[n(1229),n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile,o=n.support.mobileOS,l=n.effects.Transition,c=n.roleSelector,h=r.ui,d=!(o.ios&&7==o.majorVersion&&!o.appMode),f={enable:e.noop},m=h.View.extend({init:function(element,t){e(element).parent().prepend(element),r.ui.Widget.fn.init.call(this,element,t),this.options.$angular||(this._layout(),this._scroller()),this._model();var o,l=this.element.closest(c("pane")).data("kendoMobilePane");if(l)this.pane=l,this.pane.bind("viewShow",(function(e){m._viewShow(e)})),this.pane.bind("sameViewRequested",(function(){m.hide()})),o=this.userEvents=new n.UserEvents(l.element,{fastTap:!0,filter:c("view splitview"),allowSelection:!0});else{this.currentView=f;var h=e(this.options.container);if(!h)throw new Error("The drawer needs a container configuration option set.");o=this.userEvents=new n.UserEvents(h,{fastTap:!0,allowSelection:!0}),this._attachTransition(h)}var m=this,v=function(e){m.visible&&(m.hide(),e.preventDefault())};this.options.swipeToOpen&&d?(o.bind("press",(function(){m.transition.cancel()})),o.bind("start",(function(e){m._start(e)})),o.bind("move",(function(e){m._update(e)})),o.bind("end",(function(e){m._end(e)})),o.bind("tap",v)):o.bind("press",v),this.leftPositioned="left"===this.options.position,this.visible=!1,this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer"),this.trigger("init")},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:!0,title:"",container:null},events:["beforeShow","hide","afterHide","init","show"],show:function(){this._activate()&&this._show()},hide:function(){this.currentView&&(this.currentView.enable(),m.current=null,this._moveViewTo(0),this.trigger("hide",{view:this}))},openFor:function(){this.visible?this.hide():this.show()},destroy:function(){h.View.fn.destroy.call(this),this.userEvents.destroy()},_activate:function(){return!!this.visible||!(!this._currentViewIncludedIn(this.options.views)||this.trigger("beforeShow",{view:this}))&&(this._setAsCurrent(),this.element.show(),this.trigger("show",{view:this}),this._invokeNgController(),!0)},_currentViewIncludedIn:function(t){if(!this.pane||!t.length)return!0;var view=this.pane.view();return e.inArray(view.id.replace("#",""),t)>-1||e.inArray(view.element.attr("id"),t)>-1},_show:function(){this.currentView.enable(!1),this.visible=!0;var e=this.element.width();this.leftPositioned||(e=-e),this._moveViewTo(e)},_setAsCurrent:function(){m.last!==this&&(m.last&&m.last.element.hide(),this.element.show()),m.last=this,m.current=this},_moveViewTo:function(e){this.userEvents.cancel(),this.transition.moveTo({location:e,duration:400,ease:l.easeOutExpo})},_viewShow:function(e){this.currentView&&this.currentView.enable(),this.currentView!==e.view?(this.currentView=e.view,this._attachTransition(e.view.element)):this.hide()},_attachTransition:function(element){var e=this,t=this.movable,r=t&&t.x;this.transition&&(this.transition.cancel(),this.movable.moveAxis("x",0)),t=this.movable=new n.ui.Movable(element),this.transition=new l({axis:"x",movable:this.movable,onEnd:function(){0===t.x&&(element[0].style.cssText="",e.element.hide(),e.trigger("afterHide"),e.visible=!1)}}),r&&(element.addClass("k-fx-hidden"),n.animationFrame((function(){element.removeClass("k-fx-hidden"),e.movable.moveAxis("x",r),e.hide()})))},_start:function(e){var t=e.sender;if(Math.abs(e.x.velocity)<Math.abs(e.y.velocity)||n.triggeredByInput(e.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews))t.cancel();else{var r=this.leftPositioned,o=this.visible,l=r&&o||!r&&!m.current,c=!r&&o||r&&!m.current,h=e.x.velocity<0;(l&&h||c&&!h)&&this._activate()?t.capture():t.cancel()}},_update:function(e){var t,n=this.movable.x+e.x.delta;t=this.leftPositioned?Math.min(Math.max(0,n),this.element.width()):Math.max(Math.min(0,n),-this.element.width()),this.movable.moveAxis("x",t),e.event.preventDefault(),e.event.stopPropagation()},_end:function(e){var t=e.x.velocity,n=Math.abs(this.movable.x)>this.element.width()/2;(this.leftPositioned?t>-.8&&(t>.8||n):t<.8&&(t<-.8||n))?this._show():this.hide()}});h.plugin(m)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1259)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1233:function(e,t){e.exports=n(100)},1259:function(e,t,n){var r,o,l;n(3),o=[n(1233)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget,l=r.View.extend({init:function(element,t){var l,c,h=this;o.fn.init.call(h,element,t),element=h.element,e.extend(h,t),h._id(),h.options.$angular?h._overlay():(h._layout(),h._overlay()),h._style(),c=element.children(h._locate("modalview")),h.options.$angular?c.each((function(r,element){n.compileMobileDirective(e(element),t.$angular[0])})):n.mobile.init(c),h.panes=[],h._paramsHistory=[],h.options.$angular?(h.element.children(n.directiveSelector("pane")).each((function(){l=n.compileMobileDirective(e(this),t.$angular[0]),h.panes.push(l)})),h.element.children(n.directiveSelector("header footer")).each((function(){n.compileMobileDirective(e(this),t.$angular[0])}))):h.content.children(n.roleSelector("pane")).each((function(){l=n.initWidget(this,{},r.roles),h.panes.push(l)})),h.expandedPaneShim=e("<div class='km-expanded-pane-shim' />").appendTo(h.element),h._shimUserEvents=new n.UserEvents(h.expandedPaneShim,{fastTap:!0,tap:function(){h.collapsePanes()}})},_locate:function(e){return this.options.$angular?n.directiveSelector(e):n.roleSelector(e)},options:{name:"SplitView",style:"horizontal"},expandPanes:function(){this.element.addClass("km-expanded-splitview")},collapsePanes:function(){this.element.removeClass("km-expanded-splitview")},_layout:function(){var element=this.element;this.transition=n.attrValue(element,"transition"),n.mobile.ui.View.prototype._layout.call(this),n.mobile.init(this.header.add(this.footer)),this.element.addClass("km-splitview"),this.content.addClass("km-split-content")},_style:function(){var t,style=this.options.style,element=this.element;style&&(t=style.split(" "),e.each(t,(function(){element.addClass("km-split-"+this)})))},showStart:function(){this.element.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,e.each(this.panes,(function(){this.options.initial?this.navigateToInitial():this.navigate("")})),this.trigger("init",{view:this})),this.trigger("show",{view:this})}});r.plugin(l)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1245)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1058:function(e,t){e.exports=n(93)},1233:function(e,t){e.exports=n(100)},1245:function(e,t,n){var r,o,l;n(3),o=[n(1233),n(1058)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile,o=n.support,l=r.ui.Widget,c=r.ui.Pane,h=o.mobileOS,d="blackberry"==h.device&&h.flatVersion>=600&&h.flatVersion<1e3&&h.appMode,f="km-vertical",m="chrome"===h.browser,v=h.ios&&h.flatVersion>=700&&h.flatVersion<800&&(h.appMode||m),_=Math.abs(window.orientation)/90==1,w="km-horizontal",y={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},x=n.template('<meta content="initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),k=n.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),C=n.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),S=h.android&&"chrome"!=h.browser||h.blackberry,T=n.template('<link rel="apple-touch-icon'+(h.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),D=("iphone"==h.device||"ipod"==h.device)&&h.majorVersion<7,E=("iphone"==h.device||"ipod"==h.device)&&h.majorVersion>=7?"none":null,A="mobilesafari"==h.browser?60:0,I=e(window),M=window.screen,R=e("head"),F=e.proxy;function P(element){return h.wp?"-kendo-landscape"==element.css("animation-name"):Math.abs(window.orientation)/90==1}function z(element){return P(element)?w:f}function B(e){e.parent().addBack().css("min-height",window.innerHeight)}function L(){e("meta[name=viewport]").remove(),R.append(x({height:", width=device-width"+(P()?", height="+window.innerHeight+"px":o.mobileOS.flatVersion>=600&&o.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var H=l.extend({init:function(element,t){r.application=this,e(e.proxy(this,"bootstrap",element,t))},bootstrap:function(element,t){(element=e(element))[0]||(element=e(document.body)),l.fn.init.call(this,element,t),this.element.removeAttr("data-"+n.ns+"role"),this._setupPlatform(),this._attachMeta(),this._setupElementClass(),this._attachHideBarHandlers();var r=e.extend({},this.options);delete r.name;var o=this,h=function(){o.pane=new c(o.element,r),o.pane.navigateToInitial(),o.options.updateDocumentTitle&&o._setupDocumentTitle(),o._startHistory(),o.trigger("init")};this.options.$angular?setTimeout(h):h()},options:{name:"Application",hideAddressBar:!0,browserHistory:!0,historyTransition:E,modelScope:window,statusBarStyle:"black",transition:"",retina:!1,platform:null,skin:null,updateDocumentTitle:!0,useNativeScrolling:!1},events:["init"],navigate:function(e,t){this.pane.navigate(e,t)},replace:function(e,t){this.pane.replace(e,t)},scroller:function(){return this.view().scroller},hideLoading:function(){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading()},showLoading:function(){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading()},changeLoadingMessage:function(e){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");this.pane.changeLoadingMessage(e)},view:function(){return this.pane.view()},skin:function(e){var t=this;return arguments.length?(t.options.skin=e||"",t.element[0].className="km-pane",t._setupPlatform(),t._setupElementClass(),t.options.skin):t.options.skin},destroy:function(){l.fn.destroy.call(this),this.pane.destroy(),this.options.browserHistory&&this.router.destroy()},_setupPlatform:function(){var t=this,n=t.options.platform,r=t.options.skin,o=[],l=h||y.ios7;n&&(l.setDefaultPlatform=!0,"string"==typeof n?(o=n.split("-"),l=e.extend({variant:o[1]},l,y[o[0]])):l=n),r&&(o=r.split("-"),h||(l.setDefaultPlatform=!1),l=e.extend({},l,{skin:o[0],variant:o[1]})),l.variant||(l.noVariantSet=!0,l.variant="dark"),t.os=l,t.osCssClass=function(e,t){var n=[];return h&&n.push("km-on-"+h.name),e.skin?n.push("km-"+e.skin):"ios"==e.name&&e.majorVersion>6?n.push("km-ios7"):n.push("km-"+e.name),("ios"==e.name&&e.majorVersion<7||"ios"!=e.name)&&n.push("km-"+e.name+e.majorVersion),n.push("km-"+e.majorVersion),n.push("km-m"+(e.minorVersion?e.minorVersion[0]:0)),e.variant&&(e.skin&&e.skin===e.name||!e.skin||!1===e.setDefaultPlatform)&&n.push("km-"+(e.skin?e.skin:e.name)+"-"+e.variant),e.cordova&&n.push("km-cordova"),e.appMode?n.push("km-app"):n.push("km-web"),t&&t.statusBarStyle&&n.push("km-"+t.statusBarStyle+"-status-bar"),n.join(" ")}(t.os,t.options),"wp"==l.name&&(t.refreshBackgroundColorProxy||(t.refreshBackgroundColorProxy=e.proxy((function(){(t.os.variant&&t.os.skin&&t.os.skin===t.os.name||!t.os.skin)&&t.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(function(t){return"km-wp-"+(t.noVariantSet?0===parseInt(e("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light":t.variant+" km-wp-"+t.variant+"-force")}(t.os))}),t)),e(document).off("visibilitychange",t.refreshBackgroundColorProxy),e(document).off("resume",t.refreshBackgroundColorProxy),l.skin||(t.element.parent().css("overflow","hidden"),e(document).on("visibilitychange",t.refreshBackgroundColorProxy),e(document).on("resume",t.refreshBackgroundColorProxy),t.refreshBackgroundColorProxy()))},_startHistory:function(){this.options.browserHistory?(this.router=new n.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start()):this.options.initial||this.pane.navigate("")},_resizeToScreenHeight:function(){var t,n=e("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),element=this.element;t=m?window.innerHeight:P(element)?n?_?M.availWidth+20:M.availWidth:_?M.availWidth:M.availWidth-20:n?_?M.availHeight:M.availHeight+20:_?M.availHeight-20:M.availHeight,element.height(t)},_setupElementClass:function(){var t,r=this,element=r.element;element.parent().addClass("km-root km-"+(r.os.tablet?"tablet":"phone")),element.addClass(r.osCssClass+" "+z(element)),this.options.useNativeScrolling&&element.parent().addClass("km-native-scrolling"),m&&element.addClass("km-ios-chrome"),o.wpDevicePixelRatio&&element.parent().css("font-size",o.wpDevicePixelRatio+"em"),this.options.retina&&(element.parent().addClass("km-retina"),element.parent().css("font-size",.93*o.devicePixelRatio+"em")),d&&L(),r.options.useNativeScrolling?element.parent().addClass("km-native-scrolling"):S&&(t=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,e(C({width:t,height:t})).appendTo(R)),v&&r._resizeToScreenHeight(),n.onResize((function(){element.removeClass("km-horizontal km-vertical").addClass(z(element)),r.options.useNativeScrolling&&B(element),v&&r._resizeToScreenHeight(),d&&L(),n.resize(element)}))},_clearExistingMeta:function(){R.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var e,t=this.options,n=t.icon;if(this._clearExistingMeta(),d||R.prepend(x({height:"",scale:this.options.retina?1/o.devicePixelRatio:"1.0"})),R.prepend(k(t)),n)for(e in"string"==typeof n&&(n={"":n}),n)R.prepend(T({icon:n[e],size:e}));t.useNativeScrolling&&B(this.element)},_attachHideBarHandlers:function(){var e=F(this,"_hideBar");!o.mobileOS.appMode&&this.options.hideAddressBar&&D&&!this.options.useNativeScrolling&&(this._initialHeight={},I.on("load",e),n.onResize((function(){setTimeout(window.scrollTo,0,0,1)})))},_setupDocumentTitle:function(){var e=document.title;this.pane.bind("viewShow",(function(t){var title=t.view.title;document.title=void 0!==title?title:e}))},_hideBar:function(){this.element.height(n.support.transforms.css+"calc(100% + "+A+"px)"),e(window).trigger(n.support.resize)}});n.mobile.Application=H,n.ui.plugin(H,n.mobile,"Mobile")}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1244)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1226:function(e,t){e.exports=n(149)},1227:function(e,t){e.exports=n(226)},1244:function(e,t,n){var r,o,l;n(3),o=[n(1227),n(1226)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.support,o=n.mobile.ui,l=o.Shim,c=o.Popup,h=o.Widget,d=n.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),f=h.extend({init:function(element,t){var f,m,v,_=this,w=r.mobileOS;h.fn.init.call(_,element,t),v=(t=_.options).type,element=_.element,f=(m="auto"===v?w&&w.tablet:"tablet"===v)?c:l,t.cancelTemplate&&(d=n.template(t.cancelTemplate)),element.addClass("km-actionsheet").append(d({cancel:_.options.cancel})).wrap('<div class="km-actionsheet-wrapper" />').on("up","li>a","_click").on("click","li>a",n.preventDefault),_.view().bind("destroy",(function(){_.destroy()})),_.wrapper=element.parent().addClass(v?" km-actionsheet-"+v:""),_.shim=new f(_.wrapper,e.extend({modal:w.ios&&w.majorVersion<7,className:"km-actionsheet-root"},_.options.popup)),_._closeProxy=e.proxy(_,"_close"),_._shimHideProxy=e.proxy(_,"_shimHide"),_.shim.bind("hide",_._shimHideProxy),m&&n.onResize(_._closeProxy),n.notify(_,o)},events:["open","close","command"],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(t,n){this.target=e(t),this.context=n,this.shim.show(t)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(e){var t=e.data("actionsheetContext");this.open(e,t),this.trigger("open",{target:e,context:t})},destroy:function(){h.fn.destroy.call(this),n.unbindResize(this._closeProxy),this.shim.destroy()},_click:function(t){if(!t.isDefaultPrevented()){var r=e(t.currentTarget),o=r.data("action");if(o){var l={target:this.target,context:this.context},c=this.options.$angular;c?this.element.injector().get("$parse")(o)(c[0])(l):n.getter(o)(window)(l)}this.trigger("command",{target:this.target,context:this.context,currentTarget:r}),t.preventDefault(),this._close()}},_shimHide:function(e){this.trigger("close")?e.preventDefault():this.context=this.target=null},_close:function(e){this.trigger("close")?e.preventDefault():this.close()}});o.plugin(f)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1247)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1247:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget,l="state-active",c="state-disabled";function h(e){return"k-"+e+" km-"+e}function d(t){return e('<span class="'+h("badge")+'">'+t+"</span>")}var f=o.extend({init:function(element,e){o.fn.init.call(this,element,e),this.element.addClass("km-buttongroup k-widget k-button-group").find("li").each(this._button),this.element.on(this.options.selectOn,"li:not(.km-state-active)","_select"),this._enable=!0,this.select(this.options.index),this.options.enable||(this._enable=!1,this.wrapper.addClass(h(c)))},events:["select"],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:!0},current:function(){return this.element.find(".km-"+l)},select:function(li){var t=-1;void 0!==li&&-1!==li&&this._enable&&!e(li).is(".km-"+c)&&(this.current().removeClass(h(l)),"number"==typeof li?(t=li,li=e(this.element[0].children[li])):li.nodeType&&(t=(li=e(li)).index()),li.addClass(h(l)),this.selectedIndex=t)},badge:function(t,n){var r,o=this.element;return isNaN(t)||(t=o.children().get(t)),t=o.find(t),r=e(t.children(".km-badge")[0]||d(n).appendTo(t)),n||0===n?(r.html(n),this):!1===n?(r.empty().remove(),this):r.html()},enable:function(e){void 0===e&&(e=!0),this.wrapper.toggleClass(h(c),!e),this._enable=this.options.enable=e},_button:function(){var button=e(this).addClass(h("button")),t=n.attrValue(button,"icon"),r=n.attrValue(button,"badge"),span=button.children("span"),image=button.find("img").addClass(h("image"));span[0]||(span=button.wrapInner("<span/>").children("span")),span.addClass(h("text")),!image[0]&&t&&button.prepend(e('<span class="'+h("icon")+" "+h(t)+'"/>')),(r||0===r)&&d(r).appendTo(button)},_select:function(e){e.which>1||e.isDefaultPrevented()||!this._enable||(this.select(e.currentTarget),this.trigger("select",{index:this.selectedIndex}))}});r.plugin(f)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1248)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1248:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget,l=o.extend({init:function(element,t){var r=this,l=e(element);o.fn.init.call(r,l,t),l.addClass("km-collapsible"),r._buildHeader(),r.content=l.children().not(r.header).wrapAll("<div data-role='collapsible-content' class='km-collapsible-content'></div>").parent(),r._userEvents=new n.UserEvents(r.header,{fastTap:!0,tap:function(){r.toggle()}}),l.addClass(r.options.collapsed?"km-collapsed":"km-expanded"),r.options.inset&&l.addClass("km-collapsibleinset"),r.options.animation?(r.content.addClass("km-animated"),r.content.height(0),r.options.collapsed&&r.content.hide()):r.options.collapsed&&r.content.hide()},events:["expand","collapse"],options:{name:"Collapsible",collapsed:!0,collapseIcon:"arrow-n",expandIcon:"arrow-s",iconPosition:"left",animation:!0,inset:!1},destroy:function(){o.fn.destroy.call(this),this._userEvents.destroy()},expand:function(e){var t=this.options.collapseIcon,content=this.content,r=n.support.mobileOS.ios;this.trigger("expand")||(t&&this.header.find(".km-icon").removeClass().addClass("km-icon km-"+t),this.element.removeClass("km-collapsed").addClass("km-expanded"),this.options.animation&&!e?(content.off("transitionend"),content.show(),r&&content.removeClass("km-animated"),content.height(this._getContentHeight()),r&&content.addClass("km-animated"),n.resize(content)):content.show())},collapse:function(e){var t=this.options.expandIcon,content=this.content;this.trigger("collapse")||(t&&this.header.find(".km-icon").removeClass().addClass("km-icon km-"+t),this.element.removeClass("km-expanded").addClass("km-collapsed"),this.options.animation&&!e?(content.one("transitionend",(function(){content.hide()})),content.height(0)):content.hide())},toggle:function(e){this.isCollapsed()?this.expand(e):this.collapse(e)},isCollapsed:function(){return this.element.hasClass("km-collapsed")},resize:function(){!this.isCollapsed()&&this.options.animation&&this.content.height(this._getContentHeight())},_buildHeader:function(){var header=this.element.children(":header").wrapAll("<div data-role='collapsible-header' class='km-collapsible-header'></div>"),t=e('<span class="km-icon"/>'),n=this.options.collapsed?this.options.expandIcon:this.options.collapseIcon,r=this.options.iconPosition;n&&(header.prepend(t),t.addClass("km-"+n)),this.header=header.parent(),this.header.addClass("km-icon-"+r)},_getContentHeight:function(){var e,style=this.content.attr("style");return this.content.css({position:"absolute",visibility:"hidden",height:"auto"}),e=this.content.height(),this.content.attr("style",style||""),e}});r.plugin(l)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1250)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1041:function(e,t){e.exports=n(8)},1236:function(e,t){e.exports=n(228)},1250:function(e,t,n){var r,o,l;n(3),o=[n(1016),n(1041),n(1236)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=window.Node,o=n.mobile,l=o.ui,c=n._outerHeight,h=n.data.DataSource,d=l.DataBoundWidget,f="["+n.attr("icon")+"]",m=e.proxy,v=n.attrValue,_=n.template('<li><div class="km-group-title"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),w=n.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),y=".kendoMobileListView",x=/^\s+$/,k=/button/;function C(){return this.nodeType===r.TEXT_NODE&&this.nodeValue.match(x)}function S(e,t){t&&!e[0].querySelector(".km-icon")&&e.prepend('<span class="km-icon km-'+t+'"/>')}function T(element,t){e(element).css("transform","translate3d(0px, "+t+"px, 0px)")}var D=n.Class.extend({init:function(e){var t=e.scroller();if(t){this.options=e.options,this.element=e.element,this.scroller=e.scroller(),this._shouldFixHeaders();var n=this,r=function(){n._cacheHeaders()};e.bind("resize",r),e.bind("styled",r),e.bind("dataBound",r),this._scrollHandler=function(e){n._fixHeader(e)},t.bind("scroll",this._scrollHandler)}},destroy:function(){this.scroller&&this.scroller.unbind("scroll",this._scrollHandler)},_fixHeader:function(t){if(this.fixedHeaders){var n,r,header,i=0,o=this.scroller,l=this.headers,c=t.scrollTop;do{if(!(n=l[i++])){header=e("<div />");break}r=n.offset,header=n.header}while(r+1>c);this.currentHeader!=i&&(o.fixedContainer.html(header.clone()),this.currentHeader=i)}},_shouldFixHeaders:function(){this.fixedHeaders="group"===this.options.type&&this.options.fixedHeaders},_cacheHeaders:function(){if(this._shouldFixHeaders(),this.fixedHeaders){var t=[],n=this.scroller.scrollTop;this.element.find(".km-group-title").each((function(r,header){header=e(header),t.unshift({offset:header.position().top+n,header:header})})),this.headers=t,this._fixHeader({scrollTop:n})}}}),E=function(){return{page:1}},A=n.Class.extend({init:function(e){var t=this,n=e.options,r=e.scroller(),o=n.pullParameters||E;this.listView=e,this.scroller=r,e.bind("_dataSource",(function(e){t.setDataSource(e.dataSource)})),r.setOptions({pullToRefresh:!0,pull:function(){t._pulled||(t._pulled=!0,t.dataSource.read(o.call(e,t._first)))},messages:{pullTemplate:n.messages.pullTemplate,releaseTemplate:n.messages.releaseTemplate,refreshTemplate:n.messages.refreshTemplate}})},setDataSource:function(e){var t=this;this._first=e.view()[0],this.dataSource=e,e.bind("change",(function(){t._change()})),e.bind("error",(function(){t._change()}))},_change:function(){var e=this.scroller,t=this.dataSource;if(this._pulled&&e.pullHandled(),this._pulled||!this._first){var view=t.view();view[0]&&(this._first=view[0])}this._pulled=!1}}),I=n.Observable.extend({init:function(e){var t=this;n.Observable.fn.init.call(t),t.buffer=e.buffer,t.height=e.height,t.item=e.item,t.items=[],t.footer=e.footer,t.buffer.bind("reset",(function(){t.refresh()}))},refresh:function(){for(var e=this.buffer,t=this.items,n=!1;t.length;)t.pop().destroy();this.offset=e.offset;for(var r,o,l=this.item,c=0;c<e.viewSize;c++){if(c===e.total()){n=!0;break}(o=l(this.content(this.offset+t.length))).below(r),r=o,t.push(o)}this.itemCount=t.length,this.trigger("reset"),this._resize(),n&&this.trigger("endReached")},totalHeight:function(){if(!this.items[0])return 0;var e=this.items,t=e[0].top,n=e[e.length-1].bottom,r=(n-t)/this.itemCount,o=this.buffer.length-this.offset-this.itemCount;return(this.footer?this.footer.height:0)+n+o*r},batchUpdate:function(e){var t,n=this.height(),r=this.items,o=this.offset;if(r[0]){if(this.lastDirection)for(;r[r.length-1].bottom>e+2*n&&0!==this.offset;)this.offset--,(t=r.pop()).update(this.content(this.offset)),t.above(r[0]),r.unshift(t);else for(;r[0].top<e-n;){var l=this.offset+this.itemCount;if(l===this.buffer.total()){this.trigger("endReached");break}if(l===this.buffer.length)break;(t=r.shift()).update(this.content(this.offset+this.itemCount)),t.below(r[r.length-1]),r.push(t),this.offset++}o!==this.offset&&this._resize()}},update:function(e){var t,n,r,o=this.items,l=this.height(),c=this.itemCount,h=l/2,d=(this.lastTop||0)>e,f=e-h,m=e+l+h;if(o[0])if(this.lastTop=e,this.lastDirection=d,d)o[0].top>f&&o[o.length-1].bottom>m+h&&this.offset>0&&(this.offset--,t=o.pop(),n=o[0],t.update(this.content(this.offset)),o.unshift(t),t.above(n),this._resize());else if(o[o.length-1].bottom<m&&o[0].top<f-h){var v=this.offset+c;v===this.buffer.total()?this.trigger("endReached"):v!==this.buffer.length&&(t=o.shift(),r=o[o.length-1],o.push(t),t.update(this.content(this.offset+this.itemCount)),this.offset++,t.below(r),this._resize())}},content:function(e){return this.buffer.at(e)},destroy:function(){this.unbind()},_resize:function(){var e=this.items,t=0,n=0,r=e[0],o=e[e.length-1];r&&(t=r.top,n=o.bottom),this.trigger("resize",{top:t,bottom:n}),this.footer&&this.footer.below(o)}});n.mobile.ui.VirtualList=I;var M=n.Class.extend({init:function(t,n){var element=t.append([n],!0)[0],r=element.offsetHeight;e.extend(this,{top:0,element:element,listView:t,height:r,bottom:r})},update:function(e){this.element=this.listView.setDataItem(this.element,e)},above:function(e){e&&(this.height=this.element.offsetHeight,this.top=e.top-this.height,this.bottom=e.top,T(this.element,this.top))},below:function(e){e&&(this.height=this.element.offsetHeight,this.top=e.bottom,this.bottom=this.top+this.height,T(this.element,this.top))},destroy:function(){n.destroy(this.element),e(this.element).remove()}}),R='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>',F=n.Class.extend({init:function(t){this.element=e('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(t.element),this._loadIcon=e(R).appendTo(this.element)},enable:function(){this.element.show(),this.height=c(this.element,!0)},disable:function(){this.element.hide(),this.height=0},below:function(e){e&&(this.top=e.bottom,this.bottom=this.height+this.top,T(this.element,this.top))}}),P=F.extend({init:function(t,n){this._loadIcon=e(R).hide(),this._loadButton=e('<a class="km-load">'+t.options.messages.loadMoreText+"</a>").hide(),this.element=e('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(t.element);var r=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",(function(){r._hideShowButton(),n.next()})),n.bind("resize",(function(){r._showLoadButton()})),this.height=c(this.element,!0),this.disable()},_hideShowButton:function(){this._loadButton.hide(),this.element.addClass("km-scroller-refresh"),this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show(),this.element.removeClass("km-scroller-refresh"),this._loadIcon.hide()}}),z=n.Class.extend({init:function(e){var t=this;this.chromeHeight=c(e.wrapper.children().not(e.element)),this.listView=e,this.scroller=e.scroller(),this.options=e.options,e.bind("_dataSource",(function(e){t.setDataSource(e.dataSource,e.empty)})),e.bind("resize",(function(){t.list.items.length&&(t.scroller.reset(),t.buffer.range(0),t.list.refresh())})),this.scroller.makeVirtual(),this._scroll=function(e){t.list.update(e.scrollTop)},this.scroller.bind("scroll",this._scroll),this._scrollEnd=function(e){t.list.batchUpdate(e.scrollTop)},this.scroller.bind("scrollEnd",this._scrollEnd)},destroy:function(){this.list.unbind(),this.buffer.unbind(),this.scroller.unbind("scroll",this._scroll),this.scroller.unbind("scrollEnd",this._scrollEnd)},setDataSource:function(t,r){var o,l,footer,c=this,h=this.options,d=this.listView,f=d.scroller(),m=h.loadMore;if(this.dataSource=t,!(o=t.pageSize()||h.virtualViewSize)&&!r)throw new Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.");this.buffer&&this.buffer.destroy(),l=new n.data.Buffer(t,Math.floor(o/2),m),footer=m?new P(d,l):new F(d),this.list&&this.list.destroy();var v=new I({buffer:l,footer:footer,item:function(e){return new M(d,e)},height:function(){return f.height()}});v.bind("resize",(function(){c.updateScrollerSize(),d.updateSize()})),v.bind("reset",(function(){c.footer.enable()})),v.bind("endReached",(function(){footer.disable(),c.updateScrollerSize()})),l.bind("expand",(function(){v.lastDirection=!1,v.batchUpdate(f.scrollTop)})),e.extend(this,{buffer:l,scroller:f,list:v,footer:footer})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0),this.list.refresh()}}),B=n.Class.extend({init:function(e){var t=this;this.listView=e,this.options=e.options;var n=this;this._refreshHandler=function(e){n.refresh(e)},this._progressHandler=function(){e.showLoading()},e.bind("_dataSource",(function(e){t.setDataSource(e.dataSource)}))},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(e){var t,n,r,o,c=e&&e.action,h=e&&e.items,d=this.listView,f=this.dataSource,m=this.options.appendOnRefresh,view=f.view(),v=f.group(),_=v&&v[0];if("itemchange"!==c)if("add"===c&&!_||m&&!d._filter?n=[]:"remove"===c&&!_&&(n=d.findByDataItem(h)),d.trigger("dataBinding",{action:c||"rebind",items:h,removedItems:n,index:e&&e.index}))this._shouldShowLoading()&&d.hideLoading();else{if("add"!==c||_)"remove"!==c||_?_?d.replaceGrouped(view):m&&!d._filter?(r=d.prepend(view),o=view):d.replace(view):(r=[],d.remove(h));else{var w=view.indexOf(h[0]);w>-1&&(r=d.insertAt(h,w),o=h)}this._shouldShowLoading()&&d.hideLoading(),d.trigger("dataBound",{ns:l,addedItems:r,addedDataItems:o})}else d._hasBindingTarget()||(t=d.findByDataItem(h)[0])&&d.setDataItem(t,h[0])},setDataSource:function(e){this.dataSource&&this._unbindDataSource(),this.dataSource=e,e.bind("change",this._refreshHandler),this._shouldShowLoading()&&this.dataSource.bind("progress",this._progressHandler)},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler)},_shouldShowLoading:function(){var e=this.options;return!e.pullToRefresh&&!e.loadMore&&!e.endlessScroll}}),L=n.Class.extend({init:function(t){var filter=this,n=t.options.filterable,r="change paste",o=this;this.listView=t,this.options=n,t.element.before(w({placeholder:n.placeholder||"Search..."})),!1!==n.autoFilter&&(r+=" keyup"),this.element=t.wrapper.find(".km-search-form"),this.searchInput=t.wrapper.find("input[type=search]").closest("form").on("submit"+y,(function(e){e.preventDefault()})).end().on("focus"+y,(function(){filter._oldFilter=filter.searchInput.val()})).on(r.split(" ").join(y+" ")+y,m(this._filterChange,this)),this.clearButton=t.wrapper.find(".km-filter-reset").on("click",m(this,"_clearFilter")).hide(),this._dataSourceChange=e.proxy(this._refreshInput,this),t.bind("_dataSource",(function(e){e.dataSource.bind("change",o._dataSourceChange)}))},_refreshInput:function(){var e=this.listView.dataSource.filter(),t=this.listView._filter.searchInput;e&&e.filters[0].field===this.listView.options.filterable.field?t.val(e.filters[0].value):t.val("")},_search:function(e){this._filter=!0,this.clearButton[e?"show":"hide"](),this.listView.dataSource.filter(e)},_filterChange:function(e){var filter=this;"paste"==e.type&&!1!==this.options.autoFilter?setTimeout((function(){filter._applyFilter()}),1):this._applyFilter()},_applyFilter:function(){var e=this.options,t=this.searchInput.val(),n=t.length?{field:e.field,operator:e.operator||"startswith",ignoreCase:e.ignoreCase,value:t}:null;t!==this._oldFilter&&(this._oldFilter=t,this._search(n))},_clearFilter:function(e){this.searchInput.val(""),this._search(null),e.preventDefault()}}),H=d.extend({init:function(element,t){var r=this;d.fn.init.call(this,element,t),element=this.element,(t=this.options).scrollTreshold&&(t.scrollThreshold=t.scrollTreshold),element.on("down",".km-listview-link, .km-listview-label","_highlight").on("move up cancel",".km-listview-link, .km-listview-label","_dim"),this._userEvents=new n.UserEvents(element,{fastTap:!0,filter:".km-list > li, > li:not(.km-group-container)",allowSelection:!0,tap:function(e){r._click(e)}}),element.css("-ms-touch-action","auto"),element.wrap('<div class="km-listview-wrapper" />'),this.wrapper=this.element.parent(),this._headerFixer=new D(this),this._itemsCache={},this._templates(),this.virtual=t.endlessScroll||t.loadMore,this._style(),this.options.$angular&&(this.virtual||this.options.pullToRefresh)?setTimeout(e.proxy(this,"_start")):this._start()},_start:function(){var e=this.options;this.options.filterable&&(this._filter=new L(this)),this.virtual?this._itemBinder=new z(this):this._itemBinder=new B(this),this.options.pullToRefresh&&(this._pullToRefreshHandler=new A(this)),this.setDataSource(e.dataSource),this._enhanceItems(this.items()),n.notify(this,l)},events:["click","dataBinding","dataBound","itemChange"],options:{name:"ListView",style:"",type:"flat",autoBind:!0,fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:!1,loadMore:!1,endlessScroll:!1,scrollThreshold:30,pullToRefresh:!1,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:!1,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(e){var t=!e;this.dataSource=h.create(e),this.trigger("_dataSource",{dataSource:this.dataSource,empty:t}),this.options.autoBind&&!t&&(this.items().remove(),this.dataSource.fetch())},destroy:function(){d.fn.destroy.call(this),n.destroy(this.element),this._userEvents.destroy(),this._itemBinder&&this._itemBinder.destroy(),this._headerFixer&&this._headerFixer.destroy(),this.element.unwrap(),delete this.element,delete this.wrapper,delete this._userEvents},items:function(){return"group"===this.options.type?this.element.find(".km-list").children():this.element.children().not(".km-load-more")},scroller:function(){return this._scrollerInstance||(this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")),this._scrollerInstance},showLoading:function(){var view=this.view();view&&view.loader&&view.loader.show()},hideLoading:function(){var view=this.view();view&&view.loader&&view.loader.hide()},insertAt:function(e,t,n){var r=this;return r._renderItems(e,(function(o){if(0===t?r.element.prepend(o):-1===t?r.element.append(o):r.items().eq(t-1).after(o),n)for(var i=0;i<o.length;i++)r.trigger("itemChange",{item:o.eq(i),data:e[i],ns:l})}))},append:function(e,t){return this.insertAt(e,-1,t)},prepend:function(e,t){return this.insertAt(e,0,t)},replace:function(e){return this.options.type="flat",this._angularItems("cleanup"),n.destroy(this.element.children()),this.element.empty(),this._userEvents.cancel(),this._style(),this.insertAt(e,0)},replaceGrouped:function(t){this.options.type="group",this._angularItems("cleanup"),this.element.empty();var r=e(n.render(this.groupTemplate,t));this._enhanceItems(r.children("ul").children("li")),this.element.append(r),o.init(r),this._style(),this._angularItems("compile")},remove:function(e){var t=this.findByDataItem(e);this.angular("cleanup",(function(){return{elements:t}})),n.destroy(t),t.remove()},findByDataItem:function(e){for(var t=[],r=0,o=e.length;r<o;r++)t[r]="[data-"+n.ns+"uid="+e[r].uid+"]";return this.element.find(t.join(","))},setDataItem:function(t,r){var o=this;return this._renderItems([r],(function(c){var h=e(c[0]);n.destroy(t),o.angular("cleanup",(function(){return{elements:[e(t)]}})),e(t).replaceWith(h),o.trigger("itemChange",{item:h,data:r,ns:l})}))[0]},updateSize:function(){this._size=this.getSize()},_renderItems:function(t,r){var l=e(n.render(this.template,t));return r(l),this.angular("compile",(function(){return{elements:l,data:t.map((function(data){return{dataItem:data}}))}})),o.init(l),this._enhanceItems(l),l},_dim:function(e){this._toggle(e,!1)},_highlight:function(e){this._toggle(e,!0)},_toggle:function(t,n){if(!(t.which>1)){var r=e(t.currentTarget),o=r.parent(),l=!(v(r,"role")||"").match(k),c=t.isDefaultPrevented();l&&o.toggleClass("km-state-active",n&&!c)}},_templates:function(){var template=this.options.template,e=this.options.headerTemplate,t={},r={};"function"==typeof template&&(t.template=template,template="#=this.template(data)#"),this.template=m(n.template('<li data-uid="#=arguments[0].uid || ""#">'+template+"</li>"),t),r.template=this.template,"function"==typeof e&&(r._headerTemplate=e,e="#=this._headerTemplate(data)#"),r.headerTemplate=n.template(e),this.groupTemplate=m(_,r)},_click:function(t){if(!(t.event.which>1||t.event.isDefaultPrevented())){var r,o=t.target,c=e(t.event.target),h=c.closest(n.roleSelector("button","detailbutton","backbutton")),button=n.widgetInstance(h,l),d=o.attr(n.attr("uid"));d&&(r=this.dataSource.getByUid(d)),this.trigger("click",{target:c,item:o,dataItem:r,button:button})&&t.preventDefault()}},_styleGroups:function(){var t=this.element.children();t.children("ul").addClass("km-list"),t.each((function(){var li=e(this),t=li.contents().first();li.addClass("km-group-container"),t.is("ul")||t.is("div.km-group-title")||t.wrap('<div class="km-group-title"><div class="km-text"></div></div>')}))},_style:function(){var e=this.options,t="group"===e.type,element=this.element,n="inset"===e.style;element.addClass("km-listview").toggleClass("km-list",!t).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!t&&n).toggleClass("km-listgroup",t&&!n).toggleClass("km-listgroupinset",t&&n),element.parents(".km-listview")[0]||element.closest(".km-content").toggleClass("km-insetcontent",n),t&&this._styleGroups(),this.trigger("styled")},_enhanceItems:function(t){t.each((function(){var t,r=e(this),o=!1;r.children().each((function(){var label;(t=e(this)).is("a")?(function(e){var t=e.parent(),r=e.add(t.children(n.roleSelector("detailbutton")));t.contents().not(r).not(C).length||(e.addClass("km-listview-link").attr(n.attr("role"),"listview-link"),S(e,v(t,"icon")),S(e,v(e,"icon")))}(t),o=!0):t.is("label")&&((label=t)[0].querySelector("input[type=checkbox],input[type=radio]")&&(label.parent().contents().not(label).not((function(){return 3==this.nodeType}))[0]||(label.addClass("km-listview-label"),label.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check"))),o=!0)})),o||function(e){S(e,v(e,"icon")),S(e,v(e.children(f),"icon"))}(r)}))}});l.plugin(H)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1253)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1253:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget;function l(t,element){var r=element.find("["+n.attr("align")+"="+t+"]");if(r[0])return e('<div class="km-'+t+'item" />').append(r).prependTo(element)}var c=o.extend({init:function(element,t){o.fn.init.call(this,element,t),element=this.element,this.container().bind("show",e.proxy(this,"refresh")),element.addClass("km-navbar").wrapInner(e('<div class="km-view-title km-show-title" />')),this.leftElement=l("left",element),this.rightElement=l("right",element),this.centerElement=element.find(".km-view-title")},options:{name:"NavBar"},title:function(t){var r,o,l,c,h;this.element.find(n.roleSelector("view-title")).text(t),r=this.centerElement,o=r.siblings(),l=!!r.children("ul")[0],c=!!o[0]&&""===e.trim(r.text()),h=!(!n.mobile.application||!n.mobile.application.element.is(".km-android")),r.prevAll().toggleClass("km-absolute",l),r.toggleClass("km-show-title",c),r.toggleClass("km-fill-title",c&&!e.trim(r.html())),r.toggleClass("km-no-title",l),r.toggleClass("km-hide-title",h&&!o.children().is(":visible"))},refresh:function(e){var view=e.view;this.title(view.options.title)},destroy:function(){o.fn.destroy.call(this),n.destroy(this.element)}});r.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1257)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1016:function(e,t){e.exports=n(3)},1057:function(e,t){e.exports=n(20)},1062:function(e,t){e.exports=n(5)},1257:function(e,t,n){var r,o,l;n(3),o=[n(1057),n(1016),n(1062)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=e.proxy,l=n.effects.Transition,c=n.ui.Pane,h=n.ui.PaneDimensions,d=r.DataBoundWidget,f=n.data.DataSource,m=n.data.Buffer,v=n.data.BatchBuffer,_=Math,w=_.abs,y=_.ceil,x=_.round,k=_.max,C=_.min,S=_.floor;function T(e){return"k-"+e+" km-"+e}var D=n.Class.extend({init:function(t){var element=e("<ol class='"+T("pages")+"'/>");t.element.append(element),this._changeProxy=o(this,"_change"),this._refreshProxy=o(this,"_refresh"),t.bind("change",this._changeProxy),t.bind("refresh",this._refreshProxy),e.extend(this,{element:element,scrollView:t})},items:function(){return this.element.children()},_refresh:function(e){for(var t="",n=0;n<e.pageCount;n++)t+="<li/>";this.element.html(t),this.items().eq(e.page).addClass(T("current-page"))},_change:function(e){this.items().removeClass(T("current-page")).eq(e.page).addClass(T("current-page"))},destroy:function(){this.scrollView.unbind("change",this._changeProxy),this.scrollView.unbind("refresh",this._refreshProxy),this.element.remove()}});n.mobile.ui.ScrollViewPager=D;var E=n.Observable.extend({init:function(element,t){var r,o,d,f,m,v,_=this;n.Observable.fn.init.call(this),this.element=element,this.container=element.parent(),r=new n.ui.Movable(_.element),o=new l({axis:"x",movable:r,onEnd:function(){_.trigger("transitionEnd")}}),d=new n.UserEvents(element,{fastTap:!0,start:function(e){2*w(e.x.velocity)>=w(e.y.velocity)?d.capture():d.cancel(),_.trigger("dragStart",e),o.cancel()},allowSelection:!0,end:function(e){_.trigger("dragEnd",e)}}),(m=(f=new h({element:_.element,container:_.container})).x).bind("change",(function(){_.trigger("change")})),v=new c({dimensions:f,userEvents:d,movable:r,elastic:!0}),e.extend(_,{duration:t&&t.duration||1,movable:r,transition:o,userEvents:d,dimensions:f,dimension:m,pane:v}),this.bind(["transitionEnd","dragStart","dragEnd","change"],t)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(!0)},refresh:function(){this.dimensions.refresh()},moveTo:function(e){this.movable.moveAxis("x",-e)},transitionTo:function(e,t,n){n?this.moveTo(-e):this.transition.moveTo({location:e,duration:this.duration,ease:t})}});n.mobile.ui.ScrollViewElasticPane=E;var A=n.Observable.extend({init:function(element,e,t){n.Observable.fn.init.call(this),this.element=element,this.pane=e,this._getPages(),this.page=0,this.pageSize=t.pageSize||1,this.contentHeight=t.contentHeight,this.enablePager=t.enablePager,this.pagerOverlay=t.pagerOverlay},scrollTo:function(e,t){this.page=e,this.pane.transitionTo(-e*this.pane.size().width,l.easeOutExpo,t)},paneMoved:function(e,t,n,r){var o,c,h=this.pane,d=h.size().width*this.pageSize,f=x,m=t?l.easeOutBack:l.easeOutExpo;-1===e?f=y:1===e&&(f=S),c=f(h.offset()/d),o=k(this.minSnap,C(-c*d,this.maxSnap)),c!=this.page&&n&&n({currentPage:this.page,nextPage:c})&&(o=-this.page*h.size().width),h.transitionTo(o,m,r)},updatePage:function(){var e=this.pane,t=x(e.offset()/e.size().width);return t!=this.page&&(this.page=t,!0)},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(e){var t=this.pane,r=e.width;if(this.pageElements.width(r),"100%"===this.contentHeight){var o=this.element.parent().height();if(!0===this.enablePager){var l=this.element.parent().find("ol.km-pages");!this.pagerOverlay&&l.length&&(o-=n._outerHeight(l,!0))}this.element.css("height",o),this.pageElements.css("height",o)}t.updateDimension(),this._paged||(this.page=S(t.offset()/r)),this.scrollTo(this.page,!0),this.pageCount=y(t.total()/r),this.minSnap=-(this.pageCount-1)*r,this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(n.roleSelector("page")),this._paged=this.pageElements.length>0}});n.mobile.ui.ScrollViewContent=A;var I=n.Observable.extend({init:function(element,e,t){n.Observable.fn.init.call(this),this.element=element,this.pane=e,this.options=t,this._templates(),this.page=t.page||0,this.pages=[],this._initPages(),this.resizeTo(this.pane.size()),this.pane.dimension.forceEnabled()},setDataSource:function(e){this.dataSource=f.create(e),this._buffer(),this._pendingPageRefresh=!1,this._pendingWidgetRefresh=!1},_viewShow:function(){var e=this;e._pendingWidgetRefresh&&(setTimeout((function(){e._resetPages()}),0),e._pendingWidgetRefresh=!1)},_buffer:function(){var e=this.options.itemsPerPage;this.buffer&&this.buffer.destroy(),this.buffer=e>1?new v(this.dataSource,e):new m(this.dataSource,3*e),this._resizeProxy=o(this,"_onResize"),this._resetProxy=o(this,"_onReset"),this._endReachedProxy=o(this,"_onEndReached"),this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var template=this.options.template,e=this.options.emptyTemplate,t={},r={};"function"==typeof template&&(t.template=template,template="#=this.template(data)#"),this.template=o(n.template(template),t),"function"==typeof e&&(r.emptyTemplate=e,e="#=this.emptyTemplate(data)#"),this.emptyTemplate=o(n.template(e),r)},_initPages:function(){for(var e,t=this.pages,element=this.element,i=0;i<3;i++)e=new M(element),t.push(e);this.pane.updateDimension()},resizeTo:function(e){for(var t=this.pages,r=this.pane,i=0;i<t.length;i++)t[i].setWidth(e.width);if("auto"===this.options.contentHeight)this.element.css("height",this.pages[1].element.height());else if("100%"===this.options.contentHeight){var o=this.element.parent().height();if(!0===this.options.enablePager){var l=this.element.parent().find("ol.km-pages");!this.options.pagerOverlay&&l.length&&(o-=n._outerHeight(l,!0))}this.element.css("height",o),t[0].element.css("height",o),t[1].element.css("height",o),t[2].element.css("height",o)}r.updateDimension(),this._repositionPages(),this.width=e.width},scrollTo:function(e){var t=this.buffer;t.syncDataSource(),t.at(e)&&(this._updatePagesContent(e),this.page=e)},paneMoved:function(e,t,r,o){var l,c=this.pane,h=c.size().width,d=c.offset(),f=Math.abs(d)>=h/3,m=t?n.effects.Transition.easeOutBack:n.effects.Transition.easeOutExpo,v=this.page+2>this.buffer.total(),_=0;1===e?0!==this.page&&(_=-1):-1!==e||v?d>0&&f&&!v?_=1:d<0&&f&&0!==this.page&&(_=-1):_=1,l=this.page,_&&(l=_>0?l+1:l-1),r&&r({currentPage:this.page,nextPage:l})&&(_=0),0===_?this._cancelMove(m,o):-1===_?this._moveBackward(o):1===_&&this._moveForward(o)},updatePage:function(){var e=this.pages;return 0!==this.pane.offset()&&(this.pane.offset()>0?(e.push(this.pages.shift()),this.page++,this.setPageContent(e[2],this.page+1)):(e.unshift(this.pages.pop()),this.page--,this.setPageContent(e[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdate:function(){var e=this.pane.offset(),t=3*this.pane.size().width/4;return w(e)>t&&this.updatePage()},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(e){this.pane.transitionTo(-this.width,n.effects.Transition.easeOutExpo,e)},_moveBackward:function(e){this.pane.transitionTo(this.width,n.effects.Transition.easeOutExpo,e)},_cancelMove:function(e,t){this.pane.transitionTo(0,e,t)},_resetPages:function(){this.page=this.options.page||0,this._updatePagesContent(this.page),this._repositionPages(),this.trigger("reset")},_onResize:function(){this.pageCount=y(this.dataSource.total()/this.options.itemsPerPage),this._pendingPageRefresh&&(this._updatePagesContent(this.page),this._pendingPageRefresh=!1),this.trigger("resize")},_onReset:function(){this.pageCount=y(this.dataSource.total()/this.options.itemsPerPage),this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=!0},_repositionPages:function(){var e=this.pages;e[0].position(-1),e[1].position(0),e[2].position(1)},_updatePagesContent:function(e){var t=this.pages,n=e||0;this.setPageContent(t[0],n-1),this.setPageContent(t[1],n),this.setPageContent(t[2],n+1)},setPageContent:function(t,r){var o=this.buffer,template=this.template,l=this.emptyTemplate,view=null;r>=0&&(view=o.at(r),e.isArray(view)&&!view.length&&(view=null)),this.trigger("cleanup",{item:t.element}),null!==view?t.content(template(view)):t.content(l({})),n.mobile.init(t.element),this.trigger("itemChange",{item:t.element,data:view,ns:n.mobile.ui})}});n.mobile.ui.VirtualScrollViewContent=I;var M=n.Class.extend({init:function(t){this.element=e("<div class='"+T("virtual-page")+"'></div>"),this.width=t.width(),this.element.width(this.width),t.append(this.element)},content:function(e){this.element.html(e)},position:function(e){this.element.css("transform","translate3d("+this.width*e+"px, 0, 0)")},setWidth:function(e){this.width=e,this.element.width(e)}});n.mobile.ui.VirtualPage=M;var R=d.extend({init:function(element,e){var t=this;d.fn.init.call(t,element,e),e=t.options,element=t.element,n.stripWhitespace(element[0]),element.wrapInner("<div/>").addClass("k-widget "+T("scrollview")),this.options.enablePager&&(this.pager=new D(this),this.options.pagerOverlay&&element.addClass(T("scrollview-overlay"))),t.inner=element.children().first(),t.page=0,t.inner.css("height",e.contentHeight),t.pane=new E(t.inner,{duration:this.options.duration,transitionEnd:o(this,"_transitionEnd"),dragStart:o(this,"_dragStart"),dragEnd:o(this,"_dragEnd"),change:o(this,"refresh")}),t.bind("resize",(function(){t.pane.refresh()})),t.page=e.page;var content=0===this.inner.children().length?new I(t.inner,t.pane,e):new A(t.inner,t.pane,e);content.page=t.page,content.bind("reset",(function(){this._pendingPageRefresh=!1,t._syncWithContent(),t.trigger("refresh",{pageCount:content.pageCount,page:content.page})})),content.bind("resize",(function(){t.trigger("refresh",{pageCount:content.pageCount,page:content.page})})),content.bind("itemChange",(function(e){t.trigger("itemChange",e),t.angular("compile",(function(){return{elements:e.item,data:[{dataItem:e.data}]}}))})),content.bind("cleanup",(function(e){t.angular("cleanup",(function(){return{elements:e.item}}))})),t._content=content,t.setDataSource(e.dataSource);var r=t.container();r.nullObject?(t.viewInit(),t.viewShow()):r.bind("show",o(this,"viewShow")).bind("init",o(this,"viewInit"))},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:!0,pagerOverlay:!1,autoBind:!0,template:"",emptyTemplate:""},events:["changing","change","refresh"],destroy:function(){d.fn.destroy.call(this),n.destroy(this.element)},viewInit:function(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0)},viewShow:function(){this.pane.refresh()},refresh:function(){var content=this._content;content.resizeTo(this.pane.size()),this.page=content.page,this.trigger("refresh",{pageCount:content.pageCount,page:content.page})},content:function(html){this.element.children().first().html(html),this._content._getPages(),this.pane.refresh()},value:function(e){var t=this.dataSource;if(!e)return t.at(this.page);this.scrollTo(t.indexOf(e),!0)},scrollTo:function(e,t){this._content.scrollTo(e,t),this._syncWithContent()},prev:function(){var e=this,t=e.page-1;e._content instanceof I?e._content.paneMoved(1,void 0,(function(t){return e.trigger("changing",t)})):t>-1&&e.scrollTo(t)},next:function(){var e=this,t=e.page+1;e._content instanceof I?e._content.paneMoved(-1,void 0,(function(t){return e.trigger("changing",t)})):t<e._content.pageCount&&e.scrollTo(t)},setDataSource:function(e){if(this._content instanceof I){var t=!e;this.dataSource=f.create(e),this._content.setDataSource(this.dataSource),this.options.autoBind&&!t&&this.dataSource.fetch()}},items:function(){return this.element.find(".km-virtual-page")},_syncWithContent:function(){var data,element,e=this._content.pages,t=this._content.buffer;this.page=this._content.page,(data=t?t.at(this.page):void 0)instanceof Array||(data=[data]),element=e?e[1].element:void 0,this.trigger("change",{page:this.page,element:element,data:data})},_dragStart:function(){this._content.forcePageUpdate()&&this._syncWithContent()},_dragEnd:function(e){var t=this,n=e.x.velocity,r=this.options.velocityThreshold,o=0,l=w(n)>this.options.bounceVelocityThreshold;n>r?o=1:n<-r&&(o=-1),this._content.paneMoved(o,l,(function(e){return t.trigger("changing",e)}))},_transitionEnd:function(){this._content.updatePage()&&this._syncWithContent()}});r.plugin(R)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1260)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1041:function(e,t){e.exports=n(8)},1057:function(e,t){e.exports=n(20)},1260:function(e,t,n){var r,o,l;n(3),o=[n(1057),n(1041)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=n._outerWidth,l=r.Widget,c=n.support,h=(void 0===c.transitions.css?"":c.transitions.css)+"transform",d=e.proxy;function f(e){return"km-"+e}var m='<span class="'+f("switch")+" "+f("widget")+'">\t        <span class="'+f("switch-wrapper")+'">\t            <span class="'+f("switch-background")+'"></span>\t        </span> \t        <span class="'+f("switch-container")+'">\t            <span class="'+f("switch-handle")+'"> \t                <span class="'+f("switch-label-on")+'">{0}</span> \t                <span class="'+f("switch-label-off")+'">{1}</span> \t            </span> \t        </span>\t    </span>',v=l.extend({init:function(element,t){var r;l.fn.init.call(this,element,t),t=this.options,this.wrapper=e(n.format(m,t.onLabel,t.offLabel)),this.handle=this.wrapper.find(".km-switch-handle"),this.background=this.wrapper.find(".km-switch-background"),this.wrapper.insertBefore(this.element).prepend(this.element),this._drag(),this.origin=parseInt(this.background.css("margin-left"),10),this.constrain=0,this.snapPoint=0,(element=this.element[0]).type="checkbox",this._animateBackground=!0,null===(r=this.options.checked)&&(r=element.checked),this.check(r),this.options.enable=this.options.enable&&!this.element.attr("disabled"),this.enable(this.options.enable),this.refresh(),n.notify(this,n.mobile.ui)},refresh:function(){var e=o(this.handle,!0);this.width=this.wrapper.width(),this.constrain=this.width-e,this.snapPoint=this.constrain/2,"number"!=typeof this.origin&&(this.origin=parseInt(this.background.css("margin-left"),10)),this.background.data("origin",this.origin),this.check(this.element[0].checked)},events:["change"],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:!0},check:function(e){var element=this.element[0];if(void 0===e)return element.checked;this._position(e?this.constrain:0),element.checked=e,this.wrapper.toggleClass(f("switch-on"),e).toggleClass(f("switch-off"),!e)},value:function(){return this.check.apply(this,arguments)},destroy:function(){l.fn.destroy.call(this),this.userEvents.destroy()},toggle:function(){this.check(!this.element[0].checked)},enable:function(e){var element=this.element,t=this.wrapper;void 0===e&&(e=!0),this.options.enable=e,e?element.removeAttr("disabled"):element.attr("disabled","disabled"),t.toggleClass(f("state-disabled"),!e)},_resize:function(){this.refresh()},_move:function(e){var t,n,r;e.preventDefault(),this._position((t=this.position+e.x.delta,n=0,r=this.width-o(this.handle,!0),Math.max(n,Math.min(r,t))))},_position:function(e){this.position=e,this.handle.css(h,"translatex("+e+"px)"),this._animateBackground&&this.background.css("margin-left",this.origin+e)},_start:function(){this.options.enable?(this.userEvents.capture(),this.handle.addClass(f("state-active"))):this.userEvents.cancel()},_stop:function(){this.handle.removeClass(f("state-active")),this._toggle(this.position>this.snapPoint)},_toggle:function(e){var t,r=this,o=r.handle,element=r.element[0],l=element.checked,c=n.mobile.application&&n.mobile.application.os.wp?100:200;r.wrapper.toggleClass(f("switch-on"),e).toggleClass(f("switch-off"),!e),r.position=t=e*r.constrain,r._animateBackground&&r.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:t,reset:!0,reverse:!e,axis:"left",duration:c}),o.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:c,offset:t+"px,0",reset:!0,complete:function(){l!==e&&(element.checked=e,r.trigger("change",{checked:e}))}})},_drag:function(){var e=this;e.userEvents=new n.UserEvents(e.wrapper,{fastTap:!0,tap:function(){e.options.enable&&e._toggle(!e.element[0].checked)},start:d(e._start,e),move:d(e._move,e),end:d(e._stop,e)})}});r.plugin(v)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,t,n){e.exports=n(1261)},3:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1007:function(e,t){e.exports=n(0)},1261:function(e,t,n){var r,o,l;n(3),o=[n(1007)],void 0===(l="function"==typeof(r=function(){return function(e,t){var n=window.kendo,r=n.mobile.ui,o=r.Widget;function l(t){return e('<span class="km-badge">'+t+"</span>")}var c=o.extend({init:function(element,t){o.fn.init.call(this,element,t),this.container().bind("show",e.proxy(this,"refresh")),this.element.addClass("km-tabstrip").find("a").each(this._buildButton).eq(this.options.selectedIndex).addClass("km-state-active"),this.element.on("down","a","_release")},events:["select"],switchTo:function(t){var n,path,r=this.element.find("a"),o=0,l=r.length;if(!isNaN(t))return this._setActiveItem(r.eq(t)),!0;for(;o<l;o++)if(-1!==(path=(n=r[o]).href.replace(/(\#.+)(\?.+)$/,"$1")).indexOf(t,path.length-t.length))return this._setActiveItem(e(n)),!0;return!1},switchByFullUrl:function(e){var t;t=this.element.find("a[href$='"+e+"']"),this._setActiveItem(t)},clear:function(){this.currentItem().removeClass("km-state-active")},currentItem:function(){return this.element.children(".km-state-active")},badge:function(t,n){var r,o=this.element;return isNaN(t)||(t=o.children().get(t)),t=o.find(t),r=e(t.find(".km-badge")[0]||l(n).insertAfter(t.children(".km-icon"))),n||0===n?(r.html(n),this):!1===n?(r.empty().remove(),this):r.html()},_release:function(t){if(!(t.which>1)){var n=e(t.currentTarget);n[0]!==this.currentItem()[0]&&(this.trigger("select",{item:n})?t.preventDefault():this._setActiveItem(n))}},_setActiveItem:function(e){e[0]&&(this.clear(),e.addClass("km-state-active"))},_buildButton:function(){var button=e(this),t=n.attrValue(button,"icon"),r=n.attrValue(button,"badge"),image=button.find("img"),o=e('<span class="km-icon"/>');button.addClass("km-button").attr(n.attr("role"),"tab").contents().not(image).wrapAll('<span class="km-text"/>'),image[0]?image.addClass("km-image").prependTo(button):(button.prepend(o),t&&(o.addClass("km-"+t),(r||0===r)&&l(r).insertAfter(o)))},refresh:function(e){var t=e.view.id;t&&!this.switchTo(e.view.id)&&this.switchTo(t)},options:{name:"TabStrip",selectedIndex:0,enable:!0}});r.plugin(c)}(window.kendo.jQuery),window.kendo})?r.apply(t,o):r)||(e.exports=l)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(102),l=n(434),c=(r=l)&&r.__esModule?r:{default:r};t.default={props:c.default,render:function(e){return e("button",this.$slots.default)},mixins:[o.KendoBaseComponent],mounted:function(){kendo.jQuery(this.$el).kendoButton(this.widgetOptions),this.$emit("kendowidgetready",this.kendoWidget())},methods:{kendoWidget:function(){return kendo.jQuery(this.$el).getKendoButton()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(1),c=(r=l)&&r.__esModule?r:{default:r};function h(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}t.default={props:{disabled:Boolean,readonly:Boolean},render:function(e){return e("div")},created:function(){this.resolveWidgetOptions(),this.$_nativeTemplates=[],this.$on("kendowidgetready",this.ready)},beforeDestroy:function(){if(this.kendoWidget()&&this.kendoWidget().destroy&&(this.kendoWidget().destroy(),this.$_nativeTemplates.length))for(var i=0;i<this.$_nativeTemplates.length;i++)this.$_nativeTemplates[i].$destroy()},mounted:function(){for(var e in this.$el.classList.length>0?this.nativeClasses=[].concat(h(this.$el.classList)):this.nativeClasses=[],this.$options.propsData){var t=this;if(-1!==e.toLowerCase().indexOf("template"))this.widgetOptions[e]instanceof Function&&(this.widgetOptions[e]=this.transformTemplate(e));"value"===e?t.$watch(e,(function(e){t.changeValue(e)})):"disabled"===e?t.$watch(e,(function(e){t.makeDisabled(e)})):"readonly"===e?t.$watch(e,(function(e){t.makeReadonly(e)})):t.$watch(e,(function(e,n){JSON.stringify(n)!==JSON.stringify(e)&&t.updateWidget()}))}},watch:{$attrs:function(){this.toggleClasses()}},methods:{toggleClasses:function(){var e=this,t=kendo.jQuery(e.$el),n=e.kendoWidget().wrapper;n&&n[0]!==t[0]&&(e.nativeClasses.forEach((function(e){n.removeClass(e)})),e.kendoClasses?e.nativeClasses=[].concat(h(e.$el.classList)).filter((function(t){return e.kendoClasses.indexOf(t)<0})):e.nativeClasses=[].concat(h(e.$el.classList)),e.nativeClasses.forEach((function(e){n.addClass(e)}))),e.kendoClasses&&e.kendoClasses.forEach((function(e){t.addClass(e)}))},updateWidget:function(){this.resolveWidgetOptions(),this._resolveChildren&&this._resolveChildren(),this.kendoWidget().setOptions&&this.kendoWidget().setOptions(this.widgetOptions)},transformTemplate:function(e,t){var object,n=this,r=t||n.$options.propsData[e];try{object=r.call(n,{})}catch(e){return r}return object.template?function(){object=r.apply(this,arguments);var e=new c.default(object.template);e.$data.templateArgs=object.templateArgs;var t="kendo"+kendo.guid();return n.$nextTick((function(){document.getElementById(t)&&(e.$mount("#"+t),n.$_nativeTemplates.push(e))})),'<div id="'+t+'"></div>'}:r},resolveChildren:function(e,t){if(!this.widgetOptions[e]&&this.$slots.default){var n=[],r=!0,o=!1,l=void 0;try{for(var c,h=this.$slots.default[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var d=c.value;if(d.tag&&-1!==d.tag.indexOf(t)){var f=this.parseOptions(d.componentInstance);f.dataSourceRef&&this.setInnerDataSource("dataSourceRef","dataSource",f),n.push(f),this.handleWatcher(d.componentInstance)}}}catch(e){o=!0,l=e}finally{try{!r&&h.return&&h.return()}finally{if(o)throw l}}n.length&&(this.widgetOptions[e]=n)}},handleWatcher:function(e){var t=this;e.stashedPropsData=JSON.stringify(e.$options.propsData),e._isWatchAttached||(e.$watch("$props",(function(){var n=JSON.stringify(e.$options.propsData),r=e.stashedPropsData!==n;t.updateWidget&&r?t.updateWidget():t._resolveInnerChildren&&t._resolveInnerChildren(),e.stashedPropsData=n}),{deep:!0}),e._isWatchAttached=!0)},makeDisabled:function(e){this.kendoWidget().enable&&this.kendoWidget().enable(!e)},makeReadonly:function(e){this.kendoWidget().readonly&&this.kendoWidget().readonly(e)},changeValue:function(e){this.kendoWidget().value&&this.kendoWidget().value(e)},resolveWidgetOptions:function(){this.widgetOptions=this.parseOptions()},parseOptions:function(component){var e=component||this,t={};for(var n in e.$options.propsData){var r=e.$options.props[n],o=e.$options.propsData[n],l=r.kComposite;l?this.addCompositeProperty(t,l.split("."),e.$props[n]):-1!==n.toLowerCase().indexOf("template")&&o instanceof Function?t[n]=this.transformTemplate(n,o):t[n]=o}return Object.keys(e.$props).forEach((function(n){var r;e.$listeners&&e.$listeners[n.toLowerCase()]&&(-1!==n.lastIndexOf("kendo")&&(r=n.replace("kendo","").toLowerCase()),t[r||n]=e.$listeners[n.toLowerCase()])})),t},addCompositeProperty:function(e,t,n){var r=t.pop(),l=t.reduce((function(e,t){return e[t]="object"===o(e[t])&&e[t]||{},e[t]}),e);-1!==r.toLowerCase().indexOf("template")&&n instanceof Function?l[r]=this.transformTemplate(r,n):l[r]=n},ready:function(){var e=this;this.$el.classList.length>0&&(e.kendoClasses=[].concat(h(e.$el.classList)).filter((function(t){return e.nativeClasses.indexOf(t)<0}))),e.$options.propsData&&e.$options.propsData.disabled&&e.makeDisabled(!0),e.$options.propsData&&e.$options.propsData.readonly&&e.makeReadonly(!0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{dataSourceRef:String},render:function(e){return e("div")},methods:{findDataSource:function(){var e,t=!0,n=!1,r=void 0;try{for(var o,l=this.$children[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value;if(this.$children.length&&a.kendoDataSource){e=a.kendoDataSource;break}}}catch(e){n=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}return e},setInnerDataSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dataSourceRef",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dataSource",n=arguments[2],r=this.findDataSource();if(r)n?n[t]=r:this.widgetOptions[t]=r;else{var o=n?n[e]:this[e],l=this.getParentsRef(o);l&&(this.attachEvents(l),n?n[t]=l.kendoDataSource:this.widgetOptions[t]=l.kendoDataSource)}},getParentsRef:function(e){for(var t=this.$parent;t&&!t.$refs[e];)t=t.$parent;return t?t.$refs[e]:void 0},setDataSource:function(e){var t=this.getParentsRef(e),n=this.kendoWidget();n.setDataSource&&t?n.setDataSource(t.kendoDataSource):n.setDataSource&&n.setDataSource(e)},attachEvents:function(e){e.kendoDataSource&&(e.kendoDataSource.bind("change",(function(t){e.$emit("change",t)})),e.kendoDataSource.bind("error",(function(t){e.$emit("error",t)})),e.kendoDataSource.bind("push",(function(t){e.$emit("push",t)})),e.kendoDataSource.bind("requestEnd",(function(t){e.$emit("requestend",t)})),e.kendoDataSource.bind("requestStart",(function(t){e.$emit("requeststart",t)})),e.kendoDataSource.bind("sync",(function(t){e.$emit("sync",t)})))}},mounted:function(){var e=this;e.$watch("dataSourceRef",(function(t){e.setDataSource(t)})),e.$watch("dataSource",(function(t){e.setDataSource(t)})),e.setInnerDataSource()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={render:function(e){return e("input",{ref:"valueInput",props:{value:this.value}})},model:{event:"changemodel"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{resolveInnerTags:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var l,c=this.$slots.default[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value;if(h.tag&&-1!==h.tag.indexOf(e)){var d=h.componentOptions,f=d.propsData;d.propsData.items||(f.items=h.componentInstance.subitems),t.push(f),this.handleWatcher(h.componentInstance)}}}catch(e){r=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}return t},handleWatcher:function(e){var t=this;e._isWatchAttached||(e.$watch("$props",(function(){t.updateWidget?t.updateWidget():t._resolveInnerChildren&&t._resolveInnerChildren()}),{deep:!0}),e._isWatchAttached=!0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={enable:Boolean,icon:String,imageUrl:String,spriteCssClass:String,click:Function}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(102),l=n(436),c=(r=l)&&r.__esModule?r:{default:r};t.default={props:c.default,render:function(e){return e("ul",this.$slots.default)},mixins:[o.KendoBaseComponent],mounted:function(){kendo.jQuery(this.$el).kendoButtonGroup(this.widgetOptions),this.$emit("kendowidgetready",this.kendoWidget())},methods:{kendoWidget:function(){return kendo.jQuery(this.$el).getKendoButtonGroup()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={enable:Boolean,index:Number,selection:String,select:Function}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(102),o=c(n(438)),l=c(n(150));function c(e){return e&&e.__esModule?e:{default:e}}t.default={props:o.default,render:function(e){return e("div",this.$slots.default)},mixins:[r.KendoBaseComponent],mounted:function(){this._resolveChildren(),kendo.jQuery(this.$el).kendoToolBar(this.widgetOptions),this.$emit("kendowidgetready",this.kendoWidget())},methods:{kendoWidget:function(){return kendo.jQuery(this.$el).getKendoToolBar()},_resolveChildren:function(){this.resolveChildren("items",l.default.name)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={resizable:Boolean,items:Array,click:Function,close:Function,open:Function,toggle:Function,overflowClose:Function,overflowOpen:Function}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{attributes:{type:Object},buttons:{type:Array},click:{type:Function},enable:{default:!0,type:Boolean},group:{type:String},hidden:{type:Boolean},icon:{type:String},id:{type:String},imageUrl:{type:String},menuButtons:{type:Array},overflow:{type:String},overflowTemplate:{type:String|Function},primary:{type:Boolean},selected:{type:Boolean},showIcon:{type:String},showText:{type:String},spriteCssClass:{type:String},template:{type:String|Function},text:{type:String},togglable:{type:Boolean},toggle:{type:Function},type:{type:String},url:{type:String}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(230)),l=f(n(231)),c=f(n(232)),h=f(n(233)),d=f(n(150));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"install",value:function(e){e.component(o.default.name,o.default),e.component(l.default.name,l.default),e.component(c.default.name,c.default),e.component(h.default.name,h.default),e.component(d.default.name,d.default)}}]),e}();t.default=m,"undefined"!=typeof window&&window.Vue&&window.Vue.use(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(102),o=y(n(442)),l=y(n(151)),c=y(n(152)),h=y(n(445)),d=y(n(446)),f=y(n(447)),m=y(n(448)),v=y(n(449)),_=y(n(450)),w=y(n(451));function y(e){return e&&e.__esModule?e:{default:e}}t.default={props:o.default,render:function(e){return e("div",this.$slots.default)},mixins:[r.KendoBaseComponent,r.KendoBaseDatasourceComponent,h.default,d.default,f.default,m.default,v.default,_.default,w.default],mounted:function(){this._resolveChildren(),kendo.jQuery(this.$el).kendoScheduler(this.widgetOptions),this.$emit("kendowidgetready",this.kendoWidget())},methods:{kendoWidget:function(){return kendo.jQuery(this.$el).getKendoScheduler()},_resolveChildren:function(){this.resolveChildren("resources",l.default.name),this.resolveChildren("views",c.default.name)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={allDayEventTemplate:String|Function,allDaySlot:Boolean,autoBind:Boolean,currentTimeMarker:Boolean|Object,dataSource:Object|Array,date:Date,dateHeaderTemplate:String|Function,editable:Boolean|Object,endTime:Date,eventTemplate:String|Function,footer:Boolean|Object,group:Object,groupHeaderTemplate:String|Function,height:Number|String,majorTick:Number,majorTimeHeaderTemplate:String|Function,max:Date,messages:Object,min:Date,minorTickCount:Number,minorTimeHeaderTemplate:String|Function,mobile:Boolean|String,pdf:Object,resources:Array,selectable:Boolean,showWorkHours:Boolean,snap:Boolean,startTime:Date,timezone:String,toolbar:Array,views:Array,width:Number|String,workDayStart:Date,workDayEnd:Date,workWeekStart:Number,workWeekEnd:Number,add:Function,cancel:Function,change:Function,dataBinding:Function,dataBound:Function,edit:Function,moveStart:Function,move:Function,moveEnd:Function,navigate:Function,pdfExport:Function,remove:Function,resizeStart:Function,resize:Function,resizeEnd:Function,save:Function}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{dataColorField:{type:String,kComposite:"dataColorField"},dataSource:{type:Object|Array,kComposite:"dataSource"},dataSourceRef:{type:String,kComposite:"dataSourceRef"},dataTextField:{type:String,kComposite:"dataTextField"},dataValueField:{type:String,kComposite:"dataValueField"},field:{type:String,kComposite:"field"},multiple:{type:Boolean,kComposite:"multiple"},name:{type:String,kComposite:"name"},title:{type:String,kComposite:"title"},valuePrimitive:{type:Boolean,kComposite:"valuePrimitive"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{allDayEventTemplate:{type:String|Function,kComposite:"allDayEventTemplate"},allDaySlot:{type:Boolean,kComposite:"allDaySlot"},allDaySlotTemplate:{type:String|Function,kComposite:"allDaySlotTemplate"},columnWidth:{type:Number,kComposite:"columnWidth"},dateHeaderTemplate:{type:String|Function,kComposite:"dateHeaderTemplate"},dayTemplate:{type:String|Function,kComposite:"dayTemplate"},editable:{type:Boolean,kComposite:"editable"},editableCreate:{type:Boolean,kComposite:"editable.create"},editableDestroy:{type:Boolean,kComposite:"editable.destroy"},editableUpdate:{type:Boolean,kComposite:"editable.update"},endTime:{type:Date,kComposite:"endTime"},eventHeight:{type:Number,kComposite:"eventHeight"},eventTemplate:{type:String|Function,kComposite:"eventTemplate"},eventTimeTemplate:{type:String|Function,kComposite:"eventTimeTemplate"},groupDate:{type:Boolean,kComposite:"group.date"},groupOrientation:{type:String,kComposite:"group.orientation"},majorTick:{type:Number,kComposite:"majorTick"},majorTimeHeaderTemplate:{type:String|Function,kComposite:"majorTimeHeaderTemplate"},minorTickCount:{type:Number,kComposite:"minorTickCount"},minorTimeHeaderTemplate:{type:String|Function,kComposite:"minorTimeHeaderTemplate"},selected:{type:Boolean,kComposite:"selected"},selectedDateFormat:{type:String,kComposite:"selectedDateFormat"},selectedShortDateFormat:{type:String,kComposite:"selectedShortDateFormat"},showWorkHours:{type:Boolean,kComposite:"showWorkHours"},slotTemplate:{type:String|Function,kComposite:"slotTemplate"},startTime:{type:Date,kComposite:"startTime"},title:{type:String,kComposite:"title"},type:{type:String,kComposite:"type"},workWeekStart:{type:Number,kComposite:"workWeekStart"},workWeekEnd:{type:Number,kComposite:"workWeekEnd"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{currentTimeMarkerUpdateInterval:{type:Number,kComposite:"currentTimeMarker.updateInterval"},currentTimeMarkerUseLocalTimezone:{type:Boolean,kComposite:"currentTimeMarker.useLocalTimezone"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{editableConfirmation:{type:Boolean|String,kComposite:"editable.confirmation"},editableCreate:{type:Boolean,kComposite:"editable.create"},editableDestroy:{type:Boolean,kComposite:"editable.destroy"},editableEditRecurringMode:{type:String,kComposite:"editable.editRecurringMode"},editableMove:{type:Boolean,kComposite:"editable.move"},editableResize:{type:Boolean,kComposite:"editable.resize"},editableTemplate:{type:String|Function,kComposite:"editable.template"},editableUpdate:{type:Boolean,kComposite:"editable.update"},editableWindow:{type:Object,kComposite:"editable.window"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{footerCommand:{type:String|Boolean,kComposite:"footer.command"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{groupDate:{type:Boolean,kComposite:"group.date"},groupResources:{type:Array,kComposite:"group.resources"},groupOrientation:{type:String,kComposite:"group.orientation"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{messagesAllDay:{type:String,kComposite:"messages.allDay"},messagesAriaEventLabel:{type:String,kComposite:"messages.ariaEventLabel"},messagesAriaSlotLabel:{type:String,kComposite:"messages.ariaSlotLabel"},messagesCancel:{type:String,kComposite:"messages.cancel"},messagesDate:{type:String,kComposite:"messages.date"},messagesDeleteWindowTitle:{type:String,kComposite:"messages.deleteWindowTitle"},messagesDestroy:{type:String,kComposite:"messages.destroy"},messagesEvent:{type:String,kComposite:"messages.event"},messagesDefaultRowText:{type:String,kComposite:"messages.defaultRowText"},messagesNext:{type:String,kComposite:"messages.next"},messagesPdf:{type:String,kComposite:"messages.pdf"},messagesPrevious:{type:String,kComposite:"messages.previous"},messagesSave:{type:String,kComposite:"messages.save"},messagesShowFullDay:{type:String,kComposite:"messages.showFullDay"},messagesShowWorkDay:{type:String,kComposite:"messages.showWorkDay"},messagesTime:{type:String,kComposite:"messages.time"},messagesToday:{type:String,kComposite:"messages.today"},messagesEditableConfirmation:{type:String,kComposite:"messages.editable.confirmation"},messagesEditorAllDayEvent:{type:String,kComposite:"messages.editor.allDayEvent"},messagesEditorDescription:{type:String,kComposite:"messages.editor.description"},messagesEditorEditorTitle:{type:String,kComposite:"messages.editor.editorTitle"},messagesEditorEnd:{type:String,kComposite:"messages.editor.end"},messagesEditorEndTimezone:{type:String,kComposite:"messages.editor.endTimezone"},messagesEditorRepeat:{type:String,kComposite:"messages.editor.repeat"},messagesEditorSeparateTimezones:{type:String,kComposite:"messages.editor.separateTimezones"},messagesEditorStart:{type:String,kComposite:"messages.editor.start"},messagesEditorStartTimezone:{type:String,kComposite:"messages.editor.startTimezone"},messagesEditorTimezone:{type:String,kComposite:"messages.editor.timezone"},messagesEditorTimezoneEditorButton:{type:String,kComposite:"messages.editor.timezoneEditorButton"},messagesEditorTimezoneEditorTitle:{type:String,kComposite:"messages.editor.timezoneEditorTitle"},messagesEditorTitle:{type:String,kComposite:"messages.editor.title"},messagesRecurrenceEditorDailyInterval:{type:String,kComposite:"messages.recurrenceEditor.daily.interval"},messagesRecurrenceEditorDailyRepeatEvery:{type:String,kComposite:"messages.recurrenceEditor.daily.repeatEvery"},messagesRecurrenceEditorEndAfter:{type:String,kComposite:"messages.recurrenceEditor.end.after"},messagesRecurrenceEditorEndOccurrence:{type:String,kComposite:"messages.recurrenceEditor.end.occurrence"},messagesRecurrenceEditorEndLabel:{type:String,kComposite:"messages.recurrenceEditor.end.label"},messagesRecurrenceEditorEndNever:{type:String,kComposite:"messages.recurrenceEditor.end.never"},messagesRecurrenceEditorEndMobileLabel:{type:String,kComposite:"messages.recurrenceEditor.end.mobileLabel"},messagesRecurrenceEditorEndOn:{type:String,kComposite:"messages.recurrenceEditor.end.on"},messagesRecurrenceEditorFrequenciesDaily:{type:String,kComposite:"messages.recurrenceEditor.frequencies.daily"},messagesRecurrenceEditorFrequenciesMonthly:{type:String,kComposite:"messages.recurrenceEditor.frequencies.monthly"},messagesRecurrenceEditorFrequenciesNever:{type:String,kComposite:"messages.recurrenceEditor.frequencies.never"},messagesRecurrenceEditorFrequenciesWeekly:{type:String,kComposite:"messages.recurrenceEditor.frequencies.weekly"},messagesRecurrenceEditorFrequenciesYearly:{type:String,kComposite:"messages.recurrenceEditor.frequencies.yearly"},messagesRecurrenceEditorMonthlyDay:{type:String,kComposite:"messages.recurrenceEditor.monthly.day"},messagesRecurrenceEditorMonthlyInterval:{type:String,kComposite:"messages.recurrenceEditor.monthly.interval"},messagesRecurrenceEditorMonthlyRepeatEvery:{type:String,kComposite:"messages.recurrenceEditor.monthly.repeatEvery"},messagesRecurrenceEditorMonthlyRepeatOn:{type:String,kComposite:"messages.recurrenceEditor.monthly.repeatOn"},messagesRecurrenceEditorOffsetPositionsFirst:{type:String,kComposite:"messages.recurrenceEditor.offsetPositions.first"},messagesRecurrenceEditorOffsetPositionsSecond:{type:String,kComposite:"messages.recurrenceEditor.offsetPositions.second"},messagesRecurrenceEditorOffsetPositionsThird:{type:String,kComposite:"messages.recurrenceEditor.offsetPositions.third"},messagesRecurrenceEditorOffsetPositionsFourth:{type:String,kComposite:"messages.recurrenceEditor.offsetPositions.fourth"},messagesRecurrenceEditorOffsetPositionsLast:{type:String,kComposite:"messages.recurrenceEditor.offsetPositions.last"},messagesRecurrenceEditorRecurrenceEditorTitle:{type:String,kComposite:"messages.recurrenceEditor.recurrenceEditorTitle"},messagesRecurrenceEditorWeeklyInterval:{type:String,kComposite:"messages.recurrenceEditor.weekly.interval"},messagesRecurrenceEditorWeeklyRepeatEvery:{type:String,kComposite:"messages.recurrenceEditor.weekly.repeatEvery"},messagesRecurrenceEditorWeeklyRepeatOn:{type:String,kComposite:"messages.recurrenceEditor.weekly.repeatOn"},messagesRecurrenceEditorWeekdaysDay:{type:String,kComposite:"messages.recurrenceEditor.weekdays.day"},messagesRecurrenceEditorWeekdaysWeekday:{type:String,kComposite:"messages.recurrenceEditor.weekdays.weekday"},messagesRecurrenceEditorWeekdaysWeekend:{type:String,kComposite:"messages.recurrenceEditor.weekdays.weekend"},messagesRecurrenceEditorYearlyOf:{type:String,kComposite:"messages.recurrenceEditor.yearly.of"},messagesRecurrenceEditorYearlyRepeatEvery:{type:String,kComposite:"messages.recurrenceEditor.yearly.repeatEvery"},messagesRecurrenceEditorYearlyRepeatOn:{type:String,kComposite:"messages.recurrenceEditor.yearly.repeatOn"},messagesRecurrenceEditorYearlyInterval:{type:String,kComposite:"messages.recurrenceEditor.yearly.interval"},messagesRecurrenceMessagesDeleteRecurring:{type:String,kComposite:"messages.recurrenceMessages.deleteRecurring"},messagesRecurrenceMessagesDeleteWindowOccurrence:{type:String,kComposite:"messages.recurrenceMessages.deleteWindowOccurrence"},messagesRecurrenceMessagesDeleteWindowSeries:{type:String,kComposite:"messages.recurrenceMessages.deleteWindowSeries"},messagesRecurrenceMessagesDeleteWindowTitle:{type:String,kComposite:"messages.recurrenceMessages.deleteWindowTitle"},messagesRecurrenceMessagesEditRecurring:{type:String,kComposite:"messages.recurrenceMessages.editRecurring"},messagesRecurrenceMessagesEditWindowOccurrence:{type:String,kComposite:"messages.recurrenceMessages.editWindowOccurrence"},messagesRecurrenceMessagesEditWindowSeries:{type:String,kComposite:"messages.recurrenceMessages.editWindowSeries"},messagesRecurrenceMessagesEditWindowTitle:{type:String,kComposite:"messages.recurrenceMessages.editWindowTitle"},messagesViewsDay:{type:String,kComposite:"messages.views.day"},messagesViewsWeek:{type:String,kComposite:"messages.views.week"},messagesViewsMonth:{type:String,kComposite:"messages.views.month"},messagesViewsAgenda:{type:String,kComposite:"messages.views.agenda"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{pdfAuthor:{type:String,kComposite:"pdf.author"},pdfAvoidLinks:{type:Boolean|String,kComposite:"pdf.avoidLinks"},pdfCreator:{type:String,kComposite:"pdf.creator"},pdfDate:{type:Date,kComposite:"pdf.date"},pdfFileName:{type:String,kComposite:"pdf.fileName"},pdfForceProxy:{type:Boolean,kComposite:"pdf.forceProxy"},pdfKeywords:{type:String,kComposite:"pdf.keywords"},pdfLandscape:{type:Boolean,kComposite:"pdf.landscape"},pdfMarginBottom:{type:Number|String,kComposite:"pdf.margin.bottom"},pdfMarginLeft:{type:Number|String,kComposite:"pdf.margin.left"},pdfMarginRight:{type:Number|String,kComposite:"pdf.margin.right"},pdfMarginTop:{type:Number|String,kComposite:"pdf.margin.top"},pdfPaperSize:{type:String|Array,kComposite:"pdf.paperSize"},pdfProxyURL:{type:String,kComposite:"pdf.proxyURL"},pdfProxyTarget:{type:String,kComposite:"pdf.proxyTarget"},pdfSubject:{type:String,kComposite:"pdf.subject"},pdfTitle:{type:String,kComposite:"pdf.title"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{toolbarToolbarItemName:{type:String,kComposite:"toolbar.toolbarItem.name"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(234)),l=h(n(151)),c=h(n(152));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"install",value:function(e){e.component(o.default.name,o.default),e.component(l.default.name,l.default),e.component(c.default.name,c.default)}}]),e}();t.default=d,"undefined"!=typeof window&&window.Vue&&window.Vue.use(d)}]]);